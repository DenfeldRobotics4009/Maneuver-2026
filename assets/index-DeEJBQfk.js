var Nie=Object.defineProperty;var kie=(e,t,n)=>t in e?Nie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pn=(e,t,n)=>kie(e,typeof t!="symbol"?t+"":t,n);function e_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var JO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oz={exports:{}},MS={},Lz={exports:{}},tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny=Symbol.for("react.element"),Aie=Symbol.for("react.portal"),Pie=Symbol.for("react.fragment"),Eie=Symbol.for("react.strict_mode"),Tie=Symbol.for("react.profiler"),_ie=Symbol.for("react.provider"),Die=Symbol.for("react.context"),Rie=Symbol.for("react.forward_ref"),Mie=Symbol.for("react.suspense"),Iie=Symbol.for("react.memo"),Oie=Symbol.for("react.lazy"),XO=Symbol.iterator;function Lie(e){return e===null||typeof e!="object"?null:(e=XO&&e[XO]||e["@@iterator"],typeof e=="function"?e:null)}var $z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fz=Object.assign,Bz={};function Im(e,t,n){this.props=e,this.context=t,this.refs=Bz,this.updater=n||$z}Im.prototype.isReactComponent={};Im.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Im.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vz(){}Vz.prototype=Im.prototype;function t_(e,t,n){this.props=e,this.context=t,this.refs=Bz,this.updater=n||$z}var n_=t_.prototype=new Vz;n_.constructor=t_;Fz(n_,Im.prototype);n_.isPureReactComponent=!0;var eL=Array.isArray,zz=Object.prototype.hasOwnProperty,r_={current:null},Uz={key:!0,ref:!0,__self:!0,__source:!0};function Kz(e,t,n){var r,a={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)zz.call(t,r)&&!Uz.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Ny,type:e,key:s,ref:o,props:a,_owner:r_.current}}function $ie(e,t){return{$$typeof:Ny,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function a_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ny}function Fie(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tL=/\/+/g;function _N(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fie(""+e.key):t.toString(36)}function Sb(e,t,n,r,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ny:case Aie:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+_N(o,0):r,eL(a)?(n="",e!=null&&(n=e.replace(tL,"$&/")+"/"),Sb(a,t,n,"",function(u){return u})):a!=null&&(a_(a)&&(a=$ie(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(tL,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",eL(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+_N(s,l);o+=Sb(s,t,n,c,a)}else if(c=Lie(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+_N(s,l++),o+=Sb(s,t,n,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function o0(e,t,n){if(e==null)return e;var r=[],a=0;return Sb(e,r,"","",function(s){return t.call(n,s,a++)}),r}function Bie(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qa={current:null},Cb={transition:null},Vie={ReactCurrentDispatcher:Qa,ReactCurrentBatchConfig:Cb,ReactCurrentOwner:r_};function Gz(){throw Error("act(...) is not supported in production builds of React.")}tn.Children={map:o0,forEach:function(e,t,n){o0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return o0(e,function(){t++}),t},toArray:function(e){return o0(e,function(t){return t})||[]},only:function(e){if(!a_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tn.Component=Im;tn.Fragment=Pie;tn.Profiler=Tie;tn.PureComponent=t_;tn.StrictMode=Eie;tn.Suspense=Mie;tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vie;tn.act=Gz;tn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fz({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=r_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zz.call(t,c)&&!Uz.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ny,type:e.type,key:a,ref:s,props:r,_owner:o}};tn.createContext=function(e){return e={$$typeof:Die,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_ie,_context:e},e.Consumer=e};tn.createElement=Kz;tn.createFactory=function(e){var t=Kz.bind(null,e);return t.type=e,t};tn.createRef=function(){return{current:null}};tn.forwardRef=function(e){return{$$typeof:Rie,render:e}};tn.isValidElement=a_;tn.lazy=function(e){return{$$typeof:Oie,_payload:{_status:-1,_result:e},_init:Bie}};tn.memo=function(e,t){return{$$typeof:Iie,type:e,compare:t===void 0?null:t}};tn.startTransition=function(e){var t=Cb.transition;Cb.transition={};try{e()}finally{Cb.transition=t}};tn.unstable_act=Gz;tn.useCallback=function(e,t){return Qa.current.useCallback(e,t)};tn.useContext=function(e){return Qa.current.useContext(e)};tn.useDebugValue=function(){};tn.useDeferredValue=function(e){return Qa.current.useDeferredValue(e)};tn.useEffect=function(e,t){return Qa.current.useEffect(e,t)};tn.useId=function(){return Qa.current.useId()};tn.useImperativeHandle=function(e,t,n){return Qa.current.useImperativeHandle(e,t,n)};tn.useInsertionEffect=function(e,t){return Qa.current.useInsertionEffect(e,t)};tn.useLayoutEffect=function(e,t){return Qa.current.useLayoutEffect(e,t)};tn.useMemo=function(e,t){return Qa.current.useMemo(e,t)};tn.useReducer=function(e,t,n){return Qa.current.useReducer(e,t,n)};tn.useRef=function(e){return Qa.current.useRef(e)};tn.useState=function(e){return Qa.current.useState(e)};tn.useSyncExternalStore=function(e,t,n){return Qa.current.useSyncExternalStore(e,t,n)};tn.useTransition=function(){return Qa.current.useTransition()};tn.version="18.3.1";Lz.exports=tn;var p=Lz.exports;const qe=xi(p),ky=e_({__proto__:null,default:qe},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zie=p,Uie=Symbol.for("react.element"),Kie=Symbol.for("react.fragment"),Gie=Object.prototype.hasOwnProperty,Wie=zie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qie={key:!0,ref:!0,__self:!0,__source:!0};function Wz(e,t,n){var r,a={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Gie.call(t,r)&&!qie.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Uie,type:e,key:s,ref:o,props:a,_owner:Wie.current}}MS.Fragment=Kie;MS.jsx=Wz;MS.jsxs=Wz;Oz.exports=MS;var i=Oz.exports,qz={exports:{}},Ws={},Hz={exports:{}},Yz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,F){var W=M.length;M.push(F);e:for(;0<W;){var Z=W-1>>>1,H=M[Z];if(0<a(H,F))M[Z]=F,M[W]=H,W=Z;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],W=M.pop();if(W!==F){M[0]=W;e:for(var Z=0,H=M.length,ae=H>>>1;Z<ae;){var fe=2*(Z+1)-1,we=M[fe],Pe=fe+1,me=M[Pe];if(0>a(we,W))Pe<H&&0>a(me,we)?(M[Z]=me,M[Pe]=W,Z=Pe):(M[Z]=we,M[fe]=W,Z=fe);else if(Pe<H&&0>a(me,W))M[Z]=me,M[Pe]=W,Z=Pe;else break e}}return F}function a(M,F){var W=M.sortIndex-F.sortIndex;return W!==0?W:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=M)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function S(M){if(v=!1,w(M),!g)if(n(c)!==null)g=!0,$(j);else{var F=n(u);F!==null&&U(S,F.startTime-M)}}function j(M,F){g=!1,v&&(v=!1,y(P),P=-1),m=!0;var W=h;try{for(w(F),f=n(c);f!==null&&(!(f.expirationTime>F)||M&&!O());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var H=Z(f.expirationTime<=F);F=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),w(F)}else r(c);f=n(c)}if(f!==null)var ae=!0;else{var fe=n(u);fe!==null&&U(S,fe.startTime-F),ae=!1}return ae}finally{f=null,h=W,m=!1}}var k=!1,N=null,P=-1,E=5,R=-1;function O(){return!(e.unstable_now()-R<E)}function G(){if(N!==null){var M=e.unstable_now();R=M;var F=!0;try{F=N(!0,M)}finally{F?te():(k=!1,N=null)}}else k=!1}var te;if(typeof x=="function")te=function(){x(G)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=G,te=function(){z.postMessage(null)}}else te=function(){b(G,0)};function $(M){N=M,k||(k=!0,te())}function U(M,F){P=b(function(){M(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,$(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var W=h;h=F;try{return M()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=h;h=M;try{return F()}finally{h=W}},e.unstable_scheduleCallback=function(M,F,W){var Z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,M){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,M={id:d++,callback:F,priorityLevel:M,startTime:W,expirationTime:H,sortIndex:-1},W>Z?(M.sortIndex=W,t(u,M),n(c)===null&&M===n(u)&&(v?(y(P),P=-1):v=!0,U(S,W-Z))):(M.sortIndex=H,t(c,M),g||m||(g=!0,$(j))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var F=h;return function(){var W=h;h=F;try{return M.apply(this,arguments)}finally{h=W}}}})(Yz);Hz.exports=Yz;var Hie=Hz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yie=p,Bs=Hie;function et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qz=new Set,fv={};function ef(e,t){Yh(e,t),Yh(e+"Capture",t)}function Yh(e,t){for(fv[e]=t,e=0;e<t.length;e++)Qz.add(t[e])}var Cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eP=Object.prototype.hasOwnProperty,Qie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nL={},rL={};function Zie(e){return eP.call(rL,e)?!0:eP.call(nL,e)?!1:Qie.test(e)?rL[e]=!0:(nL[e]=!0,!1)}function Jie(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xie(e,t,n,r){if(t===null||typeof t>"u"||Jie(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Za(e,t,n,r,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Sa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sa[e]=new Za(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sa[t]=new Za(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sa[e]=new Za(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sa[e]=new Za(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sa[e]=new Za(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sa[e]=new Za(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sa[e]=new Za(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sa[e]=new Za(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sa[e]=new Za(e,5,!1,e.toLowerCase(),null,!1,!1)});var s_=/[\-:]([a-z])/g;function i_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(s_,i_);Sa[t]=new Za(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(s_,i_);Sa[t]=new Za(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(s_,i_);Sa[t]=new Za(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sa[e]=new Za(e,1,!1,e.toLowerCase(),null,!1,!1)});Sa.xlinkHref=new Za("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sa[e]=new Za(e,1,!1,e.toLowerCase(),null,!0,!0)});function o_(e,t,n,r){var a=Sa.hasOwnProperty(t)?Sa[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xie(t,n,a,r)&&(n=null),r||a===null?Zie(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zl=Yie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l0=Symbol.for("react.element"),nh=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),tP=Symbol.for("react.profiler"),Zz=Symbol.for("react.provider"),Jz=Symbol.for("react.context"),c_=Symbol.for("react.forward_ref"),nP=Symbol.for("react.suspense"),rP=Symbol.for("react.suspense_list"),u_=Symbol.for("react.memo"),hc=Symbol.for("react.lazy"),Xz=Symbol.for("react.offscreen"),aL=Symbol.iterator;function Lp(e){return e===null||typeof e!="object"?null:(e=aL&&e[aL]||e["@@iterator"],typeof e=="function"?e:null)}var ir=Object.assign,DN;function mg(e){if(DN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);DN=t&&t[1]||""}return`
`+DN+e}var RN=!1;function MN(e,t){if(!e||RN)return"";RN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=r.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{RN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mg(e):""}function eoe(e){switch(e.tag){case 5:return mg(e.type);case 16:return mg("Lazy");case 13:return mg("Suspense");case 19:return mg("SuspenseList");case 0:case 2:case 15:return e=MN(e.type,!1),e;case 11:return e=MN(e.type.render,!1),e;case 1:return e=MN(e.type,!0),e;default:return""}}function aP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rh:return"Fragment";case nh:return"Portal";case tP:return"Profiler";case l_:return"StrictMode";case nP:return"Suspense";case rP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jz:return(e.displayName||"Context")+".Consumer";case Zz:return(e._context.displayName||"Context")+".Provider";case c_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case u_:return t=e.displayName||null,t!==null?t:aP(e.type)||"Memo";case hc:t=e._payload,e=e._init;try{return aP(e(t))}catch{}}return null}function toe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aP(t);case 8:return t===l_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function noe(e){var t=eU(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function c0(e){e._valueTracker||(e._valueTracker=noe(e))}function tU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eU(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sP(e,t){var n=t.checked;return ir({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sL(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Uc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nU(e,t){t=t.checked,t!=null&&o_(e,"checked",t,!1)}function iP(e,t){nU(e,t);var n=Uc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oP(e,t.type,n):t.hasOwnProperty("defaultValue")&&oP(e,t.type,Uc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iL(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function oP(e,t,n){(t!=="number"||dw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pg=Array.isArray;function _h(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Uc(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function lP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(et(91));return ir({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oL(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(et(92));if(pg(n)){if(1<n.length)throw Error(et(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uc(n)}}function rU(e,t){var n=Uc(t.value),r=Uc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aU(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aU(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var u0,sU=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(u0=u0||document.createElement("div"),u0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=u0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},roe=["Webkit","ms","Moz","O"];Object.keys(Fg).forEach(function(e){roe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fg[t]=Fg[e]})});function iU(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fg.hasOwnProperty(e)&&Fg[e]?(""+t).trim():t+"px"}function oU(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=iU(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var aoe=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uP(e,t){if(t){if(aoe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(et(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(et(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(et(61))}if(t.style!=null&&typeof t.style!="object")throw Error(et(62))}}function dP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fP=null;function d_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hP=null,Dh=null,Rh=null;function cL(e){if(e=Ey(e)){if(typeof hP!="function")throw Error(et(280));var t=e.stateNode;t&&(t=FS(t),hP(e.stateNode,e.type,t))}}function lU(e){Dh?Rh?Rh.push(e):Rh=[e]:Dh=e}function cU(){if(Dh){var e=Dh,t=Rh;if(Rh=Dh=null,cL(e),t)for(e=0;e<t.length;e++)cL(t[e])}}function uU(e,t){return e(t)}function dU(){}var IN=!1;function fU(e,t,n){if(IN)return e(t,n);IN=!0;try{return uU(e,t,n)}finally{IN=!1,(Dh!==null||Rh!==null)&&(dU(),cU())}}function mv(e,t){var n=e.stateNode;if(n===null)return null;var r=FS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(et(231,t,typeof n));return n}var mP=!1;if(Cl)try{var $p={};Object.defineProperty($p,"passive",{get:function(){mP=!0}}),window.addEventListener("test",$p,$p),window.removeEventListener("test",$p,$p)}catch{mP=!1}function soe(e,t,n,r,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Bg=!1,fw=null,hw=!1,pP=null,ioe={onError:function(e){Bg=!0,fw=e}};function ooe(e,t,n,r,a,s,o,l,c){Bg=!1,fw=null,soe.apply(ioe,arguments)}function loe(e,t,n,r,a,s,o,l,c){if(ooe.apply(this,arguments),Bg){if(Bg){var u=fw;Bg=!1,fw=null}else throw Error(et(198));hw||(hw=!0,pP=u)}}function tf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uL(e){if(tf(e)!==e)throw Error(et(188))}function coe(e){var t=e.alternate;if(!t){if(t=tf(e),t===null)throw Error(et(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return uL(a),e;if(s===r)return uL(a),t;s=s.sibling}throw Error(et(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?e:t}function mU(e){return e=coe(e),e!==null?pU(e):null}function pU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pU(e);if(t!==null)return t;e=e.sibling}return null}var gU=Bs.unstable_scheduleCallback,dL=Bs.unstable_cancelCallback,uoe=Bs.unstable_shouldYield,doe=Bs.unstable_requestPaint,Sr=Bs.unstable_now,foe=Bs.unstable_getCurrentPriorityLevel,f_=Bs.unstable_ImmediatePriority,vU=Bs.unstable_UserBlockingPriority,mw=Bs.unstable_NormalPriority,hoe=Bs.unstable_LowPriority,yU=Bs.unstable_IdlePriority,IS=null,Co=null;function moe(e){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(IS,e,void 0,(e.current.flags&128)===128)}catch{}}var zi=Math.clz32?Math.clz32:voe,poe=Math.log,goe=Math.LN2;function voe(e){return e>>>=0,e===0?32:31-(poe(e)/goe|0)|0}var d0=64,f0=4194304;function gg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=gg(l):(s&=o,s!==0&&(r=gg(s)))}else o=n&~a,o!==0?r=gg(o):s!==0&&(r=gg(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zi(t),a=1<<n,r|=e[n],t&=~a;return r}function yoe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xoe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-zi(s),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=yoe(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function gP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xU(){var e=d0;return d0<<=1,!(d0&4194240)&&(d0=64),e}function ON(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ay(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zi(t),e[t]=n}function boe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-zi(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}function h_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zi(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var wn=0;function bU(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wU,m_,SU,CU,jU,vP=!1,h0=[],Pc=null,Ec=null,Tc=null,pv=new Map,gv=new Map,vc=[],woe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fL(e,t){switch(e){case"focusin":case"focusout":Pc=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Tc=null;break;case"pointerover":case"pointerout":pv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gv.delete(t.pointerId)}}function Fp(e,t,n,r,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Ey(t),t!==null&&m_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Soe(e,t,n,r,a){switch(t){case"focusin":return Pc=Fp(Pc,e,t,n,r,a),!0;case"dragenter":return Ec=Fp(Ec,e,t,n,r,a),!0;case"mouseover":return Tc=Fp(Tc,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return pv.set(s,Fp(pv.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,gv.set(s,Fp(gv.get(s)||null,e,t,n,r,a)),!0}return!1}function NU(e){var t=Uu(e.target);if(t!==null){var n=tf(t);if(n!==null){if(t=n.tag,t===13){if(t=hU(n),t!==null){e.blockedOn=t,jU(e.priority,function(){SU(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fP=r,n.target.dispatchEvent(r),fP=null}else return t=Ey(n),t!==null&&m_(t),e.blockedOn=n,!1;t.shift()}return!0}function hL(e,t,n){jb(e)&&n.delete(t)}function Coe(){vP=!1,Pc!==null&&jb(Pc)&&(Pc=null),Ec!==null&&jb(Ec)&&(Ec=null),Tc!==null&&jb(Tc)&&(Tc=null),pv.forEach(hL),gv.forEach(hL)}function Bp(e,t){e.blockedOn===t&&(e.blockedOn=null,vP||(vP=!0,Bs.unstable_scheduleCallback(Bs.unstable_NormalPriority,Coe)))}function vv(e){function t(a){return Bp(a,e)}if(0<h0.length){Bp(h0[0],e);for(var n=1;n<h0.length;n++){var r=h0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pc!==null&&Bp(Pc,e),Ec!==null&&Bp(Ec,e),Tc!==null&&Bp(Tc,e),pv.forEach(t),gv.forEach(t),n=0;n<vc.length;n++)r=vc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vc.length&&(n=vc[0],n.blockedOn===null);)NU(n),n.blockedOn===null&&vc.shift()}var Mh=zl.ReactCurrentBatchConfig,gw=!0;function joe(e,t,n,r){var a=wn,s=Mh.transition;Mh.transition=null;try{wn=1,p_(e,t,n,r)}finally{wn=a,Mh.transition=s}}function Noe(e,t,n,r){var a=wn,s=Mh.transition;Mh.transition=null;try{wn=4,p_(e,t,n,r)}finally{wn=a,Mh.transition=s}}function p_(e,t,n,r){if(gw){var a=yP(e,t,n,r);if(a===null)WN(e,t,r,vw,n),fL(e,r);else if(Soe(a,e,t,n,r))r.stopPropagation();else if(fL(e,r),t&4&&-1<woe.indexOf(e)){for(;a!==null;){var s=Ey(a);if(s!==null&&wU(s),s=yP(e,t,n,r),s===null&&WN(e,t,r,vw,n),s===a)break;a=s}a!==null&&r.stopPropagation()}else WN(e,t,r,null,n)}}var vw=null;function yP(e,t,n,r){if(vw=null,e=d_(r),e=Uu(e),e!==null)if(t=tf(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hU(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vw=e,null}function kU(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(foe()){case f_:return 1;case vU:return 4;case mw:case hoe:return 16;case yU:return 536870912;default:return 16}default:return 16}}var wc=null,g_=null,Nb=null;function AU(){if(Nb)return Nb;var e,t=g_,n=t.length,r,a="value"in wc?wc.value:wc.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[s-r];r++);return Nb=a.slice(e,1<r?1-r:void 0)}function kb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function m0(){return!0}function mL(){return!1}function qs(e){function t(n,r,a,s,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?m0:mL,this.isPropagationStopped=mL,this}return ir(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=m0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=m0)},persist:function(){},isPersistent:m0}),t}var Om={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v_=qs(Om),Py=ir({},Om,{view:0,detail:0}),koe=qs(Py),LN,$N,Vp,OS=ir({},Py,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vp&&(Vp&&e.type==="mousemove"?(LN=e.screenX-Vp.screenX,$N=e.screenY-Vp.screenY):$N=LN=0,Vp=e),LN)},movementY:function(e){return"movementY"in e?e.movementY:$N}}),pL=qs(OS),Aoe=ir({},OS,{dataTransfer:0}),Poe=qs(Aoe),Eoe=ir({},Py,{relatedTarget:0}),FN=qs(Eoe),Toe=ir({},Om,{animationName:0,elapsedTime:0,pseudoElement:0}),_oe=qs(Toe),Doe=ir({},Om,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Roe=qs(Doe),Moe=ir({},Om,{data:0}),gL=qs(Moe),Ioe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ooe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Loe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $oe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Loe[e])?!!t[e]:!1}function y_(){return $oe}var Foe=ir({},Py,{key:function(e){if(e.key){var t=Ioe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ooe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y_,charCode:function(e){return e.type==="keypress"?kb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Boe=qs(Foe),Voe=ir({},OS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vL=qs(Voe),zoe=ir({},Py,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y_}),Uoe=qs(zoe),Koe=ir({},Om,{propertyName:0,elapsedTime:0,pseudoElement:0}),Goe=qs(Koe),Woe=ir({},OS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qoe=qs(Woe),Hoe=[9,13,27,32],x_=Cl&&"CompositionEvent"in window,Vg=null;Cl&&"documentMode"in document&&(Vg=document.documentMode);var Yoe=Cl&&"TextEvent"in window&&!Vg,PU=Cl&&(!x_||Vg&&8<Vg&&11>=Vg),yL=" ",xL=!1;function EU(e,t){switch(e){case"keyup":return Hoe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TU(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ah=!1;function Qoe(e,t){switch(e){case"compositionend":return TU(t);case"keypress":return t.which!==32?null:(xL=!0,yL);case"textInput":return e=t.data,e===yL&&xL?null:e;default:return null}}function Zoe(e,t){if(ah)return e==="compositionend"||!x_&&EU(e,t)?(e=AU(),Nb=g_=wc=null,ah=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return PU&&t.locale!=="ko"?null:t.data;default:return null}}var Joe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Joe[e.type]:t==="textarea"}function _U(e,t,n,r){lU(r),t=yw(t,"onChange"),0<t.length&&(n=new v_("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zg=null,yv=null;function Xoe(e){zU(e,0)}function LS(e){var t=oh(e);if(tU(t))return e}function ele(e,t){if(e==="change")return t}var DU=!1;if(Cl){var BN;if(Cl){var VN="oninput"in document;if(!VN){var wL=document.createElement("div");wL.setAttribute("oninput","return;"),VN=typeof wL.oninput=="function"}BN=VN}else BN=!1;DU=BN&&(!document.documentMode||9<document.documentMode)}function SL(){zg&&(zg.detachEvent("onpropertychange",RU),yv=zg=null)}function RU(e){if(e.propertyName==="value"&&LS(yv)){var t=[];_U(t,yv,e,d_(e)),fU(Xoe,t)}}function tle(e,t,n){e==="focusin"?(SL(),zg=t,yv=n,zg.attachEvent("onpropertychange",RU)):e==="focusout"&&SL()}function nle(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return LS(yv)}function rle(e,t){if(e==="click")return LS(t)}function ale(e,t){if(e==="input"||e==="change")return LS(t)}function sle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wi=typeof Object.is=="function"?Object.is:sle;function xv(e,t){if(Wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!eP.call(t,a)||!Wi(e[a],t[a]))return!1}return!0}function CL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jL(e,t){var n=CL(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CL(n)}}function MU(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?MU(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function IU(){for(var e=window,t=dw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dw(e.document)}return t}function b_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ile(e){var t=IU(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&MU(n.ownerDocument.documentElement,n)){if(r!==null&&b_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=r.end===void 0?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=jL(n,s);var o=jL(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ole=Cl&&"documentMode"in document&&11>=document.documentMode,sh=null,xP=null,Ug=null,bP=!1;function NL(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bP||sh==null||sh!==dw(r)||(r=sh,"selectionStart"in r&&b_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ug&&xv(Ug,r)||(Ug=r,r=yw(xP,"onSelect"),0<r.length&&(t=new v_("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sh)))}function p0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ih={animationend:p0("Animation","AnimationEnd"),animationiteration:p0("Animation","AnimationIteration"),animationstart:p0("Animation","AnimationStart"),transitionend:p0("Transition","TransitionEnd")},zN={},OU={};Cl&&(OU=document.createElement("div").style,"AnimationEvent"in window||(delete ih.animationend.animation,delete ih.animationiteration.animation,delete ih.animationstart.animation),"TransitionEvent"in window||delete ih.transitionend.transition);function $S(e){if(zN[e])return zN[e];if(!ih[e])return e;var t=ih[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in OU)return zN[e]=t[n];return e}var LU=$S("animationend"),$U=$S("animationiteration"),FU=$S("animationstart"),BU=$S("transitionend"),VU=new Map,kL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function au(e,t){VU.set(e,t),ef(t,[e])}for(var UN=0;UN<kL.length;UN++){var KN=kL[UN],lle=KN.toLowerCase(),cle=KN[0].toUpperCase()+KN.slice(1);au(lle,"on"+cle)}au(LU,"onAnimationEnd");au($U,"onAnimationIteration");au(FU,"onAnimationStart");au("dblclick","onDoubleClick");au("focusin","onFocus");au("focusout","onBlur");au(BU,"onTransitionEnd");Yh("onMouseEnter",["mouseout","mouseover"]);Yh("onMouseLeave",["mouseout","mouseover"]);Yh("onPointerEnter",["pointerout","pointerover"]);Yh("onPointerLeave",["pointerout","pointerover"]);ef("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ef("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ef("onBeforeInput",["compositionend","keypress","textInput","paste"]);ef("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ef("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ef("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ule=new Set("cancel close invalid load scroll toggle".split(" ").concat(vg));function AL(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,loe(r,t,void 0,e),e.currentTarget=null}function zU(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;AL(a,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;AL(a,l,u),s=c}}}if(hw)throw e=pP,hw=!1,pP=null,e}function Fn(e,t){var n=t[NP];n===void 0&&(n=t[NP]=new Set);var r=e+"__bubble";n.has(r)||(UU(t,e,2,!1),n.add(r))}function GN(e,t,n){var r=0;t&&(r|=4),UU(n,e,r,t)}var g0="_reactListening"+Math.random().toString(36).slice(2);function bv(e){if(!e[g0]){e[g0]=!0,Qz.forEach(function(n){n!=="selectionchange"&&(ule.has(n)||GN(n,!1,e),GN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[g0]||(t[g0]=!0,GN("selectionchange",!1,t))}}function UU(e,t,n,r){switch(kU(t)){case 1:var a=joe;break;case 4:a=Noe;break;default:a=p_}n=a.bind(null,t,n,e),a=void 0,!mP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function WN(e,t,n,r,a){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Uu(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}fU(function(){var u=s,d=d_(n),f=[];e:{var h=VU.get(e);if(h!==void 0){var m=v_,g=e;switch(e){case"keypress":if(kb(n)===0)break e;case"keydown":case"keyup":m=Boe;break;case"focusin":g="focus",m=FN;break;case"focusout":g="blur",m=FN;break;case"beforeblur":case"afterblur":m=FN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Poe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Uoe;break;case LU:case $U:case FU:m=_oe;break;case BU:m=Goe;break;case"scroll":m=koe;break;case"wheel":m=qoe;break;case"copy":case"cut":case"paste":m=Roe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vL}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=mv(x,y),S!=null&&v.push(wv(x,S,w)))),b)break;x=x.return}0<v.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==fP&&(g=n.relatedTarget||n.fromElement)&&(Uu(g)||g[jl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Uu(g):null,g!==null&&(b=tf(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=pL,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=vL,S="onPointerLeave",y="onPointerEnter",x="pointer"),b=m==null?h:oh(m),w=g==null?h:oh(g),h=new v(S,x+"leave",m,n,d),h.target=b,h.relatedTarget=w,S=null,Uu(d)===u&&(v=new v(y,x+"enter",g,n,d),v.target=w,v.relatedTarget=b,S=v),b=S,m&&g)t:{for(v=m,y=g,x=0,w=v;w;w=$f(w))x++;for(w=0,S=y;S;S=$f(S))w++;for(;0<x-w;)v=$f(v),x--;for(;0<w-x;)y=$f(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=$f(v),y=$f(y)}v=null}else v=null;m!==null&&PL(f,h,m,v,!1),g!==null&&b!==null&&PL(f,b,g,v,!0)}}e:{if(h=u?oh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=ele;else if(bL(h))if(DU)j=ale;else{j=nle;var k=tle}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=rle);if(j&&(j=j(e,u))){_U(f,j,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&oP(h,"number",h.value)}switch(k=u?oh(u):window,e){case"focusin":(bL(k)||k.contentEditable==="true")&&(sh=k,xP=u,Ug=null);break;case"focusout":Ug=xP=sh=null;break;case"mousedown":bP=!0;break;case"contextmenu":case"mouseup":case"dragend":bP=!1,NL(f,n,d);break;case"selectionchange":if(ole)break;case"keydown":case"keyup":NL(f,n,d)}var N;if(x_)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ah?EU(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(PU&&n.locale!=="ko"&&(ah||P!=="onCompositionStart"?P==="onCompositionEnd"&&ah&&(N=AU()):(wc=d,g_="value"in wc?wc.value:wc.textContent,ah=!0)),k=yw(u,P),0<k.length&&(P=new gL(P,e,null,n,d),f.push({event:P,listeners:k}),N?P.data=N:(N=TU(n),N!==null&&(P.data=N)))),(N=Yoe?Qoe(e,n):Zoe(e,n))&&(u=yw(u,"onBeforeInput"),0<u.length&&(d=new gL("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}zU(f,t)})}function wv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yw(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=mv(e,n),s!=null&&r.unshift(wv(e,s,a)),s=mv(e,t),s!=null&&r.push(wv(e,s,a))),e=e.return}return r}function $f(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function PL(e,t,n,r,a){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=mv(n,s),c!=null&&o.unshift(wv(n,c,l))):a||(c=mv(n,s),c!=null&&o.push(wv(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dle=/\r\n?/g,fle=/\u0000|\uFFFD/g;function EL(e){return(typeof e=="string"?e:""+e).replace(dle,`
`).replace(fle,"")}function v0(e,t,n){if(t=EL(t),EL(e)!==t&&n)throw Error(et(425))}function xw(){}var wP=null,SP=null;function CP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jP=typeof setTimeout=="function"?setTimeout:void 0,hle=typeof clearTimeout=="function"?clearTimeout:void 0,TL=typeof Promise=="function"?Promise:void 0,mle=typeof queueMicrotask=="function"?queueMicrotask:typeof TL<"u"?function(e){return TL.resolve(null).then(e).catch(ple)}:jP;function ple(e){setTimeout(function(){throw e})}function qN(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),vv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);vv(t)}function _c(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _L(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lm=Math.random().toString(36).slice(2),go="__reactFiber$"+Lm,Sv="__reactProps$"+Lm,jl="__reactContainer$"+Lm,NP="__reactEvents$"+Lm,gle="__reactListeners$"+Lm,vle="__reactHandles$"+Lm;function Uu(e){var t=e[go];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jl]||n[go]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_L(e);e!==null;){if(n=e[go])return n;e=_L(e)}return t}e=n,n=e.parentNode}return null}function Ey(e){return e=e[go]||e[jl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(et(33))}function FS(e){return e[Sv]||null}var kP=[],lh=-1;function su(e){return{current:e}}function Vn(e){0>lh||(e.current=kP[lh],kP[lh]=null,lh--)}function Rn(e,t){lh++,kP[lh]=e.current,e.current=t}var Kc={},Ma=su(Kc),vs=su(!1),bd=Kc;function Qh(e,t){var n=e.type.contextTypes;if(!n)return Kc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in n)a[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ys(e){return e=e.childContextTypes,e!=null}function bw(){Vn(vs),Vn(Ma)}function DL(e,t,n){if(Ma.current!==Kc)throw Error(et(168));Rn(Ma,t),Rn(vs,n)}function KU(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(et(108,toe(e)||"Unknown",a));return ir({},n,r)}function ww(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kc,bd=Ma.current,Rn(Ma,e),Rn(vs,vs.current),!0}function RL(e,t,n){var r=e.stateNode;if(!r)throw Error(et(169));n?(e=KU(e,t,bd),r.__reactInternalMemoizedMergedChildContext=e,Vn(vs),Vn(Ma),Rn(Ma,e)):Vn(vs),Rn(vs,n)}var sl=null,BS=!1,HN=!1;function GU(e){sl===null?sl=[e]:sl.push(e)}function yle(e){BS=!0,GU(e)}function iu(){if(!HN&&sl!==null){HN=!0;var e=0,t=wn;try{var n=sl;for(wn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sl=null,BS=!1}catch(a){throw sl!==null&&(sl=sl.slice(e+1)),gU(f_,iu),a}finally{wn=t,HN=!1}}return null}var ch=[],uh=0,Sw=null,Cw=0,si=[],ii=0,wd=null,fl=1,hl="";function Du(e,t){ch[uh++]=Cw,ch[uh++]=Sw,Sw=e,Cw=t}function WU(e,t,n){si[ii++]=fl,si[ii++]=hl,si[ii++]=wd,wd=e;var r=fl;e=hl;var a=32-zi(r)-1;r&=~(1<<a),n+=1;var s=32-zi(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,fl=1<<32-zi(t)+a|n<<a|r,hl=s+e}else fl=1<<s|n<<a|r,hl=e}function w_(e){e.return!==null&&(Du(e,1),WU(e,1,0))}function S_(e){for(;e===Sw;)Sw=ch[--uh],ch[uh]=null,Cw=ch[--uh],ch[uh]=null;for(;e===wd;)wd=si[--ii],si[ii]=null,hl=si[--ii],si[ii]=null,fl=si[--ii],si[ii]=null}var Os=null,Ds=null,Yn=!1,Oi=null;function qU(e,t){var n=li(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ML(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Os=e,Ds=_c(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Os=e,Ds=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wd!==null?{id:fl,overflow:hl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=li(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Os=e,Ds=null,!0):!1;default:return!1}}function AP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function PP(e){if(Yn){var t=Ds;if(t){var n=t;if(!ML(e,t)){if(AP(e))throw Error(et(418));t=_c(n.nextSibling);var r=Os;t&&ML(e,t)?qU(r,n):(e.flags=e.flags&-4097|2,Yn=!1,Os=e)}}else{if(AP(e))throw Error(et(418));e.flags=e.flags&-4097|2,Yn=!1,Os=e}}}function IL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Os=e}function y0(e){if(e!==Os)return!1;if(!Yn)return IL(e),Yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!CP(e.type,e.memoizedProps)),t&&(t=Ds)){if(AP(e))throw HU(),Error(et(418));for(;t;)qU(e,t),t=_c(t.nextSibling)}if(IL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(et(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ds=_c(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ds=null}}else Ds=Os?_c(e.stateNode.nextSibling):null;return!0}function HU(){for(var e=Ds;e;)e=_c(e.nextSibling)}function Zh(){Ds=Os=null,Yn=!1}function C_(e){Oi===null?Oi=[e]:Oi.push(e)}var xle=zl.ReactCurrentBatchConfig;function zp(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,e));var a=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(et(284));if(!n._owner)throw Error(et(290,e))}return e}function x0(e,t){throw e=Object.prototype.toString.call(t),Error(et(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function OL(e){var t=e._init;return t(e._payload)}function YU(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=Ic(y,x),y.index=0,y.sibling=null,y}function s(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,S){return x===null||x.tag!==6?(x=tk(w,y.mode,S),x.return=y,x):(x=a(x,w),x.return=y,x)}function c(y,x,w,S){var j=w.type;return j===rh?d(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hc&&OL(j)===x.type)?(S=a(x,w.props),S.ref=zp(y,x,w),S.return=y,S):(S=Rb(w.type,w.key,w.props,null,y.mode,S),S.ref=zp(y,x,w),S.return=y,S)}function u(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=nk(w,y.mode,S),x.return=y,x):(x=a(x,w.children||[]),x.return=y,x)}function d(y,x,w,S,j){return x===null||x.tag!==7?(x=sd(w,y.mode,S,j),x.return=y,x):(x=a(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=tk(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case l0:return w=Rb(x.type,x.key,x.props,null,y.mode,w),w.ref=zp(y,null,x),w.return=y,w;case nh:return x=nk(x,y.mode,w),x.return=y,x;case hc:var S=x._init;return f(y,S(x._payload),w)}if(pg(x)||Lp(x))return x=sd(x,y.mode,w,null),x.return=y,x;x0(y,x)}return null}function h(y,x,w,S){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case l0:return w.key===j?c(y,x,w,S):null;case nh:return w.key===j?u(y,x,w,S):null;case hc:return j=w._init,h(y,x,j(w._payload),S)}if(pg(w)||Lp(w))return j!==null?null:d(y,x,w,S,null);x0(y,w)}return null}function m(y,x,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,l(x,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case l0:return y=y.get(S.key===null?w:S.key)||null,c(x,y,S,j);case nh:return y=y.get(S.key===null?w:S.key)||null,u(x,y,S,j);case hc:var k=S._init;return m(y,x,w,k(S._payload),j)}if(pg(S)||Lp(S))return y=y.get(w)||null,d(x,y,S,j,null);x0(x,S)}return null}function g(y,x,w,S){for(var j=null,k=null,N=x,P=x=0,E=null;N!==null&&P<w.length;P++){N.index>P?(E=N,N=null):E=N.sibling;var R=h(y,N,w[P],S);if(R===null){N===null&&(N=E);break}e&&N&&R.alternate===null&&t(y,N),x=s(R,x,P),k===null?j=R:k.sibling=R,k=R,N=E}if(P===w.length)return n(y,N),Yn&&Du(y,P),j;if(N===null){for(;P<w.length;P++)N=f(y,w[P],S),N!==null&&(x=s(N,x,P),k===null?j=N:k.sibling=N,k=N);return Yn&&Du(y,P),j}for(N=r(y,N);P<w.length;P++)E=m(N,y,P,w[P],S),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?P:E.key),x=s(E,x,P),k===null?j=E:k.sibling=E,k=E);return e&&N.forEach(function(O){return t(y,O)}),Yn&&Du(y,P),j}function v(y,x,w,S){var j=Lp(w);if(typeof j!="function")throw Error(et(150));if(w=j.call(w),w==null)throw Error(et(151));for(var k=j=null,N=x,P=x=0,E=null,R=w.next();N!==null&&!R.done;P++,R=w.next()){N.index>P?(E=N,N=null):E=N.sibling;var O=h(y,N,R.value,S);if(O===null){N===null&&(N=E);break}e&&N&&O.alternate===null&&t(y,N),x=s(O,x,P),k===null?j=O:k.sibling=O,k=O,N=E}if(R.done)return n(y,N),Yn&&Du(y,P),j;if(N===null){for(;!R.done;P++,R=w.next())R=f(y,R.value,S),R!==null&&(x=s(R,x,P),k===null?j=R:k.sibling=R,k=R);return Yn&&Du(y,P),j}for(N=r(y,N);!R.done;P++,R=w.next())R=m(N,y,P,R.value,S),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?P:R.key),x=s(R,x,P),k===null?j=R:k.sibling=R,k=R);return e&&N.forEach(function(G){return t(y,G)}),Yn&&Du(y,P),j}function b(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===rh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case l0:e:{for(var j=w.key,k=x;k!==null;){if(k.key===j){if(j=w.type,j===rh){if(k.tag===7){n(y,k.sibling),x=a(k,w.props.children),x.return=y,y=x;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hc&&OL(j)===k.type){n(y,k.sibling),x=a(k,w.props),x.ref=zp(y,k,w),x.return=y,y=x;break e}n(y,k);break}else t(y,k);k=k.sibling}w.type===rh?(x=sd(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=Rb(w.type,w.key,w.props,null,y.mode,S),S.ref=zp(y,x,w),S.return=y,y=S)}return o(y);case nh:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=a(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=nk(w,y.mode,S),x.return=y,y=x}return o(y);case hc:return k=w._init,b(y,x,k(w._payload),S)}if(pg(w))return g(y,x,w,S);if(Lp(w))return v(y,x,w,S);x0(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=a(x,w),x.return=y,y=x):(n(y,x),x=tk(w,y.mode,S),x.return=y,y=x),o(y)):n(y,x)}return b}var Jh=YU(!0),QU=YU(!1),jw=su(null),Nw=null,dh=null,j_=null;function N_(){j_=dh=Nw=null}function k_(e){var t=jw.current;Vn(jw),e._currentValue=t}function EP(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ih(e,t){Nw=e,j_=dh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ds=!0),e.firstContext=null)}function mi(e){var t=e._currentValue;if(j_!==e)if(e={context:e,memoizedValue:t,next:null},dh===null){if(Nw===null)throw Error(et(308));dh=e,Nw.dependencies={lanes:0,firstContext:e}}else dh=dh.next=e;return t}var Ku=null;function A_(e){Ku===null?Ku=[e]:Ku.push(e)}function ZU(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,A_(t)):(n.next=a.next,a.next=n),t.interleaved=n,Nl(e,r)}function Nl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mc=!1;function P_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JU(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,on&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Nl(e,n)}return a=r.interleaved,a===null?(t.next=t,A_(r)):(t.next=a.next,a.next=t),r.interleaved=t,Nl(e,n)}function Ab(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,h_(e,n)}}function LL(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?a=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kw(e,t,n,r){var a=e.updateQueue;mc=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(h=t,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=ir({},f,h);break e;case 2:mc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Cd|=o,e.lanes=o,e.memoizedState=f}}function $L(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(et(191,a));a.call(r)}}}var Ty={},jo=su(Ty),Cv=su(Ty),jv=su(Ty);function Gu(e){if(e===Ty)throw Error(et(174));return e}function E_(e,t){switch(Rn(jv,t),Rn(Cv,e),Rn(jo,Ty),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cP(t,e)}Vn(jo),Rn(jo,t)}function Xh(){Vn(jo),Vn(Cv),Vn(jv)}function XU(e){Gu(jv.current);var t=Gu(jo.current),n=cP(t,e.type);t!==n&&(Rn(Cv,e),Rn(jo,n))}function T_(e){Cv.current===e&&(Vn(jo),Vn(Cv))}var nr=su(0);function Aw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var YN=[];function __(){for(var e=0;e<YN.length;e++)YN[e]._workInProgressVersionPrimary=null;YN.length=0}var Pb=zl.ReactCurrentDispatcher,QN=zl.ReactCurrentBatchConfig,Sd=0,ar=null,Or=null,sa=null,Pw=!1,Kg=!1,Nv=0,ble=0;function ka(){throw Error(et(321))}function D_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wi(e[n],t[n]))return!1;return!0}function R_(e,t,n,r,a,s){if(Sd=s,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pb.current=e===null||e.memoizedState===null?jle:Nle,e=n(r,a),Kg){s=0;do{if(Kg=!1,Nv=0,25<=s)throw Error(et(301));s+=1,sa=Or=null,t.updateQueue=null,Pb.current=kle,e=n(r,a)}while(Kg)}if(Pb.current=Ew,t=Or!==null&&Or.next!==null,Sd=0,sa=Or=ar=null,Pw=!1,t)throw Error(et(300));return e}function M_(){var e=Nv!==0;return Nv=0,e}function mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?ar.memoizedState=sa=e:sa=sa.next=e,sa}function pi(){if(Or===null){var e=ar.alternate;e=e!==null?e.memoizedState:null}else e=Or.next;var t=sa===null?ar.memoizedState:sa.next;if(t!==null)sa=t,Or=e;else{if(e===null)throw Error(et(310));Or=e,e={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},sa===null?ar.memoizedState=sa=e:sa=sa.next=e}return sa}function kv(e,t){return typeof t=="function"?t(e):t}function ZN(e){var t=pi(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=Or,a=r.baseQueue,s=n.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(a!==null){s=a.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Sd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ar.lanes|=d,Cd|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Wi(r,t.memoizedState)||(ds=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do s=a.lane,ar.lanes|=s,Cd|=s,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function JN(e){var t=pi(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Wi(s,t.memoizedState)||(ds=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function eK(){}function tK(e,t){var n=ar,r=pi(),a=t(),s=!Wi(r.memoizedState,a);if(s&&(r.memoizedState=a,ds=!0),r=r.queue,I_(aK.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||sa!==null&&sa.memoizedState.tag&1){if(n.flags|=2048,Av(9,rK.bind(null,n,r,a,t),void 0,null),la===null)throw Error(et(349));Sd&30||nK(n,t,a)}return a}function nK(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rK(e,t,n,r){t.value=n,t.getSnapshot=r,sK(t)&&iK(e)}function aK(e,t,n){return n(function(){sK(t)&&iK(e)})}function sK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wi(e,n)}catch{return!0}}function iK(e){var t=Nl(e,1);t!==null&&Ui(t,e,1,-1)}function FL(e){var t=mo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:e},t.queue=e,e=e.dispatch=Cle.bind(null,ar,e),[t.memoizedState,e]}function Av(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oK(){return pi().memoizedState}function Eb(e,t,n,r){var a=mo();ar.flags|=e,a.memoizedState=Av(1|t,n,void 0,r===void 0?null:r)}function VS(e,t,n,r){var a=pi();r=r===void 0?null:r;var s=void 0;if(Or!==null){var o=Or.memoizedState;if(s=o.destroy,r!==null&&D_(r,o.deps)){a.memoizedState=Av(t,n,s,r);return}}ar.flags|=e,a.memoizedState=Av(1|t,n,s,r)}function BL(e,t){return Eb(8390656,8,e,t)}function I_(e,t){return VS(2048,8,e,t)}function lK(e,t){return VS(4,2,e,t)}function cK(e,t){return VS(4,4,e,t)}function uK(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dK(e,t,n){return n=n!=null?n.concat([e]):null,VS(4,4,uK.bind(null,t,e),n)}function O_(){}function fK(e,t){var n=pi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&D_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hK(e,t){var n=pi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&D_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mK(e,t,n){return Sd&21?(Wi(n,t)||(n=xU(),ar.lanes|=n,Cd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ds=!0),e.memoizedState=n)}function wle(e,t){var n=wn;wn=n!==0&&4>n?n:4,e(!0);var r=QN.transition;QN.transition={};try{e(!1),t()}finally{wn=n,QN.transition=r}}function pK(){return pi().memoizedState}function Sle(e,t,n){var r=Mc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gK(e))vK(t,n);else if(n=ZU(e,t,n,r),n!==null){var a=Ka();Ui(n,e,r,a),yK(n,t,r)}}function Cle(e,t,n){var r=Mc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gK(e))vK(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(a.hasEagerState=!0,a.eagerState=l,Wi(l,o)){var c=t.interleaved;c===null?(a.next=a,A_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=ZU(e,t,a,r),n!==null&&(a=Ka(),Ui(n,e,r,a),yK(n,t,r))}}function gK(e){var t=e.alternate;return e===ar||t!==null&&t===ar}function vK(e,t){Kg=Pw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yK(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,h_(e,n)}}var Ew={readContext:mi,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},jle={readContext:mi,useCallback:function(e,t){return mo().memoizedState=[e,t===void 0?null:t],e},useContext:mi,useEffect:BL,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Eb(4194308,4,uK.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eb(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eb(4,2,e,t)},useMemo:function(e,t){var n=mo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sle.bind(null,ar,e),[r.memoizedState,e]},useRef:function(e){var t=mo();return e={current:e},t.memoizedState=e},useState:FL,useDebugValue:O_,useDeferredValue:function(e){return mo().memoizedState=e},useTransition:function(){var e=FL(!1),t=e[0];return e=wle.bind(null,e[1]),mo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ar,a=mo();if(Yn){if(n===void 0)throw Error(et(407));n=n()}else{if(n=t(),la===null)throw Error(et(349));Sd&30||nK(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,BL(aK.bind(null,r,s,e),[e]),r.flags|=2048,Av(9,rK.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=mo(),t=la.identifierPrefix;if(Yn){var n=hl,r=fl;n=(r&~(1<<32-zi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Nv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ble++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nle={readContext:mi,useCallback:fK,useContext:mi,useEffect:I_,useImperativeHandle:dK,useInsertionEffect:lK,useLayoutEffect:cK,useMemo:hK,useReducer:ZN,useRef:oK,useState:function(){return ZN(kv)},useDebugValue:O_,useDeferredValue:function(e){var t=pi();return mK(t,Or.memoizedState,e)},useTransition:function(){var e=ZN(kv)[0],t=pi().memoizedState;return[e,t]},useMutableSource:eK,useSyncExternalStore:tK,useId:pK,unstable_isNewReconciler:!1},kle={readContext:mi,useCallback:fK,useContext:mi,useEffect:I_,useImperativeHandle:dK,useInsertionEffect:lK,useLayoutEffect:cK,useMemo:hK,useReducer:JN,useRef:oK,useState:function(){return JN(kv)},useDebugValue:O_,useDeferredValue:function(e){var t=pi();return Or===null?t.memoizedState=e:mK(t,Or.memoizedState,e)},useTransition:function(){var e=JN(kv)[0],t=pi().memoizedState;return[e,t]},useMutableSource:eK,useSyncExternalStore:tK,useId:pK,unstable_isNewReconciler:!1};function Ri(e,t){if(e&&e.defaultProps){t=ir({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function TP(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ir({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zS={isMounted:function(e){return(e=e._reactInternals)?tf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ka(),a=Mc(e),s=vl(r,a);s.payload=t,n!=null&&(s.callback=n),t=Dc(e,s,a),t!==null&&(Ui(t,e,a,r),Ab(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ka(),a=Mc(e),s=vl(r,a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Dc(e,s,a),t!==null&&(Ui(t,e,a,r),Ab(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ka(),r=Mc(e),a=vl(n,r);a.tag=2,t!=null&&(a.callback=t),t=Dc(e,a,r),t!==null&&(Ui(t,e,r,n),Ab(t,e,r))}};function VL(e,t,n,r,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!xv(n,r)||!xv(a,s):!0}function xK(e,t,n){var r=!1,a=Kc,s=t.contextType;return typeof s=="object"&&s!==null?s=mi(s):(a=ys(t)?bd:Ma.current,r=t.contextTypes,s=(r=r!=null)?Qh(e,a):Kc),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zS,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function zL(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zS.enqueueReplaceState(t,t.state,null)}function _P(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},P_(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=mi(s):(s=ys(t)?bd:Ma.current,a.context=Qh(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(TP(e,t,s,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&zS.enqueueReplaceState(a,a.state,null),kw(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function em(e,t){try{var n="",r=t;do n+=eoe(r),r=r.return;while(r);var a=n}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function XN(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function DP(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ale=typeof WeakMap=="function"?WeakMap:Map;function bK(e,t,n){n=vl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_w||(_w=!0,zP=r),DP(e,t)},n}function wK(e,t,n){n=vl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){DP(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){DP(e,t),typeof r!="function"&&(Rc===null?Rc=new Set([this]):Rc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function UL(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ale;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Vle.bind(null,e,t,n),t.then(e,e))}function KL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function GL(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vl(-1,1),t.tag=2,Dc(n,t,1))),n.lanes|=1),e)}var Ple=zl.ReactCurrentOwner,ds=!1;function La(e,t,n,r){t.child=e===null?QU(t,null,n,r):Jh(t,e.child,n,r)}function WL(e,t,n,r,a){n=n.render;var s=t.ref;return Ih(t,a),r=R_(e,t,n,r,s,a),n=M_(),e!==null&&!ds?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kl(e,t,a)):(Yn&&n&&w_(t),t.flags|=1,La(e,t,r,a),t.child)}function qL(e,t,n,r,a){if(e===null){var s=n.type;return typeof s=="function"&&!K_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,SK(e,t,s,r,a)):(e=Rb(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xv,n(o,r)&&e.ref===t.ref)return kl(e,t,a)}return t.flags|=1,e=Ic(s,r),e.ref=t.ref,e.return=t,t.child=e}function SK(e,t,n,r,a){if(e!==null){var s=e.memoizedProps;if(xv(s,r)&&e.ref===t.ref)if(ds=!1,t.pendingProps=r=s,(e.lanes&a)!==0)e.flags&131072&&(ds=!0);else return t.lanes=e.lanes,kl(e,t,a)}return RP(e,t,n,r,a)}function CK(e,t,n){var r=t.pendingProps,a=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(hh,As),As|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rn(hh,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rn(hh,As),As|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Rn(hh,As),As|=r;return La(e,t,a,n),t.child}function jK(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function RP(e,t,n,r,a){var s=ys(n)?bd:Ma.current;return s=Qh(t,s),Ih(t,a),n=R_(e,t,n,r,s,a),r=M_(),e!==null&&!ds?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kl(e,t,a)):(Yn&&r&&w_(t),t.flags|=1,La(e,t,n,a),t.child)}function HL(e,t,n,r,a){if(ys(n)){var s=!0;ww(t)}else s=!1;if(Ih(t,a),t.stateNode===null)Tb(e,t),xK(t,n,r),_P(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mi(u):(u=ys(n)?bd:Ma.current,u=Qh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&zL(t,o,r,u),mc=!1;var h=t.memoizedState;o.state=h,kw(t,r,o,a),c=t.memoizedState,l!==r||h!==c||vs.current||mc?(typeof d=="function"&&(TP(t,n,d,r),c=t.memoizedState),(l=mc||VL(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,JU(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ri(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=mi(c):(c=ys(n)?bd:Ma.current,c=Qh(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&zL(t,o,r,c),mc=!1,h=t.memoizedState,o.state=h,kw(t,r,o,a);var g=t.memoizedState;l!==f||h!==g||vs.current||mc?(typeof m=="function"&&(TP(t,n,m,r),g=t.memoizedState),(u=mc||VL(t,n,u,r,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return MP(e,t,n,r,s,a)}function MP(e,t,n,r,a,s){jK(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&RL(t,n,!1),kl(e,t,s);r=t.stateNode,Ple.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Jh(t,e.child,null,s),t.child=Jh(t,null,l,s)):La(e,t,l,s),t.memoizedState=r.state,a&&RL(t,n,!0),t.child}function NK(e){var t=e.stateNode;t.pendingContext?DL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&DL(e,t.context,!1),E_(e,t.containerInfo)}function YL(e,t,n,r,a){return Zh(),C_(a),t.flags|=256,La(e,t,n,r),t.child}var IP={dehydrated:null,treeContext:null,retryLane:0};function OP(e){return{baseLanes:e,cachePool:null,transitions:null}}function kK(e,t,n){var r=t.pendingProps,a=nr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Rn(nr,a&1),e===null)return PP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=GS(o,r,0,null),e=sd(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=OP(n),t.memoizedState=IP,e):L_(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Ele(e,t,o,r,l,a,n);if(s){s=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ic(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Ic(l,s):(s=sd(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?OP(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=IP,r}return s=e.child,e=s.sibling,r=Ic(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function L_(e,t){return t=GS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function b0(e,t,n,r){return r!==null&&C_(r),Jh(t,e.child,null,n),e=L_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ele(e,t,n,r,a,s,o){if(n)return t.flags&256?(t.flags&=-257,r=XN(Error(et(422))),b0(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=GS({mode:"visible",children:r.children},a,0,null),s=sd(s,a,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Jh(t,e.child,null,o),t.child.memoizedState=OP(o),t.memoizedState=IP,s);if(!(t.mode&1))return b0(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(et(419)),r=XN(s,r,void 0),b0(e,t,o,r)}if(l=(o&e.childLanes)!==0,ds||l){if(r=la,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Nl(e,a),Ui(r,e,a,-1))}return U_(),r=XN(Error(et(421))),b0(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=zle.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ds=_c(a.nextSibling),Os=t,Yn=!0,Oi=null,e!==null&&(si[ii++]=fl,si[ii++]=hl,si[ii++]=wd,fl=e.id,hl=e.overflow,wd=t),t=L_(t,r.children),t.flags|=4096,t)}function QL(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),EP(e.return,t,n)}function ek(e,t,n,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function AK(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(La(e,t,r.children,n),r=nr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&QL(e,n,t);else if(e.tag===19)QL(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Rn(nr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Aw(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ek(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Aw(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ek(t,!0,n,null,s);break;case"together":ek(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(et(153));if(t.child!==null){for(e=t.child,n=Ic(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ic(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tle(e,t,n){switch(t.tag){case 3:NK(t),Zh();break;case 5:XU(t);break;case 1:ys(t.type)&&ww(t);break;case 4:E_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Rn(jw,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Rn(nr,nr.current&1),t.flags|=128,null):n&t.child.childLanes?kK(e,t,n):(Rn(nr,nr.current&1),e=kl(e,t,n),e!==null?e.sibling:null);Rn(nr,nr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return AK(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Rn(nr,nr.current),r)break;return null;case 22:case 23:return t.lanes=0,CK(e,t,n)}return kl(e,t,n)}var PK,LP,EK,TK;PK=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};LP=function(){};EK=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gu(jo.current);var s=null;switch(n){case"input":a=sP(e,a),r=sP(e,r),s=[];break;case"select":a=ir({},a,{value:void 0}),r=ir({},r,{value:void 0}),s=[];break;case"textarea":a=lP(e,a),r=lP(e,r),s=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xw)}uP(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fv.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};TK=function(e,t,n,r){n!==r&&(t.flags|=4)};function Up(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Aa(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _le(e,t,n){var r=t.pendingProps;switch(S_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Aa(t),null;case 1:return ys(t.type)&&bw(),Aa(t),null;case 3:return r=t.stateNode,Xh(),Vn(vs),Vn(Ma),__(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(y0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Oi!==null&&(GP(Oi),Oi=null))),LP(e,t),Aa(t),null;case 5:T_(t);var a=Gu(jv.current);if(n=t.type,e!==null&&t.stateNode!=null)EK(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(et(166));return Aa(t),null}if(e=Gu(jo.current),y0(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[go]=t,r[Sv]=s,e=(t.mode&1)!==0,n){case"dialog":Fn("cancel",r),Fn("close",r);break;case"iframe":case"object":case"embed":Fn("load",r);break;case"video":case"audio":for(a=0;a<vg.length;a++)Fn(vg[a],r);break;case"source":Fn("error",r);break;case"img":case"image":case"link":Fn("error",r),Fn("load",r);break;case"details":Fn("toggle",r);break;case"input":sL(r,s),Fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fn("invalid",r);break;case"textarea":oL(r,s),Fn("invalid",r)}uP(n,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&v0(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&v0(r.textContent,l,e),a=["children",""+l]):fv.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Fn("scroll",r)}switch(n){case"input":c0(r),iL(r,s,!0);break;case"textarea":c0(r),lL(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xw)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aU(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[go]=t,e[Sv]=r,PK(e,t,!1,!1),t.stateNode=e;e:{switch(o=dP(n,r),n){case"dialog":Fn("cancel",e),Fn("close",e),a=r;break;case"iframe":case"object":case"embed":Fn("load",e),a=r;break;case"video":case"audio":for(a=0;a<vg.length;a++)Fn(vg[a],e);a=r;break;case"source":Fn("error",e),a=r;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),a=r;break;case"details":Fn("toggle",e),a=r;break;case"input":sL(e,r),a=sP(e,r),Fn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=ir({},r,{value:void 0}),Fn("invalid",e);break;case"textarea":oL(e,r),a=lP(e,r),Fn("invalid",e);break;default:a=r}uP(n,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?oU(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sU(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hv(e,c):typeof c=="number"&&hv(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fv.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Fn("scroll",e):c!=null&&o_(e,s,c,o))}switch(n){case"input":c0(e),iL(e,r,!1);break;case"textarea":c0(e),lL(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Uc(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?_h(e,!!r.multiple,s,!1):r.defaultValue!=null&&_h(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=xw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Aa(t),null;case 6:if(e&&t.stateNode!=null)TK(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(et(166));if(n=Gu(jv.current),Gu(jo.current),y0(t)){if(r=t.stateNode,n=t.memoizedProps,r[go]=t,(s=r.nodeValue!==n)&&(e=Os,e!==null))switch(e.tag){case 3:v0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&v0(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[go]=t,t.stateNode=r}return Aa(t),null;case 13:if(Vn(nr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yn&&Ds!==null&&t.mode&1&&!(t.flags&128))HU(),Zh(),t.flags|=98560,s=!1;else if(s=y0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(et(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(et(317));s[go]=t}else Zh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Aa(t),s=!1}else Oi!==null&&(GP(Oi),Oi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nr.current&1?$r===0&&($r=3):U_())),t.updateQueue!==null&&(t.flags|=4),Aa(t),null);case 4:return Xh(),LP(e,t),e===null&&bv(t.stateNode.containerInfo),Aa(t),null;case 10:return k_(t.type._context),Aa(t),null;case 17:return ys(t.type)&&bw(),Aa(t),null;case 19:if(Vn(nr),s=t.memoizedState,s===null)return Aa(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Up(s,!1);else{if($r!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Aw(e),o!==null){for(t.flags|=128,Up(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rn(nr,nr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Sr()>tm&&(t.flags|=128,r=!0,Up(s,!1),t.lanes=4194304)}else{if(!r)if(e=Aw(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Up(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Yn)return Aa(t),null}else 2*Sr()-s.renderingStartTime>tm&&n!==1073741824&&(t.flags|=128,r=!0,Up(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Sr(),t.sibling=null,n=nr.current,Rn(nr,r?n&1|2:n&1),t):(Aa(t),null);case 22:case 23:return z_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?As&1073741824&&(Aa(t),t.subtreeFlags&6&&(t.flags|=8192)):Aa(t),null;case 24:return null;case 25:return null}throw Error(et(156,t.tag))}function Dle(e,t){switch(S_(t),t.tag){case 1:return ys(t.type)&&bw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xh(),Vn(vs),Vn(Ma),__(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return T_(t),null;case 13:if(Vn(nr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(et(340));Zh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vn(nr),null;case 4:return Xh(),null;case 10:return k_(t.type._context),null;case 22:case 23:return z_(),null;case 24:return null;default:return null}}var w0=!1,_a=!1,Rle=typeof WeakSet=="function"?WeakSet:Set,vt=null;function fh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mr(e,t,r)}else n.current=null}function $P(e,t,n){try{n()}catch(r){mr(e,t,r)}}var ZL=!1;function Mle(e,t){if(wP=gw,e=IU(),b_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=o),h===s&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(SP={focusedElem:e,selectionRange:n},gw=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ri(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(S){mr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return g=ZL,ZL=!1,g}function Gg(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&$P(t,n,s)}a=a.next}while(a!==r)}}function US(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function FP(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _K(e){var t=e.alternate;t!==null&&(e.alternate=null,_K(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[go],delete t[Sv],delete t[NP],delete t[gle],delete t[vle])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DK(e){return e.tag===5||e.tag===3||e.tag===4}function JL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DK(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function BP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xw));else if(r!==4&&(e=e.child,e!==null))for(BP(e,t,n),e=e.sibling;e!==null;)BP(e,t,n),e=e.sibling}function VP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(VP(e,t,n),e=e.sibling;e!==null;)VP(e,t,n),e=e.sibling}var ma=null,Mi=!1;function sc(e,t,n){for(n=n.child;n!==null;)RK(e,t,n),n=n.sibling}function RK(e,t,n){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(IS,n)}catch{}switch(n.tag){case 5:_a||fh(n,t);case 6:var r=ma,a=Mi;ma=null,sc(e,t,n),ma=r,Mi=a,ma!==null&&(Mi?(e=ma,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ma.removeChild(n.stateNode));break;case 18:ma!==null&&(Mi?(e=ma,n=n.stateNode,e.nodeType===8?qN(e.parentNode,n):e.nodeType===1&&qN(e,n),vv(e)):qN(ma,n.stateNode));break;case 4:r=ma,a=Mi,ma=n.stateNode.containerInfo,Mi=!0,sc(e,t,n),ma=r,Mi=a;break;case 0:case 11:case 14:case 15:if(!_a&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$P(n,t,o),a=a.next}while(a!==r)}sc(e,t,n);break;case 1:if(!_a&&(fh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){mr(n,t,l)}sc(e,t,n);break;case 21:sc(e,t,n);break;case 22:n.mode&1?(_a=(r=_a)||n.memoizedState!==null,sc(e,t,n),_a=r):sc(e,t,n);break;default:sc(e,t,n)}}function XL(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rle),t.forEach(function(r){var a=Ule.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Ai(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ma=l.stateNode,Mi=!1;break e;case 3:ma=l.stateNode.containerInfo,Mi=!0;break e;case 4:ma=l.stateNode.containerInfo,Mi=!0;break e}l=l.return}if(ma===null)throw Error(et(160));RK(s,o,a),ma=null,Mi=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){mr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)MK(t,e),t=t.sibling}function MK(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ai(t,e),co(e),r&4){try{Gg(3,e,e.return),US(3,e)}catch(v){mr(e,e.return,v)}try{Gg(5,e,e.return)}catch(v){mr(e,e.return,v)}}break;case 1:Ai(t,e),co(e),r&512&&n!==null&&fh(n,n.return);break;case 5:if(Ai(t,e),co(e),r&512&&n!==null&&fh(n,n.return),e.flags&32){var a=e.stateNode;try{hv(a,"")}catch(v){mr(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&nU(a,s),dP(l,o);var u=dP(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?oU(a,f):d==="dangerouslySetInnerHTML"?sU(a,f):d==="children"?hv(a,f):o_(a,d,f,u)}switch(l){case"input":iP(a,s);break;case"textarea":rU(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?_h(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?_h(a,!!s.multiple,s.defaultValue,!0):_h(a,!!s.multiple,s.multiple?[]:"",!1))}a[Sv]=s}catch(v){mr(e,e.return,v)}}break;case 6:if(Ai(t,e),co(e),r&4){if(e.stateNode===null)throw Error(et(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){mr(e,e.return,v)}}break;case 3:if(Ai(t,e),co(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vv(t.containerInfo)}catch(v){mr(e,e.return,v)}break;case 4:Ai(t,e),co(e);break;case 13:Ai(t,e),co(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(B_=Sr())),r&4&&XL(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_a=(u=_a)||d,Ai(t,e),_a=u):Ai(t,e),co(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(vt=e,d=e.child;d!==null;){for(f=vt=d;vt!==null;){switch(h=vt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Gg(4,h,h.return);break;case 1:fh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){mr(r,n,v)}}break;case 5:fh(h,h.return);break;case 22:if(h.memoizedState!==null){t4(f);continue}}m!==null?(m.return=h,vt=m):t4(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=iU("display",o))}catch(v){mr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){mr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ai(t,e),co(e),r&4&&XL(e);break;case 21:break;default:Ai(t,e),co(e)}}function co(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(DK(n)){var r=n;break e}n=n.return}throw Error(et(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(hv(a,""),r.flags&=-33);var s=JL(e);VP(e,s,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=JL(e);BP(e,l,o);break;default:throw Error(et(161))}}catch(c){mr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ile(e,t,n){vt=e,IK(e)}function IK(e,t,n){for(var r=(e.mode&1)!==0;vt!==null;){var a=vt,s=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||w0;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||_a;l=w0;var u=_a;if(w0=o,(_a=c)&&!u)for(vt=a;vt!==null;)o=vt,c=o.child,o.tag===22&&o.memoizedState!==null?n4(a):c!==null?(c.return=o,vt=c):n4(a);for(;s!==null;)vt=s,IK(s),s=s.sibling;vt=a,w0=l,_a=u}e4(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,vt=s):e4(e)}}function e4(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_a||US(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_a)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ri(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$L(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$L(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}_a||t.flags&512&&FP(t)}catch(h){mr(t,t.return,h)}}if(t===e){vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,vt=n;break}vt=t.return}}function t4(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,vt=n;break}vt=t.return}}function n4(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{US(4,t)}catch(c){mr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){mr(t,a,c)}}var s=t.return;try{FP(t)}catch(c){mr(t,s,c)}break;case 5:var o=t.return;try{FP(t)}catch(c){mr(t,o,c)}}}catch(c){mr(t,t.return,c)}if(t===e){vt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,vt=l;break}vt=t.return}}var Ole=Math.ceil,Tw=zl.ReactCurrentDispatcher,$_=zl.ReactCurrentOwner,di=zl.ReactCurrentBatchConfig,on=0,la=null,Tr=null,wa=0,As=0,hh=su(0),$r=0,Pv=null,Cd=0,KS=0,F_=0,Wg=null,us=null,B_=0,tm=1/0,rl=null,_w=!1,zP=null,Rc=null,S0=!1,Sc=null,Dw=0,qg=0,UP=null,_b=-1,Db=0;function Ka(){return on&6?Sr():_b!==-1?_b:_b=Sr()}function Mc(e){return e.mode&1?on&2&&wa!==0?wa&-wa:xle.transition!==null?(Db===0&&(Db=xU()),Db):(e=wn,e!==0||(e=window.event,e=e===void 0?16:kU(e.type)),e):1}function Ui(e,t,n,r){if(50<qg)throw qg=0,UP=null,Error(et(185));Ay(e,n,r),(!(on&2)||e!==la)&&(e===la&&(!(on&2)&&(KS|=n),$r===4&&yc(e,wa)),xs(e,r),n===1&&on===0&&!(t.mode&1)&&(tm=Sr()+500,BS&&iu()))}function xs(e,t){var n=e.callbackNode;xoe(e,t);var r=pw(e,e===la?wa:0);if(r===0)n!==null&&dL(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dL(n),t===1)e.tag===0?yle(r4.bind(null,e)):GU(r4.bind(null,e)),mle(function(){!(on&6)&&iu()}),n=null;else{switch(bU(r)){case 1:n=f_;break;case 4:n=vU;break;case 16:n=mw;break;case 536870912:n=yU;break;default:n=mw}n=UK(n,OK.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function OK(e,t){if(_b=-1,Db=0,on&6)throw Error(et(327));var n=e.callbackNode;if(Oh()&&e.callbackNode!==n)return null;var r=pw(e,e===la?wa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rw(e,r);else{t=r;var a=on;on|=2;var s=$K();(la!==e||wa!==t)&&(rl=null,tm=Sr()+500,ad(e,t));do try{Fle();break}catch(l){LK(e,l)}while(!0);N_(),Tw.current=s,on=a,Tr!==null?t=0:(la=null,wa=0,t=$r)}if(t!==0){if(t===2&&(a=gP(e),a!==0&&(r=a,t=KP(e,a))),t===1)throw n=Pv,ad(e,0),yc(e,r),xs(e,Sr()),n;if(t===6)yc(e,r);else{if(a=e.current.alternate,!(r&30)&&!Lle(a)&&(t=Rw(e,r),t===2&&(s=gP(e),s!==0&&(r=s,t=KP(e,s))),t===1))throw n=Pv,ad(e,0),yc(e,r),xs(e,Sr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(et(345));case 2:Ru(e,us,rl);break;case 3:if(yc(e,r),(r&130023424)===r&&(t=B_+500-Sr(),10<t)){if(pw(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ka(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=jP(Ru.bind(null,e,us,rl),t);break}Ru(e,us,rl);break;case 4:if(yc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-zi(r);s=1<<o,o=t[o],o>a&&(a=o),r&=~s}if(r=a,r=Sr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ole(r/1960))-r,10<r){e.timeoutHandle=jP(Ru.bind(null,e,us,rl),r);break}Ru(e,us,rl);break;case 5:Ru(e,us,rl);break;default:throw Error(et(329))}}}return xs(e,Sr()),e.callbackNode===n?OK.bind(null,e):null}function KP(e,t){var n=Wg;return e.current.memoizedState.isDehydrated&&(ad(e,t).flags|=256),e=Rw(e,t),e!==2&&(t=us,us=n,t!==null&&GP(t)),e}function GP(e){us===null?us=e:us.push.apply(us,e)}function Lle(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Wi(s(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yc(e,t){for(t&=~F_,t&=~KS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zi(t),r=1<<n;e[n]=-1,t&=~r}}function r4(e){if(on&6)throw Error(et(327));Oh();var t=pw(e,0);if(!(t&1))return xs(e,Sr()),null;var n=Rw(e,t);if(e.tag!==0&&n===2){var r=gP(e);r!==0&&(t=r,n=KP(e,r))}if(n===1)throw n=Pv,ad(e,0),yc(e,t),xs(e,Sr()),n;if(n===6)throw Error(et(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e,us,rl),xs(e,Sr()),null}function V_(e,t){var n=on;on|=1;try{return e(t)}finally{on=n,on===0&&(tm=Sr()+500,BS&&iu())}}function jd(e){Sc!==null&&Sc.tag===0&&!(on&6)&&Oh();var t=on;on|=1;var n=di.transition,r=wn;try{if(di.transition=null,wn=1,e)return e()}finally{wn=r,di.transition=n,on=t,!(on&6)&&iu()}}function z_(){As=hh.current,Vn(hh)}function ad(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hle(n)),Tr!==null)for(n=Tr.return;n!==null;){var r=n;switch(S_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bw();break;case 3:Xh(),Vn(vs),Vn(Ma),__();break;case 5:T_(r);break;case 4:Xh();break;case 13:Vn(nr);break;case 19:Vn(nr);break;case 10:k_(r.type._context);break;case 22:case 23:z_()}n=n.return}if(la=e,Tr=e=Ic(e.current,null),wa=As=t,$r=0,Pv=null,F_=KS=Cd=0,us=Wg=null,Ku!==null){for(t=0;t<Ku.length;t++)if(n=Ku[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=a,r.next=o}n.pending=r}Ku=null}return e}function LK(e,t){do{var n=Tr;try{if(N_(),Pb.current=Ew,Pw){for(var r=ar.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Pw=!1}if(Sd=0,sa=Or=ar=null,Kg=!1,Nv=0,$_.current=null,n===null||n.return===null){$r=1,Pv=t,Tr=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=wa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=KL(o);if(m!==null){m.flags&=-257,GL(m,o,l,s,t),m.mode&1&&UL(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){UL(s,u,t),U_();break e}c=Error(et(426))}}else if(Yn&&l.mode&1){var b=KL(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),GL(b,o,l,s,t),C_(em(c,l));break e}}s=c=em(c,l),$r!==4&&($r=2),Wg===null?Wg=[s]:Wg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=bK(s,c,t);LL(s,y);break e;case 1:l=c;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Rc===null||!Rc.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=wK(s,l,t);LL(s,S);break e}}s=s.return}while(s!==null)}BK(n)}catch(j){t=j,Tr===n&&n!==null&&(Tr=n=n.return);continue}break}while(!0)}function $K(){var e=Tw.current;return Tw.current=Ew,e===null?Ew:e}function U_(){($r===0||$r===3||$r===2)&&($r=4),la===null||!(Cd&268435455)&&!(KS&268435455)||yc(la,wa)}function Rw(e,t){var n=on;on|=2;var r=$K();(la!==e||wa!==t)&&(rl=null,ad(e,t));do try{$le();break}catch(a){LK(e,a)}while(!0);if(N_(),on=n,Tw.current=r,Tr!==null)throw Error(et(261));return la=null,wa=0,$r}function $le(){for(;Tr!==null;)FK(Tr)}function Fle(){for(;Tr!==null&&!uoe();)FK(Tr)}function FK(e){var t=zK(e.alternate,e,As);e.memoizedProps=e.pendingProps,t===null?BK(e):Tr=t,$_.current=null}function BK(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dle(n,t),n!==null){n.flags&=32767,Tr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$r=6,Tr=null;return}}else if(n=_le(n,t,As),n!==null){Tr=n;return}if(t=t.sibling,t!==null){Tr=t;return}Tr=t=e}while(t!==null);$r===0&&($r=5)}function Ru(e,t,n){var r=wn,a=di.transition;try{di.transition=null,wn=1,Ble(e,t,n,r)}finally{di.transition=a,wn=r}return null}function Ble(e,t,n,r){do Oh();while(Sc!==null);if(on&6)throw Error(et(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(et(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(boe(e,s),e===la&&(Tr=la=null,wa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||S0||(S0=!0,UK(mw,function(){return Oh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=di.transition,di.transition=null;var o=wn;wn=1;var l=on;on|=4,$_.current=null,Mle(e,n),MK(n,e),ile(SP),gw=!!wP,SP=wP=null,e.current=n,Ile(n),doe(),on=l,wn=o,di.transition=s}else e.current=n;if(S0&&(S0=!1,Sc=e,Dw=a),s=e.pendingLanes,s===0&&(Rc=null),moe(n.stateNode),xs(e,Sr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(_w)throw _w=!1,e=zP,zP=null,e;return Dw&1&&e.tag!==0&&Oh(),s=e.pendingLanes,s&1?e===UP?qg++:(qg=0,UP=e):qg=0,iu(),null}function Oh(){if(Sc!==null){var e=bU(Dw),t=di.transition,n=wn;try{if(di.transition=null,wn=16>e?16:e,Sc===null)var r=!1;else{if(e=Sc,Sc=null,Dw=0,on&6)throw Error(et(331));var a=on;for(on|=4,vt=e.current;vt!==null;){var s=vt,o=s.child;if(vt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(vt=u;vt!==null;){var d=vt;switch(d.tag){case 0:case 11:case 15:Gg(8,d,s)}var f=d.child;if(f!==null)f.return=d,vt=f;else for(;vt!==null;){d=vt;var h=d.sibling,m=d.return;if(_K(d),d===u){vt=null;break}if(h!==null){h.return=m,vt=h;break}vt=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}vt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,vt=o;else e:for(;vt!==null;){if(s=vt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gg(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,vt=y;break e}vt=s.return}}var x=e.current;for(vt=x;vt!==null;){o=vt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,vt=w;else e:for(o=x;vt!==null;){if(l=vt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:US(9,l)}}catch(j){mr(l,l.return,j)}if(l===o){vt=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,vt=S;break e}vt=l.return}}if(on=a,iu(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(IS,e)}catch{}r=!0}return r}finally{wn=n,di.transition=t}}return!1}function a4(e,t,n){t=em(n,t),t=bK(e,t,1),e=Dc(e,t,1),t=Ka(),e!==null&&(Ay(e,1,t),xs(e,t))}function mr(e,t,n){if(e.tag===3)a4(e,e,n);else for(;t!==null;){if(t.tag===3){a4(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rc===null||!Rc.has(r))){e=em(n,e),e=wK(t,e,1),t=Dc(t,e,1),e=Ka(),t!==null&&(Ay(t,1,e),xs(t,e));break}}t=t.return}}function Vle(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ka(),e.pingedLanes|=e.suspendedLanes&n,la===e&&(wa&n)===n&&($r===4||$r===3&&(wa&130023424)===wa&&500>Sr()-B_?ad(e,0):F_|=n),xs(e,t)}function VK(e,t){t===0&&(e.mode&1?(t=f0,f0<<=1,!(f0&130023424)&&(f0=4194304)):t=1);var n=Ka();e=Nl(e,t),e!==null&&(Ay(e,t,n),xs(e,n))}function zle(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VK(e,n)}function Ule(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(t),VK(e,n)}var zK;zK=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vs.current)ds=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ds=!1,Tle(e,t,n);ds=!!(e.flags&131072)}else ds=!1,Yn&&t.flags&1048576&&WU(t,Cw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Tb(e,t),e=t.pendingProps;var a=Qh(t,Ma.current);Ih(t,n),a=R_(null,t,r,e,a,n);var s=M_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ys(r)?(s=!0,ww(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,P_(t),a.updater=zS,t.stateNode=a,a._reactInternals=t,_P(t,r,e,n),t=MP(null,t,r,!0,s,n)):(t.tag=0,Yn&&s&&w_(t),La(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Tb(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Gle(r),e=Ri(r,e),a){case 0:t=RP(null,t,r,e,n);break e;case 1:t=HL(null,t,r,e,n);break e;case 11:t=WL(null,t,r,e,n);break e;case 14:t=qL(null,t,r,Ri(r.type,e),n);break e}throw Error(et(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ri(r,a),RP(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ri(r,a),HL(e,t,r,a,n);case 3:e:{if(NK(t),e===null)throw Error(et(387));r=t.pendingProps,s=t.memoizedState,a=s.element,JU(e,t),kw(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=em(Error(et(423)),t),t=YL(e,t,r,n,a);break e}else if(r!==a){a=em(Error(et(424)),t),t=YL(e,t,r,n,a);break e}else for(Ds=_c(t.stateNode.containerInfo.firstChild),Os=t,Yn=!0,Oi=null,n=QU(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zh(),r===a){t=kl(e,t,n);break e}La(e,t,r,n)}t=t.child}return t;case 5:return XU(t),e===null&&PP(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,CP(r,a)?o=null:s!==null&&CP(r,s)&&(t.flags|=32),jK(e,t),La(e,t,o,n),t.child;case 6:return e===null&&PP(t),null;case 13:return kK(e,t,n);case 4:return E_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jh(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ri(r,a),WL(e,t,r,a,n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:return La(e,t,t.pendingProps.children,n),t.child;case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Rn(jw,r._currentValue),r._currentValue=o,s!==null)if(Wi(s.value,o)){if(s.children===a.children&&!vs.current){t=kl(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=vl(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),EP(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(et(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),EP(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}La(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ih(t,n),a=mi(a),r=r(a),t.flags|=1,La(e,t,r,n),t.child;case 14:return r=t.type,a=Ri(r,t.pendingProps),a=Ri(r.type,a),qL(e,t,r,a,n);case 15:return SK(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ri(r,a),Tb(e,t),t.tag=1,ys(r)?(e=!0,ww(t)):e=!1,Ih(t,n),xK(t,r,a),_P(t,r,a,n),MP(null,t,r,!0,e,n);case 19:return AK(e,t,n);case 22:return CK(e,t,n)}throw Error(et(156,t.tag))};function UK(e,t){return gU(e,t)}function Kle(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(e,t,n,r){return new Kle(e,t,n,r)}function K_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gle(e){if(typeof e=="function")return K_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===c_)return 11;if(e===u_)return 14}return 2}function Ic(e,t){var n=e.alternate;return n===null?(n=li(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rb(e,t,n,r,a,s){var o=2;if(r=e,typeof e=="function")K_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rh:return sd(n.children,a,s,t);case l_:o=8,a|=8;break;case tP:return e=li(12,n,t,a|2),e.elementType=tP,e.lanes=s,e;case nP:return e=li(13,n,t,a),e.elementType=nP,e.lanes=s,e;case rP:return e=li(19,n,t,a),e.elementType=rP,e.lanes=s,e;case Xz:return GS(n,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zz:o=10;break e;case Jz:o=9;break e;case c_:o=11;break e;case u_:o=14;break e;case hc:o=16,r=null;break e}throw Error(et(130,e==null?e:typeof e,""))}return t=li(o,n,t,a),t.elementType=e,t.type=r,t.lanes=s,t}function sd(e,t,n,r){return e=li(7,e,r,t),e.lanes=n,e}function GS(e,t,n,r){return e=li(22,e,r,t),e.elementType=Xz,e.lanes=n,e.stateNode={isHidden:!1},e}function tk(e,t,n){return e=li(6,e,null,t),e.lanes=n,e}function nk(e,t,n){return t=li(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wle(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ON(0),this.expirationTimes=ON(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ON(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function G_(e,t,n,r,a,s,o,l,c){return e=new Wle(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=li(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},P_(s),e}function qle(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KK(e){if(!e)return Kc;e=e._reactInternals;e:{if(tf(e)!==e||e.tag!==1)throw Error(et(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ys(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(et(171))}if(e.tag===1){var n=e.type;if(ys(n))return KU(e,n,t)}return t}function GK(e,t,n,r,a,s,o,l,c){return e=G_(n,r,!0,e,a,s,o,l,c),e.context=KK(null),n=e.current,r=Ka(),a=Mc(n),s=vl(r,a),s.callback=t??null,Dc(n,s,a),e.current.lanes=a,Ay(e,a,r),xs(e,r),e}function WS(e,t,n,r){var a=t.current,s=Ka(),o=Mc(a);return n=KK(n),t.context===null?t.context=n:t.pendingContext=n,t=vl(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dc(a,t,o),e!==null&&(Ui(e,a,o,s),Ab(e,a,o)),o}function Mw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function s4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function W_(e,t){s4(e,t),(e=e.alternate)&&s4(e,t)}function Hle(){return null}var WK=typeof reportError=="function"?reportError:function(e){console.error(e)};function q_(e){this._internalRoot=e}qS.prototype.render=q_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(et(409));WS(e,t,null,null)};qS.prototype.unmount=q_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jd(function(){WS(null,e,null,null)}),t[jl]=null}};function qS(e){this._internalRoot=e}qS.prototype.unstable_scheduleHydration=function(e){if(e){var t=CU();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vc.length&&t!==0&&t<vc[n].priority;n++);vc.splice(n,0,e),n===0&&NU(e)}};function H_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function HS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function i4(){}function Yle(e,t,n,r,a){if(a){if(typeof r=="function"){var s=r;r=function(){var u=Mw(o);s.call(u)}}var o=GK(t,r,e,0,null,!1,!1,"",i4);return e._reactRootContainer=o,e[jl]=o.current,bv(e.nodeType===8?e.parentNode:e),jd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=Mw(c);l.call(u)}}var c=G_(e,0,!1,null,null,!1,!1,"",i4);return e._reactRootContainer=c,e[jl]=c.current,bv(e.nodeType===8?e.parentNode:e),jd(function(){WS(t,c,n,r)}),c}function YS(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=Mw(o);l.call(c)}}WS(t,o,e,a)}else o=Yle(n,t,e,a,r);return Mw(o)}wU=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gg(t.pendingLanes);n!==0&&(h_(t,n|1),xs(t,Sr()),!(on&6)&&(tm=Sr()+500,iu()))}break;case 13:jd(function(){var r=Nl(e,1);if(r!==null){var a=Ka();Ui(r,e,1,a)}}),W_(e,1)}};m_=function(e){if(e.tag===13){var t=Nl(e,134217728);if(t!==null){var n=Ka();Ui(t,e,134217728,n)}W_(e,134217728)}};SU=function(e){if(e.tag===13){var t=Mc(e),n=Nl(e,t);if(n!==null){var r=Ka();Ui(n,e,t,r)}W_(e,t)}};CU=function(){return wn};jU=function(e,t){var n=wn;try{return wn=e,t()}finally{wn=n}};hP=function(e,t,n){switch(t){case"input":if(iP(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=FS(r);if(!a)throw Error(et(90));tU(r),iP(r,a)}}}break;case"textarea":rU(e,n);break;case"select":t=n.value,t!=null&&_h(e,!!n.multiple,t,!1)}};uU=V_;dU=jd;var Qle={usingClientEntryPoint:!1,Events:[Ey,oh,FS,lU,cU,V_]},Kp={findFiberByHostInstance:Uu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zle={bundleType:Kp.bundleType,version:Kp.version,rendererPackageName:Kp.rendererPackageName,rendererConfig:Kp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mU(e),e===null?null:e.stateNode},findFiberByHostInstance:Kp.findFiberByHostInstance||Hle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var C0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!C0.isDisabled&&C0.supportsFiber)try{IS=C0.inject(Zle),Co=C0}catch{}}Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qle;Ws.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H_(t))throw Error(et(200));return qle(e,t,null,n)};Ws.createRoot=function(e,t){if(!H_(e))throw Error(et(299));var n=!1,r="",a=WK;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=G_(e,1,!1,null,null,n,!1,r,a),e[jl]=t.current,bv(e.nodeType===8?e.parentNode:e),new q_(t)};Ws.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(et(188)):(e=Object.keys(e).join(","),Error(et(268,e)));return e=mU(t),e=e===null?null:e.stateNode,e};Ws.flushSync=function(e){return jd(e)};Ws.hydrate=function(e,t,n){if(!HS(t))throw Error(et(200));return YS(null,e,t,!0,n)};Ws.hydrateRoot=function(e,t,n){if(!H_(e))throw Error(et(405));var r=n!=null&&n.hydratedSources||null,a=!1,s="",o=WK;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=GK(t,null,e,1,n??null,a,!1,s,o),e[jl]=t.current,bv(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new qS(t)};Ws.render=function(e,t,n){if(!HS(t))throw Error(et(200));return YS(null,e,t,!1,n)};Ws.unmountComponentAtNode=function(e){if(!HS(e))throw Error(et(40));return e._reactRootContainer?(jd(function(){YS(null,null,e,!1,function(){e._reactRootContainer=null,e[jl]=null})}),!0):!1};Ws.unstable_batchedUpdates=V_;Ws.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!HS(n))throw Error(et(200));if(e==null||e._reactInternals===void 0)throw Error(et(38));return YS(e,t,n,!1,r)};Ws.version="18.3.1-next-f1338f8080-20240426";function qK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qK)}catch(e){console.error(e)}}qK(),qz.exports=Ws;var Vo=qz.exports;const Y_=xi(Vo),Jle=e_({__proto__:null,default:Y_},[Vo]);var HK,o4=Vo;HK=o4.createRoot,o4.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qn.apply(this,arguments)}var Ar;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ar||(Ar={}));const l4="popstate";function Xle(e){e===void 0&&(e={});function t(r,a){let{pathname:s,search:o,hash:l}=r.location;return Ev("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:_y(a)}return tce(t,n,null,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ece(){return Math.random().toString(36).substr(2,8)}function c4(e,t){return{usr:e.state,key:e.key,idx:t}}function Ev(e,t,n,r){return n===void 0&&(n=null),qn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ou(t):t,{state:n,key:t&&t.key||r||ece()})}function _y(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ou(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tce(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,l=Ar.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(qn({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ar.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:y})}function h(b,y){l=Ar.Push;let x=Ev(v.location,b,y);u=d()+1;let w=c4(x,u),S=v.createHref(x);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(S)}s&&c&&c({action:l,location:v.location,delta:1})}function m(b,y){l=Ar.Replace;let x=Ev(v.location,b,y);u=d();let w=c4(x,u),S=v.createHref(x);o.replaceState(w,"",S),s&&c&&c({action:l,location:v.location,delta:0})}function g(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof b=="string"?b:_y(b);return x=x.replace(/ $/,"%20"),Zt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(l4,f),c=b,()=>{a.removeEventListener(l4,f),c=null}},createHref(b){return t(a,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(b){return o.go(b)}};return v}var yn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yn||(yn={}));const nce=new Set(["lazy","caseSensitive","path","id","index","children"]);function rce(e){return e.index===!0}function Iw(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,s)=>{let o=[...n,String(s)],l=typeof a.id=="string"?a.id:o.join("-");if(Zt(a.index!==!0||!a.children,"Cannot specify children on an index route"),Zt(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),rce(a)){let c=qn({},a,t(a),{id:l});return r[l]=c,c}else{let c=qn({},a,t(a),{id:l,children:void 0});return r[l]=c,a.children&&(c.children=Iw(a.children,t,o,r)),c}})}function Vu(e,t,n){return n===void 0&&(n="/"),Mb(e,t,n,!1)}function Mb(e,t,n,r){let a=typeof t=="string"?ou(t):t,s=Dy(a.pathname||"/",n);if(s==null)return null;let o=YK(e);sce(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=gce(s);l=mce(o[c],u,r)}return l}function ace(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function YK(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Oc([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Zt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),YK(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:fce(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of QK(s.path))a(s,o,c)}),t}function QK(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let o=QK(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sce(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hce(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ice=/^:[\w-]+$/,oce=3,lce=2,cce=1,uce=10,dce=-2,u4=e=>e==="*";function fce(e,t){let n=e.split("/"),r=n.length;return n.some(u4)&&(r+=dce),t&&(r+=lce),n.filter(a=>!u4(a)).reduce((a,s)=>a+(ice.test(s)?oce:s===""?cce:uce),r)}function hce(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function mce(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=d4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=d4({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Oc([s,f.pathname]),pathnameBase:bce(Oc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Oc([s,f.pathnameBase]))}return o}function d4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pce(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=l[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function pce(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Nd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function gce(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const vce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yce=e=>vce.test(e);function xce(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ou(e):e,s;if(n)if(yce(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Nd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=f4(n.substring(1),"/"):s=f4(n,t)}else s=t;return{pathname:s,search:wce(r),hash:Sce(a)}}function f4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function rk(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function JK(e,t){let n=ZK(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function XK(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=ou(e):(a=qn({},e),Zt(!a.pathname||!a.pathname.includes("?"),rk("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),rk("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),rk("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=xce(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Oc=e=>e.join("/").replace(/\/\/+/g,"/"),bce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wce=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sce=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Ow{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Tv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eG=["post","put","patch","delete"],Cce=new Set(eG),jce=["get",...eG],Nce=new Set(jce),kce=new Set([301,302,303,307,308]),Ace=new Set([307,308]),ak={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Pce={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ece=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),tG="remix-router-transitions";function Tce(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Zt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let ue=e.detectErrorBoundary;a=he=>({hasErrorBoundary:ue(he)})}else a=Ece;let s={},o=Iw(e.routes,a,void 0,s),l,c=e.basename||"/",u=e.dataStrategy||Mce,d=e.patchRoutesOnNavigation,f=qn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,m=new Set,g=null,v=null,b=null,y=e.hydrationData!=null,x=Vu(o,e.history.location,c),w=!1,S=null;if(x==null&&!d){let ue=ls(404,{pathname:e.history.location.pathname}),{matches:he,route:Ee}=C4(o);x=he,S={[Ee.id]:ue}}x&&!e.hydrationData&&Tt(x,o,e.history.location.pathname).active&&(x=null);let j;if(x)if(x.some(ue=>ue.route.lazy))j=!1;else if(!x.some(ue=>ue.route.loader))j=!0;else if(f.v7_partialHydration){let ue=e.hydrationData?e.hydrationData.loaderData:null,he=e.hydrationData?e.hydrationData.errors:null;if(he){let Ee=x.findIndex(Qe=>he[Qe.route.id]!==void 0);j=x.slice(0,Ee+1).every(Qe=>!qP(Qe.route,ue,he))}else j=x.every(Ee=>!qP(Ee.route,ue,he))}else j=e.hydrationData!=null;else if(j=!1,x=[],f.v7_partialHydration){let ue=Tt(null,o,e.history.location.pathname);ue.active&&ue.matches&&(w=!0,x=ue.matches)}let k,N={historyAction:e.history.action,location:e.history.location,matches:x,initialized:j,navigation:ak,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},P=Ar.Pop,E=!1,R,O=!1,G=new Map,te=null,V=!1,z=!1,$=[],U=new Set,M=new Map,F=0,W=-1,Z=new Map,H=new Set,ae=new Map,fe=new Map,we=new Set,Pe=new Map,me=new Map,Ue;function ne(){if(h=e.history.listen(ue=>{let{action:he,location:Ee,delta:Qe}=ue;if(Ue){Ue(),Ue=void 0;return}Nd(me.size===0||Qe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let at=ze({currentLocation:N.location,nextLocation:Ee,historyAction:he});if(at&&Qe!=null){let St=new Promise(Dt=>{Ue=Dt});e.history.go(Qe*-1),bt(at,{state:"blocked",location:Ee,proceed(){bt(at,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),St.then(()=>e.history.go(Qe))},reset(){let Dt=new Map(N.blockers);Dt.set(at,Gp),re({blockers:Dt})}});return}return Le(he,Ee)}),n){Hce(t,G);let ue=()=>Yce(t,G);t.addEventListener("pagehide",ue),te=()=>t.removeEventListener("pagehide",ue)}return N.initialized||Le(Ar.Pop,N.location,{initialHydration:!0}),k}function je(){h&&h(),te&&te(),m.clear(),R&&R.abort(),N.fetchers.forEach((ue,he)=>Re(he)),N.blockers.forEach((ue,he)=>nt(he))}function ve(ue){return m.add(ue),()=>m.delete(ue)}function re(ue,he){he===void 0&&(he={}),N=qn({},N,ue);let Ee=[],Qe=[];f.v7_fetcherPersist&&N.fetchers.forEach((at,St)=>{at.state==="idle"&&(we.has(St)?Qe.push(St):Ee.push(St))}),we.forEach(at=>{!N.fetchers.has(at)&&!M.has(at)&&Qe.push(at)}),[...m].forEach(at=>at(N,{deletedFetchers:Qe,viewTransitionOpts:he.viewTransitionOpts,flushSync:he.flushSync===!0})),f.v7_fetcherPersist?(Ee.forEach(at=>N.fetchers.delete(at)),Qe.forEach(at=>Re(at))):Qe.forEach(at=>we.delete(at))}function Ye(ue,he,Ee){var Qe,at;let{flushSync:St}=Ee===void 0?{}:Ee,Dt=N.actionData!=null&&N.navigation.formMethod!=null&&Ii(N.navigation.formMethod)&&N.navigation.state==="loading"&&((Qe=ue.state)==null?void 0:Qe._isRedirect)!==!0,gt;he.actionData?Object.keys(he.actionData).length>0?gt=he.actionData:gt=null:Dt?gt=N.actionData:gt=null;let dt=he.loaderData?w4(N.loaderData,he.loaderData,he.matches||[],he.errors):N.loaderData,ut=N.blockers;ut.size>0&&(ut=new Map(ut),ut.forEach((Ht,mn)=>ut.set(mn,Gp)));let ht=E===!0||N.navigation.formMethod!=null&&Ii(N.navigation.formMethod)&&((at=ue.state)==null?void 0:at._isRedirect)!==!0;l&&(o=l,l=void 0),V||P===Ar.Pop||(P===Ar.Push?e.history.push(ue,ue.state):P===Ar.Replace&&e.history.replace(ue,ue.state));let Bt;if(P===Ar.Pop){let Ht=G.get(N.location.pathname);Ht&&Ht.has(ue.pathname)?Bt={currentLocation:N.location,nextLocation:ue}:G.has(ue.pathname)&&(Bt={currentLocation:ue,nextLocation:N.location})}else if(O){let Ht=G.get(N.location.pathname);Ht?Ht.add(ue.pathname):(Ht=new Set([ue.pathname]),G.set(N.location.pathname,Ht)),Bt={currentLocation:N.location,nextLocation:ue}}re(qn({},he,{actionData:gt,loaderData:dt,historyAction:P,location:ue,initialized:!0,navigation:ak,revalidation:"idle",restoreScrollPosition:pt(ue,he.matches||N.matches),preventScrollReset:ht,blockers:ut}),{viewTransitionOpts:Bt,flushSync:St===!0}),P=Ar.Pop,E=!1,O=!1,V=!1,z=!1,$=[]}async function Fe(ue,he){if(typeof ue=="number"){e.history.go(ue);return}let Ee=WP(N.location,N.matches,c,f.v7_prependBasename,ue,f.v7_relativeSplatPath,he==null?void 0:he.fromRouteId,he==null?void 0:he.relative),{path:Qe,submission:at,error:St}=h4(f.v7_normalizeFormMethod,!1,Ee,he),Dt=N.location,gt=Ev(N.location,Qe,he&&he.state);gt=qn({},gt,e.history.encodeLocation(gt));let dt=he&&he.replace!=null?he.replace:void 0,ut=Ar.Push;dt===!0?ut=Ar.Replace:dt===!1||at!=null&&Ii(at.formMethod)&&at.formAction===N.location.pathname+N.location.search&&(ut=Ar.Replace);let ht=he&&"preventScrollReset"in he?he.preventScrollReset===!0:void 0,Bt=(he&&he.flushSync)===!0,Ht=ze({currentLocation:Dt,nextLocation:gt,historyAction:ut});if(Ht){bt(Ht,{state:"blocked",location:gt,proceed(){bt(Ht,{state:"proceeding",proceed:void 0,reset:void 0,location:gt}),Fe(ue,he)},reset(){let mn=new Map(N.blockers);mn.set(Ht,Gp),re({blockers:mn})}});return}return await Le(ut,gt,{submission:at,pendingError:St,preventScrollReset:ht,replace:he&&he.replace,enableViewTransition:he&&he.viewTransition,flushSync:Bt})}function Je(){if(It(),re({revalidation:"loading"}),N.navigation.state!=="submitting"){if(N.navigation.state==="idle"){Le(N.historyAction,N.location,{startUninterruptedRevalidation:!0});return}Le(P||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:O===!0})}}async function Le(ue,he,Ee){R&&R.abort(),R=null,P=ue,V=(Ee&&Ee.startUninterruptedRevalidation)===!0,_t(N.location,N.matches),E=(Ee&&Ee.preventScrollReset)===!0,O=(Ee&&Ee.enableViewTransition)===!0;let Qe=l||o,at=Ee&&Ee.overrideNavigation,St=Ee!=null&&Ee.initialHydration&&N.matches&&N.matches.length>0&&!w?N.matches:Vu(Qe,he,c),Dt=(Ee&&Ee.flushSync)===!0;if(St&&N.initialized&&!z&&Bce(N.location,he)&&!(Ee&&Ee.submission&&Ii(Ee.submission.formMethod))){Ye(he,{matches:St},{flushSync:Dt});return}let gt=Tt(St,Qe,he.pathname);if(gt.active&&gt.matches&&(St=gt.matches),!St){let{error:dn,notFoundMatches:Wt,route:An}=Nn(he.pathname);Ye(he,{matches:Wt,loaderData:{},errors:{[An.id]:dn}},{flushSync:Dt});return}R=new AbortController;let dt=Ff(e.history,he,R.signal,Ee&&Ee.submission),ut;if(Ee&&Ee.pendingError)ut=[zu(St).route.id,{type:yn.error,error:Ee.pendingError}];else if(Ee&&Ee.submission&&Ii(Ee.submission.formMethod)){let dn=await lt(dt,he,Ee.submission,St,gt.active,{replace:Ee.replace,flushSync:Dt});if(dn.shortCircuited)return;if(dn.pendingActionResult){let[Wt,An]=dn.pendingActionResult;if(Ps(An)&&Tv(An.error)&&An.error.status===404){R=null,Ye(he,{matches:dn.matches,loaderData:{},errors:{[Wt]:An.error}});return}}St=dn.matches||St,ut=dn.pendingActionResult,at=sk(he,Ee.submission),Dt=!1,gt.active=!1,dt=Ff(e.history,dt.url,dt.signal)}let{shortCircuited:ht,matches:Bt,loaderData:Ht,errors:mn}=await ct(dt,he,St,gt.active,at,Ee&&Ee.submission,Ee&&Ee.fetcherSubmission,Ee&&Ee.replace,Ee&&Ee.initialHydration===!0,Dt,ut);ht||(R=null,Ye(he,qn({matches:Bt||St},S4(ut),{loaderData:Ht,errors:mn})))}async function lt(ue,he,Ee,Qe,at,St){St===void 0&&(St={}),It();let Dt=Wce(he,Ee);if(re({navigation:Dt},{flushSync:St.flushSync===!0}),at){let ut=await kn(Qe,he.pathname,ue.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){let ht=zu(ut.partialMatches).route.id;return{matches:ut.partialMatches,pendingActionResult:[ht,{type:yn.error,error:ut.error}]}}else if(ut.matches)Qe=ut.matches;else{let{notFoundMatches:ht,error:Bt,route:Ht}=Nn(he.pathname);return{matches:ht,pendingActionResult:[Ht.id,{type:yn.error,error:Bt}]}}}let gt,dt=yg(Qe,he);if(!dt.route.action&&!dt.route.lazy)gt={type:yn.error,error:ls(405,{method:ue.method,pathname:he.pathname,routeId:dt.route.id})};else if(gt=(await zt("action",N,ue,[dt],Qe,null))[dt.route.id],ue.signal.aborted)return{shortCircuited:!0};if(Wu(gt)){let ut;return St&&St.replace!=null?ut=St.replace:ut=y4(gt.response.headers.get("Location"),new URL(ue.url),c)===N.location.pathname+N.location.search,await Rt(ue,gt,!0,{submission:Ee,replace:ut}),{shortCircuited:!0}}if(Cc(gt))throw ls(400,{type:"defer-action"});if(Ps(gt)){let ut=zu(Qe,dt.route.id);return(St&&St.replace)!==!0&&(P=Ar.Push),{matches:Qe,pendingActionResult:[ut.route.id,gt]}}return{matches:Qe,pendingActionResult:[dt.route.id,gt]}}async function ct(ue,he,Ee,Qe,at,St,Dt,gt,dt,ut,ht){let Bt=at||sk(he,St),Ht=St||Dt||N4(Bt),mn=!V&&(!f.v7_partialHydration||!dt);if(Qe){if(mn){let Pn=be(ht);re(qn({navigation:Bt},Pn!==void 0?{actionData:Pn}:{}),{flushSync:ut})}let Ot=await kn(Ee,he.pathname,ue.signal);if(Ot.type==="aborted")return{shortCircuited:!0};if(Ot.type==="error"){let Pn=zu(Ot.partialMatches).route.id;return{matches:Ot.partialMatches,loaderData:{},errors:{[Pn]:Ot.error}}}else if(Ot.matches)Ee=Ot.matches;else{let{error:Pn,notFoundMatches:as,route:Ut}=Nn(he.pathname);return{matches:as,loaderData:{},errors:{[Ut.id]:Pn}}}}let dn=l||o,[Wt,An]=p4(e.history,N,Ee,Ht,he,f.v7_partialHydration&&dt===!0,f.v7_skipActionErrorRevalidation,z,$,U,we,ae,H,dn,c,ht);if(Nt(Ot=>!(Ee&&Ee.some(Pn=>Pn.route.id===Ot))||Wt&&Wt.some(Pn=>Pn.route.id===Ot)),W=++F,Wt.length===0&&An.length===0){let Ot=He();return Ye(he,qn({matches:Ee,loaderData:{},errors:ht&&Ps(ht[1])?{[ht[0]]:ht[1].error}:null},S4(ht),Ot?{fetchers:new Map(N.fetchers)}:{}),{flushSync:ut}),{shortCircuited:!0}}if(mn){let Ot={};if(!Qe){Ot.navigation=Bt;let Pn=be(ht);Pn!==void 0&&(Ot.actionData=Pn)}An.length>0&&(Ot.fetchers=Ce(An)),re(Ot,{flushSync:ut})}An.forEach(Ot=>{Q(Ot.key),Ot.controller&&M.set(Ot.key,Ot.controller)});let Cs=()=>An.forEach(Ot=>Q(Ot.key));R&&R.signal.addEventListener("abort",Cs);let{loaderResults:vn,fetcherResults:Rr}=await Pt(N,Ee,Wt,An,ue);if(ue.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Cs),An.forEach(Ot=>M.delete(Ot.key));let cr=j0(vn);if(cr)return await Rt(ue,cr.result,!0,{replace:gt}),{shortCircuited:!0};if(cr=j0(Rr),cr)return H.add(cr.key),await Rt(ue,cr.result,!0,{replace:gt}),{shortCircuited:!0};let{loaderData:Ci,errors:ns}=b4(N,Ee,vn,ht,An,Rr,Pe);Pe.forEach((Ot,Pn)=>{Ot.subscribe(as=>{(as||Ot.done)&&Pe.delete(Pn)})}),f.v7_partialHydration&&dt&&N.errors&&(ns=qn({},N.errors,ns));let rs=He(),js=Be(W),ji=rs||js||An.length>0;return qn({matches:Ee,loaderData:Ci,errors:ns},ji?{fetchers:new Map(N.fetchers)}:{})}function be(ue){if(ue&&!Ps(ue[1]))return{[ue[0]]:ue[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Ce(ue){return ue.forEach(he=>{let Ee=N.fetchers.get(he.key),Qe=Wp(void 0,Ee?Ee.data:void 0);N.fetchers.set(he.key,Qe)}),new Map(N.fetchers)}function oe(ue,he,Ee,Qe){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Q(ue);let at=(Qe&&Qe.flushSync)===!0,St=l||o,Dt=WP(N.location,N.matches,c,f.v7_prependBasename,Ee,f.v7_relativeSplatPath,he,Qe==null?void 0:Qe.relative),gt=Vu(St,Dt,c),dt=Tt(gt,St,Dt);if(dt.active&&dt.matches&&(gt=dt.matches),!gt){Jt(ue,he,ls(404,{pathname:Dt}),{flushSync:at});return}let{path:ut,submission:ht,error:Bt}=h4(f.v7_normalizeFormMethod,!0,Dt,Qe);if(Bt){Jt(ue,he,Bt,{flushSync:at});return}let Ht=yg(gt,ut),mn=(Qe&&Qe.preventScrollReset)===!0;if(ht&&Ii(ht.formMethod)){xt(ue,he,ut,Ht,gt,dt.active,at,mn,ht);return}ae.set(ue,{routeId:he,path:ut}),rt(ue,he,ut,Ht,gt,dt.active,at,mn,ht)}async function xt(ue,he,Ee,Qe,at,St,Dt,gt,dt){It(),ae.delete(ue);function ut(Et){if(!Et.route.action&&!Et.route.lazy){let Ni=ls(405,{method:dt.formMethod,pathname:Ee,routeId:he});return Jt(ue,he,Ni,{flushSync:Dt}),!0}return!1}if(!St&&ut(Qe))return;let ht=N.fetchers.get(ue);an(ue,qce(dt,ht),{flushSync:Dt});let Bt=new AbortController,Ht=Ff(e.history,Ee,Bt.signal,dt);if(St){let Et=await kn(at,new URL(Ht.url).pathname,Ht.signal,ue);if(Et.type==="aborted")return;if(Et.type==="error"){Jt(ue,he,Et.error,{flushSync:Dt});return}else if(Et.matches){if(at=Et.matches,Qe=yg(at,Ee),ut(Qe))return}else{Jt(ue,he,ls(404,{pathname:Ee}),{flushSync:Dt});return}}M.set(ue,Bt);let mn=F,Wt=(await zt("action",N,Ht,[Qe],at,ue))[Qe.route.id];if(Ht.signal.aborted){M.get(ue)===Bt&&M.delete(ue);return}if(f.v7_fetcherPersist&&we.has(ue)){if(Wu(Wt)||Ps(Wt)){an(ue,cc(void 0));return}}else{if(Wu(Wt))if(M.delete(ue),W>mn){an(ue,cc(void 0));return}else return H.add(ue),an(ue,Wp(dt)),Rt(Ht,Wt,!1,{fetcherSubmission:dt,preventScrollReset:gt});if(Ps(Wt)){Jt(ue,he,Wt.error);return}}if(Cc(Wt))throw ls(400,{type:"defer-action"});let An=N.navigation.location||N.location,Cs=Ff(e.history,An,Bt.signal),vn=l||o,Rr=N.navigation.state!=="idle"?Vu(vn,N.navigation.location,c):N.matches;Zt(Rr,"Didn't find any matches after fetcher action");let cr=++F;Z.set(ue,cr);let Ci=Wp(dt,Wt.data);N.fetchers.set(ue,Ci);let[ns,rs]=p4(e.history,N,Rr,dt,An,!1,f.v7_skipActionErrorRevalidation,z,$,U,we,ae,H,vn,c,[Qe.route.id,Wt]);rs.filter(Et=>Et.key!==ue).forEach(Et=>{let Ni=Et.key,fa=N.fetchers.get(Ni),Jl=Wp(void 0,fa?fa.data:void 0);N.fetchers.set(Ni,Jl),Q(Ni),Et.controller&&M.set(Ni,Et.controller)}),re({fetchers:new Map(N.fetchers)});let js=()=>rs.forEach(Et=>Q(Et.key));Bt.signal.addEventListener("abort",js);let{loaderResults:ji,fetcherResults:Ot}=await Pt(N,Rr,ns,rs,Cs);if(Bt.signal.aborted)return;Bt.signal.removeEventListener("abort",js),Z.delete(ue),M.delete(ue),rs.forEach(Et=>M.delete(Et.key));let Pn=j0(ji);if(Pn)return Rt(Cs,Pn.result,!1,{preventScrollReset:gt});if(Pn=j0(Ot),Pn)return H.add(Pn.key),Rt(Cs,Pn.result,!1,{preventScrollReset:gt});let{loaderData:as,errors:Ut}=b4(N,Rr,ji,void 0,rs,Ot,Pe);if(N.fetchers.has(ue)){let Et=cc(Wt.data);N.fetchers.set(ue,Et)}Be(cr),N.navigation.state==="loading"&&cr>W?(Zt(P,"Expected pending action"),R&&R.abort(),Ye(N.navigation.location,{matches:Rr,loaderData:as,errors:Ut,fetchers:new Map(N.fetchers)})):(re({errors:Ut,loaderData:w4(N.loaderData,as,Rr,Ut),fetchers:new Map(N.fetchers)}),z=!1)}async function rt(ue,he,Ee,Qe,at,St,Dt,gt,dt){let ut=N.fetchers.get(ue);an(ue,Wp(dt,ut?ut.data:void 0),{flushSync:Dt});let ht=new AbortController,Bt=Ff(e.history,Ee,ht.signal);if(St){let Wt=await kn(at,new URL(Bt.url).pathname,Bt.signal,ue);if(Wt.type==="aborted")return;if(Wt.type==="error"){Jt(ue,he,Wt.error,{flushSync:Dt});return}else if(Wt.matches)at=Wt.matches,Qe=yg(at,Ee);else{Jt(ue,he,ls(404,{pathname:Ee}),{flushSync:Dt});return}}M.set(ue,ht);let Ht=F,dn=(await zt("loader",N,Bt,[Qe],at,ue))[Qe.route.id];if(Cc(dn)&&(dn=await Z_(dn,Bt.signal,!0)||dn),M.get(ue)===ht&&M.delete(ue),!Bt.signal.aborted){if(we.has(ue)){an(ue,cc(void 0));return}if(Wu(dn))if(W>Ht){an(ue,cc(void 0));return}else{H.add(ue),await Rt(Bt,dn,!1,{preventScrollReset:gt});return}if(Ps(dn)){Jt(ue,he,dn.error);return}Zt(!Cc(dn),"Unhandled fetcher deferred data"),an(ue,cc(dn.data))}}async function Rt(ue,he,Ee,Qe){let{submission:at,fetcherSubmission:St,preventScrollReset:Dt,replace:gt}=Qe===void 0?{}:Qe;he.response.headers.has("X-Remix-Revalidate")&&(z=!0);let dt=he.response.headers.get("Location");Zt(dt,"Expected a Location header on the redirect Response"),dt=y4(dt,new URL(ue.url),c);let ut=Ev(N.location,dt,{_isRedirect:!0});if(n){let Wt=!1;if(he.response.headers.has("X-Remix-Reload-Document"))Wt=!0;else if(Q_.test(dt)){const An=e.history.createURL(dt);Wt=An.origin!==t.location.origin||Dy(An.pathname,c)==null}if(Wt){gt?t.location.replace(dt):t.location.assign(dt);return}}R=null;let ht=gt===!0||he.response.headers.has("X-Remix-Replace")?Ar.Replace:Ar.Push,{formMethod:Bt,formAction:Ht,formEncType:mn}=N.navigation;!at&&!St&&Bt&&Ht&&mn&&(at=N4(N.navigation));let dn=at||St;if(Ace.has(he.response.status)&&dn&&Ii(dn.formMethod))await Le(ht,ut,{submission:qn({},dn,{formAction:dt}),preventScrollReset:Dt||E,enableViewTransition:Ee?O:void 0});else{let Wt=sk(ut,at);await Le(ht,ut,{overrideNavigation:Wt,fetcherSubmission:St,preventScrollReset:Dt||E,enableViewTransition:Ee?O:void 0})}}async function zt(ue,he,Ee,Qe,at,St){let Dt,gt={};try{Dt=await Ice(u,ue,he,Ee,Qe,at,St,s,a)}catch(dt){return Qe.forEach(ut=>{gt[ut.route.id]={type:yn.error,error:dt}}),gt}for(let[dt,ut]of Object.entries(Dt))if(Vce(ut)){let ht=ut.result;gt[dt]={type:yn.redirect,response:$ce(ht,Ee,dt,at,c,f.v7_relativeSplatPath)}}else gt[dt]=await Lce(ut);return gt}async function Pt(ue,he,Ee,Qe,at){let St=ue.matches,Dt=zt("loader",ue,at,Ee,he,null),gt=Promise.all(Qe.map(async ht=>{if(ht.matches&&ht.match&&ht.controller){let Ht=(await zt("loader",ue,Ff(e.history,ht.path,ht.controller.signal),[ht.match],ht.matches,ht.key))[ht.match.route.id];return{[ht.key]:Ht}}else return Promise.resolve({[ht.key]:{type:yn.error,error:ls(404,{pathname:ht.path})}})})),dt=await Dt,ut=(await gt).reduce((ht,Bt)=>Object.assign(ht,Bt),{});return await Promise.all([Kce(he,dt,at.signal,St,ue.loaderData),Gce(he,ut,Qe)]),{loaderResults:dt,fetcherResults:ut}}function It(){z=!0,$.push(...Nt()),ae.forEach((ue,he)=>{M.has(he)&&U.add(he),Q(he)})}function an(ue,he,Ee){Ee===void 0&&(Ee={}),N.fetchers.set(ue,he),re({fetchers:new Map(N.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function Jt(ue,he,Ee,Qe){Qe===void 0&&(Qe={});let at=zu(N.matches,he);Re(ue),re({errors:{[at.route.id]:Ee},fetchers:new Map(N.fetchers)},{flushSync:(Qe&&Qe.flushSync)===!0})}function jn(ue){return fe.set(ue,(fe.get(ue)||0)+1),we.has(ue)&&we.delete(ue),N.fetchers.get(ue)||Pce}function Re(ue){let he=N.fetchers.get(ue);M.has(ue)&&!(he&&he.state==="loading"&&Z.has(ue))&&Q(ue),ae.delete(ue),Z.delete(ue),H.delete(ue),f.v7_fetcherPersist&&we.delete(ue),U.delete(ue),N.fetchers.delete(ue)}function Ke(ue){let he=(fe.get(ue)||0)-1;he<=0?(fe.delete(ue),we.add(ue),f.v7_fetcherPersist||Re(ue)):fe.set(ue,he),re({fetchers:new Map(N.fetchers)})}function Q(ue){let he=M.get(ue);he&&(he.abort(),M.delete(ue))}function ke(ue){for(let he of ue){let Ee=jn(he),Qe=cc(Ee.data);N.fetchers.set(he,Qe)}}function He(){let ue=[],he=!1;for(let Ee of H){let Qe=N.fetchers.get(Ee);Zt(Qe,"Expected fetcher: "+Ee),Qe.state==="loading"&&(H.delete(Ee),ue.push(Ee),he=!0)}return ke(ue),he}function Be(ue){let he=[];for(let[Ee,Qe]of Z)if(Qe<ue){let at=N.fetchers.get(Ee);Zt(at,"Expected fetcher: "+Ee),at.state==="loading"&&(Q(Ee),Z.delete(Ee),he.push(Ee))}return ke(he),he.length>0}function tt(ue,he){let Ee=N.blockers.get(ue)||Gp;return me.get(ue)!==he&&me.set(ue,he),Ee}function nt(ue){N.blockers.delete(ue),me.delete(ue)}function bt(ue,he){let Ee=N.blockers.get(ue)||Gp;Zt(Ee.state==="unblocked"&&he.state==="blocked"||Ee.state==="blocked"&&he.state==="blocked"||Ee.state==="blocked"&&he.state==="proceeding"||Ee.state==="blocked"&&he.state==="unblocked"||Ee.state==="proceeding"&&he.state==="unblocked","Invalid blocker state transition: "+Ee.state+" -> "+he.state);let Qe=new Map(N.blockers);Qe.set(ue,he),re({blockers:Qe})}function ze(ue){let{currentLocation:he,nextLocation:Ee,historyAction:Qe}=ue;if(me.size===0)return;me.size>1&&Nd(!1,"A router only supports one blocker at a time");let at=Array.from(me.entries()),[St,Dt]=at[at.length-1],gt=N.blockers.get(St);if(!(gt&&gt.state==="proceeding")&&Dt({currentLocation:he,nextLocation:Ee,historyAction:Qe}))return St}function Nn(ue){let he=ls(404,{pathname:ue}),Ee=l||o,{matches:Qe,route:at}=C4(Ee);return Nt(),{notFoundMatches:Qe,route:at,error:he}}function Nt(ue){let he=[];return Pe.forEach((Ee,Qe)=>{(!ue||ue(Qe))&&(Ee.cancel(),he.push(Qe),Pe.delete(Qe))}),he}function vr(ue,he,Ee){if(g=ue,b=he,v=Ee||null,!y&&N.navigation===ak){y=!0;let Qe=pt(N.location,N.matches);Qe!=null&&re({restoreScrollPosition:Qe})}return()=>{g=null,b=null,v=null}}function yr(ue,he){return v&&v(ue,he.map(Qe=>ace(Qe,N.loaderData)))||ue.key}function _t(ue,he){if(g&&b){let Ee=yr(ue,he);g[Ee]=b()}}function pt(ue,he){if(g){let Ee=yr(ue,he),Qe=g[Ee];if(typeof Qe=="number")return Qe}return null}function Tt(ue,he,Ee){if(d)if(ue){if(Object.keys(ue[0].params).length>0)return{active:!0,matches:Mb(he,Ee,c,!0)}}else return{active:!0,matches:Mb(he,Ee,c,!0)||[]};return{active:!1,matches:null}}async function kn(ue,he,Ee,Qe){if(!d)return{type:"success",matches:ue};let at=ue;for(;;){let St=l==null,Dt=l||o,gt=s;try{await d({signal:Ee,path:he,matches:at,fetcherKey:Qe,patch:(ht,Bt)=>{Ee.aborted||v4(ht,Bt,Dt,gt,a)}})}catch(ht){return{type:"error",error:ht,partialMatches:at}}finally{St&&!Ee.aborted&&(o=[...o])}if(Ee.aborted)return{type:"aborted"};let dt=Vu(Dt,he,c);if(dt)return{type:"success",matches:dt};let ut=Mb(Dt,he,c,!0);if(!ut||at.length===ut.length&&at.every((ht,Bt)=>ht.route.id===ut[Bt].route.id))return{type:"success",matches:null};at=ut}}function Xn(ue){s={},l=Iw(ue,a,void 0,s)}function ja(ue,he){let Ee=l==null;v4(ue,he,l||o,s,a),Ee&&(o=[...o],re({}))}return k={get basename(){return c},get future(){return f},get state(){return N},get routes(){return o},get window(){return t},initialize:ne,subscribe:ve,enableScrollRestoration:vr,navigate:Fe,fetch:oe,revalidate:Je,createHref:ue=>e.history.createHref(ue),encodeLocation:ue=>e.history.encodeLocation(ue),getFetcher:jn,deleteFetcher:Ke,dispose:je,getBlocker:tt,deleteBlocker:nt,patchRoutes:ja,_internalFetchControllers:M,_internalActiveDeferreds:Pe,_internalSetRoutes:Xn},k}function _ce(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function WP(e,t,n,r,a,s,o,l){let c,u;if(o){c=[];for(let f of t)if(c.push(f),f.route.id===o){u=f;break}}else c=t,u=t[t.length-1];let d=XK(a||".",JK(c,s),Dy(e.pathname,n)||e.pathname,l==="path");if(a==null&&(d.search=e.search,d.hash=e.hash),(a==null||a===""||a===".")&&u){let f=J_(d.search);if(u.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let h=new URLSearchParams(d.search),m=h.getAll("index");h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();d.search=g?"?"+g:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Oc([n,d.pathname])),_y(d)}function h4(e,t,n,r){if(!r||!_ce(r))return{path:n};if(r.formMethod&&!Uce(r.formMethod))return{path:n,error:ls(405,{method:r.formMethod})};let a=()=>({path:n,error:ls(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),l=aG(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ii(o))return a();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[v,b]=g;return""+m+v+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Ii(o))return a();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return a()}}}Zt(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=HP(r.formData),u=r.formData;else if(r.body instanceof FormData)c=HP(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=x4(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=x4(c)}catch{return a()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ii(d.formMethod))return{path:n,submission:d};let f=ou(n);return t&&f.search&&J_(f.search)&&c.append("index",""),f.search="?"+c,{path:_y(f),submission:d}}function m4(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(a=>a.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function p4(e,t,n,r,a,s,o,l,c,u,d,f,h,m,g,v){let b=v?Ps(v[1])?v[1].error:v[1].data:void 0,y=e.createURL(t.location),x=e.createURL(a),w=n;s&&t.errors?w=m4(n,Object.keys(t.errors)[0],!0):v&&Ps(v[1])&&(w=m4(n,v[0]));let S=v?v[1].statusCode:void 0,j=o&&S&&S>=400,k=w.filter((P,E)=>{let{route:R}=P;if(R.lazy)return!0;if(R.loader==null)return!1;if(s)return qP(R,t.loaderData,t.errors);if(Dce(t.loaderData,t.matches[E],P)||c.some(te=>te===P.route.id))return!0;let O=t.matches[E],G=P;return g4(P,qn({currentUrl:y,currentParams:O.params,nextUrl:x,nextParams:G.params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:j?!1:l||y.pathname+y.search===x.pathname+x.search||y.search!==x.search||nG(O,G)}))}),N=[];return f.forEach((P,E)=>{if(s||!n.some(V=>V.route.id===P.routeId)||d.has(E))return;let R=Vu(m,P.path,g);if(!R){N.push({key:E,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let O=t.fetchers.get(E),G=yg(R,P.path),te=!1;h.has(E)?te=!1:u.has(E)?(u.delete(E),te=!0):O&&O.state!=="idle"&&O.data===void 0?te=l:te=g4(G,qn({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:j?!1:l})),te&&N.push({key:E,routeId:P.routeId,path:P.path,matches:R,match:G,controller:new AbortController})}),[k,N]}function qP(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function Dce(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function nG(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function g4(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function v4(e,t,n,r,a){var s;let o;if(e){let u=r[e];Zt(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),o=u.children}else o=n;let l=t.filter(u=>!o.some(d=>rG(u,d))),c=Iw(l,a,[e||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...c)}function rG(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var a;return(a=t.children)==null?void 0:a.some(s=>rG(n,s))}):!1}async function Rce(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];Zt(a,"No route found in manifest");let s={};for(let o in r){let c=a[o]!==void 0&&o!=="hasErrorBoundary";Nd(!c,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!nce.has(o)&&(s[o]=r[o])}Object.assign(a,s),Object.assign(a,qn({},t(a),{lazy:void 0}))}async function Mce(e){let{matches:t}=e,n=t.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,s,o)=>Object.assign(a,{[n[o].route.id]:s}),{})}async function Ice(e,t,n,r,a,s,o,l,c,u){let d=s.map(m=>m.route.lazy?Rce(m.route,c,l):void 0),f=s.map((m,g)=>{let v=d[g],b=a.some(x=>x.route.id===m.route.id);return qn({},m,{shouldLoad:b,resolve:async x=>(x&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(b=!0),b?Oce(t,r,m,v,x,u):Promise.resolve({type:yn.data,result:void 0}))})}),h=await e({matches:f,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return h}async function Oce(e,t,n,r,a,s){let o,l,c=u=>{let d,f=new Promise((g,v)=>d=v);l=()=>d(),t.signal.addEventListener("abort",l);let h=g=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:s},...g!==void 0?[g]:[]),m=(async()=>{try{return{type:"data",result:await(a?a(v=>h(v)):h())}}catch(g){return{type:"error",result:g}}})();return Promise.race([m,f])};try{let u=n.route[e];if(r)if(u){let d,[f]=await Promise.all([c(u).catch(h=>{d=h}),r]);if(d!==void 0)throw d;o=f}else if(await r,u=n.route[e],u)o=await c(u);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw ls(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:yn.data,result:void 0};else if(u)o=await c(u);else{let d=new URL(t.url),f=d.pathname+d.search;throw ls(404,{pathname:f})}Zt(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:yn.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return o}async function Lce(e){let{result:t,type:n}=e;if(sG(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:yn.error,error:h}}return n===yn.error?{type:yn.error,error:new Ow(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:yn.data,data:f,statusCode:t.status,headers:t.headers}}if(n===yn.error){if(j4(t)){var r,a;if(t.data instanceof Error){var s,o;return{type:yn.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:yn.error,error:new Ow(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Tv(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:yn.error,error:t,statusCode:Tv(t)?t.status:void 0}}if(zce(t)){var l,c;return{type:yn.deferred,deferredData:t,statusCode:(l=t.init)==null?void 0:l.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if(j4(t)){var u,d;return{type:yn.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:yn.data,data:t}}function $ce(e,t,n,r,a,s){let o=e.headers.get("Location");if(Zt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Q_.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=WP(new URL(t.url),l,a,!0,o,s),e.headers.set("Location",o)}return e}function y4(e,t,n){if(Q_.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Dy(a.pathname,n)!=null;if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function Ff(e,t,n,r){let a=e.createURL(aG(t)).toString(),s={signal:n};if(r&&Ii(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=HP(r.formData):s.body=r.formData}return new Request(a,s)}function HP(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function x4(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Fce(e,t,n,r,a){let s={},o=null,l,c=!1,u={},d=n&&Ps(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,m=t[h];if(Zt(!Wu(m),"Cannot handle redirect results in processLoaderData"),Ps(m)){let g=m.error;d!==void 0&&(g=d,d=void 0),o=o||{};{let v=zu(e,h);o[v.route.id]==null&&(o[v.route.id]=g)}s[h]=void 0,c||(c=!0,l=Tv(m.error)?m.error.status:500),m.headers&&(u[h]=m.headers)}else Cc(m)?(r.set(h,m.deferredData),s[h]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(u[h]=m.headers)):(s[h]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(u[h]=m.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function b4(e,t,n,r,a,s,o){let{loaderData:l,errors:c}=Fce(t,n,r,o);return a.forEach(u=>{let{key:d,match:f,controller:h}=u,m=s[d];if(Zt(m,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Ps(m)){let g=zu(e.matches,f==null?void 0:f.route.id);c&&c[g.route.id]||(c=qn({},c,{[g.route.id]:m.error})),e.fetchers.delete(d)}else if(Wu(m))Zt(!1,"Unhandled fetcher revalidation redirect");else if(Cc(m))Zt(!1,"Unhandled fetcher deferred data");else{let g=cc(m.data);e.fetchers.set(d,g)}}),{loaderData:l,errors:c}}function w4(e,t,n,r){let a=qn({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(a[o]=t[o]):e[o]!==void 0&&s.route.loader&&(a[o]=e[o]),r&&r.hasOwnProperty(o))break}return a}function S4(e){return e?Ps(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function zu(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function C4(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ls(e,t){let{pathname:n,routeId:r,method:a,type:s,message:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",a&&n&&r?c="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):e===404?(l="Not Found",c='No route matches URL "'+n+'"'):e===405&&(l="Method Not Allowed",a&&n&&r?c="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(c='Invalid request method "'+a.toUpperCase()+'"')),new Ow(e||500,l,new Error(c),!0)}function j0(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(Wu(a))return{key:r,result:a}}}function aG(e){let t=typeof e=="string"?ou(e):e;return _y(qn({},t,{hash:""}))}function Bce(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Vce(e){return sG(e.result)&&kce.has(e.result.status)}function Cc(e){return e.type===yn.deferred}function Ps(e){return e.type===yn.error}function Wu(e){return(e&&e.type)===yn.redirect}function j4(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function zce(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function sG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Uce(e){return Nce.has(e.toLowerCase())}function Ii(e){return Cce.has(e.toLowerCase())}async function Kce(e,t,n,r,a){let s=Object.entries(t);for(let o=0;o<s.length;o++){let[l,c]=s[o],u=e.find(h=>(h==null?void 0:h.route.id)===l);if(!u)continue;let d=r.find(h=>h.route.id===u.route.id),f=d!=null&&!nG(d,u)&&(a&&a[u.route.id])!==void 0;Cc(c)&&f&&await Z_(c,n,!1).then(h=>{h&&(t[l]=h)})}}async function Gce(e,t,n){for(let r=0;r<n.length;r++){let{key:a,routeId:s,controller:o}=n[r],l=t[a];e.find(u=>(u==null?void 0:u.route.id)===s)&&Cc(l)&&(Zt(o,"Expected an AbortController for revalidating fetcher deferred result"),await Z_(l,o.signal,!0).then(u=>{u&&(t[a]=u)}))}}async function Z_(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:yn.data,data:e.deferredData.unwrappedData}}catch(a){return{type:yn.error,error:a}}return{type:yn.data,data:e.deferredData.data}}}function J_(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function yg(e,t){let n=typeof t=="string"?ou(t).search:t.search;if(e[e.length-1].route.index&&J_(n||""))return e[e.length-1];let r=ZK(e);return r[r.length-1]}function N4(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:s,json:o}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function sk(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wce(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Wp(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qce(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function cc(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Hce(e,t){try{let n=e.sessionStorage.getItem(tG);if(n){let r=JSON.parse(n);for(let[a,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function Yce(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(tG,JSON.stringify(n))}catch(r){Nd(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(this,arguments)}const QS=p.createContext(null),iG=p.createContext(null),ZS=p.createContext(null),X_=p.createContext(null),nf=p.createContext({outlet:null,matches:[],isDataRoute:!1}),oG=p.createContext(null);function JS(){return p.useContext(X_)!=null}function Ja(){return JS()||Zt(!1),p.useContext(X_).location}function lG(e){p.useContext(ZS).static||p.useLayoutEffect(e)}function zo(){let{isDataRoute:e}=p.useContext(nf);return e?cue():Qce()}function Qce(){JS()||Zt(!1);let e=p.useContext(QS),{basename:t,future:n,navigator:r}=p.useContext(ZS),{matches:a}=p.useContext(nf),{pathname:s}=Ja(),o=JSON.stringify(JK(a,n.v7_relativeSplatPath)),l=p.useRef(!1);return lG(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=XK(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Oc([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,s,e])}const Zce=p.createContext(null);function Jce(e){let t=p.useContext(nf).outlet;return t&&p.createElement(Zce.Provider,{value:e},t)}function Xce(e,t,n,r){JS()||Zt(!1);let{navigator:a}=p.useContext(ZS),{matches:s}=p.useContext(nf),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ja(),d;d=u;let f=d.pathname||"/",h=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=Vu(e,{pathname:h});return aue(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Oc([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Oc([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r)}function eue(){let e=lue(),t=Tv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,null)}const tue=p.createElement(eue,null);class nue extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(nf.Provider,{value:this.props.routeContext},p.createElement(oG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rue(e){let{routeContext:t,match:n,children:r}=e,a=p.useContext(QS);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(nf.Provider,{value:t},r)}function aue(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Zt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,v=null,b=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||tue,c&&(u<0&&h===0?(uue("route-fallback"),g=!0,b=null):u===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=v:g?w=b:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(rue,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(nue,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var cG=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cG||{}),uG=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uG||{});function sue(e){let t=p.useContext(QS);return t||Zt(!1),t}function iue(e){let t=p.useContext(iG);return t||Zt(!1),t}function oue(e){let t=p.useContext(nf);return t||Zt(!1),t}function dG(e){let t=oue(),n=t.matches[t.matches.length-1];return n.route.id||Zt(!1),n.route.id}function lue(){var e;let t=p.useContext(oG),n=iue(),r=dG();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function cue(){let{router:e}=sue(cG.UseNavigateStable),t=dG(uG.UseNavigateStable),n=p.useRef(!1);return lG(()=>{n.current=!0}),p.useCallback(function(a,s){s===void 0&&(s={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Lw({fromRouteId:t},s)))},[e,t])}const k4={};function uue(e,t,n){k4[e]||(k4[e]=!0)}function due(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function fue(e){return Jce(e.context)}function Wn(e){Zt(!1)}function hue(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Ar.Pop,navigator:s,static:o=!1,future:l}=e;JS()&&Zt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:s,static:o,future:Lw({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=ou(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,v=p.useMemo(()=>{let b=Dy(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return v==null?null:p.createElement(ZS.Provider,{value:u},p.createElement(X_.Provider,{children:n,value:v}))}new Promise(()=>{});function YP(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let s=[...t,a];if(r.type===p.Fragment){n.push.apply(n,YP(r.props.children,s));return}r.type!==Wn&&Zt(!1),!r.props.index||!r.props.children||Zt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=YP(r.props.children,s)),n.push(o)}),n}function mue(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:p.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:p.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:p.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(this,arguments)}const pue="6";try{window.__reactRouterVersion=pue}catch{}function gue(e,t){return Tce({basename:t==null?void 0:t.basename,future:$w({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Xle({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||vue(),routes:e,mapRouteProperties:mue,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function vue(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=$w({},t,{errors:yue(t.errors)})),t}function yue(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new Ow(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let o=new s(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(a.message);s.stack="",n[r]=s}}else n[r]=a;return n}const xue=p.createContext({isTransitioning:!1}),bue=p.createContext(new Map),wue="startTransition",A4=ky[wue],Sue="flushSync",P4=Jle[Sue];function Cue(e){A4?A4(e):e()}function qp(e){P4?P4(e):e()}class jue{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Nue(e){let{fallbackElement:t,router:n,future:r}=e,[a,s]=p.useState(n.state),[o,l]=p.useState(),[c,u]=p.useState({isTransitioning:!1}),[d,f]=p.useState(),[h,m]=p.useState(),[g,v]=p.useState(),b=p.useRef(new Map),{v7_startTransition:y}=r||{},x=p.useCallback(P=>{y?Cue(P):P()},[y]),w=p.useCallback((P,E)=>{let{deletedFetchers:R,flushSync:O,viewTransitionOpts:G}=E;P.fetchers.forEach((V,z)=>{V.data!==void 0&&b.current.set(z,V.data)}),R.forEach(V=>b.current.delete(V));let te=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!G||te){O?qp(()=>s(P)):x(()=>s(P));return}if(O){qp(()=>{h&&(d&&d.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let V=n.window.document.startViewTransition(()=>{qp(()=>s(P))});V.finished.finally(()=>{qp(()=>{f(void 0),m(void 0),l(void 0),u({isTransitioning:!1})})}),qp(()=>m(V));return}h?(d&&d.resolve(),h.skipTransition(),v({state:P,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(l(P),u({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[n.window,h,d,b,x]);p.useLayoutEffect(()=>n.subscribe(w),[n,w]),p.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new jue)},[c]),p.useEffect(()=>{if(d&&o&&n.window){let P=o,E=d.promise,R=n.window.document.startViewTransition(async()=>{x(()=>s(P)),await E});R.finished.finally(()=>{f(void 0),m(void 0),l(void 0),u({isTransitioning:!1})}),m(R)}},[x,o,d,n.window]),p.useEffect(()=>{d&&o&&a.location.key===o.location.key&&d.resolve()},[d,h,a.location,o]),p.useEffect(()=>{!c.isTransitioning&&g&&(l(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[c.isTransitioning,g]),p.useEffect(()=>{},[]);let S=p.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,E,R)=>n.navigate(P,{state:E,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(P,E,R)=>n.navigate(P,{replace:!0,state:E,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),j=n.basename||"/",k=p.useMemo(()=>({router:n,navigator:S,static:!1,basename:j}),[n,S,j]),N=p.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return p.useEffect(()=>due(r,n.future),[r,n.future]),p.createElement(p.Fragment,null,p.createElement(QS.Provider,{value:k},p.createElement(iG.Provider,{value:a},p.createElement(bue.Provider,{value:b.current},p.createElement(xue.Provider,{value:c},p.createElement(hue,{basename:j,location:a.location,navigationType:a.historyAction,navigator:S,future:N},a.initialized||n.future.v7_partialHydration?p.createElement(kue,{routes:n.routes,future:n.future,state:a}):t))))),null)}const kue=p.memo(Aue);function Aue(e){let{routes:t,future:n,state:r}=e;return Xce(t,void 0,r,n)}var E4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(E4||(E4={}));var T4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(T4||(T4={}));const Pue={theme:"system",setTheme:()=>null},fG=p.createContext(Pue);function Eue({children:e,defaultTheme:t="system",storageKey:n="maneuver-ui-theme",...r}){const[a,s]=p.useState(()=>localStorage.getItem(n)||t);p.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(n,l),s(l)}};return i.jsx(fG.Provider,{...r,value:o,children:e})}const Tue=()=>{const e=p.useContext(fG);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};class _ue{constructor(){pn(this,"measurementId","G-QC65PEFPDJ");pn(this,"initialized",!1);this.initializeGA4()}initializeGA4(){if(!this.initialized)try{const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${this.measurementId}`,t.onload=()=>{this.setupGtag()},t.onerror=n=>{console.error(" Failed to load GA4 script:",n)},document.head.appendChild(t)}catch(t){console.error(" Error initializing GA4:",t)}}setupGtag(){try{let t=function(...n){window.dataLayer.push(n)};window.dataLayer=window.dataLayer||[],window.gtag=t,t("js",new Date),t("config",this.measurementId,{page_title:document.title,page_location:window.location.href,app_name:"Maneuver Scouting App",app_version:"2025.1.0",debug_mode:!1}),this.initialized=!0,this.trackPageView()}catch(t){console.error(" Error setting up gtag:",t)}}trackPageView(t,n){if(!this.isReady())return;const r=t||window.location.pathname,a=n||document.title;try{window.gtag("config",this.measurementId,{page_path:r,page_title:a})}catch(s){console.error(" Error tracking page view:",s)}}trackEvent(t,n={}){if(!this.isReady()){console.log(" GA4 not ready, skipping event:",t);return}try{window.gtag("event",t,{app_name:"Maneuver Scouting App",app_version:"2025.1.0",...n})}catch(r){console.error(" Error tracking event:",r)}}isReady(){return this.initialized&&!!window.gtag&&navigator.onLine}trackDemoDataLoad(){this.trackEvent("demo_data_load",{event_category:"engagement",event_label:"demo_data"})}trackDemoDataClear(){this.trackEvent("demo_data_clear",{event_category:"engagement",event_label:"demo_data"})}trackPWAInstall(){this.trackEvent("pwa_install",{event_category:"app",event_label:"install"})}trackPWAUpdate(){this.trackEvent("pwa_update",{event_category:"app",event_label:"update"})}trackPWALaunched(){this.trackEvent("pwa_launched",{event_category:"app",event_label:"launch"})}trackPageNavigation(t){this.trackEvent("page_navigation",{event_category:"navigation",event_label:t})}trackDataExport(t){this.trackEvent("data_export",{event_category:"data",event_label:t})}trackDataImport(t){this.trackEvent("data_import",{event_category:"data",event_label:t})}trackScoutingComplete(t){this.trackEvent("scouting_complete",{event_category:"scouting",event_label:t})}debug(){}testTracking(){console.log(" Testing analytics tracking..."),this.debug(),this.trackEvent("test_event",{test_parameter:"test_value",timestamp:new Date().toISOString()}),this.trackPageView("/test-page","Test Page"),console.log(" Test events sent")}}const Lh=new _ue;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rue=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),_4=e=>{const t=Rue(e);return t.charAt(0).toUpperCase()+t.slice(1)},hG=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Mue=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...Iue,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:hG("lucide",a),...!s&&!Mue(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const n=p.forwardRef(({className:r,...a},s)=>p.createElement(Oue,{ref:s,iconNode:t,className:hG(`lucide-${Due(_4(e))}`,`lucide-${e}`,r),...a}));return n.displayName=_4(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],$ue=Ze("arrow-down-wide-narrow",Lue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bue=Ze("arrow-left",Fue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kd=Ze("arrow-right",Vue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],mG=Ze("arrow-up-down",zue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],pG=Ze("arrow-up-narrow-wide",Uue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$h=Ze("award",Kue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M19 7V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3",key:"3apit1"}],["path",{d:"M20 21a2 2 0 0 0 2-2v-3.851c0-1.39-2-2.962-2-4.829V8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2z",key:"rhpgnw"}],["path",{d:"M 22 16 L 2 16",key:"14lkq7"}],["path",{d:"M4 21a2 2 0 0 1-2-2v-3.851c0-1.39 2-2.962 2-4.829V8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2z",key:"104b3k"}],["path",{d:"M9 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3",key:"14fczp"}]],gG=Ze("binoculars",Gue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],D4=Ze("book-open",Wue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],QP=Ze("bug",que);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lc=Ze("calendar",Hue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],N0=Ze("camera",Yue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Zue=Ze("car",Que);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],vG=Ze("chart-column",Jue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Al=Ze("check",Xue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ry=Ze("chevron-down",ede);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],XS=Ze("chevron-left",tde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],My=Ze("chevron-right",nde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eD=Ze("chevron-up",rde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],sde=Ze("chevrons-left",ade);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ode=Ze("chevrons-right",ide);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],ZP=Ze("chevrons-up-down",lde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uo=Ze("circle-alert",cde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ur=Ze("circle-check-big",ude);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nm=Ze("circle-check",dde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R4=Ze("circle-question-mark",fde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fw=Ze("circle-x",hde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],pde=Ze("clipboard-list",mde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jc=Ze("clock",gde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],yG=Ze("code",vde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],xde=Ze("columns-3",yde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wde=Ze("copy",bde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bo=Ze("database",Sde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],No=Ze("download",Cde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Nde=Ze("ellipsis-vertical",jde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xg=Ze("external-link",kde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tD=Ze("eye-off",Ade);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rm=Ze("eye",Pde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Tde=Ze("file-stack",Ede);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dde=Ze("file-text",_de);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Mde=Ze("flame",Rde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ode=Ze("folder-open",Ide);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],$de=Ze("fuel",Lde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Bw=Ze("funnel",Fde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],Vde=Ze("hand-coins",Bde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M18 11.5V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1.4",key:"edstyy"}],["path",{d:"M14 10V8a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"19wdwo"}],["path",{d:"M10 9.9V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v5",key:"1lugqo"}],["path",{d:"M6 14a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1hbeus"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0",key:"1etffm"}]],Ude=Ze("hand-grab",zde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Gde=Ze("hash",Kde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xG=Ze("history",Wde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Hde=Ze("house",qde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Qde=Ze("image",Yde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Jde=Ze("inbox",Zde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Iy=Ze("info",Xde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tfe=Ze("layout-dashboard",efe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],nD=Ze("list",nfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ba=Ze("loader-circle",rfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],M4=Ze("lock",afe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ad=Ze("map-pin",sfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],rD=Ze("map",ife);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],_v=Ze("maximize-2",ofe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],JP=Ze("minimize-2",lfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ufe=Ze("moon",cfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],ffe=Ze("panel-left",dfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],mfe=Ze("panels-top-left",hfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],gfe=Ze("pause",pfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],yfe=Ze("play",vfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gc=Ze("plus",xfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],wfe=Ze("qr-code",bfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ul=Ze("refresh-cw",Sfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jfe=Ze("rotate-ccw",Cfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],I4=Ze("rotate-cw",Nfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aD=Ze("save",kfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sD=Ze("search",Afe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iD=Ze("settings",Pfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tfe=Ze("shield-check",Efe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dfe=Ze("shield",_fe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],O4=Ze("shuffle",Rfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]],Ife=Ze("sigma",Mfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],Lfe=Ze("skip-back",Ofe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Ffe=Ze("skip-forward",$fe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Vfe=Ze("square-pen",Bfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Dv=Ze("star",zfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Kfe=Ze("sun",Ufe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Pd=Ze("target",Gfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M2 22V12a10 10 0 1 1 20 0v10",key:"o0fyp0"}],["path",{d:"M15 6.8v1.4a3 2.8 0 1 1-6 0V6.8",key:"m8q3n9"}],["path",{d:"M10 15h.01",key:"44in9x"}],["path",{d:"M14 15h.01",key:"5mohn5"}],["path",{d:"M10 19a4 4 0 0 1-4-4v-3a6 6 0 1 1 12 0v3a4 4 0 0 1-4 4Z",key:"hckbmu"}],["path",{d:"m9 19-2 3",key:"iij7hm"}],["path",{d:"m15 19 2 3",key:"npx8sa"}]],qfe=Ze("train-front-tunnel",Wfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vs=Ze("trash-2",Hfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qfe=Ze("trash",Yfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["path",{d:"M14.828 14.828 21 21",key:"ar5fw7"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"m21 3-9 9-4-4-6 6",key:"1h02xo"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}]],Jfe=Ze("trending-up-down",Zfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ed=Ze("trending-up",Xfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ln=Ze("triangle-alert",ehe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],nhe=Ze("triangle",the);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],pr=Ze("trophy",rhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],XP=Ze("undo-2",ahe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],am=Ze("upload",she);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ohe=Ze("user-check",ihe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sm=Ze("user-plus",lhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],L4=Ze("user-x",che);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vw=Ze("user",uhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xa=Ze("users",dhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],hhe=Ze("warehouse",fhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],phe=Ze("weight",mhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$4=Ze("wifi-off",ghe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],eE=Ze("wifi",vhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wa=Ze("x",yhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],bhe=Ze("zap",xhe);function it(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function whe(e,t){const n=p.createContext(t),r=s=>{const{children:o,...l}=s,c=p.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(s){const o=p.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,a]}function bs(e,t=[]){let n=[];function r(s,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=f=>{var y;const{scope:h,children:m,...g}=f,v=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=p.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:b,children:m})};u.displayName=s+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,She(a,...t)]}function She(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var jr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Che=ky[" useInsertionEffect ".trim().toString()]||jr;function Mo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,s,o]=jhe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var f;if(l){const h=Nhe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function jhe({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),a=p.useRef(n),s=p.useRef(t);return Che(()=>{s.current=t},[t]),p.useEffect(()=>{var o;a.current!==n&&((o=s.current)==null||o.call(s,n),a.current=n)},[n,a]),[n,r,s]}function Nhe(e){return typeof e=="function"}function F4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qa(...e){return t=>{let n=!1;const r=e.map(a=>{const s=F4(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():F4(e[a],null)}}}}function Gt(...e){return p.useCallback(qa(...e),e)}function khe(e){const t=Ahe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(Ehe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function Ahe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=_he(a),l=The(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Phe=Symbol("radix.slottable");function Ehe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Phe}function The(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function _he(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],At=Dhe.reduce((e,t)=>{const n=khe(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bG(e,t){e&&Vo.flushSync(()=>e.dispatchEvent(t))}function Rhe(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Wr=e=>{const{present:t,children:n}=e,r=Mhe(t),a=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=Gt(r.ref,Ihe(a));return typeof n=="function"||r.isPresent?p.cloneElement(a,{ref:s}):null};Wr.displayName="Presence";function Mhe(e){const[t,n]=p.useState(),r=p.useRef(null),a=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Rhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=k0(r.current);s.current=l==="mounted"?u:"none"},[l]),jr(()=>{const u=r.current,d=a.current;if(d!==e){const h=s.current,m=k0(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),jr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=k0(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&v&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=m=>{m.target===t&&(s.current=k0(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function k0(e){return(e==null?void 0:e.animationName)||"none"}function Ihe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ohe=ky[" useId ".trim().toString()]||(()=>{}),Lhe=0;function Kr(e){const[t,n]=p.useState(Ohe());return jr(()=>{n(r=>r??String(Lhe++))},[e]),t?`radix-${t}`:""}var eC="Collapsible",[$he]=bs(eC),[Fhe,oD]=$he(eC),wG=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c,u]=Mo({prop:r,defaultProp:a??!1,onChange:o,caller:eC});return i.jsx(Fhe,{scope:n,disabled:s,contentId:Kr(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(At.div,{"data-state":cD(c),"data-disabled":s?"":void 0,...l,ref:t})})});wG.displayName=eC;var SG="CollapsibleTrigger",CG=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=oD(SG,n);return i.jsx(At.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":cD(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:it(e.onClick,a.onOpenToggle)})});CG.displayName=SG;var lD="CollapsibleContent",jG=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=oD(lD,e.__scopeCollapsible);return i.jsx(Wr,{present:n||a.open,children:({present:s})=>i.jsx(Bhe,{...r,ref:t,present:s})})});jG.displayName=lD;var Bhe=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...s}=e,o=oD(lD,n),[l,c]=p.useState(r),u=p.useRef(null),d=Gt(t,u),f=p.useRef(0),h=f.current,m=p.useRef(0),g=m.current,v=o.open||l,b=p.useRef(v),y=p.useRef(void 0);return p.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),jr(()=>{const x=u.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,m.current=w.width,b.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),c(r)}},[o.open,r]),i.jsx(At.div,{"data-state":cD(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:v&&a})});function cD(e){return e?"open":"closed"}var Vhe=wG;function zhe({...e}){return i.jsx(Vhe,{"data-slot":"collapsible",...e})}function Uhe({...e}){return i.jsx(CG,{"data-slot":"collapsible-trigger",...e})}function Khe({...e}){return i.jsx(jG,{"data-slot":"collapsible-content",...e})}function NG(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=NG(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=NG(e))&&(r&&(r+=" "),r+=t);return r}const uD="-",Ghe=e=>{const t=qhe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(uD);return l[0]===""&&l.length!==1&&l.shift(),kG(l,t)||Whe(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},kG=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?kG(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(uD);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},B4=/^\[(.+)\]$/,Whe=e=>{if(B4.test(e)){const t=B4.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},qhe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Yhe(Object.entries(e.classGroups),n).forEach(([s,o])=>{tE(o,r,s,t)}),r},tE=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:V4(t,a);s.classGroupId=n;return}if(typeof a=="function"){if(Hhe(a)){tE(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([s,o])=>{tE(o,V4(t,s),n,r)})})},V4=(e,t)=>{let n=e;return t.split(uD).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Hhe=e=>e.isThemeGetter,Yhe=(e,t)=>t?e.map(([n,r])=>{const a=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[n,a]}):e,Qhe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return a(s,o),o},set(s,o){n.has(s)?n.set(s,o):a(s,o)}}},AG="!",Zhe=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===a&&(r||l.slice(b,b+s)===t)){c.push(l.slice(d,b)),d=b+s;continue}if(y==="/"){f=b;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(AG),g=m?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},Jhe=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Xhe=e=>({cache:Qhe(e.cacheSize),parseClassName:Zhe(e),...Ghe(e)}),eme=/\s+/,tme=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(eme);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let g=!!m,v=r(g?h.substring(0,m):h);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=r(h),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const b=Jhe(d).join(":"),y=f?b+AG:b,x=y+v;if(s.includes(x))continue;s.push(x);const w=a(v,g);for(let S=0;S<w.length;++S){const j=w[S];s.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function nme(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=PG(t))&&(r&&(r+=" "),r+=n);return r}const PG=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=PG(e[r]))&&(n&&(n+=" "),n+=t);return n};function rme(e,...t){let n,r,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=Xhe(u),r=n.cache.get,a=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=tme(c,n);return a(c,d),d}return function(){return s(nme.apply(null,arguments))}}const $n=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},EG=/^\[(?:([a-z-]+):)?(.+)\]$/i,ame=/^\d+\/\d+$/,sme=new Set(["px","full","screen"]),ime=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ome=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lme=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cme=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ume=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=e=>Fh(e)||sme.has(e)||ame.test(e),ic=e=>$m(e,"length",yme),Fh=e=>!!e&&!Number.isNaN(Number(e)),ik=e=>$m(e,"number",Fh),Hp=e=>!!e&&Number.isInteger(Number(e)),dme=e=>e.endsWith("%")&&Fh(e.slice(0,-1)),qt=e=>EG.test(e),oc=e=>ime.test(e),fme=new Set(["length","size","percentage"]),hme=e=>$m(e,fme,TG),mme=e=>$m(e,"position",TG),pme=new Set(["image","url"]),gme=e=>$m(e,pme,bme),vme=e=>$m(e,"",xme),Yp=()=>!0,$m=(e,t,n)=>{const r=EG.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},yme=e=>ome.test(e)&&!lme.test(e),TG=()=>!1,xme=e=>cme.test(e),bme=e=>ume.test(e),wme=()=>{const e=$n("colors"),t=$n("spacing"),n=$n("blur"),r=$n("brightness"),a=$n("borderColor"),s=$n("borderRadius"),o=$n("borderSpacing"),l=$n("borderWidth"),c=$n("contrast"),u=$n("grayscale"),d=$n("hueRotate"),f=$n("invert"),h=$n("gap"),m=$n("gradientColorStops"),g=$n("gradientColorStopPositions"),v=$n("inset"),b=$n("margin"),y=$n("opacity"),x=$n("padding"),w=$n("saturate"),S=$n("scale"),j=$n("sepia"),k=$n("skew"),N=$n("space"),P=$n("translate"),E=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",qt,t],G=()=>[qt,t],te=()=>["",el,ic],V=()=>["auto",Fh,qt],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",qt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Fh,qt];return{cacheSize:500,separator:":",theme:{colors:[Yp],spacing:[el,ic],blur:["none","",oc,qt],brightness:Z(),borderColor:[e],borderRadius:["none","","full",oc,qt],borderSpacing:G(),borderWidth:te(),contrast:Z(),grayscale:F(),hueRotate:Z(),invert:F(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[dme,ic],inset:O(),margin:O(),opacity:Z(),padding:G(),saturate:Z(),scale:Z(),sepia:F(),skew:Z(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",qt]}],container:["container"],columns:[{columns:[oc]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),qt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hp,qt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Hp,qt]}],"grid-cols":[{"grid-cols":[Yp]}],"col-start-end":[{col:["auto",{span:["full",Hp,qt]},qt]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Yp]}],"row-start-end":[{row:["auto",{span:[Hp,qt]},qt]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qt,t]}],"min-w":[{"min-w":[qt,t,"min","max","fit"]}],"max-w":[{"max-w":[qt,t,"none","full","min","max","fit","prose",{screen:[oc]},oc]}],h:[{h:[qt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",oc,ic]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ik]}],"font-family":[{font:[Yp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qt]}],"line-clamp":[{"line-clamp":["none",Fh,ik]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",el,qt]}],"list-image":[{"list-image":["none",qt]}],"list-style-type":[{list:["none","disc","decimal",qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",el,ic]}],"underline-offset":[{"underline-offset":["auto",el,qt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),mme]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hme]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gme]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[el,qt]}],"outline-w":[{outline:[el,ic]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[el,ic]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",oc,vme]}],"shadow-color":[{shadow:[Yp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",oc,qt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",qt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Hp,qt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[el,ic,ik]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Sme=rme(wme);function De(...e){return Sme(cn(e))}function z4(e){return e.map(t=>t.map(n=>typeof n=="string"?`"${n.replace(/"/g,'""')}"`:n).join(",")).join(`
`)}const dD=e=>{switch(e){case"lead":return"Lead";case"red-1":return"Red 1";case"red-2":return"Red 2";case"red-3":return"Red 3";case"blue-1":return"Blue 1";case"blue-2":return"Blue 2";case"blue-3":return"Blue 3"}return"Role"};function nE(){localStorage.removeItem("autoStateStack"),localStorage.removeItem("teleopStateStack"),localStorage.removeItem("autoRobotStatus"),localStorage.removeItem("teleopRobotStatus"),localStorage.removeItem("endgameRobotStatus"),localStorage.removeItem("autoUndoHistory"),localStorage.removeItem("teleopUndoHistory")}const _G=p.createContext(null);function rf(){const e=p.useContext(_G);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Cme="sidebar:state",jme=60*60*24*7,Nme="18rem",DG="18rem",kme="3rem",Ame="b";function Pme({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:a,...s}){const{isMobile:o,state:l,openMobile:c}=rf();return n==="none"?i.jsx("div",{"data-slot":"sidebar",className:De("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...s,children:a}):o?i.jsx("div",{"data-slot":"sidebar",className:De("bg-sidebar text-sidebar-foreground fixed inset-y-0 z-50 flex h-full w-(--sidebar-width) flex-col transition-transform duration-300 ease-in-out",e==="left"?"left-0":"right-0",e==="left"?c?"translate-x-0":"-translate-x-full":c?"translate-x-0":"translate-x-full",r),style:{"--sidebar-width":DG},...s,children:a}):i.jsxs("div",{className:"group peer text-sidebar-foreground hidden 2xl:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[i.jsx("div",{"data-slot":"sidebar-gap",className:De("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),i.jsx("div",{"data-slot":"sidebar-container",className:De("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear 2xl:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:i.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function Eme({className:e,...t}){const{openMobile:n}=rf(),[r,a]=p.useState(!1);return p.useEffect(()=>{const s=()=>{a(window.innerWidth<1536)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),i.jsx("main",{"data-slot":"sidebar-inset",className:De("bg-background relative flex w-full overflow-auto flex-col transition-transform duration-300 ease-in-out","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",r&&n&&"translate-x-72",r&&n&&"pointer-events-none",e),style:{"--sidebar-width-mobile":DG},...t})}function ia(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Tme(e,t=globalThis==null?void 0:globalThis.document){const n=ia(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _me="DismissableLayer",rE="dismissableLayer.update",Dme="dismissableLayer.pointerDownOutside",Rme="dismissableLayer.focusOutside",U4,RG=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fm=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(RG),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),g=Gt(t,N=>f(N)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(b),x=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,j=Ome(N=>{const P=N.target,E=[...u.branches].some(R=>R.contains(P));!S||E||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),k=Lme(N=>{const P=N.target;[...u.branches].some(R=>R.contains(P))||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return Tme(N=>{x===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(U4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),K4(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=U4)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),K4())},[d,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(rE,N),()=>document.removeEventListener(rE,N)},[]),i.jsx(At.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:it(e.onFocusCapture,k.onFocusCapture),onBlurCapture:it(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:it(e.onPointerDownCapture,j.onPointerDownCapture)})});Fm.displayName=_me;var Mme="DismissableLayerBranch",Ime=p.forwardRef((e,t)=>{const n=p.useContext(RG),r=p.useRef(null),a=Gt(t,r);return p.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),i.jsx(At.div,{...e,ref:a})});Ime.displayName=Mme;function Ome(e,t=globalThis==null?void 0:globalThis.document){const n=ia(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){MG(Dme,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Lme(e,t=globalThis==null?void 0:globalThis.document){const n=ia(e),r=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!r.current&&MG(Rme,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function K4(){const e=new CustomEvent(rE);document.dispatchEvent(e)}function MG(e,t,n,{discrete:r}){const a=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?bG(a,s):a.dispatchEvent(s)}const $me=["top","right","bottom","left"],Wc=Math.min,Ts=Math.max,zw=Math.round,A0=Math.floor,ko=e=>({x:e,y:e}),Fme={left:"right",right:"left",bottom:"top",top:"bottom"},Bme={start:"end",end:"start"};function aE(e,t,n){return Ts(e,Wc(t,n))}function Pl(e,t){return typeof e=="function"?e(t):e}function El(e){return e.split("-")[0]}function Bm(e){return e.split("-")[1]}function fD(e){return e==="x"?"y":"x"}function hD(e){return e==="y"?"height":"width"}const Vme=new Set(["top","bottom"]);function wo(e){return Vme.has(El(e))?"y":"x"}function mD(e){return fD(wo(e))}function zme(e,t,n){n===void 0&&(n=!1);const r=Bm(e),a=mD(e),s=hD(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Uw(o)),[o,Uw(o)]}function Ume(e){const t=Uw(e);return[sE(e),t,sE(t)]}function sE(e){return e.replace(/start|end/g,t=>Bme[t])}const G4=["left","right"],W4=["right","left"],Kme=["top","bottom"],Gme=["bottom","top"];function Wme(e,t,n){switch(e){case"top":case"bottom":return n?t?W4:G4:t?G4:W4;case"left":case"right":return t?Kme:Gme;default:return[]}}function qme(e,t,n,r){const a=Bm(e);let s=Wme(El(e),n==="start",r);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(sE)))),s}function Uw(e){return e.replace(/left|right|bottom|top/g,t=>Fme[t])}function Hme(e){return{top:0,right:0,bottom:0,left:0,...e}}function IG(e){return typeof e!="number"?Hme(e):{top:e,right:e,bottom:e,left:e}}function Kw(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function q4(e,t,n){let{reference:r,floating:a}=e;const s=wo(t),o=mD(t),l=hD(o),c=El(t),u=s==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-a.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Bm(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const Yme=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=q4(u,r,c),h=r,m={},g=0;for(let v=0;v<l.length;v++){const{name:b,fn:y}=l[v],{x,y:w,data:S,reset:j}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,m={...m,[b]:{...m[b],...S}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=q4(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Rv(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Pl(t,e),g=IG(m),b=l[h?f==="floating"?"reference":"floating":f],y=Kw(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Kw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-j.top+g.top)/S.y,bottom:(j.bottom-y.bottom+g.bottom)/S.y,left:(y.left-j.left+g.left)/S.x,right:(j.right-y.right+g.right)/S.x}}const Qme=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Pl(e,t)||{};if(u==null)return{};const f=IG(d),h={x:n,y:r},m=mD(a),g=hD(m),v=await o.getDimensions(u),b=m==="y",y=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[m]-h[m]-s.floating[g],j=h[m]-s.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=k?k[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(k)))&&(N=l.floating[w]||s.floating[g]);const P=S/2-j/2,E=N/2-v[g]/2-1,R=Wc(f[y],E),O=Wc(f[x],E),G=R,te=N-v[g]-O,V=N/2-v[g]/2+P,z=aE(G,V,te),$=!c.arrow&&Bm(a)!=null&&V!==z&&s.reference[g]/2-(V<G?R:O)-v[g]/2<0,U=$?V<G?V-G:V-te:0;return{[m]:h[m]+U,data:{[m]:z,centerOffset:V-z-U,...$&&{alignmentOffset:U}},reset:$}}}),Zme=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=Pl(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=El(a),x=wo(l),w=El(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!v?[Uw(l)]:Ume(l)),k=g!=="none";!h&&k&&j.push(...qme(l,v,g,S));const N=[l,...j],P=await Rv(t,b),E=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&E.push(P[y]),f){const V=zme(a,o,S);E.push(P[V[0]],P[V[1]])}if(R=[...R,{placement:a,overflows:E}],!E.every(V=>V<=0)){var O,G;const V=(((O=s.flip)==null?void 0:O.index)||0)+1,z=N[V];if(z&&(!(f==="alignment"?x!==wo(z):!1)||R.every(M=>wo(M.placement)===x?M.overflows[0]>0:!0)))return{data:{index:V,overflows:R},reset:{placement:z}};let $=(G=R.filter(U=>U.overflows[0]<=0).sort((U,M)=>U.overflows[1]-M.overflows[1])[0])==null?void 0:G.placement;if(!$)switch(m){case"bestFit":{var te;const U=(te=R.filter(M=>{if(k){const F=wo(M.placement);return F===x||F==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(F=>F>0).reduce((F,W)=>F+W,0)]).sort((M,F)=>M[1]-F[1])[0])==null?void 0:te[0];U&&($=U);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function H4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Y4(e){return $me.some(t=>e[t]>=0)}const Jme=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Pl(e,t);switch(r){case"referenceHidden":{const s=await Rv(t,{...a,elementContext:"reference"}),o=H4(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Y4(o)}}}case"escaped":{const s=await Rv(t,{...a,altBoundary:!0}),o=H4(s,n.floating);return{data:{escapedOffsets:o,escaped:Y4(o)}}}default:return{}}}}},OG=new Set(["left","top"]);async function Xme(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=El(n),l=Bm(n),c=wo(n)==="y",u=OG.has(o)?-1:1,d=s&&c?-1:1,f=Pl(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const epe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await Xme(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},tpe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...c}=Pl(e,t),u={x:n,y:r},d=await Rv(t,c),f=wo(El(a)),h=fD(f);let m=u[h],g=u[f];if(s){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=m+d[b],w=m-d[y];m=aE(x,m,w)}if(o){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=g+d[b],w=g-d[y];g=aE(x,g,w)}const v=l.fn({...t,[h]:m,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:s,[f]:o}}}}}},npe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Pl(e,t),d={x:n,y:r},f=wo(a),h=fD(f);let m=d[h],g=d[f];const v=Pl(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=h==="y"?"height":"width",S=s.reference[h]-s.floating[w]+b.mainAxis,j=s.reference[h]+s.reference[w]-b.mainAxis;m<S?m=S:m>j&&(m=j)}if(u){var y,x;const w=h==="y"?"width":"height",S=OG.has(El(a)),j=s.reference[f]-s.floating[w]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:b.crossAxis),k=s.reference[f]+s.reference[w]+(S?0:((x=o.offset)==null?void 0:x[f])||0)-(S?b.crossAxis:0);g<j?g=j:g>k&&(g=k)}return{[h]:m,[f]:g}}}},rpe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Pl(e,t),d=await Rv(t,u),f=El(a),h=Bm(a),m=wo(a)==="y",{width:g,height:v}=s.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,b=h==="end"?"top":"bottom");const x=v-d.top-d.bottom,w=g-d.left-d.right,S=Wc(v-d[b],x),j=Wc(g-d[y],w),k=!t.middlewareData.shift;let N=S,P=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=x),k&&!h){const R=Ts(d.left,0),O=Ts(d.right,0),G=Ts(d.top,0),te=Ts(d.bottom,0);m?P=g-2*(R!==0||O!==0?R+O:Ts(d.left,d.right)):N=v-2*(G!==0||te!==0?G+te:Ts(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:N});const E=await o.getDimensions(l.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function tC(){return typeof window<"u"}function Vm(e){return LG(e)?(e.nodeName||"").toLowerCase():"#document"}function Ls(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ko(e){var t;return(t=(LG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LG(e){return tC()?e instanceof Node||e instanceof Ls(e).Node:!1}function qi(e){return tC()?e instanceof Element||e instanceof Ls(e).Element:!1}function Io(e){return tC()?e instanceof HTMLElement||e instanceof Ls(e).HTMLElement:!1}function Q4(e){return!tC()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ls(e).ShadowRoot}const ape=new Set(["inline","contents"]);function Oy(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ape.has(a)}const spe=new Set(["table","td","th"]);function ipe(e){return spe.has(Vm(e))}const ope=[":popover-open",":modal"];function nC(e){return ope.some(t=>{try{return e.matches(t)}catch{return!1}})}const lpe=["transform","translate","scale","rotate","perspective"],cpe=["transform","translate","scale","rotate","perspective","filter"],upe=["paint","layout","strict","content"];function pD(e){const t=gD(),n=qi(e)?Hi(e):e;return lpe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||cpe.some(r=>(n.willChange||"").includes(r))||upe.some(r=>(n.contain||"").includes(r))}function dpe(e){let t=qc(e);for(;Io(t)&&!im(t);){if(pD(t))return t;if(nC(t))return null;t=qc(t)}return null}function gD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fpe=new Set(["html","body","#document"]);function im(e){return fpe.has(Vm(e))}function Hi(e){return Ls(e).getComputedStyle(e)}function rC(e){return qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qc(e){if(Vm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Q4(e)&&e.host||Ko(e);return Q4(t)?t.host:t}function $G(e){const t=qc(e);return im(t)?e.ownerDocument?e.ownerDocument.body:e.body:Io(t)&&Oy(t)?t:$G(t)}function Mv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=$G(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),o=Ls(a);if(s){const l=iE(o);return t.concat(o,o.visualViewport||[],Oy(a)?a:[],l&&n?Mv(l):[])}return t.concat(a,Mv(a,[],n))}function iE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FG(e){const t=Hi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Io(e),s=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=zw(n)!==s||zw(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function vD(e){return qi(e)?e:e.contextElement}function Bh(e){const t=vD(e);if(!Io(t))return ko(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=FG(t);let o=(s?zw(n.width):n.width)/r,l=(s?zw(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const hpe=ko(0);function BG(e){const t=Ls(e);return!gD()||!t.visualViewport?hpe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mpe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ls(e)?!1:t}function Td(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=vD(e);let o=ko(1);t&&(r?qi(r)&&(o=Bh(r)):o=Bh(e));const l=mpe(s,n,r)?BG(s):ko(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=Ls(s),m=r&&qi(r)?Ls(r):r;let g=h,v=iE(g);for(;v&&r&&m!==g;){const b=Bh(v),y=v.getBoundingClientRect(),x=Hi(v),w=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*b.x,S=y.top+(v.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=S,g=Ls(v),v=iE(g)}}return Kw({width:d,height:f,x:c,y:u})}function aC(e,t){const n=rC(e).scrollLeft;return t?t.left+n:Td(Ko(e)).left+n}function VG(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-aC(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function ppe(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",o=Ko(r),l=t?nC(t.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=ko(1);const d=ko(0),f=Io(r);if((f||!f&&!s)&&((Vm(r)!=="body"||Oy(o))&&(c=rC(r)),Io(r))){const m=Td(r);u=Bh(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!s?VG(o,c):ko(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function gpe(e){return Array.from(e.getClientRects())}function vpe(e){const t=Ko(e),n=rC(e),r=e.ownerDocument.body,a=Ts(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ts(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+aC(e);const l=-n.scrollTop;return Hi(r).direction==="rtl"&&(o+=Ts(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:o,y:l}}const Z4=25;function ype(e,t){const n=Ls(e),r=Ko(e),a=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const d=gD();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=aC(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-m);g<=Z4&&(s-=g)}else u<=Z4&&(s+=u);return{width:s,height:o,x:l,y:c}}const xpe=new Set(["absolute","fixed"]);function bpe(e,t){const n=Td(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=Io(e)?Bh(e):ko(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function J4(e,t,n){let r;if(t==="viewport")r=ype(e,n);else if(t==="document")r=vpe(Ko(e));else if(qi(t))r=bpe(t,n);else{const a=BG(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Kw(r)}function zG(e,t){const n=qc(e);return n===t||!qi(n)||im(n)?!1:Hi(n).position==="fixed"||zG(n,t)}function wpe(e,t){const n=t.get(e);if(n)return n;let r=Mv(e,[],!1).filter(l=>qi(l)&&Vm(l)!=="body"),a=null;const s=Hi(e).position==="fixed";let o=s?qc(e):e;for(;qi(o)&&!im(o);){const l=Hi(o),c=pD(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&xpe.has(a.position)||Oy(o)&&!c&&zG(e,o))?r=r.filter(d=>d!==o):a=l,o=qc(o)}return t.set(e,r),r}function Spe(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?nC(t)?[]:wpe(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=J4(t,d,a);return u.top=Ts(f.top,u.top),u.right=Wc(f.right,u.right),u.bottom=Wc(f.bottom,u.bottom),u.left=Ts(f.left,u.left),u},J4(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Cpe(e){const{width:t,height:n}=FG(e);return{width:t,height:n}}function jpe(e,t,n){const r=Io(t),a=Ko(t),s=n==="fixed",o=Td(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=ko(0);function u(){c.x=aC(a)}if(r||!r&&!s)if((Vm(t)!=="body"||Oy(a))&&(l=rC(t)),r){const m=Td(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!r&&a&&u();const d=a&&!r&&!s?VG(a,l):ko(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function ok(e){return Hi(e).position==="static"}function X4(e,t){if(!Io(e)||Hi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ko(e)===n&&(n=n.ownerDocument.body),n}function UG(e,t){const n=Ls(e);if(nC(e))return n;if(!Io(e)){let a=qc(e);for(;a&&!im(a);){if(qi(a)&&!ok(a))return a;a=qc(a)}return n}let r=X4(e,t);for(;r&&ipe(r)&&ok(r);)r=X4(r,t);return r&&im(r)&&ok(r)&&!pD(r)?n:r||dpe(e)||n}const Npe=async function(e){const t=this.getOffsetParent||UG,n=this.getDimensions,r=await n(e.floating);return{reference:jpe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kpe(e){return Hi(e).direction==="rtl"}const Ape={convertOffsetParentRelativeRectToViewportRelativeRect:ppe,getDocumentElement:Ko,getClippingRect:Spe,getOffsetParent:UG,getElementRects:Npe,getClientRects:gpe,getDimensions:Cpe,getScale:Bh,isElement:qi,isRTL:kpe};function KG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ppe(e,t){let n=null,r;const a=Ko(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=A0(f),v=A0(a.clientWidth-(d+h)),b=A0(a.clientHeight-(f+m)),y=A0(d),w={rootMargin:-g+"px "+-v+"px "+-b+"px "+-y+"px",threshold:Ts(0,Wc(1,c))||1};let S=!0;function j(k){const N=k[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!KG(u,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(e)}return o(!0),s}function Epe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=vD(e),d=a||s?[...u?Mv(u):[],...Mv(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=u&&l?Ppe(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,v=c?Td(e):null;c&&b();function b(){const y=Td(e);v&&!KG(v,y)&&n(),v=y,g=requestAnimationFrame(b)}return n(),()=>{var y;d.forEach(x=>{a&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Tpe=epe,_pe=tpe,Dpe=Zme,Rpe=rpe,Mpe=Jme,e$=Qme,Ipe=npe,Ope=(e,t,n)=>{const r=new Map,a={platform:Ape,...n},s={...a.platform,_c:r};return Yme(e,t,{...a,platform:s})};var Lpe=typeof document<"u",$pe=function(){},Ib=Lpe?p.useLayoutEffect:$pe;function Gw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Gw(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!Gw(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function GG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function t$(e,t){const n=GG(e);return Math.round(t*n)/n}function lk(e){const t=p.useRef(e);return Ib(()=>{t.current=e}),t}function Fpe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Gw(h,r)||m(r);const[g,v]=p.useState(null),[b,y]=p.useState(null),x=p.useCallback(M=>{M!==k.current&&(k.current=M,v(M))},[]),w=p.useCallback(M=>{M!==N.current&&(N.current=M,y(M))},[]),S=s||g,j=o||b,k=p.useRef(null),N=p.useRef(null),P=p.useRef(d),E=c!=null,R=lk(c),O=lk(a),G=lk(u),te=p.useCallback(()=>{if(!k.current||!N.current)return;const M={placement:t,strategy:n,middleware:h};O.current&&(M.platform=O.current),Ope(k.current,N.current,M).then(F=>{const W={...F,isPositioned:G.current!==!1};V.current&&!Gw(P.current,W)&&(P.current=W,Vo.flushSync(()=>{f(W)}))})},[h,t,n,O,G]);Ib(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const V=p.useRef(!1);Ib(()=>(V.current=!0,()=>{V.current=!1}),[]),Ib(()=>{if(S&&(k.current=S),j&&(N.current=j),S&&j){if(R.current)return R.current(S,j,te);te()}},[S,j,te,R,E]);const z=p.useMemo(()=>({reference:k,floating:N,setReference:x,setFloating:w}),[x,w]),$=p.useMemo(()=>({reference:S,floating:j}),[S,j]),U=p.useMemo(()=>{const M={position:n,left:0,top:0};if(!$.floating)return M;const F=t$($.floating,d.x),W=t$($.floating,d.y);return l?{...M,transform:"translate("+F+"px, "+W+"px)",...GG($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,l,$.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:te,refs:z,elements:$,floatingStyles:U}),[d,te,z,$,U])}const Bpe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?e$({element:r.current,padding:a}).fn(n):{}:r?e$({element:r,padding:a}).fn(n):{}}}},Vpe=(e,t)=>({...Tpe(e),options:[e,t]}),zpe=(e,t)=>({..._pe(e),options:[e,t]}),Upe=(e,t)=>({...Ipe(e),options:[e,t]}),Kpe=(e,t)=>({...Dpe(e),options:[e,t]}),Gpe=(e,t)=>({...Rpe(e),options:[e,t]}),Wpe=(e,t)=>({...Mpe(e),options:[e,t]}),qpe=(e,t)=>({...Bpe(e),options:[e,t]});var Hpe="Arrow",WG=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...s}=e;return i.jsx(At.svg,{...s,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});WG.displayName=Hpe;var Ype=WG;function qG(e){const[t,n]=p.useState(void 0);return jr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var yD="Popper",[HG,lu]=bs(yD),[Qpe,YG]=HG(yD),QG=e=>{const{__scopePopper:t,children:n}=e,[r,a]=p.useState(null);return i.jsx(Qpe,{scope:t,anchor:r,onAnchorChange:a,children:n})};QG.displayName=yD;var ZG="PopperAnchor",JG=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,s=YG(ZG,n),o=p.useRef(null),l=Gt(t,o),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:i.jsx(At.div,{...a,ref:l})});JG.displayName=ZG;var xD="PopperContent",[Zpe,Jpe]=HG(xD),XG=p.forwardRef((e,t)=>{var me,Ue,ne,je,ve,re;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=e,b=YG(xD,n),[y,x]=p.useState(null),w=Gt(t,Ye=>x(Ye)),[S,j]=p.useState(null),k=qG(S),N=(k==null?void 0:k.width)??0,P=(k==null?void 0:k.height)??0,E=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],G=O.length>0,te={padding:R,boundary:O.filter(ege),altBoundary:G},{refs:V,floatingStyles:z,placement:$,isPositioned:U,middlewareData:M}=Fpe({strategy:"fixed",placement:E,whileElementsMounted:(...Ye)=>Epe(...Ye,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[Vpe({mainAxis:a+P,alignmentAxis:o}),c&&zpe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Upe():void 0,...te}),c&&Kpe({...te}),Gpe({...te,apply:({elements:Ye,rects:Fe,availableWidth:Je,availableHeight:Le})=>{const{width:lt,height:ct}=Fe.reference,be=Ye.floating.style;be.setProperty("--radix-popper-available-width",`${Je}px`),be.setProperty("--radix-popper-available-height",`${Le}px`),be.setProperty("--radix-popper-anchor-width",`${lt}px`),be.setProperty("--radix-popper-anchor-height",`${ct}px`)}}),S&&qpe({element:S,padding:l}),tge({arrowWidth:N,arrowHeight:P}),h&&Wpe({strategy:"referenceHidden",...te})]}),[F,W]=n9($),Z=ia(g);jr(()=>{U&&(Z==null||Z())},[U,Z]);const H=(me=M.arrow)==null?void 0:me.x,ae=(Ue=M.arrow)==null?void 0:Ue.y,fe=((ne=M.arrow)==null?void 0:ne.centerOffset)!==0,[we,Pe]=p.useState();return jr(()=>{y&&Pe(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:U?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(je=M.transformOrigin)==null?void 0:je.x,(ve=M.transformOrigin)==null?void 0:ve.y].join(" "),...((re=M.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Zpe,{scope:n,placedSide:F,onArrowChange:j,arrowX:H,arrowY:ae,shouldHideArrow:fe,children:i.jsx(At.div,{"data-side":F,"data-align":W,...v,ref:w,style:{...v.style,animation:U?void 0:"none"}})})})});XG.displayName=xD;var e9="PopperArrow",Xpe={top:"bottom",right:"left",bottom:"top",left:"right"},t9=p.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,s=Jpe(e9,r),o=Xpe[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Ype,{...a,ref:n,style:{...a.style,display:"block"}})})});t9.displayName=e9;function ege(e){return e!==null}var tge=e=>({name:"transformOrigin",options:e,fn(t){var b,y,x;const{placement:n,rects:r,middlewareData:a}=t,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=n9(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=o?f:`${h}px`,v=`${-c}px`):u==="top"?(g=o?f:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=o?f:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,v=o?f:`${m}px`),{data:{x:g,y:v}}}});function n9(e){const[t,n="center"]=e.split("-");return[t,n]}var sC=QG,Ly=JG,iC=XG,oC=t9,nge="Portal",zm=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,s]=p.useState(!1);jr(()=>s(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Y_.createPortal(i.jsx(At.div,{...r,ref:t}),o):null});zm.displayName=nge;var rge=Symbol("radix.slottable");function age(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=rge,t}var r9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sge="VisuallyHidden",a9=p.forwardRef((e,t)=>i.jsx(At.span,{...e,ref:t,style:{...r9,...e.style}}));a9.displayName=sge;var ige=a9,[lC]=bs("Tooltip",[lu]),cC=lu(),s9="TooltipProvider",oge=700,oE="tooltip.open",[lge,bD]=lC(s9),i9=e=>{const{__scopeTooltip:t,delayDuration:n=oge,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:s}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(lge,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};i9.displayName=s9;var Iv="Tooltip",[cge,$y]=lC(Iv),o9=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=bD(Iv,e.__scopeTooltip),u=cC(t),[d,f]=p.useState(null),h=Kr(),m=p.useRef(0),g=o??c.disableHoverableContent,v=l??c.delayDuration,b=p.useRef(!1),[y,x]=Mo({prop:r,defaultProp:a??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(oE))):c.onClose(),s==null||s(N)},caller:Iv}),w=p.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,x(!0)},[x]),j=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),k=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,x(!0),m.current=0},v)},[v,x]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),i.jsx(sC,{...u,children:i.jsx(cge,{scope:t,contentId:h,open:y,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?k():S()},[c.isOpenDelayedRef,k,S]),onTriggerLeave:p.useCallback(()=>{g?j():(window.clearTimeout(m.current),m.current=0)},[j,g]),onOpen:S,onClose:j,disableHoverableContent:g,children:n})})};o9.displayName=Iv;var lE="TooltipTrigger",l9=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=$y(lE,n),s=bD(lE,n),o=cC(n),l=p.useRef(null),c=Gt(t,l,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Ly,{asChild:!0,...o,children:i.jsx(At.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:it(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:it(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:it(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:it(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:it(e.onBlur,a.onClose),onClick:it(e.onClick,a.onClose)})})});l9.displayName=lE;var wD="TooltipPortal",[uge,dge]=lC(wD,{forceMount:void 0}),c9=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:a}=e,s=$y(wD,t);return i.jsx(uge,{scope:t,forceMount:n,children:i.jsx(Wr,{present:n||s.open,children:i.jsx(zm,{asChild:!0,container:a,children:r})})})};c9.displayName=wD;var om="TooltipContent",u9=p.forwardRef((e,t)=>{const n=dge(om,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...s}=e,o=$y(om,e.__scopeTooltip);return i.jsx(Wr,{present:r||o.open,children:o.disableHoverableContent?i.jsx(d9,{side:a,...s,ref:t}):i.jsx(fge,{side:a,...s,ref:t})})}),fge=p.forwardRef((e,t)=>{const n=$y(om,e.__scopeTooltip),r=bD(om,e.__scopeTooltip),a=p.useRef(null),s=Gt(t,a),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((g,v)=>{const b=g.currentTarget,y={x:g.clientX,y:g.clientY},x=vge(y,b.getBoundingClientRect()),w=yge(y,x),S=xge(v.getBoundingClientRect()),j=wge([...w,...S]);l(j),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const g=b=>m(b,d),v=b=>m(b,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",v)}}},[c,d,m,h]),p.useEffect(()=>{if(o){const g=v=>{const b=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!bge(y,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(d9,{...e,ref:s})}),[hge,mge]=lC(Iv,{isInside:!1}),pge=age("TooltipContent"),d9=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=$y(om,n),u=cC(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(oE,d),()=>document.removeEventListener(oE,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Fm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(iC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(pge,{children:r}),i.jsx(hge,{scope:n,isInside:!0,children:i.jsx(ige,{id:c.contentId,role:"tooltip",children:a||r})})]})})});u9.displayName=om;var f9="TooltipArrow",gge=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=cC(n);return mge(f9,n).isInside?null:i.jsx(oC,{...a,...r,ref:t})});gge.displayName=f9;function vge(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,a,s)){case s:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yge(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function xge(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function bge(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function wge(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Sge(t)}function Sge(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Cge=i9,jge=o9,Nge=l9,kge=c9,Age=u9;function SD({delayDuration:e=0,...t}){return i.jsx(Cge,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function h9({...e}){return i.jsx(SD,{children:i.jsx(jge,{"data-slot":"tooltip",...e})})}function m9({...e}){return i.jsx(Nge,{"data-slot":"tooltip-trigger",...e})}function p9({className:e,sideOffset:t=0,children:n,...r}){return i.jsx(kge,{children:i.jsx(Age,{"data-slot":"tooltip-content",sideOffset:t,className:De("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:n})})}const ck=1536;function Um(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${ck-1}px)`),r=()=>{t(window.innerWidth<ck)};return n.addEventListener("change",r),t(window.innerWidth<ck),()=>n.removeEventListener("change",r)},[]),!!e}function Pge({onOpen:e}){return p.useEffect(()=>{const t=n=>{var s;const r=(s=n.touches)==null?void 0:s[0];if(r&&r.clientX<=30){const o=r.clientX,l=Date.now(),c=f=>{var b;const h=(b=f.touches)==null?void 0:b[0];if(!h)return;const m=h.clientX-o,g=Date.now()-l,v=m/g;m>50&&v>.3&&(e(),d())},u=()=>{d()},d=()=>{document.removeEventListener("touchmove",c),document.removeEventListener("touchend",u)};document.addEventListener("touchmove",c,{passive:!0}),document.addEventListener("touchend",u,{passive:!0})}};return document.addEventListener("touchstart",t,{passive:!0}),()=>{document.removeEventListener("touchstart",t)}},[e]),null}function Ege({onClose:e}){const t=p.useRef(null),n=a=>{var o;const s=(o=a.touches)==null?void 0:o[0];s&&(t.current={x:s.clientX,y:s.clientY})},r=a=>{var u;if(!t.current)return;const s=(u=a.changedTouches)==null?void 0:u[0];if(!s)return;const o=s.clientX-t.current.x,l=s.clientY-t.current.y,c=60;Math.abs(o)>Math.abs(l)&&Math.abs(o)>c&&o<-c&&(a.preventDefault(),e()),t.current=null};return i.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 2xl:hidden",onClick:e,onTouchStart:n,onTouchEnd:r})}function Tge({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:s,...o}){const l=Um(),[c,u]=p.useState(!1),[d,f]=p.useState(e),h=t??d,m=p.useCallback(y=>{const x=typeof y=="function"?y(h):y;n?n(x):f(x),document.cookie=`${Cme}=${x}; path=/; max-age=${jme}`},[n,h]);p.useEffect(()=>{const y=()=>{if(window.innerWidth<1536&&c){const j=document.body.style.overflow,k=document.body.style.touchAction,N=document.body.style.position;return document.body.style.overflow="hidden",document.body.style.touchAction="none",document.body.style.position="fixed",document.body.style.width="100%",()=>{document.body.style.overflow=j,document.body.style.touchAction=k,document.body.style.position=N,document.body.style.width=""}}},x=y(),w=()=>{x&&x(),y()};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),x&&x()}},[c]);const g=p.useCallback(()=>l?u(y=>!y):m(y=>!y),[l,m,u]);p.useEffect(()=>{const y=x=>{x.key===Ame&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),g())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[g]);const v=h?"expanded":"collapsed",b=p.useMemo(()=>({state:v,open:h,setOpen:m,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:g}),[v,h,m,l,c,u,g]);return i.jsx(_G.Provider,{value:b,children:i.jsx(SD,{delayDuration:0,children:i.jsxs("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Nme,"--sidebar-width-icon":kme,...a},className:De("group/sidebar-wrapper h-full has-data-[variant=inset]:bg-sidebar flex min-h-auto overflow-auto w-full",r),...o,children:[!c&&i.jsx(Pge,{onOpen:()=>u(!0)}),c&&i.jsx(Ege,{onClose:()=>u(!1)}),s]})})})}var _ge=Symbol.for("react.lazy"),Ww=ky[" use ".trim().toString()];function Dge(e){return typeof e=="object"&&e!==null&&"then"in e}function g9(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===_ge&&"_payload"in e&&Dge(e._payload)}function Fy(e){const t=Rge(e),n=p.forwardRef((r,a)=>{let{children:s,...o}=r;g9(s)&&typeof Ww=="function"&&(s=Ww(s._payload));const l=p.Children.toArray(s),c=l.find(Ige);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}var By=Fy("Slot");function Rge(e){const t=p.forwardRef((n,r)=>{let{children:a,...s}=n;if(g9(a)&&typeof Ww=="function"&&(a=Ww(a._payload)),p.isValidElement(a)){const o=Lge(a),l=Oge(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mge=Symbol("radix.slottable");function Ige(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mge}function Oge(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function Lge(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const n$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,r$=cn,uC=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return r$(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=n$(d)||n$(f);return a[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[v,b]=g;return Array.isArray(b)?b.includes({...s,...l}[v]):{...s,...l}[v]===b})?[...u,f,h]:u},[]);return r$(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},v9=p.createContext({});function $ge(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const CD=p.createContext(null),y9=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Fge(e=!0){const t=p.useContext(CD);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,s=p.useId();p.useEffect(()=>{e&&a(s)},[e]);const o=p.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const jD=typeof window<"u",Bge=jD?p.useLayoutEffect:p.useEffect,$s=e=>e;let x9=$s;function ND(e){let t;return()=>(t===void 0&&(t=e()),t)}const lm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},yl=e=>e*1e3,xl=e=>e/1e3,Vge={useManualTiming:!1};function zge(e){let t=new Set,n=new Set,r=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&r?t:n;return d&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){a=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,a&&(a=!1,c.process(u))}};return c}const P0=["read","resolveKeyframes","update","preRender","render","postRender"],Uge=40;function b9(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=P0.reduce((y,x)=>(y[x]=zge(s),y),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,m=()=>{const y=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(y-a.timestamp,Uge),1),a.timestamp=y,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,a.isProcessing||e(m)};return{schedule:P0.reduce((y,x)=>{const w=o[x];return y[x]=(S,j=!1,k=!1)=>(n||g(),w.schedule(S,j,k)),y},{}),cancel:y=>{for(let x=0;x<P0.length;x++)o[P0[x]].cancel(y)},state:a,steps:o}}const{schedule:Un,cancel:Hc,state:ga,steps:uk}=b9(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0),w9=p.createContext({strict:!1}),a$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cm={};for(const e in a$)cm[e]={isEnabled:t=>a$[e].some(n=>!!t[n])};function Kge(e){for(const t in e)cm[t]={...cm[t],...e[t]}}const Gge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Gge.has(e)}let S9=e=>!qw(e);function Wge(e){e&&(S9=t=>t.startsWith("on")?!qw(t):e(t))}try{Wge(require("@emotion/is-prop-valid").default)}catch{}function qge(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(S9(a)||n===!0&&qw(a)||!t&&!qw(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function Hge(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const dC=p.createContext({});function Ov(e){return typeof e=="string"||Array.isArray(e)}function fC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const kD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AD=["initial",...kD];function hC(e){return fC(e.animate)||AD.some(t=>Ov(e[t]))}function C9(e){return!!(hC(e)||e.variants)}function Yge(e,t){if(hC(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ov(n)?n:void 0,animate:Ov(r)?r:void 0}}return e.inherit!==!1?t:{}}function Qge(e){const{initial:t,animate:n}=Yge(e,p.useContext(dC));return p.useMemo(()=>({initial:t,animate:n}),[s$(t),s$(n)])}function s$(e){return Array.isArray(e)?e.join(" "):e}const Zge=Symbol.for("motionComponentSymbol");function mh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jge(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):mh(n)&&(n.current=r))},[t])}const PD=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xge="framerAppearId",j9="data-"+PD(Xge),{schedule:ED}=b9(queueMicrotask,!1),N9=p.createContext({});function eve(e,t,n,r,a){var s,o;const{visualElement:l}=p.useContext(dC),c=p.useContext(w9),u=p.useContext(CD),d=p.useContext(y9).reducedMotion,f=p.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=p.useContext(N9);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&tve(f.current,n,a,m);const g=p.useRef(!1);p.useInsertionEffect(()=>{h&&g.current&&h.update(n,u)});const v=n[j9],b=p.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return Bge(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),ED.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),p.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,v)}),b.current=!1))}),h}function tve(e,t,n,r){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:k9(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&mh(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function k9(e){if(e)return e.options.allowProjection!==!1?e.projection:k9(e.parent)}function nve({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){var s,o;e&&Kge(e);function l(u,d){let f;const h={...p.useContext(y9),...u,layoutId:rve(u)},{isStatic:m}=h,g=Qge(u),v=r(u,m);if(!m&&jD){ave();const b=sve(h);f=b.MeasureLayout,g.visualElement=eve(a,v,h,t,b.ProjectionNode)}return i.jsxs(dC.Provider,{value:g,children:[f&&g.visualElement?i.jsx(f,{visualElement:g.visualElement,...h}):null,n(a,u,Jge(v,g.visualElement,d),v,m,g.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(s=a.displayName)!==null&&s!==void 0?s:a.name)!==null&&o!==void 0?o:""})`}`;const c=p.forwardRef(l);return c[Zge]=a,c}function rve({layoutId:e}){const t=p.useContext(v9).id;return t&&e!==void 0?t+"-"+e:e}function ave(e,t){p.useContext(w9).strict}function sve(e){const{drag:t,layout:n}=cm;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ive=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TD(e){return typeof e!="string"||e.includes("-")?!1:!!(ive.indexOf(e)>-1||/[A-Z]/u.test(e))}function i$(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function _D(e,t,n,r){if(typeof t=="function"){const[a,s]=i$(r);t=t(n!==void 0?n:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=i$(r);t=t(n!==void 0?n:e.custom,a,s)}return t}const cE=e=>Array.isArray(e),ove=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),lve=e=>cE(e)?e[e.length-1]||0:e,Ra=e=>!!(e&&e.getVelocity);function Ob(e){const t=Ra(e)?e.get():e;return ove(t)?t.toValue():t}function cve({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,s){const o={latestValues:uve(r,a,s,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const A9=e=>(t,n)=>{const r=p.useContext(dC),a=p.useContext(CD),s=()=>cve(e,t,r,a);return n?s():$ge(s)};function uve(e,t,n,r){const a={},s=r(e,{});for(const h in s)a[h]=Ob(s[h]);let{initial:o,animate:l}=e;const c=hC(e),u=C9(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!fC(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=_D(e,h[m]);if(g){const{transitionEnd:v,transition:b,...y}=g;for(const x in y){let w=y[x];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(a[x]=w)}for(const x in v)a[x]=v[x]}}}return a}const Km=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],af=new Set(Km),P9=e=>t=>typeof t=="string"&&t.startsWith(e),E9=P9("--"),dve=P9("var(--"),DD=e=>dve(e)?fve.test(e.split("/*")[0].trim()):!1,fve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,T9=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Tl=(e,t,n)=>n>t?t:n<e?e:n,Gm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Lv={...Gm,transform:e=>Tl(0,1,e)},E0={...Gm,default:1},Vy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),uc=Vy("deg"),Ao=Vy("%"),Mt=Vy("px"),hve=Vy("vh"),mve=Vy("vw"),o$={...Ao,parse:e=>Ao.parse(e)/100,transform:e=>Ao.transform(e*100)},pve={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,backgroundPositionX:Mt,backgroundPositionY:Mt},gve={rotate:uc,rotateX:uc,rotateY:uc,rotateZ:uc,scale:E0,scaleX:E0,scaleY:E0,scaleZ:E0,skew:uc,skewX:uc,skewY:uc,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:Lv,originX:o$,originY:o$,originZ:Mt},l$={...Gm,transform:Math.round},RD={...pve,...gve,zIndex:l$,size:Mt,fillOpacity:Lv,strokeOpacity:Lv,numOctaves:l$},vve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yve=Km.length;function xve(e,t,n){let r="",a=!0;for(let s=0;s<yve;s++){const o=Km[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=T9(l,RD[o]);if(!c){a=!1;const d=vve[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function MD(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(af.has(c)){o=!0;continue}else if(E9(c)){a[c]=u;continue}else{const d=T9(u,RD[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=xve(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const bve={offset:"stroke-dashoffset",array:"stroke-dasharray"},wve={offset:"strokeDashoffset",array:"strokeDasharray"};function Sve(e,t,n=1,r=0,a=!0){e.pathLength=1;const s=a?bve:wve;e[s.offset]=Mt.transform(-r);const o=Mt.transform(t),l=Mt.transform(n);e[s.array]=`${o} ${l}`}function c$(e,t,n){return typeof e=="string"?e:Mt.transform(t+n*e)}function Cve(e,t,n){const r=c$(t,e.x,e.width),a=c$(n,e.y,e.height);return`${r} ${a}`}function ID(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(MD(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:g}=e;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(a!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=Cve(g,a!==void 0?a:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&Sve(h,o,l,c,!1)}const OD=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),_9=()=>({...OD(),attrs:{}}),LD=e=>typeof e=="string"&&e.toLowerCase()==="svg";function D9(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const R9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M9(e,t,n,r){D9(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(R9.has(a)?a:PD(a),t.attrs[a])}const Hw={};function jve(e){Object.assign(Hw,e)}function I9(e,{layout:t,layoutId:n}){return af.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hw[e]||e==="opacity")}function $D(e,t,n){var r;const{style:a}=e,s={};for(const o in a)(Ra(a[o])||t.style&&Ra(t.style[o])||I9(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=a[o]);return s}function O9(e,t,n){const r=$D(e,t,n);for(const a in e)if(Ra(e[a])||Ra(t[a])){const s=Km.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[s]=e[a]}return r}function Nve(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const u$=["x","y","width","height","cx","cy","r"],kve={useVisualState:A9({scrapeMotionValuesFromProps:O9,createRenderState:_9,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let s=!!e.drag;if(!s){for(const l in a)if(af.has(l)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let l=0;l<u$.length;l++){const c=u$[l];e[c]!==t[c]&&(o=!0)}o&&Un.read(()=>{Nve(n,r),Un.render(()=>{ID(r,a,LD(n.tagName),e.transformTemplate),M9(n,r)})})}})},Ave={useVisualState:A9({scrapeMotionValuesFromProps:$D,createRenderState:OD})};function L9(e,t,n){for(const r in t)!Ra(t[r])&&!I9(r,n)&&(e[r]=t[r])}function Pve({transformTemplate:e},t){return p.useMemo(()=>{const n=OD();return MD(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Eve(e,t){const n=e.style||{},r={};return L9(r,n,e),Object.assign(r,Pve(e,t)),r}function Tve(e,t){const n={},r=Eve(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function _ve(e,t,n,r){const a=p.useMemo(()=>{const s=_9();return ID(s,t,LD(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};L9(s,e.style,e),a.style={...s,...a.style}}return a}function Dve(e=!1){return(n,r,a,{latestValues:s},o)=>{const c=(TD(n)?_ve:Tve)(r,s,o,n),u=qge(r,typeof n=="string",e),d=n!==p.Fragment?{...u,...c,ref:a}:{},{children:f}=r,h=p.useMemo(()=>Ra(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function Rve(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...TD(r)?kve:Ave,preloadedFeatures:e,useRender:Dve(a),createVisualElement:t,Component:r};return nve(o)}}function $9(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function mC(e,t,n){const r=e.getProps();return _D(r,t,n!==void 0?n:r.custom,e)}const Mve=ND(()=>window.ScrollTimeline!==void 0);class Ive{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>{if(Mve()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,s)=>{a&&a(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ove extends Ive{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function FD(e,t){return e?e[t]||e.default||e:void 0}const uE=2e4;function F9(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uE;)t+=n,r=e.next(t);return t>=uE?1/0:t}function BD(e){return typeof e=="function"}function d$(e,t){e.timeline=t,e.onfinish=null}const VD=e=>Array.isArray(e)&&typeof e[0]=="number",Lve={linearEasing:void 0};function $ve(e,t){const n=ND(e);return()=>{var r;return(r=Lve[t])!==null&&r!==void 0?r:n()}}const Yw=$ve(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),B9=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let s=0;s<a;s++)r+=e(lm(0,a-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function V9(e){return!!(typeof e=="function"&&Yw()||!e||typeof e=="string"&&(e in dE||Yw())||VD(e)||Array.isArray(e)&&e.every(V9))}const bg=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,dE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bg([0,.65,.55,1]),circOut:bg([.55,0,1,.45]),backIn:bg([.31,.01,.66,-.59]),backOut:bg([.33,1.53,.69,.99])};function z9(e,t){if(e)return typeof e=="function"&&Yw()?B9(e,t):VD(e)?bg(e):Array.isArray(e)?e.map(n=>z9(n,t)||dE.easeOut):dE[e]}const Ti={x:!1,y:!1};function U9(){return Ti.x||Ti.y}function Fve(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const s=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function K9(e,t){const n=Fve(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function f$(e){return t=>{t.pointerType==="touch"||U9()||e(t)}}function Bve(e,t,n={}){const[r,a,s]=K9(e,n),o=f$(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=f$(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,a)});return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),s}const G9=(e,t)=>t?e===t?!0:G9(e,t.parentElement):!1,zD=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Vve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zve(e){return Vve.has(e.tagName)||e.tabIndex!==-1}const wg=new WeakSet;function h$(e){return t=>{t.key==="Enter"&&e(t)}}function dk(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Uve=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=h$(()=>{if(wg.has(n))return;dk(n,"down");const a=h$(()=>{dk(n,"up")}),s=()=>dk(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function m$(e){return zD(e)&&!U9()}function Kve(e,t,n={}){const[r,a,s]=K9(e,n),o=l=>{const c=l.currentTarget;if(!m$(l)||wg.has(c))return;wg.add(c);const u=t(l),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!m$(m)||!wg.has(c))&&(wg.delete(c),typeof u=="function"&&u(m,{success:g}))},f=m=>{d(m,n.useGlobalTarget||G9(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return r.forEach(l=>{!zve(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",u=>Uve(u,a),a)}),s}function Gve(e){return e==="x"||e==="y"?Ti[e]?null:(Ti[e]=!0,()=>{Ti[e]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}const W9=new Set(["width","height","top","left","right","bottom",...Km]);let Lb;function Wve(){Lb=void 0}const Po={now:()=>(Lb===void 0&&Po.set(ga.isProcessing||Vge.useManualTiming?ga.timestamp:performance.now()),Lb),set:e=>{Lb=e,queueMicrotask(Wve)}};function UD(e,t){e.indexOf(t)===-1&&e.push(t)}function KD(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let GD=class{constructor(){this.subscriptions=[]}add(t){return UD(this.subscriptions,t),()=>KD(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function q9(e,t){return t?e*(1e3/t):0}const p$=30,qve=e=>!isNaN(parseFloat(e));let Hve=class{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const s=Po.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Po.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qve(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new GD);const r=this.events[t].add(n);return t==="change"?()=>{r(),Un.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Po.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>p$)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,p$);return q9(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function $v(e,t){return new Hve(e,t)}function Yve(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$v(n))}function Qve(e,t){const n=mC(e,t);let{transitionEnd:r={},transition:a={},...s}=n||{};s={...s,...r};for(const o in s){const l=lve(s[o]);Yve(e,o,l)}}function Zve(e){return!!(Ra(e)&&e.add)}function fE(e,t){const n=e.getValue("willChange");if(Zve(n))return n.add(t)}function H9(e){return e.props[j9]}const Y9=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Jve=1e-7,Xve=12;function eye(e,t,n,r,a){let s,o,l=0;do o=t+(n-t)/2,s=Y9(o,r,a)-e,s>0?n=o:t=o;while(Math.abs(s)>Jve&&++l<Xve);return o}function zy(e,t,n,r){if(e===t&&n===r)return $s;const a=s=>eye(s,0,1,e,n);return s=>s===0||s===1?s:Y9(a(s),t,r)}const Q9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Z9=e=>t=>1-e(1-t),J9=zy(.33,1.53,.69,.99),WD=Z9(J9),X9=Q9(WD),eW=e=>(e*=2)<1?.5*WD(e):.5*(2-Math.pow(2,-10*(e-1))),qD=e=>1-Math.sin(Math.acos(e)),tW=Z9(qD),nW=Q9(qD),rW=e=>/^0[^.\s]+$/u.test(e);function tye(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rW(e):!0}const Hg=e=>Math.round(e*1e5)/1e5,HD=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nye(e){return e==null}const rye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,YD=(e,t)=>n=>!!(typeof n=="string"&&rye.test(n)&&n.startsWith(e)||t&&!nye(n)&&Object.prototype.hasOwnProperty.call(n,t)),aW=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,s,o,l]=r.match(HD);return{[e]:parseFloat(a),[t]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},aye=e=>Tl(0,255,e),fk={...Gm,transform:e=>Math.round(aye(e))},qu={test:YD("rgb","red"),parse:aW("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+fk.transform(e)+", "+fk.transform(t)+", "+fk.transform(n)+", "+Hg(Lv.transform(r))+")"};function sye(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const hE={test:YD("#"),parse:sye,transform:qu.transform},ph={test:YD("hsl","hue"),parse:aW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ao.transform(Hg(t))+", "+Ao.transform(Hg(n))+", "+Hg(Lv.transform(r))+")"},Ea={test:e=>qu.test(e)||hE.test(e)||ph.test(e),parse:e=>qu.test(e)?qu.parse(e):ph.test(e)?ph.parse(e):hE.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qu.transform(e):ph.transform(e)},iye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oye(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(HD))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(iye))===null||n===void 0?void 0:n.length)||0)>0}const sW="number",iW="color",lye="var",cye="var(",g$="${}",uye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(uye,c=>(Ea.test(c)?(r.color.push(s),a.push(iW),n.push(Ea.parse(c))):c.startsWith(cye)?(r.var.push(s),a.push(lye),n.push(c)):(r.number.push(s),a.push(sW),n.push(parseFloat(c))),++s,g$)).split(g$);return{values:n,split:l,indexes:r,types:a}}function oW(e){return Fv(e).values}function lW(e){const{split:t,types:n}=Fv(e),r=t.length;return a=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],a[o]!==void 0){const l=n[o];l===sW?s+=Hg(a[o]):l===iW?s+=Ea.transform(a[o]):s+=a[o]}return s}}const dye=e=>typeof e=="number"?0:e;function fye(e){const t=oW(e);return lW(e)(t.map(dye))}const Yc={test:oye,parse:oW,createTransformer:lW,getAnimatableNone:fye},hye=new Set(["brightness","contrast","saturate","opacity"]);function mye(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(HD)||[];if(!r)return e;const a=n.replace(r,"");let s=hye.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+a+")"}const pye=/\b([a-z-]*)\(.*?\)/gu,mE={...Yc,getAnimatableNone:e=>{const t=e.match(pye);return t?t.map(mye).join(" "):e}},gye={...RD,color:Ea,backgroundColor:Ea,outlineColor:Ea,fill:Ea,stroke:Ea,borderColor:Ea,borderTopColor:Ea,borderRightColor:Ea,borderBottomColor:Ea,borderLeftColor:Ea,filter:mE,WebkitFilter:mE},QD=e=>gye[e];function cW(e,t){let n=QD(e);return n!==mE&&(n=Yc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vye=new Set(["auto","none","0"]);function yye(e,t,n){let r=0,a;for(;r<e.length&&!a;){const s=e[r];typeof s=="string"&&!vye.has(s)&&Fv(s).values.length&&(a=e[r]),r++}if(a&&n)for(const s of t)e[s]=cW(n,a)}const v$=e=>e===Gm||e===Mt,y$=(e,t)=>parseFloat(e.split(", ")[t]),x$=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return y$(a[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?y$(s[1],e):0}},xye=new Set(["x","y","z"]),bye=Km.filter(e=>!xye.has(e));function wye(e){const t=[];return bye.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const um={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:x$(4,13),y:x$(5,14)};um.translateX=um.x;um.translateY=um.y;const id=new Set;let pE=!1,gE=!1;function uW(){if(gE){const e=Array.from(id).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=wye(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([s,o])=>{var l;(l=r.getValue(s))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gE=!1,pE=!1,id.forEach(e=>e.complete()),id.clear()}function dW(){id.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gE=!0)})}function Sye(){dW(),uW()}let ZD=class{constructor(t,n,r,a,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(id.add(this),pE||(pE=!0,Un.read(dW),Un.resolveKeyframes(uW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),id.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,id.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const fW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Cye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jye(e){const t=Cye.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function hW(e,t,n=1){const[r,a]=jye(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return fW(o)?parseFloat(o):o}return DD(a)?hW(a,t,n+1):a}const mW=e=>t=>t.test(e),Nye={test:e=>e==="auto",parse:e=>e},pW=[Gm,Mt,Ao,uc,mve,hve,Nye],b$=e=>pW.find(mW(e));let gW=class extends ZD{constructor(t,n,r,a,s){super(t,n,r,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),DD(u))){const d=hW(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!W9.has(r)||t.length!==2)return;const[a,s]=t,o=b$(a),l=b$(s);if(o!==l)if(v$(o)&&v$(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)tye(t[a])&&r.push(a);r.length&&yye(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=um[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=um[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}};const w$=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yc.test(e)||e==="0")&&!e.startsWith("url("));function kye(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Aye(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=w$(a,t),l=w$(s,t);return!o||!l?!1:kye(e)||(n==="spring"||BD(n))&&r}const Pye=e=>e!==null;function pC(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(Pye),s=t&&n!=="loop"&&t%2===1?0:a.length-1;return!s||r===void 0?a[s]:r}const Eye=40;class vW{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Po.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Eye?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Sye(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Po.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Aye(t,r,a,s))if(o)this.options.duration=0;else{c&&c(pC(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const rr=(e,t,n)=>e+(t-e)*n;function hk(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Tye({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,s=0,o=0;if(!t)a=s=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=hk(c,l,e+1/3),s=hk(c,l,e),o=hk(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Qw(e,t){return n=>n>0?t:e}const mk=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},_ye=[hE,qu,ph],Dye=e=>_ye.find(t=>t.test(e));function S$(e){const t=Dye(e);if(!t)return!1;let n=t.parse(e);return t===ph&&(n=Tye(n)),n}const C$=(e,t)=>{const n=S$(e),r=S$(t);if(!n||!r)return Qw(e,t);const a={...n};return s=>(a.red=mk(n.red,r.red,s),a.green=mk(n.green,r.green,s),a.blue=mk(n.blue,r.blue,s),a.alpha=rr(n.alpha,r.alpha,s),qu.transform(a))},Rye=(e,t)=>n=>t(e(n)),Uy=(...e)=>e.reduce(Rye),vE=new Set(["none","hidden"]);function Mye(e,t){return vE.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Iye(e,t){return n=>rr(e,t,n)}function JD(e){return typeof e=="number"?Iye:typeof e=="string"?DD(e)?Qw:Ea.test(e)?C$:$ye:Array.isArray(e)?yW:typeof e=="object"?Ea.test(e)?C$:Oye:Qw}function yW(e,t){const n=[...e],r=n.length,a=e.map((s,o)=>JD(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=a[o](s);return n}}function Oye(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=JD(e[a])(e[a],t[a]));return a=>{for(const s in r)n[s]=r[s](a);return n}}function Lye(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][a[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[s]=c,a[o]++}return r}const $ye=(e,t)=>{const n=Yc.createTransformer(t),r=Fv(e),a=Fv(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?vE.has(e)&&!a.values.length||vE.has(t)&&!r.values.length?Mye(e,t):Uy(yW(Lye(r,a),a.values),n):Qw(e,t)};function xW(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?rr(e,t,n):JD(e)(e,t)}const Fye=5;function bW(e,t,n){const r=Math.max(t-Fye,0);return q9(n-e(r),t-r)}const dr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pk=.001;function Bye({duration:e=dr.duration,bounce:t=dr.bounce,velocity:n=dr.velocity,mass:r=dr.mass}){let a,s,o=1-t;o=Tl(dr.minDamping,dr.maxDamping,o),e=Tl(dr.minDuration,dr.maxDuration,xl(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-n,m=yE(u,o),g=Math.exp(-f);return pk-h/m*g},s=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),v=yE(Math.pow(u,2),o);return(-a(u)+pk>0?-1:1)*((h-m)*g)/v}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-pk+d*f},s=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=zye(a,s,l);if(e=yl(e),isNaN(c))return{stiffness:dr.stiffness,damping:dr.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Vye=12;function zye(e,t,n){let r=n;for(let a=1;a<Vye;a++)r=r-e(r)/t(r);return r}function yE(e,t){return e*Math.sqrt(1-t*t)}const Uye=["duration","bounce"],Kye=["stiffness","damping","mass"];function j$(e,t){return t.some(n=>e[n]!==void 0)}function Gye(e){let t={velocity:dr.velocity,stiffness:dr.stiffness,damping:dr.damping,mass:dr.mass,isResolvedFromDuration:!1,...e};if(!j$(e,Kye)&&j$(e,Uye))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,s=2*Tl(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:dr.mass,stiffness:a,damping:s}}else{const n=Bye(e);t={...t,...n,mass:dr.mass},t.isResolvedFromDuration=!0}return t}function wW(e=dr.visualDuration,t=dr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=Gye({...n,velocity:-xl(n.velocity||0)}),g=h||0,v=u/(2*Math.sqrt(c*d)),b=o-s,y=xl(Math.sqrt(c/d)),x=Math.abs(b)<5;r||(r=x?dr.restSpeed.granular:dr.restSpeed.default),a||(a=x?dr.restDelta.granular:dr.restDelta.default);let w;if(v<1){const j=yE(y,v);w=k=>{const N=Math.exp(-v*y*k);return o-N*((g+v*y*b)/j*Math.sin(j*k)+b*Math.cos(j*k))}}else if(v===1)w=j=>o-Math.exp(-y*j)*(b+(g+y*b)*j);else{const j=y*Math.sqrt(v*v-1);w=k=>{const N=Math.exp(-v*y*k),P=Math.min(j*k,300);return o-N*((g+v*y*b)*Math.sinh(P)+j*b*Math.cosh(P))/j}}const S={calculatedDuration:m&&f||null,next:j=>{const k=w(j);if(m)l.done=j>=f;else{let N=0;v<1&&(N=j===0?yl(g):bW(w,j,k));const P=Math.abs(N)<=r,E=Math.abs(o-k)<=a;l.done=P&&E}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(F9(S),uE),k=B9(N=>S.next(j*N).value,j,30);return j+"ms "+k}};return S}function N$({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let v=n*t;const b=f+v,y=o===void 0?b:o(b);y!==b&&(v=y-f);const x=P=>-v*Math.exp(-P/r),w=P=>y+x(P),S=P=>{const E=x(P),R=w(P);h.done=Math.abs(E)<=u,h.value=h.done?y:R};let j,k;const N=P=>{m(h.value)&&(j=P,k=wW({keyframes:[h.value,g(h.value)],velocity:bW(w,P,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let E=!1;return!k&&j===void 0&&(E=!0,S(P),N(P)),j!==void 0&&P>=j?k.next(P-j):(!E&&S(P),h)}}}const Wye=zy(.42,0,1,1),qye=zy(0,0,.58,1),SW=zy(.42,0,.58,1),Hye=e=>Array.isArray(e)&&typeof e[0]!="number",Yye={linear:$s,easeIn:Wye,easeInOut:SW,easeOut:qye,circIn:qD,circInOut:nW,circOut:tW,backIn:WD,backInOut:X9,backOut:J9,anticipate:eW},k$=e=>{if(VD(e)){x9(e.length===4);const[t,n,r,a]=e;return zy(t,n,r,a)}else if(typeof e=="string")return Yye[e];return e};function Qye(e,t,n){const r=[],a=n||xW,s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||$s:t;l=Uy(c,l)}r.push(l)}return r}function Zye(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const s=e.length;if(x9(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Qye(t,r,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=lm(e[f],e[f+1],d);return l[f](h)};return n?d=>u(Tl(e[0],e[s-1],d)):u}function Jye(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=lm(0,t,r);e.push(rr(n,1,a))}}function Xye(e){const t=[0];return Jye(t,e.length-1),t}function exe(e,t){return e.map(n=>n*t)}function txe(e,t){return e.map(()=>t||SW).splice(0,e.length-1)}function Zw({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Hye(r)?r.map(k$):k$(r),s={done:!1,value:t[0]},o=exe(n&&n.length===t.length?n:Xye(t),e),l=Zye(o,t,{ease:Array.isArray(a)?a:txe(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const nxe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Un.update(t,!0),stop:()=>Hc(t),now:()=>ga.isProcessing?ga.timestamp:Po.now()}},rxe={decay:N$,inertia:N$,tween:Zw,keyframes:Zw,spring:wW},axe=e=>e/100;class XD extends vW{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:a,keyframes:s}=this.options,o=(a==null?void 0:a.KeyframeResolver)||ZD,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=this.options,l=BD(n)?n:rxe[n]||Zw;let c,u;l!==Zw&&typeof t[0]!="number"&&(c=Uy(axe,xW(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});s==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=F9(d));const{calculatedDuration:f}=d,h=f+a,m=h*(r+1)-a;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:a,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:m,repeatType:g,repeatDelay:v,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,S=s;if(m){const P=Math.min(this.currentTime,d)/f;let E=Math.floor(P),R=P%1;!R&&P>=1&&(R=1),R===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(g==="reverse"?(R=1-R,v&&(R-=v/f)):g==="mirror"&&(S=o)),w=Tl(0,1,R)*f}const j=x?{done:!1,value:c[0]}:S.next(w);l&&(j.value=l(j.value));let{done:k}=j;!x&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return N&&a!==void 0&&(j.value=pC(c,this.options,a)),b&&b(j.value),N&&this.finish(),j}get duration(){const{resolved:t}=this;return t?xl(t.calculatedDuration):0}get time(){return xl(this.currentTime)}set time(t){t=yl(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=nxe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const sxe=new Set(["opacity","clipPath","filter","transform"]);function ixe(e,t,n,{delay:r=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=z9(l,a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const oxe=ND(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jw=10,lxe=2e4;function cxe(e){return BD(e.type)||e.type==="spring"||!V9(e.ease)}function uxe(e,t){const n=new XD({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let s=0;for(;!r.done&&s<lxe;)r=n.sample(s),a.push(r.value),s+=Jw;return{times:void 0,keyframes:a,duration:s-Jw,ease:"linear"}}const CW={anticipate:eW,backInOut:X9,circInOut:nW};function dxe(e){return e in CW}class A$ extends vW{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:s}=this.options;this.resolver=new gW(s,(o,l)=>this.onKeyframesResolved(o,l),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:a,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&Yw()&&dxe(s)&&(s=CW[s]),cxe(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:g,...v}=this.options,b=uxe(t,v);t=b.keyframes,t.length===1&&(t[1]=t[0]),r=b.duration,a=b.times,s=b.ease,o="keyframes"}const d=ixe(l.owner.current,c,t,{...this.options,duration:r,times:a,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(d$(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(pC(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:a,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return xl(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return xl(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=yl(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return $s;const{animation:r}=n;d$(r,t)}return $s}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:s,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,g=new XD({...m,keyframes:r,duration:a,type:s,ease:o,times:l,isGenerator:!0}),v=yl(this.time);u.setWithVelocity(g.sample(v-Jw).value,g.sample(v).value,Jw)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:s,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return oxe()&&r&&sxe.has(r)&&!c&&!u&&!a&&s!=="mirror"&&o!==0&&l!=="inertia"}}const fxe={type:"spring",stiffness:500,damping:25,restSpeed:10},hxe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mxe={type:"keyframes",duration:.8},pxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gxe=(e,{keyframes:t})=>t.length>2?mxe:af.has(e)?e.startsWith("scale")?hxe(t[1]):fxe:pxe;function vxe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const eR=(e,t,n,r={},a,s)=>o=>{const l=FD(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-yl(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};vxe(l)||(d={...d,...gxe(e,d)}),d.duration&&(d.duration=yl(d.duration)),d.repeatDelay&&(d.repeatDelay=yl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const h=pC(d.keyframes,l);if(h!==void 0)return Un.update(()=>{d.onUpdate(h),d.onComplete()}),new Ove([])}return!s&&A$.supports(d)?new A$(d):new XD(d)};function yxe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function jW(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const h=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),m=c[f];if(m===void 0||d&&yxe(d,f))continue;const g={delay:n,...FD(o||{},f)};let v=!1;if(window.MotionHandoffAnimation){const y=H9(e);if(y){const x=window.MotionHandoffAnimation(y,f,Un);x!==null&&(g.startTime=x,v=!0)}}fE(e,f),h.start(eR(f,h,m,e.shouldReduceMotion&&W9.has(f)?{type:!1}:g,e,v));const b=h.animation;b&&u.push(b)}return l&&Promise.all(u).then(()=>{Un.update(()=>{l&&Qve(e,l)})}),u}function xE(e,t,n={}){var r;const a=mC(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const o=a?()=>Promise.all(jW(e,a,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return xxe(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function xxe(e,t,n=0,r=0,a=1,s){const o=[],l=(e.variantChildren.size-1)*r,c=a===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(bxe).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(xE(u,t,{...s,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function bxe(e,t){return e.sortNodePosition(t)}function wxe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(s=>xE(e,s,n));r=Promise.all(a)}else if(typeof t=="string")r=xE(e,t,n);else{const a=typeof t=="function"?mC(e,t,n.custom):t;r=Promise.all(jW(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Sxe=AD.length;function NW(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?NW(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Sxe;n++){const r=AD[n],a=e.props[r];(Ov(a)||a===!1)&&(t[r]=a)}return t}const Cxe=[...kD].reverse(),jxe=kD.length;function Nxe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>wxe(e,n,r)))}function kxe(e){let t=Nxe(e),n=P$(),r=!0;const a=c=>(u,d)=>{var f;const h=mC(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...v}=h;u={...u,...v,...g}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=NW(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let b=0;b<jxe;b++){const y=Cxe[b],x=n[y],w=u[y]!==void 0?u[y]:d[y],S=Ov(w),j=y===c?x.isActive:null;j===!1&&(g=b);let k=w===d[y]&&w!==u[y]&&S;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...m},!x.isActive&&j===null||!w&&!x.prevProp||fC(w)||typeof w=="boolean")continue;const N=Axe(x.prevProp,w);let P=N||y===c&&x.isActive&&!k&&S||b>g&&S,E=!1;const R=Array.isArray(w)?w:[w];let O=R.reduce(a(y),{});j===!1&&(O={});const{prevResolvedValues:G={}}=x,te={...G,...O},V=U=>{P=!0,h.has(U)&&(E=!0,h.delete(U)),x.needsAnimating[U]=!0;const M=e.getValue(U);M&&(M.liveStyle=!1)};for(const U in te){const M=O[U],F=G[U];if(m.hasOwnProperty(U))continue;let W=!1;cE(M)&&cE(F)?W=!$9(M,F):W=M!==F,W?M!=null?V(U):h.add(U):M!==void 0&&h.has(U)?V(U):x.protectedKeys[U]=!0}x.prevProp=w,x.prevResolvedValues=O,x.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(k&&N)||E)&&f.push(...R.map(U=>({animation:U,options:{type:y}})))}if(h.size){const b={};h.forEach(y=>{const x=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),b[y]=x??null}),f.push({animation:b})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=P$(),r=!0}}}function Axe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$9(t,e):!1}function Eu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function P$(){return{animate:Eu(!0),whileInView:Eu(),whileHover:Eu(),whileTap:Eu(),whileDrag:Eu(),whileFocus:Eu(),exit:Eu()}}let cu=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},Pxe=class extends cu{constructor(t){super(t),t.animationState||(t.animationState=kxe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}},Exe=0,Txe=class extends cu{constructor(){super(...arguments),this.id=Exe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}};const _xe={animation:{Feature:Pxe},exit:{Feature:Txe}};function Bv(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ky(e){return{point:{x:e.pageX,y:e.pageY}}}const Dxe=e=>t=>zD(t)&&e(t,Ky(t));function Yg(e,t,n,r){return Bv(e,t,Dxe(n),r)}const E$=(e,t)=>Math.abs(e-t);function Rxe(e,t){const n=E$(e.x,t.x),r=E$(e.y,t.y);return Math.sqrt(n**2+r**2)}let kW=class{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=vk(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Rxe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:v}=ga;this.history.push({...g,timestamp:v});const{onStart:b,onMove:y}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=gk(h,this.transformPagePoint),Un.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=vk(f.type==="pointercancel"?this.lastMoveEventInfo:gk(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),g&&g(f,b)},!zD(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=Ky(t),l=gk(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ga;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,vk(l,this.history)),this.removeListeners=Uy(Yg(this.contextWindow,"pointermove",this.handlePointerMove),Yg(this.contextWindow,"pointerup",this.handlePointerUp),Yg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hc(this.updatePoint)}};function gk(e,t){return t?{point:t(e.point)}:e}function T$(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vk({point:e},t){return{point:e,delta:T$(e,AW(t)),offset:T$(e,Mxe(t)),velocity:Ixe(t,.1)}}function Mxe(e){return e[0]}function AW(e){return e[e.length-1]}function Ixe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=AW(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>yl(t)));)n--;if(!r)return{x:0,y:0};const s=xl(a.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const PW=1e-4,Oxe=1-PW,Lxe=1+PW,EW=.01,$xe=0-EW,Fxe=0+EW;function zs(e){return e.max-e.min}function Bxe(e,t,n){return Math.abs(e-t)<=n}function _$(e,t,n,r=.5){e.origin=r,e.originPoint=rr(t.min,t.max,e.origin),e.scale=zs(n)/zs(t),e.translate=rr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Oxe&&e.scale<=Lxe||isNaN(e.scale))&&(e.scale=1),(e.translate>=$xe&&e.translate<=Fxe||isNaN(e.translate))&&(e.translate=0)}function Qg(e,t,n,r){_$(e.x,t.x,n.x,r?r.originX:void 0),_$(e.y,t.y,n.y,r?r.originY:void 0)}function D$(e,t,n){e.min=n.min+t.min,e.max=e.min+zs(t)}function Vxe(e,t,n){D$(e.x,t.x,n.x),D$(e.y,t.y,n.y)}function R$(e,t,n){e.min=t.min-n.min,e.max=e.min+zs(t)}function Zg(e,t,n){R$(e.x,t.x,n.x),R$(e.y,t.y,n.y)}function zxe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?rr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?rr(n,e,r.max):Math.min(e,n)),e}function M$(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Uxe(e,{top:t,left:n,bottom:r,right:a}){return{x:M$(e.x,n,a),y:M$(e.y,t,r)}}function I$(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Kxe(e,t){return{x:I$(e.x,t.x),y:I$(e.y,t.y)}}function Gxe(e,t){let n=.5;const r=zs(e),a=zs(t);return a>r?n=lm(t.min,t.max-r,e.min):r>a&&(n=lm(e.min,e.max-a,t.min)),Tl(0,1,n)}function Wxe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const bE=.35;function qxe(e=bE){return e===!1?e=0:e===!0&&(e=bE),{x:O$(e,"left","right"),y:O$(e,"top","bottom")}}function O$(e,t,n){return{min:L$(e,t),max:L$(e,n)}}function L$(e,t){return typeof e=="number"?e:e[t]||0}const $$=()=>({translate:0,scale:1,origin:0,originPoint:0}),gh=()=>({x:$$(),y:$$()}),F$=()=>({min:0,max:0}),wr=()=>({x:F$(),y:F$()});function ti(e){return[e("x"),e("y")]}function TW({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Hxe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Yxe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yk(e){return e===void 0||e===1}function wE({scale:e,scaleX:t,scaleY:n}){return!yk(e)||!yk(t)||!yk(n)}function Mu(e){return wE(e)||_W(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _W(e){return B$(e.x)||B$(e.y)}function B$(e){return e&&e!=="0%"}function Xw(e,t,n){const r=e-n,a=t*r;return n+a}function V$(e,t,n,r,a){return a!==void 0&&(e=Xw(e,a,r)),Xw(e,n,r)+t}function SE(e,t=0,n=1,r,a){e.min=V$(e.min,t,n,r,a),e.max=V$(e.max,t,n,r,a)}function DW(e,{x:t,y:n}){SE(e.x,t.translate,t.scale,t.originPoint),SE(e.y,n.translate,n.scale,n.originPoint)}const z$=.999999999999,U$=1.0000000000001;function Qxe(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,DW(e,o)),r&&Mu(s.latestValues)&&yh(e,s.latestValues))}t.x<U$&&t.x>z$&&(t.x=1),t.y<U$&&t.y>z$&&(t.y=1)}function vh(e,t){e.min=e.min+t,e.max=e.max+t}function K$(e,t,n,r,a=.5){const s=rr(e.min,e.max,a);SE(e,t,n,s,r)}function yh(e,t){K$(e.x,t.x,t.scaleX,t.scale,t.originX),K$(e.y,t.y,t.scaleY,t.scale,t.originY)}function RW(e,t){return TW(Yxe(e.getBoundingClientRect(),t))}function Zxe(e,t,n){const r=RW(e,n),{scroll:a}=t;return a&&(vh(r.x,a.offset.x),vh(r.y,a.offset.y)),r}const MW=({current:e})=>e?e.ownerDocument.defaultView:null,Jxe=new WeakMap;let Xxe=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ky(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gve(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(b=>{let y=this.getAxisMotionValue(b).get()||0;if(Ao.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[b];w&&(y=zs(w)*(parseFloat(y)/100))}}this.originPoint[b]=y}),g&&Un.postRender(()=>g(d,f)),fE(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=e0e(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>ti(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new kW(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:MW(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&Un.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!T0(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=zxe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&mh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Uxe(a.layoutBox,n):this.constraints=!1,this.elastic=qxe(r),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ti(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Wxe(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!mh(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=Zxe(r,a.root,this.visualElement.getTransformPagePoint());let o=Kxe(a.layout.layoutBox,s);if(n){const l=n(Hxe(o));this.hasMutatedConstraints=!!l,l&&(o=TW(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ti(d=>{if(!T0(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return fE(this.visualElement,t),r.start(eR(t,r,0,n,this.visualElement,!1))}stopAnimation(){ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ti(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ti(n=>{const{drag:r}=this.getProps();if(!T0(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];s.set(t[n]-rr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mh(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ti(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Gxe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ti(o=>{if(!T0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(rr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Jxe.set(this.visualElement,this);const t=this.visualElement.current,n=Yg(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();mh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Un.read(r);const o=Bv(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ti(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=bE,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}};function T0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function e0e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}let t0e=class extends cu{constructor(t){super(t),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new Xxe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}};const G$=e=>(t,n)=>{e&&Un.postRender(()=>e(t,n))};let n0e=class extends cu{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(t){this.session=new kW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:G$(t),onStart:G$(n),onMove:r,onEnd:(s,o)=>{delete this.session,a&&Un.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=Yg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const $b={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function W$(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Mt.test(e))e=parseFloat(e);else return e;const n=W$(e,t.target.x),r=W$(e,t.target.y);return`${n}% ${r}%`}},r0e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Yc.parse(e);if(a.length>5)return r;const s=Yc.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=rr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}};let a0e=class extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:s}=t;jve(s0e),s&&(n.group&&n.group.add(s),r&&r.register&&a&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$b.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Un.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ED.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function IW(e){const[t,n]=Fge(),r=p.useContext(v9);return i.jsx(a0e,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(N9),isPresent:t,safeToRemove:n})}const s0e={borderRadius:{...Qp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qp,borderTopRightRadius:Qp,borderBottomLeftRadius:Qp,borderBottomRightRadius:Qp,boxShadow:r0e};function i0e(e,t,n){const r=Ra(e)?e:$v(e);return r.start(eR("",r,t,n)),r.animation}function o0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}const l0e=(e,t)=>e.depth-t.depth;let c0e=class{constructor(){this.children=[],this.isDirty=!1}add(t){UD(this.children,t),this.isDirty=!0}remove(t){KD(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(l0e),this.isDirty=!1,this.children.forEach(t)}};function u0e(e,t){const n=Po.now(),r=({timestamp:a})=>{const s=a-n;s>=t&&(Hc(r),e(s-t))};return Un.read(r,!0),()=>Hc(r)}const OW=["TopLeft","TopRight","BottomLeft","BottomRight"],d0e=OW.length,q$=e=>typeof e=="string"?parseFloat(e):e,H$=e=>typeof e=="number"||Mt.test(e);function f0e(e,t,n,r,a,s){a?(e.opacity=rr(0,n.opacity!==void 0?n.opacity:1,h0e(r)),e.opacityExit=rr(t.opacity!==void 0?t.opacity:1,0,m0e(r))):s&&(e.opacity=rr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<d0e;o++){const l=`border${OW[o]}Radius`;let c=Y$(t,l),u=Y$(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||H$(c)===H$(u)?(e[l]=Math.max(rr(q$(c),q$(u),r),0),(Ao.test(u)||Ao.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=rr(t.rotate||0,n.rotate||0,r))}function Y$(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const h0e=LW(0,.5,tW),m0e=LW(.5,.95,$s);function LW(e,t,n){return r=>r<e?0:r>t?1:n(lm(e,t,r))}function Q$(e,t){e.min=t.min,e.max=t.max}function Zs(e,t){Q$(e.x,t.x),Q$(e.y,t.y)}function Z$(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function J$(e,t,n,r,a){return e-=t,e=Xw(e,1/n,r),a!==void 0&&(e=Xw(e,1/a,r)),e}function p0e(e,t=0,n=1,r=.5,a,s=e,o=e){if(Ao.test(t)&&(t=parseFloat(t),t=rr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=rr(s.min,s.max,r);e===s&&(l-=t),e.min=J$(e.min,t,n,l,a),e.max=J$(e.max,t,n,l,a)}function X$(e,t,[n,r,a],s,o){p0e(e,t[n],t[r],t[a],t.scale,s,o)}const g0e=["x","scaleX","originX"],v0e=["y","scaleY","originY"];function eF(e,t,n,r){X$(e.x,t,g0e,n?n.x:void 0,r?r.x:void 0),X$(e.y,t,v0e,n?n.y:void 0,r?r.y:void 0)}function tF(e){return e.translate===0&&e.scale===1}function $W(e){return tF(e.x)&&tF(e.y)}function nF(e,t){return e.min===t.min&&e.max===t.max}function y0e(e,t){return nF(e.x,t.x)&&nF(e.y,t.y)}function rF(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function FW(e,t){return rF(e.x,t.x)&&rF(e.y,t.y)}function aF(e){return zs(e.x)/zs(e.y)}function sF(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}let x0e=class{constructor(){this.members=[]}add(t){UD(this.members,t),t.scheduleRender()}remove(t){if(KD(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function b0e(e,t,n){let r="";const a=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||s||o)&&(r=`translate3d(${a}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Iu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Sg=typeof window<"u"&&window.MotionDebug!==void 0,xk=["","X","Y","Z"],w0e={visibility:"hidden"},iF=1e3;let S0e=0;function bk(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function BW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=H9(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Un,!(a||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&BW(r)}function VW({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=S0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sg&&(Iu.totalNodes=Iu.resolvedTargetDeltas=Iu.recalculatedProjection=0),this.nodes.forEach(N0e),this.nodes.forEach(T0e),this.nodes.forEach(_0e),this.nodes.forEach(k0e),Sg&&window.MotionDebug.record(Iu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new c0e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new GD),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=o0e(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=u0e(h,250),$b.hasAnimatedSinceResize&&($b.hasAnimatedSinceResize=!1,this.nodes.forEach(lF))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||O0e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!FW(this.targetLayout,g)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...FD(v,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||lF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D0e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oF);return}this.isUpdating||this.nodes.forEach(P0e),this.isUpdating=!1,this.nodes.forEach(E0e),this.nodes.forEach(C0e),this.nodes.forEach(j0e),this.clearAllSnapshots();const l=Po.now();ga.delta=Tl(0,1e3/60,l-ga.timestamp),ga.timestamp=l,ga.isProcessing=!0,uk.update.process(ga),uk.preRender.process(ga),uk.render.process(ga),ga.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ED.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(A0e),this.sharedNodes.forEach(R0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Un.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!$W(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Mu(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),L0e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return wr();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some($0e))){const{scroll:d}=this.root;d&&(vh(c.x,d.offset.x),vh(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=wr();if(Zs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Zs(c,o),vh(c.x,f.offset.x),vh(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=wr();Zs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&yh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mu(d.latestValues)&&yh(c,d.latestValues)}return Mu(this.latestValues)&&yh(c,this.latestValues),c}removeTransform(o){const l=wr();Zs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mu(u.latestValues))continue;wE(u.latestValues)&&u.updateSnapshot();const d=wr(),f=u.measurePageBox();Zs(d,f),eF(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mu(this.latestValues)&&eF(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ga.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ga.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wr(),this.relativeTargetOrigin=wr(),Zg(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wr(),this.targetWithTransforms=wr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zs(this.target,this.layout.layoutBox),DW(this.target,this.targetDelta)):Zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wr(),this.relativeTargetOrigin=wr(),Zg(this.relativeTargetOrigin,this.target,m.target),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sg&&Iu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wE(this.parent.latestValues)||_W(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ga.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Zs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Qxe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=wr());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z$(this.prevProjectionDelta.x,this.projectionDelta.x),Z$(this.prevProjectionDelta.y,this.projectionDelta.y)),Qg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!sF(this.projectionDelta.x,this.prevProjectionDelta.x)||!sF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Sg&&Iu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gh(),this.projectionDelta=gh(),this.projectionDeltaWithTransform=gh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=gh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=wr(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,b=this.getStack(),y=!b||b.members.length<=1,x=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(I0e));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const j=S/1e3;cF(f.x,o.x,j),cF(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M0e(this.relativeTarget,this.relativeTargetOrigin,h,j),w&&y0e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=wr()),Zs(w,this.relativeTarget)),v&&(this.animationValues=d,f0e(d,u,this.latestValues,j,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Un.update(()=>{$b.hasAnimatedSinceResize=!0,this.currentAnimation=i0e(0,iF,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&zW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||wr();const f=zs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=zs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Zs(l,c),yh(l,d),Qg(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new x0e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&bk("z",o,u,this.animationValues);for(let d=0;d<xk.length;d++)bk(`rotate${xk[d]}`,o,u,this.animationValues),bk(`skew${xk[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return w0e;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ob(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ob(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mu(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=b0e(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Hw){if(h[v]===void 0)continue;const{correct:b,applyTo:y}=Hw[v],x=u.transform==="none"?h[v]:b(h[v],f);if(y){const w=y.length;for(let S=0;S<w;S++)u[y[S]]=x}else u[v]=x}return this.options.layoutId&&(u.pointerEvents=f===this?Ob(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(oF),this.root.sharedNodes.clear()}}}function C0e(e){e.updateLayout()}function j0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?ti(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=zs(h);h.min=r[f].min,h.max=h.min+m}):zW(s,n.layoutBox,r)&&ti(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=zs(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=gh();Qg(l,r,n.layoutBox);const c=gh();o?Qg(c,e.applyTransform(a,!0),n.measuredBox):Qg(c,r,n.layoutBox);const u=!$W(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=wr();Zg(g,n.layoutBox,h.layoutBox);const v=wr();Zg(v,r,m.layoutBox),FW(g,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function N0e(e){Sg&&Iu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function k0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function A0e(e){e.clearSnapshot()}function oF(e){e.clearMeasurements()}function P0e(e){e.isLayoutDirty=!1}function E0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function T0e(e){e.resolveTargetDelta()}function _0e(e){e.calcProjection()}function D0e(e){e.resetSkewAndRotation()}function R0e(e){e.removeLeadSnapshot()}function cF(e,t,n){e.translate=rr(t.translate,0,n),e.scale=rr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function uF(e,t,n,r){e.min=rr(t.min,n.min,r),e.max=rr(t.max,n.max,r)}function M0e(e,t,n,r){uF(e.x,t.x,n.x,r),uF(e.y,t.y,n.y,r)}function I0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O0e={duration:.45,ease:[.4,0,.1,1]},dF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fF=dF("applewebkit/")&&!dF("chrome/")?Math.round:$s;function hF(e){e.min=fF(e.min),e.max=fF(e.max)}function L0e(e){hF(e.x),hF(e.y)}function zW(e,t,n){return e==="position"||e==="preserve-aspect"&&!Bxe(aF(t),aF(n),.2)}function $0e(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const F0e=VW({attachResizeListener:(e,t)=>Bv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wk={current:void 0},UW=VW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wk.current){const e=new F0e({});e.mount(window),e.setOptions({layoutScroll:!0}),wk.current=e}return wk.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),B0e={pan:{Feature:n0e},drag:{Feature:t0e,ProjectionNode:UW,MeasureLayout:IW}};function mF(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,s=r[a];s&&Un.postRender(()=>s(t,Ky(t)))}let V0e=class extends cu{mount(){const{current:t}=this.node;t&&(this.unmount=Bve(t,n=>(mF(this.node,n,"Start"),r=>mF(this.node,r,"End"))))}unmount(){}},z0e=class extends cu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uy(Bv(this.node.current,"focus",()=>this.onFocus()),Bv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function pF(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),s=r[a];s&&Un.postRender(()=>s(t,Ky(t)))}let U0e=class extends cu{mount(){const{current:t}=this.node;t&&(this.unmount=Kve(t,n=>(pF(this.node,n,"Start"),(r,{success:a})=>pF(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const CE=new WeakMap,Sk=new WeakMap,K0e=e=>{const t=CE.get(e.target);t&&t(e)},G0e=e=>{e.forEach(K0e)};function W0e({root:e,...t}){const n=e||document;Sk.has(n)||Sk.set(n,{});const r=Sk.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(G0e,{root:e,...t})),r[a]}function q0e(e,t,n){const r=W0e(t);return CE.set(e,n),r.observe(e),()=>{CE.delete(e),r.unobserve(e)}}const H0e={some:0,all:1};let Y0e=class extends cu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:H0e[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return q0e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Q0e(t,n))&&this.startObserver()}unmount(){}};function Q0e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Z0e={inView:{Feature:Y0e},tap:{Feature:U0e},focus:{Feature:z0e},hover:{Feature:V0e}},J0e={layout:{ProjectionNode:UW,MeasureLayout:IW}},jE={current:null},KW={current:!1};function X0e(){if(KW.current=!0,!!jD)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jE.current=e.matches;e.addListener(t),t()}else jE.current=!1}const ebe=[...pW,Ea,Yc],tbe=e=>ebe.find(mW(e)),gF=new WeakMap;function nbe(e,t,n){for(const r in t){const a=t[r],s=n[r];if(Ra(a))e.addValue(r,a);else if(Ra(s))e.addValue(r,$v(a,{owner:e}));else if(s!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,$v(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const vF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let rbe=class{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ZD,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Po.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Un.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=hC(n),this.isVariantNode=C9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&Ra(g)&&g.set(c[m],!1)}}mount(t){this.current=t,gF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KW.current||X0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gF.delete(this.current),this.projection&&this.projection.unmount(),Hc(this.notifyUpdate),Hc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=af.has(t),a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Un.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cm){const n=cm[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vF.length;r++){const a=vF[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=t[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=nbe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=$v(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(fW(a)||rW(a))?a=parseFloat(a):!tbe(a)&&Yc.test(n)&&(a=cW(t,n)),this.setBaseTarget(t,Ra(a)?a.get():a)),Ra(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=_D(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ra(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new GD),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}},GW=class extends rbe{constructor(){super(...arguments),this.KeyframeResolver=gW}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ra(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function abe(e){return window.getComputedStyle(e)}let sbe=class extends GW{constructor(){super(...arguments),this.type="html",this.renderInstance=D9}readValueFromInstance(t,n){if(af.has(n)){const r=QD(n);return r&&r.default||0}else{const r=abe(t),a=(E9(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return RW(t,n)}build(t,n,r){MD(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return $D(t,n,r)}},ibe=class extends GW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(af.has(n)){const r=QD(n);return r&&r.default||0}return n=R9.has(n)?n:PD(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return O9(t,n,r)}build(t,n,r){ID(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){M9(t,n,r,a)}mount(t){this.isSVGTag=LD(t.tagName),super.mount(t)}};const obe=(e,t)=>TD(e)?new ibe(t):new sbe(t,{allowProjection:e!==p.Fragment}),lbe=Rve({..._xe,...Z0e,...B0e,...J0e},obe),cbe=Hge(lbe),e1=uC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),X=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},s)=>{const o=typeof window<"u"&&window.matchMedia("(hover: hover)").matches;return r?i.jsx(By,{"data-slot":"button",className:De(e1({variant:t,size:n}),e),ref:s,...a}):i.jsx(cbe.button,{"data-slot":"button",className:De(e1({variant:t,size:n}),e),ref:s,whileHover:o?{scale:1.02}:void 0,whileTap:{scale:.95},...a})});X.displayName="Button";function en({className:e,type:t,...n}){return i.jsx("input",{type:t,"data-slot":"input",className:De("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var ube=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dbe=ube.reduce((e,t)=>{const n=Fy(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),fbe="Separator",yF="horizontal",hbe=["horizontal","vertical"],WW=p.forwardRef((e,t)=>{const{decorative:n,orientation:r=yF,...a}=e,s=mbe(r)?r:yF,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(dbe.div,{"data-orientation":s,...l,...a,ref:t})});WW.displayName=fbe;function mbe(e){return hbe.includes(e)}var pbe=WW;function Fr({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return i.jsx(pbe,{"data-slot":"separator",decorative:n,orientation:t,className:De("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function gbe({className:e,onClick:t,...n}){const{toggleSidebar:r}=rf();return i.jsxs(X,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:De("size-7",e),onClick:a=>{t==null||t(a),r()},...n,children:[i.jsx(ffe,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function vbe({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:De("flex flex-col gap-2 p-2",e),...t})}function ybe({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:De("flex flex-col gap-2 p-2",e),...t})}function xbe({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:De("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function bbe({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:De("relative flex w-full min-w-0 flex-col p-2",e),...t})}function wbe({className:e,asChild:t=!1,...n}){const r=t?By:"div";return i.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:De("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-base font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})}function na({className:e,...t}){return i.jsx("div",{"data-slot":"skeleton",className:De("bg-accent animate-pulse rounded-md",e),...t})}function tR({className:e,...t}){return i.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:De("flex w-full min-w-0 flex-col gap-1",e),...t})}function xh({className:e,...t}){return i.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:De("group/menu-item relative",e),...t})}const Sbe=uC("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-base outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-base",sm:"h-7 text-xs",lg:"h-12 text-base group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}}),od=p.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:a,className:s,...o},l)=>{const c=e?By:"button",{isMobile:u,state:d}=rf(),f=i.jsx(c,{ref:l,"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:De(Sbe({variant:n,size:r}),s),...o});return a?(typeof a=="string"&&(a={children:a}),i.jsxs(h9,{children:[i.jsx(m9,{asChild:!0,children:f}),i.jsx(p9,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):f});od.displayName="SidebarMenuButton";function Cbe({className:e,...t}){return i.jsx("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:De("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t})}function jbe({className:e,...t}){return i.jsx("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:De("group/menu-sub-item relative",e),...t})}function Nbe({asChild:e=!1,size:t="md",isActive:n=!1,className:r,...a}){const s=e?By:"a";return i.jsx(s,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:De("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-base","group-data-[collapsible=icon]:hidden",r),...a})}function xF(e){const t=kbe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(Pbe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function kbe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=Tbe(a),l=Ebe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Abe=Symbol("radix.slottable");function Pbe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Abe}function Ebe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function Tbe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function nR(e){const t=e+"CollectionProvider",[n,r]=bs(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:y}=v,x=qe.useRef(null),w=qe.useRef(new Map).current;return i.jsx(a,{scope:b,itemMap:w,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=xF(l),u=qe.forwardRef((v,b)=>{const{scope:y,children:x}=v,w=s(l,y),S=Gt(b,w.collectionRef);return i.jsx(c,{ref:S,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=xF(d),m=qe.forwardRef((v,b)=>{const{scope:y,children:x,...w}=v,S=qe.useRef(null),j=Gt(b,S),k=s(d,y);return qe.useEffect(()=>(k.itemMap.set(S,{ref:S,...w}),()=>void k.itemMap.delete(S))),i.jsx(h,{[f]:"",ref:j,children:x})});m.displayName=d;function g(v){const b=s(e+"CollectionConsumer",v);return qe.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,N)=>w.indexOf(k.ref.current)-w.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,r]}var _be=p.createContext(void 0);function Gy(e){const t=p.useContext(_be);return e||t||"ltr"}var Ck=0;function gC(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bF()),document.body.insertAdjacentElement("beforeend",e[1]??bF()),Ck++,()=>{Ck===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ck--}},[])}function bF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var jk="focusScope.autoFocusOnMount",Nk="focusScope.autoFocusOnUnmount",wF={bubbles:!1,cancelable:!0},Dbe="FocusScope",Wy=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=p.useState(null),u=ia(a),d=ia(s),f=p.useRef(null),h=Gt(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(w){if(m.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:dc(f.current,{select:!0})},b=function(w){if(m.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||dc(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&dc(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),x.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){CF.add(m);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(jk,wF);l.addEventListener(jk,u),l.dispatchEvent(y),y.defaultPrevented||(Rbe($be(qW(l)),{select:!0}),document.activeElement===v&&dc(l))}return()=>{l.removeEventListener(jk,u),setTimeout(()=>{const y=new CustomEvent(Nk,wF);l.addEventListener(Nk,d),l.dispatchEvent(y),y.defaultPrevented||dc(v??document.body,{select:!0}),l.removeEventListener(Nk,d),CF.remove(m)},0)}}},[l,u,d,m]);const g=p.useCallback(v=>{if(!n&&!r||m.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(b&&y){const x=v.currentTarget,[w,S]=Mbe(x);w&&S?!v.shiftKey&&y===S?(v.preventDefault(),n&&dc(w,{select:!0})):v.shiftKey&&y===w&&(v.preventDefault(),n&&dc(S,{select:!0})):y===x&&v.preventDefault()}},[n,r,m.paused]);return i.jsx(At.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Wy.displayName=Dbe;function Rbe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(dc(r,{select:t}),document.activeElement!==n)return}function Mbe(e){const t=qW(e),n=SF(t,e),r=SF(t.reverse(),e);return[n,r]}function qW(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function SF(e,t){for(const n of e)if(!Ibe(n,{upTo:t}))return n}function Ibe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Obe(e){return e instanceof HTMLInputElement&&"select"in e}function dc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Obe(e)&&t&&e.select()}}var CF=Lbe();function Lbe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=jF(e,t),e.unshift(t)},remove(t){var n;e=jF(e,t),(n=e[0])==null||n.resume()}}}function jF(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function $be(e){return e.filter(t=>t.tagName!=="A")}var kk="rovingFocusGroup.onEntryFocus",Fbe={bubbles:!1,cancelable:!0},qy="RovingFocusGroup",[NE,HW,Bbe]=nR(qy),[Vbe,vC]=bs(qy,[Bbe]),[zbe,Ube]=Vbe(qy),YW=p.forwardRef((e,t)=>i.jsx(NE.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(NE.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Kbe,{...e,ref:t})})}));YW.displayName=qy;var Kbe=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Gt(t,h),g=Gy(s),[v,b]=Mo({prop:o,defaultProp:l??null,onChange:c,caller:qy}),[y,x]=p.useState(!1),w=ia(u),S=HW(n),j=p.useRef(!1),[k,N]=p.useState(0);return p.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(kk,w),()=>P.removeEventListener(kk,w)},[w]),i.jsx(zbe,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:v,onItemFocus:p.useCallback(P=>b(P),[b]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(P=>P+1),[]),onFocusableItemRemove:p.useCallback(()=>N(P=>P-1),[]),children:i.jsx(At.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:it(e.onMouseDown,()=>{j.current=!0}),onFocus:it(e.onFocus,P=>{const E=!j.current;if(P.target===P.currentTarget&&E&&!y){const R=new CustomEvent(kk,Fbe);if(P.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=S().filter($=>$.focusable),G=O.find($=>$.active),te=O.find($=>$.id===v),z=[G,te,...O].filter(Boolean).map($=>$.ref.current);JW(z,d)}}j.current=!1}),onBlur:it(e.onBlur,()=>x(!1))})})}),QW="RovingFocusGroupItem",ZW=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=Kr(),u=s||c,d=Ube(QW,n),f=d.currentTabStopId===u,h=HW(n),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),i.jsx(NE.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:i.jsx(At.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:it(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:it(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:it(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=qbe(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(b.currentTarget);w=d.loop?Hbe(w,S+1):w.slice(S+1)}setTimeout(()=>JW(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});ZW.displayName=QW;var Gbe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Wbe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qbe(e,t,n){const r=Wbe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Gbe[r]}function JW(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Hbe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var XW=YW,eq=ZW;function Ybe(e){const t=Qbe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(Jbe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function Qbe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=ewe(a),l=Xbe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zbe=Symbol("radix.slottable");function Jbe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zbe}function Xbe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function ewe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var twe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bf=new WeakMap,_0=new WeakMap,D0={},Ak=0,tq=function(e){return e&&(e.host||tq(e.parentNode))},nwe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=tq(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},rwe=function(e,t,n,r){var a=nwe(t,Array.isArray(e)?e:[e]);D0[n]||(D0[n]=new WeakMap);var s=D0[n],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),g=m!==null&&m!=="false",v=(Bf.get(h)||0)+1,b=(s.get(h)||0)+1;Bf.set(h,v),s.set(h,b),o.push(h),v===1&&g&&_0.set(h,!0),b===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Ak++,function(){o.forEach(function(f){var h=Bf.get(f)-1,m=s.get(f)-1;Bf.set(f,h),s.set(f,m),h||(_0.has(f)||f.removeAttribute(r),_0.delete(f)),m||f.removeAttribute(n)}),Ak--,Ak||(Bf=new WeakMap,Bf=new WeakMap,_0=new WeakMap,D0={})}},yC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=twe(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),rwe(r,a,n,"aria-hidden")):function(){return null}},vo=function(){return vo=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},vo.apply(this,arguments)};function nq(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function awe(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Fb="right-scroll-bar-position",Bb="width-before-scroll-bar",swe="with-scroll-bars-hidden",iwe="--removed-body-scroll-bar-size";function Pk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function owe(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var lwe=typeof window<"u"?p.useLayoutEffect:p.useEffect,NF=new WeakMap;function cwe(e,t){var n=owe(null,function(r){return e.forEach(function(a){return Pk(a,r)})});return lwe(function(){var r=NF.get(n);if(r){var a=new Set(r),s=new Set(e),o=n.current;a.forEach(function(l){s.has(l)||Pk(l,null)}),s.forEach(function(l){a.has(l)||Pk(l,o)})}NF.set(n,e)},[e]),n}function uwe(e){return e}function dwe(e,t){t===void 0&&(t=uwe);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function fwe(e){e===void 0&&(e={});var t=dwe(null);return t.options=vo({async:!0,ssr:!1},e),t}var rq=function(e){var t=e.sideCar,n=nq(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,vo({},n))};rq.isSideCarExport=!0;function hwe(e,t){return e.useMedium(t),rq}var aq=fwe(),Ek=function(){},xC=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Ek,onWheelCapture:Ek,onTouchMoveCapture:Ek}),a=r[0],s=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,v=e.inert,b=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,S=nq(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,k=cwe([n,t]),N=vo(vo({},S),a);return p.createElement(p.Fragment,null,d&&p.createElement(j,{sideCar:aq,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:w}),o?p.cloneElement(p.Children.only(l),vo(vo({},N),{ref:k})):p.createElement(x,vo({},N,{className:c,ref:k}),l))});xC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xC.classNames={fullWidth:Bb,zeroRight:Fb};var mwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pwe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mwe();return t&&e.setAttribute("nonce",t),e}function gwe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vwe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ywe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=pwe())&&(gwe(t,n),vwe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xwe=function(){var e=ywe();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},sq=function(){var e=xwe(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},bwe={left:0,top:0,right:0,gap:0},Tk=function(e){return parseInt(e||"",10)||0},wwe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Tk(n),Tk(r),Tk(a)]},Swe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bwe;var t=wwe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Cwe=sq(),Vh="data-scroll-locked",jwe=function(e,t,n,r){var a=e.left,s=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(swe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Vh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fb,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Bb,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Fb," .").concat(Fb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bb," .").concat(Bb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vh,`] {
    `).concat(iwe,": ").concat(l,`px;
  }
`)},kF=function(){var e=parseInt(document.body.getAttribute(Vh)||"0",10);return isFinite(e)?e:0},Nwe=function(){p.useEffect(function(){return document.body.setAttribute(Vh,(kF()+1).toString()),function(){var e=kF()-1;e<=0?document.body.removeAttribute(Vh):document.body.setAttribute(Vh,e.toString())}},[])},kwe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Nwe();var s=p.useMemo(function(){return Swe(a)},[a]);return p.createElement(Cwe,{styles:jwe(s,!t,a,n?"":"!important")})},kE=!1;if(typeof window<"u")try{var R0=Object.defineProperty({},"passive",{get:function(){return kE=!0,!0}});window.addEventListener("test",R0,R0),window.removeEventListener("test",R0,R0)}catch{kE=!1}var Vf=kE?{passive:!1}:!1,Awe=function(e){return e.tagName==="TEXTAREA"},iq=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Awe(e)&&n[t]==="visible")},Pwe=function(e){return iq(e,"overflowY")},Ewe=function(e){return iq(e,"overflowX")},AF=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=oq(e,r);if(a){var s=lq(e,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Twe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_we=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},oq=function(e,t){return e==="v"?Pwe(t):Ewe(t)},lq=function(e,t){return e==="v"?Twe(t):_we(t)},Dwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Rwe=function(e,t,n,r,a){var s=Dwe(e,window.getComputedStyle(t).direction),o=s*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=lq(e,l),g=m[0],v=m[1],b=m[2],y=v-b-s*g;(g||y)&&oq(e,l)&&(f+=y,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},M0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},PF=function(e){return[e.deltaX,e.deltaY]},EF=function(e){return e&&"current"in e?e.current:e},Mwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Iwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Owe=0,zf=[];function Lwe(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),a=p.useState(Owe++)[0],s=p.useState(sq)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=awe([e.lockRef.current],(e.shards||[]).map(EF),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=M0(v),x=n.current,w="deltaX"in v?v.deltaX:x[0]-y[0],S="deltaY"in v?v.deltaY:x[1]-y[1],j,k=v.target,N=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in v&&N==="h"&&k.type==="range")return!1;var P=window.getSelection(),E=P&&P.anchorNode,R=E?E===k||E.contains(k):!1;if(R)return!1;var O=AF(N,k);if(!O)return!0;if(O?j=N:(j=N==="v"?"h":"v",O=AF(N,k)),!O)return!1;if(!r.current&&"changedTouches"in v&&(w||S)&&(r.current=j),!j)return!0;var G=r.current||j;return Rwe(G,b,v,G==="h"?w:S)},[]),c=p.useCallback(function(v){var b=v;if(!(!zf.length||zf[zf.length-1]!==s)){var y="deltaY"in b?PF(b):M0(b),x=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&Mwe(j.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(EF).filter(Boolean).filter(function(j){return j.contains(b.target)}),S=w.length>0?l(b,w[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(v,b,y,x){var w={name:v,delta:b,target:y,should:x,shadowParent:$we(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=p.useCallback(function(v){n.current=M0(v),r.current=void 0},[]),f=p.useCallback(function(v){u(v.type,PF(v),v.target,l(v,e.lockRef.current))},[]),h=p.useCallback(function(v){u(v.type,M0(v),v.target,l(v,e.lockRef.current))},[]);p.useEffect(function(){return zf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Vf),document.addEventListener("touchmove",c,Vf),document.addEventListener("touchstart",d,Vf),function(){zf=zf.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,Vf),document.removeEventListener("touchmove",c,Vf),document.removeEventListener("touchstart",d,Vf)}},[]);var m=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(s,{styles:Iwe(a)}):null,m?p.createElement(kwe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $we(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Fwe=hwe(aq,Lwe);var Hy=p.forwardRef(function(e,t){return p.createElement(xC,vo({},e,{ref:t,sideCar:Fwe}))});Hy.classNames=xC.classNames;var AE=["Enter"," "],Bwe=["ArrowDown","PageUp","Home"],cq=["ArrowUp","PageDown","End"],Vwe=[...Bwe,...cq],zwe={ltr:[...AE,"ArrowRight"],rtl:[...AE,"ArrowLeft"]},Uwe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yy="Menu",[Vv,Kwe,Gwe]=nR(Yy),[sf,uq]=bs(Yy,[Gwe,lu,vC]),bC=lu(),dq=vC(),[Wwe,of]=sf(Yy),[qwe,Qy]=sf(Yy),fq=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:s,modal:o=!0}=e,l=bC(t),[c,u]=p.useState(null),d=p.useRef(!1),f=ia(s),h=Gy(a);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(sC,{...l,children:i.jsx(Wwe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(qwe,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};fq.displayName=Yy;var Hwe="MenuAnchor",rR=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=bC(n);return i.jsx(Ly,{...a,...r,ref:t})});rR.displayName=Hwe;var aR="MenuPortal",[Ywe,hq]=sf(aR,{forceMount:void 0}),mq=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,s=of(aR,t);return i.jsx(Ywe,{scope:t,forceMount:n,children:i.jsx(Wr,{present:n||s.open,children:i.jsx(zm,{asChild:!0,container:a,children:r})})})};mq.displayName=aR;var fi="MenuContent",[Qwe,sR]=sf(fi),pq=p.forwardRef((e,t)=>{const n=hq(fi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=of(fi,e.__scopeMenu),o=Qy(fi,e.__scopeMenu);return i.jsx(Vv.Provider,{scope:e.__scopeMenu,children:i.jsx(Wr,{present:r||s.open,children:i.jsx(Vv.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(Zwe,{...a,ref:t}):i.jsx(Jwe,{...a,ref:t})})})})}),Zwe=p.forwardRef((e,t)=>{const n=of(fi,e.__scopeMenu),r=p.useRef(null),a=Gt(t,r);return p.useEffect(()=>{const s=r.current;if(s)return yC(s)},[]),i.jsx(iR,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:it(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Jwe=p.forwardRef((e,t)=>{const n=of(fi,e.__scopeMenu);return i.jsx(iR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Xwe=Ybe("MenuContent.ScrollLock"),iR=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...v}=e,b=of(fi,n),y=Qy(fi,n),x=bC(n),w=dq(n),S=Kwe(n),[j,k]=p.useState(null),N=p.useRef(null),P=Gt(t,N,b.onContentChange),E=p.useRef(0),R=p.useRef(""),O=p.useRef(0),G=p.useRef(null),te=p.useRef("right"),V=p.useRef(0),z=g?Hy:p.Fragment,$=g?{as:Xwe,allowPinchZoom:!0}:void 0,U=F=>{var me,Ue;const W=R.current+F,Z=S().filter(ne=>!ne.disabled),H=document.activeElement,ae=(me=Z.find(ne=>ne.ref.current===H))==null?void 0:me.textValue,fe=Z.map(ne=>ne.textValue),we=d1e(fe,W,ae),Pe=(Ue=Z.find(ne=>ne.textValue===we))==null?void 0:Ue.ref.current;(function ne(je){R.current=je,window.clearTimeout(E.current),je!==""&&(E.current=window.setTimeout(()=>ne(""),1e3))})(W),Pe&&setTimeout(()=>Pe.focus())};p.useEffect(()=>()=>window.clearTimeout(E.current),[]),gC();const M=p.useCallback(F=>{var Z,H;return te.current===((Z=G.current)==null?void 0:Z.side)&&h1e(F,(H=G.current)==null?void 0:H.area)},[]);return i.jsx(Qwe,{scope:n,searchRef:R,onItemEnter:p.useCallback(F=>{M(F)&&F.preventDefault()},[M]),onItemLeave:p.useCallback(F=>{var W;M(F)||((W=N.current)==null||W.focus(),k(null))},[M]),onTriggerLeave:p.useCallback(F=>{M(F)&&F.preventDefault()},[M]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(F=>{G.current=F},[]),children:i.jsx(z,{...$,children:i.jsx(Wy,{asChild:!0,trapped:a,onMountAutoFocus:it(s,F=>{var W;F.preventDefault(),(W=N.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Fm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(XW,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:it(c,F=>{y.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(iC,{role:"menu","aria-orientation":"vertical","data-state":_q(b.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:P,style:{outline:"none",...v.style},onKeyDown:it(v.onKeyDown,F=>{const Z=F.target.closest("[data-radix-menu-content]")===F.currentTarget,H=F.ctrlKey||F.altKey||F.metaKey,ae=F.key.length===1;Z&&(F.key==="Tab"&&F.preventDefault(),!H&&ae&&U(F.key));const fe=N.current;if(F.target!==fe||!Vwe.includes(F.key))return;F.preventDefault();const Pe=S().filter(me=>!me.disabled).map(me=>me.ref.current);cq.includes(F.key)&&Pe.reverse(),c1e(Pe)}),onBlur:it(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(E.current),R.current="")}),onPointerMove:it(e.onPointerMove,zv(F=>{const W=F.target,Z=V.current!==F.clientX;if(F.currentTarget.contains(W)&&Z){const H=F.clientX>V.current?"right":"left";te.current=H,V.current=F.clientX}}))})})})})})})});pq.displayName=fi;var e1e="MenuGroup",oR=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(At.div,{role:"group",...r,ref:t})});oR.displayName=e1e;var t1e="MenuLabel",gq=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(At.div,{...r,ref:t})});gq.displayName=t1e;var t1="MenuItem",TF="menu.itemSelect",wC=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,s=p.useRef(null),o=Qy(t1,e.__scopeMenu),l=sR(t1,e.__scopeMenu),c=Gt(t,s),u=p.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(TF,{bubbles:!0,cancelable:!0});f.addEventListener(TF,m=>r==null?void 0:r(m),{once:!0}),bG(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(vq,{...a,ref:c,disabled:n,onClick:it(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:it(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:it(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||AE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});wC.displayName=t1;var vq=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...s}=e,o=sR(t1,n),l=dq(n),c=p.useRef(null),u=Gt(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),i.jsx(Vv.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:i.jsx(eq,{asChild:!0,...l,focusable:!r,children:i.jsx(At.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:it(e.onPointerMove,zv(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:it(e.onPointerLeave,zv(g=>o.onItemLeave(g))),onFocus:it(e.onFocus,()=>f(!0)),onBlur:it(e.onBlur,()=>f(!1))})})})}),n1e="MenuCheckboxItem",yq=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return i.jsx(Cq,{scope:e.__scopeMenu,checked:n,children:i.jsx(wC,{role:"menuitemcheckbox","aria-checked":n1(n)?"mixed":n,...a,ref:t,"data-state":cR(n),onSelect:it(a.onSelect,()=>r==null?void 0:r(n1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});yq.displayName=n1e;var xq="MenuRadioGroup",[r1e,a1e]=sf(xq,{value:void 0,onValueChange:()=>{}}),bq=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,s=ia(r);return i.jsx(r1e,{scope:e.__scopeMenu,value:n,onValueChange:s,children:i.jsx(oR,{...a,ref:t})})});bq.displayName=xq;var wq="MenuRadioItem",Sq=p.forwardRef((e,t)=>{const{value:n,...r}=e,a=a1e(wq,e.__scopeMenu),s=n===a.value;return i.jsx(Cq,{scope:e.__scopeMenu,checked:s,children:i.jsx(wC,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":cR(s),onSelect:it(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});Sq.displayName=wq;var lR="MenuItemIndicator",[Cq,s1e]=sf(lR,{checked:!1}),jq=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,s=s1e(lR,n);return i.jsx(Wr,{present:r||n1(s.checked)||s.checked===!0,children:i.jsx(At.span,{...a,ref:t,"data-state":cR(s.checked)})})});jq.displayName=lR;var i1e="MenuSeparator",Nq=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(At.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Nq.displayName=i1e;var o1e="MenuArrow",kq=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=bC(n);return i.jsx(oC,{...a,...r,ref:t})});kq.displayName=o1e;var l1e="MenuSub",[ynt,Aq]=sf(l1e),Cg="MenuSubTrigger",Pq=p.forwardRef((e,t)=>{const n=of(Cg,e.__scopeMenu),r=Qy(Cg,e.__scopeMenu),a=Aq(Cg,e.__scopeMenu),s=sR(Cg,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(rR,{asChild:!0,...u,children:i.jsx(vq,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":_q(n.open),...e,ref:qa(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:it(e.onPointerMove,zv(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:it(e.onPointerLeave,zv(f=>{var m,g;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(g=n.content)==null?void 0:g.dataset.side,b=v==="right",y=b?-5:5,x=h[b?"left":"right"],w=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:it(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||zwe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});Pq.displayName=Cg;var Eq="MenuSubContent",Tq=p.forwardRef((e,t)=>{const n=hq(fi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=of(fi,e.__scopeMenu),o=Qy(fi,e.__scopeMenu),l=Aq(Eq,e.__scopeMenu),c=p.useRef(null),u=Gt(t,c);return i.jsx(Vv.Provider,{scope:e.__scopeMenu,children:i.jsx(Wr,{present:r||s.open,children:i.jsx(Vv.Slot,{scope:e.__scopeMenu,children:i.jsx(iR,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:it(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:it(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:it(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Uwe[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});Tq.displayName=Eq;function _q(e){return e?"open":"closed"}function n1(e){return e==="indeterminate"}function cR(e){return n1(e)?"indeterminate":e?"checked":"unchecked"}function c1e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function u1e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function d1e(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=u1e(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function f1e(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function h1e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return f1e(n,t)}function zv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var m1e=fq,p1e=rR,g1e=mq,v1e=pq,y1e=oR,x1e=gq,b1e=wC,w1e=yq,S1e=bq,C1e=Sq,j1e=jq,N1e=Nq,k1e=kq,A1e=Pq,P1e=Tq,SC="DropdownMenu",[E1e]=bs(SC,[uq]),es=uq(),[T1e,Dq]=E1e(SC),Rq=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=es(t),u=p.useRef(null),[d,f]=Mo({prop:a,defaultProp:s??!1,onChange:o,caller:SC});return i.jsx(T1e,{scope:t,triggerId:Kr(),triggerRef:u,contentId:Kr(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(m1e,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Rq.displayName=SC;var Mq="DropdownMenuTrigger",Iq=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,s=Dq(Mq,n),o=es(n);return i.jsx(p1e,{asChild:!0,...o,children:i.jsx(At.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:qa(t,s.triggerRef),onPointerDown:it(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:it(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Iq.displayName=Mq;var _1e="DropdownMenuPortal",Oq=e=>{const{__scopeDropdownMenu:t,...n}=e,r=es(t);return i.jsx(g1e,{...r,...n})};Oq.displayName=_1e;var Lq="DropdownMenuContent",$q=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Dq(Lq,n),s=es(n),o=p.useRef(!1);return i.jsx(v1e,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...r,ref:t,onCloseAutoFocus:it(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:it(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$q.displayName=Lq;var D1e="DropdownMenuGroup",R1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(y1e,{...a,...r,ref:t})});R1e.displayName=D1e;var M1e="DropdownMenuLabel",I1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(x1e,{...a,...r,ref:t})});I1e.displayName=M1e;var O1e="DropdownMenuItem",Fq=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(b1e,{...a,...r,ref:t})});Fq.displayName=O1e;var L1e="DropdownMenuCheckboxItem",$1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(w1e,{...a,...r,ref:t})});$1e.displayName=L1e;var F1e="DropdownMenuRadioGroup",B1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(S1e,{...a,...r,ref:t})});B1e.displayName=F1e;var V1e="DropdownMenuRadioItem",z1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(C1e,{...a,...r,ref:t})});z1e.displayName=V1e;var U1e="DropdownMenuItemIndicator",K1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(j1e,{...a,...r,ref:t})});K1e.displayName=U1e;var G1e="DropdownMenuSeparator",Bq=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(N1e,{...a,...r,ref:t})});Bq.displayName=G1e;var W1e="DropdownMenuArrow",q1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(k1e,{...a,...r,ref:t})});q1e.displayName=W1e;var H1e="DropdownMenuSubTrigger",Y1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(A1e,{...a,...r,ref:t})});Y1e.displayName=H1e;var Q1e="DropdownMenuSubContent",Z1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(P1e,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Z1e.displayName=Q1e;var J1e=Rq,X1e=Iq,eSe=Oq,tSe=$q,nSe=Fq,rSe=Bq;function Vq({...e}){return i.jsx(J1e,{"data-slot":"dropdown-menu",...e})}function zq({...e}){return i.jsx(X1e,{"data-slot":"dropdown-menu-trigger",...e})}function Uq({className:e,sideOffset:t=4,...n}){return i.jsx(eSe,{children:i.jsx(tSe,{"data-slot":"dropdown-menu-content",sideOffset:t,className:De("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-32 origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function Hu({className:e,inset:t,variant:n="default",...r}){return i.jsx(nSe,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:De("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive! [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 data-inset:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function _F({className:e,...t}){return i.jsx(rSe,{"data-slot":"dropdown-menu-separator",className:De("bg-border -mx-1 my-1 h-px",e),...t})}function aSe(){const{setTheme:e}=Tue();return i.jsxs(Vq,{children:[i.jsx(zq,{asChild:!0,children:i.jsxs(X,{variant:"outline",className:"h-12 w-12",children:[i.jsx(Kfe,{className:"h-10 w-10 scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),i.jsx(ufe,{className:"absolute h-10 w-10 scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),i.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),i.jsxs(Uq,{align:"end",children:[i.jsx(Hu,{onClick:()=>e("light"),children:"Light"}),i.jsx(Hu,{onClick:()=>e("dark"),children:"Dark"}),i.jsx(Hu,{onClick:()=>e("system"),children:"System"})]})]})}function PE(e,[t,n]){return Math.min(n,Math.max(t,e))}function sSe(e){const t=iSe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(lSe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function iSe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=uSe(a),l=cSe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oSe=Symbol("radix.slottable");function lSe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oSe}function cSe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function uSe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Kq(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var dSe=[" ","Enter","ArrowUp","ArrowDown"],fSe=[" ","Enter"],_d="Select",[CC,jC,hSe]=nR(_d),[Wm]=bs(_d,[hSe,lu]),NC=lu(),[mSe,uu]=Wm(_d),[pSe,gSe]=Wm(_d),Gq=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,v=NC(t),[b,y]=p.useState(null),[x,w]=p.useState(null),[S,j]=p.useState(!1),k=Gy(u),[N,P]=Mo({prop:r,defaultProp:a??!1,onChange:s,caller:_d}),[E,R]=Mo({prop:o,defaultProp:l,onChange:c,caller:_d}),O=p.useRef(null),G=b?g||!!b.closest("form"):!0,[te,V]=p.useState(new Set),z=Array.from(te).map($=>$.props.value).join(";");return i.jsx(sC,{...v,children:i.jsxs(mSe,{required:m,scope:t,trigger:b,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Kr(),value:E,onValueChange:R,open:N,onOpenChange:P,dir:k,triggerPointerDownPosRef:O,disabled:h,children:[i.jsx(CC.Provider,{scope:t,children:i.jsx(pSe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback($=>{V(U=>new Set(U).add($))},[]),onNativeOptionRemove:p.useCallback($=>{V(U=>{const M=new Set(U);return M.delete($),M})},[]),children:n})}),G?i.jsxs(hH,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:$=>R($.target.value),disabled:h,form:g,children:[E===void 0?i.jsx("option",{value:""}):null,Array.from(te)]},z):null]})})};Gq.displayName=_d;var Wq="SelectTrigger",qq=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,s=NC(n),o=uu(Wq,n),l=o.disabled||r,c=Gt(t,o.onTriggerChange),u=jC(n),d=p.useRef("touch"),[f,h,m]=pH(v=>{const b=u().filter(w=>!w.disabled),y=b.find(w=>w.value===o.value),x=gH(b,v,y);x!==void 0&&o.onValueChange(x.value)}),g=v=>{l||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(Ly,{asChild:!0,...s,children:i.jsx(At.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mH(o.value)?"":void 0,...a,ref:c,onClick:it(a.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&g(v)}),onPointerDown:it(a.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:it(a.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(b&&v.key===" ")&&dSe.includes(v.key)&&(g(),v.preventDefault())})})})});qq.displayName=Wq;var Hq="SelectValue",Yq=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:s,placeholder:o="",...l}=e,c=uu(Hq,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Gt(t,c.onValueNodeChange);return jr(()=>{u(d)},[u,d]),i.jsx(At.span,{...l,ref:f,style:{pointerEvents:"none"},children:mH(c.value)?i.jsx(i.Fragment,{children:o}):s})});Yq.displayName=Hq;var vSe="SelectIcon",Qq=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return i.jsx(At.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});Qq.displayName=vSe;var ySe="SelectPortal",Zq=e=>i.jsx(zm,{asChild:!0,...e});Zq.displayName=ySe;var Dd="SelectContent",Jq=p.forwardRef((e,t)=>{const n=uu(Dd,e.__scopeSelect),[r,a]=p.useState();if(jr(()=>{a(new DocumentFragment)},[]),!n.open){const s=r;return s?Vo.createPortal(i.jsx(Xq,{scope:e.__scopeSelect,children:i.jsx(CC.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(eH,{...e,ref:t})});Jq.displayName=Dd;var _i=10,[Xq,du]=Wm(Dd),xSe="SelectContentImpl",bSe=sSe("SelectContent.RemoveScroll"),eH=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:b,...y}=e,x=uu(Dd,n),[w,S]=p.useState(null),[j,k]=p.useState(null),N=Gt(t,me=>S(me)),[P,E]=p.useState(null),[R,O]=p.useState(null),G=jC(n),[te,V]=p.useState(!1),z=p.useRef(!1);p.useEffect(()=>{if(w)return yC(w)},[w]),gC();const $=p.useCallback(me=>{const[Ue,...ne]=G().map(re=>re.ref.current),[je]=ne.slice(-1),ve=document.activeElement;for(const re of me)if(re===ve||(re==null||re.scrollIntoView({block:"nearest"}),re===Ue&&j&&(j.scrollTop=0),re===je&&j&&(j.scrollTop=j.scrollHeight),re==null||re.focus(),document.activeElement!==ve))return},[G,j]),U=p.useCallback(()=>$([P,w]),[$,P,w]);p.useEffect(()=>{te&&U()},[te,U]);const{onOpenChange:M,triggerPointerDownPosRef:F}=x;p.useEffect(()=>{if(w){let me={x:0,y:0};const Ue=je=>{var ve,re;me={x:Math.abs(Math.round(je.pageX)-(((ve=F.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(je.pageY)-(((re=F.current)==null?void 0:re.y)??0))}},ne=je=>{me.x<=10&&me.y<=10?je.preventDefault():w.contains(je.target)||M(!1),document.removeEventListener("pointermove",Ue),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,M,F]),p.useEffect(()=>{const me=()=>M(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[M]);const[W,Z]=pH(me=>{const Ue=G().filter(ve=>!ve.disabled),ne=Ue.find(ve=>ve.ref.current===document.activeElement),je=gH(Ue,me,ne);je&&setTimeout(()=>je.ref.current.focus())}),H=p.useCallback((me,Ue,ne)=>{const je=!z.current&&!ne;(x.value!==void 0&&x.value===Ue||je)&&(E(me),je&&(z.current=!0))},[x.value]),ae=p.useCallback(()=>w==null?void 0:w.focus(),[w]),fe=p.useCallback((me,Ue,ne)=>{const je=!z.current&&!ne;(x.value!==void 0&&x.value===Ue||je)&&O(me)},[x.value]),we=r==="popper"?EE:tH,Pe=we===EE?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:b}:{};return i.jsx(Xq,{scope:n,content:w,viewport:j,onViewportChange:k,itemRefCallback:H,selectedItem:P,onItemLeave:ae,itemTextRefCallback:fe,focusSelectedItem:U,selectedItemText:R,position:r,isPositioned:te,searchRef:W,children:i.jsx(Hy,{as:bSe,allowPinchZoom:!0,children:i.jsx(Wy,{asChild:!0,trapped:x.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:it(a,me=>{var Ue;(Ue=x.trigger)==null||Ue.focus({preventScroll:!0}),me.preventDefault()}),children:i.jsx(Fm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(we,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:me=>me.preventDefault(),...y,...Pe,onPlaced:()=>V(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:it(y.onKeyDown,me=>{const Ue=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Ue&&me.key.length===1&&Z(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let je=G().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(me.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const ve=me.target,re=je.indexOf(ve);je=je.slice(re+1)}setTimeout(()=>$(je)),me.preventDefault()}})})})})})})});eH.displayName=xSe;var wSe="SelectItemAlignedPosition",tH=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,s=uu(Dd,n),o=du(Dd,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=Gt(t,N=>d(N)),h=jC(n),m=p.useRef(!1),g=p.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:y,focusSelectedItem:x}=o,w=p.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&v&&b&&y){const N=s.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(s.dir!=="rtl"){const ve=R.left-P.left,re=E.left-ve,Ye=N.left-re,Fe=N.width+Ye,Je=Math.max(Fe,P.width),Le=window.innerWidth-_i,lt=PE(re,[_i,Math.max(_i,Le-Je)]);l.style.minWidth=Fe+"px",l.style.left=lt+"px"}else{const ve=P.right-R.right,re=window.innerWidth-E.right-ve,Ye=window.innerWidth-N.right-re,Fe=N.width+Ye,Je=Math.max(Fe,P.width),Le=window.innerWidth-_i,lt=PE(re,[_i,Math.max(_i,Le-Je)]);l.style.minWidth=Fe+"px",l.style.right=lt+"px"}const O=h(),G=window.innerHeight-_i*2,te=v.scrollHeight,V=window.getComputedStyle(u),z=parseInt(V.borderTopWidth,10),$=parseInt(V.paddingTop,10),U=parseInt(V.borderBottomWidth,10),M=parseInt(V.paddingBottom,10),F=z+$+te+M+U,W=Math.min(b.offsetHeight*5,F),Z=window.getComputedStyle(v),H=parseInt(Z.paddingTop,10),ae=parseInt(Z.paddingBottom,10),fe=N.top+N.height/2-_i,we=G-fe,Pe=b.offsetHeight/2,me=b.offsetTop+Pe,Ue=z+$+me,ne=F-Ue;if(Ue<=fe){const ve=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const re=u.clientHeight-v.offsetTop-v.offsetHeight,Ye=Math.max(we,Pe+(ve?ae:0)+re+U),Fe=Ue+Ye;l.style.height=Fe+"px"}else{const ve=O.length>0&&b===O[0].ref.current;l.style.top="0px";const Ye=Math.max(fe,z+v.offsetTop+(ve?H:0)+Pe)+ne;l.style.height=Ye+"px",v.scrollTop=Ue-fe+v.offsetTop}l.style.margin=`${_i}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=G+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,v,b,y,s.dir,r]);jr(()=>w(),[w]);const[S,j]=p.useState();jr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const k=p.useCallback(N=>{N&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return i.jsx(CSe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(At.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});tH.displayName=wSe;var SSe="SelectPopperPosition",EE=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=_i,...s}=e,o=NC(n);return i.jsx(iC,{...o,...s,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});EE.displayName=SSe;var[CSe,uR]=Wm(Dd,{}),TE="SelectViewport",nH=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,s=du(TE,n),o=uR(TE,n),l=Gt(t,s.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(CC.Slot,{scope:n,children:i.jsx(At.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:it(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-_i*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(v,b);if(y<g){const x=y+m,w=Math.min(g,x),S=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});nH.displayName=TE;var rH="SelectGroup",[jSe,NSe]=Wm(rH),kSe=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Kr();return i.jsx(jSe,{scope:n,id:a,children:i.jsx(At.div,{role:"group","aria-labelledby":a,...r,ref:t})})});kSe.displayName=rH;var aH="SelectLabel",ASe=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=NSe(aH,n);return i.jsx(At.div,{id:a.id,...r,ref:t})});ASe.displayName=aH;var r1="SelectItem",[PSe,sH]=Wm(r1),iH=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:s,...o}=e,l=uu(r1,n),c=du(r1,n),u=l.value===r,[d,f]=p.useState(s??""),[h,m]=p.useState(!1),g=Gt(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,r,a)}),v=Kr(),b=p.useRef("touch"),y=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(PSe,{scope:n,value:r,disabled:a,textId:v,isSelected:u,onItemTextChange:p.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(CC.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:i.jsx(At.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:it(o.onFocus,()=>m(!0)),onBlur:it(o.onBlur,()=>m(!1)),onClick:it(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:it(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:it(o.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:it(o.onPointerMove,x=>{var w;b.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:it(o.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(fSe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});iH.displayName=r1;var jg="SelectItemText",oH=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...s}=e,o=uu(jg,n),l=du(jg,n),c=sH(jg,n),u=gSe(jg,n),[d,f]=p.useState(null),h=Gt(t,y=>f(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return jr(()=>(v(g),()=>b(g)),[v,b,g]),i.jsxs(i.Fragment,{children:[i.jsx(At.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vo.createPortal(s.children,o.valueNode):null]})});oH.displayName=jg;var lH="SelectItemIndicator",cH=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return sH(lH,n).isSelected?i.jsx(At.span,{"aria-hidden":!0,...r,ref:t}):null});cH.displayName=lH;var _E="SelectScrollUpButton",uH=p.forwardRef((e,t)=>{const n=du(_E,e.__scopeSelect),r=uR(_E,e.__scopeSelect),[a,s]=p.useState(!1),o=Gt(t,r.onScrollButtonChange);return jr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?i.jsx(fH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});uH.displayName=_E;var DE="SelectScrollDownButton",dH=p.forwardRef((e,t)=>{const n=du(DE,e.__scopeSelect),r=uR(DE,e.__scopeSelect),[a,s]=p.useState(!1),o=Gt(t,r.onScrollButtonChange);return jr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?i.jsx(fH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});dH.displayName=DE;var fH=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,s=du("SelectScrollButton",n),o=p.useRef(null),l=jC(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),jr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(At.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:it(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:it(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:it(a.onPointerLeave,()=>{c()})})}),ESe="SelectSeparator",TSe=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(At.div,{"aria-hidden":!0,...r,ref:t})});TSe.displayName=ESe;var RE="SelectArrow",_Se=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=NC(n),s=uu(RE,n),o=du(RE,n);return s.open&&o.position==="popper"?i.jsx(oC,{...a,...r,ref:t}):null});_Se.displayName=RE;var DSe="SelectBubbleInput",hH=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=p.useRef(null),s=Gt(r,a),o=Kq(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(At.select,{...n,style:{...r9,...n.style},ref:s,defaultValue:t})});hH.displayName=DSe;function mH(e){return e===""||e===void 0}function pH(e){const t=ia(e),n=p.useRef(""),r=p.useRef(0),a=p.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,s]}function gH(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=RSe(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function RSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var MSe=Gq,ISe=qq,OSe=Yq,LSe=Qq,$Se=Zq,FSe=Jq,BSe=nH,VSe=iH,zSe=oH,USe=cH,KSe=uH,GSe=dH;function Br({...e}){return i.jsx(MSe,{"data-slot":"select",...e})}function oa({...e}){return i.jsx(OSe,{"data-slot":"select-value",...e})}function Vr({className:e,children:t,style:n,size:r="default",...a}){const s={touchAction:"manipulation",userSelect:"none",WebkitUserSelect:"none",WebkitTapHighlightColor:"transparent",...r==="sm"?{height:"2rem",minHeight:"2rem",maxHeight:"2rem"}:{},...n};return i.jsxs(ISe,{"data-slot":"select-trigger","data-size":r,className:De("border-input data-placeholder:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 box-border",r==="sm"?"h-8 min-h-8 max-h-8 text-sm shrink-0":"h-9 py-2 text-sm",e),style:s,...a,children:[t,i.jsx(LSe,{asChild:!0,children:i.jsx(Ry,{className:"size-4 opacity-50"})})]})}function zr({className:e,children:t,position:n="popper",style:r,...a}){const s={touchAction:"manipulation",userSelect:"none",WebkitUserSelect:"none",...r};return i.jsx($Se,{children:i.jsxs(FSe,{"data-slot":"select-content",className:De("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-32 origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,style:s,...a,children:[i.jsx(WSe,{}),i.jsx(BSe,{className:De("p-1",n==="popper"&&"h-(--radix-select-trigger-height) w-full min-w-(--radix-select-trigger-width) scroll-my-1"),children:t}),i.jsx(qSe,{})]})})}function ot({className:e,children:t,style:n,onClick:r,onPointerDown:a,onTouchStart:s,onTouchEnd:o,...l}){const c=p.useRef(null),u=p.useCallback(v=>{if(v.stopPropagation(),"pointerId"in v&&v.pointerType==="pen"){const b=v.currentTarget;b.focus(),setTimeout(()=>{const y=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(y)},10)}},[]),d=p.useCallback(v=>{a&&a(v),u(v)},[a,u]),f=p.useCallback(v=>{s&&s(v),u(v)},[s,u]),h=p.useCallback(v=>{o&&o(v);const b=v.currentTarget;b.focus(),setTimeout(()=>{const y=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(y)},50)},[o]),m=p.useCallback(v=>{r&&r(v),v.currentTarget.focus()},[r]),g={touchAction:"manipulation",cursor:"pointer",WebkitTapHighlightColor:"rgba(0,0,0,0.2)",WebkitUserSelect:"none",userSelect:"none",minHeight:"44px",...n};return i.jsxs(VSe,{ref:c,"data-slot":"select-item",className:De("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-2 pr-8 pl-2 text-sm outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2","hover:bg-accent hover:text-accent-foreground","active:bg-accent/80",e),style:g,onClick:m,onPointerDown:d,onTouchStart:f,onTouchEnd:h,...l,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(USe,{children:i.jsx(Al,{className:"size-4"})})}),i.jsx(zSe,{children:t})]})}function WSe({className:e,...t}){return i.jsx(KSe,{"data-slot":"select-scroll-up-button",className:De("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(eD,{className:"size-4"})})}function qSe({className:e,...t}){return i.jsx(GSe,{"data-slot":"select-scroll-down-button",className:De("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Ry,{className:"size-4"})})}function HSe(){const e=Ja(),n=["/auto-start","/auto-scoring","/teleop-scoring","/endgame"].includes(e.pathname);return{isInScoutingSession:n,hasUnsavedData:n&&(()=>{try{const a=localStorage.getItem("autoStateStack"),s=localStorage.getItem("teleopStateStack"),o=a?JSON.parse(a):[],l=s?JSON.parse(s):[],c=e.state&&e.state.inputs&&(e.state.inputs.matchNumber||e.state.inputs.selectTeam);return o.length>0||l.length>0||n&&c}catch{return n}})()}}function vH(e={}){const t=zo(),{hasUnsavedData:n}=HSe(),[r,a]=p.useState(null),s=p.useMemo(()=>e.shouldBlock||(()=>n),[e.shouldBlock,n]),o=p.useCallback((u,d)=>s()?(a({destination:u,label:d}),!1):(t(u),!0),[s,t]),l=p.useCallback(()=>{r&&(nE(),t(r.destination),a(null))},[r,t]),c=p.useCallback(()=>{a(null)},[]);return{confirmNavigation:o,handleConfirm:l,handleCancel:c,isConfirmDialogOpen:r!==null,pendingDestinationLabel:(r==null?void 0:r.label)||"this page"}}function YSe(e){const t=QSe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(JSe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function QSe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=eCe(a),l=XSe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZSe=Symbol("radix.slottable");function JSe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZSe}function XSe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function eCe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kC="Dialog",[yH,xH]=bs(kC),[tCe,eo]=yH(kC),bH=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Mo({prop:r,defaultProp:a??!1,onChange:s,caller:kC});return i.jsx(tCe,{scope:t,triggerRef:l,contentRef:c,contentId:Kr(),titleId:Kr(),descriptionId:Kr(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};bH.displayName=kC;var wH="DialogTrigger",SH=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(wH,n),s=Gt(t,a.triggerRef);return i.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":hR(a.open),...r,ref:s,onClick:it(e.onClick,a.onOpenToggle)})});SH.displayName=wH;var dR="DialogPortal",[nCe,CH]=yH(dR,{forceMount:void 0}),jH=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,s=eo(dR,t);return i.jsx(nCe,{scope:t,forceMount:n,children:p.Children.map(r,o=>i.jsx(Wr,{present:n||s.open,children:i.jsx(zm,{asChild:!0,container:a,children:o})}))})};jH.displayName=dR;var a1="DialogOverlay",NH=p.forwardRef((e,t)=>{const n=CH(a1,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=eo(a1,e.__scopeDialog);return s.modal?i.jsx(Wr,{present:r||s.open,children:i.jsx(aCe,{...a,ref:t})}):null});NH.displayName=a1;var rCe=YSe("DialogOverlay.RemoveScroll"),aCe=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(a1,n);return i.jsx(Hy,{as:rCe,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(At.div,{"data-state":hR(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Rd="DialogContent",kH=p.forwardRef((e,t)=>{const n=CH(Rd,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=eo(Rd,e.__scopeDialog);return i.jsx(Wr,{present:r||s.open,children:s.modal?i.jsx(sCe,{...a,ref:t}):i.jsx(iCe,{...a,ref:t})})});kH.displayName=Rd;var sCe=p.forwardRef((e,t)=>{const n=eo(Rd,e.__scopeDialog),r=p.useRef(null),a=Gt(t,n.contentRef,r);return p.useEffect(()=>{const s=r.current;if(s)return yC(s)},[]),i.jsx(AH,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:it(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:it(e.onFocusOutside,s=>s.preventDefault())})}),iCe=p.forwardRef((e,t)=>{const n=eo(Rd,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return i.jsx(AH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),AH=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=eo(Rd,n),c=p.useRef(null),u=Gt(t,c);return gC(),i.jsxs(i.Fragment,{children:[i.jsx(Wy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Fm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":hR(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(lCe,{titleId:l.titleId}),i.jsx(uCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),fR="DialogTitle",PH=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(fR,n);return i.jsx(At.h2,{id:a.titleId,...r,ref:t})});PH.displayName=fR;var EH="DialogDescription",TH=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(EH,n);return i.jsx(At.p,{id:a.descriptionId,...r,ref:t})});TH.displayName=EH;var _H="DialogClose",DH=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(_H,n);return i.jsx(At.button,{type:"button",...r,ref:t,onClick:it(e.onClick,()=>a.onOpenChange(!1))})});DH.displayName=_H;function hR(e){return e?"open":"closed"}var RH="DialogTitleWarning",[oCe,MH]=whe(RH,{contentName:Rd,titleName:fR,docsSlug:"dialog"}),lCe=({titleId:e})=>{const t=MH(RH),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},cCe="DialogDescriptionWarning",uCe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MH(cCe).contentName}}.`;return p.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},AC=bH,mR=SH,PC=jH,EC=NH,TC=kH,pR=PH,gR=TH,Zy=DH;function to({...e}){return i.jsx(AC,{"data-slot":"dialog",...e})}function _C({...e}){return i.jsx(mR,{"data-slot":"dialog-trigger",...e})}function dCe({...e}){return i.jsx(PC,{"data-slot":"dialog-portal",...e})}function fCe({className:e,...t}){return i.jsx(EC,{"data-slot":"dialog-overlay",className:De("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}function no({className:e,children:t,showCloseButton:n=!0,...r}){return i.jsxs(dCe,{children:[i.jsx(fCe,{}),i.jsxs(TC,{"data-slot":"dialog-content",className:De("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed top-[50%] left-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 sm:rounded-lg",e),...r,children:[t,n&&i.jsxs(Zy,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-3 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Wa,{className:"size-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Go({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-header",className:De("flex flex-col gap-2 text-center sm:text-left",e),...t})}function qm({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-footer",className:De("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ro({className:e,...t}){return i.jsx(pR,{"data-slot":"dialog-title",className:De("text-lg leading-none font-semibold",e),...t})}function lf({className:e,...t}){return i.jsx(gR,{"data-slot":"dialog-description",className:De("text-muted-foreground text-sm",e),...t})}function IH({open:e,onConfirm:t,onCancel:n,destinationLabel:r="this page"}){return i.jsx(to,{open:e,onOpenChange:a=>!a&&n(),children:i.jsxs(no,{children:[i.jsxs(Go,{children:[i.jsxs(ro,{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5 text-orange-500"}),"Leave Scouting Session?"]}),i.jsx(lf,{asChild:!0,children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{children:["You are currently in the middle of scouting a match. If you navigate to"," ",i.jsx("span",{className:"font-medium",children:r}),", all unsaved match data will be lost."]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"This includes any autonomous actions, teleop scoring, and other data you've recorded for this match."})]})})]}),i.jsxs(qm,{children:[i.jsx(X,{variant:"outline",onClick:n,className:"p-2",children:"Continue Scouting"}),i.jsx(X,{variant:"destructive",onClick:t,className:"p-2 text-white",children:"Leave and Lose Data"})]})]})})}const hCe="modulepreload",mCe=function(e){return"/Maneuver-2026/"+e},DF={},Mn=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=mCe(c),c in DF)return;DF[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":hCe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};var OH={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(JO,function(){var n=function(C,A){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,I){D.__proto__=I}||function(D,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(D[B]=I[B])})(C,A)},r=function(){return(r=Object.assign||function(C){for(var A,D=1,I=arguments.length;D<I;D++)for(var B in A=arguments[D])Object.prototype.hasOwnProperty.call(A,B)&&(C[B]=A[B]);return C}).apply(this,arguments)};function a(C,A,D){for(var I,B=0,q=A.length;B<q;B++)!I&&B in A||((I=I||Array.prototype.slice.call(A,0,B))[B]=A[B]);return C.concat(I||Array.prototype.slice.call(A))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:JO,o=Object.keys,l=Array.isArray;function c(C,A){return typeof A!="object"||o(A).forEach(function(D){C[D]=A[D]}),C}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var u=Object.getPrototypeOf,d={}.hasOwnProperty;function f(C,A){return d.call(C,A)}function h(C,A){typeof A=="function"&&(A=A(u(C))),(typeof Reflect>"u"?o:Reflect.ownKeys)(A).forEach(function(D){g(C,D,A[D])})}var m=Object.defineProperty;function g(C,A,D,I){m(C,A,c(D&&f(D,"get")&&typeof D.get=="function"?{get:D.get,set:D.set,configurable:!0}:{value:D,configurable:!0,writable:!0},I))}function v(C){return{from:function(A){return C.prototype=Object.create(A.prototype),g(C.prototype,"constructor",C),{extend:h.bind(null,C.prototype)}}}}var b=Object.getOwnPropertyDescriptor,y=[].slice;function x(C,A,D){return y.call(C,A,D)}function w(C,A){return A(C)}function S(C){if(!C)throw new Error("Assertion Failed")}function j(C){s.setImmediate?setImmediate(C):setTimeout(C,0)}function k(C,A){if(typeof A=="string"&&f(C,A))return C[A];if(!A)return C;if(typeof A!="string"){for(var D=[],I=0,B=A.length;I<B;++I){var q=k(C,A[I]);D.push(q)}return D}var ee=A.indexOf(".");if(ee!==-1){var se=C[A.substr(0,ee)];return se==null?void 0:k(se,A.substr(ee+1))}}function N(C,A,D){if(C&&A!==void 0&&!("isFrozen"in Object&&Object.isFrozen(C)))if(typeof A!="string"&&"length"in A){S(typeof D!="string"&&"length"in D);for(var I=0,B=A.length;I<B;++I)N(C,A[I],D[I])}else{var q,ee,se=A.indexOf(".");se!==-1?(q=A.substr(0,se),(ee=A.substr(se+1))===""?D===void 0?l(C)&&!isNaN(parseInt(q))?C.splice(q,1):delete C[q]:C[q]=D:N(se=!(se=C[q])||!f(C,q)?C[q]={}:se,ee,D)):D===void 0?l(C)&&!isNaN(parseInt(A))?C.splice(A,1):delete C[A]:C[A]=D}}function P(C){var A,D={};for(A in C)f(C,A)&&(D[A]=C[A]);return D}var E=[].concat;function R(C){return E.apply([],C)}var Pt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(R([8,16,32,64].map(function(C){return["Int","Uint","Float"].map(function(A){return A+C+"Array"})}))).filter(function(C){return s[C]}),O=new Set(Pt.map(function(C){return s[C]})),G=null;function te(C){return G=new WeakMap,C=function A(D){if(!D||typeof D!="object")return D;var I=G.get(D);if(I)return I;if(l(D)){I=[],G.set(D,I);for(var B=0,q=D.length;B<q;++B)I.push(A(D[B]))}else if(O.has(D.constructor))I=D;else{var ee,se=u(D);for(ee in I=se===Object.prototype?{}:Object.create(se),G.set(D,I),D)f(D,ee)&&(I[ee]=A(D[ee]))}return I}(C),G=null,C}var V={}.toString;function z(C){return V.call(C).slice(8,-1)}var $=typeof Symbol<"u"?Symbol.iterator:"@@iterator",U=typeof $=="symbol"?function(C){var A;return C!=null&&(A=C[$])&&A.apply(C)}:function(){return null};function M(C,A){return A=C.indexOf(A),0<=A&&C.splice(A,1),0<=A}var F={};function W(C){var A,D,I,B;if(arguments.length===1){if(l(C))return C.slice();if(this===F&&typeof C=="string")return[C];if(B=U(C)){for(D=[];!(I=B.next()).done;)D.push(I.value);return D}if(C==null)return[C];if(typeof(A=C.length)!="number")return[C];for(D=new Array(A);A--;)D[A]=C[A];return D}for(A=arguments.length,D=new Array(A);A--;)D[A]=arguments[A];return D}var Z=typeof Symbol<"u"?function(C){return C[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},zt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ss=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zt),H={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ae(C,A){this.name=C,this.message=A}function fe(C,A){return C+". Errors: "+Object.keys(A).map(function(D){return A[D].toString()}).filter(function(D,I,B){return B.indexOf(D)===I}).join(`
`)}function we(C,A,D,I){this.failures=A,this.failedKeys=I,this.successCount=D,this.message=fe(C,A)}function Pe(C,A){this.name="BulkError",this.failures=Object.keys(A).map(function(D){return A[D]}),this.failuresByPos=A,this.message=fe(C,this.failures)}v(ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(we).from(ae),v(Pe).from(ae);var me=ss.reduce(function(C,A){return C[A]=A+"Error",C},{}),Ue=ae,ne=ss.reduce(function(C,A){var D=A+"Error";function I(B,q){this.name=D,B?typeof B=="string"?(this.message="".concat(B).concat(q?`
 `+q:""),this.inner=q||null):typeof B=="object"&&(this.message="".concat(B.name," ").concat(B.message),this.inner=B):(this.message=H[A]||D,this.inner=null)}return v(I).from(Ue),C[A]=I,C},{});ne.Syntax=SyntaxError,ne.Type=TypeError,ne.Range=RangeError;var je=zt.reduce(function(C,A){return C[A+"Error"]=ne[A],C},{}),ve=ss.reduce(function(C,A){return["Syntax","Type","Range"].indexOf(A)===-1&&(C[A+"Error"]=ne[A]),C},{});function re(){}function Ye(C){return C}function Fe(C,A){return C==null||C===Ye?A:function(D){return A(C(D))}}function Je(C,A){return function(){C.apply(this,arguments),A.apply(this,arguments)}}function Le(C,A){return C===re?A:function(){var D=C.apply(this,arguments);D!==void 0&&(arguments[0]=D);var I=this.onsuccess,B=this.onerror;this.onsuccess=null,this.onerror=null;var q=A.apply(this,arguments);return I&&(this.onsuccess=this.onsuccess?Je(I,this.onsuccess):I),B&&(this.onerror=this.onerror?Je(B,this.onerror):B),q!==void 0?q:D}}function lt(C,A){return C===re?A:function(){C.apply(this,arguments);var D=this.onsuccess,I=this.onerror;this.onsuccess=this.onerror=null,A.apply(this,arguments),D&&(this.onsuccess=this.onsuccess?Je(D,this.onsuccess):D),I&&(this.onerror=this.onerror?Je(I,this.onerror):I)}}function ct(C,A){return C===re?A:function(D){var I=C.apply(this,arguments);c(D,I);var B=this.onsuccess,q=this.onerror;return this.onsuccess=null,this.onerror=null,D=A.apply(this,arguments),B&&(this.onsuccess=this.onsuccess?Je(B,this.onsuccess):B),q&&(this.onerror=this.onerror?Je(q,this.onerror):q),I===void 0?D===void 0?void 0:D:c(I,D)}}function be(C,A){return C===re?A:function(){return A.apply(this,arguments)!==!1&&C.apply(this,arguments)}}function Ce(C,A){return C===re?A:function(){var D=C.apply(this,arguments);if(D&&typeof D.then=="function"){for(var I=this,B=arguments.length,q=new Array(B);B--;)q[B]=arguments[B];return D.then(function(){return A.apply(I,q)})}return A.apply(this,arguments)}}ve.ModifyError=we,ve.DexieError=ae,ve.BulkError=Pe;var oe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xt(C){oe=C}var rt={},Rt=100,Pt=typeof Promise>"u"?[]:function(){var C=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[C,u(C),C];var A=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[A,u(A),C]}(),zt=Pt[0],ss=Pt[1],Pt=Pt[2],ss=ss&&ss.then,It=zt&&zt.constructor,an=!!Pt,Jt=function(C,A){tt.push([C,A]),Re&&(queueMicrotask(Tt),Re=!1)},jn=!0,Re=!0,Ke=[],Q=[],ke=Ye,He={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:re,pgp:!1,env:{},finalize:re},Be=He,tt=[],nt=0,bt=[];function ze(C){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var A=this._PSD=Be;if(typeof C!="function"){if(C!==rt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&vr(this,this._value))}this._state=null,this._value=null,++A.ref,function D(I,B){try{B(function(q){if(I._state===null){if(q===I)throw new TypeError("A promise cannot be resolved with itself.");var ee=I._lib&&kn();q&&typeof q.then=="function"?D(I,function(se,pe){q instanceof ze?q._then(se,pe):q.then(se,pe)}):(I._state=!0,I._value=q,yr(I)),ee&&Xn()}},vr.bind(null,I))}catch(q){vr(I,q)}}(this,C)}var Nn={get:function(){var C=Be,A=Dt;function D(I,B){var q=this,ee=!C.global&&(C!==Be||A!==Dt),se=ee&&!ht(),pe=new ze(function(ge,Ne){_t(q,new Nt(An(I,C,ee,se),An(B,C,ee,se),ge,Ne,C))});return this._consoleTask&&(pe._consoleTask=this._consoleTask),pe}return D.prototype=rt,D},set:function(C){g(this,"then",C&&C.prototype===rt?Nn:{get:function(){return C},set:Nn.set})}};function Nt(C,A,D,I,B){this.onFulfilled=typeof C=="function"?C:null,this.onRejected=typeof A=="function"?A:null,this.resolve=D,this.reject=I,this.psd=B}function vr(C,A){var D,I;Q.push(A),C._state===null&&(D=C._lib&&kn(),A=ke(A),C._state=!1,C._value=A,I=C,Ke.some(function(B){return B._value===I._value})||Ke.push(I),yr(C),D&&Xn())}function yr(C){var A=C._listeners;C._listeners=[];for(var D=0,I=A.length;D<I;++D)_t(C,A[D]);var B=C._PSD;--B.ref||B.finalize(),nt===0&&(++nt,Jt(function(){--nt==0&&ja()},[]))}function _t(C,A){if(C._state!==null){var D=C._state?A.onFulfilled:A.onRejected;if(D===null)return(C._state?A.resolve:A.reject)(C._value);++A.psd.ref,++nt,Jt(pt,[D,C,A])}else C._listeners.push(A)}function pt(C,A,D){try{var I,B=A._value;!A._state&&Q.length&&(Q=[]),I=oe&&A._consoleTask?A._consoleTask.run(function(){return C(B)}):C(B),A._state||Q.indexOf(B)!==-1||function(q){for(var ee=Ke.length;ee;)if(Ke[--ee]._value===q._value)return Ke.splice(ee,1)}(A),D.resolve(I)}catch(q){D.reject(q)}finally{--nt==0&&ja(),--D.psd.ref||D.psd.finalize()}}function Tt(){Wt(He,function(){kn()&&Xn()})}function kn(){var C=jn;return Re=jn=!1,C}function Xn(){var C,A,D;do for(;0<tt.length;)for(C=tt,tt=[],D=C.length,A=0;A<D;++A){var I=C[A];I[0].apply(null,I[1])}while(0<tt.length);Re=jn=!0}function ja(){var C=Ke;Ke=[],C.forEach(function(I){I._PSD.onunhandled.call(null,I._value,I)});for(var A=bt.slice(0),D=A.length;D;)A[--D]()}function ue(C){return new ze(rt,!1,C)}function he(C,A){var D=Be;return function(){var I=kn(),B=Be;try{return mn(D,!0),C.apply(this,arguments)}catch(q){A&&A(q)}finally{mn(B,!1),I&&Xn()}}}h(ze.prototype,{then:Nn,_then:function(C,A){_t(this,new Nt(null,null,C,A,Be))},catch:function(C){if(arguments.length===1)return this.then(null,C);var A=C,D=arguments[1];return typeof A=="function"?this.then(null,function(I){return(I instanceof A?D:ue)(I)}):this.then(null,function(I){return(I&&I.name===A?D:ue)(I)})},finally:function(C){return this.then(function(A){return ze.resolve(C()).then(function(){return A})},function(A){return ze.resolve(C()).then(function(){return ue(A)})})},timeout:function(C,A){var D=this;return C<1/0?new ze(function(I,B){var q=setTimeout(function(){return B(new ne.Timeout(A))},C);D.then(I,B).finally(clearTimeout.bind(null,q))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&g(ze.prototype,Symbol.toStringTag,"Dexie.Promise"),He.env=dn(),h(ze,{all:function(){var C=W.apply(null,arguments).map(Bt);return new ze(function(A,D){C.length===0&&A([]);var I=C.length;C.forEach(function(B,q){return ze.resolve(B).then(function(ee){C[q]=ee,--I||A(C)},D)})})},resolve:function(C){return C instanceof ze?C:C&&typeof C.then=="function"?new ze(function(A,D){C.then(A,D)}):new ze(rt,!0,C)},reject:ue,race:function(){var C=W.apply(null,arguments).map(Bt);return new ze(function(A,D){C.map(function(I){return ze.resolve(I).then(A,D)})})},PSD:{get:function(){return Be},set:function(C){return Be=C}},totalEchoes:{get:function(){return Dt}},newPSD:dt,usePSD:Wt,scheduler:{get:function(){return Jt},set:function(C){Jt=C}},rejectionMapper:{get:function(){return ke},set:function(C){ke=C}},follow:function(C,A){return new ze(function(D,I){return dt(function(B,q){var ee=Be;ee.unhandleds=[],ee.onunhandled=q,ee.finalize=Je(function(){var se,pe=this;se=function(){pe.unhandleds.length===0?B():q(pe.unhandleds[0])},bt.push(function ge(){se(),bt.splice(bt.indexOf(ge),1)}),++nt,Jt(function(){--nt==0&&ja()},[])},ee.finalize),C()},A,D,I)})}}),It&&(It.allSettled&&g(ze,"allSettled",function(){var C=W.apply(null,arguments).map(Bt);return new ze(function(A){C.length===0&&A([]);var D=C.length,I=new Array(D);C.forEach(function(B,q){return ze.resolve(B).then(function(ee){return I[q]={status:"fulfilled",value:ee}},function(ee){return I[q]={status:"rejected",reason:ee}}).then(function(){return--D||A(I)})})})}),It.any&&typeof AggregateError<"u"&&g(ze,"any",function(){var C=W.apply(null,arguments).map(Bt);return new ze(function(A,D){C.length===0&&D(new AggregateError([]));var I=C.length,B=new Array(I);C.forEach(function(q,ee){return ze.resolve(q).then(function(se){return A(se)},function(se){B[ee]=se,--I||D(new AggregateError(B))})})})}),It.withResolvers&&(ze.withResolvers=It.withResolvers));var Ee={awaits:0,echoes:0,id:0},Qe=0,at=[],St=0,Dt=0,gt=0;function dt(C,A,D,I){var B=Be,q=Object.create(B);return q.parent=B,q.ref=0,q.global=!1,q.id=++gt,He.env,q.env=an?{Promise:ze,PromiseProp:{value:ze,configurable:!0,writable:!0},all:ze.all,race:ze.race,allSettled:ze.allSettled,any:ze.any,resolve:ze.resolve,reject:ze.reject}:{},A&&c(q,A),++B.ref,q.finalize=function(){--this.parent.ref||this.parent.finalize()},I=Wt(q,C,D,I),q.ref===0&&q.finalize(),I}function ut(){return Ee.id||(Ee.id=++Qe),++Ee.awaits,Ee.echoes+=Rt,Ee.id}function ht(){return!!Ee.awaits&&(--Ee.awaits==0&&(Ee.id=0),Ee.echoes=Ee.awaits*Rt,!0)}function Bt(C){return Ee.echoes&&C&&C.constructor===It?(ut(),C.then(function(A){return ht(),A},function(A){return ht(),vn(A)})):C}function Ht(){var C=at[at.length-1];at.pop(),mn(C,!1)}function mn(C,A){var D,I=Be;(A?!Ee.echoes||St++&&C===Be:!St||--St&&C===Be)||queueMicrotask(A?(function(B){++Dt,Ee.echoes&&--Ee.echoes!=0||(Ee.echoes=Ee.awaits=Ee.id=0),at.push(Be),mn(B,!0)}).bind(null,C):Ht),C!==Be&&(Be=C,I===He&&(He.env=dn()),an&&(D=He.env.Promise,A=C.env,(I.global||C.global)&&(Object.defineProperty(s,"Promise",A.PromiseProp),D.all=A.all,D.race=A.race,D.resolve=A.resolve,D.reject=A.reject,A.allSettled&&(D.allSettled=A.allSettled),A.any&&(D.any=A.any))))}function dn(){var C=s.Promise;return an?{Promise:C,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:C.all,race:C.race,allSettled:C.allSettled,any:C.any,resolve:C.resolve,reject:C.reject}:{}}function Wt(C,A,D,I,B){var q=Be;try{return mn(C,!0),A(D,I,B)}finally{mn(q,!1)}}function An(C,A,D,I){return typeof C!="function"?C:function(){var B=Be;D&&ut(),mn(A,!0);try{return C.apply(this,arguments)}finally{mn(B,!1),I&&queueMicrotask(ht)}}}function Cs(C){Promise===It&&Ee.echoes===0?St===0?C():enqueueNativeMicroTask(C):setTimeout(C,0)}(""+ss).indexOf("[native code]")===-1&&(ut=ht=re);var vn=ze.reject,Rr="",cr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ci="String expected.",ns=[],rs="__dbnames",js="readonly",ji="readwrite";function Ot(C,A){return C?A?function(){return C.apply(this,arguments)&&A.apply(this,arguments)}:C:A}var Pn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function as(C){return typeof C!="string"||/\./.test(C)?function(A){return A}:function(A){return A[C]===void 0&&C in A&&delete(A=te(A))[C],A}}function Ut(){throw ne.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Et(C,A){try{var D=Ni(C),I=Ni(A);if(D!==I)return D==="Array"?1:I==="Array"?-1:D==="binary"?1:I==="binary"?-1:D==="string"?1:I==="string"?-1:D==="Date"?1:I!=="Date"?NaN:-1;switch(D){case"number":case"Date":case"string":return A<C?1:C<A?-1:0;case"binary":return function(B,q){for(var ee=B.length,se=q.length,pe=ee<se?ee:se,ge=0;ge<pe;++ge)if(B[ge]!==q[ge])return B[ge]<q[ge]?-1:1;return ee===se?0:ee<se?-1:1}(fa(C),fa(A));case"Array":return function(B,q){for(var ee=B.length,se=q.length,pe=ee<se?ee:se,ge=0;ge<pe;++ge){var Ne=Et(B[ge],q[ge]);if(Ne!==0)return Ne}return ee===se?0:ee<se?-1:1}(C,A)}}catch{}return NaN}function Ni(C){var A=typeof C;return A!="object"?A:ArrayBuffer.isView(C)?"binary":(C=z(C),C==="ArrayBuffer"?"binary":C)}function fa(C){return C instanceof Uint8Array?C:ArrayBuffer.isView(C)?new Uint8Array(C.buffer,C.byteOffset,C.byteLength):new Uint8Array(C)}function Jl(C,A,D){var I=C.schema.yProps;return I?(A&&0<D.numFailures&&(A=A.filter(function(B,q){return!D.failures[q]})),Promise.all(I.map(function(B){return B=B.updatesTable,A?C.db.table(B).where("k").anyOf(A).delete():C.db.table(B).clear()})).then(function(){return D})):D}var Xl=(bu.prototype.execute=function(C){var A=this["@@propmod"];if(A.add!==void 0){var D=A.add;if(l(D))return a(a([],l(C)?C:[],!0),D).sort();if(typeof D=="number")return(Number(C)||0)+D;if(typeof D=="bigint")try{return BigInt(C)+D}catch{return BigInt(0)+D}throw new TypeError("Invalid term ".concat(D))}if(A.remove!==void 0){var I=A.remove;if(l(I))return l(C)?C.filter(function(B){return!I.includes(B)}).sort():[];if(typeof I=="number")return Number(C)-I;if(typeof I=="bigint")try{return BigInt(C)-I}catch{return BigInt(0)-I}throw new TypeError("Invalid subtrahend ".concat(I))}return D=(D=A.replacePrefix)===null||D===void 0?void 0:D[0],D&&typeof C=="string"&&C.startsWith(D)?A.replacePrefix[1]+C.substring(D.length):C},bu);function bu(C){this["@@propmod"]=C}function $x(C,A){for(var D=o(A),I=D.length,B=!1,q=0;q<I;++q){var ee=D[q],se=A[ee],pe=k(C,ee);se instanceof Xl?(N(C,ee,se.execute(pe)),B=!0):pe!==se&&(N(C,ee,se),B=!0)}return B}var vf=(Sn.prototype._trans=function(C,A,D){var I=this._tx||Be.trans,B=this.name,q=oe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(C==="readonly"?"read":"write"," ").concat(this.name));function ee(ge,Ne,ce){if(!ce.schema[B])throw new ne.NotFound("Table "+B+" not part of transaction");return A(ce.idbtrans,ce)}var se=kn();try{var pe=I&&I.db._novip===this.db._novip?I===Be.trans?I._promise(C,ee,D):dt(function(){return I._promise(C,ee,D)},{trans:I,transless:Be.transless||Be}):function ge(Ne,ce,Ae,ye){if(Ne.idbdb&&(Ne._state.openComplete||Be.letThrough||Ne._vip)){var Se=Ne._createTransaction(ce,Ae,Ne._dbSchema);try{Se.create(),Ne._state.PR1398_maxLoop=3}catch(T){return T.name===me.InvalidState&&Ne.isOpen()&&0<--Ne._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ne.close({disableAutoOpen:!1}),Ne.open().then(function(){return ge(Ne,ce,Ae,ye)})):vn(T)}return Se._promise(ce,function(T,_){return dt(function(){return Be.trans=Se,ye(T,_,Se)})}).then(function(T){if(ce==="readwrite")try{Se.idbtrans.commit()}catch{}return ce==="readonly"?T:Se._completion.then(function(){return T})})}if(Ne._state.openComplete)return vn(new ne.DatabaseClosed(Ne._state.dbOpenError));if(!Ne._state.isBeingOpened){if(!Ne._state.autoOpen)return vn(new ne.DatabaseClosed);Ne.open().catch(re)}return Ne._state.dbReadyPromise.then(function(){return ge(Ne,ce,Ae,ye)})}(this.db,C,[this.name],ee);return q&&(pe._consoleTask=q,pe=pe.catch(function(ge){return console.trace(ge),vn(ge)})),pe}finally{se&&Xn()}},Sn.prototype.get=function(C,A){var D=this;return C&&C.constructor===Object?this.where(C).first(A):C==null?vn(new ne.Type("Invalid argument to Table.get()")):this._trans("readonly",function(I){return D.core.get({trans:I,key:C}).then(function(B){return D.hook.reading.fire(B)})}).then(A)},Sn.prototype.where=function(C){if(typeof C=="string")return new this.db.WhereClause(this,C);if(l(C))return new this.db.WhereClause(this,"[".concat(C.join("+"),"]"));var A=o(C);if(A.length===1)return this.where(A[0]).equals(C[A[0]]);var D=this.schema.indexes.concat(this.schema.primKey).filter(function(se){if(se.compound&&A.every(function(ge){return 0<=se.keyPath.indexOf(ge)})){for(var pe=0;pe<A.length;++pe)if(A.indexOf(se.keyPath[pe])===-1)return!1;return!0}return!1}).sort(function(se,pe){return se.keyPath.length-pe.keyPath.length})[0];if(D&&this.db._maxKey!==Rr){var q=D.keyPath.slice(0,A.length);return this.where(q).equals(q.map(function(pe){return C[pe]}))}!D&&oe&&console.warn("The query ".concat(JSON.stringify(C)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(A.join("+"),"]"));var I=this.schema.idxByName;function B(se,pe){return Et(se,pe)===0}var ee=A.reduce(function(ce,pe){var ge=ce[0],Ne=ce[1],ce=I[pe],Ae=C[pe];return[ge||ce,ge||!ce?Ot(Ne,ce&&ce.multi?function(ye){return ye=k(ye,pe),l(ye)&&ye.some(function(Se){return B(Ae,Se)})}:function(ye){return B(Ae,k(ye,pe))}):Ne]},[null,null]),q=ee[0],ee=ee[1];return q?this.where(q.name).equals(C[q.keyPath]).filter(ee):D?this.filter(ee):this.where(A).equals("")},Sn.prototype.filter=function(C){return this.toCollection().and(C)},Sn.prototype.count=function(C){return this.toCollection().count(C)},Sn.prototype.offset=function(C){return this.toCollection().offset(C)},Sn.prototype.limit=function(C){return this.toCollection().limit(C)},Sn.prototype.each=function(C){return this.toCollection().each(C)},Sn.prototype.toArray=function(C){return this.toCollection().toArray(C)},Sn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Sn.prototype.orderBy=function(C){return new this.db.Collection(new this.db.WhereClause(this,l(C)?"[".concat(C.join("+"),"]"):C))},Sn.prototype.reverse=function(){return this.toCollection().reverse()},Sn.prototype.mapToClass=function(C){var A,D=this.db,I=this.name;function B(){return A!==null&&A.apply(this,arguments)||this}(this.schema.mappedClass=C).prototype instanceof Ut&&(function(pe,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Class extends value "+String(ge)+" is not a constructor or null");function Ne(){this.constructor=pe}n(pe,ge),pe.prototype=ge===null?Object.create(ge):(Ne.prototype=ge.prototype,new Ne)}(B,A=C),Object.defineProperty(B.prototype,"db",{get:function(){return D},enumerable:!1,configurable:!0}),B.prototype.table=function(){return I},C=B);for(var q=new Set,ee=C.prototype;ee;ee=u(ee))Object.getOwnPropertyNames(ee).forEach(function(pe){return q.add(pe)});function se(pe){if(!pe)return pe;var ge,Ne=Object.create(C.prototype);for(ge in pe)if(!q.has(ge))try{Ne[ge]=pe[ge]}catch{}return Ne}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=se,this.hook("reading",se),C},Sn.prototype.defineClass=function(){return this.mapToClass(function(C){c(this,C)})},Sn.prototype.add=function(C,A){var D=this,I=this.schema.primKey,B=I.auto,q=I.keyPath,ee=C;return q&&B&&(ee=as(q)(C)),this._trans("readwrite",function(se){return D.core.mutate({trans:se,type:"add",keys:A!=null?[A]:null,values:[ee]})}).then(function(se){return se.numFailures?ze.reject(se.failures[0]):se.lastResult}).then(function(se){if(q)try{N(C,q,se)}catch{}return se})},Sn.prototype.upsert=function(C,A){var D=this,I=this.schema.primKey.keyPath;return this._trans("readwrite",function(B){return D.core.get({trans:B,key:C}).then(function(q){var ee=q??{};return $x(ee,A),I&&N(ee,I,C),D.core.mutate({trans:B,type:"put",values:[ee],keys:[C],upsert:!0,updates:{keys:[C],changeSpecs:[A]}}).then(function(se){return se.numFailures?ze.reject(se.failures[0]):!!q})})})},Sn.prototype.update=function(C,A){return typeof C!="object"||l(C)?this.where(":id").equals(C).modify(A):(C=k(C,this.schema.primKey.keyPath),C===void 0?vn(new ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(C).modify(A))},Sn.prototype.put=function(C,A){var D=this,I=this.schema.primKey,B=I.auto,q=I.keyPath,ee=C;return q&&B&&(ee=as(q)(C)),this._trans("readwrite",function(se){return D.core.mutate({trans:se,type:"put",values:[ee],keys:A!=null?[A]:null})}).then(function(se){return se.numFailures?ze.reject(se.failures[0]):se.lastResult}).then(function(se){if(q)try{N(C,q,se)}catch{}return se})},Sn.prototype.delete=function(C){var A=this;return this._trans("readwrite",function(D){return A.core.mutate({trans:D,type:"delete",keys:[C]}).then(function(I){return Jl(A,[C],I)}).then(function(I){return I.numFailures?ze.reject(I.failures[0]):void 0})})},Sn.prototype.clear=function(){var C=this;return this._trans("readwrite",function(A){return C.core.mutate({trans:A,type:"deleteRange",range:Pn}).then(function(D){return Jl(C,null,D)})}).then(function(A){return A.numFailures?ze.reject(A.failures[0]):void 0})},Sn.prototype.bulkGet=function(C){var A=this;return this._trans("readonly",function(D){return A.core.getMany({keys:C,trans:D}).then(function(I){return I.map(function(B){return A.hook.reading.fire(B)})})})},Sn.prototype.bulkAdd=function(C,A,D){var I=this,B=Array.isArray(A)?A:void 0,q=(D=D||(B?void 0:A))?D.allKeys:void 0;return this._trans("readwrite",function(ee){var ge=I.schema.primKey,se=ge.auto,ge=ge.keyPath;if(ge&&B)throw new ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(B&&B.length!==C.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var pe=C.length,ge=ge&&se?C.map(as(ge)):C;return I.core.mutate({trans:ee,type:"add",keys:B,values:ge,wantResults:q}).then(function(Se){var ce=Se.numFailures,Ae=Se.results,ye=Se.lastResult,Se=Se.failures;if(ce===0)return q?Ae:ye;throw new Pe("".concat(I.name,".bulkAdd(): ").concat(ce," of ").concat(pe," operations failed"),Se)})})},Sn.prototype.bulkPut=function(C,A,D){var I=this,B=Array.isArray(A)?A:void 0,q=(D=D||(B?void 0:A))?D.allKeys:void 0;return this._trans("readwrite",function(ee){var ge=I.schema.primKey,se=ge.auto,ge=ge.keyPath;if(ge&&B)throw new ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(B&&B.length!==C.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var pe=C.length,ge=ge&&se?C.map(as(ge)):C;return I.core.mutate({trans:ee,type:"put",keys:B,values:ge,wantResults:q}).then(function(Se){var ce=Se.numFailures,Ae=Se.results,ye=Se.lastResult,Se=Se.failures;if(ce===0)return q?Ae:ye;throw new Pe("".concat(I.name,".bulkPut(): ").concat(ce," of ").concat(pe," operations failed"),Se)})})},Sn.prototype.bulkUpdate=function(C){var A=this,D=this.core,I=C.map(function(ee){return ee.key}),B=C.map(function(ee){return ee.changes}),q=[];return this._trans("readwrite",function(ee){return D.getMany({trans:ee,keys:I,cache:"clone"}).then(function(se){var pe=[],ge=[];C.forEach(function(ce,Ae){var ye=ce.key,Se=ce.changes,T=se[Ae];if(T){for(var _=0,L=Object.keys(Se);_<L.length;_++){var K=L[_],Y=Se[K];if(K===A.schema.primKey.keyPath){if(Et(Y,ye)!==0)throw new ne.Constraint("Cannot update primary key in bulkUpdate()")}else N(T,K,Y)}q.push(Ae),pe.push(ye),ge.push(T)}});var Ne=pe.length;return D.mutate({trans:ee,type:"put",keys:pe,values:ge,updates:{keys:I,changeSpecs:B}}).then(function(ce){var Ae=ce.numFailures,ye=ce.failures;if(Ae===0)return Ne;for(var Se=0,T=Object.keys(ye);Se<T.length;Se++){var _,L=T[Se],K=q[Number(L)];K!=null&&(_=ye[L],delete ye[L],ye[K]=_)}throw new Pe("".concat(A.name,".bulkUpdate(): ").concat(Ae," of ").concat(Ne," operations failed"),ye)})})})},Sn.prototype.bulkDelete=function(C){var A=this,D=C.length;return this._trans("readwrite",function(I){return A.core.mutate({trans:I,type:"delete",keys:C}).then(function(B){return Jl(A,C,B)})}).then(function(ee){var B=ee.numFailures,q=ee.lastResult,ee=ee.failures;if(B===0)return q;throw new Pe("".concat(A.name,".bulkDelete(): ").concat(B," of ").concat(D," operations failed"),ee)})},Sn);function Sn(){}function Ho(C){function A(ee,se){if(se){for(var pe=arguments.length,ge=new Array(pe-1);--pe;)ge[pe-1]=arguments[pe];return D[ee].subscribe.apply(null,ge),C}if(typeof ee=="string")return D[ee]}var D={};A.addEventType=q;for(var I=1,B=arguments.length;I<B;++I)q(arguments[I]);return A;function q(ee,se,pe){if(typeof ee!="object"){var ge;se=se||be;var Ne={subscribers:[],fire:pe=pe||re,subscribe:function(ce){Ne.subscribers.indexOf(ce)===-1&&(Ne.subscribers.push(ce),Ne.fire=se(Ne.fire,ce))},unsubscribe:function(ce){Ne.subscribers=Ne.subscribers.filter(function(Ae){return Ae!==ce}),Ne.fire=Ne.subscribers.reduce(se,pe)}};return D[ee]=A[ee]=Ne}o(ge=ee).forEach(function(ce){var Ae=ge[ce];if(l(Ae))q(ce,ge[ce][0],ge[ce][1]);else{if(Ae!=="asap")throw new ne.InvalidArgument("Invalid event config");var ye=q(ce,Ye,function(){for(var Se=arguments.length,T=new Array(Se);Se--;)T[Se]=arguments[Se];ye.subscribers.forEach(function(_){j(function(){_.apply(null,T)})})})}})}}function wu(C,A){return v(A).from({prototype:C}),A}function Yo(C,A){return!(C.filter||C.algorithm||C.or)&&(A?C.justLimit:!C.replayFilter)}function bp(C,A){C.filter=Ot(C.filter,A)}function yf(C,A,D){var I=C.replayFilter;C.replayFilter=I?function(){return Ot(I(),A())}:A,C.justLimit=D&&!I}function Ys(C,A){if(C.isPrimKey)return A.primaryKey;var D=A.getIndexByKeyPath(C.index);if(!D)throw new ne.Schema("KeyPath "+C.index+" on object store "+A.name+" is not indexed");return D}function xf(C,A,D){var I=Ys(C,A.schema);return A.openCursor({trans:D,values:!C.keysOnly,reverse:C.dir==="prev",unique:!!C.unique,query:{index:I,range:C.range}})}function Ia(C,A,D,I){var B=C.replayFilter?Ot(C.filter,C.replayFilter()):C.filter;if(C.or){var q={},ee=function(se,pe,ge){var Ne,ce;B&&!B(pe,ge,function(Ae){return pe.stop(Ae)},function(Ae){return pe.fail(Ae)})||((ce=""+(Ne=pe.primaryKey))=="[object ArrayBuffer]"&&(ce=""+new Uint8Array(Ne)),f(q,ce)||(q[ce]=!0,A(se,pe,ge)))};return Promise.all([C.or._iterate(ee,D),wp(xf(C,I,D),C.algorithm,ee,!C.keysOnly&&C.valueMapper)])}return wp(xf(C,I,D),Ot(C.algorithm,B),A,!C.keysOnly&&C.valueMapper)}function wp(C,A,D,I){var B=he(I?function(q,ee,se){return D(I(q),ee,se)}:D);return C.then(function(q){if(q)return q.start(function(){var ee=function(){return q.continue()};A&&!A(q,function(se){return ee=se},function(se){q.stop(se),ee=re},function(se){q.fail(se),ee=re})||B(q.value,q,function(se){return ee=se}),ee()})})}var vN=(sn.prototype._read=function(C,A){var D=this._ctx;return D.error?D.table._trans(null,vn.bind(null,D.error)):D.table._trans("readonly",C).then(A)},sn.prototype._write=function(C){var A=this._ctx;return A.error?A.table._trans(null,vn.bind(null,A.error)):A.table._trans("readwrite",C,"locked")},sn.prototype._addAlgorithm=function(C){var A=this._ctx;A.algorithm=Ot(A.algorithm,C)},sn.prototype._iterate=function(C,A){return Ia(this._ctx,C,A,this._ctx.table.core)},sn.prototype.clone=function(C){var A=Object.create(this.constructor.prototype),D=Object.create(this._ctx);return C&&c(D,C),A._ctx=D,A},sn.prototype.raw=function(){return this._ctx.valueMapper=null,this},sn.prototype.each=function(C){var A=this._ctx;return this._read(function(D){return Ia(A,C,D,A.table.core)})},sn.prototype.count=function(C){var A=this;return this._read(function(D){var I=A._ctx,B=I.table.core;if(Yo(I,!0))return B.count({trans:D,query:{index:Ys(I,B.schema),range:I.range}}).then(function(ee){return Math.min(ee,I.limit)});var q=0;return Ia(I,function(){return++q,!1},D,B).then(function(){return q})}).then(C)},sn.prototype.sortBy=function(C,A){var D=C.split(".").reverse(),I=D[0],B=D.length-1;function q(pe,ge){return ge?q(pe[D[ge]],ge-1):pe[I]}var ee=this._ctx.dir==="next"?1:-1;function se(pe,ge){return Et(q(pe,B),q(ge,B))*ee}return this.toArray(function(pe){return pe.sort(se)}).then(A)},sn.prototype.toArray=function(C){var A=this;return this._read(function(D){var I=A._ctx;if(I.dir==="next"&&Yo(I,!0)&&0<I.limit){var B=I.valueMapper,q=Ys(I,I.table.core.schema);return I.table.core.query({trans:D,limit:I.limit,values:!0,query:{index:q,range:I.range}}).then(function(se){return se=se.result,B?se.map(B):se})}var ee=[];return Ia(I,function(se){return ee.push(se)},D,I.table.core).then(function(){return ee})},C)},sn.prototype.offset=function(C){var A=this._ctx;return C<=0||(A.offset+=C,Yo(A)?yf(A,function(){var D=C;return function(I,B){return D===0||(D===1?--D:B(function(){I.advance(D),D=0}),!1)}}):yf(A,function(){var D=C;return function(){return--D<0}})),this},sn.prototype.limit=function(C){return this._ctx.limit=Math.min(this._ctx.limit,C),yf(this._ctx,function(){var A=C;return function(D,I,B){return--A<=0&&I(B),0<=A}},!0),this},sn.prototype.until=function(C,A){return bp(this._ctx,function(D,I,B){return!C(D.value)||(I(B),A)}),this},sn.prototype.first=function(C){return this.limit(1).toArray(function(A){return A[0]}).then(C)},sn.prototype.last=function(C){return this.reverse().first(C)},sn.prototype.filter=function(C){var A;return bp(this._ctx,function(D){return C(D.value)}),(A=this._ctx).isMatch=Ot(A.isMatch,C),this},sn.prototype.and=function(C){return this.filter(C)},sn.prototype.or=function(C){return new this.db.WhereClause(this._ctx.table,C,this)},sn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},sn.prototype.desc=function(){return this.reverse()},sn.prototype.eachKey=function(C){var A=this._ctx;return A.keysOnly=!A.isMatch,this.each(function(D,I){C(I.key,I)})},sn.prototype.eachUniqueKey=function(C){return this._ctx.unique="unique",this.eachKey(C)},sn.prototype.eachPrimaryKey=function(C){var A=this._ctx;return A.keysOnly=!A.isMatch,this.each(function(D,I){C(I.primaryKey,I)})},sn.prototype.keys=function(C){var A=this._ctx;A.keysOnly=!A.isMatch;var D=[];return this.each(function(I,B){D.push(B.key)}).then(function(){return D}).then(C)},sn.prototype.primaryKeys=function(C){var A=this._ctx;if(A.dir==="next"&&Yo(A,!0)&&0<A.limit)return this._read(function(I){var B=Ys(A,A.table.core.schema);return A.table.core.query({trans:I,values:!1,limit:A.limit,query:{index:B,range:A.range}})}).then(function(I){return I.result}).then(C);A.keysOnly=!A.isMatch;var D=[];return this.each(function(I,B){D.push(B.primaryKey)}).then(function(){return D}).then(C)},sn.prototype.uniqueKeys=function(C){return this._ctx.unique="unique",this.keys(C)},sn.prototype.firstKey=function(C){return this.limit(1).keys(function(A){return A[0]}).then(C)},sn.prototype.lastKey=function(C){return this.reverse().firstKey(C)},sn.prototype.distinct=function(){var C=this._ctx,C=C.index&&C.table.schema.idxByName[C.index];if(!C||!C.multi)return this;var A={};return bp(this._ctx,function(B){var I=B.primaryKey.toString(),B=f(A,I);return A[I]=!0,!B}),this},sn.prototype.modify=function(C){var A=this,D=this._ctx;return this._write(function(I){var B=typeof C=="function"?C:function(T){return $x(T,C)},q=D.table.core,ge=q.schema.primaryKey,ee=ge.outbound,se=ge.extractKey,pe=200,ge=A.db._options.modifyChunkSize;ge&&(pe=typeof ge=="object"?ge[q.name]||ge["*"]||200:ge);function Ne(T,K){var L=K.failures,K=K.numFailures;Ae+=T-K;for(var Y=0,J=o(L);Y<J.length;Y++){var ie=J[Y];ce.push(L[ie])}}var ce=[],Ae=0,ye=[],Se=C===Fx;return A.clone().primaryKeys().then(function(T){function _(K){var Y=Math.min(pe,T.length-K),J=T.slice(K,K+Y);return(Se?Promise.resolve([]):q.getMany({trans:I,keys:J,cache:"immutable"})).then(function(ie){var de=[],xe=[],Te=ee?[]:null,Ie=Se?J:[];if(!Se)for(var Ve=0;Ve<Y;++Ve){var Xe=ie[Ve],mt={value:te(Xe),primKey:T[K+Ve]};B.call(mt,mt.value,mt)!==!1&&(mt.value==null?Ie.push(T[K+Ve]):ee||Et(se(Xe),se(mt.value))===0?(xe.push(mt.value),ee&&Te.push(T[K+Ve])):(Ie.push(T[K+Ve]),de.push(mt.value)))}return Promise.resolve(0<de.length&&q.mutate({trans:I,type:"add",values:de}).then(function(Ct){for(var jt in Ct.failures)Ie.splice(parseInt(jt),1);Ne(de.length,Ct)})).then(function(){return(0<xe.length||L&&typeof C=="object")&&q.mutate({trans:I,type:"put",keys:Te,values:xe,criteria:L,changeSpec:typeof C!="function"&&C,isAdditionalChunk:0<K}).then(function(Ct){return Ne(xe.length,Ct)})}).then(function(){return(0<Ie.length||L&&Se)&&q.mutate({trans:I,type:"delete",keys:Ie,criteria:L,isAdditionalChunk:0<K}).then(function(Ct){return Jl(D.table,Ie,Ct)}).then(function(Ct){return Ne(Ie.length,Ct)})}).then(function(){return T.length>K+Y&&_(K+pe)})})}var L=Yo(D)&&D.limit===1/0&&(typeof C!="function"||Se)&&{index:D.index,range:D.range};return _(0).then(function(){if(0<ce.length)throw new we("Error modifying one or more objects",ce,Ae,ye);return T.length})})})},sn.prototype.delete=function(){var C=this._ctx,A=C.range;return!Yo(C)||C.table.schema.yProps||!C.isPrimKey&&A.type!==3?this.modify(Fx):this._write(function(D){var I=C.table.core.schema.primaryKey,B=A;return C.table.core.count({trans:D,query:{index:I,range:B}}).then(function(q){return C.table.core.mutate({trans:D,type:"deleteRange",range:B}).then(function(pe){var se=pe.failures,pe=pe.numFailures;if(pe)throw new we("Could not delete some values",Object.keys(se).map(function(ge){return se[ge]}),q-pe);return q-pe})})})},sn);function sn(){}var Fx=function(C,A){return A.value=null};function yN(C,A){return C<A?-1:C===A?0:1}function xN(C,A){return A<C?-1:C===A?0:1}function Oa(C,A,D){return C=C instanceof Qo?new C.Collection(C):C,C._ctx.error=new(D||TypeError)(A),C}function ec(C){return new C.Collection(C,function(){return Bx("")}).limit(0)}function bf(C,A,D,I){var B,q,ee,se,pe,ge,Ne,ce=D.length;if(!D.every(function(Se){return typeof Se=="string"}))return Oa(C,Ci);function Ae(Se){B=Se==="next"?function(_){return _.toUpperCase()}:function(_){return _.toLowerCase()},q=Se==="next"?function(_){return _.toLowerCase()}:function(_){return _.toUpperCase()},ee=Se==="next"?yN:xN;var T=D.map(function(_){return{lower:q(_),upper:B(_)}}).sort(function(_,L){return ee(_.lower,L.lower)});se=T.map(function(_){return _.upper}),pe=T.map(function(_){return _.lower}),Ne=(ge=Se)==="next"?"":I}Ae("next"),C=new C.Collection(C,function(){return io(se[0],pe[ce-1]+I)}),C._ondirectionchange=function(Se){Ae(Se)};var ye=0;return C._addAlgorithm(function(Se,T,_){var L=Se.key;if(typeof L!="string")return!1;var K=q(L);if(A(K,pe,ye))return!0;for(var Y=null,J=ye;J<ce;++J){var ie=function(de,xe,Te,Ie,Ve,Xe){for(var mt=Math.min(de.length,Ie.length),Ct=-1,jt=0;jt<mt;++jt){var Qt=xe[jt];if(Qt!==Ie[jt])return Ve(de[jt],Te[jt])<0?de.substr(0,jt)+Te[jt]+Te.substr(jt+1):Ve(de[jt],Ie[jt])<0?de.substr(0,jt)+Ie[jt]+Te.substr(jt+1):0<=Ct?de.substr(0,Ct)+xe[Ct]+Te.substr(Ct+1):null;Ve(de[jt],Qt)<0&&(Ct=jt)}return mt<Ie.length&&Xe==="next"?de+Te.substr(de.length):mt<de.length&&Xe==="prev"?de.substr(0,Te.length):Ct<0?null:de.substr(0,Ct)+Ie[Ct]+Te.substr(Ct+1)}(L,K,se[J],pe[J],ee,ge);ie===null&&Y===null?ye=J+1:(Y===null||0<ee(Y,ie))&&(Y=ie)}return T(Y!==null?function(){Se.continue(Y+Ne)}:_),!1}),C}function io(C,A,D,I){return{type:2,lower:C,upper:A,lowerOpen:D,upperOpen:I}}function Bx(C){return{type:1,lower:C,upper:C}}var Qo=(Object.defineProperty(xr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),xr.prototype.between=function(C,A,D,I){D=D!==!1,I=I===!0;try{return 0<this._cmp(C,A)||this._cmp(C,A)===0&&(D||I)&&(!D||!I)?ec(this):new this.Collection(this,function(){return io(C,A,!D,!I)})}catch{return Oa(this,cr)}},xr.prototype.equals=function(C){return C==null?Oa(this,cr):new this.Collection(this,function(){return Bx(C)})},xr.prototype.above=function(C){return C==null?Oa(this,cr):new this.Collection(this,function(){return io(C,void 0,!0)})},xr.prototype.aboveOrEqual=function(C){return C==null?Oa(this,cr):new this.Collection(this,function(){return io(C,void 0,!1)})},xr.prototype.below=function(C){return C==null?Oa(this,cr):new this.Collection(this,function(){return io(void 0,C,!1,!0)})},xr.prototype.belowOrEqual=function(C){return C==null?Oa(this,cr):new this.Collection(this,function(){return io(void 0,C)})},xr.prototype.startsWith=function(C){return typeof C!="string"?Oa(this,Ci):this.between(C,C+Rr,!0,!0)},xr.prototype.startsWithIgnoreCase=function(C){return C===""?this.startsWith(C):bf(this,function(A,D){return A.indexOf(D[0])===0},[C],Rr)},xr.prototype.equalsIgnoreCase=function(C){return bf(this,function(A,D){return A===D[0]},[C],"")},xr.prototype.anyOfIgnoreCase=function(){var C=W.apply(F,arguments);return C.length===0?ec(this):bf(this,function(A,D){return D.indexOf(A)!==-1},C,"")},xr.prototype.startsWithAnyOfIgnoreCase=function(){var C=W.apply(F,arguments);return C.length===0?ec(this):bf(this,function(A,D){return D.some(function(I){return A.indexOf(I)===0})},C,Rr)},xr.prototype.anyOf=function(){var C=this,A=W.apply(F,arguments),D=this._cmp;try{A.sort(D)}catch{return Oa(this,cr)}if(A.length===0)return ec(this);var I=new this.Collection(this,function(){return io(A[0],A[A.length-1])});I._ondirectionchange=function(q){D=q==="next"?C._ascending:C._descending,A.sort(D)};var B=0;return I._addAlgorithm(function(q,ee,se){for(var pe=q.key;0<D(pe,A[B]);)if(++B===A.length)return ee(se),!1;return D(pe,A[B])===0||(ee(function(){q.continue(A[B])}),!1)}),I},xr.prototype.notEqual=function(C){return this.inAnyRange([[-1/0,C],[C,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},xr.prototype.noneOf=function(){var C=W.apply(F,arguments);if(C.length===0)return new this.Collection(this);try{C.sort(this._ascending)}catch{return Oa(this,cr)}var A=C.reduce(function(D,I){return D?D.concat([[D[D.length-1][1],I]]):[[-1/0,I]]},null);return A.push([C[C.length-1],this.db._maxKey]),this.inAnyRange(A,{includeLowers:!1,includeUppers:!1})},xr.prototype.inAnyRange=function(L,A){var D=this,I=this._cmp,B=this._ascending,q=this._descending,ee=this._min,se=this._max;if(L.length===0)return ec(this);if(!L.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&B(K[0],K[1])<=0}))return Oa(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ne.InvalidArgument);var pe=!A||A.includeLowers!==!1,ge=A&&A.includeUppers===!0,Ne,ce=B;function Ae(K,Y){return ce(K[0],Y[0])}try{(Ne=L.reduce(function(K,Y){for(var J=0,ie=K.length;J<ie;++J){var de=K[J];if(I(Y[0],de[1])<0&&0<I(Y[1],de[0])){de[0]=ee(de[0],Y[0]),de[1]=se(de[1],Y[1]);break}}return J===ie&&K.push(Y),K},[])).sort(Ae)}catch{return Oa(this,cr)}var ye=0,Se=ge?function(K){return 0<B(K,Ne[ye][1])}:function(K){return 0<=B(K,Ne[ye][1])},T=pe?function(K){return 0<q(K,Ne[ye][0])}:function(K){return 0<=q(K,Ne[ye][0])},_=Se,L=new this.Collection(this,function(){return io(Ne[0][0],Ne[Ne.length-1][1],!pe,!ge)});return L._ondirectionchange=function(K){ce=K==="next"?(_=Se,B):(_=T,q),Ne.sort(Ae)},L._addAlgorithm(function(K,Y,J){for(var ie,de=K.key;_(de);)if(++ye===Ne.length)return Y(J),!1;return!Se(ie=de)&&!T(ie)||(D._cmp(de,Ne[ye][1])===0||D._cmp(de,Ne[ye][0])===0||Y(function(){ce===B?K.continue(Ne[ye][0]):K.continue(Ne[ye][1])}),!1)}),L},xr.prototype.startsWithAnyOf=function(){var C=W.apply(F,arguments);return C.every(function(A){return typeof A=="string"})?C.length===0?ec(this):this.inAnyRange(C.map(function(A){return[A,A+Rr]})):Oa(this,"startsWithAnyOf() only works with strings")},xr);function xr(){}function Ns(C){return he(function(A){return tc(A),C(A.target.error),!1})}function tc(C){C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault()}var nc="storagemutated",Sp="x-storagemutated-1",oo=Ho(null,nc),Vx=(Qs.prototype._lock=function(){return S(!Be.global),++this._reculock,this._reculock!==1||Be.global||(Be.lockOwnerFor=this),this},Qs.prototype._unlock=function(){if(S(!Be.global),--this._reculock==0)for(Be.global||(Be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var C=this._blockedFuncs.shift();try{Wt(C[1],C[0])}catch{}}return this},Qs.prototype._locked=function(){return this._reculock&&Be.lockOwnerFor!==this},Qs.prototype.create=function(C){var A=this;if(!this.mode)return this;var D=this.db.idbdb,I=this.db._state.dbOpenError;if(S(!this.idbtrans),!C&&!D)switch(I&&I.name){case"DatabaseClosedError":throw new ne.DatabaseClosed(I);case"MissingAPIError":throw new ne.MissingAPI(I.message,I);default:throw new ne.OpenFailed(I)}if(!this.active)throw new ne.TransactionInactive;return S(this._completion._state===null),(C=this.idbtrans=C||(this.db.core||D).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=he(function(B){tc(B),A._reject(C.error)}),C.onabort=he(function(B){tc(B),A.active&&A._reject(new ne.Abort(C.error)),A.active=!1,A.on("abort").fire(B)}),C.oncomplete=he(function(){A.active=!1,A._resolve(),"mutatedParts"in C&&oo.storagemutated.fire(C.mutatedParts)}),this},Qs.prototype._promise=function(C,A,D){var I=this;if(C==="readwrite"&&this.mode!=="readwrite")return vn(new ne.ReadOnly("Transaction is readonly"));if(!this.active)return vn(new ne.TransactionInactive);if(this._locked())return new ze(function(q,ee){I._blockedFuncs.push([function(){I._promise(C,A,D).then(q,ee)},Be])});if(D)return dt(function(){var q=new ze(function(ee,se){I._lock();var pe=A(ee,se,I);pe&&pe.then&&pe.then(ee,se)});return q.finally(function(){return I._unlock()}),q._lib=!0,q});var B=new ze(function(q,ee){var se=A(q,ee,I);se&&se.then&&se.then(q,ee)});return B._lib=!0,B},Qs.prototype._root=function(){return this.parent?this.parent._root():this},Qs.prototype.waitFor=function(C){var A,D=this._root(),I=ze.resolve(C);D._waitingFor?D._waitingFor=D._waitingFor.then(function(){return I}):(D._waitingFor=I,D._waitingQueue=[],A=D.idbtrans.objectStore(D.storeNames[0]),function q(){for(++D._spinCount;D._waitingQueue.length;)D._waitingQueue.shift()();D._waitingFor&&(A.get(-1/0).onsuccess=q)}());var B=D._waitingFor;return new ze(function(q,ee){I.then(function(se){return D._waitingQueue.push(he(q.bind(null,se)))},function(se){return D._waitingQueue.push(he(ee.bind(null,se)))}).finally(function(){D._waitingFor===B&&(D._waitingFor=null)})})},Qs.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ne.Abort))},Qs.prototype.table=function(C){var A=this._memoizedTables||(this._memoizedTables={});if(f(A,C))return A[C];var D=this.schema[C];if(!D)throw new ne.NotFound("Table "+C+" not part of transaction");return D=new this.db.Table(C,D,this),D.core=this.db.core.table(C),A[C]=D},Qs);function Qs(){}function Cp(C,A,D,I,B,q,ee,se){return{name:C,keyPath:A,unique:D,multi:I,auto:B,compound:q,src:(D&&!ee?"&":"")+(I?"*":"")+(B?"++":"")+zx(A),type:se}}function zx(C){return typeof C=="string"?C:C?"["+[].join.call(C,"+")+"]":""}function jp(C,A,D){return{name:C,primKey:A,indexes:D,mappedClass:null,idxByName:(I=function(B){return[B.name,B]},D.reduce(function(B,q,ee){return ee=I(q,ee),ee&&(B[ee[0]]=ee[1]),B},{}))};var I}var Su=function(C){try{return C.only([[]]),Su=function(){return[[]]},[[]]}catch{return Su=function(){return Rr},Rr}};function Np(C){return C==null?function(){}:typeof C=="string"?(A=C).split(".").length===1?function(D){return D[A]}:function(D){return k(D,A)}:function(D){return k(D,C)};var A}function Ux(C){return[].slice.call(C)}var bN=0;function Cu(C){return C==null?":id":typeof C=="string"?C:"[".concat(C.join("+"),"]")}function wN(C,A,pe){function I(_){if(_.type===3)return null;if(_.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ye=_.lower,Se=_.upper,T=_.lowerOpen,_=_.upperOpen;return ye===void 0?Se===void 0?null:A.upperBound(Se,!!_):Se===void 0?A.lowerBound(ye,!!T):A.bound(ye,Se,!!T,!!_)}function B(Ae){var ye,Se=Ae.name;return{name:Se,schema:Ae,mutate:function(T){var _=T.trans,L=T.type,K=T.keys,Y=T.values,J=T.range;return new Promise(function(ie,de){ie=he(ie);var xe=_.objectStore(Se),Te=xe.keyPath==null,Ie=L==="put"||L==="add";if(!Ie&&L!=="delete"&&L!=="deleteRange")throw new Error("Invalid operation type: "+L);var Ve,Xe=(K||Y||{length:1}).length;if(K&&Y&&K.length!==Y.length)throw new Error("Given keys array must have same length as given values array.");if(Xe===0)return ie({numFailures:0,failures:{},results:[],lastResult:void 0});function mt(Nr){++Qt,tc(Nr)}var Ct=[],jt=[],Qt=0;if(L==="deleteRange"){if(J.type===4)return ie({numFailures:Qt,failures:jt,results:[],lastResult:void 0});J.type===3?Ct.push(Ve=xe.clear()):Ct.push(Ve=xe.delete(I(J)))}else{var Te=Ie?Te?[Y,K]:[Y,null]:[K,null],ft=Te[0],Kn=Te[1];if(Ie)for(var ln=0;ln<Xe;++ln)Ct.push(Ve=Kn&&Kn[ln]!==void 0?xe[L](ft[ln],Kn[ln]):xe[L](ft[ln])),Ve.onerror=mt;else for(ln=0;ln<Xe;++ln)Ct.push(Ve=xe[L](ft[ln])),Ve.onerror=mt}function is(Nr){Nr=Nr.target.result,Ct.forEach(function(Xo,Lf){return Xo.error!=null&&(jt[Lf]=Xo.error)}),ie({numFailures:Qt,failures:jt,results:L==="delete"?K:Ct.map(function(Xo){return Xo.result}),lastResult:Nr})}Ve.onerror=function(Nr){mt(Nr),is(Nr)},Ve.onsuccess=is})},getMany:function(T){var _=T.trans,L=T.keys;return new Promise(function(K,Y){K=he(K);for(var J,ie=_.objectStore(Se),de=L.length,xe=new Array(de),Te=0,Ie=0,Ve=function(Ct){Ct=Ct.target,xe[Ct._pos]=Ct.result,++Ie===Te&&K(xe)},Xe=Ns(Y),mt=0;mt<de;++mt)L[mt]!=null&&((J=ie.get(L[mt]))._pos=mt,J.onsuccess=Ve,J.onerror=Xe,++Te);Te===0&&K(xe)})},get:function(T){var _=T.trans,L=T.key;return new Promise(function(K,Y){K=he(K);var J=_.objectStore(Se).get(L);J.onsuccess=function(ie){return K(ie.target.result)},J.onerror=Ns(Y)})},query:(ye=ge,function(T){return new Promise(function(_,L){_=he(_);var K,Y,J,Te=T.trans,ie=T.values,de=T.limit,Ve=T.query,xe=de===1/0?void 0:de,Ie=Ve.index,Ve=Ve.range,Te=Te.objectStore(Se),Ie=Ie.isPrimaryKey?Te:Te.index(Ie.name),Ve=I(Ve);if(de===0)return _({result:[]});ye?((xe=ie?Ie.getAll(Ve,xe):Ie.getAllKeys(Ve,xe)).onsuccess=function(Xe){return _({result:Xe.target.result})},xe.onerror=Ns(L)):(K=0,Y=!ie&&"openKeyCursor"in Ie?Ie.openKeyCursor(Ve):Ie.openCursor(Ve),J=[],Y.onsuccess=function(Xe){var mt=Y.result;return mt?(J.push(ie?mt.value:mt.primaryKey),++K===de?_({result:J}):void mt.continue()):_({result:J})},Y.onerror=Ns(L))})}),openCursor:function(T){var _=T.trans,L=T.values,K=T.query,Y=T.reverse,J=T.unique;return new Promise(function(ie,de){ie=he(ie);var Ie=K.index,xe=K.range,Te=_.objectStore(Se),Te=Ie.isPrimaryKey?Te:Te.index(Ie.name),Ie=Y?J?"prevunique":"prev":J?"nextunique":"next",Ve=!L&&"openKeyCursor"in Te?Te.openKeyCursor(I(xe),Ie):Te.openCursor(I(xe),Ie);Ve.onerror=Ns(de),Ve.onsuccess=he(function(Xe){var mt,Ct,jt,Qt,ft=Ve.result;ft?(ft.___id=++bN,ft.done=!1,mt=ft.continue.bind(ft),Ct=(Ct=ft.continuePrimaryKey)&&Ct.bind(ft),jt=ft.advance.bind(ft),Qt=function(){throw new Error("Cursor not stopped")},ft.trans=_,ft.stop=ft.continue=ft.continuePrimaryKey=ft.advance=function(){throw new Error("Cursor not started")},ft.fail=he(de),ft.next=function(){var Kn=this,ln=1;return this.start(function(){return ln--?Kn.continue():Kn.stop()}).then(function(){return Kn})},ft.start=function(Kn){function ln(){if(Ve.result)try{Kn()}catch(Nr){ft.fail(Nr)}else ft.done=!0,ft.start=function(){throw new Error("Cursor behind last entry")},ft.stop()}var is=new Promise(function(Nr,Xo){Nr=he(Nr),Ve.onerror=Ns(Xo),ft.fail=Xo,ft.stop=function(Lf){ft.stop=ft.continue=ft.continuePrimaryKey=ft.advance=Qt,Nr(Lf)}});return Ve.onsuccess=he(function(Nr){Ve.onsuccess=ln,ln()}),ft.continue=mt,ft.continuePrimaryKey=Ct,ft.advance=jt,ln(),is},ie(ft)):ie(null)},de)})},count:function(T){var _=T.query,L=T.trans,K=_.index,Y=_.range;return new Promise(function(J,ie){var de=L.objectStore(Se),xe=K.isPrimaryKey?de:de.index(K.name),de=I(Y),xe=de?xe.count(de):xe.count();xe.onsuccess=he(function(Te){return J(Te.target.result)}),xe.onerror=Ns(ie)})}}}var q,ee,se,Ne=(ee=pe,se=Ux((q=C).objectStoreNames),{schema:{name:q.name,tables:se.map(function(Ae){return ee.objectStore(Ae)}).map(function(Ae){var ye=Ae.keyPath,_=Ae.autoIncrement,Se=l(ye),T={},_={name:Ae.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ye==null,compound:Se,keyPath:ye,autoIncrement:_,unique:!0,extractKey:Np(ye)},indexes:Ux(Ae.indexNames).map(function(L){return Ae.index(L)}).map(function(J){var K=J.name,Y=J.unique,ie=J.multiEntry,J=J.keyPath,ie={name:K,compound:l(J),keyPath:J,unique:Y,multiEntry:ie,extractKey:Np(J)};return T[Cu(J)]=ie}),getIndexByKeyPath:function(L){return T[Cu(L)]}};return T[":id"]=_.primaryKey,ye!=null&&(T[Cu(ye)]=_.primaryKey),_})},hasGetAll:0<se.length&&"getAll"in ee.objectStore(se[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),pe=Ne.schema,ge=Ne.hasGetAll,Ne=pe.tables.map(B),ce={};return Ne.forEach(function(Ae){return ce[Ae.name]=Ae}),{stack:"dbcore",transaction:C.transaction.bind(C),table:function(Ae){if(!ce[Ae])throw new Error("Table '".concat(Ae,"' not found"));return ce[Ae]},MIN_KEY:-1/0,MAX_KEY:Su(A),schema:pe}}function kp(C,A,D,I){var B=D.IDBKeyRange;return D.indexedDB,{dbcore:(I=wN(A,B,I),C.dbcore.reduce(function(q,ee){return ee=ee.create,r(r({},q),ee(q))},I))}}function wf(C,I){var D=I.db,I=kp(C._middlewares,D,C._deps,I);C.core=I.dbcore,C.tables.forEach(function(B){var q=B.name;C.core.schema.tables.some(function(ee){return ee.name===q})&&(B.core=C.core.table(q),C[q]instanceof C.Table&&(C[q].core=B.core))})}function Sf(C,A,D,I){D.forEach(function(B){var q=I[B];A.forEach(function(ee){var se=function pe(ge,Ne){return b(ge,Ne)||(ge=u(ge))&&pe(ge,Ne)}(ee,B);(!se||"value"in se&&se.value===void 0)&&(ee===C.Transaction.prototype||ee instanceof C.Transaction?g(ee,B,{get:function(){return this.table(B)},set:function(pe){m(this,B,{value:pe,writable:!0,configurable:!0,enumerable:!0})}}):ee[B]=new C.Table(B,q))})})}function Ap(C,A){A.forEach(function(D){for(var I in D)D[I]instanceof C.Table&&delete D[I]})}function SN(C,A){return C._cfg.version-A._cfg.version}function CN(C,A,D,I){var B=C._dbSchema;D.objectStoreNames.contains("$meta")&&!B.$meta&&(B.$meta=jp("$meta",Wx("")[0],[]),C._storeNames.push("$meta"));var q=C._createTransaction("readwrite",C._storeNames,B);q.create(D),q._completion.catch(I);var ee=q._reject.bind(q),se=Be.transless||Be;dt(function(){return Be.trans=q,Be.transless=se,A!==0?(wf(C,D),ge=A,((pe=q).storeNames.includes("$meta")?pe.table("$meta").get("version").then(function(Ne){return Ne??ge}):ze.resolve(ge)).then(function(Ne){return Ae=Ne,ye=q,Se=D,T=[],Ne=(ce=C)._versions,_=ce._dbSchema=jf(0,ce.idbdb,Se),(Ne=Ne.filter(function(L){return L._cfg.version>=Ae})).length!==0?(Ne.forEach(function(L){T.push(function(){var K=_,Y=L._cfg.dbschema;Nf(ce,K,Se),Nf(ce,Y,Se),_=ce._dbSchema=Y;var J=Pp(K,Y);J.add.forEach(function(Ie){Ep(Se,Ie[0],Ie[1].primKey,Ie[1].indexes)}),J.change.forEach(function(Ie){if(Ie.recreate)throw new ne.Upgrade("Not yet support for changing primary key");var Ve=Se.objectStore(Ie.name);Ie.add.forEach(function(Xe){return Cf(Ve,Xe)}),Ie.change.forEach(function(Xe){Ve.deleteIndex(Xe.name),Cf(Ve,Xe)}),Ie.del.forEach(function(Xe){return Ve.deleteIndex(Xe)})});var ie=L._cfg.contentUpgrade;if(ie&&L._cfg.version>Ae){wf(ce,Se),ye._memoizedTables={};var de=P(Y);J.del.forEach(function(Ie){de[Ie]=K[Ie]}),Ap(ce,[ce.Transaction.prototype]),Sf(ce,[ce.Transaction.prototype],o(de),de),ye.schema=de;var xe,Te=Z(ie);return Te&&ut(),J=ze.follow(function(){var Ie;(xe=ie(ye))&&Te&&(Ie=ht.bind(null,null),xe.then(Ie,Ie))}),xe&&typeof xe.then=="function"?ze.resolve(xe):J.then(function(){return xe})}}),T.push(function(K){var Y,J,ie=L._cfg.dbschema;Y=ie,J=K,[].slice.call(J.db.objectStoreNames).forEach(function(de){return Y[de]==null&&J.db.deleteObjectStore(de)}),Ap(ce,[ce.Transaction.prototype]),Sf(ce,[ce.Transaction.prototype],ce._storeNames,ce._dbSchema),ye.schema=ce._dbSchema}),T.push(function(K){ce.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ce.idbdb.version/10)===L._cfg.version?(ce.idbdb.deleteObjectStore("$meta"),delete ce._dbSchema.$meta,ce._storeNames=ce._storeNames.filter(function(Y){return Y!=="$meta"})):K.objectStore("$meta").put(L._cfg.version,"version"))})}),function L(){return T.length?ze.resolve(T.shift()(ye.idbtrans)).then(L):ze.resolve()}().then(function(){Gx(_,Se)})):ze.resolve();var ce,Ae,ye,Se,T,_}).catch(ee)):(o(B).forEach(function(Ne){Ep(D,Ne,B[Ne].primKey,B[Ne].indexes)}),wf(C,D),void ze.follow(function(){return C.on.populate.fire(q)}).catch(ee));var pe,ge})}function Kx(C,A){Gx(C._dbSchema,A),A.db.version%10!=0||A.objectStoreNames.contains("$meta")||A.db.createObjectStore("$meta").add(Math.ceil(A.db.version/10-1),"version");var D=jf(0,C.idbdb,A);Nf(C,C._dbSchema,A);for(var I=0,B=Pp(D,C._dbSchema).change;I<B.length;I++){var q=function(ee){if(ee.change.length||ee.recreate)return console.warn("Unable to patch indexes of table ".concat(ee.name," because it has changes on the type of index or primary key.")),{value:void 0};var se=A.objectStore(ee.name);ee.add.forEach(function(pe){oe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ee.name,".").concat(pe.src)),Cf(se,pe)})}(B[I]);if(typeof q=="object")return q.value}}function Pp(C,A){var D,I={del:[],add:[],change:[]};for(D in C)A[D]||I.del.push(D);for(D in A){var B=C[D],q=A[D];if(B){var ee={name:D,def:q,recreate:!1,del:[],add:[],change:[]};if(""+(B.primKey.keyPath||"")!=""+(q.primKey.keyPath||"")||B.primKey.auto!==q.primKey.auto)ee.recreate=!0,I.change.push(ee);else{var se=B.idxByName,pe=q.idxByName,ge=void 0;for(ge in se)pe[ge]||ee.del.push(ge);for(ge in pe){var Ne=se[ge],ce=pe[ge];Ne?Ne.src!==ce.src&&ee.change.push(ce):ee.add.push(ce)}(0<ee.del.length||0<ee.add.length||0<ee.change.length)&&I.change.push(ee)}}else I.add.push([D,q])}return I}function Ep(C,A,D,I){var B=C.db.createObjectStore(A,D.keyPath?{keyPath:D.keyPath,autoIncrement:D.auto}:{autoIncrement:D.auto});return I.forEach(function(q){return Cf(B,q)}),B}function Gx(C,A){o(C).forEach(function(D){A.db.objectStoreNames.contains(D)||(oe&&console.debug("Dexie: Creating missing table",D),Ep(A,D,C[D].primKey,C[D].indexes))})}function Cf(C,A){C.createIndex(A.name,A.keyPath,{unique:A.unique,multiEntry:A.multi})}function jf(C,A,D){var I={};return x(A.objectStoreNames,0).forEach(function(B){for(var q=D.objectStore(B),ee=Cp(zx(ge=q.keyPath),ge||"",!0,!1,!!q.autoIncrement,ge&&typeof ge!="string",!0),se=[],pe=0;pe<q.indexNames.length;++pe){var Ne=q.index(q.indexNames[pe]),ge=Ne.keyPath,Ne=Cp(Ne.name,ge,!!Ne.unique,!!Ne.multiEntry,!1,ge&&typeof ge!="string",!1);se.push(Ne)}I[B]=jp(B,ee,se)}),I}function Nf(C,A,D){for(var I=D.db.objectStoreNames,B=0;B<I.length;++B){var q=I[B],ee=D.objectStore(q);C._hasGetAll="getAll"in ee;for(var se=0;se<ee.indexNames.length;++se){var pe=ee.indexNames[se],ge=ee.index(pe).keyPath,Ne=typeof ge=="string"?ge:"["+x(ge).join("+")+"]";!A[q]||(ge=A[q].idxByName[Ne])&&(ge.name=pe,delete A[q].idxByName[Ne],A[q].idxByName[pe]=ge)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(C._hasGetAll=!1)}function Wx(C){return C.split(",").map(function(A,D){var q=A.split(":"),I=(B=q[1])===null||B===void 0?void 0:B.trim(),B=(A=q[0].trim()).replace(/([&*]|\+\+)/g,""),q=/^\[/.test(B)?B.match(/^\[(.*)\]$/)[1].split("+"):B;return Cp(B,q||null,/\&/.test(A),/\*/.test(A),/\+\+/.test(A),l(q),D===0,I)})}var jN=(rc.prototype._createTableSchema=jp,rc.prototype._parseIndexSyntax=Wx,rc.prototype._parseStoresSpec=function(C,A){var D=this;o(C).forEach(function(I){if(C[I]!==null){var B=D._parseIndexSyntax(C[I]),q=B.shift();if(!q)throw new ne.Schema("Invalid schema for table "+I+": "+C[I]);if(q.unique=!0,q.multi)throw new ne.Schema("Primary key cannot be multiEntry*");B.forEach(function(ee){if(ee.auto)throw new ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!ee.keyPath)throw new ne.Schema("Index must have a name and cannot be an empty string")}),B=D._createTableSchema(I,q,B),A[I]=B}})},rc.prototype.stores=function(D){var A=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,D):D;var D=A._versions,I={},B={};return D.forEach(function(q){c(I,q._cfg.storesSource),B=q._cfg.dbschema={},q._parseStoresSpec(I,B)}),A._dbSchema=B,Ap(A,[A._allTables,A,A.Transaction.prototype]),Sf(A,[A._allTables,A,A.Transaction.prototype,this._cfg.tables],o(B),B),A._storeNames=o(B),this},rc.prototype.upgrade=function(C){return this._cfg.contentUpgrade=Ce(this._cfg.contentUpgrade||re,C),this},rc);function rc(){}function Tp(C,A){var D=C._dbNamesDB;return D||(D=C._dbNamesDB=new ki(rs,{addons:[],indexedDB:C,IDBKeyRange:A})).version(1).stores({dbnames:"name"}),D.table("dbnames")}function ju(C){return C&&typeof C.databases=="function"}function _p(C){return dt(function(){return Be.letThrough=!0,C()})}function Zo(C){return!("from"in C)}var Jr=function(C,A){if(!this){var D=new Jr;return C&&"d"in C&&c(D,C),D}c(this,arguments.length?{d:1,from:C,to:1<arguments.length?A:C}:{d:0})};function Nu(C,A,D){var I=Et(A,D);if(!isNaN(I)){if(0<I)throw RangeError();if(Zo(C))return c(C,{from:A,to:D,d:1});var B=C.l,I=C.r;if(Et(D,C.from)<0)return B?Nu(B,A,D):C.l={from:A,to:D,d:1,l:null,r:null},Hx(C);if(0<Et(A,C.to))return I?Nu(I,A,D):C.r={from:A,to:D,d:1,l:null,r:null},Hx(C);Et(A,C.from)<0&&(C.from=A,C.l=null,C.d=I?I.d+1:1),0<Et(D,C.to)&&(C.to=D,C.r=null,C.d=C.l?C.l.d+1:1),D=!C.r,B&&!C.l&&ku(C,B),I&&D&&ku(C,I)}}function ku(C,A){Zo(A)||function D(I,pe){var q=pe.from,ee=pe.to,se=pe.l,pe=pe.r;Nu(I,q,ee),se&&D(I,se),pe&&D(I,pe)}(C,A)}function qx(C,A){var D=kf(A),I=D.next();if(I.done)return!1;for(var B=I.value,q=kf(C),ee=q.next(B.from),se=ee.value;!I.done&&!ee.done;){if(Et(se.from,B.to)<=0&&0<=Et(se.to,B.from))return!0;Et(B.from,se.from)<0?B=(I=D.next(se.from)).value:se=(ee=q.next(B.from)).value}return!1}function kf(C){var A=Zo(C)?null:{s:0,n:C};return{next:function(D){for(var I=0<arguments.length;A;)switch(A.s){case 0:if(A.s=1,I)for(;A.n.l&&Et(D,A.n.from)<0;)A={up:A,n:A.n.l,s:1};else for(;A.n.l;)A={up:A,n:A.n.l,s:1};case 1:if(A.s=2,!I||Et(D,A.n.to)<=0)return{value:A.n,done:!1};case 2:if(A.n.r){A.s=3,A={up:A,n:A.n.r,s:0};continue}case 3:A=A.up}return{done:!0}}}}function Hx(C){var A,D,I=(((A=C.r)===null||A===void 0?void 0:A.d)||0)-(((D=C.l)===null||D===void 0?void 0:D.d)||0),B=1<I?"r":I<-1?"l":"";B&&(A=B=="r"?"l":"r",D=r({},C),I=C[B],C.from=I.from,C.to=I.to,C[B]=I[B],D[B]=I[A],(C[A]=D).d=Yx(D)),C.d=Yx(C)}function Yx(D){var A=D.r,D=D.l;return(A?D?Math.max(A.d,D.d):A.d:D?D.d:0)+1}function Af(C,A){return o(A).forEach(function(D){C[D]?ku(C[D],A[D]):C[D]=function I(B){var q,ee,se={};for(q in B)f(B,q)&&(ee=B[q],se[q]=!ee||typeof ee!="object"||O.has(ee.constructor)?ee:I(ee));return se}(A[D])}),C}function Pf(C,A){return C.all||A.all||Object.keys(C).some(function(D){return A[D]&&qx(A[D],C[D])})}h(Jr.prototype,((ss={add:function(C){return ku(this,C),this},addKey:function(C){return Nu(this,C,C),this},addKeys:function(C){var A=this;return C.forEach(function(D){return Nu(A,D,D)}),this},hasKey:function(C){var A=kf(this).next(C).value;return A&&Et(A.from,C)<=0&&0<=Et(A.to,C)}})[$]=function(){return kf(this)},ss));var Na={},Au={},Ef=!1;function Kt(C){Af(Au,C),Ef||(Ef=!0,setTimeout(function(){Ef=!1,Tf(Au,!(Au={}))},0))}function Tf(C,A){A===void 0&&(A=!1);var D=new Set;if(C.all)for(var I=0,B=Object.values(Na);I<B.length;I++)Dp(ee=B[I],C,D,A);else for(var q in C){var ee,se=/^idb\:\/\/(.*)\/(.*)\//.exec(q);se&&(q=se[1],se=se[2],(ee=Na["idb://".concat(q,"/").concat(se)])&&Dp(ee,C,D,A))}D.forEach(function(pe){return pe()})}function Dp(C,A,D,I){for(var B=[],q=0,ee=Object.entries(C.queries.query);q<ee.length;q++){for(var se=ee[q],pe=se[0],ge=[],Ne=0,ce=se[1];Ne<ce.length;Ne++){var Ae=ce[Ne];Pf(A,Ae.obsSet)?Ae.subscribers.forEach(function(_){return D.add(_)}):I&&ge.push(Ae)}I&&B.push([pe,ge])}if(I)for(var ye=0,Se=B;ye<Se.length;ye++){var T=Se[ye],pe=T[0],ge=T[1];C.queries.query[pe]=ge}}function Qx(C){var A=C._state,D=C._deps.indexedDB;if(A.isBeingOpened||C.idbdb)return A.dbReadyPromise.then(function(){return A.dbOpenError?vn(A.dbOpenError):C});A.isBeingOpened=!0,A.dbOpenError=null,A.openComplete=!1;var I=A.openCanceller,B=Math.round(10*C.verno),q=!1;function ee(){if(A.openCanceller!==I)throw new ne.DatabaseClosed("db.open() was cancelled")}function se(){return new ze(function(Ae,ye){if(ee(),!D)throw new ne.MissingAPI;var Se=C.name,T=A.autoSchema||!B?D.open(Se):D.open(Se,B);if(!T)throw new ne.MissingAPI;T.onerror=Ns(ye),T.onblocked=he(C._fireOnBlocked),T.onupgradeneeded=he(function(_){var L;Ne=T.transaction,A.autoSchema&&!C._options.allowEmptyDB?(T.onerror=tc,Ne.abort(),T.result.close(),(L=D.deleteDatabase(Se)).onsuccess=L.onerror=he(function(){ye(new ne.NoSuchDatabase("Database ".concat(Se," doesnt exist")))})):(Ne.onerror=Ns(ye),_=_.oldVersion>Math.pow(2,62)?0:_.oldVersion,ce=_<1,C.idbdb=T.result,q&&Kx(C,Ne),CN(C,_/10,Ne,ye))},ye),T.onsuccess=he(function(){Ne=null;var _,L,K,Y,J,ie=C.idbdb=T.result,de=x(ie.objectStoreNames);if(0<de.length)try{var xe=ie.transaction((Y=de).length===1?Y[0]:Y,"readonly");if(A.autoSchema)L=ie,K=xe,(_=C).verno=L.version/10,K=_._dbSchema=jf(0,L,K),_._storeNames=x(L.objectStoreNames,0),Sf(_,[_._allTables],o(K),K);else if(Nf(C,C._dbSchema,xe),((J=Pp(jf(0,(J=C).idbdb,xe),J._dbSchema)).add.length||J.change.some(function(Te){return Te.add.length||Te.change.length}))&&!q)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ie.close(),B=ie.version+1,q=!0,Ae(se());wf(C,xe)}catch{}ns.push(C),ie.onversionchange=he(function(Te){A.vcFired=!0,C.on("versionchange").fire(Te)}),ie.onclose=he(function(){C.close({disableAutoOpen:!1})}),ce&&(J=C._deps,xe=Se,ie=J.indexedDB,J=J.IDBKeyRange,ju(ie)||xe===rs||Tp(ie,J).put({name:xe}).catch(re)),Ae()},ye)}).catch(function(Ae){switch(Ae==null?void 0:Ae.name){case"UnknownError":if(0<A.PR1398_maxLoop)return A.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),se();break;case"VersionError":if(0<B)return B=0,se()}return ze.reject(Ae)})}var pe,ge=A.dbReadyResolve,Ne=null,ce=!1;return ze.race([I,(typeof navigator>"u"?ze.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ae){function ye(){return indexedDB.databases().finally(Ae)}pe=setInterval(ye,100),ye()}).finally(function(){return clearInterval(pe)}):Promise.resolve()).then(se)]).then(function(){return ee(),A.onReadyBeingFired=[],ze.resolve(_p(function(){return C.on.ready.fire(C.vip)})).then(function Ae(){if(0<A.onReadyBeingFired.length){var ye=A.onReadyBeingFired.reduce(Ce,re);return A.onReadyBeingFired=[],ze.resolve(_p(function(){return ye(C.vip)})).then(Ae)}})}).finally(function(){A.openCanceller===I&&(A.onReadyBeingFired=null,A.isBeingOpened=!1)}).catch(function(Ae){A.dbOpenError=Ae;try{Ne&&Ne.abort()}catch{}return I===A.openCanceller&&C._close(),vn(Ae)}).finally(function(){A.openComplete=!0,ge()}).then(function(){var Ae;return ce&&(Ae={},C.tables.forEach(function(ye){ye.schema.indexes.forEach(function(Se){Se.name&&(Ae["idb://".concat(C.name,"/").concat(ye.name,"/").concat(Se.name)]=new Jr(-1/0,[[[]]]))}),Ae["idb://".concat(C.name,"/").concat(ye.name,"/")]=Ae["idb://".concat(C.name,"/").concat(ye.name,"/:dels")]=new Jr(-1/0,[[[]]])}),oo(nc).fire(Ae),Tf(Ae,!0)),C})}function _f(C){function A(q){return C.next(q)}var D=B(A),I=B(function(q){return C.throw(q)});function B(q){return function(pe){var se=q(pe),pe=se.value;return se.done?pe:pe&&typeof pe.then=="function"?pe.then(D,I):l(pe)?Promise.all(pe).then(D,I):D(pe)}}return B(A)()}function Pu(C,A,D){for(var I=l(C)?C.slice():[C],B=0;B<D;++B)I.push(A);return I}var Zx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(C){return r(r({},C),{table:function(A){var D=C.table(A),I=D.schema,B={},q=[];function ee(ce,Ae,ye){var Se=Cu(ce),T=B[Se]=B[Se]||[],_=ce==null?0:typeof ce=="string"?1:ce.length,L=0<Ae,L=r(r({},ye),{name:L?"".concat(Se,"(virtual-from:").concat(ye.name,")"):ye.name,lowLevelIndex:ye,isVirtual:L,keyTail:Ae,keyLength:_,extractKey:Np(ce),unique:!L&&ye.unique});return T.push(L),L.isPrimaryKey||q.push(L),1<_&&ee(_===2?ce[0]:ce.slice(0,_-1),Ae+1,ye),T.sort(function(K,Y){return K.keyTail-Y.keyTail}),L}A=ee(I.primaryKey.keyPath,0,I.primaryKey),B[":id"]=[A];for(var se=0,pe=I.indexes;se<pe.length;se++){var ge=pe[se];ee(ge.keyPath,0,ge)}function Ne(ce){var Ae,ye=ce.query.index;return ye.isVirtual?r(r({},ce),{query:{index:ye.lowLevelIndex,range:(Ae=ce.query.range,ye=ye.keyTail,{type:Ae.type===1?2:Ae.type,lower:Pu(Ae.lower,Ae.lowerOpen?C.MAX_KEY:C.MIN_KEY,ye),lowerOpen:!0,upper:Pu(Ae.upper,Ae.upperOpen?C.MIN_KEY:C.MAX_KEY,ye),upperOpen:!0})}}):ce}return r(r({},D),{schema:r(r({},I),{primaryKey:A,indexes:q,getIndexByKeyPath:function(ce){return(ce=B[Cu(ce)])&&ce[0]}}),count:function(ce){return D.count(Ne(ce))},query:function(ce){return D.query(Ne(ce))},openCursor:function(ce){var Ae=ce.query.index,ye=Ae.keyTail,Se=Ae.isVirtual,T=Ae.keyLength;return Se?D.openCursor(Ne(ce)).then(function(L){return L&&_(L)}):D.openCursor(ce);function _(L){return Object.create(L,{continue:{value:function(K){K!=null?L.continue(Pu(K,ce.reverse?C.MAX_KEY:C.MIN_KEY,ye)):ce.unique?L.continue(L.key.slice(0,T).concat(ce.reverse?C.MIN_KEY:C.MAX_KEY,ye)):L.continue()}},continuePrimaryKey:{value:function(K,Y){L.continuePrimaryKey(Pu(K,C.MAX_KEY,ye),Y)}},primaryKey:{get:function(){return L.primaryKey}},key:{get:function(){var K=L.key;return T===1?K[0]:K.slice(0,T)}},value:{get:function(){return L.value}}})}}})}})}};function Df(C,A,D,I){return D=D||{},I=I||"",o(C).forEach(function(B){var q,ee,se;f(A,B)?(q=C[B],ee=A[B],typeof q=="object"&&typeof ee=="object"&&q&&ee?(se=z(q))!==z(ee)?D[I+B]=A[B]:se==="Object"?Df(q,ee,D,I+B+"."):q!==ee&&(D[I+B]=A[B]):q!==ee&&(D[I+B]=A[B])):D[I+B]=void 0}),o(A).forEach(function(B){f(C,B)||(D[I+B]=A[B])}),D}function Rf(C,A){return A.type==="delete"?A.keys:A.keys||A.values.map(C.extractKey)}var Mf={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(C){return r(r({},C),{table:function(A){var D=C.table(A),I=D.schema.primaryKey;return r(r({},D),{mutate:function(B){var q=Be.trans,ee=q.table(A).hook,se=ee.deleting,pe=ee.creating,ge=ee.updating;switch(B.type){case"add":if(pe.fire===re)break;return q._promise("readwrite",function(){return Ne(B)},!0);case"put":if(pe.fire===re&&ge.fire===re)break;return q._promise("readwrite",function(){return Ne(B)},!0);case"delete":if(se.fire===re)break;return q._promise("readwrite",function(){return Ne(B)},!0);case"deleteRange":if(se.fire===re)break;return q._promise("readwrite",function(){return function ce(Ae,ye,Se){return D.query({trans:Ae,values:!1,query:{index:I,range:ye},limit:Se}).then(function(T){var _=T.result;return Ne({type:"delete",keys:_,trans:Ae}).then(function(L){return 0<L.numFailures?Promise.reject(L.failures[0]):_.length<Se?{failures:[],numFailures:0,lastResult:void 0}:ce(Ae,r(r({},ye),{lower:_[_.length-1],lowerOpen:!0}),Se)})})}(B.trans,B.range,1e4)},!0)}return D.mutate(B);function Ne(ce){var Ae,ye,Se,T=Be.trans,_=ce.keys||Rf(I,ce);if(!_)throw new Error("Keys missing");return(ce=ce.type==="add"||ce.type==="put"?r(r({},ce),{keys:_}):r({},ce)).type!=="delete"&&(ce.values=a([],ce.values)),ce.keys&&(ce.keys=a([],ce.keys)),Ae=D,Se=_,((ye=ce).type==="add"?Promise.resolve([]):Ae.getMany({trans:ye.trans,keys:Se,cache:"immutable"})).then(function(L){var K=_.map(function(Y,J){var ie,de,xe,Te=L[J],Ie={onerror:null,onsuccess:null};return ce.type==="delete"?se.fire.call(Ie,Y,Te,T):ce.type==="add"||Te===void 0?(ie=pe.fire.call(Ie,Y,ce.values[J],T),Y==null&&ie!=null&&(ce.keys[J]=Y=ie,I.outbound||N(ce.values[J],I.keyPath,Y))):(ie=Df(Te,ce.values[J]),(de=ge.fire.call(Ie,ie,Y,Te,T))&&(xe=ce.values[J],Object.keys(de).forEach(function(Ve){f(xe,Ve)?xe[Ve]=de[Ve]:N(xe,Ve,de[Ve])}))),Ie});return D.mutate(ce).then(function(Y){for(var J=Y.failures,ie=Y.results,de=Y.numFailures,Y=Y.lastResult,xe=0;xe<_.length;++xe){var Te=(ie||_)[xe],Ie=K[xe];Te==null?Ie.onerror&&Ie.onerror(J[xe]):Ie.onsuccess&&Ie.onsuccess(ce.type==="put"&&L[xe]?ce.values[xe]:Te)}return{failures:J,results:ie,numFailures:de,lastResult:Y}}).catch(function(Y){return K.forEach(function(J){return J.onerror&&J.onerror(Y)}),Promise.reject(Y)})})}}})}})}};function Rp(C,A,D){try{if(!A||A.keys.length<C.length)return null;for(var I=[],B=0,q=0;B<A.keys.length&&q<C.length;++B)Et(A.keys[B],C[q])===0&&(I.push(D?te(A.values[B]):A.values[B]),++q);return I.length===C.length?I:null}catch{return null}}var NN={stack:"dbcore",level:-1,create:function(C){return{table:function(A){var D=C.table(A);return r(r({},D),{getMany:function(I){if(!I.cache)return D.getMany(I);var B=Rp(I.keys,I.trans._cache,I.cache==="clone");return B?ze.resolve(B):D.getMany(I).then(function(q){return I.trans._cache={keys:I.keys,values:I.cache==="clone"?te(q):q},q})},mutate:function(I){return I.type!=="add"&&(I.trans._cache=null),D.mutate(I)}})}}}};function Jx(C,A){return C.trans.mode==="readonly"&&!!C.subscr&&!C.trans.explicit&&C.trans.db._options.cache!=="disabled"&&!A.schema.primaryKey.outbound}function Xx(C,A){switch(C){case"query":return A.values&&!A.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var kN={stack:"dbcore",level:0,name:"Observability",create:function(C){var A=C.schema.name,D=new Jr(C.MIN_KEY,C.MAX_KEY);return r(r({},C),{transaction:function(I,B,q){if(Be.subscr&&B!=="readonly")throw new ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Be.querier));return C.transaction(I,B,q)},table:function(I){var B=C.table(I),q=B.schema,ee=q.primaryKey,ce=q.indexes,se=ee.extractKey,pe=ee.outbound,ge=ee.autoIncrement&&ce.filter(function(ye){return ye.compound&&ye.keyPath.includes(ee.keyPath)}),Ne=r(r({},B),{mutate:function(ye){function Se(Ve){return Ve="idb://".concat(A,"/").concat(I,"/").concat(Ve),Y[Ve]||(Y[Ve]=new Jr)}var T,_,L,K=ye.trans,Y=ye.mutatedParts||(ye.mutatedParts={}),J=Se(""),ie=Se(":dels"),de=ye.type,Ie=ye.type==="deleteRange"?[ye.range]:ye.type==="delete"?[ye.keys]:ye.values.length<50?[Rf(ee,ye).filter(function(Ve){return Ve}),ye.values]:[],xe=Ie[0],Te=Ie[1],Ie=ye.trans._cache;return l(xe)?(J.addKeys(xe),(Ie=de==="delete"||xe.length===Te.length?Rp(xe,Ie):null)||ie.addKeys(xe),(Ie||Te)&&(T=Se,_=Ie,L=Te,q.indexes.forEach(function(Ve){var Xe=T(Ve.name||"");function mt(jt){return jt!=null?Ve.extractKey(jt):null}function Ct(jt){return Ve.multiEntry&&l(jt)?jt.forEach(function(Qt){return Xe.addKey(Qt)}):Xe.addKey(jt)}(_||L).forEach(function(jt,Kn){var ft=_&&mt(_[Kn]),Kn=L&&mt(L[Kn]);Et(ft,Kn)!==0&&(ft!=null&&Ct(ft),Kn!=null&&Ct(Kn))})}))):xe?(Te={from:(Te=xe.lower)!==null&&Te!==void 0?Te:C.MIN_KEY,to:(Te=xe.upper)!==null&&Te!==void 0?Te:C.MAX_KEY},ie.add(Te),J.add(Te)):(J.add(D),ie.add(D),q.indexes.forEach(function(Ve){return Se(Ve.name).add(D)})),B.mutate(ye).then(function(Ve){return!xe||ye.type!=="add"&&ye.type!=="put"||(J.addKeys(Ve.results),ge&&ge.forEach(function(Xe){for(var mt=ye.values.map(function(ft){return Xe.extractKey(ft)}),Ct=Xe.keyPath.findIndex(function(ft){return ft===ee.keyPath}),jt=0,Qt=Ve.results.length;jt<Qt;++jt)mt[jt][Ct]=Ve.results[jt];Se(Xe.name).addKeys(mt)})),K.mutatedParts=Af(K.mutatedParts||{},Y),Ve})}}),ce=function(Se){var T=Se.query,Se=T.index,T=T.range;return[Se,new Jr((Se=T.lower)!==null&&Se!==void 0?Se:C.MIN_KEY,(T=T.upper)!==null&&T!==void 0?T:C.MAX_KEY)]},Ae={get:function(ye){return[ee,new Jr(ye.key)]},getMany:function(ye){return[ee,new Jr().addKeys(ye.keys)]},count:ce,query:ce,openCursor:ce};return o(Ae).forEach(function(ye){Ne[ye]=function(Se){var T=Be.subscr,_=!!T,L=Jx(Be,B)&&Xx(ye,Se)?Se.obsSet={}:T;if(_){var K=function(Te){return Te="idb://".concat(A,"/").concat(I,"/").concat(Te),L[Te]||(L[Te]=new Jr)},Y=K(""),J=K(":dels"),T=Ae[ye](Se),_=T[0],T=T[1];if((ye==="query"&&_.isPrimaryKey&&!Se.values?J:K(_.name||"")).add(T),!_.isPrimaryKey){if(ye!=="count"){var ie=ye==="query"&&pe&&Se.values&&B.query(r(r({},Se),{values:!1}));return B[ye].apply(this,arguments).then(function(Te){if(ye==="query"){if(pe&&Se.values)return ie.then(function(mt){return mt=mt.result,Y.addKeys(mt),Te});var Ie=Se.values?Te.result.map(se):Te.result;(Se.values?Y:J).addKeys(Ie)}else if(ye==="openCursor"){var Ve=Te,Xe=Se.values;return Ve&&Object.create(Ve,{key:{get:function(){return J.addKey(Ve.primaryKey),Ve.key}},primaryKey:{get:function(){var mt=Ve.primaryKey;return J.addKey(mt),mt}},value:{get:function(){return Xe&&Y.addKey(Ve.primaryKey),Ve.value}}})}return Te})}J.add(D)}}return B[ye].apply(this,arguments)}}),Ne}})}};function e0(C,A,D){if(D.numFailures===0)return A;if(A.type==="deleteRange")return null;var I=A.keys?A.keys.length:"values"in A&&A.values?A.values.length:1;return D.numFailures===I?null:(A=r({},A),l(A.keys)&&(A.keys=A.keys.filter(function(B,q){return!(q in D.failures)})),"values"in A&&l(A.values)&&(A.values=A.values.filter(function(B,q){return!(q in D.failures)})),A)}function Mp(C,A){return D=C,((I=A).lower===void 0||(I.lowerOpen?0<Et(D,I.lower):0<=Et(D,I.lower)))&&(C=C,(A=A).upper===void 0||(A.upperOpen?Et(C,A.upper)<0:Et(C,A.upper)<=0));var D,I}function t0(C,A,Ae,I,B,q){if(!Ae||Ae.length===0)return C;var ee=A.query.index,se=ee.multiEntry,pe=A.query.range,ge=I.schema.primaryKey.extractKey,Ne=ee.extractKey,ce=(ee.lowLevelIndex||ee).extractKey,Ae=Ae.reduce(function(ye,Se){var T=ye,_=[];if(Se.type==="add"||Se.type==="put")for(var L=new Jr,K=Se.values.length-1;0<=K;--K){var Y,J=Se.values[K],ie=ge(J);L.hasKey(ie)||(Y=Ne(J),(se&&l(Y)?Y.some(function(Ve){return Mp(Ve,pe)}):Mp(Y,pe))&&(L.addKey(ie),_.push(J)))}switch(Se.type){case"add":var de=new Jr().addKeys(A.values?ye.map(function(Xe){return ge(Xe)}):ye),T=ye.concat(A.values?_.filter(function(Xe){return Xe=ge(Xe),!de.hasKey(Xe)&&(de.addKey(Xe),!0)}):_.map(function(Xe){return ge(Xe)}).filter(function(Xe){return!de.hasKey(Xe)&&(de.addKey(Xe),!0)}));break;case"put":var xe=new Jr().addKeys(Se.values.map(function(Xe){return ge(Xe)}));T=ye.filter(function(Xe){return!xe.hasKey(A.values?ge(Xe):Xe)}).concat(A.values?_:_.map(function(Xe){return ge(Xe)}));break;case"delete":var Te=new Jr().addKeys(Se.keys);T=ye.filter(function(Xe){return!Te.hasKey(A.values?ge(Xe):Xe)});break;case"deleteRange":var Ie=Se.range;T=ye.filter(function(Xe){return!Mp(ge(Xe),Ie)})}return T},C);return Ae===C?C:(Ae.sort(function(ye,Se){return Et(ce(ye),ce(Se))||Et(ge(ye),ge(Se))}),A.limit&&A.limit<1/0&&(Ae.length>A.limit?Ae.length=A.limit:C.length===A.limit&&Ae.length<A.limit&&(B.dirty=!0)),q?Object.freeze(Ae):Ae)}function n0(C,A){return Et(C.lower,A.lower)===0&&Et(C.upper,A.upper)===0&&!!C.lowerOpen==!!A.lowerOpen&&!!C.upperOpen==!!A.upperOpen}function AN(C,A){return function(D,I,B,q){if(D===void 0)return I!==void 0?-1:0;if(I===void 0)return 1;if((I=Et(D,I))===0){if(B&&q)return 0;if(B)return 1;if(q)return-1}return I}(C.lower,A.lower,C.lowerOpen,A.lowerOpen)<=0&&0<=function(D,I,B,q){if(D===void 0)return I!==void 0?1:0;if(I===void 0)return-1;if((I=Et(D,I))===0){if(B&&q)return 0;if(B)return-1;if(q)return 1}return I}(C.upper,A.upper,C.upperOpen,A.upperOpen)}function PN(C,A,D,I){C.subscribers.add(D),I.addEventListener("abort",function(){var B,q;C.subscribers.delete(D),C.subscribers.size===0&&(B=C,q=A,setTimeout(function(){B.subscribers.size===0&&M(q,B)},3e3))})}var EN={stack:"dbcore",level:0,name:"Cache",create:function(C){var A=C.schema.name;return r(r({},C),{transaction:function(D,I,B){var q,ee,se=C.transaction(D,I,B);return I==="readwrite"&&(ee=(q=new AbortController).signal,B=function(pe){return function(){if(q.abort(),I==="readwrite"){for(var ge=new Set,Ne=0,ce=D;Ne<ce.length;Ne++){var Ae=ce[Ne],ye=Na["idb://".concat(A,"/").concat(Ae)];if(ye){var Se=C.table(Ae),T=ye.optimisticOps.filter(function(Xe){return Xe.trans===se});if(se._explicit&&pe&&se.mutatedParts)for(var _=0,L=Object.values(ye.queries.query);_<L.length;_++)for(var K=0,Y=(de=L[_]).slice();K<Y.length;K++)Pf((xe=Y[K]).obsSet,se.mutatedParts)&&(M(de,xe),xe.subscribers.forEach(function(Xe){return ge.add(Xe)}));else if(0<T.length){ye.optimisticOps=ye.optimisticOps.filter(function(Xe){return Xe.trans!==se});for(var J=0,ie=Object.values(ye.queries.query);J<ie.length;J++)for(var de,xe,Te,Ie=0,Ve=(de=ie[J]).slice();Ie<Ve.length;Ie++)(xe=Ve[Ie]).res!=null&&se.mutatedParts&&(pe&&!xe.dirty?(Te=Object.isFrozen(xe.res),Te=t0(xe.res,xe.req,T,Se,xe,Te),xe.dirty?(M(de,xe),xe.subscribers.forEach(function(Xe){return ge.add(Xe)})):Te!==xe.res&&(xe.res=Te,xe.promise=ze.resolve({result:Te}))):(xe.dirty&&M(de,xe),xe.subscribers.forEach(function(Xe){return ge.add(Xe)})))}}}ge.forEach(function(Xe){return Xe()})}}},se.addEventListener("abort",B(!1),{signal:ee}),se.addEventListener("error",B(!1),{signal:ee}),se.addEventListener("complete",B(!0),{signal:ee})),se},table:function(D){var I=C.table(D),B=I.schema.primaryKey;return r(r({},I),{mutate:function(q){var ee=Be.trans;if(B.outbound||ee.db._options.cache==="disabled"||ee.explicit||ee.idbtrans.mode!=="readwrite")return I.mutate(q);var se=Na["idb://".concat(A,"/").concat(D)];return se?(ee=I.mutate(q),q.type!=="add"&&q.type!=="put"||!(50<=q.values.length||Rf(B,q).some(function(pe){return pe==null}))?(se.optimisticOps.push(q),q.mutatedParts&&Kt(q.mutatedParts),ee.then(function(pe){0<pe.numFailures&&(M(se.optimisticOps,q),(pe=e0(0,q,pe))&&se.optimisticOps.push(pe),q.mutatedParts&&Kt(q.mutatedParts))}),ee.catch(function(){M(se.optimisticOps,q),q.mutatedParts&&Kt(q.mutatedParts)})):ee.then(function(pe){var ge=e0(0,r(r({},q),{values:q.values.map(function(Ne,ce){var Ae;return pe.failures[ce]?Ne:(Ne=(Ae=B.keyPath)!==null&&Ae!==void 0&&Ae.includes(".")?te(Ne):r({},Ne),N(Ne,B.keyPath,pe.results[ce]),Ne)})}),pe);se.optimisticOps.push(ge),queueMicrotask(function(){return q.mutatedParts&&Kt(q.mutatedParts)})}),ee):I.mutate(q)},query:function(q){if(!Jx(Be,I)||!Xx("query",q))return I.query(q);var ee=((ge=Be.trans)===null||ge===void 0?void 0:ge.db._options.cache)==="immutable",ce=Be,se=ce.requery,pe=ce.signal,ge=function(Se,T,_,L){var K=Na["idb://".concat(Se,"/").concat(T)];if(!K)return[];if(!(T=K.queries[_]))return[null,!1,K,null];var Y=T[(L.query?L.query.index.name:null)||""];if(!Y)return[null,!1,K,null];switch(_){case"query":var J=Y.find(function(ie){return ie.req.limit===L.limit&&ie.req.values===L.values&&n0(ie.req.query.range,L.query.range)});return J?[J,!0,K,Y]:[Y.find(function(ie){return("limit"in ie.req?ie.req.limit:1/0)>=L.limit&&(!L.values||ie.req.values)&&AN(ie.req.query.range,L.query.range)}),!1,K,Y];case"count":return J=Y.find(function(ie){return n0(ie.req.query.range,L.query.range)}),[J,!!J,K,Y]}}(A,D,"query",q),Ne=ge[0],ce=ge[1],Ae=ge[2],ye=ge[3];return Ne&&ce?Ne.obsSet=q.obsSet:(ce=I.query(q).then(function(Se){var T=Se.result;if(Ne&&(Ne.res=T),ee){for(var _=0,L=T.length;_<L;++_)Object.freeze(T[_]);Object.freeze(T)}else Se.result=te(T);return Se}).catch(function(Se){return ye&&Ne&&M(ye,Ne),Promise.reject(Se)}),Ne={obsSet:q.obsSet,promise:ce,subscribers:new Set,type:"query",req:q,dirty:!1},ye?ye.push(Ne):(ye=[Ne],(Ae=Ae||(Na["idb://".concat(A,"/").concat(D)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[q.query.index.name||""]=ye)),PN(Ne,ye,se,pe),Ne.promise.then(function(Se){return{result:t0(Se.result,q,Ae==null?void 0:Ae.optimisticOps,I,Ne,ee)}})}})}})}};function If(C,A){return new Proxy(C,{get:function(D,I,B){return I==="db"?A:Reflect.get(D,I,B)}})}var ki=(er.prototype.version=function(C){if(isNaN(C)||C<.1)throw new ne.Type("Given version is not a positive number");if(C=Math.round(10*C)/10,this.idbdb||this._state.isBeingOpened)throw new ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,C);var A=this._versions,D=A.filter(function(I){return I._cfg.version===C})[0];return D||(D=new this.Version(C),A.push(D),A.sort(SN),D.stores({}),this._state.autoSchema=!1,D)},er.prototype._whenReady=function(C){var A=this;return this.idbdb&&(this._state.openComplete||Be.letThrough||this._vip)?C():new ze(function(D,I){if(A._state.openComplete)return I(new ne.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return void I(new ne.DatabaseClosed);A.open().catch(re)}A._state.dbReadyPromise.then(D,I)}).then(C)},er.prototype.use=function(C){var A=C.stack,D=C.create,I=C.level,B=C.name;return B&&this.unuse({stack:A,name:B}),C=this._middlewares[A]||(this._middlewares[A]=[]),C.push({stack:A,create:D,level:I??10,name:B}),C.sort(function(q,ee){return q.level-ee.level}),this},er.prototype.unuse=function(C){var A=C.stack,D=C.name,I=C.create;return A&&this._middlewares[A]&&(this._middlewares[A]=this._middlewares[A].filter(function(B){return I?B.create!==I:!!D&&B.name!==D})),this},er.prototype.open=function(){var C=this;return Wt(He,function(){return Qx(C)})},er.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var C=this._state,A=ns.indexOf(this);if(0<=A&&ns.splice(A,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}C.isBeingOpened||(C.dbReadyPromise=new ze(function(D){C.dbReadyResolve=D}),C.openCanceller=new ze(function(D,I){C.cancelOpen=I}))},er.prototype.close=function(D){var A=(D===void 0?{disableAutoOpen:!0}:D).disableAutoOpen,D=this._state;A?(D.isBeingOpened&&D.cancelOpen(new ne.DatabaseClosed),this._close(),D.autoOpen=!1,D.dbOpenError=new ne.DatabaseClosed):(this._close(),D.autoOpen=this._options.autoOpen||D.isBeingOpened,D.openComplete=!1,D.dbOpenError=null)},er.prototype.delete=function(C){var A=this;C===void 0&&(C={disableAutoOpen:!0});var D=0<arguments.length&&typeof arguments[0]!="object",I=this._state;return new ze(function(B,q){function ee(){A.close(C);var se=A._deps.indexedDB.deleteDatabase(A.name);se.onsuccess=he(function(){var pe,ge,Ne;pe=A._deps,ge=A.name,Ne=pe.indexedDB,pe=pe.IDBKeyRange,ju(Ne)||ge===rs||Tp(Ne,pe).delete(ge).catch(re),B()}),se.onerror=Ns(q),se.onblocked=A._fireOnBlocked}if(D)throw new ne.InvalidArgument("Invalid closeOptions argument to db.delete()");I.isBeingOpened?I.dbReadyPromise.then(ee):ee()})},er.prototype.backendDB=function(){return this.idbdb},er.prototype.isOpen=function(){return this.idbdb!==null},er.prototype.hasBeenClosed=function(){var C=this._state.dbOpenError;return C&&C.name==="DatabaseClosed"},er.prototype.hasFailed=function(){return this._state.dbOpenError!==null},er.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(er.prototype,"tables",{get:function(){var C=this;return o(this._allTables).map(function(A){return C._allTables[A]})},enumerable:!1,configurable:!0}),er.prototype.transaction=function(){var C=(function(A,D,I){var B=arguments.length;if(B<2)throw new ne.InvalidArgument("Too few arguments");for(var q=new Array(B-1);--B;)q[B-1]=arguments[B];return I=q.pop(),[A,R(q),I]}).apply(this,arguments);return this._transaction.apply(this,C)},er.prototype._transaction=function(C,A,D){var I=this,B=Be.trans;B&&B.db===this&&C.indexOf("!")===-1||(B=null);var q,ee,se=C.indexOf("?")!==-1;C=C.replace("!","").replace("?","");try{if(ee=A.map(function(ge){if(ge=ge instanceof I.Table?ge.name:ge,typeof ge!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ge}),C=="r"||C===js)q=js;else{if(C!="rw"&&C!=ji)throw new ne.InvalidArgument("Invalid transaction mode: "+C);q=ji}if(B){if(B.mode===js&&q===ji){if(!se)throw new ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");B=null}B&&ee.forEach(function(ge){if(B&&B.storeNames.indexOf(ge)===-1){if(!se)throw new ne.SubTransaction("Table "+ge+" not included in parent transaction.");B=null}}),se&&B&&!B.active&&(B=null)}}catch(ge){return B?B._promise(null,function(Ne,ce){ce(ge)}):vn(ge)}var pe=(function ge(Ne,ce,Ae,ye,Se){return ze.resolve().then(function(){var T=Be.transless||Be,_=Ne._createTransaction(ce,Ae,Ne._dbSchema,ye);if(_.explicit=!0,T={trans:_,transless:T},ye)_.idbtrans=ye.idbtrans;else try{_.create(),_.idbtrans._explicit=!0,Ne._state.PR1398_maxLoop=3}catch(Y){return Y.name===me.InvalidState&&Ne.isOpen()&&0<--Ne._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ne.close({disableAutoOpen:!1}),Ne.open().then(function(){return ge(Ne,ce,Ae,null,Se)})):vn(Y)}var L,K=Z(Se);return K&&ut(),T=ze.follow(function(){var Y;(L=Se.call(_,_))&&(K?(Y=ht.bind(null,null),L.then(Y,Y)):typeof L.next=="function"&&typeof L.throw=="function"&&(L=_f(L)))},T),(L&&typeof L.then=="function"?ze.resolve(L).then(function(Y){return _.active?Y:vn(new ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):T.then(function(){return L})).then(function(Y){return ye&&_._resolve(),_._completion.then(function(){return Y})}).catch(function(Y){return _._reject(Y),vn(Y)})})}).bind(null,this,q,ee,B,D);return B?B._promise(q,pe,"lock"):Be.trans?Wt(Be.transless,function(){return I._whenReady(pe)}):this._whenReady(pe)},er.prototype.table=function(C){if(!f(this._allTables,C))throw new ne.InvalidTable("Table ".concat(C," does not exist"));return this._allTables[C]},er);function er(C,A){var D=this;this._middlewares={},this.verno=0;var I=er.dependencies;this._options=A=r({addons:er.addons,autoOpen:!0,indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange,cache:"cloned"},A),this._deps={indexedDB:A.indexedDB,IDBKeyRange:A.IDBKeyRange},I=A.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var B,q,ee,se,pe,ge={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:re,dbReadyPromise:null,cancelOpen:re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:A.autoOpen};ge.dbReadyPromise=new ze(function(ce){ge.dbReadyResolve=ce}),ge.openCanceller=new ze(function(ce,Ae){ge.cancelOpen=Ae}),this._state=ge,this.name=C,this.on=Ho(this,"populate","blocked","versionchange","close",{ready:[Ce,re]}),this.once=function(ce,Ae){var ye=function(){for(var Se=[],T=0;T<arguments.length;T++)Se[T]=arguments[T];D.on(ce).unsubscribe(ye),Ae.apply(D,Se)};return D.on(ce,ye)},this.on.ready.subscribe=w(this.on.ready.subscribe,function(ce){return function(Ae,ye){er.vip(function(){var Se,T=D._state;T.openComplete?(T.dbOpenError||ze.resolve().then(Ae),ye&&ce(Ae)):T.onReadyBeingFired?(T.onReadyBeingFired.push(Ae),ye&&ce(Ae)):(ce(Ae),Se=D,ye||ce(function _(){Se.on.ready.unsubscribe(Ae),Se.on.ready.unsubscribe(_)}))})}}),this.Collection=(B=this,wu(vN.prototype,function(L,_){this.db=B;var ye=Pn,Se=null;if(_)try{ye=_()}catch(K){Se=K}var T=L._ctx,_=T.table,L=_.hook.reading.fire;this._ctx={table:_,index:T.index,isPrimKey:!T.index||_.schema.primKey.keyPath&&T.index===_.schema.primKey.name,range:ye,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Se,or:T.or,valueMapper:L!==Ye?L:null}})),this.Table=(q=this,wu(vf.prototype,function(ce,Ae,ye){this.db=q,this._tx=ye,this.name=ce,this.schema=Ae,this.hook=q._allTables[ce]?q._allTables[ce].hook:Ho(null,{creating:[Le,re],reading:[Fe,Ye],updating:[ct,re],deleting:[lt,re]})})),this.Transaction=(ee=this,wu(Vx.prototype,function(ce,Ae,ye,Se,T){var _=this;ce!=="readonly"&&Ae.forEach(function(L){L=(L=ye[L])===null||L===void 0?void 0:L.yProps,L&&(Ae=Ae.concat(L.map(function(K){return K.updatesTable})))}),this.db=ee,this.mode=ce,this.storeNames=Ae,this.schema=ye,this.chromeTransactionDurability=Se,this.idbtrans=null,this.on=Ho(this,"complete","error","abort"),this.parent=T||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ze(function(L,K){_._resolve=L,_._reject=K}),this._completion.then(function(){_.active=!1,_.on.complete.fire()},function(L){var K=_.active;return _.active=!1,_.on.error.fire(L),_.parent?_.parent._reject(L):K&&_.idbtrans&&_.idbtrans.abort(),vn(L)})})),this.Version=(se=this,wu(jN.prototype,function(ce){this.db=se,this._cfg={version:ce,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(pe=this,wu(Qo.prototype,function(ce,Ae,ye){if(this.db=pe,this._ctx={table:ce,index:Ae===":id"?null:Ae,or:ye},this._cmp=this._ascending=Et,this._descending=function(Se,T){return Et(T,Se)},this._max=function(Se,T){return 0<Et(Se,T)?Se:T},this._min=function(Se,T){return Et(Se,T)<0?Se:T},this._IDBKeyRange=pe._deps.IDBKeyRange,!this._IDBKeyRange)throw new ne.MissingAPI})),this.on("versionchange",function(ce){0<ce.newVersion?console.warn("Another connection wants to upgrade database '".concat(D.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(D.name,"'. Closing db now to resume the delete request.")),D.close({disableAutoOpen:!1})}),this.on("blocked",function(ce){!ce.newVersion||ce.newVersion<ce.oldVersion?console.warn("Dexie.delete('".concat(D.name,"') was blocked")):console.warn("Upgrade '".concat(D.name,"' blocked by other connection holding version ").concat(ce.oldVersion/10))}),this._maxKey=Su(A.IDBKeyRange),this._createTransaction=function(ce,Ae,ye,Se){return new D.Transaction(ce,Ae,ye,D._options.chromeTransactionDurability,Se)},this._fireOnBlocked=function(ce){D.on("blocked").fire(ce),ns.filter(function(Ae){return Ae.name===D.name&&Ae!==D&&!Ae._state.vcFired}).map(function(Ae){return Ae.on("versionchange").fire(ce)})},this.use(NN),this.use(EN),this.use(kN),this.use(Zx),this.use(Mf);var Ne=new Proxy(this,{get:function(ce,Ae,ye){if(Ae==="_vip")return!0;if(Ae==="table")return function(T){return If(D.table(T),Ne)};var Se=Reflect.get(ce,Ae,ye);return Se instanceof vf?If(Se,Ne):Ae==="tables"?Se.map(function(T){return If(T,Ne)}):Ae==="_createTransaction"?function(){return If(Se.apply(this,arguments),Ne)}:Se}});this.vip=Ne,I.forEach(function(ce){return ce(D)})}var Of,ss=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",TN=(Ip.prototype.subscribe=function(C,A,D){return this._subscribe(C&&typeof C!="function"?C:{next:C,error:A,complete:D})},Ip.prototype[ss]=function(){return this},Ip);function Ip(C){this._subscribe=C}try{Of={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Of={indexedDB:null,IDBKeyRange:null}}function r0(C){var A,D=!1,I=new TN(function(B){var q=Z(C),ee,se=!1,pe={},ge={},Ne={get closed(){return se},unsubscribe:function(){se||(se=!0,ee&&ee.abort(),ce&&oo.storagemutated.unsubscribe(ye))}};B.start&&B.start(Ne);var ce=!1,Ae=function(){return Cs(Se)},ye=function(T){Af(pe,T),Pf(ge,pe)&&Ae()},Se=function(){var T,_,L;!se&&Of.indexedDB&&(pe={},T={},ee&&ee.abort(),ee=new AbortController,L=function(K){var Y=kn();try{q&&ut();var J=dt(C,K);return J=q?J.finally(ht):J}finally{Y&&Xn()}}(_={subscr:T,signal:ee.signal,requery:Ae,querier:C,trans:null}),Promise.resolve(L).then(function(K){D=!0,A=K,se||_.signal.aborted||(pe={},function(Y){for(var J in Y)if(f(Y,J))return;return 1}(ge=T)||ce||(oo(nc,ye),ce=!0),Cs(function(){return!se&&B.next&&B.next(K)}))},function(K){D=!1,["DatabaseClosedError","AbortError"].includes(K==null?void 0:K.name)||se||Cs(function(){se||B.error&&B.error(K)})}))};return setTimeout(Ae,0),Ne});return I.hasValue=function(){return D},I.getValue=function(){return A},I}var Jo=ki;function Op(C){var A=lo;try{lo=!0,oo.storagemutated.fire(C),Tf(C,!0)}finally{lo=A}}h(Jo,r(r({},ve),{delete:function(C){return new Jo(C,{addons:[]}).delete()},exists:function(C){return new Jo(C,{addons:[]}).open().then(function(A){return A.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(C){try{return A=Jo.dependencies,D=A.indexedDB,A=A.IDBKeyRange,(ju(D)?Promise.resolve(D.databases()).then(function(I){return I.map(function(B){return B.name}).filter(function(B){return B!==rs})}):Tp(D,A).toCollection().primaryKeys()).then(C)}catch{return vn(new ne.MissingAPI)}var A,D},defineClass:function(){return function(C){c(this,C)}},ignoreTransaction:function(C){return Be.trans?Wt(Be.transless,C):C()},vip:_p,async:function(C){return function(){try{var A=_f(C.apply(this,arguments));return A&&typeof A.then=="function"?A:ze.resolve(A)}catch(D){return vn(D)}}},spawn:function(C,A,D){try{var I=_f(C.apply(D,A||[]));return I&&typeof I.then=="function"?I:ze.resolve(I)}catch(B){return vn(B)}},currentTransaction:{get:function(){return Be.trans||null}},waitFor:function(C,A){return A=ze.resolve(typeof C=="function"?Jo.ignoreTransaction(C):C).timeout(A||6e4),Be.trans?Be.trans.waitFor(A):A},Promise:ze,debug:{get:function(){return oe},set:function(C){xt(C)}},derive:v,extend:c,props:h,override:w,Events:Ho,on:oo,liveQuery:r0,extendObservabilitySet:Af,getByKeyPath:k,setByKeyPath:N,delByKeyPath:function(C,A){typeof A=="string"?N(C,A,void 0):"length"in A&&[].map.call(A,function(D){N(C,D,void 0)})},shallowClone:P,deepClone:te,getObjectDiff:Df,cmp:Et,asap:j,minKey:-1/0,addons:[],connections:ns,errnames:me,dependencies:Of,cache:Na,semVer:"4.2.1",version:"4.2.1".split(".").map(function(C){return parseInt(C)}).reduce(function(C,A,D){return C+A/Math.pow(10,2*D)})})),Jo.maxKey=Su(Jo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(oo(nc,function(C){lo||(C=new CustomEvent(Sp,{detail:C}),lo=!0,dispatchEvent(C),lo=!1)}),addEventListener(Sp,function(C){C=C.detail,lo||Op(C)}));var ac,lo=!1,a0=function(){};return typeof BroadcastChannel<"u"&&((a0=function(){(ac=new BroadcastChannel(Sp)).onmessage=function(C){return C.data&&Op(C.data)}})(),typeof ac.unref=="function"&&ac.unref(),oo(nc,function(C){lo||ac.postMessage(C)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(C){if(!ki.disableBfCache&&C.persisted){oe&&console.debug("Dexie: handling persisted pagehide"),ac!=null&&ac.close();for(var A=0,D=ns;A<D.length;A++)D[A].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(C){!ki.disableBfCache&&C.persisted&&(oe&&console.debug("Dexie: handling persisted pageshow"),a0(),Op({all:new Jr(-1/0,[[]])}))})),ze.rejectionMapper=function(C,A){return!C||C instanceof ae||C instanceof TypeError||C instanceof SyntaxError||!C.name||!je[C.name]?C:(A=new je[C.name](A||C.message,C),"stack"in C&&g(A,"stack",{get:function(){return this.inner.stack}}),A)},xt(oe),r(ki,Object.freeze({__proto__:null,Dexie:ki,liveQuery:r0,Entity:Ut,cmp:Et,PropModification:Xl,replacePrefix:function(C,A){return new Xl({replacePrefix:[C,A]})},add:function(C){return new Xl({add:C})},remove:function(C){return new Xl({remove:C})},default:ki,RangeSet:Jr,mergeRanges:ku,rangesOverlap:qx}),{default:ki}),ki})})(OH);var pCe=OH.exports;const ME=xi(pCe),RF=Symbol.for("Dexie"),Md=globalThis[RF]||(globalThis[RF]=ME);if(ME.semVer!==Md.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ME.semVer} and ${Md.semVer}`);const{liveQuery:xnt,mergeRanges:bnt,rangesOverlap:wnt,RangeSet:Snt,cmp:Cnt,Entity:jnt,PropModification:Nnt,replacePrefix:knt,add:Ant,remove:Pnt,DexieYProvider:Ent}=Md;class LH extends Md{constructor(){super("ScoutGamificationDB");pn(this,"scouts");pn(this,"predictions");pn(this,"scoutAchievements");this.version(1).stores({scouts:"name, stakes, totalPredictions, correctPredictions, currentStreak, longestStreak, lastUpdated",predictions:"id, scoutName, eventKey, matchNumber, predictedWinner, timestamp, verified, [scoutName+eventKey+matchNumber]",scoutAchievements:"[scoutName+achievementId], scoutName, achievementId, unlockedAt"}),this.version(2).stores({scouts:"name, stakes, stakesFromPredictions, totalPredictions, correctPredictions, currentStreak, longestStreak, lastUpdated",predictions:"id, scoutName, eventKey, matchNumber, predictedWinner, timestamp, verified, [scoutName+eventKey+matchNumber]",scoutAchievements:"[scoutName+achievementId], scoutName, achievementId, unlockedAt"}).upgrade(n=>n.table("scouts").toCollection().modify(r=>{r.stakesFromPredictions=r.stakes||0}))}}const st=new LH;st.open().catch(e=>{console.error("Failed to open ScoutGamificationDB:",e)});const DC=async e=>{const t=await st.scouts.get(e);if(t)return t.lastUpdated=Date.now(),await st.scouts.put(t),t;const n={name:e.trim(),stakes:0,stakesFromPredictions:0,totalPredictions:0,correctPredictions:0,currentStreak:0,longestStreak:0,createdAt:Date.now(),lastUpdated:Date.now()};return await st.scouts.put(n),n},vR=async e=>await st.scouts.get(e),Jy=async()=>await st.scouts.orderBy("stakes").reverse().toArray(),yR=async(e,t)=>{const n=await st.scouts.get(e);n&&(n.stakes+=t,n.lastUpdated=Date.now(),await st.scouts.put(n))},RC=async(e,t,n,r,a,s,o=0)=>{const l=await st.scouts.get(e);l&&(l.stakes=t,l.stakesFromPredictions+=o,l.correctPredictions=n,l.totalPredictions=r,a!==void 0&&(l.currentStreak=a),s!==void 0&&(l.longestStreak=Math.max(l.longestStreak,s)),l.lastUpdated=Date.now(),await st.scouts.put(l))},xR=async e=>{await st.scouts.delete(e)},s1=async()=>{await st.scouts.clear(),await st.predictions.clear(),await st.scoutAchievements.clear()},Uv=async(e,t,n,r)=>{const a=await st.predictions.where("[scoutName+eventKey+matchNumber]").equals([e,t,n]).first();if(a)return a.predictedWinner=r,a.timestamp=Date.now(),await st.predictions.put(a),a;const s={id:`prediction_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,scoutName:e,eventKey:t,matchNumber:n,predictedWinner:r,timestamp:Date.now(),verified:!1};return await st.predictions.put(s),await DC(e),s},bR=async(e,t,n)=>await st.predictions.where("[scoutName+eventKey+matchNumber]").equals([e,t,n]).first(),wR=async(e,t)=>await st.predictions.where("eventKey").equals(e).and(n=>n.matchNumber===t).toArray(),SR=async e=>{await st.predictions.update(e,{verified:!0})},Kv=Object.freeze(Object.defineProperty({__proto__:null,ScoutGamificationDB:LH,clearGamificationData:s1,createMatchPrediction:Uv,deleteScout:xR,gamificationDB:st,getAllPredictionsForMatch:wR,getAllScouts:Jy,getOrCreateScout:DC,getPredictionForMatch:bR,getScout:vR,markPredictionAsVerified:SR,updateScoutPoints:yR,updateScoutStats:RC},Symbol.toStringTag,{value:"Module"})),CR={CORRECT_PREDICTION:10,INCORRECT_PREDICTION:0,PARTICIPATION_BONUS:1,STREAK_BONUS_BASE:2},$H=e=>e<2?0:CR.STREAK_BONUS_BASE*(e-1),Hm=e=>e.totalPredictions===0?0:Math.round(e.correctPredictions/e.totalPredictions*100),gCe=async(e,t,n)=>{var o;const r=await st.predictions.where("scoutName").equals(e).and(l=>l.eventKey===t&&l.verified).reverse().sortBy("timestamp");if(!r||r.length===0)return!0;const a=((o=r[0])==null?void 0:o.matchNumber)||0,s=n-a;return s<=3&&s>0},FH=async(e,t,n,r,a)=>{const s=await st.scouts.get(e);if(!s)return 0;let o=0,l=s.currentStreak,c=s.longestStreak;const u=await gCe(e,r,a);if(t){if(o=n,u||s.totalPredictions===0?l+=1:l=1,l>c&&(c=l),l>=2){const d=$H(l);o+=d}}else l=0;return await RC(e,s.stakes+o,s.correctPredictions+(t?1:0),s.totalPredictions+1,l,c,o),o},jR={bronze:{color:"#CD7F32",bgColor:"bg-amber-100 dark:bg-amber-950",borderColor:"border-amber-300 dark:border-amber-700",textColor:"text-amber-800 dark:text-amber-200"},silver:{color:"#C0C0C0",bgColor:"bg-gray-100 dark:bg-gray-800",borderColor:"border-gray-300 dark:border-gray-600",textColor:"text-gray-800 dark:text-gray-200"},gold:{color:"#FFD700",bgColor:"bg-yellow-100 dark:bg-yellow-950",borderColor:"border-yellow-300 dark:border-yellow-700",textColor:"text-yellow-800 dark:text-yellow-200"},platinum:{color:"#E5E4E2",bgColor:"bg-blue-100 dark:bg-blue-950",borderColor:"border-blue-300 dark:border-blue-700",textColor:"text-blue-800 dark:text-blue-200"},legendary:{color:"#9932CC",bgColor:"bg-purple-100 dark:bg-purple-950",borderColor:"border-purple-300 dark:border-purple-700",textColor:"text-purple-800 dark:text-purple-200"}},zh=[{id:"first_prediction",name:"Scout Rookie",description:"Make your first prediction",icon:"",category:"volume",tier:"bronze",requirements:{type:"minimum",value:1,property:"totalPredictions"},stakesReward:5},{id:"predictions_10",name:"Getting Started",description:"Make 10 predictions",icon:"",category:"volume",tier:"bronze",requirements:{type:"minimum",value:10,property:"totalPredictions"},stakesReward:10},{id:"predictions_50",name:"Active Scout",description:"Make 50 predictions",icon:"",category:"volume",tier:"silver",requirements:{type:"minimum",value:50,property:"totalPredictions"},stakesReward:25},{id:"predictions_100",name:"Dedicated Scout",description:"Make 100 predictions",icon:"",category:"volume",tier:"gold",requirements:{type:"minimum",value:100,property:"totalPredictions"},stakesReward:50},{id:"predictions_200",name:"Scout Veteran",description:"Make 200 predictions",icon:"",category:"volume",tier:"platinum",requirements:{type:"minimum",value:200,property:"totalPredictions"},stakesReward:100},{id:"predictions_300",name:"Scout Legend",description:"Make 300 predictions",icon:"",category:"volume",tier:"legendary",requirements:{type:"minimum",value:300,property:"totalPredictions"},stakesReward:200},{id:"accuracy_60",name:"Sharp Eye",description:"Achieve 60% accuracy with at least 10 predictions",icon:"",category:"accuracy",tier:"bronze",requirements:{type:"custom",value:60,customCheck:e=>e.totalPredictions>=10&&e.correctPredictions/e.totalPredictions*100>=60},stakesReward:20},{id:"accuracy_70",name:"Scout Sharpshooter",description:"Achieve 70% accuracy with at least 20 predictions",icon:"",category:"accuracy",tier:"silver",requirements:{type:"custom",value:70,customCheck:e=>e.totalPredictions>=20&&e.correctPredictions/e.totalPredictions*100>=70},stakesReward:40},{id:"accuracy_80",name:"Oracle",description:"Achieve 80% accuracy with at least 30 predictions",icon:"",category:"accuracy",tier:"gold",requirements:{type:"custom",value:80,customCheck:e=>e.totalPredictions>=30&&e.correctPredictions/e.totalPredictions*100>=80},stakesReward:75},{id:"accuracy_85",name:"Prophet",description:"Achieve 85% accuracy with at least 50 predictions",icon:"",category:"accuracy",tier:"platinum",requirements:{type:"custom",value:85,customCheck:e=>e.totalPredictions>=50&&e.correctPredictions/e.totalPredictions*100>=85},stakesReward:150},{id:"streak_3",name:"Hot Streak",description:"Get 3 predictions correct in a row",icon:"",category:"streaks",tier:"bronze",requirements:{type:"minimum",value:3,property:"longestStreak"},stakesReward:15},{id:"streak_5",name:"On Fire",description:"Get 5 predictions correct in a row",icon:"",category:"streaks",tier:"silver",requirements:{type:"minimum",value:5,property:"longestStreak"},stakesReward:30},{id:"streak_10",name:"Unstoppable",description:"Get 10 predictions correct in a row",icon:"",category:"streaks",tier:"gold",requirements:{type:"minimum",value:10,property:"longestStreak"},stakesReward:60},{id:"streak_20",name:"Legendary Streak",description:"Get 20 predictions correct in a row",icon:"",category:"streaks",tier:"platinum",requirements:{type:"minimum",value:20,property:"longestStreak"},stakesReward:120},{id:"streak_50",name:"Godlike",description:"Get 50 predictions correct in a row",icon:"",category:"streaks",tier:"legendary",requirements:{type:"minimum",value:50,property:"longestStreak"},stakesReward:300},{id:"stakes_100",name:"Stake Builder",description:"Earn 100 stakes from predictions",icon:"",category:"volume",tier:"bronze",requirements:{type:"minimum",value:100,property:"stakesFromPredictions"},stakesReward:20},{id:"stakes_300",name:"Stake Master",description:"Earn 300 stakes from predictions",icon:"",category:"volume",tier:"silver",requirements:{type:"minimum",value:300,property:"stakesFromPredictions"},stakesReward:50},{id:"stakes_600",name:"Stake Tycoon",description:"Earn 600 stakes from predictions",icon:"",category:"volume",tier:"gold",requirements:{type:"minimum",value:600,property:"stakesFromPredictions"},stakesReward:100},{id:"stakes_1000",name:"Stake Emperor",description:"Earn 1000 stakes from predictions",icon:"",category:"volume",tier:"platinum",requirements:{type:"minimum",value:1e3,property:"stakesFromPredictions"},stakesReward:200},{id:"perfectionist",name:"Perfectionist",description:"Get 5 consecutive predictions correct",icon:"",category:"special",tier:"gold",requirements:{type:"minimum",value:12,property:"longestStreak"},stakesReward:100,hidden:!0},{id:"high_roller",name:"High Roller",description:"Earn 1000 total stakes (predictions + achievements)",icon:"",category:"special",tier:"platinum",requirements:{type:"minimum",value:1e3,property:"stakesFromPredictions"},stakesReward:200,hidden:!0},{id:"steady_hand",name:"Steady Hand",description:"Maintain 75% accuracy with at least 40 predictions",icon:"",category:"special",tier:"silver",requirements:{type:"custom",value:75,customCheck:e=>e.totalPredictions>=40&&e.correctPredictions/e.totalPredictions*100>=75},stakesReward:75,hidden:!0}],BH=(e,t)=>{const{requirements:n}=e;switch(n.type){case"minimum":return n.property&&n.property in t?t[n.property]>=n.value:!1;case"exact":return n.property&&n.property in t?t[n.property]===n.value:!1;case"percentage":if(n.property&&n.property in t){const r=t[n.property],a=t.totalPredictions;return a>0&&r/a*100>=n.value}return!1;case"custom":return n.customCheck?n.customCheck(t):!1;case"special":return!1;default:return!1}},vCe=(e,t)=>{const{requirements:n}=e;switch(n.type){case"minimum":case"exact":if(n.property&&n.property in t){const r=t[n.property];return Math.min(100,r/n.value*100)}return 0;case"percentage":if(n.property&&n.property in t){const r=t[n.property],a=t.totalPredictions;if(a===0)return 0;const s=r/a*100;return Math.min(100,s/n.value*100)}return 0;case"custom":return BH(e,t)?100:0;default:return 0}},yCe=e=>{var n;const t={};for(const r of e)t[r.category]||(t[r.category]=[]),(n=t[r.category])==null||n.push(r);return t},xCe=async e=>{const t=await st.scouts.get(e);if(!t)return[];const n=await st.scoutAchievements.where("scoutName").equals(e).toArray(),r=new Set(n.map(s=>s.achievementId)),a=[];for(const s of zh)if(!r.has(s.id)&&BH(s,t)){if(s.requirements.type==="special"&&s.id==="early_bird"&&await st.scouts.count()>5)continue;const o={id:`${e}_${s.id}_${Date.now()}`,scoutName:e,achievementId:s.id,unlockedAt:Date.now(),progress:100};await st.scoutAchievements.add(o),s.stakesReward>0&&await yR(e,s.stakesReward),a.push(s)}return a.length>0&&console.log(" Total new achievements unlocked for",e,":",a.map(s=>s.name)),a},NR=async()=>{const e=await st.scouts.toArray();for(const t of e){const n=await xCe(t.name);n.length>0&&console.log(" Backfilled",n.length,"achievements for",t.name)}},Gv=async e=>{const t=await st.scouts.get(e);if(!t)return{unlocked:[],available:[],hidden:[]};const n=await st.scoutAchievements.where("scoutName").equals(e).toArray(),r=new Set(n.map(c=>c.achievementId)),a=new Map(n.map(c=>[c.achievementId,c])),s=[],o=[],l=[];for(const c of zh)if(r.has(c.id)){const u=a.get(c.id);s.push({...c,unlockedAt:u.unlockedAt})}else{const u=vCe(c,t),d={...c,progress:u};c.hidden&&u<100?l.push(d):o.push(d)}return s.sort((c,u)=>u.unlockedAt-c.unlockedAt),o.sort((c,u)=>u.progress-c.progress),{unlocked:s,available:o,hidden:l}},Id=async e=>{const{unlocked:t}=await Gv(e),n=zh.filter(s=>!s.hidden),r=t.reduce((s,o)=>s+o.stakesReward,0),a=t.slice(0,3).sort((s,o)=>o.unlockedAt-s.unlockedAt);return{totalAchievements:n.length,unlockedCount:t.filter(s=>{var o;return!((o=zh.find(l=>l.id===s.id))!=null&&o.hidden)}).length,completionPercentage:Math.round(t.length/zh.length*100),totalStakesFromAchievements:r,recentAchievements:a}},bCe=async()=>{const e=await st.scouts.toArray(),t=[];for(const n of e){const r=await Id(n.name),{unlocked:a}=await Gv(n.name);t.push({scoutName:n.name,achievementCount:r.unlockedCount,totalStakesFromAchievements:r.totalStakesFromAchievements,recentUnlock:a[0]})}return t.sort((n,r)=>n.achievementCount!==r.achievementCount?r.achievementCount-n.achievementCount:r.totalStakesFromAchievements-n.totalStakesFromAchievements),t},MF=async(e,t=3)=>{const{available:n}=await Gv(e),r=n.filter(a=>a.progress>0).sort((a,s)=>s.progress-a.progress).slice(0,t);if(r.length<t){const a=n.filter(s=>s.progress===0).slice(0,t-r.length);r.push(...a)}return r},bl=async e=>await DC(e),VH=Object.freeze(Object.defineProperty({__proto__:null,STAKE_VALUES:CR,calculateAccuracy:Hm,calculateStreakBonus:$H,clearGameData:s1,createMatchPrediction:Uv,deleteScout:xR,getAllPredictionsForMatch:wR,getAllScouts:Jy,getOrCreateScout:DC,getOrCreateScoutByName:bl,getPredictionForMatch:bR,getScout:vR,markPredictionAsVerified:SR,updateScoutPoints:yR,updateScoutStats:RC,updateScoutWithPredictionResult:FH},Symbol.toStringTag,{value:"Module"})),zH=p.createContext(void 0),kR=()=>{const e=p.useContext(zH);if(!e)throw new Error("useScout must be used within a ScoutProvider");return e},wCe=({children:e})=>{const[t,n]=p.useState(""),[r,a]=p.useState(0),[s,o]=p.useState([]),[l,c]=p.useState(""),[u,d]=p.useState(!0),f=p.useCallback(async()=>{try{const x=localStorage.getItem("scoutsList"),w=x?JSON.parse(x):[];o(w);const S=localStorage.getItem("currentScout");if(S){n(S);try{const k=await bl(S);a(k.stakes)}catch(k){console.error("Error loading scout stakes:",k),a(0)}}const j=localStorage.getItem("playerStation");j&&c(j)}catch(x){console.error("Error loading scouts:",x)}finally{d(!1)}},[]),h=p.useCallback(async x=>{if(!x.trim())return;const w=x.trim();try{const S=await bl(w);if(n(w),a(S.stakes),localStorage.setItem("currentScout",w),!s.includes(w)){const j=[...s,w].sort();o(j),localStorage.setItem("scoutsList",JSON.stringify(j))}}catch(S){throw console.error("Error setting current scout:",S),S}},[s]),m=p.useCallback(async x=>{if(!x.trim())return;const w=x.trim();if(s.includes(w)){await h(w);return}try{const S=await bl(w),j=[...s,w].sort();o(j),localStorage.setItem("scoutsList",JSON.stringify(j)),n(w),a(S.stakes),localStorage.setItem("currentScout",w),console.log(" ScoutContext: Scout set to",w)}catch(S){throw console.error("Error adding scout:",S),S}},[s,h]),g=p.useCallback(async x=>{const w=s.filter(S=>S!==x);o(w),localStorage.setItem("scoutsList",JSON.stringify(w)),t===x&&(n(""),a(0),localStorage.removeItem("currentScout"))},[s,t]),v=p.useCallback(x=>{c(x),localStorage.setItem("playerStation",x)},[]),b=p.useCallback(async()=>{if(t)try{const{getScout:x}=await Mn(async()=>{const{getScout:S}=await Promise.resolve().then(()=>VH);return{getScout:S}},void 0),w=await x(t);w&&a(w.stakes)}catch(x){console.error("Error refreshing scout:",x)}},[t]);p.useEffect(()=>{f()},[f]),p.useEffect(()=>{const x=()=>{f()},w=()=>{n(""),a(0),o([]),c("")},S=()=>{const j=localStorage.getItem("playerStation")||"";c(j)};return window.addEventListener("scoutChanged",x),window.addEventListener("scoutDataCleared",w),window.addEventListener("playerStationChanged",S),()=>{window.removeEventListener("scoutChanged",x),window.removeEventListener("scoutDataCleared",w),window.removeEventListener("playerStationChanged",S)}},[f]);const y={currentScout:t,currentScoutStakes:r,scoutsList:s,playerStation:l,isLoading:u,setCurrentScout:h,setPlayerStation:v,addScout:m,removeScout:g,refreshScout:b};return i.jsx(zH.Provider,{value:y,children:e})};function SCe({items:e}){const{playerStation:t,setPlayerStation:n}=kR(),r=g=>{n(g)},{isMobile:a,setOpenMobile:s}=rf(),{confirmNavigation:o,handleConfirm:l,handleCancel:c,isConfirmDialogOpen:u,pendingDestinationLabel:d}=vH(),f=g=>{o(g||"/",g==="/"?"Home":"this page")&&a&&s(!1)},h=g=>{const v=g.split("/").pop()||"this page";o(g,v)&&a&&s(!1)},m=()=>{a&&s(!1),l()};return p.useEffect(()=>{if(t){const g=document.getElementById(t.toLowerCase().replace(" ",""));g&&(g.checked=!0)}},[t]),i.jsxs(i.Fragment,{children:[i.jsxs(bbe,{children:[i.jsx(xh,{className:"flex items-center pb-4",children:i.jsxs("div",{className:"flex w-full gap-2",children:[i.jsxs(Br,{value:t,onValueChange:r,children:[i.jsx(Vr,{className:"w-full h-12 text-lg font-bold",id:"scoutRole","aria-label":"Scout Role",children:i.jsx(oa,{placeholder:dD(t)||"Role"})}),i.jsxs(zr,{children:[i.jsx(ot,{className:"text-lg",value:"lead",children:"Lead"}),i.jsx(ot,{className:"text-lg",value:"red-1",children:"Red 1"}),i.jsx(ot,{className:"text-lg",value:"red-2",children:"Red 2"}),i.jsx(ot,{className:"text-lg",value:"red-3",children:"Red 3"}),i.jsx(ot,{className:"text-lg",value:"blue-1",children:"Blue 1"}),i.jsx(ot,{className:"text-lg",value:"blue-2",children:"Blue 2"}),i.jsx(ot,{className:"text-lg",value:"blue-3",children:"Blue 3"})]})]}),i.jsx(aSe,{})]})}),i.jsx(wbe,{children:"Platform"}),i.jsxs(tR,{children:[i.jsx(xh,{className:"flex items-center gap-2",children:i.jsxs(od,{tooltip:"Home",onClick:()=>f("/"),children:[i.jsx(Hde,{}),i.jsx("span",{children:"Home"})]})}),i.jsx(xh,{className:"flex items-center gap-2",children:i.jsxs(od,{tooltip:"Scout",onClick:()=>f("/game-start"),children:[i.jsx(gG,{}),i.jsx("span",{children:"Scout"})]})}),e.map(g=>{var v;return i.jsx(zhe,{asChild:!0,defaultOpen:g.isActive,className:"group/collapsible",children:i.jsxs(xh,{children:[i.jsx(Uhe,{asChild:!0,children:i.jsxs(od,{tooltip:g.title,children:[g.icon&&i.jsx(g.icon,{}),i.jsx("span",{children:g.title}),i.jsx(My,{className:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),i.jsx(Khe,{children:i.jsx(Cbe,{children:(v=g.items)==null?void 0:v.map(b=>i.jsx(jbe,{children:i.jsx(Nbe,{asChild:!0,children:i.jsx("button",{onClick:()=>h(b.url),children:i.jsx("span",{children:b.title})})})},b.title))})})]})},g.title)})]})]}),i.jsx(IH,{open:u,onConfirm:m,onCancel:c,destinationLabel:d})]})}function CCe(e){const t=jCe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(kCe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function jCe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=PCe(a),l=ACe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NCe=Symbol("radix.slottable");function kCe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NCe}function ACe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function PCe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var MC="Popover",[UH]=bs(MC,[lu]),Xy=lu(),[ECe,fu]=UH(MC),KH=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=Xy(t),c=p.useRef(null),[u,d]=p.useState(!1),[f,h]=Mo({prop:r,defaultProp:a??!1,onChange:s,caller:MC});return i.jsx(sC,{...l,children:i.jsx(ECe,{scope:t,contentId:Kr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:n})})};KH.displayName=MC;var GH="PopoverAnchor",TCe=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=fu(GH,n),s=Xy(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Ly,{...s,...r,ref:t})});TCe.displayName=GH;var WH="PopoverTrigger",qH=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=fu(WH,n),s=Xy(n),o=Gt(t,a.triggerRef),l=i.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":JH(a.open),...r,ref:o,onClick:it(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(Ly,{asChild:!0,...s,children:l})});qH.displayName=WH;var AR="PopoverPortal",[_Ce,DCe]=UH(AR,{forceMount:void 0}),HH=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,s=fu(AR,t);return i.jsx(_Ce,{scope:t,forceMount:n,children:i.jsx(Wr,{present:n||s.open,children:i.jsx(zm,{asChild:!0,container:a,children:r})})})};HH.displayName=AR;var dm="PopoverContent",YH=p.forwardRef((e,t)=>{const n=DCe(dm,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,s=fu(dm,e.__scopePopover);return i.jsx(Wr,{present:r||s.open,children:s.modal?i.jsx(MCe,{...a,ref:t}):i.jsx(ICe,{...a,ref:t})})});YH.displayName=dm;var RCe=CCe("PopoverContent.RemoveScroll"),MCe=p.forwardRef((e,t)=>{const n=fu(dm,e.__scopePopover),r=p.useRef(null),a=Gt(t,r),s=p.useRef(!1);return p.useEffect(()=>{const o=r.current;if(o)return yC(o)},[]),i.jsx(Hy,{as:RCe,allowPinchZoom:!0,children:i.jsx(QH,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:it(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:it(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ICe=p.forwardRef((e,t)=>{const n=fu(dm,e.__scopePopover),r=p.useRef(!1),a=p.useRef(!1);return i.jsx(QH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),QH=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=fu(dm,n),m=Xy(n);return gC(),i.jsx(Wy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Fm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(iC,{"data-state":JH(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZH="PopoverClose",OCe=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=fu(ZH,n);return i.jsx(At.button,{type:"button",...r,ref:t,onClick:it(e.onClick,()=>a.onOpenChange(!1))})});OCe.displayName=ZH;var LCe="PopoverArrow",$Ce=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Xy(n);return i.jsx(oC,{...a,...r,ref:t})});$Ce.displayName=LCe;function JH(e){return e?"open":"closed"}var FCe=KH,BCe=qH,VCe=HH,zCe=YH;function i1({...e}){return i.jsx(FCe,{"data-slot":"popover",...e})}function o1({...e}){return i.jsx(BCe,{"data-slot":"popover-trigger",...e})}function l1({className:e,align:t="center",sideOffset:n=4,...r}){return i.jsx(VCe,{children:i.jsx(zCe,{"data-slot":"popover-content",align:t,sideOffset:n,className:De("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",e),style:{transformOrigin:"var(--radix-popover-content-transform-origin)"},...r})})}function UCe(e,t=[]){let n=[];function r(s,o){const l=p.createContext(o);l.displayName=s+"Context";const c=n.length;n=[...n,o];const u=f=>{var y;const{scope:h,children:m,...g}=f,v=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=p.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:b,children:m})};u.displayName=s+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,KCe(a,...t)]}function KCe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var GCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],PR=GCe.reduce((e,t)=>{const n=Fy(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),XH={exports:{}},e7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=p;function WCe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qCe=typeof Object.is=="function"?Object.is:WCe,HCe=fm.useState,YCe=fm.useEffect,QCe=fm.useLayoutEffect,ZCe=fm.useDebugValue;function JCe(e,t){var n=t(),r=HCe({inst:{value:n,getSnapshot:t}}),a=r[0].inst,s=r[1];return QCe(function(){a.value=n,a.getSnapshot=t,_k(a)&&s({inst:a})},[e,n,t]),YCe(function(){return _k(a)&&s({inst:a}),e(function(){_k(a)&&s({inst:a})})},[e]),ZCe(n),n}function _k(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qCe(e,n)}catch{return!0}}function XCe(e,t){return t()}var eje=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XCe:JCe;e7.useSyncExternalStore=fm.useSyncExternalStore!==void 0?fm.useSyncExternalStore:eje;XH.exports=e7;var t7=XH.exports;function tje(){return t7.useSyncExternalStore(nje,()=>!0,()=>!1)}function nje(){return()=>{}}var ER="Avatar",[rje]=UCe(ER),[aje,n7]=rje(ER),r7=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,s]=p.useState("idle");return i.jsx(aje,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(PR.span,{...r,ref:t})})});r7.displayName=ER;var a7="AvatarImage",sje=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...s}=e,o=n7(a7,n),l=ije(r,s),c=ia(u=>{a(u),o.onImageLoadingStatusChange(u)});return jr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(PR.img,{...s,ref:t,src:r}):null});sje.displayName=a7;var s7="AvatarFallback",i7=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,s=n7(s7,n),[o,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(PR.span,{...a,ref:t}):null});i7.displayName=s7;function IF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ije(e,{referrerPolicy:t,crossOrigin:n}){const r=tje(),a=p.useRef(null),s=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=p.useState(()=>IF(s,e));return jr(()=>{l(IF(s,e))},[s,e]),jr(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,t]),o}var oje=r7,lje=i7;function o7({className:e,...t}){return i.jsx(oje,{"data-slot":"avatar",className:De("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function l7({className:e,...t}){return i.jsx(lje,{"data-slot":"avatar-fallback",className:De("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function OF({currentScout:e,currentScoutStakes:t}){const n=r=>r.split(" ").map(a=>a.charAt(0).toUpperCase()).join("").slice(0,3);return i.jsxs(i.Fragment,{children:[i.jsx(o7,{className:"h-8 w-8 rounded-lg",children:i.jsx(l7,{className:"rounded-lg bg-primary text-primary-foreground",children:e?n(e):i.jsx(Vw,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[i.jsx("span",{className:"truncate font-medium",children:e||"Select Scout"}),i.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"Active Scout"}),i.jsx("span",{className:"text-xs",children:""}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(pr,{className:"h-3 w-3 text-yellow-500"}),i.jsx("span",{children:t})]})]}):"No scout selected"})]})]})}var LF=1,cje=.9,uje=.8,dje=.17,Dk=.1,Rk=.999,fje=.9999,hje=.99,mje=/[\\\/_+.#"@\[\(\{&]/,pje=/[\\\/_+.#"@\[\(\{&]/g,gje=/[\s-]/,c7=/[\s-]/g;function IE(e,t,n,r,a,s,o){if(s===t.length)return a===e.length?LF:hje;var l=`${a},${s}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(s),u=n.indexOf(c,a),d=0,f,h,m,g;u>=0;)f=IE(e,t,n,r,u+1,s+1,o),f>d&&(u===a?f*=LF:mje.test(e.charAt(u-1))?(f*=uje,m=e.slice(a,u-1).match(pje),m&&a>0&&(f*=Math.pow(Rk,m.length))):gje.test(e.charAt(u-1))?(f*=cje,g=e.slice(a,u-1).match(c7),g&&a>0&&(f*=Math.pow(Rk,g.length))):(f*=dje,a>0&&(f*=Math.pow(Rk,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=fje)),(f<Dk&&n.charAt(u-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(u-1)!==r.charAt(s))&&(h=IE(e,t,n,r,u+1,s+2,o),h*Dk>f&&(f=h*Dk)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function $F(e){return e.toLowerCase().replace(c7," ")}function vje(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,IE(e,t,$F(e),$F(t),0,0,{})}var Zp='[cmdk-group=""]',Mk='[cmdk-group-items=""]',yje='[cmdk-group-heading=""]',u7='[cmdk-item=""]',FF=`${u7}:not([aria-disabled="true"])`,OE="cmdk-item-select",Jf="data-value",xje=(e,t,n)=>vje(e,t,n),d7=p.createContext(void 0),ex=()=>p.useContext(d7),f7=p.createContext(void 0),TR=()=>p.useContext(f7),h7=p.createContext(void 0),m7=p.forwardRef((e,t)=>{let n=Xf(()=>{var H,ae;return{search:"",value:(ae=(H=e.value)!=null?H:e.defaultValue)!=null?ae:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Xf(()=>new Set),a=Xf(()=>new Map),s=Xf(()=>new Map),o=Xf(()=>new Set),l=p7(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:v=!1,vimBindings:b=!0,...y}=e,x=Kr(),w=Kr(),S=Kr(),j=p.useRef(null),k=Tje();Od(()=>{if(d!==void 0){let H=d.trim();n.current.value=H,N.emit()}},[d]),Od(()=>{k(6,te)},[]);let N=p.useMemo(()=>({subscribe:H=>(o.current.add(H),()=>o.current.delete(H)),snapshot:()=>n.current,setState:(H,ae,fe)=>{var we,Pe,me,Ue;if(!Object.is(n.current[H],ae)){if(n.current[H]=ae,H==="search")G(),R(),k(1,O);else if(H==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ne=document.getElementById(S);ne?ne.focus():(we=document.getElementById(x))==null||we.focus()}if(k(7,()=>{var ne;n.current.selectedItemId=(ne=V())==null?void 0:ne.id,N.emit()}),fe||k(5,te),((Pe=l.current)==null?void 0:Pe.value)!==void 0){let ne=ae??"";(Ue=(me=l.current).onValueChange)==null||Ue.call(me,ne);return}}N.emit()}},emit:()=>{o.current.forEach(H=>H())}}),[]),P=p.useMemo(()=>({value:(H,ae,fe)=>{var we;ae!==((we=s.current.get(H))==null?void 0:we.value)&&(s.current.set(H,{value:ae,keywords:fe}),n.current.filtered.items.set(H,E(ae,fe)),k(2,()=>{R(),N.emit()}))},item:(H,ae)=>(r.current.add(H),ae&&(a.current.has(ae)?a.current.get(ae).add(H):a.current.set(ae,new Set([H]))),k(3,()=>{G(),R(),n.current.value||O(),N.emit()}),()=>{s.current.delete(H),r.current.delete(H),n.current.filtered.items.delete(H);let fe=V();k(4,()=>{G(),(fe==null?void 0:fe.getAttribute("id"))===H&&O(),N.emit()})}),group:H=>(a.current.has(H)||a.current.set(H,new Set),()=>{s.current.delete(H),a.current.delete(H)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:S,labelId:w,listInnerRef:j}),[]);function E(H,ae){var fe,we;let Pe=(we=(fe=l.current)==null?void 0:fe.filter)!=null?we:xje;return H?Pe(H,n.current.search,ae):0}function R(){if(!n.current.search||l.current.shouldFilter===!1)return;let H=n.current.filtered.items,ae=[];n.current.filtered.groups.forEach(we=>{let Pe=a.current.get(we),me=0;Pe.forEach(Ue=>{let ne=H.get(Ue);me=Math.max(ne,me)}),ae.push([we,me])});let fe=j.current;z().sort((we,Pe)=>{var me,Ue;let ne=we.getAttribute("id"),je=Pe.getAttribute("id");return((me=H.get(je))!=null?me:0)-((Ue=H.get(ne))!=null?Ue:0)}).forEach(we=>{let Pe=we.closest(Mk);Pe?Pe.appendChild(we.parentElement===Pe?we:we.closest(`${Mk} > *`)):fe.appendChild(we.parentElement===fe?we:we.closest(`${Mk} > *`))}),ae.sort((we,Pe)=>Pe[1]-we[1]).forEach(we=>{var Pe;let me=(Pe=j.current)==null?void 0:Pe.querySelector(`${Zp}[${Jf}="${encodeURIComponent(we[0])}"]`);me==null||me.parentElement.appendChild(me)})}function O(){let H=z().find(fe=>fe.getAttribute("aria-disabled")!=="true"),ae=H==null?void 0:H.getAttribute(Jf);N.setState("value",ae||void 0)}function G(){var H,ae,fe,we;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Pe=0;for(let me of r.current){let Ue=(ae=(H=s.current.get(me))==null?void 0:H.value)!=null?ae:"",ne=(we=(fe=s.current.get(me))==null?void 0:fe.keywords)!=null?we:[],je=E(Ue,ne);n.current.filtered.items.set(me,je),je>0&&Pe++}for(let[me,Ue]of a.current)for(let ne of Ue)if(n.current.filtered.items.get(ne)>0){n.current.filtered.groups.add(me);break}n.current.filtered.count=Pe}function te(){var H,ae,fe;let we=V();we&&(((H=we.parentElement)==null?void 0:H.firstChild)===we&&((fe=(ae=we.closest(Zp))==null?void 0:ae.querySelector(yje))==null||fe.scrollIntoView({block:"nearest"})),we.scrollIntoView({block:"nearest"}))}function V(){var H;return(H=j.current)==null?void 0:H.querySelector(`${u7}[aria-selected="true"]`)}function z(){var H;return Array.from(((H=j.current)==null?void 0:H.querySelectorAll(FF))||[])}function $(H){let ae=z()[H];ae&&N.setState("value",ae.getAttribute(Jf))}function U(H){var ae;let fe=V(),we=z(),Pe=we.findIndex(Ue=>Ue===fe),me=we[Pe+H];(ae=l.current)!=null&&ae.loop&&(me=Pe+H<0?we[we.length-1]:Pe+H===we.length?we[0]:we[Pe+H]),me&&N.setState("value",me.getAttribute(Jf))}function M(H){let ae=V(),fe=ae==null?void 0:ae.closest(Zp),we;for(;fe&&!we;)fe=H>0?Pje(fe,Zp):Eje(fe,Zp),we=fe==null?void 0:fe.querySelector(FF);we?N.setState("value",we.getAttribute(Jf)):U(H)}let F=()=>$(z().length-1),W=H=>{H.preventDefault(),H.metaKey?F():H.altKey?M(1):U(1)},Z=H=>{H.preventDefault(),H.metaKey?$(0):H.altKey?M(-1):U(-1)};return p.createElement(At.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:H=>{var ae;(ae=y.onKeyDown)==null||ae.call(y,H);let fe=H.nativeEvent.isComposing||H.keyCode===229;if(!(H.defaultPrevented||fe))switch(H.key){case"n":case"j":{b&&H.ctrlKey&&W(H);break}case"ArrowDown":{W(H);break}case"p":case"k":{b&&H.ctrlKey&&Z(H);break}case"ArrowUp":{Z(H);break}case"Home":{H.preventDefault(),$(0);break}case"End":{H.preventDefault(),F();break}case"Enter":{H.preventDefault();let we=V();if(we){let Pe=new Event(OE);we.dispatchEvent(Pe)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:Dje},c),IC(e,H=>p.createElement(f7.Provider,{value:N},p.createElement(d7.Provider,{value:P},H))))}),bje=p.forwardRef((e,t)=>{var n,r;let a=Kr(),s=p.useRef(null),o=p.useContext(h7),l=ex(),c=p7(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;Od(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=g7(a,s,[e.value,e.children,s],e.keywords),f=TR(),h=Qc(k=>k.value&&k.value===d.current),m=Qc(k=>u||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);p.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(OE,g),()=>k.removeEventListener(OE,g)},[m,e.onSelect,e.disabled]);function g(){var k,N;v(),(N=(k=c.current).onSelect)==null||N.call(k,d.current)}function v(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:b,value:y,onSelect:x,forceMount:w,keywords:S,...j}=e;return p.createElement(At.div,{ref:qa(s,t),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||l.getDisablePointerSelection()?void 0:v,onClick:b?void 0:g},e.children)}),wje=p.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:a,...s}=e,o=Kr(),l=p.useRef(null),c=p.useRef(null),u=Kr(),d=ex(),f=Qc(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);Od(()=>d.group(o),[]),g7(o,l,[e.value,e.heading,c]);let h=p.useMemo(()=>({id:o,forceMount:a}),[a]);return p.createElement(At.div,{ref:qa(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&p.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),IC(e,m=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},p.createElement(h7.Provider,{value:h},m))))}),Sje=p.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,a=p.useRef(null),s=Qc(o=>!o.search);return!n&&!s?null:p.createElement(At.div,{ref:qa(a,t),...r,"cmdk-separator":"",role:"separator"})}),Cje=p.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,a=e.value!=null,s=TR(),o=Qc(u=>u.search),l=Qc(u=>u.selectedItemId),c=ex();return p.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),p.createElement(At.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||s.setState("search",u.target.value),n==null||n(u.target.value)}})}),jje=p.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...a}=e,s=p.useRef(null),o=p.useRef(null),l=Qc(u=>u.selectedItemId),c=ex();return p.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),p.createElement(At.div,{ref:qa(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},IC(e,u=>p.createElement("div",{ref:qa(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Nje=p.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:s,container:o,...l}=e;return p.createElement(AC,{open:n,onOpenChange:r},p.createElement(PC,{container:o},p.createElement(EC,{"cmdk-overlay":"",className:a}),p.createElement(TC,{"aria-label":e.label,"cmdk-dialog":"",className:s},p.createElement(m7,{ref:t,...l}))))}),kje=p.forwardRef((e,t)=>Qc(n=>n.filtered.count===0)?p.createElement(At.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Aje=p.forwardRef((e,t)=>{let{progress:n,children:r,label:a="Loading...",...s}=e;return p.createElement(At.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},IC(e,o=>p.createElement("div",{"aria-hidden":!0},o)))}),Ym=Object.assign(m7,{List:jje,Item:bje,Input:Cje,Group:wje,Separator:Sje,Dialog:Nje,Empty:kje,Loading:Aje});function Pje(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Eje(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function p7(e){let t=p.useRef(e);return Od(()=>{t.current=e}),t}var Od=typeof window>"u"?p.useEffect:p.useLayoutEffect;function Xf(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Qc(e){let t=TR(),n=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,n,n)}function g7(e,t,n,r=[]){let a=p.useRef(),s=ex();return Od(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=r.map(u=>u.trim());s.value(e,l,c),(o=t.current)==null||o.setAttribute(Jf,l),a.current=l}),a}var Tje=()=>{let[e,t]=p.useState(),n=Xf(()=>new Map);return Od(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,a)=>{n.current.set(r,a),t({})}};function _je(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function IC({asChild:e,children:t},n){return e&&p.isValidElement(t)?p.cloneElement(_je(t),{ref:t.ref},n(t.props.children)):n(t)}var Dje={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function v7({className:e,...t}){return i.jsx(Ym,{"data-slot":"command",className:De("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function y7({className:e,...t}){return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(sD,{className:"size-4 shrink-0 opacity-50"}),i.jsx(Ym.Input,{"data-slot":"command-input",className:De("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function x7({className:e,...t}){return i.jsx(Ym.List,{"data-slot":"command-list",className:De("max-h-75 scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function b7({...e}){return i.jsx(Ym.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function bh({className:e,...t}){return i.jsx(Ym.Group,{"data-slot":"command-group",className:De("text-foreground **:[[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 **:[[cmdk-group-heading]]:px-2 **:[[cmdk-group-heading]]:py-1.5 **:[[cmdk-group-heading]]:text-xs **:[[cmdk-group-heading]]:font-medium",e),...t})}function Vb({className:e,...t}){return i.jsx(Ym.Item,{"data-slot":"command-item",className:De("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Rje({onAdd:e,onCancel:t,initialValue:n=""}){const[r,a]=p.useState(n),s=async()=>{r.trim()&&(await e(r.trim()),a(""))},o=async l=>{l.key==="Enter"?await s():l.key==="Escape"&&t()};return i.jsxs("div",{className:"p-2 space-y-2",children:[i.jsx(en,{placeholder:"Enter scout name...",value:r,onChange:l=>a(l.target.value),onInput:l=>a(l.target.value),onKeyDown:o,autoFocus:!0,autoComplete:"name"}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(X,{size:"sm",onClick:s,className:"flex-1",children:"Add"}),i.jsx(X,{size:"sm",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"})]})]})}function BF({currentScout:e,scoutsList:t,onScoutSelect:n,onScoutRemove:r,onClose:a}){const[s,o]=p.useState(!1),[l,c]=p.useState(""),u=m=>m.split(" ").map(g=>g.charAt(0).toUpperCase()).join("").slice(0,3),d=async m=>{await n(m),a==null||a(),o(!1)},f=async m=>{await n(m),a==null||a(),o(!1),c("")},h=()=>{o(!1),c("")};return i.jsx(v7,{shouldFilter:!0,children:s?i.jsx(Rje,{onAdd:f,onCancel:h,initialValue:l}):i.jsxs(i.Fragment,{children:[i.jsx(y7,{placeholder:"Search scouts...",onInput:m=>{const g=m.target;c(g.value)}}),i.jsx(b7,{children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No scouts found"}),i.jsxs(X,{variant:"outline",size:"sm",onClick:m=>{m.preventDefault(),m.stopPropagation(),o(!0)},className:"w-full",children:[i.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Add New Scout"]})]})}),i.jsxs(x7,{children:[i.jsx(bh,{children:t.map(m=>i.jsxs(Vb,{value:m,onSelect:()=>d(m),className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Al,{className:De("mr-2 h-4 w-4",e===m?"opacity-100":"opacity-0")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(o7,{className:"h-6 w-6",children:i.jsx(l7,{className:"text-xs bg-muted",children:u(m)})}),m]})]}),i.jsx(X,{variant:"ghost",size:"sm",onClick:async g=>{g.stopPropagation(),await r(m)},className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:i.jsx(Vs,{className:"h-3 w-3"})})]},m))}),t.length>0&&i.jsx(bh,{children:i.jsxs("div",{onClick:m=>{m.preventDefault(),m.stopPropagation(),o(!0)},className:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",children:[i.jsx(Gc,{className:"mr-2 h-4 w-4"}),"Add New Scout"]})})]})]})})}function Mje(){const{isMobile:e}=rf(),[t,n]=p.useState(!1),{currentScout:r,currentScoutStakes:a,scoutsList:s,addScout:o,removeScout:l}=kR(),c=()=>n(!1);return i.jsx(tR,{children:i.jsx(xh,{children:e?i.jsxs(i.Fragment,{children:[i.jsxs(od,{size:"lg",onClick:()=>n(!0),className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[i.jsx(OF,{currentScout:r,currentScoutStakes:a}),i.jsx(ZP,{className:"ml-auto size-4"})]}),i.jsx(to,{open:t,onOpenChange:n,children:i.jsxs(no,{className:"w-[90vw] max-w-md p-0 top-[30%] translate-y-[-30%] sm:top-[50%] sm:translate-y-[-50%]",children:[i.jsx(Go,{className:"p-4 pb-0",children:i.jsx(ro,{children:"Select Scout"})}),i.jsx("div",{className:"p-0",children:i.jsx(BF,{currentScout:r,scoutsList:s,onScoutSelect:o,onScoutRemove:l,onClose:c})})]})})]}):i.jsxs(i1,{open:t,onOpenChange:n,children:[i.jsx(o1,{asChild:!0,children:i.jsxs(od,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[i.jsx(OF,{currentScout:r,currentScoutStakes:a}),i.jsx(ZP,{className:"ml-auto size-4"})]})}),i.jsx(l1,{className:"w-[300px] p-0",side:"right",align:"start",children:i.jsx(BF,{currentScout:r,scoutsList:s,onScoutSelect:o,onScoutRemove:l,onClose:c})})]})})})}const Zc=({sources:e,variant:t="compact",className:n=""})=>{const r=e.includes("tba"),a=e.includes("nexus");if(t==="full")return i.jsxs("div",{className:`space-y-2 text-xs text-muted-foreground ${n}`,children:[r&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"Powered by"}),i.jsxs("a",{href:"https://thebluealliance.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline flex items-center gap-1",children:["The Blue Alliance",i.jsx(xg,{className:"h-3 w-3"})]})]}),a&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"Pit data from"}),i.jsxs("a",{href:"https://frc.nexus",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 underline flex items-center gap-1",children:["Nexus for FRC",i.jsx(xg,{className:"h-3 w-3"})]})]})]});if(t==="inline"){const s=[];return r&&s.push(i.jsx("a",{href:"https://thebluealliance.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"The Blue Alliance"},"tba")),a&&s.push(i.jsx("a",{href:"https://frc.nexus",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 underline",children:"Nexus for FRC"},"nexus")),i.jsxs("span",{className:`text-xs text-muted-foreground ${n}`,children:["Data from ",s.reduce((o,l,c)=>o===null?[l]:[...o,c===s.length-1?" and ":", ",l],null)]})}return i.jsxs("div",{className:`flex flex-wrap items-center gap-2 text-xs text-muted-foreground ${n}`,children:[r&&i.jsxs("a",{href:"https://thebluealliance.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline flex items-center gap-1",title:"Powered by The Blue Alliance",children:[i.jsx("span",{className:"hidden sm:inline",children:"Powered by "}),"The Blue Alliance",i.jsx(xg,{className:"h-3 w-3"})]}),a&&i.jsxs("a",{href:"https://frc.nexus",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 underline flex items-center gap-1",title:"Pit data from FRC Nexus",children:["Nexus",i.jsx("span",{className:"hidden sm:inline",children:" for FRC"}),i.jsx(xg,{className:"h-3 w-3"})]})]})},Ije="/Maneuver-2026/assets/Maneuver%20Wordmark%20Horizontal-CzPC7qce.png";class Oje{constructor(){pn(this,"isIOS");pn(this,"isInstalled");pn(this,"debugInfo");this.isIOS=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),this.isInstalled=typeof window<"u"&&window.matchMedia("(display-mode: standalone)").matches,this.debugInfo={isIOS:this.isIOS,isInstalled:this.isInstalled,userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",displayMode:typeof window<"u"&&window.matchMedia("(display-mode: standalone)").matches,vibrateSupport:typeof navigator<"u"&&"vibrate"in navigator,vibrateFunction:typeof navigator<"u"?typeof navigator.vibrate:"undefined",hostname:typeof location<"u"?location.hostname:"localhost",attempts:[]}}canVibrate(){return!(typeof navigator>"u"||!("vibrate"in navigator)||!navigator.vibrate||this.isIOS)}vibrate(t=50){const n=this.canVibrate();let r=!1;n&&typeof navigator<"u"&&"vibrate"in navigator&&(r=navigator.vibrate(t)),this.debugInfo.attempts.push({pattern:t,result:r,timestamp:new Date().toLocaleTimeString()}),this.isIOS&&!r&&this.visualFeedback()}visualFeedback(){if(typeof document>"u")return;const t=document.body.style.filter;document.body.style.filter="brightness(1.1)",document.body.style.transition="filter 0.05s ease",setTimeout(()=>{document.body.style.filter=t,setTimeout(()=>{document.body.style.transition=""},50)},50)}light(){this.vibrate(25)}medium(){this.vibrate(50)}strong(){this.vibrate(100)}success(){this.vibrate([50,100,50])}error(){this.vibrate([100,50,100,50,100])}notification(){this.vibrate([100,50,100])}selection(){this.vibrate(15)}warning(){this.vibrate([150,100,150])}isSupported(){return this.canVibrate()}getDebugInfo(){return this.debugInfo}}const ml=new Oje,Lje=Object.freeze(Object.defineProperty({__proto__:null,haptics:ml},Symbol.toStringTag,{value:"Module"})),$je={navMain:[{title:"Data Actions",url:"#",icon:iD,items:[{title:"Clear Data",url:"/clear-data"},{title:"JSON Data Transfer",url:"/json-transfer"},{title:"QR Data Transfer",url:"/qr-transfer"},{title:"WiFi Transfer (Beta)",url:"/peer-transfer"},{title:"API Data",url:"/api-data"}]},{title:"Strategy",url:"#",icon:Vfe,items:[{title:"Strategy Overview",url:"/strategy-overview"},{title:"Match Strategy",url:"/match-strategy"},{title:"Match Validation",url:"/match-validation"},{title:"Team Stats",url:"/team-stats"},{title:"Pit Scouting",url:"/pit-scouting"},{title:"Pick Lists",url:"/pick-list"}]},{title:"Scout Management",url:"#",icon:tfe,items:[{title:"Scout Dashboard",url:"/scout-management"},{title:"Achievements",url:"/achievements"},{title:"Assign Pit Scouting",url:"/pit-assignments"}]}]};function Fje({...e}){const{setOpenMobile:t}=rf(),n=p.useRef(null),r=s=>{const o=s.touches[0];o&&(n.current={x:o.clientX,y:o.clientY})},a=s=>{if(!n.current)return;const o=s.changedTouches[0];if(!o)return;const l=o.clientX-n.current.x,c=o.clientY-n.current.y,u=60;Math.abs(l)>Math.abs(c)&&Math.abs(l)>u&&l<-u&&(s.preventDefault(),ml.light(),t(!1)),n.current=null};return p.useEffect(()=>{const s=l=>{const c=document.querySelector('[data-sidebar="sidebar"]');if(c&&!c.contains(l.target)){const u=l.touches[0];if(!u)return;n.current={x:u.clientX,y:u.clientY}}},o=l=>{if(!n.current)return;const c=document.querySelector('[data-sidebar="sidebar"]');if(c&&!c.contains(l.target)){const u=l.changedTouches[0];if(!u)return;const d=u.clientX-n.current.x,f=u.clientY-n.current.y,h=60;Math.abs(d)>Math.abs(f)&&Math.abs(d)>h&&d<-h&&(l.preventDefault(),ml.light(),t(!1))}n.current=null};return document.addEventListener("touchstart",s,{passive:!0}),document.addEventListener("touchend",o,{passive:!1}),()=>{document.removeEventListener("touchstart",s),document.removeEventListener("touchend",o)}},[t]),i.jsxs(Pme,{variant:"inset",...e,children:[i.jsx(vbe,{onTouchStart:r,onTouchEnd:a,children:i.jsx(tR,{children:i.jsxs(xh,{children:[i.jsx(od,{asChild:!0,className:"data-[slot=sidebar-menu-button] h-fit",children:i.jsx("img",{src:Ije,className:"row-span-4 scale-75 dark:invert",width:"240",height:"160",alt:"Maneuver Logo Wordmark Horizontal"})}),i.jsx(Fr,{className:"my-1"})]})})}),i.jsx(xbe,{onTouchStart:r,onTouchEnd:a,children:i.jsx(SCe,{items:$je.navMain})}),i.jsxs(ybe,{children:[i.jsx("div",{className:"px-2 py-1",children:i.jsx(Zc,{sources:["tba","nexus"],variant:"compact"})}),i.jsx(Mje,{})]})]})}function _e({className:e,...t}){return i.jsx("div",{"data-slot":"card",className:De("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Ge({className:e,...t}){return i.jsx("div",{"data-slot":"card-header",className:De("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function We({className:e,...t}){return i.jsx("div",{"data-slot":"card-title",className:De("leading-none font-semibold",e),...t})}function zn({className:e,...t}){return i.jsx("div",{"data-slot":"card-description",className:De("text-muted-foreground text-sm",e),...t})}function $e({className:e,...t}){return i.jsx("div",{"data-slot":"card-content",className:De("px-6",e),...t})}function _R({className:e,...t}){return i.jsx("div",{"data-slot":"card-footer",className:De("flex items-center px-6 [.border-t]:pt-6",e),...t})}const Bje=uC("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:e,variant:t,asChild:n=!1,...r}){const a=n?By:"span";return i.jsx(a,{"data-slot":"badge",className:De(Bje({variant:t}),e),...r})}const Vje={"/":{title:"Welcome to Maneuver!",content:["This is the home page of Maneuver, your comprehensive FRC scouting solution.","To get started, you can load demo data to explore the app's features, or use the sidebar menu to navigate to different sections.","Demo data includes 51 sample matches and 14 teams to help you understand how the scouting system works.","Use the sidebar menu to access scouting forms, data management, and strategy tools.","Each page has detailed help available via tooltips or dialogs.","Click the  icon on each page for quick tips or in-depth tutorials.","Install the Maneuver app on your device for the best experience. On Android, go to the browser settings, enable 'Add to Home Screen', and follow the prompts. On Safari in iOS, use the share button and select 'Add to Home Screen'.","For more information, visit our GitHub repository."]},"/game-start":{title:"Game Start Setup",useDialog:!0,content:["![Game Start Demo](./assets/tutorials/game-start-demo.gif)","This page is where you begin each scouting session by setting up match details.","1. Make sure your scout name is selected in the sidebar first","2. Add or select an event name","3. Enter the match number you're about to scout (match numbers will auto increment)","5. Choose your alliance color (Red/Blue) based on your position","6. Select the team number you'll be watching, enter a team number if match data is not available","7. Double-check all information before proceeding to Auto phase","Pro tip: Selecting your role will auto select alliance color and team slot to make selection faster."]},"/auto-start":{title:"Autonomous Position Setup",useDialog:!0,content:["![Autonomous Demo](./assets/tutorials/auto-phase-demo.gif)","Set up the robot's starting position for the autonomous phase.","1. Look at the field map showing the starting zone positions","2. Click on the field where your robot starts the match","3. Confirm the correct position is selected (you'll see a green badge)","4. Review the match details in the sidebar to ensure accuracy","5. Click 'Continue to Auto Scoring' to begin tracking autonomous performance","The starting position affects autonomous scoring opportunities and strategy analysis."]},"/auto-scoring":{title:"Autonomous Scoring",useDialog:!0,content:["![Auto Scoring Demo](./assets/tutorials/auto-scoring-demo.gif)","Record all scoring activities during the autonomous period (first 15 seconds).","1. Use the Reef Scoring section to track coral placement on different reef levels","2. Click coral pickup buttons when the robot collects coral pieces","3. Record algae collection and processing in the Algae section","4. Toggle 'Passed Starting Line' if the robot only leaves its starting zone","5. Use the 'Undo Last Action' button to correct any mistakes","6. Watch for the flashing 'Ending Soon!' indicator as auto period concludes","The sidebar shows your recent actions and current match info for reference."]},"/teleop-scoring":{title:"Teleoperated Scoring",useDialog:!0,content:["![Teleop Scoring Demo](./assets/tutorials/teleop-scoring-demo.gif)","Record all scoring activities during the teleoperated period (2 minutes 15 seconds).","1. Use the Reef Scoring section to track coral placement at different levels (L1, L2, L3, L4)","2. Click pickup buttons when the robot collects coral or algae pieces","3. Track algae processing and net scoring in the Algae section","4. Toggle 'Played Defense' when the robot actively defends against opponents","5. Monitor the 'Recent Actions' sidebar to verify your entries","6. Use 'Undo Last Action' to correct any recording errors","7. Click 'Continue to Endgame' when your robot heads to perform endgame actions","Pro tip: The current coral/algae counts show what the robot is currently holding."]},"/endgame":{title:"Endgame",useDialog:!0,content:["![Endgame Demo](./assets/tutorials/endgame-demo.gif)","Complete the match by recording endgame activities and final observations.","1. In the Climbing section, select one option: Shallow Climb, Deep Climb, or Park","2. Mark any issues that occurred: 'Climb Failed' or 'Broke Down'","3. Add detailed comments about robot performance, strategy, or notable events","4. Review the match summary to ensure all information is correct","5. Click 'Submit Match Data' to save the complete scouting report","Your data will be saved and you'll return to Game Start for the next match."]},"/team-stats":{title:"Team Statistics",content:["Analyze team performance across all scouted matches.","1. Select a team from the dropdown to view its stats.","2. View key metrics average total points, scoring by location, auto positions, pit scouting data, and comments","3. Use the Compare to feature to analyze performance against other teams.","4. Use the event filter to narrow down stats by specific events.","This data helps with alliance selection and match strategy planning."]},"/match-strategy":{title:"Match Strategy",content:["Plan strategy for upcoming matches using scouted data.","1. Draw on the field to visualize robot paths and scoring zones.","2. Switch tabs to strategize scoring and paths for different phases of the game","3. Enter the teams on each alliance or enter a match number to auto-fill the data.","4. Compare alliance abilities in each phase of the game.","Pro tip: Using the save all button will create an image with all drawings from each phase, team numbers, and match number"]},"/pick-list":{title:"Pick Lists & Alliance Selection",useDialog:!0,content:["Create and manage team ranking lists for alliance selection with integrated alliance management.","","**Pick List Management:**","1. **Create Lists** - Use the 'Create Pick List' section to add new ranking lists with custom names and descriptions","2. **Multiple Lists** - Create specialized lists (e.g., 'Auto Specialists', 'Climb Masters', 'Versatile Teams')","3. **Add Teams** - Click the '+' button next to any team in Available Teams to add them to a pick list","4. **Reorder Teams** - Drag and drop teams within pick lists to adjust their priority ranking","5. **Delete Teams** - Remove teams from lists or delete entire lists when no longer needed","6. **Empty State** - When no pick lists exist, you'll see helpful guidance to create your first list","","**Team Analysis:**"," **Available Teams Panel** - Browse all teams with comprehensive statistics and sorting options"," **Sort Options** - Order teams by number, total coral, algae, auto performance, climb rate, and more"," **Search Filter** - Quickly find specific teams using the search box"," **Performance Stats** - View detailed metrics for each team including averages and match counts","","**Alliance Selection Integration:**"," **Toggle Alliances** - Use 'Show/Hide Alliances' button to enable alliance selection features"," **Quick Assignment** - Add teams directly to alliance positions from the Available Teams panel or pick lists"," **Alliance Table** - Manage 8 alliances with captain and pick positions, plus backup teams"," **Smart Positioning** - Teams are automatically assigned to next available position (Captain  Pick 1  Pick 2  Pick 3)"," **Conflict Prevention** - Teams are automatically removed from pick lists when assigned to alliances"," **Confirm Alliances** - Lock in final alliance selections for use in match strategy","","**Data Management:**"," **Export** - Download your pick lists as JSON files for backup or sharing with team members"," **Import** - Upload previously exported pick lists with enhanced validation and error handling"," **Data Persistence** - All lists and alliances are automatically saved to your device","","**Pro Tips:**","- Create multiple specialized pick lists for different strategic needs","- Use alliance selection during actual alliance selection process at competitions","- Export pick lists before events as backup and for sharing with drive team","- Import team data from TBA Data page first to populate the available teams","- Sort teams by different metrics to identify specialists vs versatile robots","- Use the search function to quickly locate specific teams during alliance selection"]},"/json-transfer":{title:"JSON Data Transfer",useDialog:!0,content:["![JSON Transfer Demo](./assets/tutorials/json-transfer-demo.gif)","Export your scouting data or import data from other devices.","1. 'Download Scouting Data as JSON' - Exports all your data in JSON format for backup or sharing","2. 'Download Scouting Data as CSV' - Creates a spreadsheet-compatible file for analysis in Excel, Google Sheets, etc.","3. 'Upload JSON Data' - Import scouting data from other devices or restore from backup","4. JSON files maintain full data structure while CSV is optimized for spreadsheet analysis","5. Upload will overwrite your current local data, so export first if you want to keep it","Pro tip: Use JSON for device--to-device transfers and CSV for data analysis in spreadsheet tools."]},"/api-data":{title:"API Data Management",useDialog:!0,content:["Unified data management system integrating The Blue Alliance API and Nexus for FRC for comprehensive competition data import.","","**Getting Started:**","1. **TBA API Key** - Get your API key from thebluealliance.com/account (required for TBA operations)","2. **Nexus API Key** - Get your API key from frc.nexus/en/api (required for Nexus operations)","2. **Event Selection** - Enter event key (e.g., '2024chcmp', '2024week0', '2024necmp') for the competition","3. **Session Storage** - Choose 'Remember for session only' to keep credentials for convenience","4. **Data Source Selection** - Choose between The Blue Alliance and Nexus for FRC based on your needs","","**The Blue Alliance Integration:**"," **Match Schedule** - Import team lineups and qualification match schedules","  - Loads all qualification matches with team assignments","  - Populates team dropdowns in scouting forms and match strategy","  - Enables match number validation during scouting",""," **Match Results** - Verify predictions against actual match outcomes","  - Import completed match scores and winning alliances","  - Used for validating scouting predictions and awarding stakes","  - Shows red/blue alliance scores and match winners",""," **Event Teams** - Load complete team lists for pit scouting and analysis","  - Downloads all teams participating in the event","  - Creates local team database for pit assignments and pick lists","  - View teams in organized grid layout with filtering options","","**FRC Nexus Integration:**"," **Enhanced Pit Data** - Import pit data for pit addresses and pit maps for an enhanced pit scouting experience","","**Consolidated Data Management:**"," **Unified Interface** - Single page for all external data import needs"," **Smart Caching** - Reduces API calls and improves performance"," **Data Validation** - Automatic verification and error handling"," **Backup Integration** - Seamless export/import with QR and JSON systems","","**Best Practices:**","- Event keys are found on TBA event pages (URL format: /event/EVENTKEY)","- Import team data early in events for complete pit scouting coverage","- Use match results data to validate and improve your scouting accuracy","- Regular data refresh ensures you have latest competition information","- Export imported data as backup before major competitions"]},"/qr-data-transfer":{title:"QR Data Transfer Hub",useDialog:!0,content:["![QR Data Transfer Demo](./assets/tutorials/qr-scouting-demo.gif)","Comprehensive QR code-based data transfer system for all types of scouting data exchange.","","**Consolidated QR Transfer Features:**"," **Scouting Data Transfer** - Share match scouting data between devices"," **Match Schedule Transfer** - Distribute event schedules across your team"," **Pick List Transfer** - Share alliance selection lists and rankings"," **All Data Types** - Unified interface for any data transfer needs","","**Generate Fountain Codes:**","1. Select the type of data you want to share (scouting data, match schedules, etc.)","2. Choose transfer speed - use slower speeds in poor lighting or for older devices","3. Click 'Generate & Start Auto-Cycling' to begin the QR code sequence","4. Keep the generating device steady and ensure good lighting conditions","5. The QR codes will automatically cycle - let recipients scan at their own pace","","**Scan Fountain Codes:**","1. Position your device camera to clearly see the QR codes being displayed","2. The progress bar shows reconstruction status as you scan multiple codes","3. Continue scanning until 100% completion is reached","4. Use 'Reset Scanner' to clear progress and start over if needed","5. Choose 'Continue to App' when finished or 'Scan More Data' for additional transfers","","**Fountain Code Technology:**"," Breaks large datasets into smaller, manageable QR code segments"," Redundant encoding ensures data integrity even with missed scans"," Works completely offline - perfect when WiFi/internet isn't available"," Automatic error correction and data validation","","**Best Practices:**","- Scouting leads should use this to collect data from scouts throughout events perfect for collecting data in batches so you don't have to collect after every match","- Transfer data to drive teams in the pit for real-time strategy updates","- Share with other teams using Maneuver for collaborative scouting","- Use good lighting and keep devices steady during transfer","- Allow time for complete scanning - rushing can cause data corruption"]},"/strategy-overview":{title:"Strategy Overview",useDialog:!0,content:["![Strategy Overview Demo](./assets/tutorials/strategy-overview-demo.gif)","Comprehensive team performance analysis with advanced filtering and visualization tools.","1. Use the 'Event Filter' to analyze specific competitions or view all data combined","2. Change 'Aggregation Type' (Average, Median, Max, 75th percentile) to see different statistical views","3. 'Chart Section' - Toggle between bar charts for single metrics or scatter plots for correlation analysis","4. 'Column Settings' - Show/hide specific data columns or use quick presets (Essential, Auto, Teleop, etc.)","5. 'Column Filters' - Set numeric filters (>, >=, <, <=, =, !=) to find teams meeting specific criteria","6. 'Data Table' - Sort by any column, view aggregated statistics across all scouted matches","7. Use scatter plots to find correlations between metrics (e.g., coral vs algae scoring)","Perfect for alliance selection, identifying team strengths/weaknesses, and strategic planning."]},"/clear-data":{title:"Clear Data",content:["Manage and clear scouting data when needed.","Use carefully as this action cannot be undone.","Consider exporting important data before clearing.","Useful for starting fresh at new competitions or clearing test data."]},"/scout-management":{title:"Scout Management Dashboard",useDialog:!0,content:["Comprehensive dashboard for monitoring scout performance and managing scout statistics.","1. **View Selector** - Toggle between three visualization modes:","    Bar Chart - Visual ranking of scouts by selected metric","    Line Chart - Track scout performance progression over time","    Table - Detailed statistics with medal rankings for top 3 scouts","2. **Metric Selector** - Choose which performance metric to analyze:","    Stakes - Total stakes earned by the scout","    Total Predictions - Number of predictions made","    Correct Predictions - Number of accurate predictions","    Accuracy % - Percentage of correct predictions","    Current Streak - Active prediction streak","    Best Streak - Longest streak achieved","3. **Individual Scout Profile** - Select any scout to view detailed statistics and performance badges","4. **Summary Statistics** - Overview cards showing total scouts, predictions, stakes, and average accuracy","5. **Medal System** - Table view shows gold , silver , and bronze  rankings for top performers","Perfect for tracking scout engagement, identifying top performers, and managing scout teams during competitions.","Pro tip: Have disengaged scouts? Stakes are a great way to gamify scouting and encourage participation and further analysis of your data."]},"/pit-assignments":{title:"Pit Assignments",useDialog:!0,content:["Organize and manage pit scouting assignments across your team members with comprehensive tracking and assignment tools.","**Getting Started:**","1. **Add Scouts** - Use the Scout Management section to add team members who will conduct pit scouting","2. **Import Team Data** - Teams must be imported from the TBA Data page before creating assignments","3. **Event Information** - View current event details and team count (automatically loaded from TBA data)","","**Assignment Modes:**"," **Block Assignment** - Automatically divides teams into consecutive blocks for each scout","  - Teams are sorted numerically and distributed evenly","  - Each scout gets a sequential block of teams (e.g., Teams 1-10, 11-20, etc.)","  - Perfect for systematic coverage with minimal overlap at events with sequential pit locations",""," **Manual Assignment** - Click-to-assign individual teams to specific scouts","  - Select a scout from the colored buttons, then click team cards to assign","  - Right-click team cards to remove assignments","  - Must confirm assignments before scouts can mark teams as completed","","**Two View Modes:**"," **Team Cards** - Visual grid layout with color-coded assignments","  - Each team shows as a card with scout color coding","  - Easy to see assignment distribution at a glance","  - Interactive assignment and completion tracking",""," **Table View** - Sortable table with search and filtering capabilities","  - Sort by team number, assigned scout, or completion status","  - Search for specific teams or scouts","  - Export assignments to CSV for external sharing","","**Progress Tracking:**"," Visual progress bars show completion percentage"," Color-coded scout legend with assignment counts"," Real-time updates as teams are marked complete"," Clear indicators for unassigned teams","","**Pro Tips:**","- Block assignments work best for large events with consistent coverage needs","- Manual assignments are ideal when you need specific scout-team pairings","- Use the search function in table view to quickly find specific teams","- Export data regularly to backup your assignment progress","- Assignments persist until manually cleared, perfect for multi-day events","- Import new event data from TBA Data page will replace the current event automatically"]},"/peer-transfer":{title:"WiFi Transfer",useDialog:!0,content:["Fast peer--to-peer data transfer over WiFi or cellular networks using room codes. Connections persist across navigation and auto-reconnect on disconnect. Requires all devices to have internet connectivity. For offline environments, use the QR Code transfer method instead.","","**Data Transfer Types:**"," **Scouting Data** - Match scouting entries from scouts to lead"," **Pit Scouting Data** - Pit scouting reports and team observations"," **Match Schedule** - Event schedules and match lineups from lead to scouts"," **Scout Profiles** - Team member profiles"," **Combined Data** - Scouting data + scout profiles in one transfer","","**Lead Scout Features:**"," **Individual Actions** - Request or push data to specific scouts"," **Batch Operations** - Request from all or push to all scouts simultaneously"," **Disconnect Scout** - X button to disconnect individual scouts (notifies scout)"," **Navigate Away** - Connections stay active when you leave the page"," **Auto-Reconnect** - Scouts rejoin automatically when you return","","**Scout Features:**"," **Simple Join** - Enter room code once, stay connected"," **Approve/Decline** - Control what data you send or receive"," **Background Connection** - Use other app features while staying connected"," **Visual Indicators** - Connection status shown clearly"," **Auto-Reconnect** - Reconnects automatically if disconnected","","**Connection Status:**"," **Connected**  - Active WebRTC connection, ready for data transfer"," **Connecting**  - Establishing connection via signaling server"," **Disconnected**  - Connection lost, attempting auto-reconnect"," **Timeout**  - 30-second connection timeout with countdown indicator","","**Transfer History:**"," **Recent Transfers** - View all completed data exchanges"," **Clear History** - Trash button to remove all transfer records"," **Transfer Details** - See data type, scout name, timestamp, and record count","","**Troubleshooting:**","- **Connection Timeout?** Verify all devices have internet access (WiFi or cellular)","- **Scout Not Connecting?** They may need to refresh and re-enter the code","- **Auto-Reconnect Failed?** Try clearing saved room code and generating new one","- **Lead Navigation Issues?** Wait a few seconds after returning for scouts to announce","- **Multiple Scouts Disconnecting?** Check lead's internet connection stability","- **No Internet Available?** Fall back to QR Code transfer method for offline use","","**Best Practices:**"," Share room code clearly - verbal, text message, or screen display"," Keep lead device stable with good internet connection"," Scouts can navigate freely - connections persist globally"," Generate new code for each event or session"," Use 'Push to All' for distributing schedules efficiently"," Monitor scout cards for connection status"," Clear saved room code when starting fresh","","**When to Use QR Instead:**"," No WiFi or cellular data available at venue"," Sharing data between different teams/organizations"," One-time transfers without ongoing connection needs"]}},zje=e=>Vje[e]||null,Uje=({title:e,content:t,useDialog:n=!1})=>{const[r,a]=p.useState(!1),[s,o]=p.useState(!1),l=Ja(),c=zje(l.pathname),u=e||(c==null?void 0:c.title)||"Page Help",d=t||(c==null?void 0:c.content)||["No help available for this page."],f=Array.isArray(d)?d:[d];return!e&&!t&&!c?null:n||(c==null?void 0:c.useDialog)||f.length>3||f.some(m=>m.length>200)?i.jsxs(to,{open:s,onOpenChange:o,children:[i.jsx(_C,{asChild:!0,children:i.jsxs(X,{variant:"ghost",size:"sm",className:"h-8 w-fit px-2 mr-0 ",children:[i.jsx("span",{className:"flex items-center justify-center",children:"Page Help"}),i.jsx(R4,{className:"h-4 w-4"})]})}),i.jsxs(no,{className:"max-w-[calc(100vw-2rem)] sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(Go,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ro,{className:"text-xl",children:u}),i.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Tutorial"})]}),i.jsxs(lf,{className:"sr-only",children:["Detailed tutorial for ",u]})]}),i.jsx("div",{className:"space-y-4 mt-4",children:f.map((m,g)=>{if(m.includes("![")&&m.includes("](")){const y=m.match(/!\[([^\]]*)\]\(([^)]*)\)/);if(y){const[,x,w]=y;return i.jsx("div",{className:"text-center my-6",children:i.jsx("div",{className:"bg-muted rounded-lg p-6 mb-2",children:i.jsxs("div",{className:"text-muted-foreground text-sm space-y-2",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-muted-foreground/20 rounded-lg flex items-center justify-center mb-4",children:navigator.onLine?i.jsx(D4,{className:"w-8 h-8 text-muted-foreground/40"}):i.jsxs("div",{className:"text-center",children:[i.jsx(D4,{className:"w-8 h-8 text-muted-foreground/40 mx-auto mb-2"}),i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mx-auto",title:"Offline"})]})}),i.jsxs("p",{className:"font-medium",children:[navigator.onLine?"Tutorial Visual":"Offline Mode",": ",x]}),i.jsxs("p",{className:"text-xs",children:[navigator.onLine?"Coming Soon":"Available when online",": ",w]}),i.jsx("p",{className:"text-xs text-muted-foreground/70",children:navigator.onLine?"This will show an interactive demonstration of the process":"Follow the numbered steps below - visuals will load when back online"})]})})},g)}}const v=/^\d+\.||-/.test(m.trim());let b="";if(v){const y=m.trim().match(/^(\d+)\./);b=(y==null?void 0:y[1])??""}return i.jsxs("div",{className:v?"flex gap-3":"",children:[v&&i.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs flex items-center justify-center mt-0.5 shrink-0",children:b}),i.jsx("p",{className:`text-sm ${v?"flex-1":""} ${v?"text-foreground":"text-muted-foreground"}`,children:m.replace(/^\d+\.||-\s*/,"")})]},g)})})]})]}):r?i.jsxs(_e,{className:"fixed top-20 right-4 z-50 w-80 max-w-[calc(100vw-2rem)] shadow-lg",children:[i.jsx(Ge,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(We,{className:"text-lg",children:u}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>a(!1),className:"h-6 w-6 p-0",children:i.jsx(Wa,{className:"h-4 w-4"})})]})}),i.jsx($e,{className:"pt-0",children:i.jsx("div",{className:"space-y-3 text-sm",children:f.map((m,g)=>i.jsx("p",{className:"text-muted-foreground",children:m},g))})})]}):i.jsx(SD,{children:i.jsxs(h9,{children:[i.jsx(m9,{asChild:!0,children:i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"h-8 w-8 p-0",children:i.jsx(R4,{className:"h-4 w-4"})})}),i.jsx(p9,{children:i.jsx("p",{children:"How to use this page"})})]})})};function Kje(){const e=Ja(),[t,n]=p.useState(!0),[r,a]=p.useState(!1);return p.useEffect(()=>{const s=()=>{const h=window.innerWidth<1536;if(a(h),!h){n(!0);return}};s();let o=0,l=!1;const c=h=>{l||(requestAnimationFrame(()=>{const g=h.target.scrollTop;g<=50?n(!0):g>o&&g>100?n(!1):g<o&&o-g>10&&n(!0),o=g,l=!1}),l=!0)},u=()=>{setTimeout(()=>{const h=document.querySelector('main[data-slot="sidebar-inset"]');h&&h.addEventListener("scroll",c,{passive:!0})},100)},d=()=>{const h=document.querySelector('main[data-slot="sidebar-inset"]');h&&h.removeEventListener("scroll",c)};r&&u();const f=()=>{d(),s(),window.innerWidth<1536&&u(),n(!0)};return window.addEventListener("resize",f),()=>{d(),window.removeEventListener("resize",f)}},[e.pathname,r]),i.jsx("header",{className:`flex h-(--header-height) items-center bg-popover/95 backdrop-blur-sm gap-2 border-b transition-all duration-300 ease-out group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height) py-2 z-30 ${r?`fixed top-0 left-0 right-0 ${t?"translate-y-0":"-translate-y-full"}`:"sticky top-0"}`,children:i.jsxs("div",{className:"flex w-full items-center gap-1 px-4 lg:gap-2 lg:px-6",children:[i.jsx(gbe,{className:"-ml-1",size:"lg"}),i.jsx(Fr,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-12"}),i.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(Uje,{})}),i.jsx(X,{variant:"ghost",className:"hidden sm:flex w-auto h-auto px-6",children:i.jsx("a",{href:"https://github.com/ShinyShips/Maneuver",rel:"noopener noreferrer",target:"_blank",className:"dark:text-foreground",children:"GitHub"})})]})]})})}function Gje(){const[e,t]=p.useState(!1);return p.useEffect(()=>{const n=()=>{const s=window.matchMedia("(display-mode: standalone)").matches,o="standalone"in window.navigator&&window.navigator.standalone===!0;t(s||o)};n();const r=window.matchMedia("(display-mode: standalone)"),a=()=>n();return r.addEventListener("change",a),()=>{r.removeEventListener("change",a)}},[]),e}const Wje=[{icon:gG,label:"Scout",href:"/game-start"},{icon:eE,label:"WiFi Data",href:"/peer-transfer"},{icon:wfe,label:"QR Data",href:"/qr-transfer"},{icon:Ed,label:"Strategy",href:"/strategy-overview"},{icon:rD,label:"Match",href:"/match-strategy"}];function qje(){const e=Ja(),t=Gje(),n=Um(),{confirmNavigation:r,handleConfirm:a,handleCancel:s,isConfirmDialogOpen:o,pendingDestinationLabel:l}=vH(),c=!1;if(!(n&&(t||c)))return null;const d=(f,h)=>{ml.light(),r(f,h)};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[c,i.jsx("nav",{className:"flex items-center justify-around py-2 px-4",children:Wje.map(f=>{const h=f.icon,m=e.pathname===f.href;return i.jsxs(X,{variant:"ghost",onClick:()=>d(f.href,f.label),className:De("flex flex-col items-center gap-1 p-2 rounded-lg transition-colors","min-w-0 flex-1 max-w-16 h-auto",m?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[i.jsx(h,{className:"h-5 w-5 shrink-0"}),i.jsx("span",{className:"text-xs font-medium truncate",children:f.label})]},f.href)})})]}),i.jsx(IH,{open:o,onConfirm:a,onCancel:s,destinationLabel:l})]})}function Hje(){const{pathname:e}=Ja();return p.useEffect(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,document.querySelectorAll("[data-scrollable], .overflow-auto, .overflow-y-auto, .overflow-scroll, .overflow-y-scroll").forEach(r=>{r instanceof HTMLElement&&(r.scrollTop=0)});const n=document.querySelector('main, [role="main"], .main-content');n instanceof HTMLElement&&(n.scrollTop=0)},[e]),null}function Yje(){return i.jsxs(Tge,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:[i.jsx(Fje,{variant:"inset"}),i.jsxs(Eme,{children:[i.jsx(Kje,{}),i.jsx(Hje,{}),i.jsx("div",{className:"2xl:pb-0 !2xl:pt-0",children:i.jsx(fue,{})}),i.jsx(qje,{})]})]})}var Qje=(e,t,n,r,a,s,o,l)=>{let c=document.documentElement,u=["light","dark"];function d(m){(Array.isArray(e)?e:[e]).forEach(g=>{let v=g==="class",b=v&&s?a.map(y=>s[y]||y):a;v?(c.classList.remove(...b),c.classList.add(s&&s[m]?s[m]:m)):c.setAttribute(g,m)}),f(m)}function f(m){l&&u.includes(m)&&(c.style.colorScheme=m)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let m=localStorage.getItem(t)||n,g=o&&m==="system"?h():m;d(g)}catch{}},Zje=p.createContext(void 0),Jje={setTheme:e=>{},themes:[]},Xje=()=>{var e;return(e=p.useContext(Zje))!=null?e:Jje};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:s,value:o,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([n,t,s,e,l,o,r,a]).slice(1,-1);return p.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Qje.toString()})(${d})`}})});var eNe=e=>{switch(e){case"success":return rNe;case"info":return sNe;case"warning":return aNe;case"error":return iNe;default:return null}},tNe=Array(12).fill(0),nNe=({visible:e,className:t})=>qe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},qe.createElement("div",{className:"sonner-spinner"},tNe.map((n,r)=>qe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),rNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),aNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},qe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),qe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lNe=()=>{let[e,t]=qe.useState(document.hidden);return qe.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},LE=1,cNe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:LE++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0,s,o=r.then(async c=>{if(s=["resolve",c],qe.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(dNe(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||LE++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cs=new cNe,uNe=(e,t)=>{let n=(t==null?void 0:t.id)||LE++;return cs.addToast({title:e,...t,id:n}),n},dNe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fNe=uNe,hNe=()=>cs.toasts,mNe=()=>cs.getActiveToasts(),le=Object.assign(fNe,{success:cs.success,info:cs.info,warning:cs.warning,error:cs.error,custom:cs.custom,message:cs.message,promise:cs.promise,dismiss:cs.dismiss,loading:cs.loading},{getHistory:hNe,getToasts:mNe});function pNe(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}pNe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function I0(e){return e.label!==void 0}var gNe=3,vNe="32px",yNe="16px",VF=4e3,xNe=356,bNe=14,wNe=20,SNe=200;function Pi(...e){return e.filter(Boolean).join(" ")}function CNe(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var jNe=e=>{var t,n,r,a,s,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:v,setHeights:b,visibleToasts:y,heights:x,index:w,toasts:S,expanded:j,removeToast:k,defaultRichColors:N,closeButton:P,style:E,cancelButtonStyle:R,actionButtonStyle:O,className:G="",descriptionClassName:te="",duration:V,position:z,gap:$,loadingIcon:U,expandByDefault:M,classNames:F,icons:W,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:H}=e,[ae,fe]=qe.useState(null),[we,Pe]=qe.useState(null),[me,Ue]=qe.useState(!1),[ne,je]=qe.useState(!1),[ve,re]=qe.useState(!1),[Ye,Fe]=qe.useState(!1),[Je,Le]=qe.useState(!1),[lt,ct]=qe.useState(0),[be,Ce]=qe.useState(0),oe=qe.useRef(m.duration||V||VF),xt=qe.useRef(null),rt=qe.useRef(null),Rt=w===0,zt=w+1<=y,Pt=m.type,It=m.dismissible!==!1,an=m.className||"",Jt=m.descriptionClassName||"",jn=qe.useMemo(()=>x.findIndex(_t=>_t.toastId===m.id)||0,[x,m.id]),Re=qe.useMemo(()=>{var _t;return(_t=m.closeButton)!=null?_t:P},[m.closeButton,P]),Ke=qe.useMemo(()=>m.duration||V||VF,[m.duration,V]),Q=qe.useRef(0),ke=qe.useRef(0),He=qe.useRef(0),Be=qe.useRef(null),[tt,nt]=z.split("-"),bt=qe.useMemo(()=>x.reduce((_t,pt,Tt)=>Tt>=jn?_t:_t+pt.height,0),[x,jn]),ze=lNe(),Nn=m.invert||h,Nt=Pt==="loading";ke.current=qe.useMemo(()=>jn*$+bt,[jn,bt]),qe.useEffect(()=>{oe.current=Ke},[Ke]),qe.useEffect(()=>{Ue(!0)},[]),qe.useEffect(()=>{let _t=rt.current;if(_t){let pt=_t.getBoundingClientRect().height;return Ce(pt),b(Tt=>[{toastId:m.id,height:pt,position:m.position},...Tt]),()=>b(Tt=>Tt.filter(kn=>kn.toastId!==m.id))}},[b,m.id]),qe.useLayoutEffect(()=>{if(!me)return;let _t=rt.current,pt=_t.style.height;_t.style.height="auto";let Tt=_t.getBoundingClientRect().height;_t.style.height=pt,Ce(Tt),b(kn=>kn.find(Xn=>Xn.toastId===m.id)?kn.map(Xn=>Xn.toastId===m.id?{...Xn,height:Tt}:Xn):[{toastId:m.id,height:Tt,position:m.position},...kn])},[me,m.title,m.description,b,m.id]);let vr=qe.useCallback(()=>{je(!0),ct(ke.current),b(_t=>_t.filter(pt=>pt.toastId!==m.id)),setTimeout(()=>{k(m)},SNe)},[m,k,b,ke]);qe.useEffect(()=>{if(m.promise&&Pt==="loading"||m.duration===1/0||m.type==="loading")return;let _t;return j||v||H&&ze?(()=>{if(He.current<Q.current){let pt=new Date().getTime()-Q.current;oe.current=oe.current-pt}He.current=new Date().getTime()})():oe.current!==1/0&&(Q.current=new Date().getTime(),_t=setTimeout(()=>{var pt;(pt=m.onAutoClose)==null||pt.call(m,m),vr()},oe.current)),()=>clearTimeout(_t)},[j,v,m,Pt,H,ze,vr]),qe.useEffect(()=>{m.delete&&vr()},[vr,m.delete]);function yr(){var _t,pt,Tt;return W!=null&&W.loading?qe.createElement("div",{className:Pi(F==null?void 0:F.loader,(_t=m==null?void 0:m.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":Pt==="loading"},W.loading):U?qe.createElement("div",{className:Pi(F==null?void 0:F.loader,(pt=m==null?void 0:m.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":Pt==="loading"},U):qe.createElement(nNe,{className:Pi(F==null?void 0:F.loader,(Tt=m==null?void 0:m.classNames)==null?void 0:Tt.loader),visible:Pt==="loading"})}return qe.createElement("li",{tabIndex:0,ref:rt,className:Pi(G,an,F==null?void 0:F.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[Pt],(n=m==null?void 0:m.classNames)==null?void 0:n[Pt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":me,"data-promise":!!m.promise,"data-swiped":Je,"data-removed":ne,"data-visible":zt,"data-y-position":tt,"data-x-position":nt,"data-index":w,"data-front":Rt,"data-swiping":ve,"data-dismissible":It,"data-type":Pt,"data-invert":Nn,"data-swipe-out":Ye,"data-swipe-direction":we,"data-expanded":!!(j||M&&me),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${ne?lt:ke.current}px`,"--initial-height":M?"auto":`${be}px`,...E,...m.style},onDragEnd:()=>{re(!1),fe(null),Be.current=null},onPointerDown:_t=>{Nt||!It||(xt.current=new Date,ct(ke.current),_t.target.setPointerCapture(_t.pointerId),_t.target.tagName!=="BUTTON"&&(re(!0),Be.current={x:_t.clientX,y:_t.clientY}))},onPointerUp:()=>{var _t,pt,Tt,kn;if(Ye||!It)return;Be.current=null;let Xn=Number(((_t=rt.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ja=Number(((pt=rt.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ue=new Date().getTime()-((Tt=xt.current)==null?void 0:Tt.getTime()),he=ae==="x"?Xn:ja,Ee=Math.abs(he)/ue;if(Math.abs(he)>=wNe||Ee>.11){ct(ke.current),(kn=m.onDismiss)==null||kn.call(m,m),Pe(ae==="x"?Xn>0?"right":"left":ja>0?"down":"up"),vr(),Fe(!0),Le(!1);return}re(!1),fe(null)},onPointerMove:_t=>{var pt,Tt,kn,Xn;if(!Be.current||!It||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;let ja=_t.clientY-Be.current.y,ue=_t.clientX-Be.current.x,he=(Tt=e.swipeDirections)!=null?Tt:CNe(z);!ae&&(Math.abs(ue)>1||Math.abs(ja)>1)&&fe(Math.abs(ue)>Math.abs(ja)?"x":"y");let Ee={x:0,y:0};ae==="y"?(he.includes("top")||he.includes("bottom"))&&(he.includes("top")&&ja<0||he.includes("bottom")&&ja>0)&&(Ee.y=ja):ae==="x"&&(he.includes("left")||he.includes("right"))&&(he.includes("left")&&ue<0||he.includes("right")&&ue>0)&&(Ee.x=ue),(Math.abs(Ee.x)>0||Math.abs(Ee.y)>0)&&Le(!0),(kn=rt.current)==null||kn.style.setProperty("--swipe-amount-x",`${Ee.x}px`),(Xn=rt.current)==null||Xn.style.setProperty("--swipe-amount-y",`${Ee.y}px`)}},Re&&!m.jsx?qe.createElement("button",{"aria-label":Z,"data-disabled":Nt,"data-close-button":!0,onClick:Nt||!It?()=>{}:()=>{var _t;vr(),(_t=m.onDismiss)==null||_t.call(m,m)},className:Pi(F==null?void 0:F.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(s=W==null?void 0:W.close)!=null?s:oNe):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:qe.createElement(qe.Fragment,null,Pt||m.icon||m.promise?qe.createElement("div",{"data-icon":"",className:Pi(F==null?void 0:F.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||yr():null,m.type!=="loading"?m.icon||(W==null?void 0:W[Pt])||eNe(Pt):null):null,qe.createElement("div",{"data-content":"",className:Pi(F==null?void 0:F.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},qe.createElement("div",{"data-title":"",className:Pi(F==null?void 0:F.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?qe.createElement("div",{"data-description":"",className:Pi(te,Jt,F==null?void 0:F.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&I0(m.cancel)?qe.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:_t=>{var pt,Tt;I0(m.cancel)&&It&&((Tt=(pt=m.cancel).onClick)==null||Tt.call(pt,_t),vr())},className:Pi(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&I0(m.action)?qe.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:_t=>{var pt,Tt;I0(m.action)&&((Tt=(pt=m.action).onClick)==null||Tt.call(pt,_t),!_t.defaultPrevented&&vr())},className:Pi(F==null?void 0:F.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function zF(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function NNe(e,t){let n={};return[e,t].forEach((r,a)=>{let s=a===1,o=s?"--mobile-offset":"--offset",l=s?yNe:vNe;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var kNe=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=gNe,toastOptions:v,dir:b=zF(),gap:y=bNe,loadingIcon:x,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[k,N]=qe.useState([]),P=qe.useMemo(()=>Array.from(new Set([r].concat(k.filter(H=>H.position).map(H=>H.position)))),[k,r]),[E,R]=qe.useState([]),[O,G]=qe.useState(!1),[te,V]=qe.useState(!1),[z,$]=qe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=qe.useRef(null),M=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=qe.useRef(null),W=qe.useRef(!1),Z=qe.useCallback(H=>{N(ae=>{var fe;return(fe=ae.find(we=>we.id===H.id))!=null&&fe.delete||cs.dismiss(H.id),ae.filter(({id:we})=>we!==H.id)})},[]);return qe.useEffect(()=>cs.subscribe(H=>{if(H.dismiss){N(ae=>ae.map(fe=>fe.id===H.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{Y_.flushSync(()=>{N(ae=>{let fe=ae.findIndex(we=>we.id===H.id);return fe!==-1?[...ae.slice(0,fe),{...ae[fe],...H},...ae.slice(fe+1)]:[H,...ae]})})})}),[]),qe.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:ae})=>{$(ae?"dark":"light")})}catch{H.addListener(({matches:fe})=>{try{$(fe?"dark":"light")}catch(we){console.error(we)}})}},[d]),qe.useEffect(()=>{k.length<=1&&G(!1)},[k]),qe.useEffect(()=>{let H=ae=>{var fe,we;a.every(Pe=>ae[Pe]||ae.code===Pe)&&(G(!0),(fe=U.current)==null||fe.focus()),ae.code==="Escape"&&(document.activeElement===U.current||(we=U.current)!=null&&we.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[a]),qe.useEffect(()=>{if(U.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,W.current=!1)}},[U.current]),qe.createElement("section",{ref:t,"aria-label":`${S} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((H,ae)=>{var fe;let[we,Pe]=H.split("-");return k.length?qe.createElement("ol",{key:H,dir:b==="auto"?zF():b,tabIndex:-1,ref:U,className:l,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":we,"data-lifted":O&&k.length>1&&!s,"data-x-position":Pe,style:{"--front-toast-height":`${((fe=E[0])==null?void 0:fe.height)||0}px`,"--width":`${xNe}px`,"--gap":`${y}px`,...m,...NNe(c,u)},onBlur:me=>{W.current&&!me.currentTarget.contains(me.relatedTarget)&&(W.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||W.current||(W.current=!0,F.current=me.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{te||G(!1)},onDragEnd:()=>G(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},k.filter(me=>!me.position&&ae===0||me.position===H).map((me,Ue)=>{var ne,je;return qe.createElement(jNe,{key:me.id,icons:w,index:Ue,toast:me,defaultRichColors:f,duration:(ne=v==null?void 0:v.duration)!=null?ne:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:(je=v==null?void 0:v.closeButton)!=null?je:o,interacting:te,position:H,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Z,toasts:k.filter(ve=>ve.position==me.position),heights:E.filter(ve=>ve.position==me.position),setHeights:R,expandByDefault:s,gap:y,loadingIcon:x,expanded:O,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const ANe=({...e})=>{const{theme:t="system"}=Xje();return i.jsx(kNe,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},PNe=()=>i.jsxs("div",{className:"flex bg-background h-screen w-screen flex-col",children:[i.jsx(Yje,{}),i.jsx(ANe,{})]}),ENe="/Maneuver-2026/assets/Investigating-ChGTA_4m.png";function TNe(){const e=zo();return i.jsxs("div",{className:"flex flex-col items-center min-h-screen w-full px-4 pt-12 pb-24",children:[i.jsx("img",{src:ENe,alt:"Investigating",className:"mb-4 dark:invert"}),i.jsx("h1",{className:"text-5xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-lg text-muted-foreground mb-2",children:"Page Not Found"}),i.jsx("p",{className:"text-base text-muted-foreground mb-6 text-center max-w-xl",children:"Oops! The page youre looking for doesnt exist, was moved, or never existed. If you think this is a mistake, please check the URL or return to the home page."}),i.jsx(X,{onClick:()=>e("/"),className:"h-12 text-lg font-semibold px-4 w-full max-w-lg",children:"Go Home"})]})}const _Ne=({logo:e,appName:t="Maneuver",version:n="1.0.0",onLoadDemoData:r,onClearData:a,checkExistingData:s,demoDataDescription:o="Load sample scouting data to explore the app's features",demoDataStats:l="Demo data loaded successfully!"}={})=>{const[c,u]=p.useState(!1),[d,f]=p.useState(!1);p.useEffect(()=>{(async()=>{if(s)try{const v=await s();f(v)}catch(v){console.error("Error checking existing data:",v)}})()},[s]);const h=async()=>{if(r){ml.medium(),u(!0);try{await r(),f(!0),ml.success(),Lh.trackEvent("demo_data_loaded")}catch(g){ml.error(),console.error("HomePage - Error loading demo data:",g),g instanceof Error&&console.error("Error details:",g.message,g.stack)}finally{u(!1)}}},m=async()=>{if(a){ml.medium();try{await a(),f(!1),Lh.trackEvent("demo_data_cleared")}catch(g){console.error("Error clearing data:",g),f(!1),Lh.trackEvent("demo_data_cleared")}}};return i.jsxs("main",{className:"relative h-screen w-full",children:[i.jsxs("div",{className:De("flex flex-col h-screen w-full justify-center items-center gap-6 2xl:pb-6","bg-size-[40px_40px]","bg-[linear-gradient(to_right,#e4e4e7_1px,transparent_1px),linear-gradient(to_bottom,#e4e4e7_1px,transparent_1px)]","dark:bg-[linear-gradient(to_right,#262626_1px,transparent_1px),linear-gradient(to_bottom,#262626_1px,transparent_1px)]"),children:[i.jsxs("div",{className:"flex flex-col w-auto justify-center items-center gap-6 scale-75 md:scale-75 lg:scale-100",children:[e?i.jsx("img",{src:e,width:"600",height:"240",alt:`${t} Logo`,className:"dark:invert"}):i.jsx("div",{className:"text-4xl font-bold",children:t}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Version"}),": ",n]}),i.jsx(Zc,{sources:["tba","nexus"],variant:"compact"})]})]}),(r||a)&&i.jsx(_e,{className:"w-full max-w-md mx-4 mt-8 scale-75 md:scale-100",children:i.jsx($e,{className:"p-6",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Demo Data"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o}),d?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-600",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l]}),a&&i.jsx(X,{onClick:m,variant:"outline",size:"sm",className:"w-full",children:"Clear Data"})]}):i.jsx(X,{onClick:h,disabled:c||!r,className:"w-full",children:c?"Loading...":"Load Demo Data"})]})})})]}),i.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center bg-white mask-[radial-gradient(ellipse_at_center,transparent_70%,black)] dark:bg-black"})]})};var DNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],RNe=DNe.reduce((e,t)=>{const n=Fy(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),MNe="Label",w7=p.forwardRef((e,t)=>i.jsx(RNe.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));w7.displayName=MNe;var INe=w7;function Ft({className:e,...t}){return i.jsx(INe,{"data-slot":"label",className:De("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const ONe=uC("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function sr({className:e,variant:t,...n}){return i.jsx("div",{"data-slot":"alert",role:"alert",className:De(ONe({variant:t}),e),...n})}function OC({className:e,...t}){return i.jsx("div",{"data-slot":"alert-title",className:De("font-semibold leading-none tracking-tight",e),...t})}function gr({className:e,...t}){return i.jsx("div",{"data-slot":"alert-description",className:De("[&_p]:leading-relaxed",e),...t})}const Ik=({currentTeamType:e,currentTeamStatus:t,clickTeam:n,teamName:r="0000 - Team Name",isPreferred:a=!1})=>i.jsx(i.Fragment,{children:i.jsx(X,{variant:"outline",type:"button",className:De("w-full h-full flex flex-row items-center text-xl pl-2 active:bg-accent",a&&"ring-2 ring-blue-500 ring-offset-2",t&&"bg-gray-200 dark:bg-neutral-600"),onClick:()=>n(e,t),children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("span",{children:r}),a&&i.jsx("span",{className:"text-blue-500 text-sm font-semibold px-2",children:"(Your Position)"})]})})}),LNe=({defaultSelectTeam:e,setSelectTeam:t,selectedMatch:n,selectedAlliance:r,preferredTeamPosition:a=0})=>{const s=p.useMemo(()=>{try{const j=localStorage.getItem("matchData"),k=j?JSON.parse(j):[];if(!Array.isArray(k)||k.length===0)return["0001","0002","0003"];let N=parseInt(n)-1;(isNaN(N)||N<0||N>=k.length)&&(N=0);const P=k[N];if(P&&typeof P=="object"){const R=P[r==="red"?"redAlliance":r==="blue"?"blueAlliance":"redAlliance"];if(Array.isArray(R)&&R.length>0)return R}return["0001","0002","0003"]}catch{return["0001","0002","0003"]}},[n,r]),l=e?{team1:e===s[0],team2:e===s[1],team3:e===s[2],custom:e!==s[0]&&e!==s[1]&&e!==s[2]}:a>=1&&a<=3?{team1:a===1,team2:a===2,team3:a===3,custom:!1}:{team1:!1,team2:!1,team3:!1,custom:!1},[c,u]=p.useState(l.team1),[d,f]=p.useState(l.team2),[h,m]=p.useState(l.team3),[g,v]=p.useState(l.custom),[b,y]=p.useState(l.custom&&e?e:"");p.useEffect(()=>{e&&e!==s[0]&&e!==s[1]&&e!==s[2]&&(y(e),v(!0),u(!1),f(!1),m(!1))},[e,s]);const x=(j,k)=>{j==="1"?(u(!k),f(!1),m(!1),v(!1)):j==="2"?(f(!k),u(!1),m(!1),v(!1)):j==="3"?(m(!k),u(!1),f(!1),v(!1)):j==="custom"&&(v(!0),u(!1),f(!1),m(!1))};p.useEffect(()=>{c?t(s[0]):d?t(s[1]):h?t(s[2]):g&&b!=""?t(b):t(null)},[c,d,h,g,b,t,s]),p.useEffect(()=>{!c&&!d&&!h&&!g&&a>=1&&a<=3&&(a===1?u(!0):a===2?f(!0):a===3&&m(!0))},[s,a,c,d,h,g]);const[w,S]=p.useState(!1);return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"w-full h-full",children:[w&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&i.jsx("div",{className:"absolute left-0 top-0 w-full h-full z-1"}),a>0&&i.jsxs("p",{className:"text-sm text-muted-foreground pb-2",children:["Your role suggests position ",a]}),i.jsxs("div",{className:"flex flex-col w-full h-full gap-4",children:[i.jsx("div",{className:"grow",children:i.jsx(Ik,{currentTeamType:"1",currentTeamStatus:c,clickTeam:x,teamName:s[0],isPreferred:a===1})}),i.jsx("div",{className:"grow",children:i.jsx(Ik,{currentTeamType:"2",currentTeamStatus:d,clickTeam:x,teamName:s[1],isPreferred:a===2})}),i.jsx("div",{className:"grow",children:i.jsx(Ik,{currentTeamType:"3",currentTeamStatus:h,clickTeam:x,teamName:s[2],isPreferred:a===3})}),i.jsxs("div",{className:"flex justify-center z-2 items-center",children:[i.jsx("h2",{className:"text-2xl font-semibold grow mr-2 pb-2",children:"Custom:"}),i.jsx(en,{className:"w-full h-12 text-xl rounded-lg",type:"number",inputMode:"numeric",placeholder:"Team #",value:b,onChange:j=>y(j.target.value),onFocus:()=>{x("custom",g),S(!0)},onBlur:()=>S(!1)})]})]})]})})},$Ne=[{name:"Rocket City Regional",key:"2026alhu",week:5},{name:"Archimedes Division",key:"2026arc",week:null},{name:"Arkansas Regional",key:"2026arli",week:2},{name:"Southern Cross Regional",key:"2026ausc",week:1},{name:"Arizona North Regional",key:"2026azfg",week:1},{name:"Canadian Pacific Regional",key:"2026bcvi",week:0},{name:"Regional Brazil - Festival SESI de Educao",key:"2026brba",week:0},{name:"Regional Brazil - SESI Vila Leopoldina",key:"2026brsp",week:1},{name:"CA District Aerospace Valley Event",key:"2026caasv",week:4},{name:"CA District Contra Costa Event",key:"2026cacac",week:4},{name:"CA District Central Valley Event",key:"2026caclv",week:3},{name:"CA District East Bay Event",key:"2026caetb",week:4},{name:"CA District Glendale Event",key:"2026cagle",week:3},{name:"CA District Half Moon Bay Event",key:"2026cahal",week:0},{name:"CA District Los Angeles Event",key:"2026calas",week:2},{name:"FIRST California Northern State Championship",key:"2026cancmp",week:5},{name:"CA District Orange County Event",key:"2026caoec",week:4},{name:"CA District Pinnacles Event presented by Apple",key:"2026capin",week:3},{name:"CA District Hueneme Port Event",key:"2026capoh",week:0},{name:"CA District Sacramento Event",key:"2026casac",week:2},{name:"FIRST California Southern State Championship presented by Qualcomm",key:"2026cascmp",week:5},{name:"CA District San Gabriel Valley Event",key:"2026casgv",week:3},{name:"CA District San Diego Event presented by Qualcomm",key:"2026casnd",week:2},{name:"CA District San Francisco Event",key:"2026casnf",week:1},{name:"CA District Silicon Valley Event presented by Apple",key:"2026casnv",week:1},{name:"CA District Ventura County Event",key:"2026caven",week:1},{name:"FIRST Chesapeake District Championship",key:"2026chcmp",week:5},{name:"FIRST Championship - FIRST Robotics Competition",key:"2026cmptx",week:null},{name:"Shanghai Regional",key:"2026cnsh",week:1},{name:"Denver Regional",key:"2026code",week:5},{name:"Pikes Peak Regional",key:"2026cosp",week:0},{name:"NE District Hartford Event",key:"2026cthar",week:3},{name:"NE District Waterbury Event",key:"2026ctwat",week:2},{name:"Curie Division",key:"2026cur",week:null},{name:"Daly Division",key:"2026dal",week:null},{name:"Orlando Regional",key:"2026flor",week:2},{name:"Tallahassee Regional",key:"2026flta",week:6},{name:"South Florida Regional",key:"2026flwp",week:5},{name:"PCH District Albany Event presented by Procter & Gamble",key:"2026gaalb",week:3},{name:"Peachtree District Championship presented by Mercer University",key:"2026gacmp",week:5},{name:"PCH District Columbus Event",key:"2026gacol",week:2},{name:"PCH District Dalton Event presented by Shaw Industries",key:"2026gadal",week:0},{name:"PCH District Gainesville Event",key:"2026gagai",week:4},{name:"PCH District Gwinnett Event presented by Gwinnett County Public Schools",key:"2026gagwi",week:1},{name:"Galileo Division",key:"2026gal",week:null},{name:"Hawaii Regional",key:"2026hiho",week:2},{name:"Hopper Division",key:"2026hop",week:null},{name:"Iowa Regional",key:"2026iacf",week:3},{name:"Idaho Regional",key:"2026idbo",week:3},{name:"Midwest Regional Presented by Baxter",key:"2026ilch",week:3},{name:"Central Illinois Regional",key:"2026ilpe",week:2},{name:"FIRST Indiana State Championship",key:"2026incmp",week:6},{name:"FIN District Columbus Event",key:"2026incol",week:2},{name:"FIN District Lafayette Event",key:"2026inlaf",week:3},{name:"FIN District Mishawaka Event",key:"2026inmis",week:0},{name:"FIN District Washington Event presented by Toyota IN & VA CARA",key:"2026inwas",week:4},{name:"FIRST Israel District Championship",key:"2026iscmp",week:3},{name:"ISR District Event #1",key:"2026isde1",week:0},{name:"ISR District Event #2",key:"2026isde2",week:1},{name:"ISR District Event #3",key:"2026isde3",week:1},{name:"ISR District Event #4",key:"2026isde4",week:2},{name:"Johnson Division",key:"2026joh",week:null},{name:"Heartland Regional",key:"2026ksla",week:2},{name:"Bayou Regional",key:"2026lake",week:4},{name:"NE District Minuteman Event",key:"2026mabil",week:0},{name:"NE District Greater Boston Event",key:"2026mabos",week:3},{name:"NE District North Shore Event",key:"2026marea",week:1},{name:"NE District Western NE Event",key:"2026mawne",week:1},{name:"NE District WPI Event",key:"2026mawor",week:4},{name:"FCH District Bethesda MD Event",key:"2026mdbet",week:2},{name:"FCH District Pasadena MD Event",key:"2026mdpas",week:1},{name:"FCH District Severn MD Event",key:"2026mdsev",week:3},{name:"NE District Pine Tree Event",key:"2026mefal",week:0},{name:"FIM District Battle Creek Event",key:"2026mibat",week:3},{name:"FIM District Belleville Event",key:"2026mibel",week:2},{name:"FIM District Berrien Springs Event",key:"2026miber",week:2},{name:"FIM District Ferris State Event",key:"2026mibig",week:5},{name:"FIM District Jackson at Columbia Event",key:"2026mibkn",week:2},{name:"FIM District Woodhaven Event",key:"2026mibro",week:1},{name:"FIM District Chelsea Event",key:"2026miche",week:0},{name:"FIRST in Michigan State Championship",key:"2026micmp",week:6},{name:"FIRST in Michigan State Championship - DTE Energy Foundation Division",key:"2026micmp1",week:6},{name:"FIRST in Michigan State Championship - Hemlock Semiconductor Division",key:"2026micmp2",week:6},{name:"FIRST in Michigan State Championship - Consumers Energy Division",key:"2026micmp3",week:6},{name:"FIRST in Michigan State Championship - Aptiv Division",key:"2026micmp4",week:6},{name:"FIM District Renaissance Event",key:"2026midet",week:5},{name:"FIM District Wayne State Event",key:"2026midtr",week:1},{name:"FIM District Escanaba Event",key:"2026miesc",week:5},{name:"FIM District Fenton Event",key:"2026mifen",week:5},{name:"FIM District Kearsley Event",key:"2026mifli",week:2},{name:"FIM District Kentwood Event",key:"2026miken",week:5},{name:"Milstein Division",key:"2026mil",week:null},{name:"FIM District Lake City Event",key:"2026milac",week:1},{name:"FIM District Lakeview Event",key:"2026milak",week:0},{name:"FIM District Livonia Event",key:"2026miliv",week:4},{name:"FIM District LSSU Event",key:"2026milsu",week:3},{name:"FIM District Marysville Event",key:"2026mimar",week:1},{name:"FIM District Mason Event",key:"2026mimas",week:3},{name:"FIM District Midland Event",key:"2026mimid",week:1},{name:"FIM District Milford Event",key:"2026mimil",week:1},{name:"FIM District Mt Pleasant Event",key:"2026mimtp",week:0},{name:"FIM District Muskegon Event",key:"2026mimus",week:2},{name:"FIM District Saline Event",key:"2026misal",week:3},{name:"FIM District Troy Event",key:"2026mitry",week:3},{name:"FIM District Traverse City Event",key:"2026mitvc",week:2},{name:"FIM District West Michigan Event",key:"2026miwmi",week:3},{name:"Blue Twilight Week Zero",key:"2026mnbt",week:null},{name:"Lake Superior Regional",key:"2026mndu",week:0},{name:"Northern Lights Regional",key:"2026mndu2",week:0},{name:"Minnesota 10,000 Lakes Regional",key:"2026mnmi",week:3},{name:"Minnesota Granite City Regional",key:"2026mnmi2",week:5},{name:"Minnesota North Star Regional",key:"2026mnum",week:4},{name:"Minnesota Bluff Country Regional",key:"2026mnwi",week:0},{name:"Greater Kansas City Regional",key:"2026mokc",week:5},{name:"City of Fountains Regional",key:"2026mose",week:4},{name:"St. Louis Regional",key:"2026mosl",week:3},{name:"FIRST Mid-Atlantic District Championship",key:"2026mrcmp",week:6},{name:"Magnolia Regional",key:"2026mslr",week:2},{name:"Regional Monterrey presented by PrepaTec",key:"2026mxmo",week:1},{name:"Regional Laguna presented by Peoles",key:"2026mxto",week:3},{name:"FNC District UNC Asheville Event",key:"2026ncash",week:1},{name:"FNC District Cabarrus Event",key:"2026nccab",week:0},{name:"FIRST North Carolina State Championship",key:"2026nccmp",week:5},{name:"FNC District Elon University Event",key:"2026ncelo",week:2},{name:"FNC District UNC Pembroke Event",key:"2026ncpem",week:3},{name:"FNC District Wake County Event #1",key:"2026ncwak",week:0},{name:"FNC District Wake County Event #2",key:"2026ncwk2",week:2},{name:"Great Northern Regional",key:"2026ndgf",week:1},{name:"New England FIRST District Championship",key:"2026necmp",week:6},{name:"New England FIRST District Championship - Burns Division",key:"2026necmp1",week:6},{name:"New England FIRST District Championship - Newsom Division",key:"2026necmp2",week:6},{name:"Newton Division",key:"2026new",week:null},{name:"NE District Granite State Event",key:"2026nhbed",week:1},{name:"NE District UNH Event",key:"2026nhdur",week:3},{name:"FMA District Mount Olive Event",key:"2026njfla",week:3},{name:"FMA District Robbinsville Event",key:"2026njrob",week:2},{name:"FMA District Montgomery Event",key:"2026njski",week:5},{name:"FMA District Seneca Event",key:"2026njtab",week:1},{name:"FMA District Warren Hills Event",key:"2026njwas",week:0},{name:"Las Vegas Regional",key:"2026nvlv",week:5},{name:"FIRST Long Island Regional",key:"2026nyli2",week:2},{name:"Gotham Regional",key:"2026nyn2",week:5},{name:"New York City Regional",key:"2026nyny",week:5},{name:"Finger Lakes Regional",key:"2026nyro",week:1},{name:"Hudson Valley Regional",key:"2026nysu",week:2},{name:"New York Tech Valley Regional",key:"2026nytr",week:6},{name:"Buckeye Regional",key:"2026ohcl",week:2},{name:"Miami Valley Regional",key:"2026ohmv",week:4},{name:"Oklahoma Regional",key:"2026okok",week:0},{name:"Green Country Regional",key:"2026oktu",week:4},{name:"ONT District Georgian College Event",key:"2026onbar",week:3},{name:"FIRST Ontario Provincial Championship",key:"2026oncmp",week:6},{name:"FIRST Ontario Provincial Championship - Science Division",key:"2026oncmp1",week:6},{name:"FIRST Ontario Provincial Championship - Technology Division",key:"2026oncmp2",week:6},{name:"ONT District McMaster University Event",key:"2026onham",week:2},{name:"ONT District North Bay Event",key:"2026onnob",week:2},{name:"ONT District Durham College Event",key:"2026onosh",week:1},{name:"ONT District Humber Polytechnic Event",key:"2026ontor",week:1},{name:"ONT District University of Waterloo Event",key:"2026onwat",week:3},{name:"ONT District Niagara College Event",key:"2026onwel",week:5},{name:"ONT District Windsor Essex Great Lake Event",key:"2026onwin",week:5},{name:"PNW District Clackamas Academy Event",key:"2026orore",week:3},{name:"PNW District Oregon State Fair Event",key:"2026orsal",week:0},{name:"PNW District Wilsonville Event",key:"2026orwil",week:1},{name:"FMA District Bensalem Event",key:"2026paben",week:3},{name:"Greater Pittsburgh Regional",key:"2026paca",week:2},{name:"FMA District Hatboro-Horsham Event",key:"2026pahat",week:0},{name:"FMA District Philadelphia Event",key:"2026paphi",week:4},{name:"FMA District Centennial Event",key:"2026pawar",week:2},{name:"Pacific Northwest FIRST District Championship",key:"2026pncmp",week:5},{name:"Festival de Robotique Regional",key:"2026qcmo",week:5},{name:"NE District URI Event",key:"2026rikin",week:2},{name:"FSC District North Charleston Event presented by SCDE & City of North Charleston Recreation",key:"2026sccha",week:0},{name:"FIRST South Carolina State Championship presented by Magna",key:"2026sccmp",week:5},{name:"FSC District Hartsville Event presented by Honda",key:"2026schar",week:3},{name:"FSC District Richland Event presented by Aflac & RCSD1",key:"2026schop",week:1},{name:"Smoky Mountains Regional",key:"2026tnkn",week:2},{name:"Ankara Regional",key:"2026tuak",week:5},{name:"Bakent Regional",key:"2026tuak2",week:5},{name:"Hali Regional",key:"2026tuhc",week:3},{name:"stanbul Regional",key:"2026tuis",week:0},{name:"Bosphorus Regional",key:"2026tuis2",week:0},{name:"Marmara Regional",key:"2026tuis3",week:3},{name:"Yeditepe Regional",key:"2026tuis4",week:1},{name:"Avrasya Regional",key:"2026tuis5",week:4},{name:"FIT District Abilene Event",key:"2026txabi",week:5},{name:"FIT District Amarillo Event",key:"2026txama",week:4},{name:"FIT District Belton Event",key:"2026txbel",week:0},{name:"FIT District Space City @ Friendswood Event #2",key:"2026txcl2",week:4},{name:"FIT District Space City @ Friendswood Event #1",key:"2026txcle",week:0},{name:"FIRST In Texas District Championship",key:"2026txcmp",week:6},{name:"FIRST In Texas District Championship - Mercury Division",key:"2026txcmp1",week:6},{name:"FIRST In Texas District Championship - Apollo Division",key:"2026txcmp2",week:6},{name:"FIT District Dripping Springs Event",key:"2026txdri",week:4},{name:"FIT District Farmersville Event",key:"2026txfar",week:3},{name:"FIT District Fort Worth Event",key:"2026txfor",week:2},{name:"FIT District Houston Event",key:"2026txhou",week:2},{name:"FIT District Manor Event",key:"2026txman",week:3},{name:"FIT District McAllen Event",key:"2026txmca",week:1},{name:"FIT District San Antonio Event",key:"2026txsan",week:1},{name:"FIT District Waco Event",key:"2026txwac",week:2},{name:"Utah Regional",key:"2026utwv",week:6},{name:"FCH District Alexandria VA Event",key:"2026vaale",week:0},{name:"FCH District Blacksburg VA Event",key:"2026vabla",week:3},{name:"FCH District Chesapeake VA Event",key:"2026vache",week:2},{name:"FCH District Glen Allen VA Event",key:"2026vagle",week:1},{name:"NE District UVM Event",key:"2026vtbur",week:4},{name:"PNW District Auburn Event",key:"2026waahs",week:3},{name:"PNW District Bonney Lake Event",key:"2026wabon",week:0},{name:"PNW District Sammamish Event",key:"2026wasam",week:2},{name:"PNW District Glacier Peak Event",key:"2026wasno",week:1},{name:"PNW District SunDome Event",key:"2026wayak",week:2},{name:"WIN District Appleton Event",key:"2026wiapp",week:2},{name:"FIRST Wisconsin State Championship",key:"2026wicmp",week:6},{name:"WIN District Seven Rivers Event",key:"2026wilax",week:4},{name:"WIN District Mukwonago Event",key:"2026wimuk",week:3},{name:"WIN District Lakeland Event",key:"2026wiply",week:0}];function LC({currentEventKey:e,onEventKeyChange:t,showCustomEvents:n=!0}){const a=n||!1,[s,o]=p.useState(!1),[l,c]=p.useState([]),[u,d]=p.useState(""),[f,h]=p.useState(!1),m=$Ne;p.useEffect(()=>{const y=localStorage.getItem("customEventsList"),x=localStorage.getItem("eventKey");if(y)try{c(JSON.parse(y))}catch{c([])}x&&!e&&t(x)},[e,t]);const g=(y,x)=>{if(!y.trim())return;const w=y.trim();if(!m.some(k=>k.key===w)&&!l.includes(w)){const k=[...l,w].sort();c(k),localStorage.setItem("customEventsList",JSON.stringify(k))}t(w),localStorage.setItem("eventKey",w),o(!1),h(!1),d("");const j=x||w;le.success(`Event set to: ${j}`)},v=y=>{const x=l.filter(w=>w!==y);c(x),localStorage.setItem("customEventsList",JSON.stringify(x)),e===y&&(t(""),localStorage.removeItem("eventKey")),le.success(`Removed custom event: ${y}`)},b=()=>{u.trim()&&g(u)};return i.jsxs(to,{open:s,onOpenChange:o,children:[i.jsx(_C,{asChild:!0,children:i.jsxs("button",{className:"flex h-9 w-full items-center justify-between gap-2 rounded-md border bg-background px-3 py-2 text-sm shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",role:"combobox","aria-expanded":s,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Lc,{className:"h-4 w-4"}),e||"Select event..."]}),i.jsx(ZP,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsxs(no,{className:"p-0 max-w-75",children:[i.jsx(ro,{className:"sr-only",children:"Select Event"}),i.jsx(lf,{className:"sr-only",children:"Search and select an official 2026 FRC event or add a custom event"}),i.jsxs(v7,{children:[i.jsx(y7,{placeholder:"Search events..."}),i.jsx(b7,{children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No events found"}),a&&i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"w-full",children:[i.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Add New Event"]})]})}),i.jsxs(x7,{children:[a&&!f&&i.jsx(bh,{children:i.jsxs(Vb,{onSelect:()=>h(!0),children:[i.jsx(Gc,{className:"mr-2 h-4 w-4"}),"Add New Custom Event"]})}),a&&f&&i.jsx(bh,{children:i.jsxs("div",{className:"p-2 space-y-2",children:[i.jsx(en,{placeholder:"Enter event key (e.g., 2026practice)...",value:u,onChange:y=>d(y.target.value),onKeyDown:y=>{y.key==="Enter"?b():y.key==="Escape"&&(h(!1),d(""))},autoFocus:!0}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(X,{size:"sm",onClick:b,className:"flex-1",children:"Add"}),i.jsx(X,{size:"sm",variant:"outline",onClick:()=>{h(!1),d("")},className:"flex-1",children:"Cancel"})]})]})}),i.jsx(bh,{heading:"Official 2026 Events",children:m.map(y=>{const x=`${y.name} (${y.key})${y.week!==null?` - Week ${y.week}`:""}`;return i.jsxs(Vb,{value:x,onSelect:()=>g(y.key,y.name),className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Al,{className:De("mr-2 h-4 w-4",e===y.key?"opacity-100":"opacity-0")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:y.name})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[y.week!==null&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["W",y.week]}),i.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:y.key})]})]},y.key)})}),a&&l.length>0&&i.jsx(bh,{heading:"Custom Events",children:l.map(y=>i.jsxs(Vb,{value:y,onSelect:()=>g(y),className:"flex items-center justify-between group",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Al,{className:De("mr-2 h-4 w-4",e===y?"opacity-100":"opacity-0")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),y]})]}),i.jsx(X,{variant:"ghost",size:"sm",onClick:x=>{x.stopPropagation(),v(y)},className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:i.jsx(Vs,{className:"h-3 w-3"})})]},y))})]})]})]})]})}const zb={pages:{autoStart:!1,autoScoring:!0,teleopScoring:!0,endgame:!0,showAutoStatus:!0,showTeleopStatus:!1,showEndgameStatus:!0}},Xr={allianceZone:{bounds:{x:0,y:0,width:198,height:480}},neutralZone:{bounds:{x:198,y:0,width:244,height:480}},opponentZone:{bounds:{x:442,y:0,width:198,height:480}}},Jc={fuelScored:{label:"Fuel Scored",description:"Fuel deposited into alliance HUB",points:{auto:1,teleop:1},pathType:"score"},depotCollect:{label:"Depot Collection",description:"Collected from depot",points:{auto:0,teleop:0},pathType:"collect",pathAction:"depot"},outpostCollect:{label:"Outpost Collection",description:"Collected from outpost",points:{auto:0,teleop:0},pathType:"collect",pathAction:"outpost"},fuelPassed:{label:"Fuel Passed",description:"Fuel passed to alliance zone",points:{auto:0,teleop:0},pathType:"pass"},foulCommitted:{label:"Foul",description:"Crossed mid-line into opponent zone",points:{auto:0,teleop:0},pathType:"foul"},autoClimb:{label:"Auto Climb L1",description:"Climbed to Level 1 during Auto",points:{auto:15,teleop:0},pathType:"climb",pathAction:"climb-success"},climbL1:{label:"Climb Level 1",description:"Off carpet/tower base",points:{auto:0,teleop:10},pathType:"climb",climbLevel:1},climbL2:{label:"Climb Level 2",description:"Bumpers above Low Rung",points:{auto:0,teleop:20},pathType:"climb",climbLevel:2},climbL3:{label:"Climb Level 3",description:"Bumpers above Mid Rung",points:{auto:0,teleop:30},pathType:"climb",climbLevel:3},defense:{label:"Defense",description:"Played defense on opponent",points:{auto:0,teleop:0},pathType:"defense"},steal:{label:"Steal",description:"Stole fuel from opponent zone",points:{auto:0,teleop:0},pathType:"steal"}},ld={auto:{},teleop:{},endgame:{roleActiveCleanUp:{label:"Clean Up",description:"Collected fuel from the Alliance Zone and Scored",group:"roleActive"},roleActivePasser:{label:"Passer",description:"Passed fuel to alliance partners",group:"roleActive"},roleActiveDefense:{label:"Defense",description:"Played defensive role",group:"roleActive"},roleActiveCycler:{label:"Cycler",description:"Scored fuel repeatedly, going from the Neutral Zone to the Alliance Zone",group:"roleActive"},roleActiveThief:{label:"Thief",description:"Stole fuel from opponent zone",group:"roleActive"},roleInactiveCleanUp:{label:"Clean Up",description:"Collected fuel from the Alliance Zone and Scored",group:"roleInactive"},roleInactivePasser:{label:"Passer",description:"Passed fuel to alliance partners",group:"roleInactive"},roleInactiveDefense:{label:"Defense",description:"Played defensive role",group:"roleInactive"},roleInactiveCycler:{label:"Cycler",description:"Scored fuel repeatedly, going from the Neutral Zone to the Alliance Zone",group:"roleInactive"},roleInactiveThief:{label:"Thief",description:"Stole fuel from opponent zone",group:"roleInactive"},passedToAlliance:{label:"Alliance Zone",description:"Passed fuel to alliance zone",group:"passingZone"},passedToNeutral:{label:"Neutral Zone",description:"Passed fuel to neutral zone",group:"passingZone"},usedCorral:{label:"Used Corral",description:"Robot put fuel into the Corral",group:"Corral"}}},FNe={teamInfo:{teamNumber:{label:"Team",visible:!0,numeric:!1},eventKey:{label:"Event",visible:!0,numeric:!1},matchCount:{label:"Matches",visible:!0,numeric:!0}},points:{"rawValues.totalPoints":{label:"Total Points",visible:!0,numeric:!0},"rawValues.autoPoints":{label:"Auto Points",visible:!0,numeric:!0},"rawValues.teleopPoints":{label:"Teleop Points",visible:!0,numeric:!0},"rawValues.endgamePoints":{label:"Endgame Points",visible:!0,numeric:!0}},overall:{"rawValues.totalFuel":{label:"Fuel Scored",visible:!0,numeric:!0},"rawValues.totalFuelPassed":{label:"Fuel Passed",visible:!1,numeric:!0}},auto:{"rawValues.autoFuel":{label:"Auto Fuel",visible:!0,numeric:!0},autoClimbRate:{label:"Auto Climb %",visible:!0,numeric:!0,percentage:!0}},teleop:{"rawValues.teleopFuel":{label:"Teleop Fuel",visible:!0,numeric:!0},"rawValues.teleopFuelPassed":{label:"Teleop Passed",visible:!1,numeric:!0},"teleop.defenseRate":{label:"Defense %",visible:!1,numeric:!0,percentage:!0}},endgame:{"endgame.climbL1Rate":{label:"L1 Climb %",visible:!1,numeric:!0,percentage:!0},"endgame.climbL2Rate":{label:"L2 Climb %",visible:!0,numeric:!0,percentage:!0},"endgame.climbL3Rate":{label:"L3 Climb %",visible:!0,numeric:!0,percentage:!0},"endgame.climbSuccessRate":{label:"Climb Success %",visible:!0,numeric:!0,percentage:!0}}},BNe={essential:["teamNumber","matchCount","rawValues.totalPoints","rawValues.totalFuel","endgame.climbSuccessRate"],auto:["teamNumber","matchCount","rawValues.autoPoints","rawValues.autoFuel","autoClimbRate"],teleop:["teamNumber","matchCount","rawValues.teleopPoints","rawValues.teleopFuel","rawValues.teleopFuelPassed"],endgame:["teamNumber","matchCount","rawValues.endgamePoints","endgame.climbL1Rate","endgame.climbL2Rate","endgame.climbL3Rate"],basic:["teamNumber","eventKey","matchCount"]},tx={categories:[{key:"auto-fuel",label:"Auto Fuel",phase:"auto"},{key:"teleop-fuel",label:"Teleop Fuel",phase:"teleop"},{key:"endgame",label:"Endgame Climb",phase:"endgame"}],actionMappings:{fuelScored:{tbaPath:"autoFuelPoints",type:"count",category:"auto-fuel"}},toggleMappings:{leftStartZone:{tbaPath:["autoLineRobot1","autoLineRobot2","autoLineRobot3"],type:"countMatching",matchValue:"Yes",category:"mobility"},climbL1:{tbaPath:["endGameRobot1","endGameRobot2","endGameRobot3"],type:"countMatching",matchValue:"Level1",category:"endgame"},climbL2:{tbaPath:["endGameRobot1","endGameRobot2","endGameRobot3"],type:"countMatching",matchValue:"Level2",category:"endgame"},climbL3:{tbaPath:["endGameRobot1","endGameRobot2","endGameRobot3"],type:"countMatching",matchValue:"Level3",category:"endgame"}}};function c1(){return Object.keys(Jc)}function Jp(e,t){return Jc[e].points[t]??0}function VNe(){const e=[];return Object.entries(FNe).forEach(([t,n])=>{Object.entries(n).forEach(([r,a])=>{e.push({key:r,label:a.label,category:t.charAt(0).toUpperCase()+t.slice(1),visible:a.visible,numeric:a.numeric,percentage:"percentage"in a?a.percentage:void 0})})}),e}function zNe(){return tx.categories}function S7(e){return tx.actionMappings[e]}function C7(e){return tx.toggleMappings[e]}function DR(){return Object.keys(tx.actionMappings)}function RR(){return Object.keys(tx.toggleMappings)}const Ok={gameStart:"/game-start",autoStart:"/auto-start",autoScoring:"/auto-scoring",teleopScoring:"/teleop-scoring",endgame:"/endgame"},UNe=["gameStart","autoStart","autoScoring","teleopScoring","endgame"];function nx(){const e=Object.values(zb.pages).some(d=>d),t=p.useMemo(()=>UNe.filter(d=>d==="gameStart"?!0:zb.pages[d]!==!1),[]),n=p.useCallback(d=>{const f=t.indexOf(d);return f===-1||f===t.length-1?null:t[f+1]??null},[t]),r=p.useCallback(d=>{const f=t.indexOf(d);return f<=0?null:t[f-1]??null},[t]),a=p.useCallback(d=>t.indexOf(d)===t.length-1,[t]),s=p.useCallback(d=>t.indexOf(d)===0,[t]),o=p.useCallback(d=>Ok[d],[]),l=p.useCallback(d=>{const f=n(d);return f?Ok[f]:null},[n]),c=p.useCallback(d=>{const f=r(d);return f?Ok[f]:null},[r]),u=p.useCallback(d=>zb.pages[d]!==!1,[]);return{enabledPages:t,getNextPage:n,getPrevPage:r,isLastPage:a,isFirstPage:s,getRoute:o,getNextRoute:l,getPrevRoute:c,isPageEnabled:u,isConfigValid:e}}const KNe=()=>{var W,Z;const e=Ja(),t=zo(),n=e.state,{getNextRoute:r,isConfigValid:a}=nx(),{currentScout:s}=kR();p.useEffect(()=>{console.log(" GameStartPage: currentScout =",s)},[s]);const o=p.useMemo(()=>n==null?void 0:n.rescout,[n]),l=(o==null?void 0:o.isRescout)||!1,c=o==null?void 0:o.matchNumber,u=o==null?void 0:o.teamNumber,d=o==null?void 0:o.alliance,f=o==null?void 0:o.eventKey,h=p.useMemo(()=>(o==null?void 0:o.teams)||[],[o==null?void 0:o.teams]),m=(o==null?void 0:o.currentTeamIndex)||0,v=(()=>{const H=localStorage.getItem("playerStation");if(!H)return{alliance:"",teamPosition:0};if(H==="lead")return{alliance:"",teamPosition:0};const ae=H.split("-");if(ae.length===2&&ae[1]){const fe=ae[0],we=parseInt(ae[1]);return{alliance:fe,teamPosition:we}}return{alliance:"",teamPosition:0}})(),b=()=>{var ae;return(ae=n==null?void 0:n.inputs)!=null&&ae.matchNumber?n.inputs.matchNumber:localStorage.getItem("currentMatchNumber")||"1"},[y,x]=p.useState(((W=n==null?void 0:n.inputs)==null?void 0:W.alliance)||v.alliance||""),[w,S]=p.useState(b()),[j,k]=p.useState("qm"),[N,P]=p.useState(w),[E,R]=p.useState(()=>{var H;if(o!=null&&o.teamNumber)return o.teamNumber;if(o!=null&&o.teams&&o.teams.length>0){const ae=o.currentTeamIndex||0;return o.teams[ae]||""}return((H=n==null?void 0:n.inputs)==null?void 0:H.selectTeam)||""}),[O,G]=p.useState(((Z=n==null?void 0:n.inputs)==null?void 0:Z.eventKey)||localStorage.getItem("eventKey")||""),[te,V]=p.useState("none");p.useEffect(()=>{const H=setTimeout(()=>{P(w)},500);return()=>clearTimeout(H)},[w]),p.useEffect(()=>{w&&localStorage.setItem("currentMatchNumber",w)},[w]),p.useEffect(()=>{(async()=>{if(s&&O&&w)try{const ae=await bR(s,O,w);V(ae?ae.predictedWinner:"none")}catch(ae){console.error("Error loading existing prediction:",ae),V("none")}})()},[w,O]),p.useEffect(()=>{if(l){if(c&&S(c),d&&x(d),f&&G(f),u)R(u);else if(h.length>0&&m<h.length){const H=h[m];R(H)}}},[l,c,u,d,f,h,m]);const z=async H=>{if(V(H),H!=="none"&&s&&O&&w)try{await Uv(s,O,w,H),le.success(`Prediction updated: ${H} alliance to win`)}catch(ae){console.error("Error saving prediction:",ae),le.error("Failed to save prediction")}},$=()=>{if(!a)return le.error("Workflow configuration error: At least one scouting page must be enabled"),!1;const ae=Object.values({matchNumber:w,alliance:y,selectTeam:E,scoutName:s,eventKey:O}).some(fe=>!fe||fe==="");return s?O?ae?(le.error("Fill In All Fields To Proceed"),!1):!0:(le.error("Please set an event name/code first"),!1):(le.error("Please select a scout from the sidebar first"),!1)},U=async()=>{if(!$())return;if(te!=="none"&&s&&O&&w)try{await Uv(s,O,w,te),le.success(`Prediction saved: ${te} alliance to win`)}catch(ae){console.error("Error saving prediction:",ae),le.error("Failed to save prediction")}localStorage.setItem("matchNumber",w),localStorage.setItem("selectTeam",E),localStorage.setItem("alliance",y),localStorage.setItem("autoStateStack",JSON.stringify([])),localStorage.setItem("teleopStateStack",JSON.stringify([]));const H=r("gameStart")||"/auto-scoring";t(H,{state:{inputs:{matchNumber:w,matchType:j,alliance:y,scoutName:s,selectTeam:E,eventKey:O},...l&&{rescout:{isRescout:!0,matchNumber:c,teamNumber:h.length>0?h[m]:u,alliance:d,eventKey:f,teams:h,currentTeamIndex:m}}}})},M=()=>{t("/")},F=H=>{S(H)};return p.useEffect(()=>{if(!w)return;const H=setTimeout(()=>{localStorage.setItem("currentMatchNumber",w)},500);return()=>clearTimeout(H)},[w]),i.jsxs("div",{className:"min-h-screen pt-12 w-full flex flex-col items-center px-4 pb-24 2xl:pb-6",children:[i.jsx("div",{className:"w-full max-w-2xl",children:i.jsx("h1",{className:"text-2xl font-bold pb-4",children:"Game Start"})}),i.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-2xl w-full flex-1 pb-8 md:pb-4",children:[!s&&i.jsx(_e,{className:"w-full border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950/20",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5 text-orange-500"}),i.jsx("span",{className:"text-sm text-amber-700",children:"Please select a scout from the sidebar before starting"})]})})}),l&&i.jsx(sr,{className:"flex border-amber-500 bg-amber-50 dark:bg-amber-950/20 py-3",children:i.jsxs("div",{className:"flex items-center gap-3 w-full",children:[i.jsx(Ul,{className:"h-4 w-4 text-amber-600 shrink-0"}),i.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[i.jsx("span",{className:"font-semibold",children:"Re-scouting:"})," ",i.jsx("strong",{children:f&&`${f} `})," Match ",i.jsx("strong",{children:c})," for Team ",i.jsx("strong",{children:h.length>0?h[m]:u}),h.length>0&&i.jsxs("span",{className:"ml-2 opacity-75",children:["(",m+1,"/",h.length,")"]})]})]})}),i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsx(We,{className:"text-xl",children:"Match Information"}),s&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Scouting as:"," ",i.jsx("span",{className:"font-medium",children:s})]})]}),i.jsxs($e,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{children:"Event Name/Code"}),i.jsx("div",{className:l?"opacity-50 pointer-events-none":"",children:i.jsx(LC,{currentEventKey:O,onEventKeyChange:G})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Event name will be included in all scouting data for this session"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ft,{htmlFor:"match-number",children:"Match Number"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Auto-increments after each match"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Br,{value:j,onValueChange:H=>k(H),disabled:l,children:[i.jsx(Vr,{className:"w-24 h-12",children:i.jsx(oa,{})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"qm",children:"Qual"}),i.jsx(ot,{value:"sf",children:"Semi"}),i.jsx(ot,{value:"f",children:"Final"})]})]}),i.jsx(en,{id:"match-number",type:"number",inputMode:"numeric",placeholder:j==="qm"?"e.g., 24":"e.g., 1",value:w,onChange:H=>F(H.target.value),className:`text-lg flex-1 h-12 ${l?"bg-muted cursor-not-allowed":""}`,disabled:l})]}),j==="sf"&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter semifinal # (1-13)  Creates sf#m1"}),j==="f"&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter match # (1-3)  Creates f1m#"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{children:"Alliance"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(X,{variant:y==="red"?"default":"outline",onClick:()=>x("red"),disabled:l,className:`h-12 text-lg font-semibold ${y==="red"?"bg-red-500 hover:bg-red-600 text-white":"hover:bg-red-50 hover:text-red-600 hover:border-red-300"} ${l?"cursor-not-allowed":""}`,children:[i.jsx(Oe,{variant:y==="red"?"secondary":"destructive",className:`w-3 h-3 p-0 mr-2 ${y==="red"?"bg-white":"bg-red-500"}`}),"Red Alliance"]}),i.jsxs(X,{variant:y==="blue"?"default":"outline",onClick:()=>x("blue"),disabled:l,className:`h-12 text-lg font-semibold ${y==="blue"?"bg-blue-500 hover:bg-blue-600 text-white":"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300"} ${l?"cursor-not-allowed":""}`,children:[i.jsx(Oe,{variant:y==="blue"?"secondary":"default",className:`w-3 h-3 p-0 mr-2 ${y==="blue"?"bg-white":"bg-blue-500"}`}),"Blue Alliance"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ft,{children:"Alliance Prediction (Optional)"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:l?"Locked during re-scout":"Earn points for correct predictions"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsx(X,{variant:te==="red"?"default":"outline",onClick:()=>z("red"),disabled:l,className:`h-10 text-sm font-medium ${te==="red"?"bg-red-500 hover:bg-red-600 text-white":"hover:bg-red-50 hover:text-red-600 hover:border-red-300"}`,children:"Red Wins"}),i.jsx(X,{variant:te==="blue"?"default":"outline",onClick:()=>z("blue"),disabled:l,className:`h-10 text-sm font-medium ${te==="blue"?"bg-blue-500 hover:bg-blue-600 text-white":"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300"}`,children:"Blue Wins"}),i.jsx(X,{variant:te==="none"?"default":"outline",onClick:()=>z("none"),disabled:l,className:"h-10 text-sm font-medium",children:"No Prediction"})]}),te!=="none"&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Predicting ",i.jsxs("span",{className:"font-medium capitalize",children:[te," Alliance"]})," will win this match"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{children:"Team Selection"}),i.jsx("div",{className:l?"opacity-50 pointer-events-none":"",children:i.jsx(LNe,{defaultSelectTeam:E,setSelectTeam:R,selectedMatch:N,selectedAlliance:y,preferredTeamPosition:v.teamPosition})})]})]})]}),i.jsxs("div",{className:"flex gap-4 w-full",children:[i.jsx(X,{variant:"outline",onClick:M,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsx(X,{onClick:U,className:"flex-2 h-12 text-lg font-semibold",disabled:l?!1:!w||!y||!E||!s||!O,children:"Start Scouting"})]}),w&&y&&E&&s&&O&&i.jsx(_e,{className:"w-full border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/20",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oe,{className:"bg-green-600",children:"Ready"}),i.jsxs("span",{className:"text-sm text-green-700 dark:text-green-300",children:[O,"  Match ",w," "," ",y.charAt(0).toUpperCase()+y.slice(1)," Alliance  Team ",E,"  ",s]})]})})}),i.jsx("div",{className:"h-8 md:h-6"})]})]})},j7=e=>String(e).toLowerCase().trim(),$E=(e,t,n,r)=>{const a=j7(e),s=String(t).toLowerCase().trim(),o=String(n).trim(),l=r.toLowerCase().trim();return`${a}::${s}::${o}::${l}`},FE=e=>{const n=Object.entries(e.gameData||{}).sort(([a],[s])=>a.localeCompare(s)).map(([a,s])=>`${a}:${JSON.stringify(s)}`).join("|");let r=2166136261;for(let a=0;a<n.length;a++)r^=n.charCodeAt(a),r=Math.imul(r,16777619);return(r>>>0).toString(36)},Yi=async()=>{try{const{db:e}=await Mn(async()=>{const{db:n}=await Promise.resolve().then(()=>Vi);return{db:n}},void 0);return await e.scoutingData.toArray()}catch(e){return console.error("Error loading scouting data:",e),[]}},BE=async e=>{try{const{db:t}=await Mn(async()=>{const{db:n}=await Promise.resolve().then(()=>Vi);return{db:n}},void 0);await t.scoutingData.bulkPut(e)}catch(t){throw console.error("Error saving scouting data:",t),t}},u1=(e,t)=>{const n=[],r=e.gameData||{},a=t.gameData||{},s=(u,d="")=>{const f={};for(const[h,m]of Object.entries(u)){const g=d?`${d}.${h}`:h;m!==null&&typeof m=="object"&&!Array.isArray(m)?Object.assign(f,s(m,g)):f[g]=m}return f},o=s(r),l=s(a),c=new Set([...Object.keys(o),...Object.keys(l)]);for(const u of c){const d=o[u],f=l[u];f!=null&&d!=null&&JSON.stringify(d)!==JSON.stringify(f)&&n.push({field:u,localValue:d,incomingValue:f})}return n},MR=async e=>{const{db:t}=await Mn(async()=>{const{db:u}=await Promise.resolve().then(()=>Vi);return{db:u}},void 0),n=[],r=[],a=[],s=[],o=await t.scoutingData.toArray(),l=new Map(o.map(u=>[u.id,u])),c=new Map(o.map(u=>{const d=u;return[$E(d.eventKey,d.matchKey,d.teamNumber,d.allianceColor),d]}));for(const u of e){let d=l.get(u.id);if(!d){const v=$E(u.eventKey,u.matchKey,u.teamNumber,u.allianceColor);d=c.get(v)}if(!d){n.push(u);continue}const f=d.isCorrected||!1,h=!!u.isCorrected,m=FE(d),g=FE(u);if(f&&h){const v=Number(d.lastCorrectedAt||d.timestamp||0),b=Number(u.lastCorrectedAt||u.timestamp||0);if(m===g&&Math.abs(v-b)<=1e3)continue}else if(m===g&&f===h)continue;if(!f&&!h){a.push(u);continue}if(!f&&h){r.push(u);continue}if(f&&!h){const v=u1(d,u);s.push({incoming:u,local:d,conflictType:"corrected-vs-uncorrected",isNewerIncoming:!1,changedFields:v});continue}if(f&&h){const v=d.lastCorrectedAt||d.timestamp,b=Number(u.lastCorrectedAt||u.timestamp||0);if(Math.abs(v-b)<=1e3){r.push(u);continue}const y=u1(d,u);s.push({incoming:u,local:d,conflictType:"corrected-vs-corrected",isNewerIncoming:b>v,changedFields:y})}}return{autoImport:n,autoReplace:r,batchReview:a,conflicts:s}},d1=Object.freeze(Object.defineProperty({__proto__:null,computeChangedFields:u1,detectConflicts:MR,generateDataFingerprint:FE,generateDeterministicEntryId:$E,loadScoutingData:Yi,normalizeEventKey:j7,saveScoutingData:BE},Symbol.toStringTag,{value:"Module"}));class N7 extends Md{constructor(){super("MatchScoutingDB");pn(this,"scoutingData");this.version(1).stores({scoutingData:"id, teamNumber, matchNumber, allianceColor, scoutName, eventKey, matchKey, timestamp, isCorrected, [teamNumber+eventKey], [scoutName+eventKey+matchNumber]"})}}class k7 extends Md{constructor(){super("PitScoutingDB");pn(this,"pitScoutingData");this.version(1).stores({pitScoutingData:"id, teamNumber, eventKey, scoutName, timestamp, [teamNumber+eventKey]"})}}const Gr=new N7,Hs=new k7;Gr.open().catch(e=>{console.error("Failed to open MatchScoutingDB:",e)});Hs.open().catch(e=>{console.error("Failed to open PitScoutingDB:",e)});const f1=async e=>{await Gr.scoutingData.put(e)},VE=async e=>{await Gr.scoutingData.bulkPut(e)},IR=async()=>await Gr.scoutingData.toArray(),A7=async e=>await Gr.scoutingData.where("teamNumber").equals(e).toArray(),P7=async e=>await Gr.scoutingData.where("matchNumber").equals(e).toArray(),E7=async e=>await Gr.scoutingData.where("eventKey").equals(e.toLowerCase()).toArray(),T7=async(e,t)=>await Gr.scoutingData.where("[teamNumber+eventKey]").equals([e,t.toLowerCase()]).toArray(),zE=async()=>{await Gr.scoutingData.clear()},UE=async()=>({entries:await IR(),exportedAt:Date.now(),version:"3.0-maneuver-core"}),hm=async e=>{await Hs.pitScoutingData.put(e)},$C=async()=>await Hs.pitScoutingData.toArray(),_7=async e=>await Hs.pitScoutingData.where("teamNumber").equals(e).toArray(),Qm=async(e,t)=>(await Hs.pitScoutingData.where("[teamNumber+eventKey]").equals([e,t]).toArray()).sort((r,a)=>a.timestamp-r.timestamp)[0],D7=async()=>{await Hs.pitScoutingData.clear()},R7=async()=>{const e=await Hs.pitScoutingData.toArray(),t=[...new Set(e.map(a=>a.teamNumber))].sort((a,s)=>a-s),n=[...new Set(e.map(a=>a.eventKey))].sort(),r=[...new Set(e.map(a=>a.scoutName))].sort();return{totalEntries:e.length,teams:t,events:n,scouts:r}},Vi=Object.freeze(Object.defineProperty({__proto__:null,MatchScoutingDB:N7,PitScoutingDB:k7,clearAllPitScoutingData:D7,clearAllScoutingData:zE,db:Gr,exportScoutingData:UE,getPitScoutingStats:R7,loadAllPitScoutingEntries:$C,loadAllScoutingEntries:IR,loadPitScoutingByTeam:_7,loadPitScoutingByTeamAndEvent:Qm,loadScoutingEntriesByEvent:E7,loadScoutingEntriesByMatch:P7,loadScoutingEntriesByTeam:A7,loadScoutingEntriesByTeamAndEvent:T7,pitDB:Hs,savePitScoutingEntry:hm,saveScoutingEntries:VE,saveScoutingEntry:f1},Symbol.toStringTag,{value:"Module"})),Zm=async()=>{try{const e=await $C();return{entries:e,lastUpdated:e.length>0?Math.max(...e.map(t=>t.timestamp)):0}}catch(e){return console.error("Error loading pit scouting data:",e),{entries:[],lastUpdated:0}}},eh=async(e,t)=>{try{return await Qm(e,t)||null}catch(n){return console.error("Error loading pit scouting entry:",n),null}},h1=async()=>{try{await D7()}catch(e){throw console.error("Error clearing pit scouting data:",e),e}},M7=async()=>{try{return await R7()}catch(e){return console.error("Error getting pit scouting stats:",e),{totalEntries:0,teams:[],events:[],scouts:[]}}},I7=async()=>{try{const e=await Zm();if(e.entries.length===0)throw new Error("No pit scouting data found");const t={type:"pit-scouting-images-only",lastUpdated:e.lastUpdated,entries:e.entries.filter(o=>o.robotPhoto).map(o=>({teamNumber:o.teamNumber,eventKey:o.eventKey,robotPhoto:o.robotPhoto,timestamp:o.timestamp}))};if(t.entries.length===0)throw new Error("No images found in pit scouting data");const n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=`pit-scouting-images-only-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}catch(e){throw console.error("Error downloading pit scouting images:",e),e}},O7=async(e,t="append")=>{try{if(t==="overwrite")return await h1(),await Promise.all(e.entries.map(n=>hm(n))),{imported:e.entries.length,duplicatesSkipped:0};{const n=await $C(),r=new Set(n.map(s=>`${s.teamNumber}-${s.eventKey}`)),a=e.entries.filter(s=>!r.has(`${s.teamNumber}-${s.eventKey}`));return await Promise.all(a.map(s=>hm(s))),{imported:a.length,duplicatesSkipped:e.entries.length-a.length}}}catch(n){throw console.error("Error importing pit scouting data:",n),n}},L7=async()=>{const e=await Zm();if(e.entries.length===0)return"";const t=new Set;e.entries.forEach(l=>{if(l.gameData&&typeof l.gameData=="object"){const c=(u,d="")=>{Object.keys(u).forEach(f=>{const h=u[f],m=d?`${d}.${f}`:f;h&&typeof h=="object"&&!Array.isArray(h)?c(h,m):t.add(m)})};c(l.gameData)}});const n=Array.from(t).sort(),r=["ID","Team Number","Event Key","Scout","Timestamp","Weight (lbs)","Drivetrain","Programming Language","Robot Photo","Notes",...n],a=(l,c)=>c.split(".").reduce((u,d)=>{if(u&&typeof u=="object")return u[d]},l),s=l=>l==null?"":typeof l=="boolean"?l?"Yes":"No":Array.isArray(l)||typeof l=="object"?JSON.stringify(l):String(l),o=e.entries.map(l=>{var d;const c=[l.id,l.teamNumber.toString(),l.eventKey,l.scoutName,new Date(l.timestamp).toISOString(),((d=l.weight)==null?void 0:d.toString())||"",l.drivetrain||"",l.programmingLanguage||"",l.robotPhoto?"Has Image":"No Image",l.notes||""],u=n.map(f=>{if(!l.gameData)return"";const h=a(l.gameData,f);return s(h)});return[...c,...u]});return[r,...o].map(l=>l.map(c=>`"${String(c).replace(/"/g,'""')}"`).join(",")).join(`
`)},$7=async e=>{try{if(e.type!=="pit-scouting-images-only")throw new Error("Invalid images-only data format");const t=await $C();let n=0,r=0;console.log("Images import debug:"),console.log("Existing entries:",t.map(a=>`${a.teamNumber}@${a.eventKey}`)),console.log("Image entries to match:",e.entries.map(a=>`${a.teamNumber}@${a.eventKey}`));for(const a of e.entries){const s=t.find(o=>o.teamNumber===a.teamNumber&&o.eventKey===a.eventKey);if(console.log(`Looking for ${a.teamNumber}@${a.eventKey}: ${s?"FOUND":"NOT FOUND"}`),s){const o={...s,robotPhoto:a.robotPhoto,timestamp:Math.max(s.timestamp,a.timestamp)};await hm(o),n++}else r++}return{updated:n,notFound:r}}catch(t){throw console.error("Error importing pit scouting images:",t),t}},F7=Object.freeze(Object.defineProperty({__proto__:null,clearAllPitScoutingData:h1,downloadPitScoutingImagesOnly:I7,exportPitScoutingToCSV:L7,getPitScoutingStats:M7,importPitScoutingData:O7,importPitScoutingImagesOnly:$7,loadPitScoutingData:Zm,loadPitScoutingEntry:eh},Symbol.toStringTag,{value:"Module"})),O0=e=>{if(!e)return"0 B";const t=new Blob([e]).size;return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`},GNe=()=>{const[e,t]=p.useState({scoutingDataCount:0,pitScoutingDataCount:0,matchDataCount:0,scoutGameDataCount:0,apiDataCount:0,scoutingDataSize:"0 B",pitScoutingDataSize:"0 B",matchDataSize:"0 B",scoutGameDataSize:"0 B",apiDataSize:"0 B"}),n=p.useCallback(async()=>{try{const u=await Yi(),d=JSON.stringify(u),f=O0(d);t(h=>({...h,scoutingDataCount:u.length,scoutingDataSize:f}))}catch(u){console.error("Error loading scouting data:",u),t(d=>({...d,scoutingDataCount:0,scoutingDataSize:"0 B"}))}},[]),r=p.useCallback(async()=>{try{const u=await M7(),d=await Hs.pitScoutingData.toArray(),f=O0(JSON.stringify(d));t(h=>({...h,pitScoutingDataCount:u.totalEntries,pitScoutingDataSize:f}))}catch(u){console.error("Error loading pit scouting data:",u),t(d=>({...d,pitScoutingDataCount:0,pitScoutingDataSize:"0 B"}))}},[]),a=p.useCallback(async()=>{try{const u=await st.scouts.count(),d=await st.predictions.count(),f=u+d,h=await st.scouts.toArray(),m=await st.predictions.toArray(),v=O0(JSON.stringify({scouts:h,predictions:m}));t(b=>({...b,scoutGameDataCount:f,scoutGameDataSize:v}))}catch(u){console.error("Error loading scout game data:",u),t(d=>({...d,scoutGameDataCount:0,scoutGameDataSize:"0 B"}))}},[]),s=p.useCallback(()=>{try{const d=Object.keys(localStorage).filter(m=>m.includes("tba_")||m.startsWith("tba_")||m.includes("nexus_")||m.startsWith("nexus_")||m==="matchData"||m==="eventsList"||m==="eventKey"||m.includes("matchResults_")||m.includes("stakesAwarded_")||m.includes("pit_assignments_"));let f=0;d.forEach(m=>{const g=localStorage.getItem(m);g&&(f+=new Blob([g]).size)});let h="0 B";f<1024?h=`${f} B`:f<1024*1024?h=`${(f/1024).toFixed(1)} KB`:h=`${(f/(1024*1024)).toFixed(1)} MB`,t(m=>({...m,apiDataCount:d.length,apiDataSize:h}))}catch(u){console.error("Error loading API data stats:",u),t(d=>({...d,apiDataCount:0,apiDataSize:"0 B"}))}},[]),o=p.useCallback(async()=>{await n(),await r(),await a(),s()},[n,r,a,s]),l=p.useCallback(()=>{t({scoutingDataCount:0,pitScoutingDataCount:0,matchDataCount:0,scoutGameDataCount:0,apiDataCount:0,scoutingDataSize:"0 B",pitScoutingDataSize:"0 B",matchDataSize:"0 B",scoutGameDataSize:"0 B",apiDataSize:"0 B"})},[]),c=p.useCallback(u=>{if(u)try{const d=JSON.parse(u),f=Array.isArray(d)?d.length:0;t(h=>({...h,matchDataCount:f,matchDataSize:O0(u)}))}catch{t(d=>({...d,matchDataCount:0,matchDataSize:"0 B"}))}else t(d=>({...d,matchDataCount:0,matchDataSize:"0 B"}))},[]);return p.useEffect(()=>{const u=localStorage.getItem("matchData");c(u),o()},[o,c]),{stats:e,refreshData:o,resetStats:l,updateMatchData:c}},WNe=(e,t,n)=>{const r=p.useCallback(async()=>{try{await zE(),localStorage.setItem("scoutingData",JSON.stringify({data:[]})),await e(),le.success("Cleared all scouting data")}catch(u){console.error("Error clearing scouting data:",u),localStorage.setItem("scoutingData",JSON.stringify({data:[]})),await e(),le.success("Cleared all scouting data")}},[e]),a=p.useCallback(async()=>{try{await h1(),await e(),le.success("Cleared all pit scouting data")}catch(u){console.error("Error clearing pit scouting data:",u),le.error("Failed to clear pit scouting data")}},[e]),s=p.useCallback(async()=>{try{await s1(),localStorage.removeItem("scoutsList"),localStorage.removeItem("currentScout"),localStorage.removeItem("scoutName"),window.dispatchEvent(new CustomEvent("scoutDataCleared")),await e(),le.success("Cleared all scout profile data"),console.log("ClearDataPage - Scout profile data cleared successfully")}catch(u){console.error("Error clearing scout profile data:",u),le.error("Failed to clear scout profile data")}},[e]),o=p.useCallback(()=>{localStorage.setItem("matchData",""),n&&n(null),le.success("Cleared match schedule data")},[n]),l=p.useCallback(()=>{try{const d=Object.keys(localStorage).filter(f=>f.includes("tba_")||f.startsWith("tba_")||f.includes("nexus_")||f.startsWith("nexus_")||f==="matchData"||f==="eventsList"||f==="eventKey"||f.includes("matchResults_")||f.includes("stakesAwarded_")||f.includes("pit_assignments_"));console.log("Clearing API data keys:",d),d.forEach(f=>{localStorage.removeItem(f)}),e(),le.success(`Cleared all API data (${d.length} items)`)}catch(u){console.error("Error clearing API data:",u),le.error("Failed to clear API data")}},[e]),c=p.useCallback(async()=>{try{console.log("localStorage before clearing:",Object.keys(localStorage)),await zE(),await h1(),await s1(),localStorage.clear(),console.log("localStorage after clearing:",Object.keys(localStorage)),t(),window.dispatchEvent(new CustomEvent("scoutDataCleared")),window.dispatchEvent(new CustomEvent("allDataCleared")),le.success("Cleared all data - complete clean slate",{description:"All stored data has been permanently removed from this device."})}catch(u){console.error("Error clearing all data:",u),le.error("Failed to clear all data")}},[t]);return{handleClearScoutingData:r,handleClearPitScoutingData:a,handleClearScoutGameData:s,handleClearMatchData:o,handleClearApiData:l,handleClearAllData:c}},qNe=({playerStation:e})=>i.jsxs(_e,{className:"w-full",children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Device Information"})}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Player Station:"})," ",dD(e)]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date().toLocaleDateString()]})]})]}),HNe=({onClearAllClick:e})=>i.jsxs(sr,{children:[i.jsx(OC,{className:"col-start-2 line-clamp-1 min-h-4",children:" Backup Recommendation"}),i.jsxs(gr,{className:"space-y-3 col-start-2 grid justify-items-start gap-1 text-sm ",children:[i.jsx("p",{children:"Consider downloading your data before clearing it. Use the JSON Transfer page to export your data."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" The button below will completely reset this device, clearing ALL stored data including settings."}),i.jsx(X,{variant:"destructive",size:"sm",onClick:e,className:"w-full",children:" Clear All Data"})]})]}),YNe=({open:e,onOpenChange:t,onConfirm:n,scoutingDataCount:r,pitScoutingDataCount:a,scoutGameDataCount:s,apiDataCount:o,matchDataCount:l})=>{const c=()=>{t(!1),n()};return i.jsx(to,{open:e,onOpenChange:t,children:i.jsxs(no,{children:[i.jsxs(Go,{children:[i.jsxs(ro,{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5 text-red-500"}),"Clear All Data - Complete Reset"]}),i.jsx(lf,{asChild:!0,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"font-medium text-foreground",children:"This will permanently delete ALL data from this device:"}),i.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[i.jsxs("li",{children:[" ",r," scouting entries"]}),i.jsxs("li",{children:[" ",a," pit scouting entries"]}),i.jsxs("li",{children:[" ",s," scout profile entries"]}),i.jsxs("li",{children:[" ",o," API data items"]}),i.jsxs("li",{children:[" ",l," match schedule entries"]}),i.jsx("li",{children:" All settings and preferences"}),i.jsx("li",{children:" All cached data"})]}),i.jsx("p",{className:"text-sm text-red-600 font-medium",children:" This action cannot be undone. Make sure you have backed up any important data."})]})})]}),i.jsxs(qm,{children:[i.jsx(X,{variant:"outline",onClick:()=>t(!1),className:"p-4",children:"Cancel"}),i.jsx(X,{variant:"destructive",onClick:c,className:"text-white p-4",children:" Clear Everything"})]})]})})},Xp=({title:e,description:t,entryCount:n,entryLabel:r,storageSize:a,onClear:s,disabled:o=!1,warningMessage:l})=>{const[c,u]=p.useState(!1),d=async()=>{try{await s(),u(!1)}catch(m){console.error(`Error clearing ${e}:`,m),u(!1)}},f=n>0,h=o||!f;return i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(We,{className:"text-lg",children:e}),i.jsxs(Oe,{variant:f?"default":"secondary",children:[n," ",r]})]}),i.jsx(zn,{children:t})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium",children:"Storage size:"})," ",a]}),c?i.jsxs("div",{className:"space-y-3",children:[i.jsxs(sr,{children:[i.jsx(Ln,{className:"h-5 w-5",color:"red"}),i.jsx(gr,{children:l||`This will permanently delete ${n} ${r}.`})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(X,{variant:"destructive",size:"sm",className:"flex-1",onClick:d,children:"Yes, Delete All"}),i.jsx(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>u(!1),children:"Cancel"})]})]}):i.jsx(X,{variant:"destructive",className:"w-full",onClick:()=>u(!0),disabled:h,children:f?`Clear ${e}`:`No ${e}`})]})]})},QNe=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(!1),{stats:a,refreshData:s,resetStats:o,updateMatchData:l}=GNe(),{handleClearScoutingData:c,handleClearPitScoutingData:u,handleClearScoutGameData:d,handleClearMatchData:f,handleClearApiData:h,handleClearAllData:m}=WNe(s,o,l);return p.useEffect(()=>{const g=localStorage.getItem("playerStation")||"Unknown";t(g)},[]),i.jsxs("div",{className:"min-h-screen w-full px-4 pt-12 pb-24",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col items-start gap-4 max-w-2xl mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Clear Data"}),i.jsx("p",{className:"text-muted-foreground",children:"Permanently delete stored data from this device. This action cannot be undone."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[i.jsx(qNe,{playerStation:e}),i.jsx(HNe,{onClearAllClick:()=>r(!0)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[i.jsx(Xp,{title:"Scouting Data",description:"Match scouting data collected on this device",entryCount:a.scoutingDataCount,entryLabel:"entries",storageSize:a.scoutingDataSize,onClear:c}),i.jsx(Xp,{title:"Pit Scouting Data",description:"Robot pit scouting data collected at events",entryCount:a.pitScoutingDataCount,entryLabel:"entries",storageSize:a.pitScoutingDataSize,onClear:u}),i.jsx(Xp,{title:"Scout Profile Data",description:"Scout predictions, stakes, and leaderboard data",entryCount:a.scoutGameDataCount,entryLabel:"entries",storageSize:a.scoutGameDataSize,onClear:d,warningMessage:`This will permanently delete ${a.scoutGameDataCount} scout game entries (scouts and predictions).`}),i.jsx(Xp,{title:"TBA & Nexus API Data",description:"Teams, pit data, matches, and event data from APIs",entryCount:a.apiDataCount,entryLabel:"items",storageSize:a.apiDataSize,onClear:h,warningMessage:"This will permanently delete all downloaded API data including teams, pit addresses, pit maps, match results, and event information."}),i.jsx(Xp,{title:"Match Schedule Data",description:"Tournament match schedule and team information",entryCount:a.matchDataCount,entryLabel:"matches",storageSize:a.matchDataSize,onClear:f})]})]}),i.jsx(YNe,{open:n,onOpenChange:r,onConfirm:m,scoutingDataCount:a.scoutingDataCount,pitScoutingDataCount:a.pitScoutingDataCount,scoutGameDataCount:a.scoutGameDataCount,apiDataCount:a.apiDataCount,matchDataCount:a.matchDataCount})]})};function ZNe({startPositions:e,setStartPositions:t,alliance:n,fieldImageRed:r,fieldImageBlue:a,zones:s}){const o=p.useRef(null),l=p.useRef(null),c=p.useMemo(()=>n==="blue"&&a?a:r,[n,r,a]),u=p.useCallback((f,h,m)=>{f.fillStyle="rgba(0, 0, 0, 0.4)",f.fillRect(0,0,h,m);const g=h/640,v=m/480;s.forEach(b=>{const y=b.x*g,x=b.y*v,w=b.width*g,S=b.height*v,j=e[b.position]===!0;f.globalCompositeOperation="destination-out",f.fillStyle="rgba(0, 0, 0, 0.2)",f.fillRect(y,x,w,S),f.globalCompositeOperation="source-over",j?f.fillStyle="rgba(34, 197, 94, 0.8)":f.fillStyle="rgba(255, 255, 255, 0.7)",f.fillRect(y,x,w,S),f.strokeStyle=j?"#16a34a":"#374151",f.lineWidth=j?4:2,f.setLineDash(j?[]:[5,5]),f.strokeRect(y,x,w,S),f.setLineDash([]),f.fillStyle=j?"#ffffff":"#1f2937",f.font=`bold ${Math.max(20*Math.min(g,v),16)}px Arial`,f.textAlign="center",f.textBaseline="middle",f.shadowColor=j?"#000000":"#ffffff",f.shadowBlur=3,f.shadowOffsetX=1,f.shadowOffsetY=1;const k=b.label??b.position.toString();f.fillText(k,y+w/2,x+S/2),f.shadowColor="transparent",f.shadowBlur=0,f.shadowOffsetX=0,f.shadowOffsetY=0})},[e,s]);p.useEffect(()=>{const f=o.current,h=l.current;if(!f||!h||!c)return;const m=f.getContext("2d");if(!m)return;const g=new Image;g.onload=()=>{const v=h.getBoundingClientRect(),b=v.width,y=v.height,x=g.width/g.height,w=b/y;let S,j;x>w?(S=b,j=b/x):(j=y,S=y*x),f.width=S,f.height=j,f.style.width=`${S}px`,f.style.height=`${j}px`,m.drawImage(g,0,0,S,j),u(m,S,j)},g.src=c},[c,u]);const d=f=>{const h=o.current;if(!h)return;const m=h.getBoundingClientRect(),g=h.width/m.width,v=h.height/m.height,b=(f.clientX-m.left)*g,y=(f.clientY-m.top)*v,x=h.width/640,w=h.height/480;for(const S of s){const j=S.x*x,k=S.y*w,N=S.width*x,P=S.height*w;if(b>=j&&b<=j+N&&y>=k&&y<=k+P){t.forEach((E,R)=>{E(R===S.position)});break}}};return c?i.jsx("div",{ref:l,className:"w-full h-full flex items-center justify-center p-1 lg:p-2 xl:p-3",children:i.jsx("canvas",{ref:o,className:"cursor-pointer max-w-full max-h-full shadow-lg rounded-md xl:shadow-xl 2xl:shadow-2xl",onClick:d})}):i.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No field image configured"})})}const nn={calculateAutoPoints(e){const t=e.gameData;let n=0;return c1().forEach(r=>{var s;const a=Jp(r,"auto");if(a>0){const o=((s=t==null?void 0:t.auto)==null?void 0:s[`${r}Count`])||0;n+=o*a}}),Object.keys(ld.auto).forEach(r=>{}),n},calculateTeleopPoints(e){const t=e.gameData;let n=0;return c1().forEach(r=>{var s;const a=Jp(r,"teleop");if(a>0){const o=((s=t==null?void 0:t.teleop)==null?void 0:s[`${r}Count`])||0;n+=o*a}}),n},calculateAverageAccuracy(e){var a,s;const t=e.gameData;var n=0,r=0;return(a=t.teleop.teleopPath)==null||a.forEach(o=>{o.type==="score"&&(n=n+o.accuracy,r++)}),(s=t.auto.autoPath)==null||s.forEach(o=>{o.type==="score"&&(n=n+o.accuracy,r++)}),r>0?n/r:1},getActionAccuracies(e,t){var a,s;const n=e.gameData;var r=[];return(a=n.teleop.teleopPath)==null||a.forEach(o=>{o.type==="score"&&o.action===t&&typeof o.accuracy=="number"&&r.push(o.accuracy)}),(s=n.auto.autoPath)==null||s.forEach(o=>{o.type==="score"&&o.action===t&&typeof o.accuracy=="number"&&r.push(o.accuracy)}),r},calculateEndgamePoints(e){var r,a,s;const t=e.gameData;let n=0;return((r=t==null?void 0:t.endgame)==null?void 0:r.climbL1)===!0&&(n+=Jp("climbL1","teleop")),((a=t==null?void 0:t.endgame)==null?void 0:a.climbL2)===!0&&(n+=Jp("climbL2","teleop")),((s=t==null?void 0:t.endgame)==null?void 0:s.climbL3)===!0&&(n+=Jp("climbL3","teleop")),n},calculateTotalPoints(e){return this.calculateAutoPoints(e)+this.calculateTeleopPoints(e)+this.calculateEndgamePoints(e)}},JNe="/Maneuver-2026/assets/2026-field-red-DC0DYBrO.png",XNe="/Maneuver-2026/assets/2026-field-blue-NurVif_y.png",B7={calculateBasicStats(e){var G,te;const t=e.length;if(t===0)return{teamNumber:0,eventKey:"",matchCount:0,totalPoints:0,autoPoints:0,teleopPoints:0,endgamePoints:0,overall:{avgTotalPoints:0,totalPiecesScored:0,avgGamePiece1:0,avgGamePiece2:0},auto:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0,mobilityRate:0,startPositions:[]},teleop:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0},endgame:{avgPoints:0,climbRate:0,parkRate:0},accuracy:0,avgAccuracyHub:0,avgAccuracyMoving:0,avgAccuracyClose:0,avgAccuracyMedium:0,avgAccuracyFar:0,avgAccuracyTrench:0,matchesPlayed:0,avgTotalPoints:0,avgAutoPoints:0,avgTeleopPoints:0,avgEndgamePoints:0,avgAutoFuel:0,avgTeleopFuel:0,avgAutoFuelPassed:0,avgTeleopFuelPassed:0,avgFuelPassed:0,avgTotalFuel:0,maxAutoFuel:0,maxTeleopFuel:0,maxAutoFuelPassed:0,maxTeleopFuelPassed:0,maxFuelPassed:0,maxTotalFuel:0,mobilityRate:0,autoClimbRate:0,autoClimbAttempts:0,climbL1Rate:0,climbL1Count:0,climbL2Rate:0,climbL2Count:0,climbL3Rate:0,climbL3Count:0,climbSuccessRate:0,defenseRate:0,trenchStuckRate:0,bumpStuckRate:0,brokeDownRate:0,startPositions:{},matchResults:[],primaryActiveRole:"None",primaryInactiveRole:"None",roleActiveCleanUpRate:0,roleActivePasserRate:0,roleActiveDefenseRate:0,roleActiveCyclerRate:0,roleActiveThiefRate:0,roleInactiveCleanUpRate:0,roleInactivePasserRate:0,roleInactiveDefenseRate:0,roleInactiveCyclerRate:0,roleInactiveThiefRate:0};const n=e.reduce((V,z)=>{var Ue,ne,je,ve,re,Ye,Fe,Je,Le,lt,ct,be,Ce,oe,xt,rt,Rt,zt,Pt,It,an,Jt,jn,Re,Ke,Q,ke,He,Be;const $=z.gameData;V.accuracy+=nn.calculateAverageAccuracy(z);let U=nn.getActionAccuracies(z,"shot_hub");V.avgAccuracyHub+=U.reduce((tt,nt)=>tt+nt,0)/U.length;let M=nn.getActionAccuracies(z,"shot_moving");V.avgAccuracyMoving+=M.reduce((tt,nt)=>tt+nt,0)/M.length;let F=nn.getActionAccuracies(z,"shot_depot_close"),W=nn.getActionAccuracies(z,"shot_outpost_close");V.avgAccuracyClose+=(F.reduce((tt,nt)=>tt+nt,0)+W.reduce((tt,nt)=>tt+nt,0))/(F.length+W.length);let Z=nn.getActionAccuracies(z,"shot_depot_medium"),H=nn.getActionAccuracies(z,"shot_outpost_medium");V.avgAccuracyMedium+=(Z.reduce((tt,nt)=>tt+nt,0)+H.reduce((tt,nt)=>tt+nt,0))/(Z.length+H.length);let ae=nn.getActionAccuracies(z,"shot_depot_far"),fe=nn.getActionAccuracies(z,"shot_outpost_far");V.avgAccuracyFar+=(ae.reduce((tt,nt)=>tt+nt,0)+fe.reduce((tt,nt)=>tt+nt,0))/(ae.length+fe.length);let we=nn.getActionAccuracies(z,"shot_depot_trench"),Pe=nn.getActionAccuracies(z,"shot_outpost_trench");V.avgAccuracyTrench+=(we.reduce((tt,nt)=>tt+nt,0)+Pe.reduce((tt,nt)=>tt+nt,0))/(we.length+Pe.length),V.autoFuel+=((Ue=$==null?void 0:$.auto)==null?void 0:Ue.fuelScoredCount)||0,V.teleopFuel+=((ne=$==null?void 0:$.teleop)==null?void 0:ne.fuelScoredCount)||0,V.autoFuelPassed+=((je=$==null?void 0:$.auto)==null?void 0:je.fuelPassedCount)||0,V.teleopFuelPassed+=((ve=$==null?void 0:$.teleop)==null?void 0:ve.fuelPassedCount)||0,V.fuelPassed+=(((re=$==null?void 0:$.auto)==null?void 0:re.fuelPassedCount)||0)+(((Ye=$==null?void 0:$.teleop)==null?void 0:Ye.fuelPassedCount)||0),V.mobility+=(Fe=$==null?void 0:$.auto)!=null&&Fe.leftStartZone?1:0,V.autoClimb+=(Je=$==null?void 0:$.auto)!=null&&Je.autoClimbL1?1:0,V.climbL1+=(Le=$==null?void 0:$.endgame)!=null&&Le.climbL1?1:0,V.climbL2+=(lt=$==null?void 0:$.endgame)!=null&&lt.climbL2?1:0,V.climbL3+=(ct=$==null?void 0:$.endgame)!=null&&ct.climbL3?1:0,V.defense+=(be=$==null?void 0:$.teleop)!=null&&be.playedDefense?1:0,V.trenchStuck+=(((Ce=$==null?void 0:$.auto)==null?void 0:Ce.trenchStuckCount)||0)>0||(((oe=$==null?void 0:$.teleop)==null?void 0:oe.trenchStuckCount)||0)>0?1:0,V.bumpStuck+=(((xt=$==null?void 0:$.auto)==null?void 0:xt.bumpStuckCount)||0)>0||(((rt=$==null?void 0:$.teleop)==null?void 0:rt.bumpStuckCount)||0)>0?1:0,V.brokeDown+=(((Rt=$==null?void 0:$.auto)==null?void 0:Rt.brokenDownCount)||0)>0||(((zt=$==null?void 0:$.teleop)==null?void 0:zt.brokenDownCount)||0)>0?1:0,V.roleActiveCleanUp+=(Pt=$==null?void 0:$.endgame)!=null&&Pt.roleActiveCleanUp?1:0,V.roleActivePasser+=(It=$==null?void 0:$.endgame)!=null&&It.roleActivePasser?1:0,V.roleActiveDefense+=(an=$==null?void 0:$.endgame)!=null&&an.roleActiveDefense?1:0,V.roleActiveCycler+=(Jt=$==null?void 0:$.endgame)!=null&&Jt.roleActiveCycler?1:0,V.roleActiveThief+=(jn=$==null?void 0:$.endgame)!=null&&jn.roleActiveThief?1:0,V.roleInactiveCleanUp+=(Re=$==null?void 0:$.endgame)!=null&&Re.roleInactiveCleanUp?1:0,V.roleInactivePasser+=(Ke=$==null?void 0:$.endgame)!=null&&Ke.roleInactivePasser?1:0,V.roleInactiveDefense+=(Q=$==null?void 0:$.endgame)!=null&&Q.roleInactiveDefense?1:0,V.roleInactiveCycler+=(ke=$==null?void 0:$.endgame)!=null&&ke.roleInactiveCycler?1:0,V.roleInactiveThief+=(He=$==null?void 0:$.endgame)!=null&&He.roleInactiveThief?1:0;const me=(Be=$==null?void 0:$.auto)==null?void 0:Be.startPosition;return me!=null&&me>=0&&(V.startPositionCounts[me]=(V.startPositionCounts[me]||0)+1),V},{accuracy:0,avgAccuracyHub:0,avgAccuracyMoving:0,avgAccuracyClose:0,avgAccuracyMedium:0,avgAccuracyFar:0,avgAccuracyTrench:0,autoFuel:0,teleopFuel:0,autoFuelPassed:0,teleopFuelPassed:0,fuelPassed:0,mobility:0,autoClimb:0,climbL1:0,climbL2:0,climbL3:0,defense:0,trenchStuck:0,bumpStuck:0,brokeDown:0,startPositionCounts:{},roleActiveCleanUp:0,roleActivePasser:0,roleActiveDefense:0,roleActiveCycler:0,roleActiveThief:0,roleInactiveCleanUp:0,roleInactivePasser:0,roleInactiveDefense:0,roleInactiveCycler:0,roleInactiveThief:0}),r=e.map(V=>{var Le,lt,ct,be,Ce,oe,xt,rt,Rt,zt,Pt,It,an,Jt,jn,Re,Ke,Q,ke,He,Be,tt,nt,bt,ze,Nn,Nt,vr,yr,_t;const z=nn.calculateAutoPoints(V),$=nn.calculateTeleopPoints(V),U=nn.calculateEndgamePoints(V),M=nn.calculateAverageAccuracy(V);let F=nn.getActionAccuracies(V,"shot_hub");const W=F.reduce((pt,Tt)=>pt+Tt,0)/F.length;let Z=nn.getActionAccuracies(V,"shot_moving");const H=Z.reduce((pt,Tt)=>pt+Tt,0)/Z.length;let ae=nn.getActionAccuracies(V,"shot_depot_close"),fe=nn.getActionAccuracies(V,"shot_outpost_close");const we=(ae.reduce((pt,Tt)=>pt+Tt,0)+fe.reduce((pt,Tt)=>pt+Tt,0))/(ae.length+fe.length);let Pe=nn.getActionAccuracies(V,"shot_depot_medium"),me=nn.getActionAccuracies(V,"shot_outpost_medium");const Ue=(Pe.reduce((pt,Tt)=>pt+Tt,0)+me.reduce((pt,Tt)=>pt+Tt,0))/(Pe.length+me.length);let ne=nn.getActionAccuracies(V,"shot_depot_far"),je=nn.getActionAccuracies(V,"shot_outpost_far");const ve=(ne.reduce((pt,Tt)=>pt+Tt,0)+je.reduce((pt,Tt)=>pt+Tt,0))/(ne.length+je.length);let re=nn.getActionAccuracies(V,"shot_depot_trench"),Ye=nn.getActionAccuracies(V,"shot_outpost_trench");const Fe=(re.reduce((pt,Tt)=>pt+Tt,0)+Ye.reduce((pt,Tt)=>pt+Tt,0))/(re.length+Ye.length);let Je=0;return(lt=(Le=V.gameData)==null?void 0:Le.endgame)!=null&&lt.climbL3?Je=3:(be=(ct=V.gameData)==null?void 0:ct.endgame)!=null&&be.climbL2?Je=2:(oe=(Ce=V.gameData)==null?void 0:Ce.endgame)!=null&&oe.climbL1&&(Je=1),{matchNumber:String(V.matchNumber),teamNumber:V.teamNumber,scoutName:V.scoutName,alliance:V.allianceColor,eventKey:V.eventKey||"",totalPoints:z+$+U,accuracy:M,avgAccuracyHub:W,avgAccuracyMoving:H,avgAccuracyClose:we,avgAccuracyMedium:Ue,avgAccuracyFar:ve,avgAccuracyTrench:Fe,hubAccuracies:F,movingAccuracies:Z,closeAccuracies:ae.concat(fe),farAccuracies:ne.concat(je),mediumAccuracies:Pe.concat(me),trenchAccuracies:re.concat(Ye),autoPoints:z,teleopPoints:$,endgamePoints:U,endgameSuccess:Je>0,climbLevel:Je,brokeDown:((rt=(xt=V.gameData)==null?void 0:xt.endgame)==null?void 0:rt.climbFailed)||!1,startPosition:((zt=(Rt=V.gameData)==null?void 0:Rt.auto)==null?void 0:zt.startPosition)??-1,comment:V.comments||"",autoFuel:((It=(Pt=V.gameData)==null?void 0:Pt.auto)==null?void 0:It.fuelScoredCount)||0,teleopFuel:((Jt=(an=V.gameData)==null?void 0:an.teleop)==null?void 0:Jt.fuelScoredCount)||0,fuelPassed:(((Re=(jn=V.gameData)==null?void 0:jn.auto)==null?void 0:Re.fuelPassedCount)||0)+(((Q=(Ke=V.gameData)==null?void 0:Ke.teleop)==null?void 0:Q.fuelPassedCount)||0),autoFuelPassed:((He=(ke=V.gameData)==null?void 0:ke.auto)==null?void 0:He.fuelPassedCount)||0,teleopFuelPassed:((tt=(Be=V.gameData)==null?void 0:Be.teleop)==null?void 0:tt.fuelPassedCount)||0,autoPath:Array.isArray((bt=(nt=V.gameData)==null?void 0:nt.auto)==null?void 0:bt.autoPath)?V.gameData.auto.autoPath.filter(pt=>pt&&pt.position):Array.isArray((Nn=(ze=V.gameData)==null?void 0:ze.auto)==null?void 0:Nn.actions)?V.gameData.auto.actions.filter(pt=>pt&&pt.position):[],teleopPath:Array.isArray((vr=(Nt=V.gameData)==null?void 0:Nt.teleop)==null?void 0:vr.teleopPath)?V.gameData.teleop.teleopPath.filter(pt=>pt&&pt.position):Array.isArray((_t=(yr=V.gameData)==null?void 0:yr.teleop)==null?void 0:_t.actions)?V.gameData.teleop.actions.filter(pt=>pt&&pt.position):[],gameData:V.gameData}}),a={};Object.entries(n.startPositionCounts).forEach(([V,z])=>{a[`position${V}`]=Math.round(z/t*100)});const s=r.reduce((V,z)=>V+z.autoPoints,0)/t,o=r.reduce((V,z)=>V+z.teleopPoints,0)/t,l=r.reduce((V,z)=>V+z.endgamePoints,0)/t,c=n.climbL1+n.climbL2+n.climbL3,u=r.map(V=>nn.calculateAverageAccuracy({gameData:V.gameData})).filter(V=>typeof V=="number"&&!isNaN(V)),d=u.length>0?Math.round(u.reduce((V,z)=>V+z,0)/u.length*100):0,f=(V,z)=>V.reduce(($,U)=>$+(Array.isArray(U[z])?U[z].reduce((M,F)=>M+F,0):0),0),h=(V,z)=>V.reduce(($,U)=>$+(Array.isArray(U[z])?U[z].length:0),0),m=(V,z)=>{const $=f(V,z),U=h(V,z);return U>0?$/U*100:0};console.log(r.map(V=>V.hubAccuracies));const g=m(r,"hubAccuracies"),v=m(r,"movingAccuracies"),b=m(r,"closeAccuracies"),y=m(r,"mediumAccuracies"),x=m(r,"farAccuracies"),w=m(r,"trenchAccuracies"),S=[{name:"Cycler",count:n.roleActiveCycler},{name:"Clean Up",count:n.roleActiveCleanUp},{name:"Passer",count:n.roleActivePasser},{name:"Thief",count:n.roleActiveThief},{name:"Defense",count:n.roleActiveDefense}],j=Math.max(...S.map(V=>V.count)),k=S.filter(V=>V.count===j&&V.count>0),N=k.length>0?k.map(V=>V.name).join(" / "):"None",P=[{name:"Cycler",count:n.roleInactiveCycler},{name:"Clean Up",count:n.roleInactiveCleanUp},{name:"Passer",count:n.roleInactivePasser},{name:"Thief",count:n.roleInactiveThief},{name:"Defense",count:n.roleInactiveDefense}],E=Math.max(...P.map(V=>V.count)),R=P.filter(V=>V.count===E&&V.count>0),O=R.length>0?R.map(V=>V.name).join(" / "):"None";return{teamNumber:((G=e[0])==null?void 0:G.teamNumber)||0,eventKey:((te=e[0])==null?void 0:te.eventKey)||"",matchCount:t,totalPoints:r.reduce((V,z)=>V+z.totalPoints,0),autoPoints:r.reduce((V,z)=>V+z.autoPoints,0),teleopPoints:r.reduce((V,z)=>V+z.teleopPoints,0),endgamePoints:r.reduce((V,z)=>V+z.endgamePoints,0),accuracy:d,accuracyHub:g,accuracyMoving:v,accuracyClose:b,accuracyMedium:y,accuracyFar:x,accuracyTrench:w,overall:{avgTotalPoints:Math.round((s+o+l)*10)/10,totalPiecesScored:Math.round((n.autoFuel+n.teleopFuel)/t*10)/10,avgGamePiece1:Math.round((n.autoFuel+n.teleopFuel)/t*10)/10,avgGamePiece2:Math.round(n.fuelPassed/t*10)/10},auto:{avgPoints:Math.round(s*10)/10,avgGamePiece1:Math.round(n.autoFuel/t*10)/10,avgGamePiece2:0,mobilityRate:Math.round(n.mobility/t*100),startPositions:Object.entries(a).map(([V,z])=>({position:V,percentage:z}))},teleop:{avgPoints:Math.round(o*10)/10,avgGamePiece1:Math.round(n.teleopFuel/t*10)/10,avgGamePiece2:Math.round(n.fuelPassed/t*10)/10},endgame:{avgPoints:Math.round(l*10)/10,climbRate:Math.round(c/t*100),parkRate:0},matchesPlayed:t,avgTotalPoints:Math.round((s+o+l)*10)/10,avgAutoPoints:Math.round(s*10)/10,avgTeleopPoints:Math.round(o*10)/10,avgEndgamePoints:Math.round(l*10)/10,avgAutoFuel:Math.round(n.autoFuel/t*10)/10,avgTeleopFuel:Math.round(n.teleopFuel/t*10)/10,avgAutoFuelPassed:Math.round(n.autoFuelPassed/t*10)/10,avgTeleopFuelPassed:Math.round(n.teleopFuelPassed/t*10)/10,avgFuelPassed:Math.round(n.fuelPassed/t*10)/10,avgTotalFuel:Math.round((n.autoFuel+n.teleopFuel)/t*10)/10,maxAutoFuel:Math.max(...r.map(V=>V.autoFuel||0)),maxTeleopFuel:Math.max(...r.map(V=>V.teleopFuel||0)),maxAutoFuelPassed:Math.max(...r.map(V=>V.autoFuelPassed||0)),maxTeleopFuelPassed:Math.max(...r.map(V=>V.teleopFuelPassed||0)),maxFuelPassed:Math.max(...r.map(V=>(V.autoFuelPassed||0)+(V.teleopFuelPassed||0))),maxTotalFuel:Math.max(...r.map(V=>(V.autoFuel||0)+(V.teleopFuel||0))),mobilityRate:Math.round(n.mobility/t*100),autoClimbRate:Math.round(n.autoClimb/t*100),autoClimbAttempts:n.autoClimb,climbL1Rate:Math.round(n.climbL1/t*100),climbL1Count:n.climbL1,climbL2Rate:Math.round(n.climbL2/t*100),climbL2Count:n.climbL2,climbL3Rate:Math.round(n.climbL3/t*100),climbL3Count:n.climbL3,climbSuccessRate:Math.round(c/t*100),defenseRate:Math.round(n.defense/t*100),trenchStuckRate:Math.round(n.trenchStuck/t*100),bumpStuckRate:Math.round(n.bumpStuck/t*100),brokeDownRate:Math.round(n.brokeDown/t*100),startPositions:a,matchResults:r.sort((V,z)=>parseInt(V.matchNumber)-parseInt(z.matchNumber)),primaryActiveRole:N,primaryInactiveRole:O,roleActiveCleanUpRate:Math.round(n.roleActiveCleanUp/t*100),roleActivePasserRate:Math.round(n.roleActivePasser/t*100),roleActiveDefenseRate:Math.round(n.roleActiveDefense/t*100),roleActiveCyclerRate:Math.round(n.roleActiveCycler/t*100),roleActiveThiefRate:Math.round(n.roleActiveThief/t*100),roleInactiveCleanUpRate:Math.round(n.roleInactiveCleanUp/t*100),roleInactivePasserRate:Math.round(n.roleInactivePasser/t*100),roleInactiveDefenseRate:Math.round(n.roleInactiveDefense/t*100),roleInactiveCyclerRate:Math.round(n.roleInactiveCycler/t*100),roleInactiveThiefRate:Math.round(n.roleInactiveThief/t*100)}},getStatSections(){return[{id:"points-overview",title:"Points Overview",tab:"overview",columns:2,stats:[{key:"avgTotalPoints",label:"Total Points",type:"number",color:"green"},{key:"avgAutoPoints",label:"Auto Points",type:"number",color:"blue"},{key:"avgTeleopPoints",label:"Teleop Points",type:"number",color:"purple"},{key:"avgEndgamePoints",label:"Endgame Points",type:"number",color:"orange"}]},{id:"fuel-overview",title:"Fuel Scoring",tab:"overview",columns:2,stats:[{key:"avgTotalFuel",label:"Total Fuel",type:"number",color:"yellow",subtitle:"avg per match"},{key:"avgFuelPassed",label:"Fuel Passed",type:"number",color:"blue",subtitle:"avg per match"}]},{id:"primary-roles",title:"Primary Roles",tab:"overview",columns:2,stats:[{key:"primaryActiveRole",label:"Active Shift Role",type:"text",color:"green"},{key:"primaryInactiveRole",label:"Inactive Shift Role",type:"text",color:"purple"}]},{id:"auto-scoring",title:"Auto Fuel",tab:"scoring",columns:2,stats:[{key:"avgAutoFuel",label:"Fuel Scored",type:"number",subtitle:"avg per match"},{key:"maxAutoFuel",label:"Max Fuel Scored",type:"number",subtitle:"best match"},{key:"avgAutoFuelPassed",label:"Fuel Passed",type:"number",subtitle:"avg per match"},{key:"maxAutoFuelPassed",label:"Max Fuel Passed",type:"number",subtitle:"best match"}]},{id:"teleop-scoring",title:"Teleop Fuel",tab:"scoring",columns:2,stats:[{key:"avgTeleopFuel",label:"Fuel Scored",type:"number",subtitle:"avg per match"},{key:"maxTeleopFuel",label:"Max Fuel Scored",type:"number",subtitle:"best match"},{key:"avgTeleopFuelPassed",label:"Fuel Passed",type:"number",subtitle:"avg per match"},{key:"maxTeleopFuelPassed",label:"Max Fuel Passed",type:"number",subtitle:"best match"}]},{id:"auto-climbing",title:"Auto Climbing",tab:"scoring",columns:2,stats:[{key:"autoClimbRate",label:"Success Rate",type:"percentage",color:"blue"},{key:"autoClimbAttempts",label:"Total Attempts",type:"number",color:"slate"}]},{id:"teleop-climbing",title:"Teleop Climbing",tab:"scoring",columns:2,stats:[{key:"climbL1Rate",label:"Level 1 Success Rate",type:"percentage",color:"green"},{key:"climbL1Count",label:"Level 1 Climbs",type:"number",color:"slate"},{key:"climbL2Rate",label:"Level 2 Success Rate",type:"percentage",color:"blue"},{key:"climbL2Count",label:"Level 2 Climbs",type:"number",color:"slate"},{key:"climbL3Rate",label:"Level 3 Success Rate",type:"percentage",color:"purple"},{key:"climbL3Count",label:"Level 3 Climbs",type:"number",color:"slate"}]}]},getRateSections(){return[{id:"key-rates",title:"Key Rates",tab:"overview",rates:[{key:"climbSuccessRate",label:"Climb Success Rate"},{key:"autoClimbRate",label:"Auto Climb Rate"}]},{id:"climb-breakdown",title:"Climb Breakdown",tab:"performance",rates:[{key:"climbL1Rate",label:"Level 1 (10 pts)"},{key:"climbL2Rate",label:"Level 2 (20 pts)"},{key:"climbL3Rate",label:"Level 3 (30 pts)"}]},{id:"active-shift-roles",title:"Active Shift Roles",tab:"performance",rates:[{key:"roleActiveCyclerRate",label:"Cycler"},{key:"roleActiveCleanUpRate",label:"Clean Up"},{key:"roleActivePasserRate",label:"Passer"},{key:"roleActiveThiefRate",label:"Thief"},{key:"roleActiveDefenseRate",label:"Defense"}]},{id:"inactive-shift-roles",title:"Inactive Shift Roles",tab:"performance",rates:[{key:"roleInactiveCyclerRate",label:"Cycler"},{key:"roleInactiveCleanUpRate",label:"Clean Up"},{key:"roleInactivePasserRate",label:"Passer"},{key:"roleInactiveThiefRate",label:"Thief"},{key:"roleInactiveDefenseRate",label:"Defense"}]},{id:"accuracy-metrics",title:"Accuracy Metrics",tab:"performance",rates:[{key:"accuracy",label:"Overall Average"},{key:"accuracyHub",label:"Hub Average"},{key:"accuracyMoving",label:"Moving Average"},{key:"accuracyClose",label:"Close Average"},{key:"accuracyMedium",label:"Medium Average"},{key:"accuracyFar",label:"Far Average"},{key:"accuracyTrench",label:"Trench Average"}]},{id:"other-metrics",title:"Other Metrics",tab:"performance",rates:[{key:"defenseRate",label:"Played Defense (Any Phase)"},{key:"brokeDownRate",label:"Broke Down"},{key:"trenchStuckRate",label:"Got Stuck in Trench"},{key:"bumpStuckRate",label:"Got Stuck on Bump"}]}]},getMatchBadges(){return[{key:"endgameSuccess",label:"Climbed",variant:"secondary",showWhen:!0},{key:"brokeDown",label:"Failed",variant:"destructive",showWhen:!0}]},getStartPositionConfig(){return{positionCount:5,positionLabels:["Left Trench","Left Bump","Hub","Right Bump","Right Trench"],positionColors:["yellow","orange","green","orange","yellow"],fieldImageRed:JNe,fieldImageBlue:XNe,zones:[{x:40,y:120,width:90,height:100,position:0,label:"Trench (L)"},{x:130,y:120,width:150,height:100,position:1,label:"Left Bump"},{x:280,y:120,width:80,height:100,position:2,label:"Hub"},{x:360,y:120,width:150,height:100,position:3,label:"Right Bump"},{x:510,y:120,width:90,height:100,position:4,label:"Trench (R)"}]}}};function eke({startPosition:e,setStartPosition:t,alliance:n}){const r=e.findIndex(l=>l===!0),a=e.some(l=>l===!0),s=B7.getStartPositionConfig(),o=t.map(l=>c=>l(c));return i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{className:"pb-3 lg:pb-4",children:[i.jsx(We,{className:"text-xl xl:text-2xl",children:"Starting Position"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Click where your robot starts on the field"}),a&&i.jsxs(Oe,{className:"w-fit bg-green-600",children:["Position ",r," Selected"]})]}),i.jsx($e,{className:"p-4",children:i.jsx("div",{className:"w-full min-h-80 h-80 lg:h-96 xl:h-112 2xl:h-128 border rounded-lg overflow-hidden bg-green-50 dark:bg-green-950/20",children:i.jsx(ZNe,{startPositions:e,setStartPositions:o,alliance:n,fieldImageRed:s.fieldImageRed??"",fieldImageBlue:s.fieldImageBlue,zones:s.zones??[]})})})]})}function UF(e){const t=localStorage.getItem(`${e}StateStack`);return t?JSON.parse(t):[]}function Lk(e){const t=localStorage.getItem(`${e}RobotStatus`);return t?JSON.parse(t):{}}function tke(e,t){const n=parseInt(t)||0;return e==="sf"?{matchKey:`sf${t}m1`,numericMatch:n}:e==="f"?{matchKey:`f1m${t}`,numericMatch:n}:{matchKey:`qm${t}`,numericMatch:n}}async function rx({inputs:e,transformation:t,comment:n="",noShow:r=!1,onSuccess:a,onError:s}){try{const{matchKey:o,numericMatch:l}=tke(e.matchType||"qm",e.matchNumber);if(r){const y={id:`${e.eventKey}::${o}::${e.selectTeam}::${e.alliance}`,scoutName:e.scoutName||"",teamNumber:parseInt(e.selectTeam)||0,matchNumber:l,eventKey:e.eventKey,matchKey:o,allianceColor:e.alliance,timestamp:Date.now(),noShow:!0,comments:n||"No Show - Robot did not appear for this match",gameData:{auto:{startPosition:e.startPosition},teleop:{},endgame:{}}};return await Gr.scoutingData.put(y),le.success("No-show match submitted"),nE(),a&&a(),!0}const c=UF("auto"),u=UF("teleop"),d=Lk("auto"),f=Lk("teleop"),h=Lk("endgame"),m=t.transformActionsToCounters({autoActions:c,teleopActions:u,autoRobotStatus:d,teleopRobotStatus:f,endgameRobotStatus:h,startPosition:e.startPosition}),g={id:`${e.eventKey}::${o}::${e.selectTeam}::${e.alliance}`,scoutName:e.scoutName||"",teamNumber:parseInt(e.selectTeam)||0,matchNumber:l,eventKey:e.eventKey,matchKey:o,allianceColor:e.alliance,timestamp:Date.now(),gameData:m,comments:n};await Gr.scoutingData.put(g),nE();const v=localStorage.getItem("currentMatchNumber")||"1",b=(parseInt(v)+1).toString();return localStorage.setItem("currentMatchNumber",b),le.success("Match data saved successfully!"),a==null||a(),!0}catch(o){return console.error("Error saving match data:",o),le.error("Error saving match data"),s==null||s(o),!1}}const V7=p.createContext(null);function cf(){const e=p.useContext(V7);if(!e)throw new Error("useGame must be used within a GameProvider");return e}function nke({children:e,config:t,scoring:n,validation:r,analysis:a,ui:s,transformation:o}){const l={config:t,scoring:n,validation:r,analysis:a,ui:s,transformation:o};return i.jsx(V7.Provider,{value:l,children:e})}const Xc="/Maneuver-2026/assets/2026-field-DGIUMp9A.png",z7=["shot_depot_trench","shot_outpost_trench","shot_moving","shot_hub","shot_outpost_close","shot_outpost_medium","shot_outpost_far","shot_depot_close","shot_depot_medium","shot_depot_far"],cl={shot_moving:{x:.1,y:.5,label:"PASS_ICON",name:"Driving",scaleWidth:1.2},shot_hub:{x:.29,y:.5,label:"HUB_ICON",name:"At Hub",scaleWidth:1},shot_outpost_close:{x:.23,y:.6,label:"OUTPOST_ICON",name:"Close",scaleWidth:1},shot_outpost_medium:{x:.17,y:.72,label:"OUTPOST_ICON",name:"Medium",scaleWidth:1},shot_outpost_far:{x:.09,y:.87,label:"OUTPOST_ICON",name:"Far",scaleWidth:1},shot_outpost_trench:{x:.3,y:.87,label:"OUTPOST_ICON",name:"Trench",scaleWidth:1},shot_depot_close:{x:.23,y:.4,label:"DEPOT_ICON",name:"Close",scaleWidth:1},shot_depot_medium:{x:.17,y:.28,label:"DEPOT_ICON",name:"Medium",scaleWidth:1},shot_depot_far:{x:.09,y:.13,label:"DEPOT_ICON",name:"Far",scaleWidth:1},shot_depot_trench:{x:.3,y:.13,label:"DEPOT_ICON",name:"Trench",scaleWidth:1},hub:{x:.31,y:.5,label:"HUB_ICON",name:"Hub",scaleWidth:1},depot:{x:.09,y:.29,label:"DEPOT_ICON",name:"Depot"},outpost:{x:.09,y:.87,label:"OUTPOST_ICON",name:"Outpost"},tower:{x:.1,y:.53,label:"CLIMB_ICON",name:"Climb"},trench1:{x:.31,y:.13,label:"TRENCH_ICON",name:"Trench"},bump1:{x:.31,y:.32,label:"BUMP_ICON",name:"Bump",scaleHeight:1.4},bump2:{x:.31,y:.68,label:"BUMP_ICON",name:"Bump",scaleHeight:1.4},trench2:{x:.31,y:.87,label:"TRENCH_ICON",name:"Trench"},pass:{x:.5,y:.5,label:"PASS_ICON",name:"Pass"},collect_neutral:{x:.5,y:.7,label:"COLLECT_ICON",name:"Collect"},collect_alliance:{x:.1,y:.7,label:"COLLECT_ICON",name:"Collect"},opponent_foul:{x:.6,y:.5,label:"FOUL_ICON",name:"Foul",scaleWidth:1.5},defense_alliance:{x:.17,y:.15,label:"DEFENSE_ICON",name:"Defense"},defense_neutral:{x:.5,y:.15,label:"DEFENSE_ICON",name:"Defense"},defense_opponent:{x:.83,y:.15,label:"DEFENSE_ICON",name:"Defense"},pass_alliance:{x:.17,y:.85,label:"PASS_ICON",name:"Pass"},pass_opponent:{x:.83,y:.5,label:"PASS_ICON",name:"Pass"},trench_opponent1:{x:.69,y:.13,label:"TRENCH_ICON",name:"Trench"},bump_opponent1:{x:.69,y:.32,label:"BUMP_ICON",name:"Bump",scaleHeight:1.4},bump_opponent2:{x:.69,y:.68,label:"BUMP_ICON",name:"Bump",scaleHeight:1.4},trench_opponent2:{x:.69,y:.87,label:"TRENCH_ICON",name:"Trench"},steal:{x:.83,y:.85,label:"STEAL_ICON",name:"Steal"}},Uf=640,Kf=480,U7={allianceZone:{xMin:Xr.allianceZone.bounds.x/Uf,xMax:(Xr.allianceZone.bounds.x+Xr.allianceZone.bounds.width)/Uf,yMin:Xr.allianceZone.bounds.y/Kf,yMax:(Xr.allianceZone.bounds.y+Xr.allianceZone.bounds.height)/Kf},neutralZone:{xMin:Xr.neutralZone.bounds.x/Uf,xMax:(Xr.neutralZone.bounds.x+Xr.neutralZone.bounds.width)/Uf,yMin:Xr.neutralZone.bounds.y/Kf,yMax:(Xr.neutralZone.bounds.y+Xr.neutralZone.bounds.height)/Kf},opponentZone:{xMin:Xr.opponentZone.bounds.x/Uf,xMax:(Xr.opponentZone.bounds.x+Xr.opponentZone.bounds.width)/Uf,yMin:Xr.opponentZone.bounds.y/Kf,yMax:(Xr.opponentZone.bounds.y+Xr.opponentZone.bounds.height)/Kf}};function rke(e=20){return[{label:"8",value:8},{label:"1/4",value:Math.round(e/4)},{label:"1/2",value:Math.round(e/2)},{label:"3/4",value:Math.round(e*3/4)},{label:"Full",value:e}]}function ake(){return[{label:"All (>90%)",value:1},{label:"Most (75%)",value:.75},{label:"Some (50%)",value:.5},{label:"Few (25%)",value:.25},{label:"Little (<25%)",value:.1}]}const ske=["L1","L2","L3"],ike=["trench1","bump1","hub","bump2","trench2"],oke={auto:{allianceZone:["hub","depot","outpost","tower","pass","collect_neutral","opponent_foul","trench1","bump1","bump2","trench2"]},teleop:{allianceZone:["hub","tower","defense_alliance","collect_alliance","pass","defense_neutral","collect_neutral","defense_opponent","pass_opponent","steal"],neutralZone:[],opponentZone:[]}},lke={auto:{opponentZone:[]},teleop:{}};function K7(e,t){if(!t)return[];const n=oke[e][t]||[],r=lke[e][t]||[];return[...n,...r]}const tr={red:"#ef4444",blue:"#3b82f6",score:"#22c55e",pass:"#9333ea",collect:"#eab308",climb:"#a855f7",traversal:"#06b6d4",foul:"#ef4444",default:"#888888",white:"#ffffff",amber:"#f59e0b"},Ld=p.forwardRef(function({actions:t,pendingWaypoint:n,drawingPoints:r=[],alliance:a,isFieldRotated:s=!1,width:o,height:l,isSelectingScore:c=!1,isSelectingPass:u=!1,isSelectingCollect:d=!1,drawConnectedPaths:f=!0,drawingZoneBounds:h,onPointerDown:m,onPointerMove:g,onPointerUp:v},b){const y=p.useRef(null);p.useImperativeHandle(b,()=>({canvas:y.current}));const x=j=>a==="red"?1-j:j,w=j=>a==="red"?1-j:j,S=j=>{switch(j){case"score":return tr.score;case"collect":return tr.collect;case"climb":return tr.climb;case"traversal":return tr.traversal;case"pass":return tr.pass;case"foul":return tr.foul;default:return tr.default}};return p.useEffect(()=>{const j=y.current;if(!j||o===0)return;const k=j.getBoundingClientRect();console.log("[FieldCanvas] Drawing waypoints:",{actionsCount:t.length,canvasInternalSize:{width:o,height:l},canvasDisplaySize:{width:k.width,height:k.height},scaleMismatch:{x:o/k.width,y:l/k.height},alliance:a,isFieldRotated:s,actions:t.map($=>({type:$.type,action:$.action,pos:$.position}))});const N=j.getContext("2d");if(!N)return;N.clearRect(0,0,j.width,j.height);const P=j.width/1e3,E=a==="red"?tr.red:tr.blue,R=($,U)=>{const M=S(U.type);if(U.pathPoints&&U.pathPoints.length>0){N.beginPath(),N.strokeStyle=E,N.lineWidth=Math.max(2,4*P),N.moveTo(x($.x)*j.width,w($.y)*j.height);const F=U.pathPoints[0];F&&N.lineTo(x(F.x)*j.width,w(F.y)*j.height),N.stroke(),N.beginPath(),N.strokeStyle=M,N.lineWidth=Math.max(2,4*P),U.pathPoints.forEach((W,Z)=>{Z===0?N.moveTo(x(W.x)*j.width,w(W.y)*j.height):N.lineTo(x(W.x)*j.width,w(W.y)*j.height)}),N.stroke()}else N.beginPath(),N.strokeStyle=E,N.lineWidth=Math.max(2,4*P),N.moveTo(x($.x)*j.width,w($.y)*j.height),N.lineTo(x(U.position.x)*j.width,w(U.position.y)*j.height),N.stroke()},O=$=>{if(!$.pathPoints||$.pathPoints.length===0)return;const U=S($.type);N.beginPath(),N.strokeStyle=U,N.lineWidth=Math.max(2,4*P),N.lineCap="round",N.lineJoin="round",$.pathPoints.forEach((M,F)=>{F===0?N.moveTo(x(M.x)*j.width,w(M.y)*j.height):N.lineTo(x(M.x)*j.width,w(M.y)*j.height)}),N.stroke()};if(t.length>0){if(N.lineCap="round",N.lineJoin="round",N.setLineDash([]),f)for(let $=1;$<t.length;$++){const U=t[$-1],M=t[$];if(U&&M){const F=U.pathPoints&&U.pathPoints.length>0?U.pathPoints[U.pathPoints.length-1]:U.position;R(F,M)}}t.forEach($=>{$.pathPoints&&$.pathPoints.length>0&&O($)})}if(h&&(c||u||d)){const $=c?tr.score:u?tr.pass:tr.collect,U=x(h.xMin),M=x(h.xMax),F=w(h.yMin),W=w(h.yMax),Z=Math.min(U,M),H=Math.max(U,M),ae=Math.min(F,W),fe=Math.max(F,W),we=Z*j.width,Pe=ae*j.height,me=(H-Z)*j.width,Ue=(fe-ae)*j.height;N.fillStyle=$,N.globalAlpha=.1,N.fillRect(we,Pe,me,Ue),N.beginPath(),N.strokeStyle=$,N.lineWidth=Math.max(2,3*P),N.setLineDash([8*P,4*P]),N.globalAlpha=.8,N.rect(we,Pe,me,Ue),N.stroke(),N.setLineDash([]),N.globalAlpha=1}if(r.length>1){N.beginPath();let $=tr.amber;c?$=tr.score:u?$=tr.pass:d&&($=tr.collect),N.strokeStyle=$,N.lineWidth=Math.max(2,4*P),N.setLineDash([5*P,5*P]);const U=r[0];if(U){N.moveTo(x(U.x)*j.width,w(U.y)*j.height);for(let M=1;M<r.length;M++){const F=r[M];F&&N.lineTo(x(F.x)*j.width,w(F.y)*j.height)}N.stroke()}N.setLineDash([])}const G=Math.max(8,12*P),te=`bold ${Math.max(8,11*P)}px sans-serif`,V=`bold ${Math.max(7,10*P)}px sans-serif`,z=G+8*P;if(t.filter($=>$.position).forEach(($,U)=>{const M=x($.position.x)*j.width,F=w($.position.y)*j.height,W=S($.type);if(N.beginPath(),N.arc(M,F,G,0,Math.PI*2),N.fillStyle=W,N.fill(),N.strokeStyle=tr.white,N.lineWidth=Math.max(1,2*P),N.stroke(),N.save(),s&&(N.translate(M,F),N.rotate(Math.PI),N.translate(-M,-F)),N.fillStyle=tr.white,N.font=te,N.textAlign="center",N.textBaseline="middle",N.fillText((U+1).toString(),M,F),N.restore(),$.amountLabel){const Z=$.amountLabel;N.font=V;const ae=N.measureText(Z).width,fe=Math.max(8,11*P),we=6*P,Pe=2*P,me=ae+we*2,Ue=fe+Pe*2,ne=s?F+z:F-z,je=M-me/2,ve=ne-Ue/2;N.beginPath(),N.roundRect?N.roundRect(je,ve,me,Ue,4*P):N.rect(je,ve,me,Ue),N.fillStyle=W,N.fill(),N.strokeStyle=tr.white,N.lineWidth=Math.max(1,1*P),N.stroke(),N.save(),s&&(N.translate(M,ne),N.rotate(Math.PI),N.translate(-M,-ne)),N.fillStyle=tr.white,N.textAlign="center",N.textBaseline="middle",N.fillText(Z,M,ne),N.restore()}}),n){const $=x(n.position.x)*j.width,U=w(n.position.y)*j.height,M=n.type==="score"?tr.score:tr.pass;N.save(),N.globalAlpha=.6,n.pathPoints&&(N.beginPath(),N.strokeStyle=M,N.lineWidth=4,N.setLineDash([5,5]),n.pathPoints.forEach((F,W)=>{W===0?N.moveTo(x(F.x)*j.width,w(F.y)*j.height):N.lineTo(x(F.x)*j.width,w(F.y)*j.height)}),N.stroke()),N.beginPath(),N.arc($,U,15,0,Math.PI*2),N.fillStyle=M,N.fill(),N.strokeStyle=tr.white,N.lineWidth=3,N.stroke(),N.beginPath(),N.arc($,U,15+Math.sin(Date.now()/200)*5,0,Math.PI*2),N.strokeStyle=M,N.lineWidth=2,N.stroke(),N.restore()}},[t,o,l,a,r,n,s,c,u,d,f,h]),i.jsx("canvas",{ref:y,width:o,height:l,className:"absolute inset-0 w-full h-full pointer-events-auto touch-none",style:{touchAction:"none"},onPointerDown:m,onPointerMove:g,onPointerUp:v})}),cke={HUB_ICON:{icon:Pd,className:"text-green-500"},TRENCH_ICON:{icon:qfe,className:"text-amber-400"},BUMP_ICON:{icon:nhe,className:"fill-slate-400 text-slate-400"},CLIMB_ICON:{icon:pG,className:"text-purple-400"},COLLECT_ICON:{icon:$de,className:"text-yellow-400"},DEPOT_ICON:{icon:hhe,className:"text-emerald-400"},OUTPOST_ICON:{icon:Jde,className:"text-orange-400"},FOUL_ICON:{icon:Ln,className:"text-red-500"},PASS_ICON:{icon:Vde,className:"text-purple-400"},DEFENSE_ICON:{icon:Dfe,className:"text-cyan-400"},STEAL_ICON:{icon:Ude,className:"text-rose-400"}};function Jg({elementKey:e,element:t,isVisible:n,isDisabled:r=!1,isStuck:a=!1,isPotentialStuck:s=!1,isSelected:o=!1,count:l,onClick:c,alliance:u,isFieldRotated:d=!1,containerWidth:f,overrideX:h}){const m=h!==void 0?h:t.x,g=t.y,v=u==="red"?1-m:m,b=u==="red"?1-g:g,y=v*100,x=b*100,w=f*.055,S=Math.max(28,Math.min(w,55)),j=S*.45,k=S*.2,N=S*(t.scaleWidth||1),P=S*(t.scaleHeight||1),E=(n||a||s)&&!r,R=cke[t.label],O=R==null?void 0:R.icon;return i.jsx("button",{onClick:()=>c(e),className:De("absolute transform -translate-x-1/2 -translate-y-1/2 rounded-xl","flex flex-col items-center justify-center","transition-all duration-200","border shadow-lg",E?a?"bg-red-600 border-red-400 animate-pulse hover:bg-red-500 scale-110 z-10":s?"bg-amber-600 border-amber-400 hover:bg-amber-500 animate-in fade-in zoom-in duration-300":"bg-slate-800/90 border-slate-500 hover:bg-slate-700 hover:scale-105 hover:border-white":"bg-slate-900/50 border-slate-700/50 opacity-30 cursor-not-allowed"),style:{left:`${y}%`,top:`${x}%`,width:`${N}px`,height:`${P}px`},disabled:!E,children:i.jsx("div",{className:De("flex flex-col items-center justify-center",d&&"rotate-180"),children:a?i.jsxs(i.Fragment,{children:[i.jsx(Ln,{style:{width:`${j}px`,height:`${j}px`},className:"text-white mb-0.5"}),i.jsx("span",{style:{fontSize:`${k}px`},className:"font-bold text-white uppercase leading-none",children:"STUCK!"})]}):s?i.jsxs(i.Fragment,{children:[i.jsx(Ln,{style:{width:`${j}px`,height:`${j}px`},className:"text-white mb-0.5"}),i.jsx("span",{style:{fontSize:`${k}px`},className:"font-bold text-white uppercase leading-none",children:"STUCK?"})]}):i.jsxs(i.Fragment,{children:[o&&i.jsx("div",{className:"absolute inset-0 border-2 border-blue-400 rounded-xl animate-pulse"}),l!==void 0&&l>0&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-blue-500 text-white rounded-full font-bold flex items-center justify-center shadow-lg",style:{width:`${S*.35}px`,height:`${S*.35}px`,fontSize:`${S*.2}px`},children:l}),O?i.jsx(O,{style:{width:`${j}px`,height:`${j}px`},className:R.className}):i.jsx("span",{style:{fontSize:`${j}px`},children:t.label}),i.jsx("span",{className:"text-slate-300 font-medium leading-none mt-0.5",style:{fontSize:`${k}px`},children:t.name})]})})},e)}function KF(e,t){const n=e.toString();return!t||t==="qm"?`qm${n}`:t==="sf"?`sf${n}m1`:t==="f"?`f1m${n}`:n}function uke(e){switch(e){case"allianceZone":return"Alliance";case"neutralZone":return"Neutral";case"opponentZone":return"Opponent"}}function dke(e,t){switch(e){case"allianceZone":return t==="red"?"bg-red-500/20 text-red-300":"bg-blue-500/20 text-blue-300";case"neutralZone":return"bg-yellow-500/20 text-yellow-300";case"opponentZone":return t==="red"?"bg-blue-500/20 text-blue-300":"bg-red-500/20 text-red-300"}}function fke(e){switch(e){case"green":return"bg-green-600/20 text-green-400 border-green-500/30";case"purple":return"bg-purple-600/20 text-purple-400 border-purple-500/30";case"yellow":return"bg-yellow-600/20 text-yellow-400 border-yellow-500/30";case"slate":return"bg-slate-800/50 text-slate-300 border-slate-700/50"}}function FC({phase:e,stats:t,currentZone:n,onActionLogOpen:r,isFullscreen:a,onFullscreenToggle:s,actionLogSlot:o,matchNumber:l,matchType:c,teamNumber:u,alliance:d="blue",isFieldRotated:f=!1,canUndo:h=!1,onUndo:m,onBack:g,onProceed:v,toggleFieldOrientation:b,isBrokenDown:y=!1,onBrokenDownToggle:x,onNoShow:w}){const S=e==="auto"?"Autonomous":"Teleop",j=e==="auto"?"Teleop":"Post Match",[k,N]=p.useState(!1);return i.jsxs("div",{className:"flex items-center justify-between px-1",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a&&i.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[g&&i.jsx(X,{variant:"ghost",size:"icon",onClick:g,className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",children:i.jsx(XS,{className:"h-5 w-5"})}),i.jsx("span",{className:"text-sm mr-2 font-bold text-slate-200",children:S})]}),(l||u)&&i.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-slate-800/50 rounded-md border border-slate-700/50 shrink-0",children:[l&&i.jsx("span",{className:"text-[10px] md:text-xs font-bold text-slate-400",children:KF(l,c)}),l&&u&&i.jsx("div",{className:"w-[1px] h-3 bg-slate-800/50"}),u&&i.jsx("span",{className:"text-[10px] md:text-xs font-bold text-slate-400",children:u})]}),n&&i.jsx("span",{className:De("px-1.5 py-0.5 rounded text-[10px] md:text-xs font-medium shrink-0",dke(n,d)),children:uke(n)}),i.jsx("div",{className:"flex items-center gap-1 sm:gap-2 ml-auto",children:t.map((P,E)=>i.jsxs(Oe,{variant:"secondary",className:De("text-[10px] md:text-xs px-1.5 py-0",fke(P.color)),children:[P.label,": ",P.value]},E))})]}),i.jsxs("div",{className:"flex items-center gap-1 pl-4",children:[x&&i.jsxs(X,{variant:y?"destructive":"outline",size:"sm",onClick:x,className:De("h-8 px-2 md:px-3 text-[10px] md:text-xs font-bold gap-1",y&&"animate-pulse"),title:y?"Robot is broken down - tap to resume":"Mark robot as broken down",children:[i.jsx(Ln,{className:"h-3 w-3 md:h-4 md:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Broken?"})]}),m&&i.jsx(X,{variant:"ghost",size:"icon",onClick:m,disabled:!h,className:De("h-8 w-8 hover:bg-slate-800 lg:hidden",h&&"text-red-400 animate-in fade-in zoom-in duration-300"),children:i.jsx(XP,{className:"h-4 w-4"})}),i.jsx("div",{className:"lg:hidden",children:i.jsxs(Vq,{children:[i.jsx(zq,{asChild:!0,children:i.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-slate-800",children:i.jsx(Nde,{className:"h-4 w-4"})})}),i.jsxs(Uq,{align:"end",className:"w-48 z-[150]",children:[r&&i.jsxs(i.Fragment,{children:[i.jsxs(Hu,{onClick:r,children:[i.jsx(nD,{className:"h-4 w-4 mr-2"}),"Action History"]}),i.jsx(_F,{})]}),e==="auto"&&w&&i.jsxs(i.Fragment,{children:[i.jsxs(Hu,{onClick:()=>N(!0),className:"text-orange-400",children:[i.jsx(L4,{className:"h-4 w-4 mr-2"}),"No Show"]}),i.jsx(_F,{})]}),b&&i.jsxs(Hu,{onClick:b,className:De(f&&"text-blue-400"),children:[i.jsx(I4,{className:De("h-4 w-4 mr-2 transition-transform",f&&"rotate-180")}),f?"Reset Rotation":"Rotate 180"]}),i.jsx(Hu,{onClick:s,children:a?i.jsxs(i.Fragment,{children:[i.jsx(JP,{className:"h-4 w-4 mr-2"}),"Exit Fullscreen"]}):i.jsxs(i.Fragment,{children:[i.jsx(_v,{className:"h-4 w-4 mr-2"}),"Enter Fullscreen"]})})]})]})}),i.jsxs("div",{className:"hidden lg:flex lg:items-center lg:gap-1",children:[e==="auto"&&w&&i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>N(!0),className:"h-8 px-2 lg:px-3 text-[10px] lg:text-xs font-bold gap-1 text-orange-400 hover:text-orange-300 border-orange-500/30",title:"Robot did not show up for this match",children:[i.jsx(L4,{className:"h-3 w-3 lg:h-4 lg:w-4"}),i.jsx("span",{children:"No Show"})]}),m&&i.jsx(X,{variant:"ghost",size:"icon",onClick:m,disabled:!h,className:De("h-8 w-8 hover:bg-slate-800",h&&"text-red-400 animate-in fade-in zoom-in duration-300"),children:i.jsx(XP,{className:"h-4 w-4"})}),o,b&&i.jsx(X,{variant:"ghost",size:"icon",onClick:b,className:De("h-8 w-8 hover:bg-slate-800",f&&"text-blue-400"),title:f?"Reset field orientation":"Rotate field 180",children:i.jsx(I4,{className:De("h-4 w-4 transition-transform",f&&"rotate-180")})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:s,className:"h-8 w-8 hover:bg-slate-800",children:a?i.jsx(JP,{className:"h-4 w-4"}):i.jsx(_v,{className:"h-4 w-4"})})]}),a&&v&&i.jsxs(X,{onClick:v,className:De("h-8 px-3 ml-1 text-[11px] font-bold tracking-tight gap-1",e==="teleop"&&"bg-green-600 hover:bg-green-500"),children:[i.jsx("span",{className:"hidden sm:inline",children:j}),i.jsx(kd,{className:"h-4 w-4"})]})]}),i.jsx(to,{open:k,onOpenChange:N,children:i.jsxs(no,{className:"z-[150]",children:[i.jsxs(Go,{children:[i.jsx(ro,{children:"Confirm No Show"}),i.jsxs(lf,{children:["Are you sure team ",u," did not show up for match ",KF(l||"",c),"?",i.jsx("br",{}),i.jsx("br",{}),"This will immediately submit the match data with a no-show flag."]})]}),i.jsxs(qm,{children:[i.jsx(X,{variant:"outline",className:"p-4",onClick:()=>N(!1),children:"Cancel"}),i.jsx(X,{variant:"destructive",className:"p-4",onClick:()=>{N(!1),w&&w()},children:"Confirm No Show"})]})]})})]})}function G7({pendingWaypoint:e,accumulatedFuel:t,fuelHistory:n,isFieldRotated:r,alliance:a,robotCapacity:s,onFuelSelect:o,onAccuracySelect:l,onFuelUndo:c,climbResult:u,onClimbResultSelect:d,climbWithLevels:f=!1,climbLevel:h,onClimbLevelSelect:m,onConfirm:g,onCancel:v}){const b=e.type==="climb",y=rke(s),x=ake(),w=p.useRef(!0),[S,j]=p.useState(null),k="maneuver.lastAccuracy";p.useEffect(()=>{try{const E=localStorage.getItem(k);if(E){const R=JSON.parse(E);R&&typeof R.label=="string"&&j(R)}}catch{}},[e]);const N=(E,R)=>{const O={value:E,label:R};try{localStorage.setItem(k,JSON.stringify(O))}catch{}};p.useEffect(()=>{w.current=!0;const E=setTimeout(()=>{w.current=!1},150);return()=>clearTimeout(E)},[]);const P=b?f?h!==void 0&&u!==null:u!==null:t>0;return i.jsx("div",{className:De("absolute inset-0 z-40 flex items-center pointer-events-none p-2","justify-center",a==="blue"?"md:justify-end":"md:justify-start"),children:i.jsxs(_e,{className:De("w-full max-w-sm h-fit max-h-[95%] pointer-events-auto shadow-xl flex flex-col border-border/50 bg-background/98 backdrop-blur-sm overflow-hidden gap-2",r&&"rotate-180"),children:[i.jsx(Ge,{className:"pb-1 shrink-0",children:i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx(Oe,{variant:"outline",className:De("font-bold px-2 py-0.5 shrink-0",e.type==="score"?"text-green-500 border-green-500/50":e.type==="climb"?"text-blue-500 border-blue-500/50":"text-purple-500 border-purple-500/50"),children:e.type.toUpperCase()}),i.jsx(We,{className:"text-lg font-bold tracking-tight",children:b?f?h?`${h} - Select Outcome`:"Select Level":"Climb Outcome":t>0?`Total: +${t}`:"Select Amount"})]})}),i.jsx($e,{className:"overflow-y-auto px-2 shrink min-h-0",children:b?f&&!h?i.jsx("div",{className:"grid grid-cols-3 gap-3 p-2",children:ske.map(E=>i.jsx(X,{variant:"outline",onClick:()=>m==null?void 0:m(E),className:"h-16 flex flex-col gap-1 items-center justify-center border-2 transition-all rounded-xl hover:bg-blue-500/20 hover:border-blue-400",children:i.jsx("span",{className:"font-bold text-lg",children:E})},E))}):i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-2",children:[i.jsxs(X,{variant:u==="success"?"default":"outline",onClick:()=>d("success"),className:De("h-20 flex flex-col gap-1 items-center justify-center border-2 transition-all rounded-xl",u==="success"&&"bg-blue-600 hover:bg-blue-700 border-blue-400 text-white shadow-lg"),children:[i.jsx(Al,{className:"h-6 w-6 font-bold"}),i.jsx("span",{className:"font-bold text-sm",children:"SUCCESS"})]}),i.jsxs(X,{variant:u==="fail"?"default":"outline",onClick:()=>d("fail"),className:De("h-20 flex flex-col gap-1 items-center justify-center border-2 transition-all rounded-xl",u==="fail"&&"bg-red-600 hover:bg-red-700 border-red-400 text-white shadow-lg"),children:[i.jsx(Wa,{className:"h-6 w-6 font-bold"}),i.jsx("span",{className:"font-bold text-sm",children:"FAIL"})]})]}):i.jsxs("div",{children:[i.jsx("div",{className:"grid grid-cols-4 gap-2 px-1",children:y.map(E=>i.jsx(X,{variant:"outline",size:"lg",onClick:R=>{R.stopPropagation(),w.current||o(E.value,E.label)},onPointerDown:R=>R.stopPropagation(),className:"h-10 w-full text-xs md:text-sm rounded-lg font-bold transition-all",children:E.label.includes("/")||E.label==="Full"?E.label:`+${E.label}`},E.label))}),i.jsx("div",{children:"Select Accuracy"}),i.jsx("div",{className:"grid grid-cols-4 gap-2 p-1",children:x.map(E=>i.jsx(X,{variant:(S==null?void 0:S.label)===E.label?"default":"outline",size:"lg",onClick:R=>{R.stopPropagation(),w.current||(j({value:E.value,label:E.label}),N(E.value,E.label),l(E.value,E.label))},onPointerDown:R=>R.stopPropagation(),className:"h-10 w-full text-xs md:text-sm rounded-lg font-bold transition-all",children:E.label.includes("/")||E.label},E.label))})]})}),i.jsxs(_R,{className:"flex flex-row items-center justify-between gap-3 border-t shrink-0 !pt-2",children:[i.jsx(X,{variant:"outline",size:"icon",className:"h-12 w-12 rounded-full border-2",onClick:v,children:i.jsx(Wa,{className:"h-6 w-6 text-muted-foreground"})}),i.jsxs("div",{className:"flex flex-row gap-3",children:[!b&&i.jsx(X,{variant:"secondary",size:"icon",className:"h-12 w-12 rounded-full border-2",onClick:E=>{E.stopPropagation(),c()},disabled:n.length===0,children:i.jsx(XP,{className:"h-6 w-6"})}),i.jsx(X,{size:"icon",onClick:g,disabled:!P,className:"h-12 w-12 rounded-full border-2 bg-green-600 hover:bg-green-500",children:i.jsx(Al,{className:"h-6 w-6"})})]})]})]})})}const W7=p.createContext(null);function q7(){const e=p.useContext(W7);if(!e)throw new Error("useScoring must be used within a ScoringProvider");return e}function H7({children:e,actions:t,onAddAction:n,onUndo:r,canUndo:a=!1,alliance:s,matchNumber:o,matchType:l,teamNumber:c,onBack:u,onProceed:d}){const[f,h]=p.useState(null),[m,g]=p.useState(0),[v,b]=p.useState(0),[y,x]=p.useState([]),w=()=>{const Z=localStorage.getItem("teleopStuckStarts");return Z?JSON.parse(Z):{}},[S,j]=p.useState(w),k=p.useCallback(Z=>{j(H=>{const ae=typeof Z=="function"?Z(H):Z;return localStorage.setItem("teleopStuckStarts",JSON.stringify(ae)),ae})},[]),N=Object.keys(S).length>0,[P,E]=p.useState(()=>localStorage.getItem("fieldRotation")==="true"),R=p.useCallback(()=>{E(Z=>{const H=!Z;return localStorage.setItem("fieldRotation",String(H)),H})},[]),O=p.useCallback(()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,[]),G=p.useCallback(()=>{g(0),b(0),x([])},[]),te=p.useCallback(()=>{if(y.length===0)return;const Z=y[y.length-1];g(H=>Math.max(0,H-Z)),x(H=>H.slice(0,-1))},[y]),V=p.useCallback((Z,H,ae,fe)=>{const we={id:O(),type:Z,action:H,position:ae,timestamp:Date.now(),...fe};n(we)},[O,n]),z=p.useMemo(()=>t.filter(Z=>Z.type==="score").reduce((Z,H)=>Z+Math.abs(H.fuelDelta||0)*(H.accuracy??1),0),[t]),$=p.useMemo(()=>t.filter(Z=>Z.type==="pass").reduce((Z,H)=>Z+Math.abs(H.fuelDelta||0),0),[t]),U=p.useCallback(Z=>{g(H=>H+Z),x(H=>[...H,Z])},[]),M=p.useCallback(()=>{if(!f||m===0)return;const Z={...f,fuelDelta:f.type==="score"?-m:m,amountLabel:`${m}`};n(Z),h(null),g(0),b(0),x([])},[f,m,n]),F=p.useCallback(Z=>{h(null),b(0),g(0),x([]),Z==null||Z()},[]),W={actions:t,onAddAction:n,onUndo:r,canUndo:a,pendingWaypoint:f,setPendingWaypoint:h,accumulatedFuel:m,setAccumulatedFuel:g,fuelHistory:y,setFuelHistory:x,resetFuel:G,undoLastFuel:te,accuracy:v,setAccuracy:b,stuckStarts:S,setStuckStarts:k,isAnyStuck:N,isFieldRotated:P,toggleFieldOrientation:R,alliance:s,matchNumber:o,matchType:l,teamNumber:c,onBack:u,onProceed:d,generateId:O,addWaypoint:V,totalFuelScored:z,totalFuelPassed:$,handleFuelSelect:U,handleFuelConfirm:M,handleFuelCancel:F};return i.jsx(W7.Provider,{value:W,children:e})}const Y7=p.createContext(null);function hke(){const e=p.useContext(Y7);if(!e)throw new Error("useAutoPath must be used within an AutoPathProvider");return e}function mke(){const e=q7(),t=hke();return{...e,...t}}function pke({children:e,...t}){return i.jsx(H7,{...t,children:i.jsx(gke,{children:e})})}function gke({children:e}){const[t,n]=p.useState(null),[r,a]=p.useState(null),[s,o]=p.useState(!1),[l,c]=p.useState(null),u=p.useRef(null),[d,f]=p.useState({width:0,height:0}),[h,m]=p.useState([]),[g,v]=p.useState(!1),[b,y]=p.useState(!1),[x,w]=p.useState(!1),[S,j]=p.useState(!1);p.useEffect(()=>{const N=()=>{u.current&&f({width:u.current.offsetWidth,height:u.current.offsetHeight})};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const k=p.useMemo(()=>({selectedStartKey:t,setSelectedStartKey:n,stuckElementKey:r,setStuckElementKey:a,showPostClimbProceed:s,setShowPostClimbProceed:o,climbResult:l,setClimbResult:c,canvasDimensions:d,containerRef:u,drawingPoints:h,setDrawingPoints:m,isDrawing:g,setIsDrawing:v,isSelectingScore:b,setIsSelectingScore:y,isSelectingPass:x,setIsSelectingPass:w,isSelectingCollect:S,setIsSelectingCollect:j}),[t,r,s,l,d,h,g,b,x,S]);return i.jsx(Y7.Provider,{value:k,children:e})}const Q7=p.createContext(null);function vke(){const e=p.useContext(Q7);if(!e)throw new Error("useTeleopPath must be used within a TeleopPathProvider");return e}function yke(){const e=q7(),t=vke();return{...e,...t}}function xke({children:e,robotStatus:t,onRobotStatusUpdate:n,...r}){return i.jsx(H7,{...r,children:i.jsx(bke,{robotStatus:t,onRobotStatusUpdate:n,children:e})})}function bke({children:e,robotStatus:t={},onRobotStatusUpdate:n}){const[r,a]=p.useState(null),[s,o]=p.useState(void 0),[l,c]=p.useState("success"),[u,d]=p.useState(!1),f=t,h=n||(()=>{}),m=p.useRef(null),[g,v]=p.useState({width:0,height:0}),[b,y]=p.useState([]),[x,w]=p.useState(!1),[S,j]=p.useState(!1),[k,N]=p.useState(!1);p.useEffect(()=>{const E=()=>{m.current&&v({width:m.current.offsetWidth,height:m.current.offsetHeight})};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const P=p.useMemo(()=>({activeZone:r,setActiveZone:a,climbLevel:s,setClimbLevel:o,climbResult:l,setClimbResult:c,showPostClimbProceed:u,setShowPostClimbProceed:d,robotStatus:f,updateRobotStatus:h,canvasDimensions:g,containerRef:m,drawingPoints:b,setDrawingPoints:y,isSelectingScore:x,setIsSelectingScore:w,isSelectingPass:S,setIsSelectingPass:j,isSelectingCollect:k,setIsSelectingCollect:N}),[r,s,l,u,f,g,b,x,S,k]);return i.jsx(Q7.Provider,{value:P,children:e})}function Jm({...e}){return i.jsx(AC,{"data-slot":"sheet",...e})}function BC({...e}){return i.jsx(mR,{"data-slot":"sheet-trigger",...e})}function $k({...e}){return i.jsx(Zy,{"data-slot":"sheet-close",...e})}function wke({...e}){return i.jsx(PC,{"data-slot":"sheet-portal",...e})}function Ske({className:e,...t}){return i.jsx(EC,{"data-slot":"sheet-overlay",className:De("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}const Cke={side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}};function Xm({className:e,children:t,side:n="right",...r}){return i.jsxs(wke,{children:[i.jsx(Ske,{}),i.jsxs(TC,{"data-slot":"sheet-content",className:De("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed z-50 gap-4 p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",Cke.side[n],e),...r,children:[t,i.jsxs(Zy,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Wa,{className:"size-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ep({className:e,...t}){return i.jsx("div",{"data-slot":"sheet-header",className:De("flex flex-col gap-2 text-center sm:text-left",e),...t})}function jke({className:e,...t}){return i.jsx("div",{"data-slot":"sheet-footer",className:De("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function tp({className:e,...t}){return i.jsx(pR,{"data-slot":"sheet-title",className:De("text-lg font-semibold text-foreground",e),...t})}function Z7({className:e,...t}){return i.jsx(gR,{"data-slot":"sheet-description",className:De("text-muted-foreground text-sm",e),...t})}function Nke(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var OR="ScrollArea",[J7]=bs(OR),[kke,bi]=J7(OR),X7=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,g]=p.useState(null),[v,b]=p.useState(null),[y,x]=p.useState(0),[w,S]=p.useState(0),[j,k]=p.useState(!1),[N,P]=p.useState(!1),E=Gt(t,O=>c(O)),R=Gy(a);return i.jsx(kke,{scope:n,type:r,dir:R,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:S,children:i.jsx(At.div,{dir:R,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});X7.displayName=OR;var eY="ScrollAreaViewport",tY=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...s}=e,o=bi(eY,n),l=p.useRef(null),c=Gt(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(At.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});tY.displayName=eY;var Wo="ScrollAreaScrollbar",nY=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bi(Wo,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(Ake,{...r,ref:t,forceMount:n}):a.type==="scroll"?i.jsx(Pke,{...r,ref:t,forceMount:n}):a.type==="auto"?i.jsx(rY,{...r,ref:t,forceMount:n}):a.type==="always"?i.jsx(LR,{...r,ref:t}):null});nY.displayName=Wo;var Ake=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bi(Wo,e.__scopeScrollArea),[s,o]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(Wr,{present:n||s,children:i.jsx(rY,{"data-state":s?"visible":"hidden",...r,ref:t})})}),Pke=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bi(Wo,e.__scopeScrollArea),s=e.orientation==="horizontal",o=zC(()=>c("SCROLL_END"),100),[l,c]=Nke("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(Wr,{present:n||l!=="hidden",children:i.jsx(LR,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:it(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:it(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),rY=p.forwardRef((e,t)=>{const n=bi(Wo,e.__scopeScrollArea),{forceMount:r,...a}=e,[s,o]=p.useState(!1),l=e.orientation==="horizontal",c=zC(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return mm(n.viewport,c),mm(n.content,c),i.jsx(Wr,{present:r||s,children:i.jsx(LR,{"data-state":s?"visible":"hidden",...a,ref:t})})}),LR=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=bi(Wo,e.__scopeScrollArea),s=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=lY(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return Mke(h,o.current,l,m)}return n==="horizontal"?i.jsx(Eke,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=GF(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):n==="vertical"?i.jsx(Tke,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=GF(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Eke=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=bi(Wo,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Gt(t,c,s.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(sY,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":VC(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),uY(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:p1(o.paddingLeft),paddingEnd:p1(o.paddingRight)}})}})}),Tke=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=bi(Wo,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Gt(t,c,s.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(sY,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":VC(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),uY(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:p1(o.paddingTop),paddingEnd:p1(o.paddingBottom)}})}})}),[_ke,aY]=J7(Wo),sY=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=bi(Wo,n),[g,v]=p.useState(null),b=Gt(t,E=>v(E)),y=p.useRef(null),x=p.useRef(""),w=m.viewport,S=r.content-r.viewport,j=ia(d),k=ia(c),N=zC(f,10);function P(E){if(y.current){const R=E.clientX-y.current.left,O=E.clientY-y.current.top;u({x:R,y:O})}}return p.useEffect(()=>{const E=R=>{const O=R.target;(g==null?void 0:g.contains(O))&&j(R,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,g,S,j]),p.useEffect(k,[r,k]),mm(g,N),mm(m.content,N),i.jsx(_ke,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:ia(s),onThumbPointerUp:ia(o),onThumbPositionChange:k,onThumbPointerDown:ia(l),children:i.jsx(At.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:it(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(E))}),onPointerMove:it(e.onPointerMove,P),onPointerUp:it(e.onPointerUp,E=>{const R=E.target;R.hasPointerCapture(E.pointerId)&&R.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),m1="ScrollAreaThumb",iY=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=aY(m1,e.__scopeScrollArea);return i.jsx(Wr,{present:n||a.hasThumb,children:i.jsx(Dke,{ref:t,...r})})}),Dke=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,s=bi(m1,n),o=aY(m1,n),{onThumbPositionChange:l}=o,c=Gt(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=zC(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=Ike(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(At.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:it(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,v=f.clientY-m.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:it(e.onPointerUp,o.onThumbPointerUp)})});iY.displayName=m1;var $R="ScrollAreaCorner",oY=p.forwardRef((e,t)=>{const n=bi($R,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(Rke,{...e,ref:t}):null});oY.displayName=$R;var Rke=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=bi($R,n),[s,o]=p.useState(0),[l,c]=p.useState(0),u=!!(s&&l);return mm(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),mm(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(At.div,{...r,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function p1(e){return e?parseInt(e,10):0}function lY(e,t){const n=e/t;return isNaN(n)?0:n}function VC(e){const t=lY(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Mke(e,t,n,r="ltr"){const a=VC(n),s=a/2,o=t||s,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return cY([c,u],f)(e)}function GF(e,t,n="ltr"){const r=VC(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=PE(e,c);return cY([0,o],[0,l])(u)}function cY(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function uY(e,t){return e>0&&e<t}var Ike=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&t(),n=s,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function zC(e,t){const n=ia(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function mm(e,t){const n=ia(t);jr(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var Oke=X7,Lke=tY,$ke=oY;function FR({className:e,children:t,orientation:n="both",...r}){return i.jsxs(Oke,{"data-slot":"scroll-area",className:De("relative",e),...r,children:[i.jsx(Lke,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(n==="vertical"||n==="both")&&i.jsx(WF,{orientation:"vertical"}),(n==="horizontal"||n==="both")&&i.jsx(WF,{orientation:"horizontal"}),i.jsx($ke,{})]})}function WF({className:e,orientation:t="vertical",...n}){return i.jsx(nY,{"data-slot":"scroll-area-scrollbar",orientation:t,className:De("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e),...n,children:i.jsx(iY,{className:"bg-border relative flex-1 rounded-full"})})}function Fke(e){const t=Object.entries(Jc).find(([n,r])=>r.pathType!==e.type?!1:e.type==="climb"&&e.action==="climb-success"?n==="autoClimb":e.type==="collect"&&"pathAction"in r&&r.pathAction?r.pathAction===e.action:!0);if(t){const[,n]=t;return{label:n.label,points:n.points.auto||0}}return{label:e.type.charAt(0).toUpperCase()+e.type.slice(1),points:0}}function Bke({actions:e,totalScore:t,open:n,onOpenChange:r}){return i.jsxs(Jm,{open:n,onOpenChange:r,children:[i.jsx(BC,{asChild:!0,children:i.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-slate-800",children:i.jsx(nD,{className:"h-4 w-4"})})}),i.jsxs(Xm,{side:"right",className:"w-[300px] sm:w-[400px] z-[110]",children:[i.jsx(ep,{className:"pb-4",children:i.jsxs(tp,{className:"flex items-center justify-between w-full pr-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xG,{className:"h-5 w-5"}),i.jsx("span",{children:"History"})]}),i.jsxs(Oe,{variant:"outline",className:"text-xs font-mono",children:["Score: ",t]})]})}),i.jsx(FR,{className:"h-[calc(100vh-100px)] pr-4",children:i.jsx("div",{className:"space-y-3",children:e.length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No actions recorded yet."}):[...e].reverse().map((a,s)=>{const o=Fke(a);return i.jsxs("div",{className:"flex flex-col gap-1 p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Oe,{variant:"outline",className:"text-[10px] font-mono",children:["#",e.length-s]}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-bold text-sm text-foreground",children:o.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[a.amountLabel&&i.jsx(Oe,{variant:"secondary",className:"text-[10px]",children:a.amountLabel}),o.points>0&&i.jsxs(Oe,{variant:"default",className:"text-xs",children:["+",o.points]})]})]}),a.action&&i.jsx("div",{className:"text-xs text-muted-foreground italic",children:a.action})]},a.id)})})})]})]})}function Vke({selectedStartKey:e,alliance:t,isFieldRotated:n,startPositionX:r,onConfirm:a,onCancel:s}){const o=cl[e];return o?i.jsx("div",{className:De("absolute inset-0 z-30 flex items-center pointer-events-none",t==="red"?"justify-start pl-[10%]":"justify-end pr-[10%]",n&&"rotate-180"),children:i.jsxs(_e,{className:"w-72 pointer-events-auto shadow-2xl border-primary/20",children:[i.jsx(Ge,{className:"text-center pb-2",children:i.jsx(We,{className:"text-2xl font-bold",children:o.name})}),i.jsxs(_R,{className:"flex flex-col gap-2 pt-2",children:[i.jsx(X,{onClick:()=>{console.log("[AutoStart] Confirming start:",{key:e,elementX:o.x,elementY:o.y,overrideX:r,finalPosition:{x:r,y:o.y}}),a(e,{x:r,y:o.y})},className:"w-full h-12 text-base font-bold",children:"Confirm Start"}),i.jsx(X,{variant:"ghost",onClick:s,className:"w-full h-10 text-muted-foreground",children:"Cancel"})]})]})}):null}function zke(e){var r,a;const n=((a=(r=Ja().state)==null?void 0:r.inputs)==null?void 0:a.alliance)||"blue";return i.jsx(pke,{actions:e.actions,onAddAction:e.onAddAction,onUndo:e.onUndo,canUndo:e.canUndo,alliance:n,matchNumber:e.matchNumber,matchType:e.matchType,teamNumber:e.teamNumber,onBack:e.onBack,onProceed:e.onProceed,children:i.jsx(Uke,{})})}function Uke(){const{actions:e,onAddAction:t,onUndo:n,canUndo:r,pendingWaypoint:a,setPendingWaypoint:s,accumulatedFuel:o,setAccumulatedFuel:l,accuracy:c,setAccuracy:u,fuelHistory:d,setFuelHistory:f,stuckStarts:h,setStuckStarts:m,isAnyStuck:g,isFieldRotated:v,toggleFieldOrientation:b,alliance:y,matchNumber:x,matchType:w,teamNumber:S,onBack:j,onProceed:k,generateId:N,selectedStartKey:P,setSelectedStartKey:E,stuckElementKey:R,setStuckElementKey:O,showPostClimbProceed:G,setShowPostClimbProceed:te,climbResult:V,setClimbResult:z,canvasDimensions:$,containerRef:U,isSelectingScore:M,setIsSelectingScore:F,isSelectingPass:W,setIsSelectingPass:Z,isSelectingCollect:H,setIsSelectingCollect:ae}=mke(),fe=zo(),we=Ja(),{transformation:Pe}=cf(),me=p.useRef(null),Ue=p.useRef(null),[ne,je]=p.useState(!1),[ve]=p.useState("allianceZone"),[re,Ye]=p.useState(),[Fe,Je]=p.useState(!1),[Le,lt]=p.useState(()=>{const Q=localStorage.getItem("autoBrokenDownStart");return Q?parseInt(Q,10):null}),[ct,be]=p.useState(()=>{const Q=localStorage.getItem("autoBrokenDownTime");return Q?parseInt(Q,10):0}),Ce=Le!==null,oe=Um();p.useEffect(()=>{(async()=>{if(S)try{const ke=localStorage.getItem("eventKey")||"",He=await Qm(Number(S),ke);He&&He.gameData&&Ye(He.gameData.fuelCapacity)}catch(ke){console.error("Failed to load pit scouting data:",ke)}})()},[S]);const xt=U7[ve];p.useEffect(()=>{oe&&je(!0)},[oe]);const rt=e.reduce((Q,ke)=>{const He=Object.entries(Jc).find(([Be,tt])=>tt.pathType!==ke.type?!1:ke.type==="climb"&&ke.action==="climb-success"?Be==="autoClimb":ke.type==="collect"&&"pathAction"in tt&&tt.pathAction?tt.pathAction===ke.action:ke.type==="score"?Be==="fuelScored":!0);if(He){const[,Be]=He,tt=Be.points.auto||0;return ke.type==="score"&&ke.fuelDelta?Q+tt*Math.abs(ke.fuelDelta):Q+tt}return Q},0),Rt=e.filter(Q=>Q.type==="score").reduce((Q,ke)=>Q+Math.abs(ke.fuelDelta||0),0),zt=e.filter(Q=>Q.type==="pass").reduce((Q,ke)=>Q+Math.abs(ke.fuelDelta||0),0),Pt=p.useCallback((Q,ke,He,Be,tt)=>{const nt={id:N(),type:Q,action:ke,position:He,fuelDelta:Be,amountLabel:tt,timestamp:Date.now()};t(nt)},[t,N]),It=()=>{if(Le){const Q=Date.now()-Le,ke=ct+Q;be(ke),localStorage.setItem("autoBrokenDownTime",String(ke)),lt(null),localStorage.removeItem("autoBrokenDownStart")}else{const Q=Date.now();lt(Q),localStorage.setItem("autoBrokenDownStart",String(Q))}},an=Q=>{const ke=cl[Q];if(!ke)return;const He={x:ke.x,y:ke.y};if(h[Q]){const Be=h[Q],tt=Q.includes("trench")?"trench":"bump",nt=Date.now()-Be;Pt("traversal",`${tt}-stuck`,He,void 0,`${Math.round(nt/1e3)}s`),m(bt=>{const ze={...bt};return delete ze[Q],ze});return}if(R===Q){Ue.current&&(clearTimeout(Ue.current),Ue.current=null),O(null),m(Be=>({...Be,[Q]:Date.now()}));return}if(M){switch(Q){case"shot_moving":case"shot_depot_trench":case"shot_outpost_trench":case"shot_hub":case"shot_outpost_close":case"shot_outpost_medium":case"shot_outpost_far":case"shot_depot_close":case"shot_depot_medium":case"shot_depot_far":Jt(He,Q);break}return}if(!(a||W||H||P||g||Ce)){if(e.length===0){["trench1","bump1","hub","bump2","trench2"].includes(Q)&&E(Q);return}switch(Q){case"hub":F(!0);break;case"depot":case"outpost":Pt("collect",Q,He,8);break;case"tower":{const tt={id:N(),type:"climb",action:"attempt",position:He,timestamp:Date.now()};s(tt),z("success");break}case"trench1":case"trench2":case"bump1":case"bump2":const Be=Q.includes("trench")?"trench":"bump";Pt("traversal",Be,He);break;case"pass":case"pass_alliance":Z(!0),Jt(He,Q,!0);break;case"collect_neutral":case"collect_alliance":ae(!0),Jt(He,Q,void 0,!0);break;case"opponent_foul":Pt("foul","mid-line-penalty",He);break}}},Jt=(Q,ke,He,Be)=>{if(M){const tt={id:N(),type:"score",position:Q,action:ke,fuelDelta:-8,amountLabel:"...",timestamp:Date.now()};l(0),f([]),s(tt),F(!1)}else if(W||He){const tt={id:N(),type:"pass",position:Q,action:"partner",fuelDelta:0,amountLabel:"...",timestamp:Date.now()};l(0),f([]),s(tt),Z(!1)}else(H||Be)&&(Pt("collect","field",Q,8),ae(!1))},jn=()=>{Le&&lt(null),n&&n()},Re=async()=>{var Q;await rx({inputs:(Q=we.state)==null?void 0:Q.inputs,transformation:Pe,noShow:!0,onSuccess:()=>fe("/game-start")})},Ke=i.jsxs("div",{className:De("flex flex-col gap-2",ne&&"h-full"),children:[i.jsx(FC,{phase:"auto",stats:[{label:"Scored",value:Rt,color:"green"},{label:"Passed",value:zt,color:"purple"}],currentZone:ve,isFullscreen:ne,onFullscreenToggle:()=>je(!ne),actionLogSlot:i.jsx(Bke,{actions:e,totalScore:rt,open:Fe,onOpenChange:Je}),onActionLogOpen:()=>Je(!0),matchNumber:x,matchType:w,teamNumber:S,alliance:y,isFieldRotated:v,canUndo:r,onUndo:jn,onBack:j,onProceed:()=>{if(Le){const Q=Date.now()-Le,ke=ct+Q;localStorage.setItem("autoBrokenDownTime",String(ke))}k&&k()},toggleFieldOrientation:b,isBrokenDown:Ce,onBrokenDownToggle:It,onNoShow:Re}),i.jsxs("div",{ref:U,className:De("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none","w-full aspect-[2/1]",ne?"max-h-[85vh] m-auto":"h-auto",v&&"rotate-180"),children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx(Ld,{ref:me,actions:e,pendingWaypoint:a,alliance:y,isFieldRotated:v,width:$.width,height:$.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!0,drawingZoneBounds:xt}),!M&&!W&&!H&&i.jsx("div",{className:"absolute inset-0 z-10",children:e.length===0?i.jsx(i.Fragment,{children:ike.map(Q=>i.jsx(Jg,{elementKey:Q,element:cl[Q],isVisible:!0,onClick:an,alliance:y,isFieldRotated:v,containerWidth:$.width,overrideX:.28,isDisabled:!!(a||M||W||H||P)},Q))}):i.jsx(i.Fragment,{children:K7("auto",ve).map(Q=>{const ke=!!h[Q],He=!!(a||M||W||H||P);return i.jsx(Jg,{elementKey:Q,element:cl[Q],isVisible:!0,onClick:an,alliance:y,isFieldRotated:v,containerWidth:$.width,isStuck:ke,isPotentialStuck:R===Q,isDisabled:He||g&&!ke},Q)})})}),M&&i.jsx("div",{className:"absolute inset-0 z-20",children:z7.map(Q=>i.jsx(Jg,{elementKey:Q,element:cl[Q],isVisible:!0,onClick:an,alliance:y,isFieldRotated:v,containerWidth:$.width,isDisabled:!1},Q))}),M&&i.jsx("div",{className:De("absolute inset-0 z-30 flex items-end justify-center pb-4 pointer-events-none",v&&"rotate-180"),children:i.jsxs(_e,{className:"pointer-events-auto bg-background/95 backdrop-blur-sm border-green-500/50 shadow-2xl py-2 px-3 flex flex-row items-center gap-4",children:[i.jsx(Oe,{variant:"default",className:"bg-green-600",children:"SCORING MODE"}),i.jsx("span",{className:"text-sm font-medium",children:"Select (approximately) Where They Are"}),i.jsx(X,{onClick:Q=>{Q.stopPropagation(),F(!1)},variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",children:""})]})}),W&&i.jsx("div",{className:De("absolute inset-0 z-30 flex items-end justify-center pb-4 pointer-events-none",v&&"rotate-180"),children:i.jsxs(_e,{className:"pointer-events-auto bg-background/95 backdrop-blur-sm border-purple-500/50 shadow-2xl py-2 px-3 flex flex-row items-center gap-4",children:[i.jsx(Oe,{variant:"default",className:"bg-purple-600",children:"PASSING MODE"}),i.jsx("span",{className:"text-sm font-medium",children:"Tap or draw where the robot passed from"}),i.jsx(X,{onClick:Q=>{Q.stopPropagation(),Z(!1)},variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",children:""})]})}),H&&i.jsx("div",{className:De("absolute inset-0 z-30 flex items-end justify-center pb-4 pointer-events-none",v&&"rotate-180"),children:i.jsxs(_e,{className:"pointer-events-auto bg-background/95 backdrop-blur-sm border-yellow-500/50 shadow-2xl py-2 px-3 flex flex-row items-center gap-4",children:[i.jsx(Oe,{variant:"default",className:"bg-yellow-600",children:"COLLECT MODE"}),i.jsx("span",{className:"text-sm font-medium",children:"Tap or draw where the robot collected"}),i.jsx(X,{onClick:Q=>{Q.stopPropagation(),ae(!1)},variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",children:""})]})}),e.length===0&&P&&(()=>{const Q=cl[P],ke=Q?Q.x:.15;return i.jsx(Vke,{selectedStartKey:P,alliance:y,isFieldRotated:v,startPositionX:ke,onConfirm:(He,Be)=>{Pt("start",He,Be),E(null)},onCancel:()=>E(null)})})(),G&&k&&i.jsx(dY,{isFieldRotated:v,onProceed:k,onStay:()=>te(!1),nextPhaseName:"Teleop"}),a&&i.jsx(G7,{pendingWaypoint:a,accumulatedFuel:o,fuelHistory:d,climbResult:V,isFieldRotated:v,alliance:y,robotCapacity:re,onFuelSelect:Q=>{l(ke=>ke+Q),f(ke=>[...ke,Q])},onFuelUndo:()=>{if(d.length===0)return;const Q=d[d.length-1];l(ke=>Math.max(0,ke-Q)),f(ke=>ke.slice(0,-1))},onAccuracySelect:Q=>{u(Q)},onClimbResultSelect:z,onConfirm:()=>{let Q=0,ke="",He=0,Be=a.action;a.type==="climb"?(Be=V==="success"?"climb-success":"climb-fail",ke=V==="success"?"Succeeded":"Failed"):(Q=a.type==="score"||a.type==="pass"?-o:0,ke=a.type==="score"?`+${o}`:`Pass (${o})`,He=a.type==="score"?c:1);const tt={...a,fuelDelta:Q,accuracy:He,amountLabel:ke,action:Be};t(tt),s(null),l(0),f([]),u(0),z(null),tt.type==="climb"&&k&&te(!0)},onCancel:()=>{s(null),l(0),f([]),u(0)}})]})]});return ne?i.jsx("div",{className:"fixed inset-0 z-[100] bg-background p-4 flex flex-col",children:Ke}):Ke}function qF(e){const t=Object.entries(Jc).find(([n,r])=>{if(r.pathType!==e.type)return!1;if(e.type==="climb"&&e.climbResult==="success"){if(e.climbLevel==="L1")return n==="climbL1";if(e.climbLevel==="L2")return n==="climbL2";if(e.climbLevel==="L3")return n==="climbL3"}return!0});if(t){const[,n]=t;return{label:n.label,points:n.points.teleop||0}}return{label:e.type.charAt(0).toUpperCase()+e.type.slice(1),points:0}}function Kke({actions:e,open:t,onOpenChange:n}){const r=e.reduce((a,s)=>{const o=qF(s);return s.type==="score"&&s.fuelDelta?a+o.points*Math.abs(s.fuelDelta):a+o.points},0);return i.jsxs(Jm,{open:t,onOpenChange:n,children:[i.jsx(BC,{asChild:!0,children:i.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-slate-800",children:i.jsx(nD,{className:"h-4 w-4"})})}),i.jsxs(Xm,{side:"right",className:"w-[300px] sm:w-[400px] z-[110]",children:[i.jsx(ep,{className:"pb-4",children:i.jsxs(tp,{className:"flex items-center justify-between w-full pr-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xG,{className:"h-5 w-5"}),i.jsx("span",{children:"History"})]}),i.jsxs(Oe,{variant:"outline",className:"text-xs font-mono",children:["Score: ",r]})]})}),i.jsx(FR,{className:"h-[calc(100vh-100px)] pr-4",children:i.jsx("div",{className:"space-y-3",children:e.length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No actions recorded yet."}):[...e].reverse().map((a,s)=>{const o=qF(a);return i.jsxs("div",{className:"flex flex-col gap-1 p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Oe,{variant:"outline",className:"text-[10px] font-mono",children:["#",e.length-s]}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-bold text-sm text-foreground",children:o.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[a.amountLabel&&i.jsx(Oe,{variant:"secondary",className:"text-[10px]",children:a.amountLabel}),o.points>0&&i.jsxs(Oe,{variant:"default",className:"text-xs",children:["+",o.points]})]})]}),a.action&&i.jsx("div",{className:"text-xs text-muted-foreground italic",children:a.action})]},a.id)})})})]})]})}function dY({isFieldRotated:e,onProceed:t,onStay:n,nextPhaseName:r="Next Phase"}){return i.jsx("div",{className:De("absolute inset-0 z-50 flex items-center justify-center backdrop-blur-sm pointer-events-none p-4",e&&"rotate-180"),children:i.jsxs(_e,{className:"w-full max-w-sm pointer-events-auto shadow-2xl animate-in zoom-in duration-300",children:[i.jsxs(Ge,{className:"text-center pb-2",children:[i.jsx("div",{className:"mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-2",children:i.jsx(kd,{className:"h-6 w-6"})}),i.jsx(We,{className:"text-xl font-bold",children:"Climb Recorded"}),i.jsx("p",{className:"text-sm",children:"Would you like to move to the next phase?"})]}),i.jsxs(_R,{className:"flex flex-col gap-2 pt-2",children:[i.jsxs(X,{onClick:t,className:"w-full h-12 text-base font-bold",children:["Proceed to ",r]}),i.jsx(X,{variant:"ghost",onClick:n,className:"w-full h-10",children:"Stay on Page"})]})]})})}const Gke=!1;function Wke(){const[e,t]=p.useState(null),[n,r]=p.useState(!1);p.useEffect(()=>{const o=l=>{l.preventDefault(),t(l);const u=localStorage.getItem("install-prompt-dismissed"),d=Date.now(),f=u?(d-parseInt(u))/(1e3*60*60*24):999;!u||f>=7?setTimeout(()=>r(!0),5e3):console.log(`Install prompt suppressed. ${Math.ceil(7-f)} days remaining.`)};return window.addEventListener("beforeinstallprompt",o),()=>{window.removeEventListener("beforeinstallprompt",o)}},[]);const a=async()=>{if(!e){const o=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),l=/iPad|iPhone|iPod/.test(navigator.userAgent);let c="";l?c=`To install this app on iOS:

1. Tap the Share button () in Safari
2. Scroll down and tap "Add to Home Screen"
3. Tap "Add" to install`:o?c=`To install this app:

1. Tap the menu () in your browser
2. Look for "Install app" or "Add to Home screen"
3. Tap it to install`:c=`To install this app:

1. Look for the install icon () in your browser's address bar
2. Click it to install
3. Or use your browser menu: Settings > Install App`,alert(c+`

Enjoy offline access!`),r(!1);return}localStorage.removeItem("install-prompt-dismissed");try{e.prompt();const{outcome:o}=await e.userChoice;o==="accepted"?console.log(" PWA installation accepted"):localStorage.setItem("install-prompt-dismissed",Date.now().toString())}catch(o){console.error("Install prompt error:",o)}t(null),r(!1)},s=()=>{localStorage.setItem("install-prompt-dismissed",Date.now().toString()),r(!1)};return n?i.jsx(_e,{className:"fixed bottom-20 left-4 right-4 z-50 mx-auto max-w-sm shadow-lg",children:i.jsx($e,{children:i.jsxs("div",{className:"relative",children:[i.jsx(X,{size:"sm",variant:"ghost",onClick:s,className:"absolute -top-2 -left-2 h-6 w-6 p-0 rounded-full",children:i.jsx(Wa,{className:"h-4 w-4"})}),i.jsx("div",{className:"flex flex-col",children:i.jsxs("div",{className:"flex-1 justify-center items-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 py-1",children:[i.jsx(No,{className:"h-6 w-6 text-blue-600 shrink-0 mt-1"}),i.jsx("p",{className:"font-semibold text-sm",children:"Install App"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center py-1",children:"Install this app for faster access and offline use"}),Gke,i.jsx("div",{className:"flex gap-2 mt-3",children:i.jsx(X,{size:"sm",onClick:a,className:"flex-1",children:"Install"})})]})})]})})}):null}function qke(){const[e,t]=p.useState(!1),[n,r]=p.useState(null);p.useEffect(()=>{if("serviceWorker"in navigator){const o=c=>{r(c.detail.waiting),t(!0)},l=()=>{t(!1),le.success("App updated successfully!")};return navigator.serviceWorker.ready.then(c=>{c.waiting&&(r(c.waiting),t(!0)),c.addEventListener("updatefound",()=>{const u=c.installing;u&&u.addEventListener("statechange",()=>{u.state==="installed"&&navigator.serviceWorker.controller&&(r(u),t(!0))})})}),window.addEventListener("sw-update-available",o),window.addEventListener("sw-update-installed",l),()=>{window.removeEventListener("sw-update-available",o),window.removeEventListener("sw-update-installed",l)}}},[]);const a=()=>{n&&(n.postMessage({type:"SKIP_WAITING"}),t(!1),window.location.reload())},s=()=>{t(!1)};return e?i.jsx(_e,{className:"fixed bottom-4 right-4 z-50 w-80 shadow-lg",children:i.jsx($e,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"A new version is available!"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Update now to get the latest features and improvements."}),i.jsx("p",{className:"text-xs text-red-400",children:"WARNING: This will refresh the app and apply the update."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(X,{size:"sm",onClick:a,children:"Update Now"}),i.jsx(X,{size:"sm",variant:"outline",onClick:s,children:"Later"})]})]})})}):null}p.createContext(null);var Hke=Object.defineProperty,g1=Object.getOwnPropertySymbols,fY=Object.prototype.hasOwnProperty,hY=Object.prototype.propertyIsEnumerable,HF=(e,t,n)=>t in e?Hke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KE=(e,t)=>{for(var n in t||(t={}))fY.call(t,n)&&HF(e,n,t[n]);if(g1)for(var n of g1(t))hY.call(t,n)&&HF(e,n,t[n]);return e},GE=(e,t)=>{var n={};for(var r in e)fY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&g1)for(var r of g1(e))t.indexOf(r)<0&&hY.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var $d;(e=>{const t=class Xt{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Xt.MIN_VERSION||c>Xt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),f==-1){let g=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const b=this.getPenaltyScore();b<g&&(f=v,g=b),this.applyMask(v)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Xt.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Xt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,h=-1,m=!0){if(!(Xt.MIN_VERSION<=d&&d<=f&&f<=Xt.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,v;for(g=d;;g++){const w=Xt.getNumDataCodewords(g,u)*8,S=o.getTotalBits(c,g);if(S<=w){v=S;break}if(g>=f)throw new RangeError("Data too long")}for(const w of[Xt.Ecc.MEDIUM,Xt.Ecc.QUARTILE,Xt.Ecc.HIGH])m&&v<=Xt.getNumDataCodewords(g,w)*8&&(u=w);let b=[];for(const w of c){n(w.mode.modeBits,4,b),n(w.numChars,w.mode.numCharCountBits(g),b);for(const S of w.getData())b.push(S)}a(b.length==v);const y=Xt.getNumDataCodewords(g,u)*8;a(b.length<=y),n(0,Math.min(4,y-b.length),b),n(0,(8-b.length%8)%8,b),a(b.length%8==0);for(let w=236;b.length<y;w^=253)n(w,8,b);let x=[];for(;x.length*8<b.length;)x.push(0);return b.forEach((w,S)=>x[S>>>3]|=w<<7-(S&7)),new Xt(g,u,x,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;a(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;a(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),m=c+f,g=u+d;0<=m&&m<this.size&&0<=g&&g<this.size&&this.setFunctionModule(m,g,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Xt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Xt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=Xt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor(Xt.getNumRawDataModules(u)/8),g=f-m%f,v=Math.floor(m/f);let b=[];const y=Xt.reedSolomonComputeDivisor(h);for(let w=0,S=0;w<f;w++){let j=c.slice(S,S+v-h+(w<g?0:1));S+=j.length;const k=Xt.reedSolomonComputeRemainder(j,y);w<g&&j.push(0),b.push(j.concat(k))}let x=[];for(let w=0;w<b[0].length;w++)b.forEach((S,j)=>{(w!=v-h||j>=g)&&x.push(S[w])});return a(x.length==m),x}drawCodewords(c){if(c.length!=Math.floor(Xt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=d-h,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][m]&&u<c.length*8&&(this.modules[v][m]=r(c[u>>>3],7-(u&7)),u++)}}a(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let m=!1,g=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[h][b]==m?(g++,g==5?c+=Xt.PENALTY_N1:g>5&&c++):(this.finderPenaltyAddHistory(g,v),m||(c+=this.finderPenaltyCountPatterns(v)*Xt.PENALTY_N3),m=this.modules[h][b],g=1);c+=this.finderPenaltyTerminateAndCount(m,g,v)*Xt.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,g=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][h]==m?(g++,g==5?c+=Xt.PENALTY_N1:g>5&&c++):(this.finderPenaltyAddHistory(g,v),m||(c+=this.finderPenaltyCountPatterns(v)*Xt.PENALTY_N3),m=this.modules[b][h],g=1);c+=this.finderPenaltyTerminateAndCount(m,g,v)*Xt.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const g=this.modules[h][m];g==this.modules[h][m+1]&&g==this.modules[h+1][m]&&g==this.modules[h+1][m+1]&&(c+=Xt.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,g)=>m+(g?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return a(0<=f&&f<=9),c+=f*Xt.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Xt.MIN_VERSION||c>Xt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Xt.getNumRawDataModules(c)/8)-Xt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Xt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let h=0;h<u.length;h++)u[h]=Xt.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=Xt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const h=f^d.shift();d.push(0),u.forEach((m,g)=>d[g]^=Xt.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return a(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];a(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const s=class ur{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new ur(ur.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!ur.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new ur(ur.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!ur.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=ur.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=ur.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(ur.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new ur(ur.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:ur.isNumeric(c)?[ur.makeNumeric(c)]:ur.isAlphanumeric(c)?[ur.makeAlphanumeric(c)]:[ur.makeBytes(ur.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new ur(ur.Mode.ECI,0,u)}static isNumeric(c){return ur.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return ur.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;e.QrSegment=s})($d||($d={}));(e=>{(t=>{const n=class{constructor(a,s){this.ordinal=a,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})($d||($d={}));(e=>{(t=>{const n=class{constructor(a,s){this.modeBits=a,this.numBitsCharCount=s}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})($d||($d={}));var wh=$d;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Yke={L:wh.QrCode.Ecc.LOW,M:wh.QrCode.Ecc.MEDIUM,Q:wh.QrCode.Ecc.QUARTILE,H:wh.QrCode.Ecc.HIGH},mY=128,pY="L",gY="#FFFFFF",vY="#000000",yY=!1,xY=1,Qke=4,Zke=0,Jke=.1;function bY(e,t=0){const n=[];return e.forEach(function(r,a){let s=null;r.forEach(function(o,l){if(!o&&s!==null){n.push(`M${s+t} ${a+t}h${l-s}v1H${s+t}z`),s=null;return}if(l===r.length-1){if(!o)return;s===null?n.push(`M${l+t},${a+t} h1v1H${l+t}z`):n.push(`M${s+t},${a+t} h${l+1-s}v1H${s+t}z`);return}o&&s===null&&(s=l)})}),n.join("")}function wY(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((a,s)=>s<t.x||s>=t.x+t.w?a:!1))}function Xke(e,t,n,r){if(r==null)return null;const a=e.length+n*2,s=Math.floor(t*Jke),o=a/t,l=(r.width||s)*o,c=(r.height||s)*o,u=r.x==null?e.length/2-l/2:r.x*o,d=r.y==null?e.length/2-c/2:r.y*o,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let g=Math.floor(u),v=Math.floor(d),b=Math.ceil(l+u-g),y=Math.ceil(c+d-v);h={x:g,y:v,w:b,h:y}}const m=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:f,crossOrigin:m}}function eAe(e,t){return t!=null?Math.max(Math.floor(t),0):e?Qke:Zke}function SY({value:e,level:t,minVersion:n,includeMargin:r,marginSize:a,imageSettings:s,size:o,boostLevel:l}){let c=qe.useMemo(()=>{const g=(Array.isArray(e)?e:[e]).reduce((v,b)=>(v.push(...wh.QrSegment.makeSegments(b)),v),[]);return wh.QrCode.encodeSegments(g,Yke[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=qe.useMemo(()=>{let m=c.getModules();const g=eAe(r,a),v=m.length+g*2,b=Xke(m,o,g,s);return{cells:m,margin:g,numCells:v,calculatedImageSettings:b}},[c,o,s,r,a]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var tAe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),nAe=qe.forwardRef(function(t,n){const r=t,{value:a,size:s=mY,level:o=pY,bgColor:l=gY,fgColor:c=vY,includeMargin:u=yY,minVersion:d=xY,boostLevel:f,marginSize:h,imageSettings:m}=r,v=GE(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=v,y=GE(v,["style"]),x=m==null?void 0:m.src,w=qe.useRef(null),S=qe.useRef(null),j=qe.useCallback(V=>{w.current=V,typeof n=="function"?n(V):n&&(n.current=V)},[n]),[k,N]=qe.useState(!1),{margin:P,cells:E,numCells:R,calculatedImageSettings:O}=SY({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:s});qe.useEffect(()=>{if(w.current!=null){const V=w.current,z=V.getContext("2d");if(!z)return;let $=E;const U=S.current,M=O!=null&&U!==null&&U.complete&&U.naturalHeight!==0&&U.naturalWidth!==0;M&&O.excavation!=null&&($=wY(E,O.excavation));const F=window.devicePixelRatio||1;V.height=V.width=s*F;const W=s/R*F;z.scale(W,W),z.fillStyle=l,z.fillRect(0,0,R,R),z.fillStyle=c,tAe?z.fill(new Path2D(bY($,P))):E.forEach(function(Z,H){Z.forEach(function(ae,fe){ae&&z.fillRect(fe+P,H+P,1,1)})}),O&&(z.globalAlpha=O.opacity),M&&z.drawImage(U,O.x+P,O.y+P,O.w,O.h)}}),qe.useEffect(()=>{N(!1)},[x]);const G=KE({height:s,width:s},b);let te=null;return x!=null&&(te=qe.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{N(!0)},ref:S,crossOrigin:O==null?void 0:O.crossOrigin})),qe.createElement(qe.Fragment,null,qe.createElement("canvas",KE({style:G,height:s,width:s,ref:j,role:"img"},y)),te)});nAe.displayName="QRCodeCanvas";var CY=qe.forwardRef(function(t,n){const r=t,{value:a,size:s=mY,level:o=pY,bgColor:l=gY,fgColor:c=vY,includeMargin:u=yY,minVersion:d=xY,boostLevel:f,title:h,marginSize:m,imageSettings:g}=r,v=GE(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:y,numCells:x,calculatedImageSettings:w}=SY({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:s});let S=y,j=null;g!=null&&w!=null&&(w.excavation!=null&&(S=wY(y,w.excavation)),j=qe.createElement("image",{href:g.src,height:w.h,width:w.w,x:w.x+b,y:w.y+b,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const k=bY(S,b);return qe.createElement("svg",KE({height:s,width:s,viewBox:`0 0 ${x} ${x}`,ref:n,role:"img"},v),!!h&&qe.createElement("title",null,h),qe.createElement("path",{fill:l,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),qe.createElement("path",{fill:c,d:k,shapeRendering:"crispEdges"}),j)});CY.displayName="QRCodeSVG";/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const rAe=4,YF=0,QF=1,aAe=2;function np(e){let t=e.length;for(;--t>=0;)e[t]=0}const sAe=0,jY=1,iAe=2,oAe=3,lAe=258,BR=29,ax=256,Wv=ax+1+BR,Uh=30,VR=19,NY=2*Wv+1,Yu=15,Fk=16,cAe=7,zR=256,kY=16,AY=17,PY=18,WE=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ub=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),uAe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),EY=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dAe=512,il=new Array((Wv+2)*2);np(il);const Xg=new Array(Uh*2);np(Xg);const qv=new Array(dAe);np(qv);const Hv=new Array(lAe-oAe+1);np(Hv);const UR=new Array(BR);np(UR);const v1=new Array(Uh);np(v1);function Bk(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let TY,_Y,DY;function Vk(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const RY=e=>e<256?qv[e]:qv[256+(e>>>7)],Yv=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},fs=(e,t,n)=>{e.bi_valid>Fk-n?(e.bi_buf|=t<<e.bi_valid&65535,Yv(e,e.bi_buf),e.bi_buf=t>>Fk-e.bi_valid,e.bi_valid+=n-Fk):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},yo=(e,t,n)=>{fs(e,n[t*2],n[t*2+1])},MY=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},fAe=e=>{e.bi_valid===16?(Yv(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},hAe=(e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,h,m,g,v=0;for(h=0;h<=Yu;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<NY;u++)d=e.heap[u],h=n[n[d*2+1]*2+1]+1,h>c&&(h=c,v++),n[d*2+1]=h,!(d>r)&&(e.bl_count[h]++,m=0,d>=l&&(m=o[d-l]),g=n[d*2],e.opt_len+=g*(h+m),s&&(e.static_len+=g*(a[d*2+1]+m)));if(v!==0){do{for(h=c-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,v-=2}while(v>0);for(h=c;h!==0;h--)for(d=e.bl_count[h];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==h&&(e.opt_len+=(h-n[f*2+1])*n[f*2],n[f*2+1]=h),d--)}},IY=(e,t,n)=>{const r=new Array(Yu+1);let a=0,s,o;for(s=1;s<=Yu;s++)a=a+n[s-1]<<1,r[s]=a;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=MY(r[l]++,l))}},mAe=()=>{let e,t,n,r,a;const s=new Array(Yu+1);for(n=0,r=0;r<BR-1;r++)for(UR[r]=n,e=0;e<1<<WE[r];e++)Hv[n++]=r;for(Hv[n-1]=r,a=0,r=0;r<16;r++)for(v1[r]=a,e=0;e<1<<Ub[r];e++)qv[a++]=r;for(a>>=7;r<Uh;r++)for(v1[r]=a<<7,e=0;e<1<<Ub[r]-7;e++)qv[256+a++]=r;for(t=0;t<=Yu;t++)s[t]=0;for(e=0;e<=143;)il[e*2+1]=8,e++,s[8]++;for(;e<=255;)il[e*2+1]=9,e++,s[9]++;for(;e<=279;)il[e*2+1]=7,e++,s[7]++;for(;e<=287;)il[e*2+1]=8,e++,s[8]++;for(IY(il,Wv+1,s),e=0;e<Uh;e++)Xg[e*2+1]=5,Xg[e*2]=MY(e,5);TY=new Bk(il,WE,ax+1,Wv,Yu),_Y=new Bk(Xg,Ub,0,Uh,Yu),DY=new Bk(new Array(0),uAe,0,VR,cAe)},OY=e=>{let t;for(t=0;t<Wv;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Uh;t++)e.dyn_dtree[t*2]=0;for(t=0;t<VR;t++)e.bl_tree[t*2]=0;e.dyn_ltree[zR*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},LY=e=>{e.bi_valid>8?Yv(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ZF=(e,t,n,r)=>{const a=t*2,s=n*2;return e[a]<e[s]||e[a]===e[s]&&r[t]<=r[n]},zk=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&ZF(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!ZF(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},JF=(e,t,n)=>{let r,a,s=0,o,l;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,a=e.pending_buf[e.sym_buf+s++],r===0?yo(e,a,t):(o=Hv[a],yo(e,o+ax+1,t),l=WE[o],l!==0&&(a-=UR[o],fs(e,a,l)),r--,o=RY(r),yo(e,o,n),l=Ub[o],l!==0&&(r-=v1[o],fs(e,r,l)));while(s<e.sym_next);yo(e,zR,t)},qE=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,l,c=-1,u;for(e.heap_len=0,e.heap_max=NY,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,a&&(e.static_len-=r[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)zk(e,n,o);u=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],zk(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,n[u*2]=n[o*2]+n[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,n[o*2+1]=n[l*2+1]=u,e.heap[1]=u++,zk(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],hAe(e,t),IY(n,c,e.bl_count)},XF=(e,t,n)=>{let r,a=-1,s,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++l<c&&s===o)&&(l<u?e.bl_tree[s*2]+=l:s!==0?(s!==a&&e.bl_tree[s*2]++,e.bl_tree[kY*2]++):l<=10?e.bl_tree[AY*2]++:e.bl_tree[PY*2]++,l=0,a=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))},eB=(e,t,n)=>{let r,a=-1,s,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++l<c&&s===o)){if(l<u)do yo(e,s,e.bl_tree);while(--l!==0);else s!==0?(s!==a&&(yo(e,s,e.bl_tree),l--),yo(e,kY,e.bl_tree),fs(e,l-3,2)):l<=10?(yo(e,AY,e.bl_tree),fs(e,l-3,3)):(yo(e,PY,e.bl_tree),fs(e,l-11,7));l=0,a=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}},pAe=e=>{let t;for(XF(e,e.dyn_ltree,e.l_desc.max_code),XF(e,e.dyn_dtree,e.d_desc.max_code),qE(e,e.bl_desc),t=VR-1;t>=3&&e.bl_tree[EY[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},gAe=(e,t,n,r)=>{let a;for(fs(e,t-257,5),fs(e,n-1,5),fs(e,r-4,4),a=0;a<r;a++)fs(e,e.bl_tree[EY[a]*2+1],3);eB(e,e.dyn_ltree,t-1),eB(e,e.dyn_dtree,n-1)},vAe=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return YF;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return QF;for(n=32;n<ax;n++)if(e.dyn_ltree[n*2]!==0)return QF;return YF};let tB=!1;const yAe=e=>{tB||(mAe(),tB=!0),e.l_desc=new Vk(e.dyn_ltree,TY),e.d_desc=new Vk(e.dyn_dtree,_Y),e.bl_desc=new Vk(e.bl_tree,DY),e.bi_buf=0,e.bi_valid=0,OY(e)},$Y=(e,t,n,r)=>{fs(e,(sAe<<1)+(r?1:0),3),LY(e),Yv(e,n),Yv(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},xAe=e=>{fs(e,jY<<1,3),yo(e,zR,il),fAe(e)},bAe=(e,t,n,r)=>{let a,s,o=0;e.level>0?(e.strm.data_type===aAe&&(e.strm.data_type=vAe(e)),qE(e,e.l_desc),qE(e,e.d_desc),o=pAe(e),a=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=a&&(a=s)):a=s=n+5,n+4<=a&&t!==-1?$Y(e,t,n,r):e.strategy===rAe||s===a?(fs(e,(jY<<1)+(r?1:0),3),JF(e,il,Xg)):(fs(e,(iAe<<1)+(r?1:0),3),gAe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),JF(e,e.dyn_ltree,e.dyn_dtree)),OY(e),r&&LY(e)},wAe=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Hv[n]+ax+1)*2]++,e.dyn_dtree[RY(t)*2]++),e.sym_next===e.sym_end);var SAe=yAe,CAe=$Y,jAe=bAe,NAe=wAe,kAe=xAe,AAe={_tr_init:SAe,_tr_stored_block:CAe,_tr_flush_block:jAe,_tr_tally:NAe,_tr_align:kAe};const PAe=(e,t,n,r)=>{let a=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do a=a+t[r++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0};var Qv=PAe;const EAe=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},TAe=new Uint32Array(EAe()),_Ae=(e,t,n,r)=>{const a=TAe,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var ra=_Ae,Fd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},UC={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:DAe,_tr_stored_block:HE,_tr_flush_block:RAe,_tr_tally:$c,_tr_align:MAe}=AAe,{Z_NO_FLUSH:Fc,Z_PARTIAL_FLUSH:IAe,Z_FULL_FLUSH:OAe,Z_FINISH:oi,Z_BLOCK:nB,Z_OK:pa,Z_STREAM_END:rB,Z_STREAM_ERROR:Eo,Z_DATA_ERROR:LAe,Z_BUF_ERROR:Uk,Z_DEFAULT_COMPRESSION:$Ae,Z_FILTERED:FAe,Z_HUFFMAN_ONLY:L0,Z_RLE:BAe,Z_FIXED:VAe,Z_DEFAULT_STRATEGY:zAe,Z_UNKNOWN:UAe,Z_DEFLATED:KC}=UC,KAe=9,GAe=15,WAe=8,qAe=29,HAe=256,YE=HAe+1+qAe,YAe=30,QAe=19,ZAe=2*YE+1,JAe=15,rn=3,Nc=258,To=Nc+rn+1,XAe=32,pm=42,KR=57,QE=69,ZE=73,JE=91,XE=103,Qu=113,Ng=666,Va=1,rp=2,Bd=3,ap=4,ePe=3,Zu=(e,t)=>(e.msg=Fd[t],t),aB=e=>e*2-(e>4?9:0),xc=e=>{let t=e.length;for(;--t>=0;)e[t]=0},tPe=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=a?n-a:0;while(--t);t=a,r=t;do n=e.prev[--r],e.prev[r]=n>=a?n-a:0;while(--t)};let nPe=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Bc=nPe;const ks=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Rs=(e,t)=>{RAe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ks(e.strm)},fn=(e,t)=>{e.pending_buf[e.pending++]=t},eg=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},e2=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),e.state.wrap===1?e.adler=Qv(e.adler,t,a,n):e.state.wrap===2&&(e.adler=ra(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},FY=(e,t)=>{let n=e.max_chain_length,r=e.strstart,a,s,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-To?e.strstart-(e.w_size-To):0,u=e.window,d=e.w_mask,f=e.prev,h=e.strstart+Nc;let m=u[r+o-1],g=u[r+o];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=t,!(u[a+o]!==g||u[a+o-1]!==m||u[a]!==u[r]||u[++a]!==u[r+1])){r+=2,a++;do;while(u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&r<h);if(s=Nc-(h-r),r=h-Nc,s>o){if(e.match_start=t,o=s,s>=l)break;m=u[r+o-1],g=u[r+o]}}while((t=f[t&d])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead},gm=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-To)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),tPe(e),r+=t),e.strm.avail_in===0)break;if(n=e2(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=rn)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Bc(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Bc(e,e.ins_h,e.window[a+rn-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<rn)););}while(e.lookahead<To&&e.strm.avail_in!==0)},BY=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,a,s,o=0,l=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,a=e.strstart-e.block_start,r>a+e.strm.avail_in&&(r=a+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==oi||t===Fc||r!==a+e.strm.avail_in)))break;o=t===oi&&r===a+e.strm.avail_in?1:0,HE(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,ks(e.strm),a&&(a>r&&(a=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,r-=a),r&&(e2(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?ap:t!==Fc&&t!==oi&&e.strm.avail_in===0&&e.strstart===e.block_start?rp:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(e2(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,a=e.strstart-e.block_start,(a>=n||(a||t===oi)&&t!==Fc&&e.strm.avail_in===0&&a<=s)&&(r=a>s?s:a,o=t===oi&&e.strm.avail_in===0&&r===a?1:0,HE(e,e.block_start,r,o),e.block_start+=r,ks(e.strm)),o?Bd:Va)},Kk=(e,t)=>{let n,r;for(;;){if(e.lookahead<To){if(gm(e),e.lookahead<To&&t===Fc)return Va;if(e.lookahead===0)break}if(n=0,e.lookahead>=rn&&(e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-To&&(e.match_length=FY(e,n)),e.match_length>=rn)if(r=$c(e,e.strstart-e.match_start,e.match_length-rn),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=rn){e.match_length--;do e.strstart++,e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+1]);else r=$c(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Rs(e,!1),e.strm.avail_out===0))return Va}return e.insert=e.strstart<rn-1?e.strstart:rn-1,t===oi?(Rs(e,!0),e.strm.avail_out===0?Bd:ap):e.sym_next&&(Rs(e,!1),e.strm.avail_out===0)?Va:rp},Gf=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<To){if(gm(e),e.lookahead<To&&t===Fc)return Va;if(e.lookahead===0)break}if(n=0,e.lookahead>=rn&&(e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=rn-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-To&&(e.match_length=FY(e,n),e.match_length<=5&&(e.strategy===FAe||e.match_length===rn&&e.strstart-e.match_start>4096)&&(e.match_length=rn-1)),e.prev_length>=rn&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-rn,r=$c(e,e.strstart-1-e.prev_match,e.prev_length-rn),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=rn-1,e.strstart++,r&&(Rs(e,!1),e.strm.avail_out===0))return Va}else if(e.match_available){if(r=$c(e,0,e.window[e.strstart-1]),r&&Rs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Va}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=$c(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<rn-1?e.strstart:rn-1,t===oi?(Rs(e,!0),e.strm.avail_out===0?Bd:ap):e.sym_next&&(Rs(e,!1),e.strm.avail_out===0)?Va:rp},rPe=(e,t)=>{let n,r,a,s;const o=e.window;for(;;){if(e.lookahead<=Nc){if(gm(e),e.lookahead<=Nc&&t===Fc)return Va;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=rn&&e.strstart>0&&(a=e.strstart-1,r=o[a],r===o[++a]&&r===o[++a]&&r===o[++a])){s=e.strstart+Nc;do;while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<s);e.match_length=Nc-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=rn?(n=$c(e,1,e.match_length-rn),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=$c(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Rs(e,!1),e.strm.avail_out===0))return Va}return e.insert=0,t===oi?(Rs(e,!0),e.strm.avail_out===0?Bd:ap):e.sym_next&&(Rs(e,!1),e.strm.avail_out===0)?Va:rp},aPe=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(gm(e),e.lookahead===0)){if(t===Fc)return Va;break}if(e.match_length=0,n=$c(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Rs(e,!1),e.strm.avail_out===0))return Va}return e.insert=0,t===oi?(Rs(e,!0),e.strm.avail_out===0?Bd:ap):e.sym_next&&(Rs(e,!1),e.strm.avail_out===0)?Va:rp};function uo(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const kg=[new uo(0,0,0,0,BY),new uo(4,4,8,4,Kk),new uo(4,5,16,8,Kk),new uo(4,6,32,32,Kk),new uo(4,4,16,16,Gf),new uo(8,16,32,32,Gf),new uo(8,16,128,128,Gf),new uo(8,32,128,256,Gf),new uo(32,128,258,1024,Gf),new uo(32,258,258,4096,Gf)],sPe=e=>{e.window_size=2*e.w_size,xc(e.head),e.max_lazy_match=kg[e.level].max_lazy,e.good_match=kg[e.level].good_length,e.nice_match=kg[e.level].nice_length,e.max_chain_length=kg[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=rn-1,e.match_available=0,e.ins_h=0};function iPe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=KC,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ZAe*2),this.dyn_dtree=new Uint16Array((2*YAe+1)*2),this.bl_tree=new Uint16Array((2*QAe+1)*2),xc(this.dyn_ltree),xc(this.dyn_dtree),xc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(JAe+1),this.heap=new Uint16Array(2*YE+1),xc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*YE+1),xc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const sx=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==pm&&t.status!==KR&&t.status!==QE&&t.status!==ZE&&t.status!==JE&&t.status!==XE&&t.status!==Qu&&t.status!==Ng?1:0},VY=e=>{if(sx(e))return Zu(e,Eo);e.total_in=e.total_out=0,e.data_type=UAe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?KR:t.wrap?pm:Qu,e.adler=t.wrap===2?0:1,t.last_flush=-2,DAe(t),pa},zY=e=>{const t=VY(e);return t===pa&&sPe(e.state),t},oPe=(e,t)=>sx(e)||e.state.wrap!==2?Eo:(e.state.gzhead=t,pa),UY=(e,t,n,r,a,s)=>{if(!e)return Eo;let o=1;if(t===$Ae&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>KAe||n!==KC||r<8||r>15||t<0||t>9||s<0||s>VAe||r===8&&o!==1)return Zu(e,Eo);r===8&&(r=9);const l=new iPe;return e.state=l,l.strm=e,l.status=pm,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+rn-1)/rn),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=s,l.method=n,zY(e)},lPe=(e,t)=>UY(e,t,KC,GAe,WAe,zAe),cPe=(e,t)=>{if(sx(e)||t>nB||t<0)return e?Zu(e,Eo):Eo;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Ng&&t!==oi)return Zu(e,e.avail_out===0?Uk:Eo);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(ks(e),e.avail_out===0)return n.last_flush=-1,pa}else if(e.avail_in===0&&aB(t)<=aB(r)&&t!==oi)return Zu(e,Uk);if(n.status===Ng&&e.avail_in!==0)return Zu(e,Uk);if(n.status===pm&&n.wrap===0&&(n.status=Qu),n.status===pm){let a=KC+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=L0||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,a|=s<<6,n.strstart!==0&&(a|=XAe),a+=31-a%31,eg(n,a),n.strstart!==0&&(eg(n,e.adler>>>16),eg(n,e.adler&65535)),e.adler=1,n.status=Qu,ks(e),n.pending!==0)return n.last_flush=-1,pa}if(n.status===KR){if(e.adler=0,fn(n,31),fn(n,139),fn(n,8),n.gzhead)fn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),fn(n,n.gzhead.time&255),fn(n,n.gzhead.time>>8&255),fn(n,n.gzhead.time>>16&255),fn(n,n.gzhead.time>>24&255),fn(n,n.level===9?2:n.strategy>=L0||n.level<2?4:0),fn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(fn(n,n.gzhead.extra.length&255),fn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=ra(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=QE;else if(fn(n,0),fn(n,0),fn(n,0),fn(n,0),fn(n,0),fn(n,n.level===9?2:n.strategy>=L0||n.level<2?4:0),fn(n,ePe),n.status=Qu,ks(e),n.pending!==0)return n.last_flush=-1,pa}if(n.status===QE){if(n.gzhead.extra){let a=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let l=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+l),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>a&&(e.adler=ra(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex+=l,ks(e),n.pending!==0)return n.last_flush=-1,pa;a=0,s-=l}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>a&&(e.adler=ra(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=ZE}if(n.status===ZE){if(n.gzhead.name){let a=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=ra(e.adler,n.pending_buf,n.pending-a,a)),ks(e),n.pending!==0)return n.last_flush=-1,pa;a=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,fn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=ra(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=JE}if(n.status===JE){if(n.gzhead.comment){let a=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=ra(e.adler,n.pending_buf,n.pending-a,a)),ks(e),n.pending!==0)return n.last_flush=-1,pa;a=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,fn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=ra(e.adler,n.pending_buf,n.pending-a,a))}n.status=XE}if(n.status===XE){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ks(e),n.pending!==0))return n.last_flush=-1,pa;fn(n,e.adler&255),fn(n,e.adler>>8&255),e.adler=0}if(n.status=Qu,ks(e),n.pending!==0)return n.last_flush=-1,pa}if(e.avail_in!==0||n.lookahead!==0||t!==Fc&&n.status!==Ng){let a=n.level===0?BY(n,t):n.strategy===L0?aPe(n,t):n.strategy===BAe?rPe(n,t):kg[n.level].func(n,t);if((a===Bd||a===ap)&&(n.status=Ng),a===Va||a===Bd)return e.avail_out===0&&(n.last_flush=-1),pa;if(a===rp&&(t===IAe?MAe(n):t!==nB&&(HE(n,0,0,!1),t===OAe&&(xc(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ks(e),e.avail_out===0))return n.last_flush=-1,pa}return t!==oi?pa:n.wrap<=0?rB:(n.wrap===2?(fn(n,e.adler&255),fn(n,e.adler>>8&255),fn(n,e.adler>>16&255),fn(n,e.adler>>24&255),fn(n,e.total_in&255),fn(n,e.total_in>>8&255),fn(n,e.total_in>>16&255),fn(n,e.total_in>>24&255)):(eg(n,e.adler>>>16),eg(n,e.adler&65535)),ks(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?pa:rB)},uPe=e=>{if(sx(e))return Eo;const t=e.state.status;return e.state=null,t===Qu?Zu(e,LAe):pa},dPe=(e,t)=>{let n=t.length;if(sx(e))return Eo;const r=e.state,a=r.wrap;if(a===2||a===1&&r.status!==pm||r.lookahead)return Eo;if(a===1&&(e.adler=Qv(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){a===0&&(xc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const s=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,gm(r);r.lookahead>=rn;){let c=r.strstart,u=r.lookahead-(rn-1);do r.ins_h=Bc(r,r.ins_h,r.window[c+rn-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=rn-1,gm(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=rn-1,r.match_available=0,e.next_in=o,e.input=l,e.avail_in=s,r.wrap=a,pa};var fPe=lPe,hPe=UY,mPe=zY,pPe=VY,gPe=oPe,vPe=cPe,yPe=uPe,xPe=dPe,bPe="pako deflate (from Nodeca project)",ev={deflateInit:fPe,deflateInit2:hPe,deflateReset:mPe,deflateResetKeep:pPe,deflateSetHeader:gPe,deflate:vPe,deflateEnd:yPe,deflateSetDictionary:xPe,deflateInfo:bPe};const wPe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var SPe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)wPe(n,r)&&(e[r]=n[r])}}return e},CPe=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,s=e.length;r<s;r++){let o=e[r];n.set(o,a),a+=o.length}return n},GC={assign:SPe,flattenChunks:CPe};let KY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{KY=!1}const Zv=new Uint8Array(256);for(let e=0;e<256;e++)Zv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Zv[254]=Zv[254]=1;var jPe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,a,s,o=e.length,l=0;for(a=0;a<o;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<o&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),s=0,a=0;s<l;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<o&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const NPe=(e,t)=>{if(t<65534&&e.subarray&&KY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var kPe=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,a;const s=new Array(n*2);for(a=0,r=0;r<n;){let o=e[r++];if(o<128){s[a++]=o;continue}let l=Zv[o];if(l>4){s[a++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<n;)o=o<<6|e[r++]&63,l--;if(l>1){s[a++]=65533;continue}o<65536?s[a++]=o:(o-=65536,s[a++]=55296|o>>10&1023,s[a++]=56320|o&1023)}return NPe(s,a)},APe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Zv[e[n]]>t?n:t},Jv={string2buf:jPe,buf2string:kPe,utf8border:APe};function PPe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var GY=PPe;const WY=Object.prototype.toString,{Z_NO_FLUSH:EPe,Z_SYNC_FLUSH:TPe,Z_FULL_FLUSH:_Pe,Z_FINISH:DPe,Z_OK:y1,Z_STREAM_END:RPe,Z_DEFAULT_COMPRESSION:MPe,Z_DEFAULT_STRATEGY:IPe,Z_DEFLATED:OPe}=UC;function WC(e){this.options=GC.assign({level:MPe,method:OPe,chunkSize:16384,windowBits:15,memLevel:8,strategy:IPe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new GY,this.strm.avail_out=0;let n=ev.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==y1)throw new Error(Fd[n]);if(t.header&&ev.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Jv.string2buf(t.dictionary):WY.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=ev.deflateSetDictionary(this.strm,r),n!==y1)throw new Error(Fd[n]);this._dict_set=!0}}WC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?DPe:EPe,typeof e=="string"?n.input=Jv.string2buf(e):WY.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===TPe||s===_Pe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(a=ev.deflate(n,s),a===RPe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=ev.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===y1;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};WC.prototype.onData=function(e){this.chunks.push(e)};WC.prototype.onEnd=function(e){e===y1&&(this.result=GC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function qY(e,t){const n=new WC(t);if(n.push(e,!0),n.err)throw n.msg||Fd[n.err];return n.result}function LPe(e,t){return t=t||{},t.gzip=!0,qY(e,t)}var $Pe=qY,FPe=LPe,BPe={deflate:$Pe,gzip:FPe};const $0=16209,VPe=16191;var zPe=function(t,n){let r,a,s,o,l,c,u,d,f,h,m,g,v,b,y,x,w,S,j,k,N,P,E,R;const O=t.state;r=t.next_in,E=t.input,a=r+(t.avail_in-5),s=t.next_out,R=t.output,o=s-(n-t.avail_out),l=s+(t.avail_out-257),c=O.dmax,u=O.wsize,d=O.whave,f=O.wnext,h=O.window,m=O.hold,g=O.bits,v=O.lencode,b=O.distcode,y=(1<<O.lenbits)-1,x=(1<<O.distbits)-1;e:do{g<15&&(m+=E[r++]<<g,g+=8,m+=E[r++]<<g,g+=8),w=v[m&y];t:for(;;){if(S=w>>>24,m>>>=S,g-=S,S=w>>>16&255,S===0)R[s++]=w&65535;else if(S&16){j=w&65535,S&=15,S&&(g<S&&(m+=E[r++]<<g,g+=8),j+=m&(1<<S)-1,m>>>=S,g-=S),g<15&&(m+=E[r++]<<g,g+=8,m+=E[r++]<<g,g+=8),w=b[m&x];n:for(;;){if(S=w>>>24,m>>>=S,g-=S,S=w>>>16&255,S&16){if(k=w&65535,S&=15,g<S&&(m+=E[r++]<<g,g+=8,g<S&&(m+=E[r++]<<g,g+=8)),k+=m&(1<<S)-1,k>c){t.msg="invalid distance too far back",O.mode=$0;break e}if(m>>>=S,g-=S,S=s-o,k>S){if(S=k-S,S>d&&O.sane){t.msg="invalid distance too far back",O.mode=$0;break e}if(N=0,P=h,f===0){if(N+=u-S,S<j){j-=S;do R[s++]=h[N++];while(--S);N=s-k,P=R}}else if(f<S){if(N+=u+f-S,S-=f,S<j){j-=S;do R[s++]=h[N++];while(--S);if(N=0,f<j){S=f,j-=S;do R[s++]=h[N++];while(--S);N=s-k,P=R}}}else if(N+=f-S,S<j){j-=S;do R[s++]=h[N++];while(--S);N=s-k,P=R}for(;j>2;)R[s++]=P[N++],R[s++]=P[N++],R[s++]=P[N++],j-=3;j&&(R[s++]=P[N++],j>1&&(R[s++]=P[N++]))}else{N=s-k;do R[s++]=R[N++],R[s++]=R[N++],R[s++]=R[N++],j-=3;while(j>2);j&&(R[s++]=R[N++],j>1&&(R[s++]=R[N++]))}}else if(S&64){t.msg="invalid distance code",O.mode=$0;break e}else{w=b[(w&65535)+(m&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){O.mode=VPe;break e}else{t.msg="invalid literal/length code",O.mode=$0;break e}else{w=v[(w&65535)+(m&(1<<S)-1)];continue t}break}}while(r<a&&s<l);j=g>>3,r-=j,g-=j<<3,m&=(1<<g)-1,t.next_in=r,t.next_out=s,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=s<l?257+(l-s):257-(s-l),O.hold=m,O.bits=g};const Wf=15,sB=852,iB=592,oB=0,Gk=1,lB=2,UPe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),KPe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),GPe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),WPe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),qPe=(e,t,n,r,a,s,o,l)=>{const c=l.bits;let u=0,d=0,f=0,h=0,m=0,g=0,v=0,b=0,y=0,x=0,w,S,j,k,N,P=null,E;const R=new Uint16Array(Wf+1),O=new Uint16Array(Wf+1);let G=null,te,V,z;for(u=0;u<=Wf;u++)R[u]=0;for(d=0;d<r;d++)R[t[n+d]]++;for(m=c,h=Wf;h>=1&&R[h]===0;h--);if(m>h&&(m=h),h===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<h&&R[f]===0;f++);for(m<f&&(m=f),b=1,u=1;u<=Wf;u++)if(b<<=1,b-=R[u],b<0)return-1;if(b>0&&(e===oB||h!==1))return-1;for(O[1]=0,u=1;u<Wf;u++)O[u+1]=O[u]+R[u];for(d=0;d<r;d++)t[n+d]!==0&&(o[O[t[n+d]]++]=d);if(e===oB?(P=G=o,E=20):e===Gk?(P=UPe,G=KPe,E=257):(P=GPe,G=WPe,E=0),x=0,d=0,u=f,N=s,g=m,v=0,j=-1,y=1<<m,k=y-1,e===Gk&&y>sB||e===lB&&y>iB)return 1;for(;;){te=u-v,o[d]+1<E?(V=0,z=o[d]):o[d]>=E?(V=G[o[d]-E],z=P[o[d]-E]):(V=96,z=0),w=1<<u-v,S=1<<g,f=S;do S-=w,a[N+(x>>v)+S]=te<<24|V<<16|z|0;while(S!==0);for(w=1<<u-1;x&w;)w>>=1;if(w!==0?(x&=w-1,x+=w):x=0,d++,--R[u]===0){if(u===h)break;u=t[n+o[d]]}if(u>m&&(x&k)!==j){for(v===0&&(v=m),N+=f,g=u-v,b=1<<g;g+v<h&&(b-=R[g+v],!(b<=0));)g++,b<<=1;if(y+=1<<g,e===Gk&&y>sB||e===lB&&y>iB)return 1;j=x&k,a[j]=m<<24|g<<16|N-s|0}}return x!==0&&(a[N+x]=u-v<<24|64<<16|0),l.bits=m,0};var tv=qPe;const HPe=0,HY=1,YY=2,{Z_FINISH:cB,Z_BLOCK:YPe,Z_TREES:F0,Z_OK:Vd,Z_STREAM_END:QPe,Z_NEED_DICT:ZPe,Z_STREAM_ERROR:gi,Z_DATA_ERROR:QY,Z_MEM_ERROR:ZY,Z_BUF_ERROR:JPe,Z_DEFLATED:uB}=UC,qC=16180,dB=16181,fB=16182,hB=16183,mB=16184,pB=16185,gB=16186,vB=16187,yB=16188,xB=16189,x1=16190,tl=16191,Wk=16192,bB=16193,qk=16194,wB=16195,SB=16196,CB=16197,jB=16198,B0=16199,V0=16200,NB=16201,kB=16202,AB=16203,PB=16204,EB=16205,Hk=16206,TB=16207,_B=16208,Gn=16209,JY=16210,XY=16211,XPe=852,eEe=592,tEe=15,nEe=tEe,DB=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function rEe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<qC||t.mode>XY?1:0},eQ=e=>{if(uf(e))return gi;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=qC,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(XPe),t.distcode=t.distdyn=new Int32Array(eEe),t.sane=1,t.back=-1,Vd},tQ=e=>{if(uf(e))return gi;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,eQ(e)},nQ=(e,t)=>{let n;if(uf(e))return gi;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?gi:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,tQ(e))},rQ=(e,t)=>{if(!e)return gi;const n=new rEe;e.state=n,n.strm=e,n.window=null,n.mode=qC;const r=nQ(e,t);return r!==Vd&&(e.state=null),r},aEe=e=>rQ(e,nEe);let RB=!0,Yk,Qk;const sEe=e=>{if(RB){Yk=new Int32Array(512),Qk=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(tv(HY,e.lens,0,288,Yk,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;tv(YY,e.lens,0,32,Qk,0,e.work,{bits:5}),RB=!1}e.lencode=Yk,e.lenbits=9,e.distcode=Qk,e.distbits=5},aQ=(e,t,n,r)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>r&&(a=r),s.window.set(t.subarray(n-r,n-r+a),s.wnext),r-=a,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},iEe=(e,t)=>{let n,r,a,s,o,l,c,u,d,f,h,m,g,v,b=0,y,x,w,S,j,k,N,P;const E=new Uint8Array(4);let R,O;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uf(e)||!e.output||!e.input&&e.avail_in!==0)return gi;n=e.state,n.mode===tl&&(n.mode=Wk),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,u=n.hold,d=n.bits,f=l,h=c,P=Vd;e:for(;;)switch(n.mode){case qC:if(n.wrap===0){n.mode=Wk;break}for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=u&255,E[1]=u>>>8&255,n.check=ra(n.check,E,2,0),u=0,d=0,n.mode=dB;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Gn;break}if((u&15)!==uB){e.msg="unknown compression method",n.mode=Gn;break}if(u>>>=4,d-=4,N=(u&15)+8,n.wbits===0&&(n.wbits=N),N>15||N>n.wbits){e.msg="invalid window size",n.mode=Gn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?xB:tl,u=0,d=0;break;case dB:for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==uB){e.msg="unknown compression method",n.mode=Gn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Gn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=ra(n.check,E,2,0)),u=0,d=0,n.mode=fB;case fB:for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=ra(n.check,E,4,0)),u=0,d=0,n.mode=hB;case hB:for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=ra(n.check,E,2,0)),u=0,d=0,n.mode=mB;case mB:if(n.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=ra(n.check,E,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=pB;case pB:if(n.flags&1024&&(m=n.length,m>l&&(m=l),m&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),N)),n.flags&512&&n.wrap&4&&(n.check=ra(n.check,r,m,s)),l-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=gB;case gB:if(n.flags&2048){if(l===0)break e;m=0;do N=r[s+m++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N));while(N&&m<l);if(n.flags&512&&n.wrap&4&&(n.check=ra(n.check,r,m,s)),l-=m,s+=m,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=vB;case vB:if(n.flags&4096){if(l===0)break e;m=0;do N=r[s+m++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N));while(N&&m<l);if(n.flags&512&&n.wrap&4&&(n.check=ra(n.check,r,m,s)),l-=m,s+=m,N)break e}else n.head&&(n.head.comment=null);n.mode=yB;case yB:if(n.flags&512){for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Gn;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=tl;break;case xB:for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}e.adler=n.check=DB(u),u=0,d=0,n.mode=x1;case x1:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=u,n.bits=d,ZPe;e.adler=n.check=1,n.mode=tl;case tl:if(t===YPe||t===F0)break e;case Wk:if(n.last){u>>>=d&7,d-=d&7,n.mode=Hk;break}for(;d<3;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=bB;break;case 1:if(sEe(n),n.mode=B0,t===F0){u>>>=2,d-=2;break e}break;case 2:n.mode=SB;break;case 3:e.msg="invalid block type",n.mode=Gn}u>>>=2,d-=2;break;case bB:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Gn;break}if(n.length=u&65535,u=0,d=0,n.mode=qk,t===F0)break e;case qk:n.mode=wB;case wB:if(m=n.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(r.subarray(s,s+m),o),l-=m,s+=m,c-=m,o+=m,n.length-=m;break}n.mode=tl;break;case SB:for(;d<14;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Gn;break}n.have=0,n.mode=CB;case CB:for(;n.have<n.ncode;){for(;d<3;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.lens[G[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[G[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},P=tv(HPe,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,P){e.msg="invalid code lengths set",n.mode=Gn;break}n.have=0,n.mode=jB;case jB:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],y=b>>>24,x=b>>>16&255,w=b&65535,!(y<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(w<16)u>>>=y,d-=y,n.lens[n.have++]=w;else{if(w===16){for(O=y+2;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(u>>>=y,d-=y,n.have===0){e.msg="invalid bit length repeat",n.mode=Gn;break}N=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(O=y+3;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=y,d-=y,N=0,m=3+(u&7),u>>>=3,d-=3}else{for(O=y+7;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=y,d-=y,N=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Gn;break}for(;m--;)n.lens[n.have++]=N}}if(n.mode===Gn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Gn;break}if(n.lenbits=9,R={bits:n.lenbits},P=tv(HY,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,P){e.msg="invalid literal/lengths set",n.mode=Gn;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},P=tv(YY,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,P){e.msg="invalid distances set",n.mode=Gn;break}if(n.mode=B0,t===F0)break e;case B0:n.mode=V0;case V0:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=u,n.bits=d,zPe(e,h),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,u=n.hold,d=n.bits,n.mode===tl&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],y=b>>>24,x=b>>>16&255,w=b&65535,!(y<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(x&&!(x&240)){for(S=y,j=x,k=w;b=n.lencode[k+((u&(1<<S+j)-1)>>S)],y=b>>>24,x=b>>>16&255,w=b&65535,!(S+y<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=S,d-=S,n.back+=S}if(u>>>=y,d-=y,n.back+=y,n.length=w,x===0){n.mode=EB;break}if(x&32){n.back=-1,n.mode=tl;break}if(x&64){e.msg="invalid literal/length code",n.mode=Gn;break}n.extra=x&15,n.mode=NB;case NB:if(n.extra){for(O=n.extra;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=kB;case kB:for(;b=n.distcode[u&(1<<n.distbits)-1],y=b>>>24,x=b>>>16&255,w=b&65535,!(y<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(!(x&240)){for(S=y,j=x,k=w;b=n.distcode[k+((u&(1<<S+j)-1)>>S)],y=b>>>24,x=b>>>16&255,w=b&65535,!(S+y<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=S,d-=S,n.back+=S}if(u>>>=y,d-=y,n.back+=y,x&64){e.msg="invalid distance code",n.mode=Gn;break}n.offset=w,n.extra=x&15,n.mode=AB;case AB:if(n.extra){for(O=n.extra;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Gn;break}n.mode=PB;case PB:if(c===0)break e;if(m=h-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Gn;break}m>n.wnext?(m-=n.wnext,g=n.wsize-m):g=n.wnext-m,m>n.length&&(m=n.length),v=n.window}else v=a,g=o-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do a[o++]=v[g++];while(--m);n.length===0&&(n.mode=V0);break;case EB:if(c===0)break e;a[o++]=n.length,c--,n.mode=V0;break;case Hk:if(n.wrap){for(;d<32;){if(l===0)break e;l--,u|=r[s++]<<d,d+=8}if(h-=c,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?ra(n.check,a,h,o-h):Qv(n.check,a,h,o-h)),h=c,n.wrap&4&&(n.flags?u:DB(u))!==n.check){e.msg="incorrect data check",n.mode=Gn;break}u=0,d=0}n.mode=TB;case TB:if(n.wrap&&n.flags){for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Gn;break}u=0,d=0}n.mode=_B;case _B:P=QPe;break e;case Gn:P=QY;break e;case JY:return ZY;case XY:default:return gi}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=u,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<Gn&&(n.mode<Hk||t!==cB))&&aQ(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?ra(n.check,a,h,e.next_out-h):Qv(n.check,a,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===tl?128:0)+(n.mode===B0||n.mode===qk?256:0),(f===0&&h===0||t===cB)&&P===Vd&&(P=JPe),P},oEe=e=>{if(uf(e))return gi;let t=e.state;return t.window&&(t.window=null),e.state=null,Vd},lEe=(e,t)=>{if(uf(e))return gi;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Vd):gi},cEe=(e,t)=>{const n=t.length;let r,a,s;return uf(e)||(r=e.state,r.wrap!==0&&r.mode!==x1)?gi:r.mode===x1&&(a=1,a=Qv(a,t,n,0),a!==r.check)?QY:(s=aQ(e,t,n,n),s?(r.mode=JY,ZY):(r.havedict=1,Vd))};var uEe=tQ,dEe=nQ,fEe=eQ,hEe=aEe,mEe=rQ,pEe=iEe,gEe=oEe,vEe=lEe,yEe=cEe,xEe="pako inflate (from Nodeca project)",ol={inflateReset:uEe,inflateReset2:dEe,inflateResetKeep:fEe,inflateInit:hEe,inflateInit2:mEe,inflate:pEe,inflateEnd:gEe,inflateGetHeader:vEe,inflateSetDictionary:yEe,inflateInfo:xEe};function bEe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wEe=bEe;const sQ=Object.prototype.toString,{Z_NO_FLUSH:SEe,Z_FINISH:CEe,Z_OK:Xv,Z_STREAM_END:Zk,Z_NEED_DICT:Jk,Z_STREAM_ERROR:jEe,Z_DATA_ERROR:MB,Z_MEM_ERROR:NEe}=UC;function HC(e){this.options=GC.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new GY,this.strm.avail_out=0;let n=ol.inflateInit2(this.strm,t.windowBits);if(n!==Xv)throw new Error(Fd[n]);if(this.header=new wEe,ol.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Jv.string2buf(t.dictionary):sQ.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ol.inflateSetDictionary(this.strm,t.dictionary),n!==Xv)))throw new Error(Fd[n])}HC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?CEe:SEe,sQ.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=ol.inflate(n,o),s===Jk&&a&&(s=ol.inflateSetDictionary(n,a),s===Xv?s=ol.inflate(n,o):s===MB&&(s=Jk));n.avail_in>0&&s===Zk&&n.state.wrap>0&&e[n.next_in]!==0;)ol.inflateReset(n),s=ol.inflate(n,o);switch(s){case jEe:case MB:case Jk:case NEe:return this.onEnd(s),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||s===Zk))if(this.options.to==="string"){let c=Jv.utf8border(n.output,n.next_out),u=n.next_out-c,d=Jv.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Xv&&l===0)){if(s===Zk)return s=ol.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};HC.prototype.onData=function(e){this.chunks.push(e)};HC.prototype.onEnd=function(e){e===Xv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=GC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function iQ(e,t){const n=new HC(t);if(n.push(e),n.err)throw n.msg||Fd[n.err];return n.result}var kEe=iQ,AEe=iQ,PEe={inflate:kEe,ungzip:AEe};const{deflate:EEe,gzip:TEe}=BPe,{inflate:_Ee,ungzip:DEe}=PEe;var REe=EEe,MEe=TEe,IEe=_Ee,OEe=DEe;function LEe(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let n=t;for(let r=8;r>0;r--)n&1?n=n>>>1^3988292384:n=n>>>1;e[t]=n>>>0}return e}const $Ee=LEe();function t2(e,t){let n=4294967295;for(let r=0;r<e.length;r++){const a=e[r];n=n>>>8^$Ee[(n^a)&255]}return(n^t^4294967295)>>>0}function FEe(e){const{k:t,bytes:n,checksum:r,indices:a,data:s}=e,o=new Uint32Array([a.length,...a,t,n,r]),l=new Uint8Array(o.length*4+s.length);let c=0;return l.set(new Uint8Array(o.buffer),c),c+=o.length*4,l.set(s,c),l}function BEe(e){const t=new Uint32Array(e.buffer,0,4)[0],n=Array.from(new Uint32Array(e.buffer,4,t+3)),r=n.slice(0,t),[a,s,o]=n.slice(t),l=e.slice(4*(t+4));return{k:a,bytes:s,checksum:o,indices:r,data:l}}function Xk(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function VEe(e){return new zEe(e)}class zEe{constructor(t){pn(this,"decodedData",[]);pn(this,"decodedCount",0);pn(this,"encodedCount",0);pn(this,"encodedBlocks",new Set);pn(this,"encodedBlockKeyMap",new Map);pn(this,"encodedBlockSubkeyMap",new Map);pn(this,"encodedBlockIndexMap",new Map);pn(this,"disposedEncodedBlocks",new Map);pn(this,"meta");if(t)for(const n of t)this.addBlock(n)}addBlock(t){if(this.meta||(this.meta=t,this.decodedData=Array.from({length:this.meta.k})),t.checksum!==this.meta.checksum)throw new Error("Adding block with different checksum");return this.encodedCount+=1,t.indices=t.indices.sort((n,r)=>n-r),this.propagateDecoded(tg(t.indices),t),this.decodedCount===this.meta.k}propagateDecoded(t,n){var b;const{decodedData:r,encodedBlocks:a,encodedBlockIndexMap:s,encodedBlockKeyMap:o,encodedBlockSubkeyMap:l,disposedEncodedBlocks:c}=this;let u,d,{data:f,indices:h}=n;const m=new Set(h);let g,v;if(!(o.has(t)||h.every(y=>r[y]!=null))){if(h.length>1){for(const y of h)r[y]!=null&&(n.data=f=Xk(f,r[y]),m.delete(y));m.size!==h.length&&(n.indices=h=Array.from(m))}if(h.length>2){const y=[];for(const x of h){const w=tg(h.filter(S=>S!==x));if(g=o.get(w)){n.data=f=Xk(f,g.data),v=new Set(g.indices);for(const S of v)m.delete(S);n.indices=h=Array.from(m);break}else y.push([x,w])}m.size>1&&y.forEach(([x,w])=>{var j,k;const S=()=>{var N;return(N=l.get(w))==null?void 0:N.delete(n)};((j=l.get(w))==null?void 0:j.add(n))??l.set(w,new Set([n])),((k=c.get(x))==null?void 0:k.push(S))??c.set(x,[S])})}if(h.length>1){n.indices.forEach(x=>{var w;a.add(n),((w=s.get(x))==null?void 0:w.add(n))??s.set(x,new Set([n]))}),o.set(t=tg(h),n);const y=l.get(t);if(y){l.delete(t);for(const x of y){const w=new Set(x.indices);x.data=Xk(x.data,f);for(const S of h)w.delete(S);x.indices=Array.from(w),this.propagateDecoded(tg(x.indices),x)}}}else if(r[u=h[0]]==null&&(a.delete(n),(b=c.get(u))==null||b.forEach(y=>y()),r[u]=n.data,this.decodedCount+=1,d=s.get(u))){s.delete(u);for(const y of d)t=tg(y.indices),o.delete(t),this.propagateDecoded(t,y)}}}getDecoded(){if(this.decodedCount!==this.meta.k||this.decodedData.some(a=>a==null))return;const t=this.meta.data.length,n=this.decodedData,r=new Uint8Array(this.meta.bytes);n.forEach((a,s)=>{const o=s*t;if(o+t>r.length)for(let l=0;l<r.length-o;l++)r[o+l]=a[l];else r.set(a,s*t)});try{const a=IEe(r);if(t2(a,this.meta.k)===this.meta.checksum)return a}catch{if(t2(r,this.meta.k)===this.meta.checksum)return r}throw new Error("Checksum mismatch")}}function tg(e){return e.join(",")}function UEe(e,t,n=!0){return new KEe(e,t,n)}class KEe{constructor(t,n,r=!0){pn(this,"k");pn(this,"indices");pn(this,"checksum");pn(this,"bytes");pn(this,"compressed");this.data=t,this.sliceSize=n,this.compress=r,this.compressed=r?REe(t):t,this.indices=GEe(this.compressed,n),this.k=this.indices.length,this.checksum=t2(this.data,this.k),this.bytes=this.compressed.length}createBlock(t){const n=new Uint8Array(this.sliceSize);for(const r of t){const a=this.indices[r];for(let s=0;s<this.sliceSize;s++)n[s]=n[s]^a[s]}return{k:this.k,bytes:this.bytes,checksum:this.checksum,indices:t,data:n}}*fountain(){for(;;){const t=WEe(this.k),n=qEe(this.k,t);yield this.createBlock(n)}}}function GEe(e,t){const n=[];for(let r=0;r<e.length;r+=t){const a=new Uint8Array(t);a.set(e.slice(r,r+t)),n.push(a)}return n}function WEe(e){const t=Array.from({length:e},()=>0);t[0]=1/e;for(let a=2;a<=e;a++)t[a-1]=1/(a*(a-1));const n=t.reduce((a,s,o)=>(a.push(s+(a[o-1]||0)),a),[]),r=Math.random();for(let a=0;a<n.length;a++)if(r<n[a])return a+1;return e}function qEe(e,t){const n=new Set;for(;n.size<t;){const r=Math.floor(Math.random()*e);n.add(r)}return Array.from(n)}const YC=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const HEe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ag=Array.prototype.slice.call(HEe),z0=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Ag),YEe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Kb=String.fromCharCode.bind(String),IB=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),QEe=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),oQ=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),ZEe=e=>{let t,n,r,a,s="";const o=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(a=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,s+=Ag[t>>18&63]+Ag[t>>12&63]+Ag[t>>6&63]+Ag[t&63]}return o?s.slice(0,o-3)+"===".substring(o):s},JEe=typeof btoa=="function"?e=>btoa(e):YC?e=>Buffer.from(e,"binary").toString("base64"):ZEe,OB=YC?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Kb.apply(null,e.subarray(r,r+4096)));return JEe(n.join(""))},XEe=(e,t=!1)=>t?QEe(OB(e)):OB(e),e2e=e=>{if(e=e.replace(/\s+/g,""),!YEe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n,r,a=[];for(let s=0;s<e.length;)t=z0[e.charAt(s++)]<<18|z0[e.charAt(s++)]<<12|(n=z0[e.charAt(s++)])<<6|(r=z0[e.charAt(s++)]),n===64?a.push(Kb(t>>16&255)):r===64?a.push(Kb(t>>16&255,t>>8&255)):a.push(Kb(t>>16&255,t>>8&255,t&255));return a.join("")},t2e=typeof atob=="function"?e=>atob(oQ(e)):YC?e=>Buffer.from(e,"base64").toString("binary"):e2e,n2e=YC?e=>IB(Buffer.from(e,"base64")):e=>IB(t2e(e).split("").map(t=>t.charCodeAt(0))),r2e=e=>n2e(a2e(e)),a2e=e=>oQ(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),s2e=1e4,U0=50,K0=100,n2=2e3;function G0(e,t){return(t?t.length:JSON.stringify(e).length)>s2e}function i2e(e,t){const n=t||JSON.stringify(e);return MEe(n)}function LB(e,t,n){const r=n?n.length:JSON.stringify(e).length,a=t.length,s=a/r,o=Math.ceil(r/n2),l=Math.ceil(a/n2),c=`~${o}  ${l} codes`;return{originalSize:r,compressedSize:a,compressionRatio:s,estimatedQRReduction:c}}const o2e=({onBack:e,onSwitchToScanner:t,dataType:n,loadData:r,compressData:a,title:s,description:o,noDataMessage:l})=>{var F;const[c,u]=p.useState([]),[d,f]=p.useState(0),[h,m]=p.useState(null),[g,v]=p.useState(500),[b,y]=p.useState(""),[x,w]=p.useState(!1),[S,j]=p.useState(""),k=[{label:"Default (2/sec)",value:500},{label:"Slower (1/sec)",value:1e3}];p.useEffect(()=>{(async()=>{try{const Z=await r();m(Z)}catch(Z){console.error(`Error loading ${n} data:`,Z),le.error(`Error loading ${n} data: `+(Z instanceof Error?Z.message:String(Z))),m(null)}})()},[r,n]);const N=()=>{if(!h){le.error(`No ${n} data available`);return}let W,Z="";const H=JSON.stringify(h);if(a&&G0(h,H)){W=a(h,H);const ct=LB(h,W,H);Z=`Custom compression: ${ct.originalSize}  ${ct.compressedSize} bytes (${(100-ct.compressionRatio*100).toFixed(1)}% reduction, ${ct.estimatedQRReduction})`,le.success(`Compressed ${n} data: ${(100-ct.compressionRatio*100).toFixed(1)}% size reduction!`)}else if(G0(h,H)){W=i2e(h,H);const ct=LB(h,W,H);Z=`Standard compression: ${ct.originalSize}  ${ct.compressedSize} bytes (${(100-ct.compressionRatio*100).toFixed(1)}% reduction, ${ct.estimatedQRReduction})`,le.success(`Compressed data: ${(100-ct.compressionRatio*100).toFixed(1)}% size reduction!`)}else W=new TextEncoder().encode(H),Z=`Standard JSON: ${W.length} bytes`;y(Z);const fe=Z.toLowerCase().includes("compress")?U0:K0;if(W.length<fe){le.error(`${n} data is too small (${W.length} bytes). Need at least ${fe} bytes for fountain code generation.`),console.warn(`Data too small for fountain codes: ${W.length} bytes (min: ${fe})`);return}const we=200,Pe=UEe(W,we),me=`${n}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Ue=[];let ne=0;const je=new Set;let ve=0;const re=Math.ceil(W.length/we),Ye=re<25?2.5:1.5,Fe=Math.ceil(re*Ye),Je=Fe*5;for(const ct of Pe.fountain()){if(ve++,ve>Je){console.warn(` Reached maximum iterations (${Je}), stopping generation with ${Ue.length} packets`),console.warn(`Target was ${Fe} packets, achieved ${Math.round(Ue.length/Fe*100)}%`);break}if(Ue.length>=Fe)break;try{const be=ct.indices.sort().join(",");if(je.has(be))continue;je.add(be);const Ce=FEe(ct),oe=XEe(Ce),xt={type:`${n}_fountain_packet`,sessionId:me,packetId:ne,k:ct.k,bytes:ct.bytes,checksum:String(ct.checksum),indices:ct.indices,data:oe},rt=JSON.stringify(xt);if(rt.length>n2*.9){console.warn(` Packet ${ne} too large (${rt.length} chars), skipping`);continue}Ue.push(xt),ne++}catch(be){console.error(`Error generating packet ${ne}:`,be);break}}u(Ue),f(0),w(!1),j("");const Le=k.find(ct=>ct.value===g),lt=Math.round(Ue.length*g/1e3);le.success(`Generated ${Ue.length} packets - cycling at ${Le==null?void 0:Le.label}! (~${lt}s per cycle)`)};p.useEffect(()=>{if(c.length>0&&!x){const W=setInterval(()=>{f(Z=>(Z+1)%c.length)},g);return()=>clearInterval(W)}},[c.length,g,x]);const P=()=>{w(!x)},E=()=>{f(W=>(W+1)%c.length)},R=()=>{f(W=>(W-1+c.length)%c.length)},O=()=>{const W=parseInt(S);W>=1&&W<=c.length?(f(W-1),j(""),le.success(`Jumped to packet ${W}`)):le.error(`Invalid packet number. Must be between 1 and ${c.length}`)},G=()=>{f(0)},te=()=>{f(c.length-1)},V=()=>{if(!h)return!1;const W=JSON.stringify(h),H=G0(h,W)?U0:K0;return new TextEncoder().encode(W).length>=H},z=()=>{if(!h)return null;const W=JSON.stringify(h),Z=G0(h,W),H=Z?U0:K0,ae=new TextEncoder().encode(W);return{size:ae.length,sufficient:ae.length>=H,compressed:Z}},$=c[d],U=(F=k.find(W=>W.value===g))==null?void 0:F.label,M=z();return i.jsx("div",{className:"min-h-screen w-full flex flex-col items-center gap-6 px-4 pt-16 pb-6",children:i.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md w-full pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx(X,{onClick:e,variant:"ghost",size:"sm",className:"flex items-center gap-2",children:" Back"}),t&&i.jsx(X,{onClick:t,variant:"outline",size:"sm",children:"Switch to Scanner"})]}),i.jsx(_e,{className:"w-full",children:i.jsxs(Ge,{children:[i.jsx(We,{children:s}),i.jsx(zn,{children:o})]})}),c.length===0?i.jsxs(_e,{className:"w-full",children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Generator Settings"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"w-full",children:[i.jsx("p",{className:"text-sm font-medium mb-2 text-center",children:"Cycle Speed:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.map(W=>i.jsx(X,{variant:g===W.value?"default":"outline",size:"sm",onClick:()=>v(W.value),className:"text-xs",children:W.label},W.value))})]}),i.jsx(X,{onClick:N,className:"w-full h-12",disabled:!V(),children:"Generate & Start Auto-Cycling"}),h?h&&!V()?i.jsx(sr,{variant:"destructive",children:i.jsxs(gr,{className:"col-span-2",children:[n," data is too small (",(M==null?void 0:M.size)||0," bytes). Need at least ",M!=null&&M.compressed?U0:K0," bytes for fountain code generation.",(M==null?void 0:M.compressed)&&" (Compressed data threshold)"]})}):null:i.jsx(sr,{variant:"destructive",children:i.jsx(gr,{children:l})})]})]}):i.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[i.jsxs(sr,{children:[i.jsx(OC,{className:"col-span-2",children:" Scanning Instructions"}),i.jsxs(gr,{className:"col-span-2",children:["Point your scanner at the QR code. Use playback controls to pause, navigate, or jump to specific packets. Estimated time per cycle: ",Math.round(c.length*g/1e3),"s"]})]}),i.jsx(_e,{className:"w-full",children:i.jsx($e,{className:"p-4 flex justify-center",children:$&&i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:i.jsx(CY,{value:JSON.stringify($),size:300,level:"L",includeMargin:!1})})})}),i.jsxs(_e,{className:"w-full",children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-sm",children:"Speed & Playback Controls"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"w-full",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Cycle Speed:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.map(W=>i.jsx(X,{variant:g===W.value?"default":"outline",size:"sm",onClick:()=>v(W.value),className:"text-xs",children:W.label},W.value))})]}),i.jsxs("div",{className:"w-full",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Navigation:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{onClick:G,variant:"outline",size:"sm",className:"flex-1",children:i.jsx(sde,{className:"h-4 w-4"})}),i.jsx(X,{onClick:R,variant:"outline",size:"sm",className:"flex-1",children:i.jsx(Lfe,{className:"h-4 w-4"})}),i.jsxs(X,{onClick:P,variant:x?"default":"secondary",size:"sm",className:"flex-2",children:[x?i.jsx(yfe,{className:"h-4 w-4 mr-1"}):i.jsx(gfe,{className:"h-4 w-4 mr-1"}),x?"Play":"Pause"]}),i.jsx(X,{onClick:E,variant:"outline",size:"sm",className:"flex-1",children:i.jsx(Ffe,{className:"h-4 w-4"})}),i.jsx(X,{onClick:te,variant:"outline",size:"sm",className:"flex-1",children:i.jsx(ode,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"w-full",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Jump to Packet:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(en,{type:"number",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Packet #",value:S,onChange:W=>{const Z=W.target.value;(Z===""||/^\d+$/.test(Z))&&j(Z)},min:"1",max:c.length,className:"flex-1"}),i.jsx(X,{onClick:O,variant:"outline",size:"sm",disabled:!S||parseInt(S)<1||parseInt(S)>c.length,children:"Jump"})]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Iy,{className:"inline mt-0.5 text-muted-foreground shrink-0",size:16}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"If unable to get final packets, try slowing down the cycle speed or use manual navigation."})]})]})]}),$&&i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(We,{className:"text-lg",children:["Packet #",$.packetId+1]}),i.jsx(Oe,{variant:"outline",children:U})]}),i.jsxs(zn,{children:["Broadcasting ",c.length," fountain packets",b&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:b})]})]}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Indices:"}),i.jsx("span",{className:"ml-1 break-all",children:$.indices.length>20?`[${$.indices.slice(0,20).join(",")}...+${$.indices.length-20} more]`:`[${$.indices.join(",")}]`})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"K:"})," ",$.k," | ",i.jsx("span",{className:"font-medium",children:"Bytes:"})," ",$.bytes]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Checksum:"})," ",String($.checksum).slice(0,8),"..."]})]}),i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Current cycle:"}),i.jsxs("span",{children:[d+1,"/",c.length]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all ease-linear",style:{width:`${(d+1)/c.length*100}%`,transitionDuration:`${g}ms`}})})]})]})]}),i.jsx(X,{onClick:()=>{u([]),f(0),w(!1),j("")},variant:"secondary",className:"w-full",children:"Stop & Generate New Packets"})]})]})})};var lQ=e=>{throw TypeError(e)},cQ=(e,t,n)=>t.has(e)||lQ("Cannot "+n),l2e=(e,t,n)=>(cQ(e,t,"read from private field"),n?n.call(e):t.get(e)),c2e=(e,t,n)=>t.has(e)?lQ("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),u2e=(e,t,n,r)=>(cQ(e,t,"write to private field"),t.set(e,n),n);const QC=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],ZC=QC.map(([e])=>e),d2e=ZC.filter((e,t)=>QC[t][1]==="L"),f2e=ZC.filter((e,t)=>QC[t][1]==="M");function r2(e){switch(e){case"Linear-Codes":return d2e.reduce((t,n)=>t|r2(n),0);case"Matrix-Codes":return f2e.reduce((t,n)=>t|r2(n),0);case"Any":return(1<<QC.length)-1;case"None":return 0;default:return 1<<ZC.indexOf(e)}}function h2e(e){if(e===0)return"None";const t=31-Math.clz32(e);return ZC[t]}function m2e(e){return e.reduce((t,n)=>t|r2(n),0)}const p2e=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function g2e(e){return p2e.indexOf(e)}const $B=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function v2e(e){return e==="UnicodeBig"?$B.indexOf("UTF16BE"):$B.indexOf(e)}const y2e=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function x2e(e){return y2e[e]}const b2e=["Ignore","Read","Require"];function w2e(e){return b2e.indexOf(e)}const S2e=["Plain","ECI","HRI","Hex","Escaped"];function C2e(e){return S2e.indexOf(e)}const b1={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function FB(e){return{...e,formats:m2e(e.formats),binarizer:g2e(e.binarizer),eanAddOnSymbol:w2e(e.eanAddOnSymbol),textMode:C2e(e.textMode),characterSet:v2e(e.characterSet)}}function j2e(e){return{...e,format:h2e(e.format),contentType:x2e(e.contentType),eccLevel:e.ecLevel}}const N2e={locateFile:(e,t)=>{const n=e.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.2.4/dist/${n[1]}/${e}`:t+e}},eA=new WeakMap;function k2e(e,t){return Object.is(e,t)||Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>Object.hasOwn(t,n)&&e[n]===t[n])}function uQ(e,{overrides:t,equalityFn:n=k2e,fireImmediately:r=!1}={}){var a;const[s,o]=(a=eA.get(e))!=null?a:[N2e],l=t??s;let c;if(r){if(o&&(c=n(s,l)))return o;const u=e({...l});return eA.set(e,[l,u]),u}(c??n(s,l))||eA.set(e,[l])}async function A2e(e,t,n=b1){const r={...b1,...n},a=await uQ(e,{fireImmediately:!0});let s,o;if("width"in t&&"height"in t&&"data"in t){const{data:c,data:{byteLength:u},width:d,height:f}=t;o=a._malloc(u),a.HEAPU8.set(c,o),s=a.readBarcodesFromPixmap(o,d,f,FB(r))}else{let c,u;if("buffer"in t)[c,u]=[t.byteLength,t];else if("byteLength"in t)[c,u]=[t.byteLength,new Uint8Array(t)];else if("size"in t)[c,u]=[t.size,new Uint8Array(await t.arrayBuffer())];else throw new TypeError("Invalid input type");o=a._malloc(c),a.HEAPU8.set(u,o),s=a.readBarcodesFromImage(o,c,FB(r))}a._free(o);const l=[];for(let c=0;c<s.size();++c)l.push(j2e(s.get(c)));return l}({...b1,formats:[...b1.formats]});async function dQ(e={}){var t,n,r,a=e,s=!!globalThis.window,o=typeof Bun<"u",l=!!globalThis.WorkerGlobalScope;!((n=globalThis.process)===null||n===void 0||(n=n.versions)===null||n===void 0)&&n.node&&((r=globalThis.process)===null||r===void 0?void 0:r.type)!="renderer";var c="./this.program",u,d="";function f(T){return a.locateFile?a.locateFile(T,d):d+T}var h,m;if(s||l||o){try{d=new URL(".",u).href}catch{}l&&(m=T=>{var _=new XMLHttpRequest;return _.open("GET",T,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),h=async T=>{var _=await fetch(T,{credentials:"same-origin"});if(_.ok)return _.arrayBuffer();throw new Error(_.status+" : "+_.url)}}var g=console.log.bind(console),v=console.error.bind(console),b,y=!1,x,w,S,j,k,N,P,E,R,O,G=!1;function te(){var T=Mf.buffer;S=new Int8Array(T),k=new Int16Array(T),a.HEAPU8=j=new Uint8Array(T),N=new Uint16Array(T),P=new Int32Array(T),E=new Uint32Array(T),R=new Float32Array(T),O=new Float64Array(T)}function V(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)je(a.preRun.shift());Pe(ne)}function z(){G=!0,Se.xa()}function $(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Ue(a.postRun.shift());Pe(me)}function U(T){var _,L;(_=a.onAbort)===null||_===void 0||_.call(a,T),T="Aborted("+T+")",v(T),y=!0,T+=". Build with -sASSERTIONS for more info.";var K=new WebAssembly.RuntimeError(T);throw(L=w)===null||L===void 0||L(K),K}var M;function F(){return f("zxing_reader.wasm")}function W(T){if(T==M&&b)return new Uint8Array(b);if(m)return m(T);throw"both async and sync fetching of the wasm failed"}async function Z(T){if(!b)try{var _=await h(T);return new Uint8Array(_)}catch{}return W(T)}async function H(T,_){try{var L=await Z(T),K=await WebAssembly.instantiate(L,_);return K}catch(Y){v(`failed to asynchronously prepare wasm: ${Y}`),U(Y)}}async function ae(T,_,L){if(!T&&WebAssembly.instantiateStreaming)try{var K=fetch(_,{credentials:"same-origin"}),Y=await WebAssembly.instantiateStreaming(K,L);return Y}catch(J){v(`wasm streaming compile failed: ${J}`),v("falling back to ArrayBuffer instantiation")}return H(_,L)}function fe(){var T={a:Jx};return T}async function we(){function T(J,ie){return Se=J.exports,NN(Se),te(),Se}function _(J){return T(J.instance)}var L=fe();if(a.instantiateWasm)return new Promise((J,ie)=>{a.instantiateWasm(L,(de,xe)=>{J(T(de))})});M!=null||(M=F());var K=await ae(b,M,L),Y=_(K);return Y}var Pe=T=>{for(;T.length>0;)T.shift()(a)},me=[],Ue=T=>me.push(T),ne=[],je=T=>ne.push(T),ve=T=>Dp(T),re=()=>Qx(),Ye=[],Fe=0,Je=T=>{var _=new ct(T);return _.get_caught()||(_.set_caught(!0),Fe--),_.set_rethrown(!1),Ye.push(_),Pu(T),Ef(T)},Le=0,lt=()=>{Kt(0,0);var T=Ye.pop();_f(T.excPtr),Le=0};class ct{constructor(_){this.excPtr=_,this.ptr=_-24}set_type(_){E[this.ptr+4>>2]=_}get_type(){return E[this.ptr+4>>2]}set_destructor(_){E[this.ptr+8>>2]=_}get_destructor(){return E[this.ptr+8>>2]}set_caught(_){_=_?1:0,S[this.ptr+12]=_}get_caught(){return S[this.ptr+12]!=0}set_rethrown(_){_=_?1:0,S[this.ptr+13]=_}get_rethrown(){return S[this.ptr+13]!=0}init(_,L){this.set_adjusted_ptr(0),this.set_type(_),this.set_destructor(L)}set_adjusted_ptr(_){E[this.ptr+16>>2]=_}get_adjusted_ptr(){return E[this.ptr+16>>2]}}var be=T=>Tf(T),Ce=T=>{var _=Le;if(!_)return be(0),0;var L=new ct(_);L.set_adjusted_ptr(_);var K=L.get_type();if(!K)return be(0),_;for(var Y of T){if(Y===0||Y===K)break;var J=L.ptr+16;if(Zx(Y,K,J))return be(Y),_}return be(K),_},oe=()=>Ce([]),xt=T=>Ce([T]),rt=(T,_)=>Ce([T,_]),Rt=()=>{var T=Ye.pop();T||U("no exception to throw");var _=T.excPtr;throw T.get_rethrown()||(Ye.push(T),T.set_rethrown(!0),T.set_caught(!1),Fe++),Le=_,Le},zt=(T,_,L)=>{var K=new ct(T);throw K.init(_,L),Le=T,Fe++,Le},Pt=()=>Fe,It=T=>{throw Le||(Le=T),Le},an=()=>U(""),Jt={},jn=T=>{for(;T.length;){var _=T.pop(),L=T.pop();L(_)}};function Re(T){return this.fromWireType(E[T>>2])}var Ke={},Q={},ke={},He=class extends Error{constructor(T){super(T),this.name="InternalError"}},Be=T=>{throw new He(T)},tt=(T,_,L)=>{T.forEach(de=>ke[de]=_);function K(de){var xe=L(de);xe.length!==T.length&&Be("Mismatched type converter count");for(var Te=0;Te<T.length;++Te)yr(T[Te],xe[Te])}var Y=new Array(_.length),J=[],ie=0;{const de=_;for(let xe=0;xe<de.length;++xe){const Te=de[xe];Q.hasOwnProperty(Te)?Y[xe]=Q[Te]:(J.push(Te),Ke.hasOwnProperty(Te)||(Ke[Te]=[]),Ke[Te].push(()=>{Y[xe]=Q[Te],++ie,ie===J.length&&K(Y)}))}}J.length===0&&K(Y)},nt=T=>{var _=Jt[T];delete Jt[T];var L=_.rawConstructor,K=_.rawDestructor,Y=_.fields,J=Y.map(ie=>ie.getterReturnType).concat(Y.map(ie=>ie.setterArgumentType));tt([T],J,ie=>{var de={};{const xe=Y;for(let Te=0;Te<xe.length;++Te){const Ie=xe[Te],Ve=ie[Te],Xe=Ie.getter,mt=Ie.getterContext,Ct=ie[Te+Y.length],jt=Ie.setter,Qt=Ie.setterContext;de[Ie.fieldName]={read:ft=>Ve.fromWireType(Xe(mt,ft)),write:(ft,Kn)=>{var ln=[];jt(Qt,ft,Ct.toWireType(ln,Kn)),jn(ln)},optional:Ve.optional}}}return[{name:_.name,fromWireType:xe=>{var Te={};for(var Ie in de)Te[Ie]=de[Ie].read(xe);return K(xe),Te},toWireType:(xe,Te)=>{for(var Ie in de)if(!(Ie in Te)&&!de[Ie].optional)throw new TypeError(`Missing field: "${Ie}"`);var Ve=L();for(Ie in de)de[Ie].write(Ve,Te[Ie]);return xe!==null&&xe.push(K,Ve),Ve},readValueFromPointer:Re,destructorFunction:K}]})},bt=(T,_,L,K,Y)=>{},ze=T=>{for(var _="";;){var L=j[T++];if(!L)return _;_+=String.fromCharCode(L)}},Nn=class extends Error{constructor(T){super(T),this.name="BindingError"}},Nt=T=>{throw new Nn(T)};function vr(T,_){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var K=_.name;if(T||Nt(`type "${K}" must have a positive integer typeid pointer`),Q.hasOwnProperty(T)){if(L.ignoreDuplicateRegistrations)return;Nt(`Cannot register type '${K}' twice`)}if(Q[T]=_,delete ke[T],Ke.hasOwnProperty(T)){var Y=Ke[T];delete Ke[T],Y.forEach(J=>J())}}function yr(T,_){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return vr(T,_,L)}var _t=(T,_,L,K)=>{_=ze(_),yr(T,{name:_,fromWireType:function(Y){return!!Y},toWireType:function(Y,J){return J?L:K},readValueFromPointer:function(Y){return this.fromWireType(j[Y])},destructorFunction:null})},pt=T=>({count:T.count,deleteScheduled:T.deleteScheduled,preservePointerOnDelete:T.preservePointerOnDelete,ptr:T.ptr,ptrType:T.ptrType,smartPtr:T.smartPtr,smartPtrType:T.smartPtrType}),Tt=T=>{function _(L){return L.$$.ptrType.registeredClass.name}Nt(_(T)+" instance already deleted")},kn=!1,Xn=T=>{},ja=T=>{T.smartPtr?T.smartPtrType.rawDestructor(T.smartPtr):T.ptrType.registeredClass.rawDestructor(T.ptr)},ue=T=>{T.count.value-=1;var _=T.count.value===0;_&&ja(T)},he=T=>globalThis.FinalizationRegistry?(kn=new FinalizationRegistry(_=>{ue(_.$$)}),he=_=>{var L=_.$$,K=!!L.smartPtr;if(K){var Y={$$:L};kn.register(_,Y,_)}return _},Xn=_=>kn.unregister(_),he(T)):(he=_=>_,T),Ee=()=>{let T=Qe.prototype;Object.assign(T,{isAliasOf(L){if(!(this instanceof Qe)||!(L instanceof Qe))return!1;var K=this.$$.ptrType.registeredClass,Y=this.$$.ptr;L.$$=L.$$;for(var J=L.$$.ptrType.registeredClass,ie=L.$$.ptr;K.baseClass;)Y=K.upcast(Y),K=K.baseClass;for(;J.baseClass;)ie=J.upcast(ie),J=J.baseClass;return K===J&&Y===ie},clone(){if(this.$$.ptr||Tt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var L=he(Object.create(Object.getPrototypeOf(this),{$$:{value:pt(this.$$)}}));return L.$$.count.value+=1,L.$$.deleteScheduled=!1,L},delete(){this.$$.ptr||Tt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Nt("Object already scheduled for deletion"),Xn(this),ue(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Tt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Nt("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const _=Symbol.dispose;_&&(T[_]=T.delete)};function Qe(){}var at=(T,_)=>Object.defineProperty(_,"name",{value:T}),St={},Dt=(T,_,L)=>{if(T[_].overloadTable===void 0){var K=T[_];T[_]=function(){for(var Y=arguments.length,J=new Array(Y),ie=0;ie<Y;ie++)J[ie]=arguments[ie];return T[_].overloadTable.hasOwnProperty(J.length)||Nt(`Function '${L}' called with an invalid number of arguments (${J.length}) - expects one of (${T[_].overloadTable})!`),T[_].overloadTable[J.length].apply(this,J)},T[_].overloadTable=[],T[_].overloadTable[K.argCount]=K}},gt=(T,_,L)=>{a.hasOwnProperty(T)?((L===void 0||a[T].overloadTable!==void 0&&a[T].overloadTable[L]!==void 0)&&Nt(`Cannot register public name '${T}' twice`),Dt(a,T,T),a[T].overloadTable.hasOwnProperty(L)&&Nt(`Cannot register multiple overloads of a function with the same number of arguments (${L})!`),a[T].overloadTable[L]=_):(a[T]=_,a[T].argCount=L)},dt=48,ut=57,ht=T=>{T=T.replace(/[^a-zA-Z0-9_]/g,"$");var _=T.charCodeAt(0);return _>=dt&&_<=ut?`_${T}`:T};function Bt(T,_,L,K,Y,J,ie,de){this.name=T,this.constructor=_,this.instancePrototype=L,this.rawDestructor=K,this.baseClass=Y,this.getActualType=J,this.upcast=ie,this.downcast=de,this.pureVirtualFunctions=[]}var Ht=(T,_,L)=>{for(;_!==L;)_.upcast||Nt(`Expected null or instance of ${L.name}, got an instance of ${_.name}`),T=_.upcast(T),_=_.baseClass;return T},mn=T=>{if(T===null)return"null";var _=typeof T;return _==="object"||_==="array"||_==="function"?T.toString():""+T};function dn(T,_){if(_===null)return this.isReference&&Nt(`null is not a valid ${this.name}`),0;_.$$||Nt(`Cannot pass "${mn(_)}" as a ${this.name}`),_.$$.ptr||Nt(`Cannot pass deleted object as a pointer of type ${this.name}`);var L=_.$$.ptrType.registeredClass,K=Ht(_.$$.ptr,L,this.registeredClass);return K}function Wt(T,_){var L;if(_===null)return this.isReference&&Nt(`null is not a valid ${this.name}`),this.isSmartPointer?(L=this.rawConstructor(),T!==null&&T.push(this.rawDestructor,L),L):0;(!_||!_.$$)&&Nt(`Cannot pass "${mn(_)}" as a ${this.name}`),_.$$.ptr||Nt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&_.$$.ptrType.isConst&&Nt(`Cannot convert argument of type ${_.$$.smartPtrType?_.$$.smartPtrType.name:_.$$.ptrType.name} to parameter type ${this.name}`);var K=_.$$.ptrType.registeredClass;if(L=Ht(_.$$.ptr,K,this.registeredClass),this.isSmartPointer)switch(_.$$.smartPtr===void 0&&Nt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:_.$$.smartPtrType===this?L=_.$$.smartPtr:Nt(`Cannot convert argument of type ${_.$$.smartPtrType?_.$$.smartPtrType.name:_.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:L=_.$$.smartPtr;break;case 2:if(_.$$.smartPtrType===this)L=_.$$.smartPtr;else{var Y=_.clone();L=this.rawShare(L,Ia.toHandle(()=>Y.delete())),T!==null&&T.push(this.rawDestructor,L)}break;default:Nt("Unsupporting sharing policy")}return L}function An(T,_){if(_===null)return this.isReference&&Nt(`null is not a valid ${this.name}`),0;_.$$||Nt(`Cannot pass "${mn(_)}" as a ${this.name}`),_.$$.ptr||Nt(`Cannot pass deleted object as a pointer of type ${this.name}`),_.$$.ptrType.isConst&&Nt(`Cannot convert argument of type ${_.$$.ptrType.name} to parameter type ${this.name}`);var L=_.$$.ptrType.registeredClass,K=Ht(_.$$.ptr,L,this.registeredClass);return K}var Cs=(T,_,L)=>{if(_===L)return T;if(L.baseClass===void 0)return null;var K=Cs(T,_,L.baseClass);return K===null?null:L.downcast(K)},vn={},Rr=(T,_)=>{for(_===void 0&&Nt("ptr should not be undefined");T.baseClass;)_=T.upcast(_),T=T.baseClass;return _},cr=(T,_)=>(_=Rr(T,_),vn[_]),Ci=(T,_)=>{(!_.ptrType||!_.ptr)&&Be("makeClassHandle requires ptr and ptrType");var L=!!_.smartPtrType,K=!!_.smartPtr;return L!==K&&Be("Both smartPtrType and smartPtr must be specified"),_.count={value:1},he(Object.create(T,{$$:{value:_,writable:!0}}))};function ns(T){var _=this.getPointee(T);if(!_)return this.destructor(T),null;var L=cr(this.registeredClass,_);if(L!==void 0){if(L.$$.count.value===0)return L.$$.ptr=_,L.$$.smartPtr=T,L.clone();var K=L.clone();return this.destructor(T),K}function Y(){return this.isSmartPointer?Ci(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:_,smartPtrType:this,smartPtr:T}):Ci(this.registeredClass.instancePrototype,{ptrType:this,ptr:T})}var J=this.registeredClass.getActualType(_),ie=St[J];if(!ie)return Y.call(this);var de;this.isConst?de=ie.constPointerType:de=ie.pointerType;var xe=Cs(_,this.registeredClass,de.registeredClass);return xe===null?Y.call(this):this.isSmartPointer?Ci(de.registeredClass.instancePrototype,{ptrType:de,ptr:xe,smartPtrType:this,smartPtr:T}):Ci(de.registeredClass.instancePrototype,{ptrType:de,ptr:xe})}var rs=()=>{Object.assign(js.prototype,{getPointee(T){return this.rawGetPointee&&(T=this.rawGetPointee(T)),T},destructor(T){var _;(_=this.rawDestructor)===null||_===void 0||_.call(this,T)},readValueFromPointer:Re,fromWireType:ns})};function js(T,_,L,K,Y,J,ie,de,xe,Te,Ie){this.name=T,this.registeredClass=_,this.isReference=L,this.isConst=K,this.isSmartPointer=Y,this.pointeeType=J,this.sharingPolicy=ie,this.rawGetPointee=de,this.rawConstructor=xe,this.rawShare=Te,this.rawDestructor=Ie,!Y&&_.baseClass===void 0?K?(this.toWireType=dn,this.destructorFunction=null):(this.toWireType=An,this.destructorFunction=null):this.toWireType=Wt}var ji=(T,_,L)=>{a.hasOwnProperty(T)||Be("Replacing nonexistent public symbol"),a[T].overloadTable!==void 0&&L!==void 0?a[T].overloadTable[L]=_:(a[T]=_,a[T].argCount=L)},Ot={},Pn=(T,_,L)=>{T=T.replace(/p/g,"i");var K=Ot[T];return K(_,...L)},as=[],Ut=T=>{var _=as[T];return _||(as[T]=_=Rp.get(T)),_},Et=function(T,_){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(T.includes("j"))return Pn(T,_,L);var K=Ut(_),Y=K(...L);return Y},Ni=function(T,_){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var K=arguments.length,Y=new Array(K),J=0;J<K;J++)Y[J]=arguments[J];return Et(T,_,Y,L)}},fa=function(T,_){T=ze(T);function L(){if(T.includes("j"))return Ni(T,_);var Y=Ut(_);return Y}var K=L();return typeof K!="function"&&Nt(`unknown function pointer with signature ${T}: ${_}`),K};class Jl extends Error{}var Xl=T=>{var _=Pf(T),L=ze(_);return Na(_),L},bu=(T,_)=>{var L=[],K={};function Y(J){if(!K[J]&&!Q[J]){if(ke[J]){ke[J].forEach(Y);return}L.push(J),K[J]=!0}}throw _.forEach(Y),new Jl(`${T}: `+L.map(Xl).join([", "]))},$x=(T,_,L,K,Y,J,ie,de,xe,Te,Ie,Ve,Xe)=>{Ie=ze(Ie),J=fa(Y,J),de&&(de=fa(ie,de)),Te&&(Te=fa(xe,Te)),Xe=fa(Ve,Xe);var mt=ht(Ie);gt(mt,function(){bu(`Cannot construct ${Ie} due to unbound types`,[K])}),tt([T,_,L],K?[K]:[],Ct=>{Ct=Ct[0];var jt,Qt;K?(jt=Ct.registeredClass,Qt=jt.instancePrototype):Qt=Qe.prototype;var ft=at(Ie,function(){if(Object.getPrototypeOf(this)!==Kn)throw new Nn(`Use 'new' to construct ${Ie}`);if(ln.constructor_body===void 0)throw new Nn(`${Ie} has no accessible constructor`);for(var QO=arguments.length,s0=new Array(QO),i0=0;i0<QO;i0++)s0[i0]=arguments[i0];var ZO=ln.constructor_body[s0.length];if(ZO===void 0)throw new Nn(`Tried to invoke ctor of ${Ie} with invalid number of parameters (${s0.length}) - expected (${Object.keys(ln.constructor_body).toString()}) parameters instead!`);return ZO.apply(this,s0)}),Kn=Object.create(Qt,{constructor:{value:ft}});ft.prototype=Kn;var ln=new Bt(Ie,ft,Kn,Xe,jt,J,de,Te);if(ln.baseClass){var is,Nr;(Nr=(is=ln.baseClass).__derivedClasses)!==null&&Nr!==void 0||(is.__derivedClasses=[]),ln.baseClass.__derivedClasses.push(ln)}var Xo=new js(Ie,ln,!0,!1,!1),Lf=new js(Ie+"*",ln,!1,!1,!1),YO=new js(Ie+" const*",ln,!1,!0,!1);return St[T]={pointerType:Lf,constPointerType:YO},ji(mt,ft),[Xo,Lf,YO]})},vf=(T,_)=>{for(var L=[],K=0;K<T;K++)L.push(E[_+K*4>>2]);return L};function Sn(T){for(var _=1;_<T.length;++_)if(T[_]!==null&&T[_].destructorFunction===void 0)return!0;return!1}function Ho(T,_,L,K,Y,J){var ie=_.length;ie<2&&Nt("argTypes array size mismatch! Must at least get return value and 'this' types!");var de=_[1]!==null&&L!==null,xe=Sn(_),Te=!_[0].isVoid,Ie=ie-2,Ve=new Array(Ie),Xe=[],mt=[],Ct=function(){mt.length=0;var jt;Xe.length=de?2:1,Xe[0]=Y,de&&(jt=_[1].toWireType(mt,this),Xe[1]=jt);for(var Qt=0;Qt<Ie;++Qt)Ve[Qt]=_[Qt+2].toWireType(mt,Qt<0||arguments.length<=Qt?void 0:arguments[Qt]),Xe.push(Ve[Qt]);var ft=K(...Xe);function Kn(ln){if(xe)jn(mt);else for(var is=de?1:2;is<_.length;is++){var Nr=is===1?jt:Ve[is-2];_[is].destructorFunction!==null&&_[is].destructorFunction(Nr)}if(Te)return _[0].fromWireType(ln)}return Kn(ft)};return at(T,Ct)}var wu=(T,_,L,K,Y,J)=>{var ie=vf(_,L);Y=fa(K,Y),tt([],[T],de=>{de=de[0];var xe=`constructor ${de.name}`;if(de.registeredClass.constructor_body===void 0&&(de.registeredClass.constructor_body=[]),de.registeredClass.constructor_body[_-1]!==void 0)throw new Nn(`Cannot register multiple constructors with identical number of parameters (${_-1}) for class '${de.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return de.registeredClass.constructor_body[_-1]=()=>{bu(`Cannot construct ${de.name} due to unbound types`,ie)},tt([],ie,Te=>(Te.splice(1,0,null),de.registeredClass.constructor_body[_-1]=Ho(xe,Te,null,Y,J),[])),[]})},Yo=T=>{T=T.trim();const _=T.indexOf("(");return _===-1?T:T.slice(0,_)},bp=(T,_,L,K,Y,J,ie,de,xe,Te)=>{var Ie=vf(L,K);_=ze(_),_=Yo(_),J=fa(Y,J),tt([],[T],Ve=>{Ve=Ve[0];var Xe=`${Ve.name}.${_}`;_.startsWith("@@")&&(_=Symbol[_.substring(2)]),de&&Ve.registeredClass.pureVirtualFunctions.push(_);function mt(){bu(`Cannot call ${Xe} due to unbound types`,Ie)}var Ct=Ve.registeredClass.instancePrototype,jt=Ct[_];return jt===void 0||jt.overloadTable===void 0&&jt.className!==Ve.name&&jt.argCount===L-2?(mt.argCount=L-2,mt.className=Ve.name,Ct[_]=mt):(Dt(Ct,_,Xe),Ct[_].overloadTable[L-2]=mt),tt([],Ie,Qt=>{var ft=Ho(Xe,Qt,Ve,J,ie);return Ct[_].overloadTable===void 0?(ft.argCount=L-2,Ct[_]=ft):Ct[_].overloadTable[L-2]=ft,[]}),[]})},yf=[],Ys=[0,1,,1,null,1,!0,1,!1,1],xf=T=>{T>9&&--Ys[T+1]===0&&(Ys[T]=void 0,yf.push(T))},Ia={toValue:T=>(T||Nt(`Cannot use deleted val. handle = ${T}`),Ys[T]),toHandle:T=>{switch(T){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const _=yf.pop()||Ys.length;return Ys[_]=T,Ys[_+1]=1,_}}}},wp={name:"emscripten::val",fromWireType:T=>{var _=Ia.toValue(T);return xf(T),_},toWireType:(T,_)=>Ia.toHandle(_),readValueFromPointer:Re,destructorFunction:null},vN=T=>yr(T,wp),sn=(T,_)=>{switch(_){case 4:return function(L){return this.fromWireType(R[L>>2])};case 8:return function(L){return this.fromWireType(O[L>>3])};default:throw new TypeError(`invalid float width (${_}): ${T}`)}},Fx=(T,_,L)=>{_=ze(_),yr(T,{name:_,fromWireType:K=>K,toWireType:(K,Y)=>Y,readValueFromPointer:sn(_,L),destructorFunction:null})},yN=(T,_,L,K,Y,J,ie,de)=>{var xe=vf(_,L);T=ze(T),T=Yo(T),Y=fa(K,Y),gt(T,function(){bu(`Cannot call ${T} due to unbound types`,xe)},_-1),tt([],xe,Te=>{var Ie=[Te[0],null].concat(Te.slice(1));return ji(T,Ho(T,Ie,null,Y,J),_-1),[]})},xN=(T,_,L)=>{switch(_){case 1:return L?K=>S[K]:K=>j[K];case 2:return L?K=>k[K>>1]:K=>N[K>>1];case 4:return L?K=>P[K>>2]:K=>E[K>>2];default:throw new TypeError(`invalid integer width (${_}): ${T}`)}},Oa=(T,_,L,K,Y)=>{_=ze(_);const J=K===0;let ie=xe=>xe;if(J){var de=32-8*L;ie=xe=>xe<<de>>>de,Y=ie(Y)}yr(T,{name:_,fromWireType:ie,toWireType:(xe,Te)=>Te,readValueFromPointer:xN(_,L,K!==0),destructorFunction:null})},ec=(T,_,L)=>{var K=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Y=K[_];function J(ie){var de=E[ie>>2],xe=E[ie+4>>2];return new Y(S.buffer,xe,de)}L=ze(L),yr(T,{name:L,fromWireType:J,readValueFromPointer:J},{ignoreDuplicateRegistrations:!0})},bf=Object.assign({optional:!0},wp),io=(T,_)=>{yr(T,bf)},Bx=(T,_,L,K)=>{if(!(K>0))return 0;for(var Y=L,J=L+K-1,ie=0;ie<T.length;++ie){var de=T.codePointAt(ie);if(de<=127){if(L>=J)break;_[L++]=de}else if(de<=2047){if(L+1>=J)break;_[L++]=192|de>>6,_[L++]=128|de&63}else if(de<=65535){if(L+2>=J)break;_[L++]=224|de>>12,_[L++]=128|de>>6&63,_[L++]=128|de&63}else{if(L+3>=J)break;_[L++]=240|de>>18,_[L++]=128|de>>12&63,_[L++]=128|de>>6&63,_[L++]=128|de&63,ie++}}return _[L]=0,L-Y},Qo=(T,_,L)=>Bx(T,j,_,L),xr=T=>{for(var _=0,L=0;L<T.length;++L){var K=T.charCodeAt(L);K<=127?_++:K<=2047?_+=2:K>=55296&&K<=57343?(_+=4,++L):_+=3}return _},Ns=globalThis.TextDecoder&&new TextDecoder,tc=(T,_,L,K)=>{var Y=_+L;if(K)return Y;for(;T[_]&&!(_>=Y);)++_;return _},nc=function(T){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=arguments.length>2?arguments[2]:void 0,K=arguments.length>3?arguments[3]:void 0;var Y=tc(T,_,L,K);if(Y-_>16&&T.buffer&&Ns)return Ns.decode(T.subarray(_,Y));for(var J="";_<Y;){var ie=T[_++];if(!(ie&128)){J+=String.fromCharCode(ie);continue}var de=T[_++]&63;if((ie&224)==192){J+=String.fromCharCode((ie&31)<<6|de);continue}var xe=T[_++]&63;if((ie&240)==224?ie=(ie&15)<<12|de<<6|xe:ie=(ie&7)<<18|de<<12|xe<<6|T[_++]&63,ie<65536)J+=String.fromCharCode(ie);else{var Te=ie-65536;J+=String.fromCharCode(55296|Te>>10,56320|Te&1023)}}return J},Sp=(T,_,L)=>T?nc(j,T,_,L):"",oo=(T,_)=>{_=ze(_),yr(T,{name:_,fromWireType(L){var K=E[L>>2],Y=L+4,J;return J=Sp(Y,K,!0),Na(L),J},toWireType(L,K){K instanceof ArrayBuffer&&(K=new Uint8Array(K));var Y,J=typeof K=="string";J||ArrayBuffer.isView(K)&&K.BYTES_PER_ELEMENT==1||Nt("Cannot pass non-string to std::string"),J?Y=xr(K):Y=K.length;var ie=Au(4+Y+1),de=ie+4;return E[ie>>2]=Y,J?Qo(K,de,Y+1):j.set(K,de),L!==null&&L.push(Na,ie),ie},readValueFromPointer:Re,destructorFunction(L){Na(L)}})},Vx=globalThis.TextDecoder?new TextDecoder("utf-16le"):void 0,Qs=(T,_,L)=>{var K=T>>1,Y=tc(N,K,_/2,L);if(Y-K>16&&Vx)return Vx.decode(N.subarray(K,Y));for(var J="",ie=K;ie<Y;++ie){var de=N[ie];J+=String.fromCharCode(de)}return J},Cp=(T,_,L)=>{if(L!=null||(L=2147483647),L<2)return 0;L-=2;for(var K=_,Y=L<T.length*2?L/2:T.length,J=0;J<Y;++J){var ie=T.charCodeAt(J);k[_>>1]=ie,_+=2}return k[_>>1]=0,_-K},zx=T=>T.length*2,jp=(T,_,L)=>{for(var K="",Y=T>>2,J=0;!(J>=_/4);J++){var ie=E[Y+J];if(!ie&&!L)break;K+=String.fromCodePoint(ie)}return K},Su=(T,_,L)=>{if(L!=null||(L=2147483647),L<4)return 0;for(var K=_,Y=K+L-4,J=0;J<T.length;++J){var ie=T.codePointAt(J);if(ie>65535&&J++,P[_>>2]=ie,_+=4,_+4>Y)break}return P[_>>2]=0,_-K},Np=T=>{for(var _=0,L=0;L<T.length;++L){var K=T.codePointAt(L);K>65535&&L++,_+=4}return _},Ux=(T,_,L)=>{L=ze(L);var K,Y,J;_===2?(K=Qs,Y=Cp,J=zx):(K=jp,Y=Su,J=Np),yr(T,{name:L,fromWireType:ie=>{var de=E[ie>>2],xe=K(ie+4,de*_,!0);return Na(ie),xe},toWireType:(ie,de)=>{typeof de!="string"&&Nt(`Cannot pass non-string to C++ string type ${L}`);var xe=J(de),Te=Au(4+xe+_);return E[Te>>2]=xe/_,Y(de,Te+4,xe+_),ie!==null&&ie.push(Na,Te),Te},readValueFromPointer:Re,destructorFunction(ie){Na(ie)}})},bN=(T,_,L,K,Y,J)=>{Jt[T]={name:ze(_),rawConstructor:fa(L,K),rawDestructor:fa(Y,J),fields:[]}},Cu=(T,_,L,K,Y,J,ie,de,xe,Te)=>{Jt[T].fields.push({fieldName:ze(_),getterReturnType:L,getter:fa(K,Y),getterContext:J,setterArgumentType:ie,setter:fa(de,xe),setterContext:Te})},wN=(T,_)=>{_=ze(_),yr(T,{isVoid:!0,name:_,fromWireType:()=>{},toWireType:(L,K)=>{}})},kp=[],wf=T=>{var _=kp.length;return kp.push(T),_},Sf=(T,_)=>{var L=Q[T];return L===void 0&&Nt(`${_} has unknown type ${Xl(T)}`),L},Ap=(T,_)=>{for(var L=new Array(T),K=0;K<T;++K)L[K]=Sf(E[_+K*4>>2],`parameter ${K}`);return L},SN=(T,_,L)=>{var K=[],Y=T(K,L);return K.length&&(E[_>>2]=Ia.toHandle(K)),Y},CN={},Kx=T=>{var _=CN[T];return _===void 0?ze(T):_},Pp=(T,_,L)=>{var K=8,[Y,...J]=Ap(T,_),ie=Y.toWireType.bind(Y),de=J.map(Ve=>Ve.readValueFromPointer.bind(Ve));T--;var xe=new Array(T),Te=(Ve,Xe,mt,Ct)=>{for(var jt=0,Qt=0;Qt<T;++Qt)xe[Qt]=de[Qt](Ct+jt),jt+=K;var ft;switch(L){case 0:ft=Ia.toValue(Ve).apply(null,xe);break;case 2:ft=Reflect.construct(Ia.toValue(Ve),xe);break;case 3:ft=xe[0];break;case 1:ft=Ia.toValue(Ve)[Kx(Xe)](...xe);break}return SN(ie,mt,ft)},Ie=`methodCaller<(${J.map(Ve=>Ve.name)}) => ${Y.name}>`;return wf(at(Ie,Te))},Ep=T=>T?(T=Kx(T),Ia.toHandle(globalThis[T])):Ia.toHandle(globalThis),Gx=T=>{T>9&&(Ys[T+1]+=1)},Cf=(T,_,L,K,Y)=>kp[T](_,L,K,Y),jf=T=>{var _=Ia.toValue(T);jn(_),xf(T)},Nf=(T,_,L,K)=>{var Y=new Date().getFullYear(),J=new Date(Y,0,1),ie=new Date(Y,6,1),de=J.getTimezoneOffset(),xe=ie.getTimezoneOffset(),Te=Math.max(de,xe);E[T>>2]=Te*60,P[_>>2]=+(de!=xe);var Ie=mt=>{var Ct=mt>=0?"-":"+",jt=Math.abs(mt),Qt=String(Math.floor(jt/60)).padStart(2,"0"),ft=String(jt%60).padStart(2,"0");return`UTC${Ct}${Qt}${ft}`},Ve=Ie(de),Xe=Ie(xe);xe<de?(Qo(Ve,L,17),Qo(Xe,K,17)):(Qo(Ve,K,17),Qo(Xe,L,17))},Wx=()=>2147483648,jN=(T,_)=>Math.ceil(T/_)*_,rc=T=>{var _=Mf.buffer.byteLength,L=(T-_+65535)/65536|0;try{return Mf.grow(L),te(),1}catch{}},Tp=T=>{var _=j.length;T>>>=0;var L=Wx();if(T>L)return!1;for(var K=1;K<=4;K*=2){var Y=_*(1+.2/K);Y=Math.min(Y,T+100663296);var J=Math.min(L,jN(Math.max(T,Y),65536)),ie=rc(J);if(ie)return!0}return!1},ju={},_p=()=>c||"./this.program",Zo=()=>{if(!Zo.strings){var T=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8",_={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:T,_:_p()};for(var L in ju)ju[L]===void 0?delete _[L]:_[L]=ju[L];var K=[];for(var L in _)K.push(`${L}=${_[L]}`);Zo.strings=K}return Zo.strings},Jr=(T,_)=>{var L=0,K=0;for(var Y of Zo()){var J=_+L;E[T+K>>2]=J,L+=Qo(Y,J,1/0)+1,K+=4}return 0},Nu=(T,_)=>{var L=Zo();E[T>>2]=L.length;var K=0;for(var Y of L)K+=xr(Y)+1;return E[_>>2]=K,0},ku=T=>52;function qx(T,_,L,K,Y){return 70}var kf=[null,[],[]],Hx=(T,_)=>{var L=kf[T];_===0||_===10?((T===1?g:v)(nc(L)),L.length=0):L.push(_)},Yx=(T,_,L,K)=>{for(var Y=0,J=0;J<L;J++){var ie=E[_>>2],de=E[_+4>>2];_+=8;for(var xe=0;xe<de;xe++)Hx(T,j[ie+xe]);Y+=de}return E[K>>2]=Y,0},Af=T=>T;if(Ee(),rs(),a.noExitRuntime&&a.noExitRuntime,a.print&&(g=a.print),a.printErr&&(v=a.printErr),a.wasmBinary&&(b=a.wasmBinary),a.arguments&&a.arguments,a.thisProgram&&(c=a.thisProgram),a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.shift()();var Pf,Na,Au,Ef,Kt,Tf,Dp,Qx,_f,Pu,Zx,Df,Rf,Mf,Rp;function NN(T){Pf=T.ya,Na=a._free=T.za,Au=a._malloc=T.Ba,Ef=T.Ca,Kt=T.Da,Tf=T.Ea,Dp=T.Fa,Qx=T.Ga,_f=T.Ha,Pu=T.Ia,Zx=T.Ja,Ot.viijii=T.Ka,Df=Ot.iiijj=T.La,Ot.jiji=T.Ma,Rf=Ot.jiiii=T.Na,Ot.iiiiij=T.Oa,Ot.iiiiijj=T.Pa,Ot.iiiiiijj=T.Qa,Mf=T.wa,Rp=T.Aa}var Jx={s:Je,w:lt,a:oe,j:xt,m:rt,Q:Rt,p:zt,U:Pt,d:It,ca:an,ta:nt,ba:bt,oa:_t,ra:$x,qa:wu,H:bp,ma:vN,X:Fx,Y:yN,x:Oa,t:ec,sa:io,na:oo,R:Ux,I:bN,ua:Cu,pa:wN,N:Pp,va:xf,D:Ep,S:Gx,M:Cf,ia:jf,da:Nf,ga:Tp,ea:Jr,fa:Nu,ha:ku,$:qx,V:Yx,K:C,C:I,Z:AN,T:ge,r:Op,b:t0,E:a0,ka:q,c:PN,ja:ee,h:n0,i:ki,q:TN,P:lo,v:r0,F:Jo,L:ac,z:B,J:Ne,aa:ce,_:Ae,f:EN,l:Xx,e:Mp,g:e0,O:pe,k:kN,la:A,o:Ip,B:er,u:D,W:ss,A:se,n:If,G:Of,y:Af};function Xx(T,_){var L=re();try{Ut(T)(_)}catch(K){if(ve(L),K!==K+0)throw K;Kt(1,0)}}function kN(T,_,L,K,Y){var J=re();try{Ut(T)(_,L,K,Y)}catch(ie){if(ve(J),ie!==ie+0)throw ie;Kt(1,0)}}function e0(T,_,L,K){var Y=re();try{Ut(T)(_,L,K)}catch(J){if(ve(Y),J!==J+0)throw J;Kt(1,0)}}function Mp(T,_,L){var K=re();try{Ut(T)(_,L)}catch(Y){if(ve(K),Y!==Y+0)throw Y;Kt(1,0)}}function t0(T,_){var L=re();try{return Ut(T)(_)}catch(K){if(ve(L),K!==K+0)throw K;Kt(1,0)}}function n0(T,_,L,K){var Y=re();try{return Ut(T)(_,L,K)}catch(J){if(ve(Y),J!==J+0)throw J;Kt(1,0)}}function AN(T,_,L,K,Y,J){var ie=re();try{return Ut(T)(_,L,K,Y,J)}catch(de){if(ve(ie),de!==de+0)throw de;Kt(1,0)}}function PN(T,_,L){var K=re();try{return Ut(T)(_,L)}catch(Y){if(ve(K),Y!==Y+0)throw Y;Kt(1,0)}}function EN(T){var _=re();try{Ut(T)()}catch(L){if(ve(_),L!==L+0)throw L;Kt(1,0)}}function If(T,_,L,K,Y,J,ie,de,xe,Te,Ie){var Ve=re();try{Ut(T)(_,L,K,Y,J,ie,de,xe,Te,Ie)}catch(Xe){if(ve(Ve),Xe!==Xe+0)throw Xe;Kt(1,0)}}function ki(T,_,L,K,Y){var J=re();try{return Ut(T)(_,L,K,Y)}catch(ie){if(ve(J),ie!==ie+0)throw ie;Kt(1,0)}}function er(T,_,L,K,Y,J,ie){var de=re();try{Ut(T)(_,L,K,Y,J,ie)}catch(xe){if(ve(de),xe!==xe+0)throw xe;Kt(1,0)}}function Of(T,_,L,K,Y,J,ie,de,xe,Te,Ie,Ve,Xe,mt,Ct,jt){var Qt=re();try{Ut(T)(_,L,K,Y,J,ie,de,xe,Te,Ie,Ve,Xe,mt,Ct,jt)}catch(ft){if(ve(Qt),ft!==ft+0)throw ft;Kt(1,0)}}function ss(T,_,L,K,Y,J,ie,de,xe){var Te=re();try{Ut(T)(_,L,K,Y,J,ie,de,xe)}catch(Ie){if(ve(Te),Ie!==Ie+0)throw Ie;Kt(1,0)}}function TN(T,_,L,K,Y,J){var ie=re();try{return Ut(T)(_,L,K,Y,J)}catch(de){if(ve(ie),de!==de+0)throw de;Kt(1,0)}}function Ip(T,_,L,K,Y,J){var ie=re();try{Ut(T)(_,L,K,Y,J)}catch(de){if(ve(ie),de!==de+0)throw de;Kt(1,0)}}function r0(T,_,L,K,Y,J,ie){var de=re();try{return Ut(T)(_,L,K,Y,J,ie)}catch(xe){if(ve(de),xe!==xe+0)throw xe;Kt(1,0)}}function Jo(T,_,L,K,Y,J,ie,de){var xe=re();try{return Ut(T)(_,L,K,Y,J,ie,de)}catch(Te){if(ve(xe),Te!==Te+0)throw Te;Kt(1,0)}}function Op(T){var _=re();try{return Ut(T)()}catch(L){if(ve(_),L!==L+0)throw L;Kt(1,0)}}function ac(T,_,L,K,Y,J,ie,de,xe){var Te=re();try{return Ut(T)(_,L,K,Y,J,ie,de,xe)}catch(Ie){if(ve(Te),Ie!==Ie+0)throw Ie;Kt(1,0)}}function lo(T,_,L,K,Y,J,ie){var de=re();try{return Ut(T)(_,L,K,Y,J,ie)}catch(xe){if(ve(de),xe!==xe+0)throw xe;Kt(1,0)}}function a0(T,_,L,K){var Y=re();try{return Ut(T)(_,L,K)}catch(J){if(ve(Y),J!==J+0)throw J;Kt(1,0)}}function C(T,_,L,K){var Y=re();try{return Ut(T)(_,L,K)}catch(J){if(ve(Y),J!==J+0)throw J;Kt(1,0)}}function A(T,_,L,K,Y,J,ie,de){var xe=re();try{Ut(T)(_,L,K,Y,J,ie,de)}catch(Te){if(ve(xe),Te!==Te+0)throw Te;Kt(1,0)}}function D(T,_,L,K,Y,J,ie,de){var xe=re();try{Ut(T)(_,L,K,Y,J,ie,de)}catch(Te){if(ve(xe),Te!==Te+0)throw Te;Kt(1,0)}}function I(T,_,L,K,Y,J){var ie=re();try{return Ut(T)(_,L,K,Y,J)}catch(de){if(ve(ie),de!==de+0)throw de;Kt(1,0)}}function B(T,_,L,K,Y,J,ie,de,xe,Te){var Ie=re();try{return Ut(T)(_,L,K,Y,J,ie,de,xe,Te)}catch(Ve){if(ve(Ie),Ve!==Ve+0)throw Ve;Kt(1,0)}}function q(T,_,L){var K=re();try{return Ut(T)(_,L)}catch(Y){if(ve(K),Y!==Y+0)throw Y;Kt(1,0)}}function ee(T,_,L,K,Y){var J=re();try{return Ut(T)(_,L,K,Y)}catch(ie){if(ve(J),ie!==ie+0)throw ie;Kt(1,0)}}function se(T,_,L,K,Y,J,ie,de,xe,Te){var Ie=re();try{Ut(T)(_,L,K,Y,J,ie,de,xe,Te)}catch(Ve){if(ve(Ie),Ve!==Ve+0)throw Ve;Kt(1,0)}}function pe(T,_,L,K,Y,J,ie){var de=re();try{Ut(T)(_,L,K,Y,J,ie)}catch(xe){if(ve(de),xe!==xe+0)throw xe;Kt(1,0)}}function ge(T,_,L,K){var Y=re();try{return Ut(T)(_,L,K)}catch(J){if(ve(Y),J!==J+0)throw J;Kt(1,0)}}function Ne(T,_,L,K,Y,J,ie,de,xe,Te,Ie,Ve){var Xe=re();try{return Ut(T)(_,L,K,Y,J,ie,de,xe,Te,Ie,Ve)}catch(mt){if(ve(Xe),mt!==mt+0)throw mt;Kt(1,0)}}function ce(T,_,L,K,Y,J,ie){var de=re();try{return Df(T,_,L,K,Y,J,ie)}catch(xe){if(ve(de),xe!==xe+0)throw xe;Kt(1,0)}}function Ae(T,_,L,K,Y){var J=re();try{return Rf(T,_,L,K,Y)}catch(ie){if(ve(J),ie!==ie+0)throw ie;Kt(1,0)}}function ye(){V();function T(){var _,L;a.calledRun=!0,!y&&(z(),(_=x)===null||_===void 0||_(a),(L=a.onRuntimeInitialized)===null||L===void 0||L.call(a),$())}a.setStatus?(a.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>a.setStatus(""),1),T()},1)):T()}var Se;return Se=await we(),ye(),G?t=a:t=new Promise((T,_)=>{x=T,w=_}),t}function P2e(e){return uQ(dQ,e)}async function E2e(e,t){return A2e(dQ,e,t)}const fQ=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],T2e=[...fQ,["unknown"]].map(e=>e[0]),a2=new Map(fQ);function _2e(e){for(const[t,n]of a2)if(e===n)return t;return"unknown"}function D2e(e){if(hQ(e))return{width:e.naturalWidth,height:e.naturalHeight};if(mQ(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(pQ(e))return{width:e.videoWidth,height:e.videoHeight};if(vQ(e))return{width:e.width,height:e.height};if(xQ(e))return{width:e.displayWidth,height:e.displayHeight};if(gQ(e))return{width:e.width,height:e.height};if(yQ(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function hQ(e){var t,n;try{return e instanceof((n=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:n.HTMLImageElement)}catch{return!1}}function mQ(e){var t,n;try{return e instanceof((n=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:n.SVGImageElement)}catch{return!1}}function pQ(e){var t,n;try{return e instanceof((n=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:n.HTMLVideoElement)}catch{return!1}}function gQ(e){var t,n;try{return e instanceof((n=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:n.HTMLCanvasElement)}catch{return!1}}function vQ(e){try{return e instanceof ImageBitmap||Object.prototype.toString.call(e)==="[object ImageBitmap]"}catch{return!1}}function yQ(e){try{return e instanceof OffscreenCanvas||Object.prototype.toString.call(e)==="[object OffscreenCanvas]"}catch{return!1}}function xQ(e){try{return e instanceof VideoFrame||Object.prototype.toString.call(e)==="[object VideoFrame]"}catch{return!1}}function R2e(e){try{return e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"}catch{return!1}}function M2e(e){try{return e instanceof ImageData||Object.prototype.toString.call(e)==="[object ImageData]"}catch{return!1}}function I2e(e,t){try{const n=new OffscreenCanvas(e,t);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const n=document.createElement("canvas");return n.width=e,n.height=t,n}}async function bQ(e){if(hQ(e)&&!await F2e(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(mQ(e)&&!await B2e(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(xQ(e)&&V2e(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(pQ(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(vQ(e)&&U2e(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:n}=D2e(e);if(t===0||n===0)return null;const r=I2e(t,n).getContext("2d");r.drawImage(e,0,0);try{return r.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function O2e(e){let t;try{t=await createImageBitmap(e)}catch{try{if(globalThis.Image){t=new Image;let n="";try{n=URL.createObjectURL(e),t.src=n,await t.decode()}finally{URL.revokeObjectURL(n)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await bQ(t)}function L2e(e){const{width:t,height:n}=e;if(t===0||n===0)return null;const r=e.getContext("2d");try{return r.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function $2e(e){if(R2e(e))return await O2e(e);if(M2e(e)){if(z2e(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return gQ(e)||yQ(e)?L2e(e):await bQ(e)}async function F2e(e){try{return await e.decode(),!0}catch{return!1}}async function B2e(e){var t;try{return await((t=e.decode)==null?void 0:t.call(e)),!0}catch{return!1}}function V2e(e){return e.format===null}function z2e(e){return e.data.buffer.byteLength===0}function U2e(e){return e.width===0&&e.height===0}function BB(e,t){return K2e(e)?new DOMException(`${t}: ${e.message}`,e.name):G2e(e)?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}function K2e(e){return e instanceof DOMException||Object.prototype.toString.call(e)==="[object DOMException]"}function G2e(e){return e instanceof Error||Object.prototype.toString.call(e)==="[object Error]"}var Gb;class s2{constructor(t={}){c2e(this,Gb);var n;try{const r=(n=t==null?void 0:t.formats)==null?void 0:n.filter(a=>a!=="unknown");if((r==null?void 0:r.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const a of r??[])if(!a2.has(a))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${a}' is not a valid enum value of type BarcodeFormat.`);u2e(this,Gb,r??[]),P2e({fireImmediately:!0}).catch(()=>{})}catch(r){throw BB(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return T2e.filter(t=>t!=="unknown")}async detect(t){try{const n=await $2e(t);if(n===null)return[];let r;const a={tryCode39ExtendedMode:!1,textMode:"Plain",formats:l2e(this,Gb).map(s=>a2.get(s))};try{r=await E2e(n,a)}catch(s){throw console.error(s),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(s=>{const{topLeft:{x:o,y:l},topRight:{x:c,y:u},bottomLeft:{x:d,y:f},bottomRight:{x:h,y:m}}=s.position,g=Math.min(o,c,d,h),v=Math.min(l,u,f,m),b=Math.max(o,c,d,h),y=Math.max(l,u,f,m);return{boundingBox:new DOMRectReadOnly(g,v,b-g,y-v),rawValue:s.text,format:_2e(s.format),cornerPoints:[{x:o,y:l},{x:c,y:u},{x:h,y:m},{x:d,y:f}]}})}catch(n){throw BB(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Gb=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=s2);let wQ=!0,SQ=!0;function Pg(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function df(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,a=r.addEventListener;r.addEventListener=function(o,l){if(o!==t)return a.apply(this,arguments);const c=u=>{const d=n(u);d&&(l.handleEvent?l.handleEvent(d):l(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,c),a.apply(this,[o,c])};const s=r.removeEventListener;r.removeEventListener=function(o,l){if(o!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(l))return s.apply(this,arguments);const c=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,c])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}function W2e(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(wQ=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function q2e(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(SQ=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function CQ(){if(typeof window=="object"){if(wQ)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function GR(e,t){SQ&&console.warn(e+" is deprecated, please use "+t+" instead.")}function H2e(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Pg(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Pg(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Pg(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Pg(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function VB(e){return Object.prototype.toString.call(e)==="[object Object]"}function jQ(e){return VB(e)?Object.keys(e).reduce(function(t,n){const r=VB(e[n]),a=r?jQ(e[n]):e[n],s=r&&!Object.keys(a).length;return a===void 0||s?t:Object.assign(t,{[n]:a})},{}):e}function i2(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?i2(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(a=>{i2(e,e.get(a),n)})}))}function zB(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",a=new Map;if(t===null)return a;const s=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===t.id&&s.push(o)}),s.forEach(o=>{e.forEach(l=>{l.type===r&&l.trackId===o.id&&i2(e,l,a)})}),a}const UB=CQ;function NQ(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const c={};return Object.keys(l).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const d=typeof l[u]=="object"?l[u]:{ideal:l[u]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,m){return h?h+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(d.ideal!==void 0){c.optional=c.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",u)]=d.ideal,c.optional.push(h),h={},h[f("max",u)]=d.ideal,c.optional.push(h)):(h[f("",u)]=d.ideal,c.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[f("",u)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[f(h,u)]=d[h])})}),l.advanced&&(c.optional=(c.optional||[]).concat(l.advanced)),c},a=function(l,c){if(t.version>=61)return c(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const u=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};l=JSON.parse(JSON.stringify(l)),u(l.audio,"autoGainControl","googAutoGainControl"),u(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let u=l.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const d=t.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete l.video.facingMode;let f;if(u.exact==="environment"||u.ideal==="environment"?f=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(g=>g.kind==="videoinput");let m=h.find(g=>f.some(v=>g.label.toLowerCase().includes(v)));return!m&&h.length&&f.includes("back")&&(m=h[h.length-1]),m&&(l.video.deviceId=u.exact?{exact:m.deviceId}:{ideal:m.deviceId}),l.video=r(l.video),UB("chrome: "+JSON.stringify(l)),c(l)})}l.video=r(l.video)}return UB("chrome: "+JSON.stringify(l)),c(l)},s=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(l,c,u){a(l,d=>{n.webkitGetUserMedia(d,c,f=>{u&&u(s(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return a(c,u=>l(u).then(d=>{if(u.audio&&!d.getAudioTracks().length||u.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function kQ(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function AQ(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",a=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(l=>l.track&&l.track.id===a.track.id):s={track:a.track};const o=new Event("track");o.track=a.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(a=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(l=>l.track&&l.track.id===a.id):s={track:a};const o=new Event("track");o.track=a,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else df(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function PQ(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(a,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=a.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:a}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,c){let u=a.apply(this,arguments);return u||(u=t(this,l),this._senders.push(u)),u};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){s.apply(this,arguments);const c=this._senders.indexOf(l);c!==-1&&this._senders.splice(c,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const l=this._senders.find(c=>c.track===o);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(a=>a._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function EQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>zB(o,s.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(s=>s._pc=this),a}),df(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(s=>zB(s,a.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let a,s,o;return this.getSenders().forEach(l=>{l.track===r&&(a?o=!0:a=l)}),this.getReceivers().forEach(l=>(l.track===r&&(s?o=!0:s=l),l.track===r)),o||a&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function TQ(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(c)===-1&&this._shimmedLocalStreams[l.id].push(c):this._shimmedLocalStreams[l.id]=[l,c],c};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(u=>{if(this.getSenders().find(f=>f.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(u=>l.indexOf(u)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const c=this._shimmedLocalStreams[l].indexOf(o);c!==-1&&this._shimmedLocalStreams[l].splice(c,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),a.apply(this,arguments)}}function _Q(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return TQ(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(m=>m.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new e.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},e.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(v=>v===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(v=>v.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[f.id];if(g)g.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const v=new e.MediaStream([d]);this._streams[f.id]=v,this._reverseStreams[v.id]=f,this.addStream(v)}return this.getSenders().find(v=>v.track===d)};function s(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const m=u._reverseStreams[h],g=u._streams[m.id];f=f.replace(new RegExp(g.id,"g"),m.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function o(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const m=u._reverseStreams[h],g=u._streams[m.id];f=f.replace(new RegExp(m.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(u){const d=e.RTCPeerConnection.prototype[u],f={[u](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[g=>{const v=s(this,g);h[0].apply(null,[v])},g=>{h[1]&&h[1].apply(null,g)},arguments[2]]):d.apply(this,arguments).then(g=>s(this,g))}};e.RTCPeerConnection.prototype[u]=f[u]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=o(this,arguments[0]),l.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const u=c.get.apply(this);return u.type===""?u:s(this,u)}}),e.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(v=>d.track===v)&&(h=this._streams[m])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function o2(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=a[n]})}function DQ(e,t){df(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const KB=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:DQ,shimAddTrackRemoveTrack:_Q,shimAddTrackRemoveTrackWithNative:TQ,shimGetSendersWithDtmf:PQ,shimGetUserMedia:NQ,shimMediaStream:kQ,shimOnTrack:AQ,shimPeerConnection:o2,shimSenderReceiverGetStats:EQ},Symbol.toStringTag,{value:"Module"}));function RQ(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(a,s,o){GR("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(s,o)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(o,l,c){l in o&&!(c in o)&&(o[c]=o[l],delete o[l])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),a(o.audio,"autoGainControl","mozAutoGainControl"),a(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const l=o.apply(this,arguments);return a(l,"mozAutoGainControl","autoGainControl"),a(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),a(l,"autoGainControl","mozAutoGainControl"),a(l,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[l])}}}}function Y2e(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function MQ(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function l2(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const s=e.RTCPeerConnection.prototype[a],o={[a](){return arguments[0]=new(a==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};e.RTCPeerConnection.prototype[a]=o[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[s,o,l]=arguments;return r.apply(this,[s||null]).then(c=>{if(t.version<53&&!o)try{c.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;c.forEach((d,f)=>{c.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return c}).then(o,l)}}function IQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const a=t.apply(this,[]);return a.forEach(s=>s._pc=this),a});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function OQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(a=>a._pc=this),r}),df(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function LQ(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){GR("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function $Q(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function FQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const a=r.length>0;a&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=t.apply(this,arguments);if(a){const{sender:o}=s,l=o.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(l).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function BQ(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function VQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function zQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const GB=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:FQ,shimCreateAnswer:zQ,shimCreateOffer:VQ,shimGetDisplayMedia:Y2e,shimGetParameters:BQ,shimGetUserMedia:RQ,shimOnTrack:MQ,shimPeerConnection:l2,shimRTCDataChannel:$Q,shimReceiverGetStats:OQ,shimRemoveStream:LQ,shimSenderGetStats:IQ},Symbol.toStringTag,{value:"Module"}));function UQ(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(a=>t.call(this,a,r)),r.getVideoTracks().forEach(a=>t.call(this,a,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...a){return a&&a.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const a=n.getTracks();this.getSenders().forEach(s=>{a.includes(s.track)&&this.removeTrack(s)})})}}function KQ(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const s=new Event("addstream");s.stream=a,this.dispatchEvent(s)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),t.apply(r,arguments)}}}function GQ(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,a=t.setLocalDescription,s=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h},t.createAnswer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h};let l=function(c,u,d){const f=a.apply(this,[c]);return d?(f.then(u,d),Promise.resolve()):f};t.setLocalDescription=l,l=function(c,u,d){const f=s.apply(this,[c]);return d?(f.then(u,d),Promise.resolve()):f},t.setRemoteDescription=l,l=function(c,u,d){const f=o.apply(this,[c]);return d?(f.then(u,d),Promise.resolve()):f},t.addIceCandidate=l}function WQ(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=a=>r(qQ(a))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,a,s){t.mediaDevices.getUserMedia(r).then(a,s)}).bind(t))}function qQ(e){return e&&e.video!==void 0?Object.assign({},e,{video:jQ(e.video)}):e}function HQ(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,a){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let l=r.iceServers[o];l.urls===void 0&&l.url?(GR("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,s.push(l)):s.push(r.iceServers[o])}r.iceServers=s}return new t(r,a)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function YQ(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function QQ(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const a=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):r.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function ZQ(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const WB=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:ZQ,shimCallbacksAPI:GQ,shimConstraints:qQ,shimCreateOfferLegacy:QQ,shimGetUserMedia:WQ,shimLocalStreamsAPI:UQ,shimRTCIceServerUrls:HQ,shimRemoteStreamsAPI:KQ,shimTrackEventTransceiver:YQ},Symbol.toStringTag,{value:"Module"}));var JQ={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((a,s)=>(s>0?"m="+a:a).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(a=>a.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const a={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":a.relatedAddress=r[s+1];break;case"rport":a.relatedPort=parseInt(r[s+1],10);break;case"tcptype":a.tcpType=r[s+1];break;case"ufrag":a.ufrag=r[s+1],a.usernameFragment=r[s+1];break;default:a[r[s]]===void 0&&(a[r[s]]=r[s+1]);break}return a},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const a=n.component;a==="rtp"?r.push(1):a==="rtcp"?r.push(2):r.push(a),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const a={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),a.name=r[0],a.clockRate=parseInt(r[1],10),a.channels=r.length===3?parseInt(r[2],10):1,a.numChannels=a.channels,a},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let a;const s=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)a=s[o].trim().split("="),r[a[0].trim()]=a[1];return r},t.writeFmtp=function(n){let r="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?s.push(o+"="+n.parameters[o]):s.push(o)}),r+="a=fmtp:"+a+" "+s.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+a+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,r),10)},s=n.indexOf(":",r);return s>-1?(a.attribute=n.substring(r+1,s),a.value=n.substring(s+1)):a.attribute=n.substring(r+1),a},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(a=>parseInt(a,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let a="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{a+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),a},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const a=t.matchPrefix(n+r,"a=ice-ufrag:")[0],s=t.matchPrefix(n+r,"a=ice-pwd:")[0];return a&&s?{usernameFragment:a.substring(12),password:s.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=t.splitLines(n)[0].split(" ");r.profile=s[2];for(let l=3;l<s.length;l++){const c=s[l],u=t.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(u){const d=t.parseRtpMap(u),f=t.matchPrefix(n,"a=fmtp:"+c+" ");switch(d.parameters=f.length?t.parseFmtp(f[0]):{},d.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(t.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(l=>{r.headerExtensions.push(t.parseExtmap(l))});const o=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(l=>{o.forEach(c=>{l.rtcpFeedback.find(d=>d.type===c.type&&d.parameter===c.parameter)||l.rtcpFeedback.push(c)})}),r},t.writeRtpDescription=function(n,r){let a="";a+="m="+n+" ",a+=r.codecs.length>0?"9":"0",a+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{a+=t.writeRtpMap(o),a+=t.writeFmtp(o),a+=t.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(a+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{a+=t.writeExtmap(o)}),a},t.parseRtpEncodingParameters=function(n){const r=[],a=t.parseRtpParameters(n),s=a.fecMechanisms.indexOf("RED")!==-1,o=a.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),c=l.length>0&&l[0].ssrc;let u;const d=t.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(g=>parseInt(g,10)));d.length>0&&d[0].length>1&&d[0][0]===c&&(u=d[0][1]),a.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let m={ssrc:c,codecPayloadType:parseInt(h.parameters.apt,10)};c&&u&&(m.rtx={ssrc:u}),r.push(m),s&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(m))}}),r.length===0&&c&&r.push({ssrc:c});let f=t.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},t.parseRtcpParameters=function(n){const r={},a=t.matchPrefix(n,"a=ssrc:").map(l=>t.parseSsrcMedia(l)).filter(l=>l.attribute==="cname")[0];a&&(r.cname=a.value,r.ssrc=a.ssrc);const s=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=t.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const a=t.matchPrefix(n,"a=msid:");if(a.length===1)return r=a[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),a=t.matchPrefix(n,"a=max-message-size:");let s;a.length>0&&(s=parseInt(a[0].substring(19),10)),isNaN(s)&&(s=65536);const o=t.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){const c=l[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:s}}},t.writeSctpDescription=function(n,r){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&a.push("a=max-message-size:"+r.maxMessageSize+`\r
`),a.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,a){let s;const o=r!==void 0?r:2;return n?s=n:s=t.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const a=t.splitLines(n);for(let s=0;s<a.length;s++)switch(a[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[s].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const a=t.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},t.parseOLine=function(n){const a=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let a=0;a<r.length;a++)if(r[a].length<2||r[a].charAt(1)!=="=")return!1;return!0},e.exports=t})(JQ);var XQ=JQ.exports;const Kh=xi(XQ),Q2e=e_({__proto__:null,default:Kh},[XQ]);function Wb(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const a=new t(r),s=Kh.parseCandidate(r.candidate);for(const o in s)o in a||Object.defineProperty(a,o,{value:s[o]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,df(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function c2(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||df(e,"icecandidate",t=>{if(t.candidate){const n=Kh.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function qb(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const c=Kh.splitSections(l.sdp);return c.shift(),c.some(u=>{const d=Kh.parseMLine(u);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(l){const c=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const u=parseInt(c[1],10);return u!==u?-1:u},a=function(l){let c=65536;return t.browser==="firefox"&&(t.version<57?l===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},s=function(l,c){let u=65536;t.browser==="firefox"&&t.version===57&&(u=65535);const d=Kh.matchPrefix(l.sdp,"a=max-message-size:");return d.length>0?u=parseInt(d[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(u=2147483637),u},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),u=a(c),d=s(arguments[0],c);let f;u===0&&d===0?f=Number.POSITIVE_INFINITY:u===0||d===0?f=Math.max(u,d):f=Math.min(u,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return o.apply(this,arguments)}}function Hb(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,a){const s=r.send;r.send=function(){const l=arguments[0],c=l.length||l.size||l.byteLength;if(r.readyState==="open"&&a.sctp&&c>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return t(a,this),a},df(e,"datachannel",r=>(t(r.channel,r.target),r))}function u2(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const s=a.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",a);s.dispatchEvent(o)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function d2(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=a.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&a instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:a.type,sdp:s}):a.sdp=s}return n.apply(this,arguments)}}function Yb(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Qb(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const Z2e=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:d2,shimAddIceCandidateNullOrEmpty:Yb,shimConnectionState:u2,shimMaxMessageSize:qb,shimParameterlessSetLocalDescription:Qb,shimRTCIceCandidate:Wb,shimRTCIceCandidateRelayProtocol:c2,shimSendThrowTypeError:Hb},Symbol.toStringTag,{value:"Module"}));function J2e({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=CQ,r=H2e(e),a={browserDetails:r,commonShim:Z2e,extractVersion:Pg,disableLog:W2e,disableWarnings:q2e,sdp:Q2e};switch(r.browser){case"chrome":if(!KB||!o2||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=KB,Yb(e,r),Qb(e),NQ(e,r),kQ(e),o2(e,r),AQ(e),_Q(e,r),PQ(e),EQ(e),DQ(e,r),Wb(e),c2(e),u2(e),qb(e,r),Hb(e),d2(e,r);break;case"firefox":if(!GB||!l2||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=GB,Yb(e,r),Qb(e),RQ(e,r),l2(e,r),MQ(e),LQ(e),IQ(e),OQ(e),$Q(e),FQ(e),BQ(e),VQ(e),zQ(e),Wb(e),u2(e),qb(e,r),Hb(e);break;case"safari":if(!WB||!t.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=WB,Yb(e,r),Qb(e),HQ(e),QQ(e),GQ(e),UQ(e),KQ(e),YQ(e),WQ(e),ZQ(e),Wb(e),c2(e),qb(e,r),Hb(e),d2(e,r);break;default:n("Unsupported browser!");break}return a}J2e({window:typeof window>"u"?void 0:window});const X2e={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},eTe={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},tTe={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},nTe={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};var Eg=e=>e instanceof Date,eZ=e=>e==null;const tZ=e=>typeof e=="object";var qB=e=>!eZ(e)&&!Array.isArray(e)&&tZ(e)&&!Eg(e),HB=e=>eZ(e)||!tZ(e);function nZ(e,t){if(HB(e)||HB(t))return e===t;if(Eg(e)&&Eg(t))return e.getTime()===t.getTime();const n=e,r=t,a=Object.keys(n),s=Object.keys(r);if(a.length!==s.length)return!1;for(const o of a){const l=n[o];if(!s.includes(o))return!1;if(o!=="ref"){const c=r[o];if(Eg(l)&&Eg(c)||qB(l)&&qB(c)||Array.isArray(l)&&Array.isArray(c)?!nZ(l,c):l!==c)return!1}}return!0}function rTe(e){const{onClick:t,disabled:n,className:r}=e,a={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...e.style};return i.jsxs("svg",{onClick:n?void 0:t,className:r,style:a,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Camera Off"}),i.jsx("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"})]})}function aTe(e){const{onClick:t,disabled:n,className:r}=e,a={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...e.style};return i.jsxs("svg",{onClick:n?void 0:t,className:r,style:a,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Camera On"}),i.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),i.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"})]})}function sTe(e){const{scanning:t,startScanning:n,stopScanning:r}=e,[a,s]=p.useState(!1);function o(){s(!0),t?r():n(),setTimeout(()=>s(!1),1e3)}return i.jsx("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:a?"default":"pointer"},children:i.jsx(t?rTe:aTe,{disabled:a,onClick:o})})}function iTe(e){const{onClick:t,className:n,style:r}=e;return i.jsxs("svg",{onClick:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Torch Off"}),i.jsx("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"})]})}function oTe(e){const{onClick:t,className:n,style:r}=e;return i.jsxs("svg",{onClick:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Torch On"}),i.jsx("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"})]})}function lTe(e){const{status:t,scanning:n,torchToggle:r}=e;function a(s){r(s)}return n&&r?i.jsx("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"},children:t?i.jsx(iTe,{onClick:()=>a(!1)}):i.jsx(oTe,{onClick:()=>a(!0)})}):null}function cTe(e){const{onClick:t,className:n,disabled:r=!1}=e,a={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...e.style};return i.jsxs("svg",{onClick:r?void 0:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:a,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Zoom In"}),i.jsx("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"})]})}function uTe(e){const{onClick:t,className:n,disabled:r=!1}=e,a={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...e.style};return i.jsxs("svg",{onClick:r?void 0:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:a,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Zoom Out"}),i.jsx("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"})]})}function dTe(e){const{scanning:t,capabilities:n,onZoom:r,value:a}=e;if(!t||!r)return null;const s=(n.max-n.min)/3;return i.jsxs(p.Fragment,{children:[i.jsx("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"},children:i.jsx(uTe,{disabled:a<=n.min,onClick:function(){r(Math.max(a-s,n.min))}})}),i.jsx("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"},children:i.jsx(cTe,{disabled:a>=n.max,onClick:function(){r(Math.min(a+s,n.max))}})})]})}const lc={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function fTe(e){const{scanning:t,capabilities:n,onOff:r,torch:a,zoom:s,startScanning:o,stopScanning:l}=e;return i.jsx("div",{style:lc.fullContainer,children:i.jsxs("div",{style:lc.innerContainer,children:[i.jsx("div",{style:lc.overlay,children:i.jsxs("div",{style:lc.borderBox,children:[i.jsx("div",{style:lc.cornerTopLeft}),i.jsx("div",{style:lc.cornerTopRight}),i.jsx("div",{style:lc.cornerBottomLeft}),i.jsx("div",{style:lc.cornerBottomRight})]})}),r&&i.jsx(sTe,{scanning:t,startScanning:o,stopScanning:l}),a&&n.torch&&i.jsx(lTe,{scanning:t,status:a.status,torchToggle:a.toggle}),s&&n.zoom&&i.jsx(dTe,{scanning:t,capabilities:n.zoom,value:s.value,onZoom:s.onChange})]})})}function W0(e){if(e===null)throw new Error("Canvas should always be defined when component is mounted.");const t=e.getContext("2d");if(t===null)throw new Error("Canvas 2D context should be non-null");t.clearRect(0,0,e.width,e.height)}function hTe(e){const{onScan:t,constraints:n,formats:r=["any"],paused:a=!1,components:s,children:o,styles:l,classNames:c,allowMultiple:u,scanDelay:d,onError:f,sound:h}=e,m=p.useRef(null),g=p.useRef(null),v=p.useRef(null),b=p.useMemo(()=>({...eTe,...n}),[n]),y=p.useMemo(()=>({...X2e,...s}),[s]),[x,w]=p.useState(!1),[S,j]=p.useState(!0),[k,N]=p.useState(b),P=function(){const M=p.useRef(Promise.resolve({type:"stop",data:{}})),F=p.useRef(null),W=p.useRef(null),[Z,H]=p.useState({}),[ae,fe]=p.useState({}),we=p.useCallback(async(je,ve)=>{var Fe,Je;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((Fe=navigator==null?void 0:navigator.mediaDevices)==null?void 0:Fe.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const re=await navigator.mediaDevices.getUserMedia({audio:!1,video:ve});je.srcObject!==void 0?je.srcObject=re:je.mozSrcObject!==void 0?je.mozSrcObject=re:window.URL.createObjectURL?je.src=window.URL.createObjectURL(re):window.webkitURL?je.src=window.webkitURL.createObjectURL(re):je.src=re.id,await Promise.race([je.play(),new Promise(Le=>setTimeout(Le,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(Le=>setTimeout(Le,500));const[Ye]=re.getVideoTracks();return fe(Ye.getSettings()),H(((Je=Ye==null?void 0:Ye.getCapabilities)==null?void 0:Je.call(Ye))??{}),F.current=re,W.current=Ye,{type:"start",data:{videoEl:je,stream:re,constraints:ve}}},[]),Pe=p.useCallback(async(je,ve)=>{je.src="",je.srcObject=null,je.load();for(const re of ve.getTracks())ve.removeTrack(re),re.stop();return F.current=null,W.current=null,fe({}),{type:"stop",data:{}}},[]),me=p.useCallback(async(je,{constraints:ve,restart:re=!1})=>{let Ye=null;M.current=M.current.then(Je=>{if(Je.type==="start"){const{data:{videoEl:Le,stream:lt,constraints:ct}}=Je;return re||je!==Le||ve!==ct?Pe(Le,lt).then(()=>we(je,ve)):Je}return we(je,ve)}).catch(Je=>(Ye=Je,{type:"stop",data:{}}));const Fe=await M.current;if(Ye)throw Ye;if(Fe.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[we,Pe]),Ue=p.useCallback(async()=>{if(M.current=M.current.then(je=>{if(je.type==="stop")return je;const{data:{videoEl:ve,stream:re}}=je;return Pe(ve,re)}),(await M.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[Pe]),ne=p.useCallback(async je=>{var re;const ve=W.current;if(!ve)throw new Error("No active video track found.");{(re=je.advanced)!=null&&re[0].zoom&&ve.getCapabilities().torch&&await ve.applyConstraints({advanced:[{torch:!1}]}),await ve.applyConstraints(je);const Ye=ve.getCapabilities(),Fe=ve.getSettings();H(Ye),fe(Fe)}},[]);return p.useEffect(()=>()=>{(async()=>await Ue())()},[Ue]),{capabilities:Z,settings:ae,startCamera:me,stopCamera:Ue,updateConstraints:ne}}(),E=p.useRef(P),R=p.useRef(f),O=p.useRef(y.tracker);p.useEffect(()=>{E.current=P},[P]),p.useEffect(()=>{R.current=f},[f]),p.useEffect(()=>{O.current=y.tracker},[y.tracker]);const G=p.useCallback(M=>{(function(F,W,Z,H){const ae=Z;if(ae==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const fe=W;if(fe==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(F.length===0||H===void 0)W0(ae);else{const we=fe.offsetWidth,Pe=fe.offsetHeight,me=fe.videoWidth,Ue=fe.videoHeight,ne=Math.max(we/me,Pe/Ue),je=me*ne,ve=Ue*ne,re=je/me,Ye=ve/Ue,Fe=(we-je)/2,Je=(Pe-ve)/2,Le=({x:Ce,y:oe})=>({x:Math.floor(Ce*re),y:Math.floor(oe*Ye)}),lt=({x:Ce,y:oe})=>({x:Math.floor(Ce+Fe),y:Math.floor(oe+Je)}),ct=F.map(Ce=>{const{boundingBox:oe,cornerPoints:xt}=Ce,{x:rt,y:Rt}=lt(Le({x:oe.x,y:oe.y})),{x:zt,y:Pt}=Le({x:oe.width,y:oe.height});return{...Ce,cornerPoints:xt.map(It=>lt(Le(It))),boundingBox:DOMRectReadOnly.fromRect({x:rt,y:Rt,width:zt,height:Pt})}});ae.width=fe.offsetWidth,ae.height=fe.offsetHeight;const be=ae.getContext("2d");if(be===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");H(ct,be)}})(M,m.current,v.current,O.current)},[]),{startScanning:te,stopScanning:V}=function(M){const{videoElementRef:F,onScan:W,onFound:Z,retryDelay:H=100,scanDelay:ae=0,formats:fe=[],allowMultiple:we=!1,sound:Pe=!0}=M,me=p.useRef(new s2({formats:fe})),Ue=p.useRef(null),ne=p.useRef(null);p.useEffect(()=>{me.current=new s2({formats:fe})},[fe]),p.useEffect(()=>{typeof window<"u"&&Pe&&(Ue.current=new Audio(typeof Pe=="string"?Pe:"data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"))},[Pe]);const je=p.useCallback(ve=>async re=>{if(F.current!==null&&F.current.readyState>1){const{lastScan:Ye,contentBefore:Fe,lastScanHadContent:Je}=ve;if(re-Ye<H)ne.current=window.requestAnimationFrame(je(ve));else{const Le=await me.current.detect(F.current),lt=Le.some(oe=>!Fe.includes(oe.rawValue)),ct=Le.length>0;let be=ve.lastOnScan;(lt||we&&ct&&re-be>=ae)&&(Pe&&Ue.current&&Ue.current.paused&&Ue.current.play().catch(oe=>console.error("Error playing the sound",oe)),be=re,W(Le)),ct&&Z(Le),!ct&&Je&&Z(Le);const Ce={lastScan:re,lastOnScan:be,lastScanHadContent:ct,contentBefore:lt?Le.map(oe=>oe.rawValue):Fe};ne.current=window.requestAnimationFrame(je(Ce))}}},[F.current,W,Z,H,we,ae,Pe]);return{startScanning:p.useCallback(()=>{const ve=performance.now(),re={lastScan:ve,lastOnScan:ve,contentBefore:[],lastScanHadContent:!1};ne.current=window.requestAnimationFrame(je(re))},[je]),stopScanning:p.useCallback(()=>{ne.current!==null&&(window.cancelAnimationFrame(ne.current),ne.current=null)},[])}}({videoElementRef:m,onScan:t,onFound:G,formats:r,retryDelay:y.tracker===void 0?500:10,scanDelay:d,allowMultiple:u,sound:h});p.useEffect(()=>(w(!0),()=>{w(!1)}),[]),p.useEffect(()=>{x&&(V(),te())},[x,te,V]),p.useEffect(()=>{if(!nZ(b,k)){const M=b;n!=null&&n.deviceId&&delete M.facingMode,N(M)}},[n,b,k]);const z=p.useMemo(()=>({constraints:k,shouldStream:x&&!a}),[k,x,a]),$=p.useCallback(async()=>{var Z;const M=m.current;if(M==null)throw new Error("Video should be defined when component is mounted.");const F=g.current;if(F==null)throw new Error("Canvas should be defined when component is mounted.");const W=F.getContext("2d");if(W==null)throw new Error("Canvas should be defined when component is mounted.");if(z.shouldStream){await E.current.stopCamera(),j(!1);try{await E.current.startCamera(M,z),M?j(!0):await E.current.stopCamera()}catch(H){(Z=R.current)==null||Z.call(R,H),console.error("error",H)}}else F.width=M.videoWidth,F.height=M.videoHeight,W.drawImage(M,0,0,M.videoWidth,M.videoHeight),await E.current.stopCamera(),j(!1)},[z]);p.useEffect(()=>{(async()=>await $())()},[$]);const U=p.useMemo(()=>z.shouldStream&&S,[z.shouldStream,S]);return p.useEffect(()=>{if(U){if(g.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(W0(g.current),v.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(W0(v.current),m.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");te()}},[U,te]),i.jsxs("div",{style:{...tTe,...l==null?void 0:l.container},className:c==null?void 0:c.container,children:[i.jsx("video",{ref:m,style:{...nTe,...l==null?void 0:l.video,visibility:a?"hidden":"visible"},className:c==null?void 0:c.video,autoPlay:!0,muted:!0,playsInline:!0}),i.jsx("canvas",{ref:g,style:{display:a?"block":"none",position:"absolute",width:"100%",height:"100%"}}),i.jsx("canvas",{ref:v,style:{position:"absolute",width:"100%",height:"100%"}}),i.jsxs("div",{style:{position:"absolute",width:"100%",height:"100%"},children:[y.finder&&i.jsx(fTe,{scanning:S,capabilities:P.capabilities,onOff:y.onOff,zoom:y.zoom&&P.settings.zoom?{value:P.settings.zoom,onChange:async M=>{const F={...k,advanced:[{zoom:M}]};await P.updateConstraints(F)}}:void 0,torch:y.torch?{status:P.settings.torch??!1,toggle:async M=>{const F={...k,advanced:[{torch:M}]};await P.updateConstraints(F)}}:void 0,startScanning:async()=>await $(),stopScanning:async()=>{await P.stopCamera(),W0(v.current),j(!1)}}),o]})]})}function mTe(e,t=[]){let n=[];function r(s,o){const l=p.createContext(o);l.displayName=s+"Context";const c=n.length;n=[...n,o];const u=f=>{var y;const{scope:h,children:m,...g}=f,v=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=p.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:b,children:m})};u.displayName=s+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,pTe(a,...t)]}function pTe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var gTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rZ=gTe.reduce((e,t)=>{const n=Fy(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),WR="Progress",qR=100,[vTe]=mTe(WR),[yTe,xTe]=vTe(WR),aZ=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:s=bTe,...o}=e;(a||a===0)&&!YB(a)&&console.error(wTe(`${a}`,"Progress"));const l=YB(a)?a:qR;r!==null&&!QB(r,l)&&console.error(STe(`${r}`,"Progress"));const c=QB(r,l)?r:null,u=w1(c)?s(c,l):void 0;return i.jsx(yTe,{scope:n,value:c,max:l,children:i.jsx(rZ.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":w1(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":oZ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});aZ.displayName=WR;var sZ="ProgressIndicator",iZ=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=xTe(sZ,n);return i.jsx(rZ.div,{"data-state":oZ(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});iZ.displayName=sZ;function bTe(e,t){return`${Math.round(e/t*100)}%`}function oZ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function w1(e){return typeof e=="number"}function YB(e){return w1(e)&&!isNaN(e)&&e>0}function QB(e,t){return w1(e)&&!isNaN(e)&&e<=t&&e>=0}function wTe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qR}\`.`}function STe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lZ=aZ,CTe=iZ;const sp=p.forwardRef(({className:e,value:t,...n},r)=>i.jsx(lZ,{ref:r,className:De("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:i.jsx(CTe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));sp.displayName=lZ.displayName;const jTe=({onBack:e,onSwitchToGenerator:t,dataType:n,expectedPacketType:r,saveData:a,validateData:s,getDataSummary:o,decompressData:l,title:c,description:u,completionMessage:d,onComplete:f})=>{const[h,m]=p.useState(null),[g,v]=p.useState(!1),[b,y]=p.useState(null),[x,w]=p.useState({received:0,needed:0,percentage:0}),[S,j]=p.useState([]),[k,N]=p.useState(!1),[P,E]=p.useState(null),[R,O]=p.useState([]),[G,te]=p.useState(null),V=p.useRef(null),z=p.useRef(new Map),$=p.useRef(null),U=p.useRef(null),M=p.useCallback(me=>{},[]),F=p.useCallback(()=>{const me=Array.from(z.current.keys()).sort((re,Ye)=>re-Ye);if(me.length===0)return[];const Ue=[],ne=me[0],je=me[me.length-1];if(ne===void 0||je===void 0)return[];for(let re=0;re<=je;re++)z.current.has(re)||Ue.push(re);const ve=je;return ve!==U.current&&(U.current=ve,te(ve),M(` Estimated total packets: ${ve} (based on max packet ID: ${je})`)),Ue},[M]),W=p.useRef(0),Z=p.useRef(0),H=p.useRef({allowDuplicates:k,expectedPacketType:r,saveData:a,validateData:s,completionMessage:d,getDataSummary:o,onBack:e,dataType:n,decompressData:l,onComplete:f});p.useEffect(()=>{H.current={allowDuplicates:k,expectedPacketType:r,saveData:a,validateData:s,completionMessage:d,getDataSummary:o,onBack:e,dataType:n,decompressData:l,onComplete:f}},[k,r,a,s,d,o,e,n,l,f]);const ae=p.useRef(0),fe=p.useCallback(async me=>{const{allowDuplicates:Ue,expectedPacketType:ne,saveData:je,validateData:ve,decompressData:re}=H.current,Ye=Date.now();if(!(Ye-W.current<50)){W.current=Ye;try{if(!me||me.length===0||!me[0]){M(" Empty scan result");return}let Fe;try{Fe=JSON.parse(me[0].rawValue)}catch{M(" Not a fountain code QR (invalid JSON)");return}if(!Fe.type||!Fe.sessionId||Fe.packetId===void 0){M(" Not a fountain code packet (missing required fields)");return}if(M(` Scanned packet ${Fe.packetId} with indices [${Fe.indices.join(",")}]`),M(` Session: ${Fe.sessionId.slice(-8)}`),Fe.type!==ne){M(` Invalid QR code format - expected ${ne}, got ${Fe.type}`),le.error("Invalid QR code format");return}if(M(` Packets before processing: ${z.current.size}`),$.current?$.current!==Fe.sessionId&&(M(` Session change noted: ${$.current.slice(-4)}  ${Fe.sessionId.slice(-4)}`),M(" Continuing with same decoder (ignoring session change)")):(M(` First session: k=${Fe.k}, bytes=${Fe.bytes}`),$.current=Fe.sessionId,m(Fe.sessionId),V.current=VEe(),le.info(`Started session: ${Fe.sessionId.slice(-8)}`)),M(` Packets after session check: ${z.current.size}`),z.current.has(Fe.packetId)&&!Ue){M(` Duplicate packet ${Fe.packetId} ignored`),M(` Current: indices [${Fe.indices.join(",")}]`);return}if(z.current.set(Fe.packetId,Fe),M(` Added packet ${Fe.packetId}, total: ${z.current.size}`),V.current)try{const be=r2e(Fe.data),Ce=BEe(be);M(" Adding block to decoder...");const oe=V.current.addBlock(Ce);if(M(` Decoder result: ${oe?"COMPLETE!":"Need more"}`),oe){M(" DECODING COMPLETE!");const xt=V.current.getDecoded();M(` Decoded data size: ${xt.length} bytes`);let rt;try{if(xt.length>2&&xt[0]===31&&xt[1]===139){if(M(" Detected compressed data, decompressing..."),E(!0),re)rt=re(xt);else{const zt=OEe(xt),Pt=new TextDecoder().decode(zt);rt=JSON.parse(Pt)}M(" Decompression successful")}else{M(" Detected uncompressed data"),E(!1);const zt=new TextDecoder().decode(xt);rt=JSON.parse(zt),M(" JSON parsing successful")}}catch(Rt){M(` Data processing failed: ${Rt instanceof Error?Rt.message:String(Rt)}`),le.error("Failed to process reconstructed data");return}M(` Parsed data type: ${typeof rt}`),M(` Data keys: ${rt&&typeof rt=="object"?Object.keys(rt).join(", "):"N/A"}`),ve(rt)?(y(rt),v(!0),w({received:z.current.size,needed:z.current.size,percentage:100}),await je(rt)):(M(" Reconstructed data failed validation"),le.error("Reconstructed data is invalid"));return}}catch(be){M(` Block error: ${be instanceof Error?be.message:String(be)}`),le.error("Failed to process packet");return}const Je=z.current.size,Le=Math.max(Fe.k+3,10);(Le>ae.current||ae.current===0)&&(ae.current=Le);const lt=ae.current,ct=Math.min(Je/lt*100,99);if(w({received:Je,needed:lt,percentage:ct}),Date.now()-Z.current>500){const be=F();be.length>0&&be.length<=20?M(` Missing packets: [${be.join(", ")}]`):be.length>20?M(` Missing ${be.length} packets: [${be.slice(0,5).join(", ")}, ..., ${be.slice(-5).join(", ")}]`):M(" No missing packets in current range!"),O(Ce=>Ce.length===be.length&&Ce.length>0&&be.length>0&&Ce[0]===be[0]?Ce:be),Z.current=Date.now()}Je>Fe.k&&ct>90&&(M(` High packet count but no completion yet: k=${Fe.k}, received=${Je}`),M(" Decoder state check needed - may need more packets than theoretical minimum"),Je>lt*1.5&&(M(` SCANNING MAY BE STUCK: ${Je} packets >> ${lt} estimated`),M(" Consider checking the generator for packet navigation controls")))}catch(Fe){M(` QR scan error: ${Fe instanceof Error?Fe.message:String(Fe)}`),console.error("QR scan error:",Fe),le.error("Error processing QR code")}}},[M,F]),we=()=>{$.current=null,m(null),V.current=null,z.current.clear(),U.current=null,w({received:0,needed:0,percentage:0}),v(!1),y(null),j([]),E(null),O([]),te(null),M(" Scanner reset")},Pe=()=>{f?f():(le.success(`${n} data loaded successfully!`),e())};return g&&b?i.jsx("div",{className:"h-screen w-full flex flex-col items-center px-4 pt-6 pb-6",children:i.jsxs("div",{className:"flex flex-col gap-4 max-w-md w-full",children:[i.jsxs(X,{onClick:e,variant:"outline",size:"sm",className:"self-start",children:[i.jsx(Bue,{className:"h-4 w-4 mr-2"}),"Back"]}),i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{className:"text-center",children:[i.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:i.jsx(Ur,{className:"h-8 w-8 text-green-500"})}),i.jsx(We,{className:"text-green-600",children:"Reconstruction Complete!"}),i.jsx(zn,{children:d})]}),i.jsxs($e,{className:"flex flex-col items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"secondary",children:o(b)}),i.jsxs(Oe,{variant:"outline",children:[x.received," packets received"]})]}),i.jsxs("div",{className:"w-full space-y-2",children:[i.jsx(X,{onClick:Pe,className:"w-full",children:"Continue to App"}),i.jsx(X,{onClick:we,variant:"outline",className:"w-full",children:"Scan More Data"})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground text-start space-y-1",children:[i.jsx("p",{children:" Data saved to local storage"}),i.jsx("p",{children:" Ready to use throughout the app"})]})]})}):i.jsx("div",{className:"h-screen w-full flex flex-col items-center gap-6 px-4 pt-(--header-height)",children:i.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md w-full max-h-full overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx(X,{onClick:e,variant:"ghost",size:"sm",className:"flex items-center gap-2",children:" Back"}),t&&i.jsx(X,{onClick:t,variant:"outline",size:"sm",children:"Switch to Generator"})]}),i.jsxs(sr,{children:[i.jsx(OC,{className:"col-span-2",children:" Scanning Instructions"}),i.jsx(gr,{className:"col-span-2",children:"Scan fountain code packets in any order. Reconstruction will complete automatically when enough data is received."})]}),i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{className:"text-center",children:[i.jsx(We,{children:c}),i.jsx(zn,{children:u})]}),i.jsxs($e,{className:"flex flex-col items-center gap-4",children:[h&&i.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[i.jsxs(Oe,{variant:"secondary",children:["Session: ...",h.slice(-8)]}),i.jsxs(Oe,{variant:"outline",children:[x.received," packets"]}),i.jsxs(Oe,{variant:"outline",children:[x.percentage.toFixed(1),"%"]}),P===!0&&i.jsx(Oe,{variant:"default",className:"bg-green-600",children:" Compressed"}),P===!1&&i.jsx(Oe,{variant:"outline",children:" Standard"})]}),i.jsx("div",{className:"w-full h-64 md:h-80 overflow-hidden rounded-lg",children:i.jsx(hTe,{components:{finder:!1},scanDelay:100,styles:{video:{borderRadius:"7.5%",width:"100%",height:"100%",objectFit:"cover"}},onScan:fe,onError:()=>le.error("QR Scanner Error")})}),x.received>0&&i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[x.percentage.toFixed(1),"%"]})]}),i.jsx(sp,{value:Math.min(x.percentage,100),className:"w-full"}),R.length>0&&G&&i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-muted-foreground",children:"Missing Packets"}),i.jsxs(Oe,{variant:"outline",className:"text-xs",children:[R.length," missing"]})]}),i.jsx("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded max-h-16 overflow-y-auto",children:R.length<=30?i.jsxs("span",{children:["#",R.map(me=>me+1).join(", #")]}):i.jsxs("span",{children:["#",R.slice(0,10).map(me=>me+1).join(", #"),i.jsxs("span",{className:"text-orange-500",children:[" ... and ",R.length-10," more"]})]})})]}),R.length===0&&G&&x.received>5&&i.jsx("div",{className:"mt-2 text-sm",children:i.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[i.jsx(Ur,{className:"h-3 w-3"}),i.jsxs("span",{className:"text-xs",children:["All packets in range #",1," - #",G+1]})]})})]}),i.jsxs("div",{className:"flex gap-2 w-full flex-wrap",children:[h&&i.jsx(X,{onClick:we,variant:"outline",className:"flex-1 min-w-0",children:"Reset Scanner"}),!1]})]})]}),!1]})})};function NTe(e){var r,a;const n=((a=(r=Ja().state)==null?void 0:r.inputs)==null?void 0:a.alliance)||"blue";return i.jsx(xke,{actions:e.actions,onAddAction:e.onAddAction,onUndo:e.onUndo,canUndo:e.canUndo,alliance:n,matchNumber:e.matchNumber,matchType:e.matchType,teamNumber:e.teamNumber,onBack:e.onBack,onProceed:e.onProceed,children:i.jsx(kTe,{})})}function kTe(){const{actions:e,onAddAction:t,onUndo:n,canUndo:r,pendingWaypoint:a,setPendingWaypoint:s,accuracy:o,setAccuracy:l,accumulatedFuel:c,setAccumulatedFuel:u,fuelHistory:d,setFuelHistory:f,resetFuel:h,stuckStarts:m,isAnyStuck:g,isFieldRotated:v,toggleFieldOrientation:b,alliance:y,matchNumber:x,matchType:w,teamNumber:S,onBack:j,onProceed:k,generateId:N,activeZone:P,climbLevel:E,setClimbLevel:R,climbResult:O,setClimbResult:G,showPostClimbProceed:te,setShowPostClimbProceed:V,canvasDimensions:z,containerRef:$,isSelectingScore:U,setIsSelectingScore:M,isSelectingPass:F,setIsSelectingPass:W,isSelectingCollect:Z,setIsSelectingCollect:H}=yke(),ae=p.useRef({canvas:null}),fe=Um(),[we,Pe]=p.useState(!1),[me,Ue]=p.useState(),[ne,je]=p.useState(!1),[ve,re]=p.useState(()=>{const Q=localStorage.getItem("teleopBrokenDownStart");return Q?parseInt(Q,10):null}),[Ye,Fe]=p.useState(()=>{const Q=localStorage.getItem("teleopBrokenDownTime");return Q?parseInt(Q,10):0}),Je=ve!==null;p.useEffect(()=>{(async()=>{if(S)try{const ke=localStorage.getItem("eventKey")||"",He=await Qm(Number(S),ke);He&&He.gameData&&Ue(He.gameData.fuelCapacity)}catch(ke){console.error("Failed to load pit scouting data:",ke)}})()},[S]),p.useEffect(()=>{h()},[]),p.useEffect(()=>{a||h()},[a,h]);const Le=P?U7[P]:void 0;p.useEffect(()=>{fe&&Pe(!0)},[fe]);const lt=e.filter(Q=>Q.type==="score").reduce((Q,ke)=>Q+Math.abs(ke.fuelDelta||0),0),ct=e.filter(Q=>Q.type==="pass").reduce((Q,ke)=>Q+Math.abs(ke.fuelDelta||0),0),be=e.filter(Q=>Q.type==="defense").length,Ce=e.filter(Q=>Q.type==="steal").length,oe=p.useCallback((Q,ke,He,Be,tt)=>{const nt={id:N(),type:Q,action:ke,position:He,fuelDelta:Be,amountLabel:tt,timestamp:Date.now()};t(nt)},[t,N]),xt=()=>{if(ve){const Q=Date.now()-ve,ke=Ye+Q;Fe(ke),localStorage.setItem("teleopBrokenDownTime",String(ke)),re(null),localStorage.removeItem("teleopBrokenDownStart")}else{const Q=Date.now();re(Q),localStorage.setItem("teleopBrokenDownStart",String(Q))}},rt=(Q,ke,He,Be)=>{if(U){const tt={id:N(),type:"score",position:Q,action:ke,fuelDelta:-8,amountLabel:"...",timestamp:Date.now()};u(0),f([]),l(0),s(tt),M(!1)}else if(F||He){const tt={id:N(),type:"pass",position:Q,action:"partner",fuelDelta:0,amountLabel:"...",timestamp:Date.now()};u(0),f([]),l(0),s(tt),W(!1)}else(Z||Be)&&(oe("collect","field",Q,8),H(!1))},Rt=Q=>{const ke=cl[Q];if(!ke)return;const He={x:ke.x,y:ke.y};if(U){switch(Q){case"shot_moving":case"shot_depot_trench":case"shot_outpost_trench":case"shot_hub":case"shot_outpost_close":case"shot_outpost_medium":case"shot_outpost_far":case"shot_depot_close":case"shot_depot_medium":case"shot_depot_far":rt(He,Q);break}return}if(!(a||F||Je))switch(Q){case"trench1":case"trench2":case"bump1":case"bump2":const Be=Q.includes("trench")?"trench":"bump";oe("traversal",Be,He);break;case"hub":M(!0);break;case"pass":case"pass_alliance":W(!0),rt(He,Q,!0);break;case"collect_neutral":case"collect_alliance":H(!0),rt(He,Q,void 0,!0);break;case"tower":s({id:N(),type:"climb",action:"attempt",position:He,timestamp:Date.now(),zone:"allianceZone"}),R(void 0),G("success");break;case"defense_alliance":case"defense_neutral":case"defense_opponent":t({id:N(),type:"defense",timestamp:Date.now()});break;case"pass_opponent":W(!0),rt(He,Q,!0);break;case"steal":t({id:N(),type:"steal",timestamp:Date.now()});break}},zt=Q=>{u(ke=>ke+Q),f(ke=>[...ke,Q])},Pt=()=>{if(!a||c===0)return;const Q={...a,fuelDelta:a.type==="score"?-c:c,amountLabel:`${c}`,accuracy:a.type==="score"?o:1};t(Q),s(null),u(0),l(0),f([])},It=()=>{s(null),u(0),l(0),f([]),M(!1),W(!1)},an=()=>{if(d.length===0)return;const Q=d[d.length-1];u(ke=>ke-Q),f(ke=>ke.slice(0,-1))},Jt=()=>{s(null),R(void 0)},jn=()=>{ve&&re(null),n&&n()},Re=K7("teleop","allianceZone"),Ke=i.jsxs("div",{className:De("flex flex-col gap-2",we&&"h-full"),children:[i.jsx(FC,{phase:"teleop",stats:[{label:"Scored",value:lt,color:"green"},{label:"Passed",value:ct,color:"purple"}],currentZone:P,isFullscreen:we,onFullscreenToggle:()=>Pe(!we),actionLogSlot:i.jsx(Kke,{actions:e,open:ne,onOpenChange:je}),onActionLogOpen:()=>je(!0),matchNumber:x,matchType:w,teamNumber:S,alliance:y,isFieldRotated:v,canUndo:r,onUndo:jn,onBack:j,onProceed:()=>{if(ve){const Q=Date.now()-ve,ke=Ye+Q;localStorage.setItem("teleopBrokenDownTime",String(ke))}k&&k()},toggleFieldOrientation:b,isBrokenDown:Je,onBrokenDownToggle:xt}),i.jsx("div",{className:De("flex-1 relative",we?"h-full flex items-center justify-center":""),children:i.jsxs("div",{ref:$,className:De("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none","w-full aspect-[2/1]",we?"max-h-[85vh] m-auto":"h-auto"),style:{transform:v?"rotate(180deg)":void 0},children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx(Ld,{ref:ae,actions:e,pendingWaypoint:a,alliance:y,isFieldRotated:v,width:z.width,height:z.height,drawConnectedPaths:!1,drawingZoneBounds:Le}),!a&&!U&&!F&&i.jsx(i.Fragment,{children:Re.map(Q=>{let ke=cl[Q];if(!ke)return null;let He;return Q==="defense_alliance"||Q==="defense_neutral"||Q==="defense_opponent"?He=be:Q==="steal"&&(He=Ce),i.jsx(Jg,{elementKey:Q,element:ke,isVisible:!0,isDisabled:g&&!m[Q],isStuck:!!m[Q],count:He,onClick:Rt,alliance:y,isFieldRotated:v,containerWidth:z.width},Q)})}),U&&i.jsx("div",{className:"absolute inset-0 z-20",children:z7.map(Q=>i.jsx(Jg,{elementKey:Q,element:cl[Q],isVisible:!0,onClick:Rt,alliance:y,isFieldRotated:v,containerWidth:z.width,isDisabled:!1},Q))}),U&&i.jsx("div",{className:De("absolute inset-0 z-30 flex items-end justify-center pb-4 pointer-events-none",v&&"rotate-180"),children:i.jsxs(_e,{className:"pointer-events-auto bg-background/95 backdrop-blur-sm border-green-500/50 shadow-2xl py-2 px-3 flex flex-row items-center gap-4",children:[i.jsx(Oe,{variant:"default",className:"bg-green-600",children:"SCORING MODE"}),i.jsx("span",{className:"text-sm font-medium",children:"Select (approximately) Where They Are"}),i.jsx(X,{onClick:Q=>{Q.stopPropagation(),M(!1)},variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",children:""})]})}),a&&i.jsx(G7,{pendingWaypoint:a,accumulatedFuel:c,fuelHistory:d,isFieldRotated:v,alliance:y,robotCapacity:me,onFuelSelect:zt,onAccuracySelect:(Q,ke)=>{l(Q),console.log(ke)},onFuelUndo:an,climbResult:O,onClimbResultSelect:Q=>G(Q),climbWithLevels:!0,climbLevel:E,onClimbLevelSelect:Q=>R(Q),onConfirm:a.type==="climb"?()=>{if(E&&O){const Q={...a,action:E,amountLabel:`${E} ${O==="success"?"":""}`,climbLevel:E,climbResult:O};t(Q),s(null),R(void 0),G("success"),V(!0)}}:Pt,onCancel:a.type==="climb"?Jt:It}),te&&k&&i.jsx(dY,{isFieldRotated:v,onProceed:k,onStay:()=>V(!1),nextPhaseName:"Endgame"})]})})]});return we?i.jsx("div",{className:"fixed inset-0 z-[100] bg-background p-4 flex flex-col",children:Ke}):Ke}const ATe=["Left Trench","Left Bump","Hub","Right Bump","Right Trench"],ZB=["Cycler","Clean Up","Passer","Thief","Defense"];function PTe({gameData:e={},onGameDataChange:t}){const n=(a,s)=>{t({...e,[a]:s})},r=(a,s,o)=>{const l=e[a]||[],c=o?[...l,s]:l.filter(u=>u!==s);n(a,c)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Physical Specifications"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"maxLength",children:"Robot Max Length (inches, with any extension)"}),i.jsx(en,{id:"maxLength",type:"number",placeholder:"e.g., 30",value:e.maxLength||"",onChange:a=>n("maxLength",parseFloat(a.target.value)||0)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"maxWidth",children:"Robot Max Width (inches, with any extension)"}),i.jsx(en,{id:"maxWidth",type:"number",placeholder:"e.g., 28",value:e.maxWidth||"",onChange:a=>n("maxWidth",parseFloat(a.target.value)||0)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"maxHeight",children:"Robot Max Height (inches)"}),i.jsx(en,{id:"maxHeight",type:"number",placeholder:"e.g., 22",value:e.maxHeight||"",onChange:a=>n("maxHeight",parseFloat(a.target.value)||0)})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(X,{type:"button",variant:e.canGoUnderTrench?"default":"outline",onClick:()=>n("canGoUnderTrench",!e.canGoUnderTrench),className:"flex-1",children:'Can go under trench (22.25" clearance)'})})]})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Fuel Handling"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"fuelCapacity",children:"Fuel Capacity (max pieces held)"}),i.jsx(en,{id:"fuelCapacity",type:"number",placeholder:"e.g., 8",value:e.fuelCapacity||"",onChange:a=>n("fuelCapacity",parseInt(a.target.value)||0)})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(X,{type:"button",variant:e.canOutpostPickup?"default":"outline",onClick:()=>n("canOutpostPickup",!e.canOutpostPickup),className:"flex-1",children:"Can pickup from outpost chute"})}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(X,{type:"button",variant:e.canPassToCorral?"default":"outline",onClick:()=>n("canPassToCorral",!e.canPassToCorral),className:"flex-1",children:"Can pass fuel to corral"})})]})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Strategic Preferences"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{children:"Preferred Starting Position(s)"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:ATe.map(a=>i.jsx(X,{type:"button",variant:(e.preferredStartPositions||[]).includes(a)?"default":"outline",onClick:()=>r("preferredStartPositions",a,!(e.preferredStartPositions||[]).includes(a)),className:"h-auto py-3",children:a},a))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{children:"Preferred Role - Active Shift"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:ZB.map(a=>i.jsx(X,{type:"button",variant:(e.preferredActiveRoles||[]).includes(a)?"default":"outline",onClick:()=>r("preferredActiveRoles",a,!(e.preferredActiveRoles||[]).includes(a)),className:"h-auto py-3",children:a},`active-${a}`))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{children:"Preferred Role - Inactive Shift"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:ZB.map(a=>i.jsx(X,{type:"button",variant:(e.preferredInactiveRoles||[]).includes(a)?"default":"outline",onClick:()=>r("preferredInactiveRoles",a,!(e.preferredInactiveRoles||[]).includes(a)),className:"h-auto py-3",children:a},`inactive-${a}`))})]})]})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Autonomous & Endgame"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(X,{type:"button",variant:e.canAutoClimbL1?"default":"outline",onClick:()=>n("canAutoClimbL1",!e.canAutoClimbL1),className:"flex-1",children:"Can climb Level 1 in auto"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"targetClimbLevel",children:"Target Endgame Climb Level"}),i.jsxs(Br,{value:e.targetClimbLevel||"none",onValueChange:a=>n("targetClimbLevel",a),children:[i.jsx(Vr,{id:"targetClimbLevel",children:i.jsx(oa,{placeholder:"Select climb level"})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"none",children:"None"}),i.jsx(ot,{value:"level1",children:"Level 1 (10 pts)"}),i.jsx(ot,{value:"level2",children:"Level 2 (20 pts)"}),i.jsx(ot,{value:"level3",children:"Level 3 (30 pts)"})]})]})]})]})]})]})}function cZ({phase:e,onAddAction:t,actions:n=[],onUndo:r,canUndo:a=!1,matchNumber:s,matchType:o,teamNumber:l,onBack:c,onProceed:u}){return e==="auto"?i.jsx(zke,{onAddAction:t,actions:n,onUndo:r,canUndo:a,matchNumber:s,matchType:o,teamNumber:l,onBack:c,onProceed:u}):i.jsx(NTe,{onAddAction:t,actions:n,onUndo:r,canUndo:a,matchNumber:s,matchType:o,teamNumber:l,onBack:c,onProceed:u})}function uZ({phase:e,status:t,onStatusUpdate:n}){const r=ld[e];if(!r)return null;const a=new Map;Object.entries(r).forEach(([o,l])=>{if(l.excludeFromUI)return;const c=l.group||"default";a.has(c)||a.set(c,[]),a.get(c).push({key:o,config:l})});const s={climb:"Tower Climb",status:"Status",roleActive:"Active Phase Role(s)",roleInactive:"Inactive Phase Role(s)",passingZone:"Passing Zones",accuracy:"Shooting Accuracy",default:"Status"};return i.jsx("div",{className:"space-y-6",children:Array.from(a.entries()).map(([o,l])=>{const c=["climb","accuracy"].includes(o);return i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-sm mb-3",children:s[o]||o}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:l.map(({key:u,config:d})=>{const f=t==null?void 0:t[u];return i.jsxs(X,{onClick:()=>{if(c){const h={};l.forEach(m=>{h[m.key]=!1}),h[u]=!0,n(h)}else n({[u]:!(t!=null&&t[u])})},variant:f?"default":"outline",className:"h-auto py-2 flex flex-col items-center",style:f?{backgroundColor:"#3b82f6",color:"white"}:void 0,children:[i.jsxs("div",{className:"font-medium",children:[f?" ":"",d.label]}),d.description&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:d.description})]},u)})})]},o)})})}const ETe=()=>{var O,G,te,V,z,$,U,M,F,W,Z,H,ae,fe,we;const{transformation:e}=cf(),t=Ja(),n=zo(),r=t.state,{getNextRoute:a,getPrevRoute:s,isLastPage:o}=nx(),l=o("autoStart"),[c,u]=p.useState(((G=(O=r==null?void 0:r.inputs)==null?void 0:O.startPoses)==null?void 0:G[0])||null),[d,f]=p.useState(((V=(te=r==null?void 0:r.inputs)==null?void 0:te.startPoses)==null?void 0:V[1])||null),[h,m]=p.useState((($=(z=r==null?void 0:r.inputs)==null?void 0:z.startPoses)==null?void 0:$[2])||null),[g,v]=p.useState(((M=(U=r==null?void 0:r.inputs)==null?void 0:U.startPoses)==null?void 0:M[3])||null),[b,y]=p.useState(((W=(F=r==null?void 0:r.inputs)==null?void 0:F.startPoses)==null?void 0:W[4])||null),[x,w]=p.useState(((H=(Z=r==null?void 0:r.inputs)==null?void 0:Z.startPoses)==null?void 0:H[5])||null),S=[c,d,h,g,b,x],j=[u,f,m,v,y,w],k=()=>S.some(me=>me===!0)?!0:(le.error("Please select a starting position on the field"),!1),N=()=>{const Pe=s("autoStart")||"/game-start";n(Pe,{state:{inputs:{...(r==null?void 0:r.inputs)||{},startPosition:S.every(me=>me===!1)?[null,null,null,null,null,null]:S}}})},P=async()=>{if(!k())return;const Pe={...(r==null?void 0:r.inputs)||{},startPosition:S.every(me=>me===!1)?[null,null,null,null,null,null]:S};if(l){if(localStorage.setItem("startPosition",JSON.stringify(Pe.startPosition)),!await rx({inputs:Pe,transformation:e,onSuccess:()=>n("/game-start")}))return}else{const me=a("autoStart")||"/auto-scoring";n(me,{state:{inputs:Pe,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})}},E=S.findIndex(Pe=>Pe===!0),R=S.some(Pe=>Pe===!0);return i.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center px-4 pt-12 pb-24 2xl:pb-6",children:[i.jsx("div",{className:"w-full max-w-7xl xl:max-w-360 2xl:max-w-400",children:i.jsx("h1",{className:"text-2xl font-bold pb-4 xl:text-3xl 2xl:text-4xl xl:pb-6",children:"Auto Start"})}),i.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-6 xl:gap-8 2xl:gap-10 max-w-7xl xl:max-w-360 2xl:max-w-400 w-full flex-1",children:[i.jsx("div",{className:"w-full lg:flex-1",children:i.jsx(eke,{startPosition:S,setStartPosition:j,alliance:(ae=r==null?void 0:r.inputs)==null?void 0:ae.alliance})}),i.jsxs("div",{className:"flex flex-col gap-4 lg:gap-6 w-full lg:w-80 xl:w-96 2xl:w-104 lg:h-full pb-4 lg:pb-0",children:[(r==null?void 0:r.inputs)&&i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Match Details"})}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:r.inputs.matchNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Alliance:"}),i.jsx(Oe,{variant:r.inputs.alliance==="red"?"destructive":"default",className:r.inputs.alliance==="blue"?"bg-blue-500 text-white":"bg-red-500 text-white",children:((fe=r.inputs.alliance)==null?void 0:fe.charAt(0).toUpperCase())+((we=r.inputs.alliance)==null?void 0:we.slice(1))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Team:"}),i.jsx("span",{className:"font-medium",children:r.inputs.selectTeam})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Scout:"}),i.jsx("span",{className:"font-medium",children:r.inputs.scoutName})]})]})]}),i.jsxs(_e,{className:"hidden lg:block",children:[i.jsx(Ge,{className:"pb-3",children:i.jsx(We,{className:"text-lg",children:"Instructions"})}),i.jsx($e,{children:i.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("li",{children:" Click on the starting zone where your robot begins"}),i.jsx("li",{children:" Only one position can be selected at a time"}),i.jsx("li",{children:" The selected position will be highlighted"}),i.jsx("li",{children:" You can change your selection by clicking a different zone"})]})})]}),R?i.jsx(_e,{className:"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/20",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oe,{className:"bg-green-600",children:"Ready"}),i.jsxs("span",{className:"text-sm text-green-700 dark:text-green-300",children:["Starting position ",E," selected"]})]})})}):i.jsx(_e,{className:"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950/20",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5 text-orange-500 dark:text-amber-300"}),i.jsx("span",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Please select a starting position"})]})})}),i.jsxs("div",{className:"flex gap-4 w-full lg:mt-auto",children:[i.jsx(X,{variant:"outline",onClick:N,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsx(X,{onClick:P,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,disabled:!R,children:l?"Submit Match Data":"Continue to Auto"})]})]})]})]})},TTe=()=>{var k,N,P;const{transformation:e}=cf(),t=Ja(),n=zo(),r=t.state,{getNextRoute:a,getPrevRoute:s,isLastPage:o}=nx(),l=o("autoScoring"),c=()=>{const E=localStorage.getItem("autoStateStack");return E?JSON.parse(E):[]},u=()=>{const E=localStorage.getItem("autoRobotStatus");return E?JSON.parse(E):{}},d=()=>{const E=localStorage.getItem("autoUndoHistory");return E?JSON.parse(E):[]},[f,h]=p.useState(c()),[m,g]=p.useState(u()),[v,b]=p.useState(d());p.useEffect(()=>{localStorage.setItem("autoStateStack",JSON.stringify(f))},[f]),p.useEffect(()=>{localStorage.setItem("autoRobotStatus",JSON.stringify(m))},[m]),p.useEffect(()=>{localStorage.setItem("autoUndoHistory",JSON.stringify(v))},[v]);const y=E=>{const R={...E,timestamp:Date.now()};h(O=>[...O,R]),b(O=>[...O,{type:"action",data:R}])},x=E=>{b(R=>[...R,{type:"status",data:m}]),g(R=>({...R,...E}))},w=()=>{if(v.length===0){le.error("No actions to undo");return}const E=v[v.length-1];E.type==="action"?h(R=>R.slice(0,-1)):E.type==="status"&&g(E.data),b(R=>R.slice(0,-1))},S=()=>{const E=s("autoScoring")||"/auto-start";n(E,{state:{inputs:r==null?void 0:r.inputs,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})},j=async()=>{if(l){if(!await rx({inputs:r==null?void 0:r.inputs,transformation:e,onSuccess:()=>n("/game-start")}))return}else{const E=a("autoScoring")||"/teleop-scoring";n(E,{state:{inputs:r==null?void 0:r.inputs,autoStateStack:f,autoRobotStatus:m,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})}};return i.jsxs("div",{className:"h-full flex flex-col items-center pt-12 pb-24 px-4 2xl:pb-6",children:[i.jsx("div",{className:"w-full max-w-7xl",children:i.jsx("h1",{className:"text-2xl font-bold pb-4",children:"Autonomous"})}),i.jsxs("div",{className:"flex flex-col-reverse lg:flex-row items-start gap-0 lg:gap-6 max-w-7xl w-full h-full min-h-0",children:[i.jsxs("div",{className:"w-full lg:flex-1 space-y-4 min-h-0 overflow-y-auto",children:[i.jsx(cZ,{phase:"auto",onAddAction:y,actions:f,onUndo:w,canUndo:v.length>0,matchNumber:(k=r==null?void 0:r.inputs)==null?void 0:k.matchNumber,matchType:(N=r==null?void 0:r.inputs)==null?void 0:N.matchType,teamNumber:(P=r==null?void 0:r.inputs)==null?void 0:P.selectTeam,onBack:S,onProceed:j}),i.jsxs("div",{className:"flex lg:hidden gap-4 w-full",children:[i.jsx(X,{variant:"outline",onClick:S,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(X,{onClick:j,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,children:[l?"Submit Match Data":"Continue to Teleop",i.jsx(kd,{className:"ml-0.5"})]})]})]}),i.jsx("div",{className:"flex flex-col gap-4 w-full lg:w-80 pb-4 lg:pb-0 min-h-0",children:i.jsxs("div",{className:"flex flex-col gap-4 w-full lg:w-80 pb-4 lg:pb-0 min-h-0",children:[(r==null?void 0:r.inputs)&&i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Autonomous"})}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:r.inputs.matchNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Team:"}),i.jsx("span",{className:"font-medium",children:r.inputs.selectTeam})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),i.jsx(Oe,{variant:"outline",children:f.length})]})]})]}),i.jsxs(_e,{className:"h-64",children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Recent Actions"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-2 h-40 overflow-y-auto pb-2",children:[v.slice(-8).reverse().map((E,R)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:E.type==="action"?i.jsxs(i.Fragment,{children:[E.data.actionType||E.data.type||"Action",E.data.pieceType&&` - ${E.data.pieceType}`,E.data.location&&` @ ${E.data.location}`,E.data.level&&` (${E.data.level})`]}):i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Status Change"})}),i.jsxs(Oe,{variant:"outline",className:"text-xs",children:["#",v.length-R]})]},R)),v.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No actions recorded yet"})]})})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Robot Status"})}),i.jsx($e,{children:i.jsx(uZ,{phase:"auto",status:m,onStatusUpdate:x})})]}),i.jsx(X,{variant:"outline",onClick:w,disabled:v.length===0,className:"w-full",children:"Undo Last Change"}),i.jsxs("div",{className:"hidden lg:flex gap-4 w-full",children:[i.jsx(X,{variant:"outline",onClick:S,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(X,{onClick:j,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,children:[l?"Submit Match Data":"Continue to Teleop",i.jsx(kd,{className:"ml-0.5"})]})]})]})})]})]})},_Te=()=>{var j,k,N;const e=Ja(),t=zo(),{transformation:n}=cf(),r=e.state,{getNextRoute:a,getPrevRoute:s,isLastPage:o}=nx(),l=o("teleopScoring"),c=()=>{const P=localStorage.getItem("teleopStateStack");return P?JSON.parse(P):[]},u=()=>{const P=localStorage.getItem("teleopRobotStatus");return P?JSON.parse(P):{}},d=()=>{const P=localStorage.getItem("teleopUndoHistory");return P?JSON.parse(P):[]},[f,h]=p.useState(c()),[m,g]=p.useState(u()),[v,b]=p.useState(d());p.useEffect(()=>{localStorage.setItem("teleopStateStack",JSON.stringify(f))},[f]),p.useEffect(()=>{localStorage.setItem("teleopRobotStatus",JSON.stringify(m))},[m]),p.useEffect(()=>{localStorage.setItem("teleopUndoHistory",JSON.stringify(v))},[v]);const y=P=>{const E={...P,timestamp:Date.now()};h(R=>[...R,E]),b(R=>[...R,{type:"action",data:E}])},x=()=>{if(v.length===0){le.error("No changes to undo");return}const P=v[v.length-1];P.type==="action"?h(E=>E.slice(0,-1)):P.type==="status"&&g(P.data),b(E=>E.slice(0,-1))},w=()=>{const P=s("teleopScoring")||"/auto-scoring";t(P,{state:{inputs:r==null?void 0:r.inputs,autoStateStack:r==null?void 0:r.autoStateStack,autoRobotStatus:r==null?void 0:r.autoRobotStatus,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})},S=async()=>{if(l){if(!await rx({inputs:r==null?void 0:r.inputs,transformation:n,onSuccess:()=>t("/game-start")}))return}else{const P=a("teleopScoring")||"/endgame";t(P,{state:{inputs:r==null?void 0:r.inputs,autoStateStack:r==null?void 0:r.autoStateStack,autoRobotStatus:r==null?void 0:r.autoRobotStatus,teleopStateStack:f,teleopRobotStatus:m,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})}};return i.jsxs("div",{className:"h-fit w-full flex flex-col items-center px-4 pt-12 pb-24 2xl:pb-6",children:[i.jsx("div",{className:"w-full max-w-7xl",children:i.jsx("h1",{className:"text-2xl font-bold pb-4",children:"Teleoperated"})}),i.jsxs("div",{className:"flex flex-col-reverse lg:flex-row items-start gap-0 lg:gap-6 max-w-7xl w-full h-full min-h-0",children:[i.jsxs("div",{className:"w-full lg:flex-1 space-y-4 min-h-0 overflow-y-auto",children:[i.jsx(cZ,{phase:"teleop",onAddAction:y,actions:f,onUndo:x,canUndo:v.length>0,matchNumber:(j=r==null?void 0:r.inputs)==null?void 0:j.matchNumber,matchType:(k=r==null?void 0:r.inputs)==null?void 0:k.matchType,teamNumber:(N=r==null?void 0:r.inputs)==null?void 0:N.selectTeam,onBack:w,onProceed:S}),i.jsxs("div",{className:"flex lg:hidden gap-4 w-full",children:[i.jsx(X,{variant:"outline",onClick:w,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(X,{onClick:S,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,children:[l?"Submit Match Data":"Continue to Endgame",i.jsx(kd,{className:"ml-0.5"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4 w-full lg:w-80 pb-4 lg:pb-0 min-h-0",children:[(r==null?void 0:r.inputs)&&i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Teleoperated"})}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:r.inputs.matchNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Team:"}),i.jsx("span",{className:"font-medium",children:r.inputs.selectTeam})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),i.jsx(Oe,{variant:"outline",children:f.length})]})]})]}),i.jsxs(_e,{className:"h-64",children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Recent Actions"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-2 h-40 overflow-y-auto pb-2",children:[v.slice(-8).reverse().map((P,E)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:P.type==="action"?i.jsxs(i.Fragment,{children:[P.data.actionType||P.data.type||"Action",P.data.pieceType&&` - ${P.data.pieceType}`,P.data.location&&` @ ${P.data.location}`,P.data.level&&` (${P.data.level})`]}):i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Status Change"})}),i.jsxs(Oe,{variant:"outline",className:"text-xs",children:["#",v.length-E]})]},E)),v.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No actions recorded yet"})]})})]}),zb.pages.showTeleopStatus,i.jsx(X,{variant:"outline",onClick:x,disabled:v.length===0,className:"w-full",children:"Undo Last Change"}),i.jsxs("div",{className:"hidden lg:flex gap-4 w-full",children:[i.jsx(X,{variant:"outline",onClick:w,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(X,{onClick:S,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,children:[l?"Submit Match Data":"Continue to Endgame",i.jsx(kd,{className:"ml-0.5"})]})]})]})]})]})};function dZ({className:e,...t}){return i.jsx("textarea",{"data-slot":"textarea",className:De("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const DTe=()=>{var g,v,b,y;const{ui:e,transformation:t}=cf(),{StatusToggles:n}=e,r=Ja(),a=zo(),s=r.state,{getPrevRoute:o}=nx(),[l,c]=p.useState(()=>{const x=localStorage.getItem("endgameRobotStatus");return x?JSON.parse(x):{}}),[u,d]=p.useState(""),f=x=>{c(w=>{const S={...w,...x};return localStorage.setItem("endgameRobotStatus",JSON.stringify(S)),S}),le.success("Status updated")},h=async()=>{localStorage.setItem("endgameRobotStatus",JSON.stringify(l)),await rx({inputs:s==null?void 0:s.inputs,transformation:t,comment:u,onSuccess:()=>a("/game-start")})},m=()=>{const x=o("endgame")||"/teleop-scoring";a(x,{state:{...s,endgameData:{robotStatus:l,comment:u}}})};return i.jsxs("div",{className:"h-full w-full flex flex-col items-center px-4 pt-12 pb-24",children:[i.jsx("div",{className:"w-full max-w-2xl",children:i.jsx("h1",{className:"text-2xl font-bold pb-4",children:"Endgame"})}),i.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-2xl w-full h-full min-h-0 pb-4",children:[(s==null?void 0:s.inputs)&&i.jsxs(_e,{className:"w-full",children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Match Summary"})}),i.jsxs($e,{className:"space-y-2",children:[s.inputs.eventKey&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Event:"}),i.jsx("span",{className:"font-medium",children:s.inputs.eventKey})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:s.inputs.matchNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Alliance:"}),i.jsx(Oe,{variant:s.inputs.alliance==="red"?"destructive":"default",className:s.inputs.alliance==="blue"?"bg-blue-500 text-white hover:bg-blue-600":"bg-red-500 text-white hover:bg-red-600",children:((g=s.inputs.alliance)==null?void 0:g.charAt(0).toUpperCase())+((v=s.inputs.alliance)==null?void 0:v.slice(1))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Team:"}),i.jsx("span",{className:"font-medium",children:s.inputs.selectTeam})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Auto Actions:"}),i.jsx(Oe,{variant:"outline",children:((b=s==null?void 0:s.autoStateStack)==null?void 0:b.length)||0})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Teleop Actions:"}),i.jsx(Oe,{variant:"outline",children:((y=s==null?void 0:s.teleopStateStack)==null?void 0:y.length)||0})]})]})]}),i.jsxs(_e,{className:"w-full",children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Endgame Status"})}),i.jsx($e,{children:i.jsx(n,{phase:"endgame",status:l,onStatusUpdate:f})})]}),i.jsxs(_e,{className:"w-full flex-1",children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"Comments"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"comment",children:"Additional Notes"}),i.jsx(dZ,{id:"comment",placeholder:"Enter any additional observations or notes about the match...",value:u,onChange:x=>d(x.target.value),className:"min-h-24"})]})})]}),i.jsxs("div",{className:"flex gap-4 w-full pb-8",children:[i.jsx(X,{variant:"outline",onClick:m,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(X,{onClick:h,className:"flex-2 h-12 text-lg font-semibold",style:{backgroundColor:"#16a34a",color:"white"},children:["Submit Match Data",i.jsx(kd,{className:"ml-0.5"})]})]})]})]})};function RTe({teamNumber:e,eventKey:t,scoutName:n,onTeamNumberChange:r,onEventKeyChange:a,onScoutNameChange:s,onLoadExisting:o,isLoading:l=!1}){const c=d=>{const f=d.target.value;if(f==="")r("");else{const h=parseInt(f,10);!isNaN(h)&&h>0&&r(h)}},u=e!==""&&t!=="";return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Vw,{className:"h-5 w-5"}),"Basic Information"]}),o&&i.jsxs(X,{variant:"outline",size:"sm",onClick:o,disabled:l||!u,children:[i.jsx(Ode,{className:"h-4 w-4 mr-2"}),"Load Existing"]})]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{htmlFor:"teamNumber",className:"flex items-center gap-2",children:[i.jsx(Gde,{className:"h-4 w-4"}),"Team Number *"]}),i.jsx(en,{id:"teamNumber",type:"number",placeholder:"e.g., 3314",value:e===""?"":e,onChange:c,min:"1",step:"1",required:!0,className:"text-lg"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{htmlFor:"eventKey",className:"flex items-center gap-2",children:[i.jsx(Lc,{className:"h-4 w-4"}),"Event *"]}),i.jsx(LC,{currentEventKey:t,onEventKeyChange:a})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{htmlFor:"scoutName",className:"flex items-center gap-2",children:[i.jsx(Vw,{className:"h-4 w-4"}),"Scout Name *"]}),i.jsx(en,{id:"scoutName",type:"text",placeholder:"Your name",value:n,onChange:d=>s(d.target.value),required:!0,className:"text-lg"})]})]})]})}function MTe({robotPhoto:e,onRobotPhotoChange:t}){const[n,r]=p.useState(!1),[a,s]=p.useState(!1),o=p.useRef(null),l=p.useRef(null),c=p.useRef(null),u=p.useRef(null),d=async()=>{r(!0),s(!1);try{let v=null;try{v=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"},width:{ideal:1920},height:{ideal:1080}}})}catch{console.log("Back camera not available, trying with ideal preference..."),v=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1920},height:{ideal:1080}}})}l.current&&v&&(l.current.srcObject=v,u.current=v,l.current.onloadedmetadata=()=>{l.current&&l.current.play().then(()=>{s(!0)}).catch(b=>{console.error("Error playing video:",b),le.error("Failed to start video preview"),f()})})}catch(v){console.error("Error accessing camera:",v),le.error("Failed to access camera. Please check permissions."),r(!1)}},f=()=>{u.current&&(u.current.getTracks().forEach(v=>v.stop()),u.current=null),l.current&&(l.current.srcObject=null),r(!1),s(!1)},h=()=>{if(l.current&&c.current){const v=l.current,b=c.current;b.width=v.videoWidth,b.height=v.videoHeight;const y=b.getContext("2d");if(y){y.drawImage(v,0,0,b.width,b.height);const x=b.toDataURL("image/jpeg",.8);t(x),f(),le.success("Photo captured!")}}},m=v=>{var y;const b=(y=v.target.files)==null?void 0:y[0];if(b){if(b.size>5*1024*1024){le.error("File size must be less than 5MB");return}const x=new FileReader;x.onload=w=>{var j;const S=(j=w.target)==null?void 0:j.result;t(S),le.success("Photo uploaded!")},x.readAsDataURL(b)}},g=()=>{t(void 0),o.current&&(o.current.value=""),le.success("Photo removed")};return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Qde,{className:"h-5 w-5"}),"Robot Photo"]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:m,className:"hidden"}),i.jsx("canvas",{ref:c,className:"hidden"}),n&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative w-full rounded-lg border bg-black overflow-hidden",children:[!a&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{minHeight:"300px"},children:i.jsxs("div",{className:"text-white text-center",children:[i.jsx(N0,{className:"h-12 w-12 mx-auto mb-2 animate-pulse"}),i.jsx("p",{children:"Loading camera..."})]})}),i.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg",style:{maxHeight:"60vh",display:a?"block":"none"}})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(X,{onClick:h,className:"flex-1",disabled:!a,children:[i.jsx(N0,{className:"mr-2 h-4 w-4"}),"Capture"]}),i.jsx(X,{onClick:f,variant:"outline",className:"flex-1",children:"Cancel"})]})]}),e&&!n&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("img",{src:e,alt:"Robot",className:"w-full rounded-lg border"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(X,{onClick:d,variant:"outline",className:"flex-1",children:[i.jsx(N0,{className:"mr-2 h-4 w-4"}),"Retake"]}),i.jsxs(X,{onClick:()=>{var v;return(v=o.current)==null?void 0:v.click()},variant:"outline",className:"flex-1",children:[i.jsx(am,{className:"mr-2 h-4 w-4"}),"Upload"]}),i.jsx(X,{onClick:g,variant:"destructive",size:"icon",children:i.jsx(Wa,{className:"h-4 w-4"})})]})]}),!e&&!n&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(X,{onClick:d,className:"flex-1",children:[i.jsx(N0,{className:"mr-2 h-4 w-4"}),"Take Photo"]}),i.jsxs(X,{onClick:()=>{var v;return(v=o.current)==null?void 0:v.click()},variant:"outline",className:"flex-1",children:[i.jsx(am,{className:"mr-2 h-4 w-4"}),"Upload"]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Take or upload a photo of the robot (max 5MB)"})]})]})}function ITe({weight:e,drivetrain:t,programmingLanguage:n,onWeightChange:r,onDrivetrainChange:a,onProgrammingLanguageChange:s}){const o=l=>{const c=l.target.value;if(c==="")r(void 0);else{const u=parseFloat(c);!isNaN(u)&&u>0&&r(u)}};return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(iD,{className:"h-5 w-5"}),"Technical Specifications"]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{htmlFor:"weight",className:"flex items-center gap-2",children:[i.jsx(phe,{className:"h-4 w-4"}),"Robot Weight (lbs)"]}),i.jsx(en,{id:"weight",type:"number",placeholder:"e.g., 125",value:e??"",onChange:o,min:"0",step:"0.1",className:"text-lg"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Robot weight in pounds (with bumpers and battery)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{htmlFor:"drivetrain",className:"flex items-center gap-2",children:[i.jsx(Zue,{className:"h-4 w-4"}),"Drivetrain Type"]}),i.jsxs(Br,{value:t??"unspecified",onValueChange:l=>a(l==="unspecified"?void 0:l),children:[i.jsx(Vr,{id:"drivetrain",className:"text-lg",children:i.jsx(oa,{placeholder:"Select drivetrain type"})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"unspecified",children:"Not specified"}),i.jsx(ot,{value:"swerve",children:"Swerve Drive"}),i.jsx(ot,{value:"tank",children:"Tank Drive"}),i.jsx(ot,{value:"mecanum",children:"Mecanum Drive"}),i.jsx(ot,{value:"other",children:"Other"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Type of drivetrain used by the robot"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{htmlFor:"programmingLanguage",className:"flex items-center gap-2",children:[i.jsx(yG,{className:"h-4 w-4"}),"Programming Language"]}),i.jsxs(Br,{value:n??"unspecified",onValueChange:l=>s(l==="unspecified"?void 0:l),children:[i.jsx(Vr,{id:"programmingLanguage",className:"text-lg",children:i.jsx(oa,{placeholder:"Select programming language"})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"unspecified",children:"Not specified"}),i.jsx(ot,{value:"Java",children:"Java"}),i.jsx(ot,{value:"C++",children:"C++"}),i.jsx(ot,{value:"Python",children:"Python"}),i.jsx(ot,{value:"LabVIEW",children:"LabVIEW"}),i.jsx(ot,{value:"other",children:"Other"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Primary programming language used for robot code"})]})]})]})}function OTe({notes:e,onNotesChange:t}){return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Dde,{className:"h-5 w-5"}),"Additional Notes"]})}),i.jsxs($e,{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"notes",children:"General Observations"}),i.jsx(dZ,{id:"notes",placeholder:"Any additional observations about the robot, team, or strategy...",value:e??"",onChange:n=>t(n.target.value||void 0),rows:6,className:"text-lg resize-none"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Any notable observations, capabilities, or concerns about the robot"})]})]})}function LTe(){return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(yG,{className:"h-5 w-5"}),"Game-Specific Questions (Placeholder)"]})}),i.jsx($e,{children:i.jsxs(sr,{children:[i.jsx(Iy,{className:"h-4 w-4"}),i.jsxs(gr,{children:[i.jsx("strong",{children:"For game implementers:"})," This is a placeholder component. Replace this with your own game-specific pit scouting questions by:",i.jsxs("ol",{className:"mt-2 ml-4 space-y-1 list-decimal",children:[i.jsxs("li",{children:["Creating a ",i.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"PitScoutingRules"})," implementation or build your own custom solution"]}),i.jsx("li",{children:"Building a component to render your questions"}),i.jsxs("li",{children:["Passing it as children to ",i.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"<PitScoutingPage>"})]})]}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"See the JSDoc comments in this file for a complete implementation guide."})]})]})})]})}function $Te(){const[e,t]=p.useState({teamNumber:"",eventKey:localStorage.getItem("eventKey")||"",scoutName:localStorage.getItem("currentScout")||"",robotPhoto:void 0,weight:void 0,drivetrain:void 0,programmingLanguage:void 0,notes:void 0,gameData:void 0}),[n,r]=p.useState(!1),[a,s]=p.useState(void 0),o=p.useCallback(async()=>{if(!e.teamNumber||typeof e.teamNumber!="number"||!e.eventKey){le.error("Please enter a team number and event first");return}r(!0);try{const w=await Qm(e.teamNumber,e.eventKey);w?(t(S=>({...S,scoutName:w.scoutName,robotPhoto:w.robotPhoto,weight:w.weight,drivetrain:w.drivetrain,programmingLanguage:w.programmingLanguage,notes:w.notes,gameData:w.gameData})),s(w.id),le.success("Loaded existing pit scouting data for this team")):le.info("No existing data found for this team at this event")}catch(w){console.error("Error loading existing pit scouting entry:",w),le.error("Failed to load existing data")}finally{r(!1)}},[e.teamNumber,e.eventKey]),l=p.useCallback(w=>{t(S=>({...S,teamNumber:w}))},[]),c=p.useCallback(w=>{t(S=>({...S,eventKey:w}))},[]),u=p.useCallback(w=>{t(S=>({...S,scoutName:w}))},[]),d=p.useCallback(w=>{t(S=>({...S,robotPhoto:w}))},[]),f=p.useCallback(w=>{t(S=>({...S,weight:w}))},[]),h=p.useCallback(w=>{t(S=>({...S,drivetrain:w}))},[]),m=p.useCallback(w=>{t(S=>({...S,programmingLanguage:w}))},[]),g=p.useCallback(w=>{t(S=>({...S,notes:w}))},[]),v=p.useCallback(w=>{t(S=>({...S,gameData:w}))},[]),b=p.useCallback(()=>e.teamNumber===""||typeof e.teamNumber!="number"?(le.error("Team number is required"),!1):e.eventKey.trim()?e.scoutName.trim()?!0:(le.error("Scout name is required"),!1):(le.error("Event is required"),!1),[e.teamNumber,e.eventKey,e.scoutName]),y=p.useCallback(async()=>{if(!b())return!1;r(!0);try{const S={id:a||`pit-${e.teamNumber}-${e.eventKey}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,teamNumber:e.teamNumber,eventKey:e.eventKey,scoutName:e.scoutName,timestamp:Date.now(),robotPhoto:e.robotPhoto,weight:e.weight,drivetrain:e.drivetrain,programmingLanguage:e.programmingLanguage,notes:e.notes,gameData:e.gameData??{}};return await hm(S),le.success(a?"Pit scouting data updated successfully!":"Pit scouting data saved successfully!"),!0}catch(w){return console.error("Error saving pit scouting entry:",w),le.error("Failed to save pit scouting data"),!1}finally{r(!1)}},[e,a,b]),x=p.useCallback(()=>{t({teamNumber:"",eventKey:localStorage.getItem("eventKey")||"",scoutName:localStorage.getItem("currentScout")||"",robotPhoto:void 0,weight:void 0,drivetrain:void 0,programmingLanguage:void 0,notes:void 0,gameData:void 0}),s(void 0)},[]);return{formState:e,setTeamNumber:l,setEventKey:c,setScoutName:u,setRobotPhoto:d,setWeight:f,setDrivetrain:h,setProgrammingLanguage:m,setNotes:g,setGameData:v,validateForm:b,handleSubmit:y,resetForm:x,loadExistingEntry:o,isLoading:n,existingEntryId:a}}function FTe({onSubmitSuccess:e,submitButtonText:t="Save Pit Scouting Data"}){const{ui:n}=cf(),r=n==null?void 0:n.PitScoutingQuestions,{formState:a,setTeamNumber:s,setEventKey:o,setScoutName:l,setRobotPhoto:c,setWeight:u,setDrivetrain:d,setProgrammingLanguage:f,setNotes:h,setGameData:m,handleSubmit:g,loadExistingEntry:v,isLoading:b,existingEntryId:y}=$Te(),x=async()=>{await g()&&(e==null||e())};return i.jsx("div",{className:"min-h-screen bg-background px-4 pt-12 pb-24",children:i.jsxs("div",{className:"mx-auto max-w-2xl space-y-4",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("h1",{className:"text-2xl font-bold",children:"Pit Scouting"})}),y&&i.jsxs(sr,{children:[i.jsx(Ur,{className:"h-4 w-4"}),i.jsx(gr,{children:"Editing existing pit scouting data for this team at this event"})]}),b&&i.jsxs(sr,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsx(gr,{children:"Loading data..."})]}),i.jsx(RTe,{teamNumber:a.teamNumber,eventKey:a.eventKey,scoutName:a.scoutName,onTeamNumberChange:s,onEventKeyChange:o,onScoutNameChange:l,onLoadExisting:v,isLoading:b}),i.jsx(MTe,{robotPhoto:a.robotPhoto,onRobotPhotoChange:c}),i.jsx(ITe,{weight:a.weight,drivetrain:a.drivetrain,programmingLanguage:a.programmingLanguage,onWeightChange:u,onDrivetrainChange:d,onProgrammingLanguageChange:f}),r?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Game-Specific Questions"}),i.jsx(r,{gameData:a.gameData||{},onGameDataChange:m})]}):i.jsx(LTe,{}),i.jsx(OTe,{notes:a.notes,onNotesChange:h}),i.jsx("div",{className:"mx-auto max-w-2xl",children:i.jsxs(X,{onClick:x,disabled:b,className:"w-full",size:"lg",children:[i.jsx(aD,{className:"mr-2 h-5 w-5"}),t]})})]})})}const BTe="https://frc.nexus/api/v1",f2=async(e,t)=>{const n=await fetch(`${BTe}${e}`,{headers:{"Nexus-Api-Key":t,Accept:"application/json"}});if(!n.ok)throw n.status===401?new Error("Invalid Nexus API key. Get your key from frc.nexus/api"):n.status===403?new Error("Nexus API key access denied. Check your key at frc.nexus/api"):n.status===404?new Error("Event not found or does not have this data type"):new Error(`Nexus API Error: ${n.status} ${n.statusText}`);return n.json()},VTe=async(e,t)=>{try{const[n,r]=await Promise.allSettled([f2(`/event/${e}/pits`,t),f2(`/event/${e}/map`,t)]);return console.log("Nexus API Results:",{addresses:{status:n.status,value:n.status==="fulfilled"?n.value:null,reason:n.status==="rejected"?n.reason:null},map:{status:r.status,value:r.status==="fulfilled"?r.value:null,reason:r.status==="rejected"?r.reason:null}}),{addresses:n.status==="fulfilled"?n.value:null,map:r.status==="fulfilled"?r.value:null}}catch(n){throw console.warn("Error fetching pit data:",n),n}},zTe=async e=>f2("/events",e),vm="nexus_",UTe=(e,t,n)=>{const r=`${vm}pit_addresses_${e}`,a=`${vm}pit_map_${e}`;try{if(t){const s={addresses:t,timestamp:Date.now(),eventKey:e};localStorage.setItem(r,JSON.stringify(s))}if(n){const s={pitMap:n,timestamp:Date.now(),eventKey:e};localStorage.setItem(a,JSON.stringify(s))}console.log(`Stored pit data for event ${e}`)}catch(s){throw console.error("Failed to store pit data in localStorage:",s),new Error("Failed to store pit data")}},fZ=e=>({addresses:hZ(e),map:KTe(e)}),hZ=e=>{const t=`${vm}pit_addresses_${e}`;try{const n=localStorage.getItem(t);return n?JSON.parse(n).addresses:null}catch(n){return console.error("Failed to retrieve stored pit addresses:",n),null}},KTe=e=>{const t=`${vm}pit_map_${e}`;try{const n=localStorage.getItem(t);return n?JSON.parse(n).pitMap:null}catch(n){return console.error("Failed to retrieve stored pit map:",n),null}},GTe=e=>{const t=`${vm}pit_addresses_${e}`,n=`${vm}pit_map_${e}`,r=`nexus_event_teams_${e}`;localStorage.removeItem(t),localStorage.removeItem(n),localStorage.removeItem(r),console.log(`Cleared Nexus data for event ${e}`)},WTe=(e,t)=>{const n=Object.keys(t).map(s=>`frc${s}`),r=`nexus_event_teams_${e}`,a={teams:n,timestamp:Date.now(),eventKey:e,source:"nexus_pit_addresses"};try{return localStorage.setItem(r,JSON.stringify(a)),console.log(`Stored ${n.length} teams from Nexus pit addresses for event ${e}`),n}catch(s){throw console.error("Failed to store Nexus teams in localStorage:",s),new Error("Failed to store Nexus teams")}},mZ=e=>{const t=`nexus_event_teams_${e}`;try{const n=localStorage.getItem(t);return n&&JSON.parse(n).teams||null}catch(n){return console.error("Failed to retrieve stored Nexus teams:",n),null}},qTe=e=>{const t=mZ(e);return t!==null&&t.length>0},HTe="https://www.thebluealliance.com/api/v3",nv=e=>{const t=e.alliances.red.score,n=e.alliances.blue.score;let r,a;return t>n?(r="red",a="red"):n>t?(r="blue",a="blue"):(r="tie",a=""),{redScore:t,blueScore:n,winner:r,winningAlliance:a}},YTe=async(e,t)=>{const n=`/event/${e}/teams/keys`,r=await fetch(`${HTe}${n}`,{headers:{"X-TBA-Auth-Key":t,Accept:"application/json"}});if(!r.ok)throw new Error(`TBA API Error: ${r.status} ${r.statusText}`);return(await r.json()).map(s=>{const o=parseInt(s.replace("frc",""));return{key:s,team_number:o,nickname:`Team ${o}`,name:`Team ${o}`}}).sort((s,o)=>s.team_number-o.team_number)},ey="tba_event_teams_",JB=(e,t)=>{const n=`${ey}${e}`,r=t.map(s=>s.team_number).sort((s,o)=>s-o),a={teamNumbers:r,timestamp:Date.now(),eventKey:e};try{localStorage.setItem(n,JSON.stringify(a)),console.log(`Stored ${r.length} team numbers for event ${e}`)}catch(s){throw console.error("Failed to store teams in localStorage:",s),new Error("Failed to store teams data")}},QTe=e=>{const t=`${ey}${e}`;try{const n=localStorage.getItem(t);if(!n)return null;const r=JSON.parse(n);return r.teamNumbers?r.teamNumbers:r.teams?r.teams.map(a=>a.team_number).sort((a,s)=>a-s):null}catch(n){return console.error("Failed to retrieve teams from localStorage:",n),null}},pZ=e=>{const t=`${ey}${e}`;localStorage.removeItem(t),console.log(`Cleared TBA teams for event ${e}`)},ZTe=()=>{const e={};for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith(ey))try{const r=localStorage.getItem(n);if(r){const a=JSON.parse(r),s=n.replace(ey,"");a.teamNumbers?e[s]=a.teamNumbers:a.teams&&(e[s]=a.teams.map(o=>o.team_number).sort((o,l)=>o-l))}}catch(r){console.error(`Failed to parse stored teams for key ${n}:`,r)}}return e},gZ="event_history",vZ="current_event",JTe=()=>{try{const e=localStorage.getItem(gZ);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to retrieve event history:",e),[]}},XTe=(e,t)=>{try{const n=JTe(),r=n.findIndex(o=>o.eventKey===e),a={eventKey:e,eventName:t,timestamp:Date.now()};r>=0?n[r]=a:n.push(a),n.sort((o,l)=>l.timestamp-o.timestamp);const s=n.slice(0,10);localStorage.setItem(gZ,JSON.stringify(s)),console.log(`Updated event history for ${e}`)}catch(n){console.error("Failed to update event history:",n)}},Tg=()=>{try{return localStorage.getItem(vZ)||""}catch(e){return console.error("Failed to retrieve current event:",e),""}},cd=e=>{if(e.trim())try{localStorage.setItem(vZ,e),XTe(e,e),console.log(`Set current event to ${e}`)}catch(t){throw console.error("Failed to set current event:",t),new Error("Failed to set current event")}},XB=e=>{if(!e.trim())return!1;const t=`tba_event_teams_${e}`;if(localStorage.getItem(t))return!0;const n=[`nexus_pit_addresses_${e}`,`nexus_pit_map_${e}`,`nexus_event_teams_${e}`];for(const a of n)if(localStorage.getItem(a))return!0;const r=[`matches_${e}`,`match_results_${e}`,`event_info_${e}`,`pit_assignments_${e}`];for(const a of r)if(localStorage.getItem(a))return!0;return!1},e_e=e=>{const t=Tg();return!!(t&&t!==e&&e.trim()!=="")},t_e=e=>{if(!e.trim()){le.error("Event key is required to clear data");return}try{console.log(`Clearing all event data for ${e}...`),pZ(e),GTe(e);const t=`tba_match_schedule_${e}`;localStorage.removeItem(t);const n=`tba_match_data_${e}`;localStorage.removeItem(n);const r=`match_results_${e}`;localStorage.removeItem(r);const a=`event_info_${e}`;localStorage.removeItem(a);const s=`pit_assignments_${e}`;localStorage.removeItem(s),console.log(`Successfully cleared all event data for ${e}`),le.success(`Cleared all stored data for event ${e}`)}catch(t){console.error("Failed to clear event data:",t),le.error("Failed to clear some event data")}},n_e=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(!1),[a,s]=p.useState([]),[o,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState(!1);return{matchDataLoading:e,matchResultsLoading:n,eventTeamsLoading:o,matches:a,teams:c,isStored:d,fetchMatchDataFromTBA:async(y,x,w,S)=>{if(!y.trim()){le.error("Please enter your TBA API key");return}if(!x.trim()){le.error("Please enter an event key");return}t(!0);try{const j={"X-TBA-Auth-Key":y},k=await fetch(`https://www.thebluealliance.com/api/v3/event/${x}/matches/simple`,{headers:j});if(!k.ok)throw k.status===401?new Error("Invalid API key. Please check your TBA API key."):k.status===404?new Error("Event not found. Please check the event key."):new Error(`API request failed with status ${k.status}`);const N=await k.json(),P=[];for(const G of N)G.comp_level=="qm"&&P.push({matchNum:G.match_number,redAlliance:G.alliances.red.team_keys.map(te=>te.replace("frc","")),blueAlliance:G.alliances.blue.team_keys.map(te=>te.replace("frc",""))});P.sort((G,te)=>G.matchNum-te.matchNum),localStorage.setItem("matchData",JSON.stringify(P)),localStorage.setItem("eventKey",x);const E=localStorage.getItem("eventsList");let R=[];if(E)try{R=JSON.parse(E)}catch{R=[]}R.includes(x)||(R.push(x),R.sort(),localStorage.setItem("eventsList",JSON.stringify(R)));const O=`Match data loaded: ${P.length} matches for ${x}`;le.success(O),cd(x.trim()),w||(S(""),sessionStorage.removeItem("tbaApiKey"))}catch(j){le.error("Failed to fetch match data from TBA"),console.error(j)}finally{t(!1)}},loadMatchResults:async(y,x,w,S)=>{if(!x.trim()){le.error("Please enter an event key");return}if(!y.trim()){le.error("Please enter your TBA API key");return}r(!0);try{const j={"X-TBA-Auth-Key":y},k=await fetch(`https://www.thebluealliance.com/api/v3/event/${x.trim()}/matches/simple`,{headers:j});if(!k.ok)throw new Error(`API request failed with status ${k.status}`);const P=(await k.json()).filter(R=>R.comp_level==="qm");P.sort((R,O)=>R.match_number-O.match_number),s(P),le.success(`Loaded ${P.length} qualification matches`),cd(x.trim());const E=P.map(R=>({eventKey:x.trim(),matchNumber:R.match_number,winner:nv(R).winner,redScore:nv(R).redScore,blueScore:nv(R).blueScore}));localStorage.setItem("matchResults",JSON.stringify(E)),localStorage.setItem("currentEventKey",x.trim()),w||(S(""),sessionStorage.removeItem("tbaApiKey"))}catch(j){console.error("Error loading matches:",j),le.error("Failed to load matches. Check the event key and API key."),s([])}finally{r(!1)}},loadEventTeams:async(y,x,w,S)=>{if(!x.trim()){le.error("Please enter an event key");return}if(!y.trim()){le.error("Please enter your TBA API key");return}l(!0);try{const j=QTe(x);if(j&&j.length>0){const N=j.map(P=>({key:`frc${P}`,team_number:P,nickname:`Team ${P}`,name:`Team ${P}`}));u(N),f(!0),le.success(`Loaded ${j.length} teams from local storage`),l(!1);return}const k=await YTe(x,y);u(k);try{JB(x,k),f(!0),console.log(`Auto-stored ${k.length} teams for event ${x}`)}catch(N){console.warn("Failed to auto-store teams:",N),f(!1)}le.success(`Loaded ${k.length} teams from TBA API`),cd(x.trim()),w||(S(""),sessionStorage.removeItem("tbaApiKey"))}catch(j){console.error("Error loading teams:",j),le.error(j instanceof Error?j.message:"Failed to load teams")}finally{l(!1)}},handleStoreTeams:y=>{if(c.length===0){le.error("No teams to store");return}try{JB(y,c),f(!0),le.success(`Stored ${c.length} teams for pit scouting assignments`)}catch(x){console.error("Error storing teams:",x),le.error("Failed to store teams")}},handleClearStored:y=>{try{pZ(y),f(!1),le.success("Cleared stored teams")}catch(x){console.error("Error clearing stored teams:",x),le.error("Failed to clear stored teams")}}}};function Zb(e){return e.score_breakdown!==null&&e.score_breakdown!==void 0}const yZ="https://www.thebluealliance.com/api/v3";async function r_e(e,t){const n=`${yZ}/match/${e}`,r=await fetch(n,{headers:{"X-TBA-Auth-Key":t}});if(!r.ok)throw r.status===401?new Error("Invalid TBA API key"):r.status===404?new Error(`Match ${e} not found`):new Error(`TBA API request failed: ${r.status}`);return await r.json()}async function a_e(e,t){const n=`${yZ}/event/${e}/matches`,r=await fetch(n,{headers:{"X-TBA-Auth-Key":t}});if(!r.ok)throw r.status===401?new Error("Invalid TBA API key"):r.status===404?new Error(`Event ${e} not found`):new Error(`TBA API request failed: ${r.status}`);return await r.json()}class s_e extends Md{constructor(){super("TBACacheDB");pn(this,"matches");pn(this,"metadata");pn(this,"validationResults");this.version(1).stores({matches:"matchKey, eventKey, matchNumber, compLevel, cachedAt",metadata:"eventKey, lastFetchedAt"}),this.version(2).stores({matches:"matchKey, eventKey, matchNumber, compLevel, cachedAt",metadata:"eventKey, lastFetchedAt",validationResults:"id, eventKey, matchKey, matchNumber, timestamp"})}}const Ga=new s_e,HR=60*60*1e3,i_e=5*60*1e3;async function o_e(e,t=HR){const n=Date.now(),r={matchKey:e.key,eventKey:e.event_key,matchNumber:e.match_number,compLevel:e.comp_level,data:e,cachedAt:n,expiresAt:n+t};await Ga.matches.put(r)}async function xZ(e,t=HR){const n=Date.now(),r=e.map(a=>({matchKey:a.key,eventKey:a.event_key,matchNumber:a.match_number,compLevel:a.comp_level,data:a,cachedAt:n,expiresAt:n+t}));if(await Ga.matches.bulkPut(r),e.length>0){const a=e[0].event_key,s=e.filter(l=>l.comp_level==="qm"),o=e.filter(l=>l.comp_level!=="qm");await Ga.metadata.put({eventKey:a,lastFetchedAt:n,matchCount:e.length,qualMatchCount:s.length,playoffMatchCount:o.length})}}async function e3(e,t=!0){const n=await Ga.matches.get(e);return n?t?n.data:Date.now()>n.expiresAt?null:n.data:null}async function h2(e,t=!0){const n=await Ga.matches.where("eventKey").equals(e).toArray(),r=Date.now(),a=t?n:n.filter(s=>r<=s.expiresAt);return a.sort((s,o)=>s.compLevel==="qm"&&o.compLevel!=="qm"?-1:s.compLevel!=="qm"&&o.compLevel==="qm"?1:s.matchNumber-o.matchNumber),a.map(s=>s.data)}async function bZ(e){const t=await Ga.metadata.get(e);if(!t)return{hasCache:!1,isExpired:!1,isFresh:!1,ageMs:0,lastFetchedAt:null};const n=Date.now()-t.lastFetchedAt,r=n>HR,a=n<i_e;return{hasCache:!0,isExpired:r,isFresh:a,ageMs:n,lastFetchedAt:t.lastFetchedAt}}async function tA(e){return await Ga.metadata.get(e)||null}async function l_e(e){await Ga.matches.where("eventKey").equals(e).delete(),await Ga.metadata.delete(e)}async function c_e(){const e=await Ga.matches.count(),t=await Ga.metadata.count(),n=Date.now(),r=await Ga.matches.where("expiresAt").below(n).count(),a=e*15,s=a>1024?`${(a/1024).toFixed(1)} MB`:`${a} KB`;return{totalMatches:e,totalEvents:t,expiredMatches:r,cacheSizeEstimate:s}}async function u_e(e){await Ga.validationResults.put(e)}async function d_e(e){return await Ga.validationResults.where("eventKey").equals(e).toArray()}async function f_e(e){await Ga.validationResults.where("eventKey").equals(e).delete()}function YR(){const[e,t]=p.useState(!1),[n,r]=p.useState(null),[a,s]=p.useState([]),[o,l]=p.useState(null),[c,u]=p.useState(navigator.onLine),[d,f]=p.useState(!1);p.useEffect(()=>{const x=()=>u(!0),w=()=>u(!1);return window.addEventListener("online",x),window.addEventListener("offline",w),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",w)}},[]);const h=p.useCallback(async(x,w,S=!1)=>{t(!0),r(null);try{if(!S){const k=await e3(x);if(k)return console.log(`Using cached data for match ${x}`),k}console.log(`Fetching match ${x} from TBA`);const j=await r_e(x,w);return await o_e(j),j}catch(j){const k=j instanceof Error?j.message:"Failed to fetch match data";return r(k),le.error(k),null}finally{t(!1)}},[]),m=p.useCallback(async(x,w,S=!1)=>{t(!0),r(null);try{const j=await h2(x,!0),k=await bZ(x);if(f(k.isExpired),j.length>0&&!navigator.onLine){console.log(`Using cached data for event ${x} (offline mode)`),s(j);const N=await tA(x);return l(N),k.isExpired?le.warning(`Showing cached data (offline). Last updated ${g(k.lastFetchedAt)}`):le.success(`Loaded ${j.length} matches from cache (offline)`),j}if(j.length>0&&!S&&!k.isExpired){console.log(`Using fresh cached data for event ${x}`),s(j);const N=await tA(x);return l(N),le.success(`Loaded ${j.length} matches from cache`),j}if(navigator.onLine){console.log(`Fetching event ${x} from TBA`);const P=(await a_e(x,w)).filter(Zb);await xZ(P),s(P),f(!1);const E=await tA(x);return l(E),le.success(`Loaded ${P.length} matches from TBA`),P}throw new Error("No cached data available and you are offline")}catch(j){const k=j instanceof Error?j.message:"Failed to fetch event matches";return r(k),((await h2(x,!0)).length===0||navigator.onLine)&&le.error(k),[]}finally{t(!1)}},[]);function g(x){const w=Date.now()-x,S=Math.floor(w/(1e3*60));if(S<1)return"just now";if(S<60)return`${S} min ago`;{const j=Math.floor(S/60),k=S%60;return`${j}h ${k}m ago`}}const v=p.useCallback(async x=>{try{return await e3(x)}catch(w){return console.error("Failed to get cached match:",w),null}},[]),b=p.useCallback(async x=>{try{await l_e(x),s([]),l(null),le.success(`Cache cleared for ${x}`)}catch(w){console.error("Failed to clear cache:",w),le.error("Failed to clear cache")}},[]),y=p.useCallback(async()=>{try{const x=await c_e();console.log("TBA Cache Stats:",x)}catch(x){console.error("Failed to get cache stats:",x)}},[]);return{loading:e,error:n,matches:a,cacheMetadata:o,isOnline:c,cacheExpired:d,fetchMatch:h,fetchEventMatches:m,getMatch:v,clearCache:b,refreshCacheStats:y}}var h_e=Symbol("radix.slottable");function m_e(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=h_e,t}var wZ="AlertDialog",[p_e]=bs(wZ,[xH]),Kl=xH(),SZ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Kl(t);return i.jsx(AC,{...r,...n,modal:!0})};SZ.displayName=wZ;var g_e="AlertDialogTrigger",v_e=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(mR,{...a,...r,ref:t})});v_e.displayName=g_e;var y_e="AlertDialogPortal",CZ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Kl(t);return i.jsx(PC,{...r,...n})};CZ.displayName=y_e;var x_e="AlertDialogOverlay",jZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(EC,{...a,...r,ref:t})});jZ.displayName=x_e;var Gh="AlertDialogContent",[b_e,w_e]=p_e(Gh),S_e=m_e("AlertDialogContent"),NZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,s=Kl(n),o=p.useRef(null),l=Gt(t,o),c=p.useRef(null);return i.jsx(oCe,{contentName:Gh,titleName:kZ,docsSlug:"alert-dialog",children:i.jsx(b_e,{scope:n,cancelRef:c,children:i.jsxs(TC,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:it(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(S_e,{children:r}),i.jsx(j_e,{contentRef:o})]})})})});NZ.displayName=Gh;var kZ="AlertDialogTitle",AZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(pR,{...a,...r,ref:t})});AZ.displayName=kZ;var PZ="AlertDialogDescription",EZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(gR,{...a,...r,ref:t})});EZ.displayName=PZ;var C_e="AlertDialogAction",TZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(Zy,{...a,...r,ref:t})});TZ.displayName=C_e;var _Z="AlertDialogCancel",DZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=w_e(_Z,n),s=Kl(n),o=Gt(t,a);return i.jsx(Zy,{...s,...r,ref:o})});DZ.displayName=_Z;var j_e=({contentRef:e})=>{const t=`\`${Gh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gh}\` by passing a \`${PZ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},N_e=SZ,k_e=CZ,RZ=jZ,MZ=NZ,IZ=TZ,OZ=DZ,LZ=AZ,$Z=EZ,JC="Checkbox",[A_e]=bs(JC),[P_e,QR]=A_e(JC);function E_e(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Mo({prop:n,defaultProp:a??!1,onChange:c,caller:JC}),[g,v]=p.useState(null),[b,y]=p.useState(null),x=p.useRef(!1),w=g?!!o||!!g.closest("form"):!0,S={checked:h,disabled:s,setChecked:m,control:g,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Vc(a)?!1:a,isFormControl:w,bubbleInput:b,setBubbleInput:y};return i.jsx(P_e,{scope:t,...S,children:T_e(f)?f(S):r})}var FZ="CheckboxTrigger",BZ=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=QR(FZ,e),v=Gt(a,d),b=p.useRef(c);return p.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const x=()=>f(b.current);return y.addEventListener("reset",x),()=>y.removeEventListener("reset",x)}},[s,f]),i.jsx(At.button,{type:"button",role:"checkbox","aria-checked":Vc(c)?"mixed":c,"aria-required":u,"data-state":KZ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:v,onKeyDown:it(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:it(n,y=>{f(x=>Vc(x)?!0:!x),g&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});BZ.displayName=FZ;var ZR=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(E_e,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(BZ,{...f,ref:t,__scopeCheckbox:n}),h&&i.jsx(UZ,{__scopeCheckbox:n})]})})});ZR.displayName=JC;var VZ="CheckboxIndicator",JR=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,s=QR(VZ,n);return i.jsx(Wr,{present:r||Vc(s.checked)||s.checked===!0,children:i.jsx(At.span,{"data-state":KZ(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});JR.displayName=VZ;var zZ="CheckboxBubbleInput",UZ=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=QR(zZ,e),g=Gt(n,m),v=Kq(s),b=qG(r);p.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,k=!a.current;if(v!==s&&j){const N=new Event("click",{bubbles:k});x.indeterminate=Vc(s),j.call(x,Vc(s)?!1:s),x.dispatchEvent(N)}},[h,v,s,a]);const y=p.useRef(Vc(s)?!1:s);return i.jsx(At.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});UZ.displayName=zZ;function T_e(e){return typeof e=="function"}function Vc(e){return e==="indeterminate"}function KZ(e){return Vc(e)?"indeterminate":e?"checked":"unchecked"}var XC="Tabs",[__e]=bs(XC,[vC]),GZ=vC(),[D_e,XR]=__e(XC),WZ=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Gy(l),[f,h]=Mo({prop:r,onChange:a,defaultProp:s??"",caller:XC});return i.jsx(D_e,{scope:n,baseId:Kr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(At.div,{dir:d,"data-orientation":o,...u,ref:t})})});WZ.displayName=XC;var qZ="TabsList",HZ=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,s=XR(qZ,n),o=GZ(n);return i.jsx(XW,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:i.jsx(At.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});HZ.displayName=qZ;var YZ="TabsTrigger",QZ=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...s}=e,o=XR(YZ,n),l=GZ(n),c=XZ(o.baseId,r),u=eJ(o.baseId,r),d=r===o.value;return i.jsx(eq,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(At.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:it(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:it(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:it(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(r)})})})});QZ.displayName=YZ;var ZZ="TabsContent",JZ=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:s,...o}=e,l=XR(ZZ,n),c=XZ(l.baseId,r),u=eJ(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Wr,{present:a||d,children:({present:h})=>i.jsx(At.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});JZ.displayName=ZZ;function XZ(e,t){return`${e}-trigger-${t}`}function eJ(e,t){return`${e}-content-${t}`}var tJ=WZ,nJ=HZ,rJ=QZ,aJ=JZ;const ty=p.createContext({});function hu(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const eM=typeof window<"u",ej=eM?p.useLayoutEffect:p.useEffect,tj=p.createContext(null);function tM(e,t){e.indexOf(t)===-1&&e.push(t)}function nM(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function R_e([...e],t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const a=n<0?e.length+n:n,[s]=e.splice(t,1);e.splice(a,0,s)}return e}const _l=(e,t,n)=>n>t?t:n<e?e:n;let rM=()=>{};const Dl={},sJ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function iJ(e){return typeof e=="object"&&e!==null}const oJ=e=>/^0[^.\s]+$/u.test(e);function aM(e){let t;return()=>(t===void 0&&(t=e()),t)}const hi=e=>e,M_e=(e,t)=>n=>t(e(n)),ix=(...e)=>e.reduce(M_e),ny=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class sM{constructor(){this.subscriptions=[]}add(t){return tM(this.subscriptions,t),()=>nM(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _o=e=>e*1e3,ci=e=>e/1e3;function lJ(e,t){return t?e*(1e3/t):0}const cJ=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,I_e=1e-7,O_e=12;function L_e(e,t,n,r,a){let s,o,l=0;do o=t+(n-t)/2,s=cJ(o,r,a)-e,s>0?n=o:t=o;while(Math.abs(s)>I_e&&++l<O_e);return o}function ox(e,t,n,r){if(e===t&&n===r)return hi;const a=s=>L_e(s,0,1,e,n);return s=>s===0||s===1?s:cJ(a(s),t,r)}const uJ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dJ=e=>t=>1-e(1-t),fJ=ox(.33,1.53,.69,.99),iM=dJ(fJ),hJ=uJ(iM),mJ=e=>(e*=2)<1?.5*iM(e):.5*(2-Math.pow(2,-10*(e-1))),oM=e=>1-Math.sin(Math.acos(e)),pJ=dJ(oM),gJ=uJ(oM),$_e=ox(.42,0,1,1),F_e=ox(0,0,.58,1),vJ=ox(.42,0,.58,1),B_e=e=>Array.isArray(e)&&typeof e[0]!="number",yJ=e=>Array.isArray(e)&&typeof e[0]=="number",V_e={linear:hi,easeIn:$_e,easeInOut:vJ,easeOut:F_e,circIn:oM,circInOut:gJ,circOut:pJ,backIn:iM,backInOut:hJ,backOut:fJ,anticipate:mJ},z_e=e=>typeof e=="string",t3=e=>{if(yJ(e)){rM(e.length===4);const[t,n,r,a]=e;return ox(t,n,r,a)}else if(z_e(e))return V_e[e];return e},q0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function U_e(e,t){let n=new Set,r=new Set,a=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const g=h&&a?n:r;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,a){s=!0;return}a=!0,[n,r]=[r,n],n.forEach(c),n.clear(),a=!1,s&&(s=!1,u.process(d))}};return u}const K_e=40;function xJ(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=q0.reduce((w,S)=>(w[S]=U_e(s),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:g}=o,v=()=>{const w=Dl.useManualTiming?a.timestamp:performance.now();n=!1,Dl.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(w-a.timestamp,K_e),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),m.process(a),g.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(v))},b=()=>{n=!0,r=!0,a.isProcessing||e(v)};return{schedule:q0.reduce((w,S)=>{const j=o[S];return w[S]=(k,N=!1,P=!1)=>(n||b(),j.schedule(k,N,P)),w},{}),cancel:w=>{for(let S=0;S<q0.length;S++)o[q0[S]].cancel(w)},state:a,steps:o}}const{schedule:On,cancel:Rl,state:va,steps:nA}=xJ(typeof requestAnimationFrame<"u"?requestAnimationFrame:hi,!0);let Jb;function G_e(){Jb=void 0}const hs={now:()=>(Jb===void 0&&hs.set(va.isProcessing||Dl.useManualTiming?va.timestamp:performance.now()),Jb),set:e=>{Jb=e,queueMicrotask(G_e)}},bJ=e=>t=>typeof t=="string"&&t.startsWith(e),wJ=bJ("--"),W_e=bJ("var(--"),lM=e=>W_e(e)?q_e.test(e.split("/*")[0].trim()):!1,q_e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ip={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ry={...ip,transform:e=>_l(0,1,e)},H0={...ip,default:1},rv=e=>Math.round(e*1e5)/1e5,cM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H_e(e){return e==null}const Y_e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uM=(e,t)=>n=>!!(typeof n=="string"&&Y_e.test(n)&&n.startsWith(e)||t&&!H_e(n)&&Object.prototype.hasOwnProperty.call(n,t)),SJ=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,s,o,l]=r.match(cM);return{[e]:parseFloat(a),[t]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Q_e=e=>_l(0,255,e),rA={...ip,transform:e=>Math.round(Q_e(e))},Ju={test:uM("rgb","red"),parse:SJ("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+rA.transform(e)+", "+rA.transform(t)+", "+rA.transform(n)+", "+rv(ry.transform(r))+")"};function Z_e(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const m2={test:uM("#"),parse:Z_e,transform:Ju.transform},lx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fc=lx("deg"),Do=lx("%"),Vt=lx("px"),J_e=lx("vh"),X_e=lx("vw"),n3={...Do,parse:e=>Do.parse(e)/100,transform:e=>Do.transform(e*100)},Sh={test:uM("hsl","hue"),parse:SJ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Do.transform(rv(t))+", "+Do.transform(rv(n))+", "+rv(ry.transform(r))+")"},Pr={test:e=>Ju.test(e)||m2.test(e)||Sh.test(e),parse:e=>Ju.test(e)?Ju.parse(e):Sh.test(e)?Sh.parse(e):m2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ju.transform(e):Sh.transform(e),getAnimatableNone:e=>{const t=Pr.parse(e);return t.alpha=0,Pr.transform(t)}},eDe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tDe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cM))==null?void 0:t.length)||0)+(((n=e.match(eDe))==null?void 0:n.length)||0)>0}const CJ="number",jJ="color",nDe="var",rDe="var(",r3="${}",aDe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ay(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(aDe,c=>(Pr.test(c)?(r.color.push(s),a.push(jJ),n.push(Pr.parse(c))):c.startsWith(rDe)?(r.var.push(s),a.push(nDe),n.push(c)):(r.number.push(s),a.push(CJ),n.push(parseFloat(c))),++s,r3)).split(r3);return{values:n,split:l,indexes:r,types:a}}function NJ(e){return ay(e).values}function kJ(e){const{split:t,types:n}=ay(e),r=t.length;return a=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],a[o]!==void 0){const l=n[o];l===CJ?s+=rv(a[o]):l===jJ?s+=Pr.transform(a[o]):s+=a[o]}return s}}const sDe=e=>typeof e=="number"?0:Pr.test(e)?Pr.getAnimatableNone(e):e;function iDe(e){const t=NJ(e);return kJ(e)(t.map(sDe))}const eu={test:tDe,parse:NJ,createTransformer:kJ,getAnimatableNone:iDe};function aA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oDe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,s=0,o=0;if(!t)a=s=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=aA(c,l,e+1/3),s=aA(c,l,e),o=aA(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function S1(e,t){return n=>n>0?t:e}const Qn=(e,t,n)=>e+(t-e)*n,sA=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},lDe=[m2,Ju,Sh],cDe=e=>lDe.find(t=>t.test(e));function a3(e){const t=cDe(e);if(!t)return!1;let n=t.parse(e);return t===Sh&&(n=oDe(n)),n}const s3=(e,t)=>{const n=a3(e),r=a3(t);if(!n||!r)return S1(e,t);const a={...n};return s=>(a.red=sA(n.red,r.red,s),a.green=sA(n.green,r.green,s),a.blue=sA(n.blue,r.blue,s),a.alpha=Qn(n.alpha,r.alpha,s),Ju.transform(a))},p2=new Set(["none","hidden"]);function uDe(e,t){return p2.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function dDe(e,t){return n=>Qn(e,t,n)}function dM(e){return typeof e=="number"?dDe:typeof e=="string"?lM(e)?S1:Pr.test(e)?s3:mDe:Array.isArray(e)?AJ:typeof e=="object"?Pr.test(e)?s3:fDe:S1}function AJ(e,t){const n=[...e],r=n.length,a=e.map((s,o)=>dM(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=a[o](s);return n}}function fDe(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=dM(e[a])(e[a],t[a]));return a=>{for(const s in r)n[s]=r[s](a);return n}}function hDe(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][r[s]],l=e.values[o]??0;n[a]=l,r[s]++}return n}const mDe=(e,t)=>{const n=eu.createTransformer(t),r=ay(e),a=ay(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?p2.has(e)&&!a.values.length||p2.has(t)&&!r.values.length?uDe(e,t):ix(AJ(hDe(r,a),a.values),n):S1(e,t)};function PJ(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qn(e,t,n):dM(e)(e,t)}const pDe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>On.update(t,n),stop:()=>Rl(t),now:()=>va.isProcessing?va.timestamp:hs.now()}},EJ=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let s=0;s<a;s++)r+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},C1=2e4;function fM(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<C1;)t+=n,r=e.next(t);return t>=C1?1/0:t}function gDe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(fM(r),C1);return{type:"keyframes",ease:s=>r.next(a*s).value/t,duration:ci(a)}}const vDe=5;function TJ(e,t,n){const r=Math.max(t-vDe,0);return lJ(n-e(r),t-r)}const fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iA=.001;function yDe({duration:e=fr.duration,bounce:t=fr.bounce,velocity:n=fr.velocity,mass:r=fr.mass}){let a,s,o=1-t;o=_l(fr.minDamping,fr.maxDamping,o),e=_l(fr.minDuration,fr.maxDuration,ci(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-n,m=g2(u,o),g=Math.exp(-f);return iA-h/m*g},s=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),v=g2(Math.pow(u,2),o);return(-a(u)+iA>0?-1:1)*((h-m)*g)/v}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-iA+d*f},s=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=bDe(a,s,l);if(e=_o(e),isNaN(c))return{stiffness:fr.stiffness,damping:fr.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const xDe=12;function bDe(e,t,n){let r=n;for(let a=1;a<xDe;a++)r=r-e(r)/t(r);return r}function g2(e,t){return e*Math.sqrt(1-t*t)}const wDe=["duration","bounce"],SDe=["stiffness","damping","mass"];function i3(e,t){return t.some(n=>e[n]!==void 0)}function CDe(e){let t={velocity:fr.velocity,stiffness:fr.stiffness,damping:fr.damping,mass:fr.mass,isResolvedFromDuration:!1,...e};if(!i3(e,SDe)&&i3(e,wDe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,s=2*_l(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:fr.mass,stiffness:a,damping:s}}else{const n=yDe(e);t={...t,...n,mass:fr.mass},t.isResolvedFromDuration=!0}return t}function j1(e=fr.visualDuration,t=fr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=CDe({...n,velocity:-ci(n.velocity||0)}),g=h||0,v=u/(2*Math.sqrt(c*d)),b=o-s,y=ci(Math.sqrt(c/d)),x=Math.abs(b)<5;r||(r=x?fr.restSpeed.granular:fr.restSpeed.default),a||(a=x?fr.restDelta.granular:fr.restDelta.default);let w;if(v<1){const j=g2(y,v);w=k=>{const N=Math.exp(-v*y*k);return o-N*((g+v*y*b)/j*Math.sin(j*k)+b*Math.cos(j*k))}}else if(v===1)w=j=>o-Math.exp(-y*j)*(b+(g+y*b)*j);else{const j=y*Math.sqrt(v*v-1);w=k=>{const N=Math.exp(-v*y*k),P=Math.min(j*k,300);return o-N*((g+v*y*b)*Math.sinh(P)+j*b*Math.cosh(P))/j}}const S={calculatedDuration:m&&f||null,next:j=>{const k=w(j);if(m)l.done=j>=f;else{let N=j===0?g:0;v<1&&(N=j===0?_o(g):TJ(w,j,k));const P=Math.abs(N)<=r,E=Math.abs(o-k)<=a;l.done=P&&E}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(fM(S),C1),k=EJ(N=>S.next(j*N).value,j,30);return j+"ms "+k},toTransition:()=>{}};return S}j1.applyToOptions=e=>{const t=gDe(e,100,j1);return e.ease=t.ease,e.duration=_o(t.duration),e.type="keyframes",e};function v2({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let v=n*t;const b=f+v,y=o===void 0?b:o(b);y!==b&&(v=y-f);const x=P=>-v*Math.exp(-P/r),w=P=>y+x(P),S=P=>{const E=x(P),R=w(P);h.done=Math.abs(E)<=u,h.value=h.done?y:R};let j,k;const N=P=>{m(h.value)&&(j=P,k=j1({keyframes:[h.value,g(h.value)],velocity:TJ(w,P,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let E=!1;return!k&&j===void 0&&(E=!0,S(P),N(P)),j!==void 0&&P>=j?k.next(P-j):(!E&&S(P),h)}}}function jDe(e,t,n){const r=[],a=n||Dl.mix||PJ,s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||hi:t;l=ix(c,l)}r.push(l)}return r}function _J(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const s=e.length;if(rM(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=jDe(t,r,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=ny(e[f],e[f+1],d);return l[f](h)};return n?d=>u(_l(e[0],e[s-1],d)):u}function NDe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=ny(0,t,r);e.push(Qn(n,1,a))}}function kDe(e){const t=[0];return NDe(t,e.length-1),t}function ADe(e,t){return e.map(n=>n*t)}function PDe(e,t){return e.map(()=>t||vJ).splice(0,e.length-1)}function av({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=B_e(r)?r.map(t3):t3(r),s={done:!1,value:t[0]},o=ADe(n&&n.length===t.length?n:kDe(t),e),l=_J(o,t,{ease:Array.isArray(a)?a:PDe(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const EDe=e=>e!==null;function hM(e,{repeat:t,repeatType:n="loop"},r,a=1){const s=e.filter(EDe),l=a<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const TDe={decay:v2,inertia:v2,tween:av,keyframes:av,spring:j1};function DJ(e){typeof e.type=="string"&&(e.type=TDe[e.type])}class mM{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const _De=e=>e/100;class pM extends mM{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==hs.now()&&this.tick(hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;DJ(t);const{type:n=av,repeat:r=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=t;let{keyframes:l}=t;const c=n||av;c!==av&&typeof l[0]!="number"&&(this.mixKeyframes=ix(_De,PJ(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=fM(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,S=r;if(f){const P=Math.min(this.currentTime,a)/l;let E=Math.floor(P),R=P%1;!R&&P>=1&&(R=1),R===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/l)):h==="mirror"&&(S=o)),w=_l(0,1,R)*l}const j=x?{done:!1,value:d[0]}:S.next(w);s&&(j.value=s(j.value));let{done:k}=j;!x&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return N&&g!==v2&&(j.value=hM(d,this.options,b,this.speed)),v&&v(j.value),N&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return ci(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ci(t)}get time(){return ci(this.currentTime)}set time(t){var n;t=_o(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hs.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ci(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=pDe,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(a=this.options).onPlay)==null||s.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function DDe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Xu=e=>e*180/Math.PI,y2=e=>{const t=Xu(Math.atan2(e[1],e[0]));return x2(t)},RDe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:y2,rotateZ:y2,skewX:e=>Xu(Math.atan(e[1])),skewY:e=>Xu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},x2=e=>(e=e%360,e<0&&(e+=360),e),o3=y2,l3=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),c3=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),MDe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:l3,scaleY:c3,scale:e=>(l3(e)+c3(e))/2,rotateX:e=>x2(Xu(Math.atan2(e[6],e[5]))),rotateY:e=>x2(Xu(Math.atan2(-e[2],e[0]))),rotateZ:o3,rotate:o3,skewX:e=>Xu(Math.atan(e[4])),skewY:e=>Xu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function b2(e){return e.includes("scale")?1:0}function w2(e,t){if(!e||e==="none")return b2(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=MDe,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RDe,a=l}if(!a)return b2(t);const s=r[t],o=a[1].split(",").map(ODe);return typeof s=="function"?s(o):o[s]}const IDe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return w2(n,t)};function ODe(e){return parseFloat(e.trim())}const op=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lp=new Set(op),u3=e=>e===ip||e===Vt,LDe=new Set(["x","y","z"]),$De=op.filter(e=>!LDe.has(e));function FDe(e){const t=[];return $De.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ud={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>w2(t,"x"),y:(e,{transform:t})=>w2(t,"y")};ud.translateX=ud.x;ud.translateY=ud.y;const dd=new Set;let S2=!1,C2=!1,j2=!1;function RJ(){if(C2){const e=Array.from(dd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=FDe(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}C2=!1,S2=!1,dd.forEach(e=>e.complete(j2)),dd.clear()}function MJ(){dd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(C2=!0)})}function BDe(){j2=!0,MJ(),RJ(),j2=!1}class gM{constructor(t,n,r,a,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(dd.add(this),S2||(S2=!0,On.read(MJ),On.resolveKeyframes(RJ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&s===void 0&&a.set(t[0])}DDe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),dd.delete(this)}cancel(){this.state==="scheduled"&&(dd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VDe=e=>e.startsWith("--");function zDe(e,t,n){VDe(t)?e.style.setProperty(t,n):e.style[t]=n}const UDe=aM(()=>window.ScrollTimeline!==void 0),KDe={};function GDe(e,t){const n=aM(e);return()=>KDe[t]??n()}const IJ=GDe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_g=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,d3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_g([0,.65,.55,1]),circOut:_g([.55,0,1,.45]),backIn:_g([.31,.01,.66,-.59]),backOut:_g([.33,1.53,.69,.99])};function OJ(e,t){if(e)return typeof e=="function"?IJ()?EJ(e,t):"ease-out":yJ(e)?_g(e):Array.isArray(e)?e.map(n=>OJ(n,t)||d3.easeOut):d3[e]}function WDe(e,t,n,{delay:r=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=OJ(l,a);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function LJ(e){return typeof e=="function"&&"applyToOptions"in e}function qDe({type:e,...t}){return LJ(e)&&IJ()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class HDe extends mM{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,rM(typeof t.type!="string");const u=qDe(t);this.animation=WDe(n,r,a,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=hM(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):zDe(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ci(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ci(t)}get time(){return ci(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_o(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&UDe()?(this.animation.timeline=t,hi):n(this)}}const $J={anticipate:mJ,backInOut:hJ,circInOut:gJ};function YDe(e){return e in $J}function QDe(e){typeof e.ease=="string"&&YDe(e.ease)&&(e.ease=$J[e.ease])}const f3=10;class ZDe extends HDe{constructor(t){QDe(t),DJ(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new pM({...o,autoplay:!1}),c=_o(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-f3).value,l.sample(c).value,f3),l.stop()}}const h3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(eu.test(e)||e==="0")&&!e.startsWith("url("));function JDe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function XDe(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=h3(a,t),l=h3(s,t);return!o||!l?!1:JDe(e)||(n==="spring"||LJ(n))&&r}function N2(e){e.duration=0,e.type="keyframes"}const eRe=new Set(["opacity","clipPath","filter","transform"]),tRe=aM(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nRe(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:s,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return tRe()&&n&&eRe.has(n)&&(n!=="transform"||!u)&&!c&&!r&&a!=="mirror"&&s!==0&&o!=="inertia"}const rRe=40;class aRe extends mM{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var v,b;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=hs.now();const h={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||gM;this.keyframeResolver=new m(l,(v,b,y)=>this.onKeyframesResolved(v,b,h,!y),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=hs.now(),XDe(t,s,o,l)||((Dl.instantAnimations||!c)&&(d==null||d(hM(t,r,n))),t[0]=t[t.length-1],N2(r),r.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>rRe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&nRe(h)?new ZDe({...h,element:h.motionValue.owner.current}):new pM(h);m.finished.then(()=>this.notifyFinished()).catch(hi),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),BDe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const sRe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iRe(e){const t=sRe.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function FJ(e,t,n=1){const[r,a]=iRe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return sJ(o)?parseFloat(o):o}return lM(a)?FJ(a,t,n+1):a}function vM(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const BJ=new Set(["width","height","top","left","right","bottom",...op]),oRe={test:e=>e==="auto",parse:e=>e},VJ=e=>t=>t.test(e),zJ=[ip,Vt,Do,fc,X_e,J_e,oRe],m3=e=>zJ.find(VJ(e));function lRe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||oJ(e):!0}const cRe=new Set(["brightness","contrast","saturate","opacity"]);function uRe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(cM)||[];if(!r)return e;const a=n.replace(r,"");let s=cRe.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+a+")"}const dRe=/\b([a-z-]*)\(.*?\)/gu,k2={...eu,getAnimatableNone:e=>{const t=e.match(dRe);return t?t.map(uRe).join(" "):e}},p3={...ip,transform:Math.round},fRe={rotate:fc,rotateX:fc,rotateY:fc,rotateZ:fc,scale:H0,scaleX:H0,scaleY:H0,scaleZ:H0,skew:fc,skewX:fc,skewY:fc,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:ry,originX:n3,originY:n3,originZ:Vt},yM={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,backgroundPositionX:Vt,backgroundPositionY:Vt,...fRe,zIndex:p3,fillOpacity:ry,strokeOpacity:ry,numOctaves:p3},hRe={...yM,color:Pr,backgroundColor:Pr,outlineColor:Pr,fill:Pr,stroke:Pr,borderColor:Pr,borderTopColor:Pr,borderRightColor:Pr,borderBottomColor:Pr,borderLeftColor:Pr,filter:k2,WebkitFilter:k2},UJ=e=>hRe[e];function KJ(e,t){let n=UJ(e);return n!==k2&&(n=eu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mRe=new Set(["auto","none","0"]);function pRe(e,t,n){let r=0,a;for(;r<e.length&&!a;){const s=e[r];typeof s=="string"&&!mRe.has(s)&&ay(s).values.length&&(a=e[r]),r++}if(a&&n)for(const s of t)e[s]=KJ(n,a)}class gRe extends gM{constructor(t,n,r,a,s){super(t,n,r,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),lM(u))){const d=FJ(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!BJ.has(r)||t.length!==2)return;const[a,s]=t,o=m3(a),l=m3(s);if(o!==l)if(u3(o)&&u3(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else ud[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||lRe(t[a]))&&r.push(a);r.length&&pRe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ud[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ud[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function vRe(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const GJ=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function WJ(e){return iJ(e)&&"offsetHeight"in e}const g3=30,yRe=e=>!isNaN(parseFloat(e)),sv={current:void 0};class xRe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const a=hs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=hs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yRe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new sM);const r=this.events[t].add(n);return t==="change"?()=>{r(),On.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return sv.current&&sv.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>g3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,g3);return lJ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zd(e,t){return new xRe(e,t)}const{schedule:xM}=xJ(queueMicrotask,!1),Di={x:!1,y:!1};function qJ(){return Di.x||Di.y}function bRe(e){return e==="x"||e==="y"?Di[e]?null:(Di[e]=!0,()=>{Di[e]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}function HJ(e,t){const n=vRe(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function v3(e){return!(e.pointerType==="touch"||qJ())}function wRe(e,t,n={}){const[r,a,s]=HJ(e,n),o=l=>{if(!v3(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{v3(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),s}const YJ=(e,t)=>t?e===t?!0:YJ(e,t.parentElement):!1,bM=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,SRe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CRe(e){return SRe.has(e.tagName)||e.tabIndex!==-1}const Xb=new WeakSet;function y3(e){return t=>{t.key==="Enter"&&e(t)}}function oA(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const jRe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=y3(()=>{if(Xb.has(n))return;oA(n,"down");const a=y3(()=>{oA(n,"up")}),s=()=>oA(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function x3(e){return bM(e)&&!qJ()}function NRe(e,t,n={}){const[r,a,s]=HJ(e,n),o=l=>{const c=l.currentTarget;if(!x3(l))return;Xb.add(c);const u=t(c,l),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Xb.has(c)&&Xb.delete(c),x3(m)&&typeof u=="function"&&u(m,{success:g})},f=m=>{d(m,c===window||c===document||n.useGlobalTarget||YJ(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),WJ(l)&&(l.addEventListener("focus",u=>jRe(u,a)),!CRe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function QJ(e){return iJ(e)&&"ownerSVGElement"in e}function kRe(e){return QJ(e)&&e.tagName==="svg"}function ARe(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],a=e[1+n],s=e[2+n],o=e[3+n],l=_J(a,s,o);return t?l(r):l}const xa=e=>!!(e&&e.getVelocity),PRe=[...zJ,Pr,eu],ERe=e=>PRe.find(VJ(e)),nj=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function b3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TRe(...e){return t=>{let n=!1;const r=e.map(a=>{const s=b3(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():b3(e[a],null)}}}}function _Re(...e){return p.useCallback(TRe(...e),e)}class DRe extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=WJ(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RRe({children:e,isPresent:t,anchorX:n,root:r}){const a=p.useId(),s=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(nj),c=_Re(s,e==null?void 0:e.ref);return p.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:m}=o.current;if(t||!s.current||!u||!d)return;const g=n==="left"?`left: ${h}`:`right: ${m}`;s.current.dataset.motionPopId=a;const v=document.createElement("style");l&&(v.nonce=l);const b=r??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[t]),i.jsx(DRe,{isPresent:t,childRef:s,sizeRef:o,children:p.cloneElement(e,{ref:c})})}const MRe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const u=hu(IRe),d=p.useId();let f=!0,h=p.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:a,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&f&&(h={...h}),p.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[n]),p.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(RRe,{isPresent:n,anchorX:l,root:c,children:e})),i.jsx(tj.Provider,{value:h,children:e})};function IRe(){return new Map}function ZJ(e=!0){const t=p.useContext(tj);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,s=p.useId();p.useEffect(()=>{if(e)return a(s)},[e]);const o=p.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Y0=e=>e.key||"";function w3(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const fd=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=ZJ(o),f=p.useMemo(()=>w3(e),[e]),h=o&&!u?[]:f.map(Y0),m=p.useRef(!0),g=p.useRef(f),v=hu(()=>new Map),[b,y]=p.useState(f),[x,w]=p.useState(f);ej(()=>{m.current=!1,g.current=f;for(let k=0;k<x.length;k++){const N=Y0(x[k]);h.includes(N)?v.delete(N):v.get(N)!==!0&&v.set(N,!1)}},[x,h.length,h.join("-")]);const S=[];if(f!==b){let k=[...f];for(let N=0;N<x.length;N++){const P=x[N],E=Y0(P);h.includes(E)||(k.splice(N,0,P),S.push(P))}return s==="wait"&&S.length&&(k=S),w(w3(k)),y(f),null}const{forceRender:j}=p.useContext(ty);return i.jsx(i.Fragment,{children:x.map(k=>{const N=Y0(k),P=o&&!u?!1:f===x||h.includes(N),E=()=>{if(v.has(N))v.set(N,!0);else return;let R=!0;v.forEach(O=>{O||(R=!1)}),R&&(j==null||j(),w(g.current),o&&(d==null||d()),r&&r())};return i.jsx(MRe,{isPresent:P,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:P?void 0:E,anchorX:l,children:k},N)})})},ORe=p.createContext(null);function LRe(){const e=p.useRef(!1);return ej(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function $Re(){const e=LRe(),[t,n]=p.useState(0),r=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>On.postRender(r),[r]),t]}const FRe=e=>!e.isLayoutDirty&&e.willUpdate(!1);function S3(){const e=new Set,t=new WeakMap,n=()=>e.forEach(FRe);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const a=t.get(r);a&&(a(),t.delete(r)),n()},dirty:n}}const JJ=e=>e===!0,BRe=e=>JJ(e===!0)||e==="id",VRe=({children:e,id:t,inherit:n=!0})=>{const r=p.useContext(ty),a=p.useContext(ORe),[s,o]=$Re(),l=p.useRef(null),c=r.id||a;l.current===null&&(BRe(n)&&c&&(t=t?c+"-"+t:c),l.current={id:t,group:JJ(n)&&r.group||S3()});const u=p.useMemo(()=>({...l.current,forceRender:s}),[o]);return i.jsx(ty.Provider,{value:u,children:e})},XJ=p.createContext({strict:!1}),C3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ym={};for(const e in C3)ym[e]={isEnabled:t=>C3[e].some(n=>!!t[n])};function zRe(e){for(const t in e)ym[t]={...ym[t],...e[t]}}const URe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function N1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||URe.has(e)}let eX=e=>!N1(e);function KRe(e){typeof e=="function"&&(eX=t=>t.startsWith("on")?!N1(t):e(t))}try{KRe(require("@emotion/is-prop-valid").default)}catch{}function GRe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(eX(a)||n===!0&&N1(a)||!t&&!N1(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const rj=p.createContext({});function aj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function sy(e){return typeof e=="string"||Array.isArray(e)}const wM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SM=["initial",...wM];function sj(e){return aj(e.animate)||SM.some(t=>sy(e[t]))}function tX(e){return!!(sj(e)||e.variants)}function WRe(e,t){if(sj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||sy(n)?n:void 0,animate:sy(r)?r:void 0}}return e.inherit!==!1?t:{}}function qRe(e){const{initial:t,animate:n}=WRe(e,p.useContext(rj));return p.useMemo(()=>({initial:t,animate:n}),[j3(t),j3(n)])}function j3(e){return Array.isArray(e)?e.join(" "):e}function N3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ng={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Vt.test(e))e=parseFloat(e);else return e;const n=N3(e,t.target.x),r=N3(e,t.target.y);return`${n}% ${r}%`}},HRe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=eu.parse(e);if(a.length>5)return r;const s=eu.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=Qn(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}},A2={borderRadius:{...ng,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ng,borderTopRightRadius:ng,borderBottomLeftRadius:ng,borderBottomRightRadius:ng,boxShadow:HRe};function nX(e,{layout:t,layoutId:n}){return lp.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!A2[e]||e==="opacity")}const YRe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QRe=op.length;function ZRe(e,t,n){let r="",a=!0;for(let s=0;s<QRe;s++){const o=op[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=GJ(l,yM[o]);if(!c){a=!1;const d=YRe[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function CM(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(lp.has(c)){o=!0;continue}else if(wJ(c)){a[c]=u;continue}else{const d=GJ(u,yM[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=ZRe(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const jM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rX(e,t,n){for(const r in t)!xa(t[r])&&!nX(r,n)&&(e[r]=t[r])}function JRe({transformTemplate:e},t){return p.useMemo(()=>{const n=jM();return CM(n,t,e),Object.assign({},n.vars,n.style)},[t])}function XRe(e,t){const n=e.style||{},r={};return rX(r,n,e),Object.assign(r,JRe(e,t)),r}function eMe(e,t){const n={},r=XRe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const tMe={offset:"stroke-dashoffset",array:"stroke-dasharray"},nMe={offset:"strokeDashoffset",array:"strokeDasharray"};function rMe(e,t,n=1,r=0,a=!0){e.pathLength=1;const s=a?tMe:nMe;e[s.offset]=Vt.transform(-r);const o=Vt.transform(t),l=Vt.transform(n);e[s.array]=`${o} ${l}`}function aX(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...l},c,u,d){if(CM(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&rMe(f,a,s,o,!1)}const sX=()=>({...jM(),attrs:{}}),iX=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aMe(e,t,n,r){const a=p.useMemo(()=>{const s=sX();return aX(s,t,iX(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};rX(s,e.style,e),a.style={...s,...a.style}}return a}const sMe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NM(e){return typeof e!="string"||e.includes("-")?!1:!!(sMe.indexOf(e)>-1||/[A-Z]/u.test(e))}function iMe(e,t,n,{latestValues:r},a,s=!1){const l=(NM(e)?aMe:eMe)(t,r,a,e),c=GRe(t,typeof e=="string",s),u=e!==p.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=p.useMemo(()=>xa(d)?d.get():d,[d]);return p.createElement(e,{...u,children:f})}function k3(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function kM(e,t,n,r){if(typeof t=="function"){const[a,s]=k3(r);t=t(n!==void 0?n:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=k3(r);t=t(n!==void 0?n:e.custom,a,s)}return t}function ew(e){return xa(e)?e.get():e}function oMe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:lMe(n,r,a,e),renderState:t()}}function lMe(e,t,n,r){const a={},s=r(e,{});for(const h in s)a[h]=ew(s[h]);let{initial:o,animate:l}=e;const c=sj(e),u=tX(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!aj(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=kM(e,h[m]);if(g){const{transitionEnd:v,transition:b,...y}=g;for(const x in y){let w=y[x];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(a[x]=w)}for(const x in v)a[x]=v[x]}}}return a}const oX=e=>(t,n)=>{const r=p.useContext(rj),a=p.useContext(tj),s=()=>oMe(e,t,r,a);return n?s():hu(s)};function AM(e,t,n){var s;const{style:r}=e,a={};for(const o in r)(xa(r[o])||t.style&&xa(t.style[o])||nX(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const cMe=oX({scrapeMotionValuesFromProps:AM,createRenderState:jM});function lX(e,t,n){const r=AM(e,t,n);for(const a in e)if(xa(e[a])||xa(t[a])){const s=op.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[s]=e[a]}return r}const uMe=oX({scrapeMotionValuesFromProps:lX,createRenderState:sX}),dMe=Symbol.for("motionComponentSymbol");function Ch(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function fMe(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ch(n)&&(n.current=r))},[t])}const PM=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hMe="framerAppearId",cX="data-"+PM(hMe),uX=p.createContext({});function mMe(e,t,n,r,a){var v,b;const{visualElement:s}=p.useContext(rj),o=p.useContext(XJ),l=p.useContext(tj),c=p.useContext(nj).reducedMotion,u=p.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=p.useContext(uX);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&pMe(u.current,n,a,f);const h=p.useRef(!1);p.useInsertionEffect(()=>{d&&h.current&&d.update(n,l)});const m=n[cX],g=p.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return ej(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),g.current=!1),d.enteringChildren=void 0)}),d}function pMe(e,t,n,r){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dX(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&Ch(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function dX(e){if(e)return e.options.allowProjection!==!1?e.projection:dX(e.parent)}function lA(e,{forwardMotionProps:t=!1}={},n,r){n&&zRe(n);const a=NM(e)?uMe:cMe;function s(l,c){let u;const d={...p.useContext(nj),...l,layoutId:gMe(l)},{isStatic:f}=d,h=qRe(l),m=a(l,f);if(!f&&eM){vMe();const g=yMe(d);u=g.MeasureLayout,h.visualElement=mMe(e,m,d,r,g.ProjectionNode)}return i.jsxs(rj.Provider,{value:h,children:[u&&h.visualElement?i.jsx(u,{visualElement:h.visualElement,...d}):null,iMe(e,l,fMe(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=p.forwardRef(s);return o[dMe]=e,o}function gMe({layoutId:e}){const t=p.useContext(ty).id;return t&&e!==void 0?t+"-"+e:e}function vMe(e,t){p.useContext(XJ).strict}function yMe(e){const{drag:t,layout:n}=ym;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function xMe(e,t){if(typeof Proxy>"u")return lA;const n=new Map,r=(s,o)=>lA(s,o,e,t),a=(s,o)=>r(s,o);return new Proxy(a,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,lA(o,void 0,e,t)),n.get(o))})}function fX({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function bMe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wMe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cA(e){return e===void 0||e===1}function P2({scale:e,scaleX:t,scaleY:n}){return!cA(e)||!cA(t)||!cA(n)}function Ou(e){return P2(e)||hX(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function hX(e){return A3(e.x)||A3(e.y)}function A3(e){return e&&e!=="0%"}function k1(e,t,n){const r=e-n,a=t*r;return n+a}function P3(e,t,n,r,a){return a!==void 0&&(e=k1(e,a,r)),k1(e,n,r)+t}function E2(e,t=0,n=1,r,a){e.min=P3(e.min,t,n,r,a),e.max=P3(e.max,t,n,r,a)}function mX(e,{x:t,y:n}){E2(e.x,t.translate,t.scale,t.originPoint),E2(e.y,n.translate,n.scale,n.originPoint)}const E3=.999999999999,T3=1.0000000000001;function SMe(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Nh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,mX(e,o)),r&&Ou(s.latestValues)&&Nh(e,s.latestValues))}t.x<T3&&t.x>E3&&(t.x=1),t.y<T3&&t.y>E3&&(t.y=1)}function jh(e,t){e.min=e.min+t,e.max=e.max+t}function _3(e,t,n,r,a=.5){const s=Qn(e.min,e.max,a);E2(e,t,n,s,r)}function Nh(e,t){_3(e.x,t.x,t.scaleX,t.scale,t.originX),_3(e.y,t.y,t.scaleY,t.scale,t.originY)}function pX(e,t){return fX(wMe(e.getBoundingClientRect(),t))}function CMe(e,t,n){const r=pX(e,n),{scroll:a}=t;return a&&(jh(r.x,a.offset.x),jh(r.y,a.offset.y)),r}const D3=()=>({translate:0,scale:1,origin:0,originPoint:0}),kh=()=>({x:D3(),y:D3()}),R3=()=>({min:0,max:0}),Ir=()=>({x:R3(),y:R3()}),T2={current:null},gX={current:!1};function jMe(){if(gX.current=!0,!!eM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>T2.current=e.matches;e.addEventListener("change",t),t()}else T2.current=!1}const NMe=new WeakMap;function kMe(e,t,n){for(const r in t){const a=t[r],s=n[r];if(xa(a))e.addValue(r,a);else if(xa(s))e.addValue(r,zd(a,{owner:e}));else if(s!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,zd(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const M3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AMe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=hs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,On.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=sj(n),this.isVariantNode=tX(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&xa(m)&&m.set(c[h])}}mount(t){var n;this.current=t,NMe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),gX.current||jMe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:T2.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Rl(this.notifyUpdate),Rl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=lp.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&On.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ym){const n=ym[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ir()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<M3.length;r++){const a=M3[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=t[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=kMe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=zd(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(sJ(r)||oJ(r))?r=parseFloat(r):!ERe(r)&&eu.test(n)&&(r=KJ(t,n)),this.setBaseTarget(t,xa(r)?r.get():r)),xa(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=kM(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!xa(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new sM),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){xM.render(this.render)}}class vX extends AMe{constructor(){super(...arguments),this.KeyframeResolver=gRe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yX(e,{style:t,vars:n},r,a){const s=e.style;let o;for(o in t)s[o]=t[o];a==null||a.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function PMe(e){return window.getComputedStyle(e)}class EMe extends vX{constructor(){super(...arguments),this.type="html",this.renderInstance=yX}readValueFromInstance(t,n){var r;if(lp.has(n))return(r=this.projection)!=null&&r.isProjecting?b2(n):IDe(t,n);{const a=PMe(t),s=(wJ(n)?a.getPropertyValue(n):a[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return pX(t,n)}build(t,n,r){CM(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return AM(t,n,r)}}const xX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TMe(e,t,n,r){yX(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(xX.has(a)?a:PM(a),t.attrs[a])}class _Me extends vX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ir}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(lp.has(n)){const r=UJ(n);return r&&r.default||0}return n=xX.has(n)?n:PM(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return lX(t,n,r)}build(t,n,r){aX(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){TMe(t,n,r,a)}mount(t){this.isSVGTag=iX(t.tagName),super.mount(t)}}const DMe=(e,t)=>NM(e)?new _Me(t):new EMe(t,{allowProjection:e!==p.Fragment});function Wh(e,t,n){const r=e.getProps();return kM(r,t,n!==void 0?n:r.custom,e)}const _2=e=>Array.isArray(e);function RMe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zd(n))}function MMe(e){return _2(e)?e[e.length-1]||0:e}function IMe(e,t){const n=Wh(e,t);let{transitionEnd:r={},transition:a={},...s}=n||{};s={...s,...r};for(const o in s){const l=MMe(s[o]);RMe(e,o,l)}}function OMe(e){return!!(xa(e)&&e.add)}function D2(e,t){const n=e.getValue("willChange");if(OMe(n))return n.add(t);if(!n&&Dl.WillChange){const r=new Dl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function bX(e){return e.props[cX]}const LMe=e=>e!==null;function $Me(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(LMe),s=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[s]}const FMe={type:"spring",stiffness:500,damping:25,restSpeed:10},BMe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VMe={type:"keyframes",duration:.8},zMe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UMe=(e,{keyframes:t})=>t.length>2?VMe:lp.has(e)?e.startsWith("scale")?BMe(t[1]):FMe:zMe;function KMe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const EM=(e,t,n,r={},a,s)=>o=>{const l=vM(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-_o(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};KMe(l)||Object.assign(d,UMe(e,d)),d.duration&&(d.duration=_o(d.duration)),d.repeatDelay&&(d.repeatDelay=_o(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(N2(d),d.delay===0&&(f=!0)),(Dl.instantAnimations||Dl.skipAnimations)&&(f=!0,N2(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=$Me(d.keyframes,l);if(h!==void 0){On.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new pM(d):new aRe(d)};function GMe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function wX(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(s=r);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&GMe(u,d))continue;const m={delay:n,...vM(s||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const y=bX(e);if(y){const x=window.MotionHandoffAnimation(y,d,On);x!==null&&(m.startTime=x,v=!0)}}D2(e,d),f.start(EM(d,f,h,e.shouldReduceMotion&&BJ.has(d)?{type:!1}:m,e,v));const b=f.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{On.update(()=>{o&&IMe(e,o)})}),c}function SX(e,t,n,r=0,a=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(s,o):a===1?s*r:l-s*r}function R2(e,t,n={}){var c;const r=Wh(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const s=r?()=>Promise.all(wX(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return WMe(e,t,u,d,f,h,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function WMe(e,t,n=0,r=0,a=0,s=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(R2(c,t,{...o,delay:n+(typeof r=="function"?0:r)+SX(e.variantChildren,c,r,a,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function qMe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(s=>R2(e,s,n));r=Promise.all(a)}else if(typeof t=="string")r=R2(e,t,n);else{const a=typeof t=="function"?Wh(e,t,n.custom):t;r=Promise.all(wX(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function CX(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const HMe=SM.length;function jX(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?jX(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<HMe;n++){const r=SM[n],a=e.props[r];(sy(a)||a===!1)&&(t[r]=a)}return t}const YMe=[...wM].reverse(),QMe=wM.length;function ZMe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>qMe(e,n,r)))}function JMe(e){let t=ZMe(e),n=I3(),r=!0;const a=c=>(u,d)=>{var h;const f=Wh(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...v}=f;u={...u,...v,...g}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=jX(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let b=0;b<QMe;b++){const y=YMe[b],x=n[y],w=u[y]!==void 0?u[y]:d[y],S=sy(w),j=y===c?x.isActive:null;j===!1&&(g=b);let k=w===d[y]&&w!==u[y]&&S;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...m},!x.isActive&&j===null||!w&&!x.prevProp||aj(w)||typeof w=="boolean")continue;const N=XMe(x.prevProp,w);let P=N||y===c&&x.isActive&&!k&&S||b>g&&S,E=!1;const R=Array.isArray(w)?w:[w];let O=R.reduce(a(y),{});j===!1&&(O={});const{prevResolvedValues:G={}}=x,te={...G,...O},V=U=>{P=!0,h.has(U)&&(E=!0,h.delete(U)),x.needsAnimating[U]=!0;const M=e.getValue(U);M&&(M.liveStyle=!1)};for(const U in te){const M=O[U],F=G[U];if(m.hasOwnProperty(U))continue;let W=!1;_2(M)&&_2(F)?W=!CX(M,F):W=M!==F,W?M!=null?V(U):h.add(U):M!==void 0&&h.has(U)?V(U):x.protectedKeys[U]=!0}x.prevProp=w,x.prevResolvedValues=O,x.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(P=!1);const z=k&&N;P&&(!z||E)&&f.push(...R.map(U=>{const M={type:y};if(typeof U=="string"&&r&&!z&&e.manuallyAnimateOnMount&&e.parent){const{parent:F}=e,W=Wh(F,U);if(F.enteringChildren&&W){const{delayChildren:Z}=W.transition||{};M.delay=SX(F.enteringChildren,e,Z)}}return{animation:U,options:M}}))}if(h.size){const b={};if(typeof u.initial!="boolean"){const y=Wh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(b.transition=y.transition)}h.forEach(y=>{const x=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),b[y]=x??null}),f.push({animation:b})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=I3()}}}function XMe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!CX(t,e):!1}function Tu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function I3(){return{animate:Tu(!0),whileInView:Tu(),whileHover:Tu(),whileTap:Tu(),whileDrag:Tu(),whileFocus:Tu(),exit:Tu()}}class mu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eIe extends mu{constructor(t){super(t),t.animationState||(t.animationState=JMe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();aj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let tIe=0;class nIe extends mu{constructor(){super(...arguments),this.id=tIe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rIe={animation:{Feature:eIe},exit:{Feature:nIe}};function iy(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function cx(e){return{point:{x:e.pageX,y:e.pageY}}}const aIe=e=>t=>bM(t)&&e(t,cx(t));function iv(e,t,n,r){return iy(e,t,aIe(n),r)}const NX=1e-4,sIe=1-NX,iIe=1+NX,kX=.01,oIe=0-kX,lIe=0+kX;function za(e){return e.max-e.min}function cIe(e,t,n){return Math.abs(e-t)<=n}function O3(e,t,n,r=.5){e.origin=r,e.originPoint=Qn(t.min,t.max,e.origin),e.scale=za(n)/za(t),e.translate=Qn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sIe&&e.scale<=iIe||isNaN(e.scale))&&(e.scale=1),(e.translate>=oIe&&e.translate<=lIe||isNaN(e.translate))&&(e.translate=0)}function ov(e,t,n,r){O3(e.x,t.x,n.x,r?r.originX:void 0),O3(e.y,t.y,n.y,r?r.originY:void 0)}function L3(e,t,n){e.min=n.min+t.min,e.max=e.min+za(t)}function uIe(e,t,n){L3(e.x,t.x,n.x),L3(e.y,t.y,n.y)}function $3(e,t,n){e.min=t.min-n.min,e.max=e.min+za(t)}function A1(e,t,n){$3(e.x,t.x,n.x),$3(e.y,t.y,n.y)}function ni(e){return[e("x"),e("y")]}const AX=({current:e})=>e?e.ownerDocument.defaultView:null,F3=(e,t)=>Math.abs(e-t);function dIe(e,t){const n=F3(e.x,t.x),r=F3(e.y,t.y);return Math.sqrt(n**2+r**2)}class PX{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=dA(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=dIe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:v}=h,{timestamp:b}=va;this.history.push({...v,timestamp:b});const{onStart:y,onMove:x}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=uA(m,this.transformPagePoint),On.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=dA(h.type==="pointercancel"?this.lastMoveEventInfo:uA(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,y),v&&v(h,y)},!bM(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const l=cx(t),c=uA(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=va;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,dA(c,this.history)),this.removeListeners=ix(iv(this.contextWindow,"pointermove",this.handlePointerMove),iv(this.contextWindow,"pointerup",this.handlePointerUp),iv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Rl(this.updatePoint)}}function uA(e,t){return t?{point:t(e.point)}:e}function B3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dA({point:e},t){return{point:e,delta:B3(e,EX(t)),offset:B3(e,fIe(t)),velocity:hIe(t,.1)}}function fIe(e){return e[0]}function EX(e){return e[e.length-1]}function hIe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=EX(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>_o(t)));)n--;if(!r)return{x:0,y:0};const s=ci(a.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mIe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Qn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Qn(n,e,r.max):Math.min(e,n)),e}function V3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pIe(e,{top:t,left:n,bottom:r,right:a}){return{x:V3(e.x,n,a),y:V3(e.y,t,r)}}function z3(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function gIe(e,t){return{x:z3(e.x,t.x),y:z3(e.y,t.y)}}function vIe(e,t){let n=.5;const r=za(e),a=za(t);return a>r?n=ny(t.min,t.max-r,e.min):r>a&&(n=ny(e.min,e.max-a,t.min)),_l(0,1,n)}function yIe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const M2=.35;function xIe(e=M2){return e===!1?e=0:e===!0&&(e=M2),{x:U3(e,"left","right"),y:U3(e,"top","bottom")}}function U3(e,t,n){return{min:K3(e,t),max:K3(e,n)}}function K3(e,t){return typeof e=="number"?e:e[t]||0}const bIe=new WeakMap;class wIe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ir(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cx(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bRe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Do.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[y];S&&(x=za(S)*(parseFloat(x)/100))}}this.originPoint[y]=x}),v&&On.postRender(()=>v(f,h)),D2(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:v,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(g&&this.currentDirection===null){this.currentDirection=SIe(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),b&&b(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ni(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PX(t,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:AX(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&On.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Q0(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=mIe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&Ch(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=pIe(r.layoutBox,t):this.constraints=!1,this.elastic=xIe(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ni(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yIe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ch(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=CMe(r,a.root,this.visualElement.getTransformPagePoint());let o=gIe(a.layout.layoutBox,s);if(n){const l=n(bMe(o));this.hasMutatedConstraints=!!l,l&&(o=fX(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ni(d=>{if(!Q0(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return D2(this.visualElement,t),r.start(EM(t,r,0,n,this.visualElement,!1))}stopAnimation(){ni(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ni(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ni(n=>{const{drag:r}=this.getProps();if(!Q0(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];s.set(t[n]-Qn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ch(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=vIe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ni(o=>{if(!Q0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Qn(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;bIe.set(this.visualElement,this);const t=this.visualElement.current,n=iv(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ch(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),On.read(r);const o=iy(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ni(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=M2,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Q0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function SIe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class CIe extends mu{constructor(t){super(t),this.removeGroupControls=hi,this.removeListeners=hi,this.controls=new wIe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const G3=e=>(t,n)=>{e&&On.postRender(()=>e(t,n))};class jIe extends mu{constructor(){super(...arguments),this.removePointerDownListener=hi}onPointerDown(t){this.session=new PX(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AX(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:G3(t),onStart:G3(n),onMove:r,onEnd:(s,o)=>{delete this.session,a&&On.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=iv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let fA=!1;class NIe extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:s}=t;s&&(n.group&&n.group.add(s),r&&r.register&&a&&r.register(s),fA&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),tw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,fA=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||On.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xM.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;fA=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TX(e){const[t,n]=ZJ(),r=p.useContext(ty);return i.jsx(NIe,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(uX),isPresent:t,safeToRemove:n})}function kIe(e,t,n){const r=xa(e)?e:zd(e);return r.start(EM("",r,t,n)),r.animation}const AIe=(e,t)=>e.depth-t.depth;class PIe{constructor(){this.children=[],this.isDirty=!1}add(t){tM(this.children,t),this.isDirty=!0}remove(t){nM(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AIe),this.isDirty=!1,this.children.forEach(t)}}function EIe(e,t){const n=hs.now(),r=({timestamp:a})=>{const s=a-n;s>=t&&(Rl(r),e(s-t))};return On.setup(r,!0),()=>Rl(r)}const _X=["TopLeft","TopRight","BottomLeft","BottomRight"],TIe=_X.length,W3=e=>typeof e=="string"?parseFloat(e):e,q3=e=>typeof e=="number"||Vt.test(e);function _Ie(e,t,n,r,a,s){a?(e.opacity=Qn(0,n.opacity??1,DIe(r)),e.opacityExit=Qn(t.opacity??1,0,RIe(r))):s&&(e.opacity=Qn(t.opacity??1,n.opacity??1,r));for(let o=0;o<TIe;o++){const l=`border${_X[o]}Radius`;let c=H3(t,l),u=H3(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||q3(c)===q3(u)?(e[l]=Math.max(Qn(W3(c),W3(u),r),0),(Do.test(u)||Do.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Qn(t.rotate||0,n.rotate||0,r))}function H3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DIe=DX(0,.5,pJ),RIe=DX(.5,.95,hi);function DX(e,t,n){return r=>r<e?0:r>t?1:n(ny(e,t,r))}function Y3(e,t){e.min=t.min,e.max=t.max}function Ei(e,t){Y3(e.x,t.x),Y3(e.y,t.y)}function Q3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Z3(e,t,n,r,a){return e-=t,e=k1(e,1/n,r),a!==void 0&&(e=k1(e,1/a,r)),e}function MIe(e,t=0,n=1,r=.5,a,s=e,o=e){if(Do.test(t)&&(t=parseFloat(t),t=Qn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Qn(s.min,s.max,r);e===s&&(l-=t),e.min=Z3(e.min,t,n,l,a),e.max=Z3(e.max,t,n,l,a)}function J3(e,t,[n,r,a],s,o){MIe(e,t[n],t[r],t[a],t.scale,s,o)}const IIe=["x","scaleX","originX"],OIe=["y","scaleY","originY"];function X3(e,t,n,r){J3(e.x,t,IIe,n?n.x:void 0,r?r.x:void 0),J3(e.y,t,OIe,n?n.y:void 0,r?r.y:void 0)}function e5(e){return e.translate===0&&e.scale===1}function RX(e){return e5(e.x)&&e5(e.y)}function t5(e,t){return e.min===t.min&&e.max===t.max}function LIe(e,t){return t5(e.x,t.x)&&t5(e.y,t.y)}function n5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function MX(e,t){return n5(e.x,t.x)&&n5(e.y,t.y)}function r5(e){return za(e.x)/za(e.y)}function a5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $Ie{constructor(){this.members=[]}add(t){tM(this.members,t),t.scheduleRender()}remove(t){if(nM(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FIe(e,t,n){let r="";const a=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||s||o)&&(r=`translate3d(${a}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const hA=["","X","Y","Z"],BIe=1e3;let VIe=0;function mA(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function IX(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=bX(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",On,!(a||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&IX(r)}function OX({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=VIe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KIe),this.nodes.forEach(HIe),this.nodes.forEach(YIe),this.nodes.forEach(GIe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new PIe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sM),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=QJ(o)&&!kRe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;On.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=EIe(h,250),tw.hasAnimatedSinceResize&&(tw.hasAnimatedSinceResize=!1,this.nodes.forEach(o5)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||eOe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!MX(this.targetLayout,m),x=!f&&h;if(this.options.layoutRoot||this.resumeFrom||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...vM(g,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,x)}else f||o5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QIe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qIe),this.nodes.forEach(zIe),this.nodes.forEach(UIe)):this.nodes.forEach(i5),this.clearAllSnapshots();const l=hs.now();va.delta=_l(0,1e3/60,l-va.timestamp),va.timestamp=l,va.isProcessing=!0,nA.update.process(va),nA.preRender.process(va),nA.render.process(va),va.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WIe),this.sharedNodes.forEach(ZIe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,On.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){On.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!za(this.snapshot.measuredBox.x)&&!za(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!RX(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ou(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),tOe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ir();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(nOe))){const{scroll:d}=this.root;d&&(jh(l.x,d.offset.x),jh(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Ir();if(Ei(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ei(l,o),jh(l.x,f.offset.x),jh(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Ir();Ei(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Nh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ou(d.latestValues)&&Nh(c,d.latestValues)}return Ou(this.latestValues)&&Nh(c,this.latestValues),c}removeTransform(o){const l=Ir();Ei(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ou(u.latestValues))continue;P2(u.latestValues)&&u.updateSnapshot();const d=Ir(),f=u.measurePageBox();Ei(d,f),X3(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ou(this.latestValues)&&X3(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==va.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=va.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ir(),this.targetWithTransforms=Ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uIe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),mX(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||P2(this.parent.latestValues)||hX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),A1(this.relativeTargetOrigin,l,c),Ei(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===va.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ei(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;SMe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ir());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Q3(this.prevProjectionDelta.x,this.projectionDelta.x),Q3(this.prevProjectionDelta.y,this.projectionDelta.y)),ov(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!a5(this.projectionDelta.x,this.prevProjectionDelta.x)||!a5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kh(),this.projectionDelta=kh(),this.projectionDeltaWithTransform=kh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=kh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ir(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,b=this.getStack(),y=!b||b.members.length<=1,x=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(XIe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const j=S/1e3;l5(f.x,o.x,j),l5(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(A1(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JIe(this.relativeTarget,this.relativeTargetOrigin,h,j),w&&LIe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ir()),Ei(w,this.relativeTarget)),v&&(this.animationValues=d,_Ie(d,u,this.latestValues,j,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Rl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=On.update(()=>{tw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zd(0)),this.currentAnimation=kIe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BIe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&LX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ir();const f=za(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=za(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Ei(l,c),Nh(l,d),ov(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $Ie),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&mA("z",o,u,this.animationValues);for(let d=0;d<hA.length;d++)mA(`rotate${hA[d]}`,o,u,this.animationValues),mA(`skew${hA[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ew(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ew(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ou(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=FIe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in A2){if(d[g]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:y}=A2[g],x=f==="none"?d[g]:v(d[g],u);if(b){const w=b.length;for(let S=0;S<w;S++)o[b[S]]=x}else y?this.options.visualElement.renderState.vars[g]=x:o[g]=x}this.options.layoutId&&(o.pointerEvents=u===this?ew(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(s5),this.root.sharedNodes.clear()}}}function zIe(e){e.updateLayout()}function UIe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?ni(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=za(h);h.min=r[f].min,h.max=h.min+m}):LX(s,t.layoutBox,r)&&ni(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=za(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=kh();ov(l,r,t.layoutBox);const c=kh();o?ov(c,e.applyTransform(a,!0),t.measuredBox):ov(c,r,t.layoutBox);const u=!RX(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=Ir();A1(g,t.layoutBox,h.layoutBox);const v=Ir();A1(v,r,m.layoutBox),MX(g,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function KIe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function GIe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WIe(e){e.clearSnapshot()}function s5(e){e.clearMeasurements()}function i5(e){e.isLayoutDirty=!1}function qIe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function o5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function HIe(e){e.resolveTargetDelta()}function YIe(e){e.calcProjection()}function QIe(e){e.resetSkewAndRotation()}function ZIe(e){e.removeLeadSnapshot()}function l5(e,t,n){e.translate=Qn(t.translate,0,n),e.scale=Qn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function c5(e,t,n,r){e.min=Qn(t.min,n.min,r),e.max=Qn(t.max,n.max,r)}function JIe(e,t,n,r){c5(e.x,t.x,n.x,r),c5(e.y,t.y,n.y,r)}function XIe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const eOe={duration:.45,ease:[.4,0,.1,1]},u5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),d5=u5("applewebkit/")&&!u5("chrome/")?Math.round:hi;function f5(e){e.min=d5(e.min),e.max=d5(e.max)}function tOe(e){f5(e.x),f5(e.y)}function LX(e,t,n){return e==="position"||e==="preserve-aspect"&&!cIe(r5(t),r5(n),.2)}function nOe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rOe=OX({attachResizeListener:(e,t)=>iy(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pA={current:void 0},$X=OX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pA.current){const e=new rOe({});e.mount(window),e.setOptions({layoutScroll:!0}),pA.current=e}return pA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),aOe={pan:{Feature:jIe},drag:{Feature:CIe,ProjectionNode:$X,MeasureLayout:TX}};function h5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,s=r[a];s&&On.postRender(()=>s(t,cx(t)))}class sOe extends mu{mount(){const{current:t}=this.node;t&&(this.unmount=wRe(t,(n,r)=>(h5(this.node,r,"Start"),a=>h5(this.node,a,"End"))))}unmount(){}}class iOe extends mu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ix(iy(this.node.current,"focus",()=>this.onFocus()),iy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function m5(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),s=r[a];s&&On.postRender(()=>s(t,cx(t)))}class oOe extends mu{mount(){const{current:t}=this.node;t&&(this.unmount=NRe(t,(n,r)=>(m5(this.node,r,"Start"),(a,{success:s})=>m5(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const I2=new WeakMap,gA=new WeakMap,lOe=e=>{const t=I2.get(e.target);t&&t(e)},cOe=e=>{e.forEach(lOe)};function uOe({root:e,...t}){const n=e||document;gA.has(n)||gA.set(n,{});const r=gA.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(cOe,{root:e,...t})),r[a]}function dOe(e,t,n){const r=uOe(t);return I2.set(e,n),r.observe(e),()=>{I2.delete(e),r.unobserve(e)}}const fOe={some:0,all:1};class hOe extends mu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:fOe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return dOe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(mOe(t,n))&&this.startObserver()}unmount(){}}function mOe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const pOe={inView:{Feature:hOe},tap:{Feature:oOe},focus:{Feature:iOe},hover:{Feature:sOe}},gOe={layout:{ProjectionNode:$X,MeasureLayout:TX}},vOe={...rIe,...pOe,...aOe,...gOe},$a=xMe(vOe,DMe);function FX(e){const t=hu(()=>zd(e)),{isStatic:n}=p.useContext(nj);if(n){const[,r]=p.useState(e);p.useEffect(()=>t.on("change",r),[])}return t}function BX(e,t){const n=FX(t()),r=()=>n.set(t());return r(),ej(()=>{const a=()=>On.preRender(r,!1,!0),s=e.map(o=>o.on("change",a));return()=>{s.forEach(o=>o()),Rl(r)}}),n}function yOe(e){sv.current=[],e();const t=BX(sv.current,e);return sv.current=void 0,t}function xOe(e,t,n,r){if(typeof e=="function")return yOe(e);const a=typeof t=="function"?t:ARe(t,n,r);return Array.isArray(e)?p5(e,a):p5([e],([s])=>a(s))}function p5(e,t){const n=hu(()=>[]);return BX(e,()=>{n.length=0;const r=e.length;for(let a=0;a<r;a++)n[a]=e[a].get();return t(n)})}class bOe{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}cancel(){this.componentControls.forEach(t=>{t.cancel()})}stop(){this.componentControls.forEach(t=>{t.stop()})}}const wOe=()=>new bOe;function SOe(){return hu(wOe)}const VX=p.createContext(null);function COe(e,t,n,r){if(!r)return e;const a=e.findIndex(d=>d.value===t);if(a===-1)return e;const s=r>0?1:-1,o=e[a+s];if(!o)return e;const l=e[a],c=o.layout,u=Qn(c.min,c.max,.5);return s===1&&l.layout.max+n>u||s===-1&&l.layout.min+n<u?R_e(e,a,a+s):e}function jOe({children:e,as:t="ul",axis:n="y",onReorder:r,values:a,...s},o){const l=hu(()=>$a[t]),c=[],u=p.useRef(!1),d={axis:n,registerItem:(f,h)=>{const m=c.findIndex(g=>f===g.value);m!==-1?c[m].layout=h[n]:c.push({value:f,layout:h[n]}),c.sort(AOe)},updateOrder:(f,h,m)=>{if(u.current)return;const g=COe(c,f,h,m);c!==g&&(u.current=!0,r(g.map(kOe).filter(v=>a.indexOf(v)!==-1)))}};return p.useEffect(()=>{u.current=!1}),i.jsx(l,{...s,ref:o,ignoreStrict:!0,children:i.jsx(VX.Provider,{value:d,children:e})})}const NOe=p.forwardRef(jOe);function kOe(e){return e.value}function AOe(e,t){return e.layout.min-t.layout.min}function g5(e,t=0){return xa(e)?e:FX(t)}function POe({children:e,style:t={},value:n,as:r="li",onDrag:a,layout:s=!0,...o},l){const c=hu(()=>$a[r]),u=p.useContext(VX),d={x:g5(t.x),y:g5(t.y)},f=xOe([d.x,d.y],([v,b])=>v||b?1:"unset"),{axis:h,registerItem:m,updateOrder:g}=u;return i.jsx(c,{drag:h,...o,dragSnapToOrigin:!0,style:{...t,x:d.x,y:d.y,zIndex:f},layout:s,onDrag:(v,b)=>{const{velocity:y}=b;y[h]&&g(n,d[h].get(),y[h]),a&&a(v,b)},onLayoutMeasure:v=>m(n,v),ref:l,ignoreStrict:!0,children:e})}const EOe=p.forwardRef(POe);function zX({className:e,onCheckedChange:t,...n}){const[r,a]=p.useState((n==null?void 0:n.checked)??(n==null?void 0:n.defaultChecked)??!1);p.useEffect(()=>{(n==null?void 0:n.checked)!==void 0&&a(n.checked)},[n==null?void 0:n.checked]);const s=p.useCallback(o=>{a(o),t==null||t(o)},[t]);return i.jsx(ZR,{...n,onCheckedChange:s,asChild:!0,children:i.jsx($a.button,{"data-slot":"checkbox",className:De("peer size-5 flex items-center justify-center shrink-0 rounded-sm bg-input transition-colors duration-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),whileTap:{scale:.95},whileHover:{scale:1.05},...n,children:i.jsx(JR,{forceMount:!0,asChild:!0,children:i.jsx($a.svg,{"data-slot":"checkbox-indicator",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3.5",stroke:"currentColor",className:"size-3.5",initial:"unchecked",animate:r?"checked":"unchecked",children:i.jsx($a.path,{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5",variants:{checked:{pathLength:1,opacity:1,transition:{duration:.2,delay:.2}},unchecked:{pathLength:0,opacity:0,transition:{duration:.2}}}})})})})})}const TOe=({matches:e,onProcessingComplete:t})=>{const[n,r]=p.useState(new Set),[a,s]=p.useState(!1),o=f=>{const h=new Set(n);h.has(f)?h.delete(f):h.add(f),r(h)},l=()=>{r(new Set(e.map(f=>f.key)))},c=()=>{r(new Set)},u=async()=>{if(n.size===0){le.error("Please select at least one match to process");return}const f=localStorage.getItem("currentEventKey");if(!f){le.error("No event key found. Please load matches first.");return}s(!0);const h=[];try{for(const b of n){const y=e.find(E=>E.key===b);if(!y)continue;const x=nv(y),w=y.match_number,S=await wR(f,w),j=S.filter(E=>!E.verified);let k=0,N=0;const P=S.length-j.length;for(const E of j){const R=E.predictedWinner===x.winner;R&&k++;const O=await FH(E.scoutName,R,CR.CORRECT_PREDICTION,f,w);N+=O,await SR(E.id)}h.push({matchNumber:y.match_number,winner:x.winner,predictionsCount:j.length,correctPredictions:k,stakesAwarded:N}),P>0&&console.log(`Match ${y.match_number}: Skipped ${P} already verified predictions`)}t(h);const m=h.reduce((b,y)=>b+y.correctPredictions,0),g=h.reduce((b,y)=>b+y.predictionsCount,0),v=h.reduce((b,y)=>b+y.stakesAwarded,0);g===0?le.info(`Processed ${n.size} matches: All predictions were already verified. No new stakes awarded.`):le.success(`Processed ${n.size} matches: ${m}/${g} correct predictions, ${v} stakes awarded`),r(new Set)}catch(m){console.error("Error processing predictions:",m),le.error("Failed to process predictions. Please try again.")}finally{s(!1)}},d=f=>`${f.event_key}_qm${f.match_number}`;return e.length===0?null:i.jsxs(_e,{className:"w-full",children:[i.jsx(Ge,{className:"pb-4",children:i.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:flex sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(We,{className:"text-xl",children:["Qualification Matches (",e.length,")"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select matches to verify predictions and award stakes to scouts"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 justify-center sm:justify-end",children:[i.jsx(X,{variant:"outline",size:"sm",onClick:l,className:"px-4 flex-1 sm:flex-none",children:"Select All"}),i.jsx(X,{variant:"outline",size:"sm",onClick:c,className:"px-4 flex-1 sm:flex-none",children:"Clear"}),i.jsx(X,{onClick:u,disabled:n.size===0||a,className:"bg-green-600 hover:bg-green-700 text-white px-4 w-full sm:w-auto",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing (",n.size,")"]}):`Process Selected (${n.size})`})]})]})}),i.jsx($e,{className:"p-6",children:i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(f=>{const h=nv(f),m=n.has(f.key);return i.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${m?"border-blue-500 bg-blue-50 dark:bg-blue-950/20":"border-gray-200 hover:border-gray-300 dark:border-gray-700"}`,onClick:g=>{g.target.closest('[role="checkbox"]')||o(f.key)},children:i.jsxs("div",{className:"space-y-3 sm:space-y-0 sm:flex sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(zX,{checked:m,onCheckedChange:()=>o(f.key),className:"h-4 w-4"}),i.jsxs("span",{className:"font-medium text-base",children:["Match ",f.match_number]})]}),i.jsx("div",{className:"text-xs text-gray-500 font-mono sm:hidden",children:d(f)})]}),i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-6",children:i.jsx("div",{className:"flex items-center justify-between sm:justify-start gap-2 flex-wrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Oe,{variant:h.winner==="red"?"destructive":"default",className:`${h.winner==="red"?"bg-red-500":"bg-blue-500"} text-white`,children:[i.jsx(pr,{className:"h-3 w-3 mr-1"}),h.winner==="red"?"Red":h.winner==="blue"?"Blue":"Tie"]}),i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.redScore," - ",h.blueScore]})]})})})]}),i.jsx("div",{className:"hidden sm:block text-xs text-gray-500 font-mono text-right",children:d(f)})]})},f.key)})})})]})},_Oe=({results:e})=>{if(e.length===0)return null;const t=e.reduce((a,s)=>a+s.correctPredictions,0),n=e.reduce((a,s)=>a+s.predictionsCount,0),r=e.reduce((a,s)=>a+s.stakesAwarded,0);return i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{className:"pb-4",children:[i.jsx(We,{className:"text-xl",children:"Processing Results"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Summary of verified predictions and stakes awarded to scouts"}),i.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"space-y-2 sm:space-y-0 sm:flex sm:justify-between sm:items-center",children:[i.jsx("span",{className:"font-semibold text-green-700 dark:text-green-300 text-lg block",children:"Total Summary:"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-6 text-green-700 dark:text-green-300",children:[i.jsxs("span",{className:"text-base",children:[i.jsxs("span",{className:"font-medium",children:[t,"/",n]})," correct predictions"]}),i.jsxs("span",{className:"font-semibold text-lg",children:[r," stakes awarded"]})]})]})})]}),i.jsx($e,{className:"p-6 max-h-96 overflow-y-auto",children:i.jsx("div",{className:"space-y-4",children:e.map(a=>i.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[i.jsxs("div",{className:"space-y-2 sm:hidden",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("span",{className:"font-medium text-base",children:["Match ",a.matchNumber]}),i.jsxs("span",{className:"text-gray-600 dark:text-gray-300 text-sm",children:["Predictions: ",i.jsxs("span",{className:"font-medium",children:[a.correctPredictions,"/",a.predictionsCount]}),a.predictionsCount===0&&i.jsx("span",{className:"text-yellow-600 ml-1 text-xs",children:"(verified)"})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx(Oe,{variant:a.winner==="red"?"destructive":"default",className:`px-3 py-1 w-fit ${a.winner==="red"?"bg-red-500":"bg-blue-500"}`,children:a.winner==="red"?"Red Wins":a.winner==="blue"?"Blue Wins":"Tie"}),i.jsxs("span",{className:"font-semibold text-green-600 text-base",children:["+",a.stakesAwarded," stakes"]})]})]}),i.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"font-medium text-base",children:["Match ",a.matchNumber]}),i.jsx(Oe,{variant:a.winner==="red"?"destructive":"default",className:`px-3 py-1 w-fit ${a.winner==="red"?"bg-red-500":"bg-blue-500"}`,children:a.winner==="red"?"Red Wins":a.winner==="blue"?"Blue Wins":"Tie"})]}),i.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[i.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Predictions: ",i.jsxs("span",{className:"font-medium",children:[a.correctPredictions,"/",a.predictionsCount]}),a.predictionsCount===0&&i.jsx("span",{className:"text-yellow-600 ml-2 text-xs",children:"(already verified)"})]}),i.jsxs("span",{className:"font-semibold text-green-600 text-base",children:["+",a.stakesAwarded," stakes"]})]})]})]},a.matchNumber))})})]})},DOe=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(0);return p.useEffect(()=>{const a=localStorage.getItem("matchData"),s=localStorage.getItem("eventKey");if(a&&s)try{const o=JSON.parse(a);Array.isArray(o)&&o.length>0&&(t(s),r(o.length))}catch(o){console.error("Error parsing existing match data:",o)}},[]),i.jsxs("div",{className:"space-y-6",children:[e&&i.jsx(_e,{className:"border-green-200 bg-green-50 dark:bg-green-950 dark:border-green-800",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ur,{className:"h-5 w-5 text-green-600"}),i.jsxs("span",{className:"text-green-800 dark:text-green-200",children:["Currently loaded: ",i.jsxs("strong",{children:[n," matches"]})," from ",i.jsx("strong",{children:e})]})]})})}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-lg",children:"About Match Data Loading"})}),i.jsx($e,{className:"space-y-3",children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Oe,{variant:"outline",className:"mt-0.5",children:"1"}),i.jsx("span",{children:"Enter the event key from The Blue Alliance (found on event pages)"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Oe,{variant:"outline",className:"mt-0.5",children:"2"}),i.jsx("span",{children:"Match data includes team lineups for all qualification matches"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Oe,{variant:"outline",className:"mt-0.5",children:"3"}),i.jsx("span",{children:"Data is stored locally and used to populate team dropdowns during scouting"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Oe,{variant:"outline",className:"mt-0.5",children:"4"}),i.jsx("span",{children:"Loading new event data will replace the previously loaded event"})]})]})})]})]})},ROe=({eventKey:e})=>{var U;const[t,n]=qe.useState(null),[r,a]=qe.useState({count:0,matchCount:0});if(qe.useEffect(()=>{if(!e.trim()){n(null);return}(async()=>{try{const F=await h2(e,!0),W=await bZ(e);n({count:F.length,isExpired:W.isExpired})}catch(F){console.error("Error checking validation data:",F),n(null)}})()},[e]),qe.useEffect(()=>{if(!e.trim()){a({count:0,matchCount:0});return}(async()=>{try{const F=await st.predictions.where("eventKey").equals(e).and(Z=>Z.verified===!0).toArray(),W=new Set(F.map(Z=>Z.matchNumber));a({count:F.length,matchCount:W.size})}catch(F){console.error("Error checking verified predictions:",F),a({count:0,matchCount:0})}})()},[e]),!e.trim())return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(bo,{className:"h-5 w-5"}),"Data Status"]})}),i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Ln,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Enter an event key to view data status"})]})})]});const s=localStorage.getItem("matchData")!==null&&localStorage.getItem("matchData")!=="",o=r.count>0,l=r.matchCount,c=ZTe(),u=c[e]&&c[e].length>0,d=u&&((U=c[e])==null?void 0:U.length)||0,f=mZ(e),h=f&&f.length>0,m=h?f.length:0,g=hZ(e),v=fZ(e),b=g&&Object.keys(g).length>0,y=v.map!==null,x=b?Object.keys(g).length:0;let w="empty",S=0,j="";(u||h)&&(w="loaded",S=Math.max(d,m),u&&h?j=`TBA: ${d}, Nexus: ${m}`:j=u?`TBA: ${d}`:`Nexus: ${m}`);let k="empty",N="";b&&y?(k="loaded",N=`${x} addresses + map`):(b||y)&&(k="partial",N=b?`${x} addresses`:"Map only");let P="empty",E="";t&&t.count>0&&(t.isExpired?(P="partial",E="Cache expired (offline-first preserved)"):(P="loaded",E="Fresh data from TBA"));const R=[{label:"Match Schedule",status:s?"loaded":"empty",count:s?JSON.parse(localStorage.getItem("matchData")||"[]").length:0,icon:Lc},{label:"Match Validation Data",status:P,count:(t==null?void 0:t.count)||0,details:E,icon:Tfe},{label:"Prediction Processing",status:o?"loaded":"empty",count:l,details:o?`${r.count} predictions verified across ${l} matches`:"No predictions processed yet",icon:Ur},{label:"Event Teams",status:w,count:S,details:j,icon:Xa},{label:"Pit Data",status:k,count:x,details:N,icon:Ad}],O=M=>{switch(M){case"loaded":return"bg-green-100 text-green-800 border-green-200";case"partial":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"empty":return"bg-gray-100 text-gray-600 border-gray-200"}},G=M=>{switch(M){case"loaded":return"Loaded";case"partial":return"Partial";case"empty":return"Not Loaded"}},te=M=>{switch(M){case"loaded":return Ur;case"partial":return Ln;case"empty":return Fw}},V=R.filter(M=>M.status==="loaded").length,z=R.filter(M=>M.status==="partial").length,$=R.length;return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(bo,{className:"h-5 w-5"}),"Data Status",i.jsx(Oe,{variant:"outline",className:"ml-auto",children:e})]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Overall:"}),i.jsxs(Oe,{className:O(V===$?"loaded":V>0||z>0?"partial":"empty"),children:[V,"/",$," Data Types Loaded"]})]}),i.jsx("div",{className:"space-y-3",children:R.map(M=>{const F=te(M.status),W=M.icon;return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(W,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-sm",children:M.label}),M.details&&i.jsx("span",{className:"text-xs text-muted-foreground",children:M.details})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[M.count!==void 0&&M.count>0&&i.jsx(Oe,{variant:"secondary",className:"text-xs",children:M.count}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(F,{className:`h-4 w-4 ${M.status==="loaded"?"text-green-600":M.status==="partial"?"text-yellow-600":"text-gray-400"}`}),i.jsx("span",{className:`text-xs font-medium ${M.status==="loaded"?"text-green-600":M.status==="partial"?"text-yellow-600":"text-gray-400"}`,children:G(M.status)})]})]})]},M.label)})}),i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ur,{className:"h-3 w-3 text-green-600"}),i.jsx("span",{children:"Loaded"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ln,{className:"h-3 w-3 text-yellow-600"}),i.jsx("span",{children:"Partial"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fw,{className:"h-3 w-3 text-gray-400"}),i.jsx("span",{children:"Not Loaded"})]})]})})]})]})},MOe=({dataType:e,eventKey:t,apiKey:n,nexusApiKey:r,matchDataLoading:a,matchResultsLoading:s,eventTeamsLoading:o,pitDataLoading:l,debugNexusLoading:c,onLoadMatchData:u,onLoadMatchResults:d,onLoadEventTeams:f,onLoadPitData:h,onDebugNexus:m})=>{const v=(()=>{switch(e){case"match-data":return{title:"Load Match Schedules",description:"Download match schedules from The Blue Alliance for scouting",icon:bo,requiresEvent:!0,requiresTBA:!0,requiresNexus:!1};case"match-results":return{title:"Load Match Results",description:"Download actual match scores and winners from The Blue Alliance",icon:pr,requiresEvent:!0,requiresTBA:!0,requiresNexus:!1};case"event-teams":return{title:"Load Event Teams",description:"Download team list participating in the event from The Blue Alliance",icon:Xa,requiresEvent:!0,requiresTBA:!0,requiresNexus:!1};case"pit-data":return{title:"Load Pit Data",description:"Download pit assignments and map from Nexus API",icon:Ad,requiresEvent:!0,requiresTBA:!1,requiresNexus:!0};case"debug-nexus":return{title:"Debug Nexus Events",description:"Test Nexus API connectivity and list available events",icon:QP,requiresEvent:!1,requiresTBA:!1,requiresNexus:!0};default:return null}})();if(!v)return null;const b=()=>{const{requiresEvent:w,requiresTBA:S,requiresNexus:j}=v,k=!w||t.trim(),N=!S||n.trim(),P=!j||r.trim(),E=k&&N&&P;switch(e){case"match-data":return i.jsx(X,{className:"w-full h-12",onClick:u,disabled:a||!E,children:a?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Match Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(No,{className:"h-4 w-4 mr-2"}),"Load Match Data"]})});case"match-results":return i.jsx(X,{className:"w-full h-12",onClick:d,disabled:s||!E,children:s?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Match Results..."]}):i.jsxs(i.Fragment,{children:[i.jsx(No,{className:"h-4 w-4 mr-2"}),"Load Match Results"]})});case"event-teams":return i.jsx(X,{className:"w-full h-12",onClick:f,disabled:o||!E,children:o?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Teams..."]}):i.jsxs(i.Fragment,{children:[i.jsx(No,{className:"h-4 w-4 mr-2"}),"Load Event Teams"]})});case"pit-data":return i.jsx(X,{className:"w-full h-12",onClick:h,disabled:l||!E,children:l?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Pit Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Load Pit Data"]})});case"debug-nexus":return i.jsx(X,{className:"w-full h-12",onClick:m,disabled:c||!E,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Nexus Events..."]}):i.jsxs(i.Fragment,{children:[i.jsx(QP,{className:"h-4 w-4 mr-2"}),"Debug Nexus Events"]})});default:return null}},x=(()=>{const w=[];return v.requiresEvent&&!t.trim()&&w.push("Event Key"),v.requiresTBA&&!n.trim()&&w.push("TBA API Key"),v.requiresNexus&&!r.trim()&&w.push("Nexus API Key"),w})();return i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"text-lg flex items-center gap-2",children:[i.jsx(v.icon,{className:"h-5 w-5"}),v.title]}),i.jsx(zn,{children:v.description})]}),i.jsxs($e,{className:"space-y-4",children:[x.length>0&&i.jsxs(sr,{variant:"destructive",children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsxs(gr,{children:["Missing required information: ",x.join(", ")]})]}),b(),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[v.requiresTBA&&i.jsx("p",{children:" Requires TBA API Key"}),v.requiresNexus&&i.jsx("p",{children:" Requires Nexus API Key"}),v.requiresEvent&&i.jsx("p",{children:" Requires Event Key"})]})]})]})};function IOe(e){const t=Date.now()-e,n=Math.floor(t/(1e3*60));return n<1?"Just now":n<60?`${n} min ago`:`${Math.floor(n/60)}h ${n%60}m ago`}function OOe({matches:e,cacheMetadata:t,eventKey:n,onClearCache:r,isOnline:a=!0,cacheExpired:s=!1}){const o=e.filter(h=>h.comp_level==="qm"),l=e.filter(h=>h.comp_level!=="qm"),c=e.filter(Zb).length,d=(()=>{const h=e.find(v=>Zb(v));if(!h||!Zb(h))return[];const m=h.score_breakdown,g=(m==null?void 0:m.red)||{};return Object.keys(g).filter(v=>!["rp","totalPoints","foulPoints","adjustPoints","foulCount","techFoulCount","tba_gameData"].includes(v))})(),f=h=>h.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase()).trim();return i.jsxs(_e,{children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Ur,{className:"h-5 w-5"}),"Match Validation Data",!a&&i.jsxs("span",{className:"flex items-center gap-1 text-sm font-normal text-muted-foreground",children:[i.jsx($4,{className:"h-4 w-4"}),"Offline"]})]}),i.jsx(zn,{children:"Detailed match breakdowns cached for validation against scouting data"})]}),i.jsx($e,{className:"space-y-4",children:e.length===0?i.jsxs("div",{className:"text-center py-8 space-y-2",children:[i.jsx("p",{className:"text-muted-foreground",children:"No validation data loaded yet."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:a?'Click "Load Match Validation Data" above to fetch detailed match breakdowns from TBA.':"You are offline. Load data while online to cache it for offline use."})]}):i.jsxs(i.Fragment,{children:[(!a||s)&&i.jsxs(sr,{variant:a?"destructive":"default",children:[a?i.jsx(Ln,{className:"h-4 w-4"}):i.jsx($4,{className:"h-4 w-4"}),i.jsx(gr,{children:a?"Cache expired. Data may be stale. Connect to internet and reload for fresh data.":"You are offline. Showing cached data from your last online session."})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Matches"}),i.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Qualification"}),i.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Playoff"}),i.jsx("p",{className:"text-2xl font-bold",children:l.length})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"With Breakdowns"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c})]})]}),i.jsx(Fr,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(jc,{className:"h-4 w-4"}),"Cache Status"]}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsxs("p",{children:["Event: ",i.jsx("span",{className:"font-medium text-foreground",children:n})]}),i.jsxs("p",{children:["Last Updated: ",i.jsx("span",{className:"font-medium text-foreground",children:t?IOe(t.lastFetchedAt):"Unknown"})]}),i.jsx("p",{className:"text-xs",children:a?"Cache persists offline. Data refreshes automatically when you reload while online.":"Cache preserved for offline use. Data will refresh when you're back online."})]})]}),i.jsx(Fr,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Available Validation Fields"}),d.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:d.map(h=>i.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ur,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:f(h)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"From TBA score breakdown"})]})]},h))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Score breakdown fields will appear here when match data is loaded"})]}),i.jsx(Fr,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:a?"This data will be used to compare against your scouted entries and identify discrepancies.":"This cached data is available offline for validation. Reconnect to refresh."}),i.jsxs(X,{variant:"outline",onClick:r,className:"w-full",size:"sm",disabled:!a,children:[i.jsx(Vs,{className:"mr-2 h-4 w-4"}),a?"Clear Validation Cache":"Clear Cache (requires internet)"]})]})]})})]})}const UX="nexus_",LOe=e=>({addresses:KX(e),map:$Oe(e)}),KX=e=>{const t=`${UX}pit_addresses_${e}`;try{const n=localStorage.getItem(t);return n?JSON.parse(n).addresses:null}catch(n){return console.error("Failed to retrieve stored pit addresses:",n),null}},$Oe=e=>{const t=`${UX}pit_map_${e}`;try{const n=localStorage.getItem(t);return n?JSON.parse(n).pitMap:null}catch(n){return console.error("Failed to retrieve stored pit map:",n),null}},GX=e=>{const t=`nexus_event_teams_${e}`;try{const n=localStorage.getItem(t);return n&&JSON.parse(n).teams||null}catch(n){return console.error("Failed to retrieve stored Nexus teams:",n),null}},FOe=e=>{const t=GX(e);return t!==null&&t.length>0},BOe=({addresses:e,map:t,eventKey:n})=>{var o,l;const r=e?Object.keys(e).length:0,a=t!==null,s=FOe(n);return!e&&!t?i.jsxs(sr,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsx(gr,{children:"No pit data available. Load pit data using the Nexus API above."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Ad,{className:"h-5 w-5"}),"Pit Data for ",n]})}),i.jsxs($e,{children:[i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(Oe,{variant:r>0?"default":"secondary",children:[r," Pit Addresses"]})}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Oe,{variant:a?"default":"secondary",children:a?"Pit Map Available":"No Pit Map"})}),s&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(Oe,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[i.jsx(Xa,{className:"h-3 w-3 mr-1"}),"Teams Extracted for Pit Assignments"]})})]}),s&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Team list automatically extracted from pit addresses and stored for pit scouting assignments"})]})]}),e&&r>0&&i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Ad,{className:"h-5 w-5"}),"Pit Addresses (",r," teams)"]})}),i.jsx($e,{children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:Object.entries(e).sort(([c],[u])=>parseInt(c)-parseInt(u)).map(([c,u])=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md text-sm",children:[i.jsxs("span",{className:"font-medium",children:["Team ",c]}),i.jsx(Oe,{variant:"outline",className:"text-xs",children:u})]},c))})})]}),t&&i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(rD,{className:"h-5 w-5"}),"Pit Map"]})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Map Size: ",((o=t.size)==null?void 0:o.width)||0,"  ",((l=t.size)==null?void 0:l.height)||0]}),i.jsxs("span",{children:["Pits: ",t.pits?Object.keys(t.pits).length:0]}),t.areas&&i.jsxs("span",{children:["Areas: ",Object.keys(t.areas).length]})]}),i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Pit map data loaded successfully. This contains:"}),i.jsxs("ul",{className:"text-sm space-y-1",children:[t.pits&&i.jsxs("li",{children:[" ",Object.keys(t.pits).length," pit locations"]}),t.areas&&i.jsxs("li",{children:[" ",Object.keys(t.areas).length," labeled areas"]}),t.walls&&i.jsxs("li",{children:[" ",Object.keys(t.walls).length," walls/boundaries"]}),t.labels&&i.jsxs("li",{children:[" ",Object.keys(t.labels).length," text labels"]}),t.arrows&&i.jsxs("li",{children:[" ",Object.keys(t.arrows).length," directional arrows"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Visual map rendering will be available in a future update."})]})]})})]})]})},VOe=({eventKey:e,setEventKey:t,hasStoredData:n,onClearAllData:r,clearingData:a})=>i.jsx(i.Fragment,{children:i.jsxs(_e,{className:"w-full",children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(We,{className:"text-lg flex items-center gap-2",children:[i.jsx(Lc,{className:"h-5 w-5"}),"Event Configuration"]}),i.jsx(zn,{children:"Set the event for all data operations. All data will be associated with this event."})]}),e&&i.jsxs(Oe,{variant:"secondary",className:"text-sm",children:["Event: ",e]})]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Event Key"}),i.jsx(LC,{currentEventKey:e,onEventKeyChange:t,showCustomEvents:!1}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Select from official 2026 FRC events"})]}),e&&i.jsxs(sr,{children:[i.jsx(nm,{className:"h-4 w-4"}),i.jsxs(gr,{children:["All data operations will use event: ",i.jsx("strong",{children:e})]})]}),n&&i.jsxs(sr,{variant:"destructive",children:[i.jsx(Ln,{className:"h-4 w-4"}),i.jsx(gr,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"You have stored data for this event. Changing the event key or loading new data may cause confusion."}),i.jsx(X,{variant:"outline",size:"sm",onClick:r,disabled:a,className:"flex items-center gap-2",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Clearing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Vs,{className:"h-3 w-3"}),"Clear All Stored Data"]})})]})})]})]})]})}),zOe=({open:e,onOpenChange:t,currentEvent:n,newEvent:r,hasStoredData:a,onConfirm:s,onCancel:o})=>i.jsx(to,{open:e,onOpenChange:t,children:i.jsxs(no,{children:[i.jsxs(Go,{children:[i.jsxs(ro,{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5 text-amber-500"}),"Switch Event?"]}),i.jsxs(lf,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"You're about to switch from one event to another:"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Current Event"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg",children:[i.jsx(Lc,{className:"h-4 w-4 text-primary"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"New Event"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})]})]})]}),a&&i.jsxs(sr,{variant:"destructive",children:[i.jsx(bo,{className:"h-4 w-4"}),i.jsxs(gr,{children:[i.jsx("strong",{children:"Warning:"}),' You have stored data for event "',n,'". Switching to "',r,`" may cause confusion if you're working with different event data.`]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:"Recommendation:"}),' Consider clearing stored data for "',n,'" before switching to avoid data mixing.']})]})]}),i.jsxs(qm,{children:[i.jsx(X,{variant:"outline",onClick:o,className:"px-2",children:"Cancel"}),i.jsxs(X,{onClick:s,className:"px-2",children:["Switch to ",r]})]})]})}),UOe=({teams:e,eventKey:t,isStored:n,onStoreTeams:r,onClearStored:a})=>{const s=qTe(t);return e.length===0?null:i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Event Teams (",e.length,")",n&&i.jsxs(Oe,{variant:"outline",className:"ml-2",children:[i.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Stored"]})]}),i.jsxs(We,{className:"text-sm text-muted-foreground",children:["Teams participating in event: ",t,s&&i.jsx("div",{className:"flex items-center gap-2 mt-1",children:i.jsxs(Oe,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[i.jsx(Ad,{className:"h-3 w-3 mr-1"}),"Nexus teams also available with pit locations"]})})]})]}),i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-2",children:[!n&&i.jsxs(X,{onClick:r,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[i.jsx(No,{className:"h-4 w-4 mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-xs sm:text-sm",children:"Store for Pit Scouting"})]}),n&&i.jsxs(X,{onClick:a,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[i.jsx(Vs,{className:"h-4 w-4 mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-xs sm:text-sm",children:"Clear Stored"})]})]})]})}),i.jsxs($e,{children:[i.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-3",children:e.sort((o,l)=>o.team_number-l.team_number).map(o=>i.jsx("div",{className:"flex items-center justify-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:i.jsx("span",{className:"font-semibold text-sm text-center",children:o.team_number})},o.key))}),i.jsxs("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:[e.length," teams total"]}),!n&&i.jsx("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Uo,{className:"h-4 w-4 text-amber-600 mt-0.5"}),i.jsxs("div",{className:"text-sm text-amber-800",children:[i.jsx("p",{className:"font-medium",children:"Teams not stored yet"}),i.jsx("p",{children:'Click "Store for Pit Scouting" to save this team list for pit scouting assignments.'})]})]})})]})]})},v5=[{value:"match-data",label:"Match Schedules",icon:bo,description:"Download match schedules for scouting"},{value:"match-results",label:"Match Results",icon:pr,description:"Download actual match scores and winners"},{value:"match-validation-data",label:"Match Validation Data",icon:Ur,description:"Load detailed match breakdowns for scouting validation"},{value:"event-teams",label:"Event Teams",icon:Xa,description:"Download team list participating in the event"},{value:"pit-data",label:"Pit Data",icon:Ad,description:"Download pit assignments and map from Nexus"},{value:"debug-nexus",label:"Debug Nexus",icon:QP,description:"Debug Nexus API connectivity and events"}],KOe=({dataType:e,setDataType:t})=>{const n=v5.find(r=>r.value===e);return i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsx(We,{className:"text-lg",children:"Data Type"}),i.jsx(zn,{children:"Choose what type of data you want to access for the current event"})]}),i.jsx($e,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Data Type"}),i.jsxs(Br,{value:e,onValueChange:t,children:[i.jsx(Vr,{className:"w-full",children:i.jsx(oa,{placeholder:"Select data type"})}),i.jsx(zr,{children:v5.map(({value:r,label:a,icon:s})=>i.jsx(ot,{value:r,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(s,{className:"h-4 w-4"}),a]})},r))})]}),n&&i.jsx("p",{className:"text-xs text-muted-foreground",children:n.description})]})})]})},GOe=()=>{const e="",t="",[n,r]=p.useState(""),[a,s]=p.useState("match-data"),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(()=>{}),[g,v]=p.useState([]),[b,y]=p.useState(!1),[x,w]=p.useState({addresses:null,map:null}),[S,j]=p.useState(!1),[k,N]=p.useState(null),{matchDataLoading:P,matchResultsLoading:E,eventTeamsLoading:R,matches:O,teams:G,isStored:te,fetchMatchDataFromTBA:V,loadMatchResults:z,loadEventTeams:$,handleStoreTeams:U,handleClearStored:M}=n_e(),{matches:F,isOnline:W,cacheExpired:Z,cacheMetadata:H,clearCache:ae}=YR();p.useEffect(()=>{const Le=localStorage.getItem("eventKey");Le&&r(Le)},[]),p.useEffect(()=>{n&&u(XB(n))},[n]);const fe=Le=>{const lt=Tg();n&&lt&&e_e(n)?(m(()=>Le),f(!0)):Le()},we=()=>{f(!1),h&&(h(),m(()=>{}))},Pe=()=>{f(!1),m(()=>{})},me=async()=>{if(!n.trim()){le.error("Please enter an event key");return}l(!0);try{await t_e(n),u(!1),w({addresses:null,map:null}),v([]),le.success("All event data cleared successfully")}catch(Le){console.error("Error clearing event data:",Le),le.error("Failed to clear event data")}finally{l(!1)}},Ue=async()=>{if(!e.trim()){le.error("Please enter your TBA API key");return}if(!n.trim()){le.error("Please enter an event key");return}fe(async()=>{await V(e,n,!1,()=>{}),cd(n.trim())})},ne=async()=>{if(!e.trim()){le.error("Please enter your TBA API key");return}if(!n.trim()){le.error("Please enter an event key");return}await z(e,n,!1,()=>{})},je=async()=>{if(!e.trim()){le.error("Please enter your TBA API key");return}if(!n.trim()){le.error("Please enter an event key");return}await $(e,n,!1,()=>{})},ve=async()=>{if(!t.trim()){le.error("Please enter your Nexus API key");return}if(!n.trim()){le.error("Please enter an event key");return}fe(async()=>{y(!0);try{const Le=fZ(n);if(Le.addresses||Le.map){w(Le),le.success("Loaded pit data from local storage"),cd(n.trim()),y(!1);return}const lt=await VTe(n,t);w(lt),UTe(n,lt.addresses,lt.map),cd(n.trim());let ct=0;if(lt.addresses&&Object.keys(lt.addresses).length>0)try{ct=WTe(n,lt.addresses).length,console.log(`Extracted ${ct} teams from pit addresses for pit assignments`)}catch(oe){console.warn("Failed to extract teams from pit addresses:",oe)}const be=lt.addresses?Object.keys(lt.addresses).length:0,Ce=lt.map!==null;if(be>0&&Ce){const oe=ct>0?`Loaded pit data: ${be} addresses, pit map, and extracted ${ct} teams for pit assignments`:`Loaded pit data: ${be} addresses and pit map`;le.success(oe)}else if(be>0){const oe=ct>0?`Loaded ${be} pit addresses and extracted ${ct} teams for pit assignments (no map available)`:`Loaded ${be} pit addresses (no map available)`;le.success(oe)}else Ce?le.warning("Loaded pit map but no team addresses found"):le.warning("No pit data available for this event")}catch(Le){console.error("Error loading pit data:",Le),le.error(Le instanceof Error?Le.message:"Failed to load pit data")}finally{y(!1)}})},re=async()=>{if(!t.trim()){le.error("Please enter your Nexus API key");return}j(!0);try{const Le=await zTe(t),lt=Object.keys(Le).length;N(Le),le.success(`Loaded ${lt} events from Nexus API`)}catch(Le){console.error("Error loading Nexus events:",Le),le.error(Le instanceof Error?Le.message:"Failed to load Nexus events"),N(null)}finally{j(!1)}},Ye=Le=>{v(Le)},Fe=()=>{U(n)},Je=()=>{M(n)};return i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6 max-w-7xl",children:[i.jsxs("div",{className:"text-start",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"API Data"}),i.jsx("p",{className:"text-muted-foreground",children:"Import match schedules, results, and team lists from The Blue Alliance or pit information from Nexus for FRC."})]}),i.jsx("div",{className:"hidden md:block",children:i.jsx(Zc,{sources:["tba","nexus"],variant:"full"})})]}),i.jsx("div",{className:"md:hidden mt-2",children:i.jsx(Zc,{sources:["tba","nexus"],variant:"compact"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx(VOe,{eventKey:n,setEventKey:r,hasStoredData:c,onClearAllData:me,clearingData:o})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsx(KOe,{dataType:a,setDataType:s})})]}),i.jsx(ROe,{eventKey:n}),i.jsx(MOe,{dataType:a,eventKey:n,apiKey:e,nexusApiKey:t,matchDataLoading:P,matchResultsLoading:E,eventTeamsLoading:R,pitDataLoading:b,debugNexusLoading:S,onLoadMatchData:Ue,onLoadMatchResults:ne,onLoadEventTeams:je,onLoadPitData:ve,onDebugNexus:re}),a==="match-data"&&i.jsx(DOe,{}),a==="match-results"&&i.jsxs(i.Fragment,{children:[i.jsx(TOe,{matches:O,onProcessingComplete:Ye}),g.length>0&&i.jsx(_Oe,{results:g})]}),a==="match-validation-data"&&i.jsx(OOe,{matches:F,cacheMetadata:H,eventKey:n,isOnline:W,cacheExpired:Z,onClearCache:()=>ae(n)}),a==="event-teams"&&i.jsx(UOe,{teams:G,eventKey:n,isStored:te,onStoreTeams:Fe,onClearStored:Je}),a==="pit-data"&&i.jsx(BOe,{addresses:x.addresses,map:x.map,eventKey:n}),a==="debug-nexus"&&k&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Nexus Events"}),i.jsx("div",{className:"space-y-2",children:Object.entries(k).map(([Le,lt])=>i.jsxs("div",{className:"p-3 border rounded bg-muted/50",children:[i.jsx("div",{className:"font-medium",children:Le}),i.jsx("div",{className:"text-sm text-muted-foreground",children:JSON.stringify(lt,null,2)})]},Le))})]})}),i.jsx(zOe,{open:d,onOpenChange:f,onConfirm:we,onCancel:Pe,currentEvent:Tg(),newEvent:n,hasStoredData:Tg()?XB(Tg()):!1})]})},WOe=e=>{if(!e||typeof e!="object")return null;const t=e;if("scouts"in t&&"predictions"in t)return"scoutProfiles";if("type"in t&&t.type==="pit-scouting-images-only"&&"entries"in t&&Array.isArray(t.entries))return"pitScoutingImagesOnly";if("entries"in t&&Array.isArray(t.entries)){const n=t.entries;if(n.length>0&&typeof n[0]=="object"&&n[0]!==null){const r=n[0];if(r.teamNumber&&r.scoutName&&(r.drivetrain!==void 0||r.weight!==void 0||r.reportedAutoScoring!==void 0||r.reportedTeleopScoring!==void 0))return"pitScouting"}}if("entries"in t&&Array.isArray(t.entries)){const n=t.entries;if(n.length>0&&typeof n[0]=="object"&&n[0]!==null){const r=n[0];if("id"in r&&"gameData"in r&&typeof r.gameData=="object")return"scouting"}}return"data"in t&&Array.isArray(t.data)||Array.isArray(e)?"scouting":null},O2=async(e,t)=>{let n=[];if(typeof e=="object"&&e!==null&&"entries"in e&&Array.isArray(e.entries))n=e.entries;else return le.error("Invalid scouting data format. Expected { entries: ScoutingEntryBase[] }"),{hasConflicts:!1};if(n.length===0)return le.error("No valid scouting data found"),{hasConflicts:!1};if(t==="overwrite")return await BE(n),le.success(`Overwritten with ${n.length} scouting entries`),{hasConflicts:!1};if(t==="append"){const r=await Yi(),a=[...r,...n];return await BE(a),le.success(`Uploaded ${n.length} entries (${r.length} existing). Total: ${a.length} before deduplication.`),{hasConflicts:!1}}if(t==="smart-merge"){const r=await MR(n),{db:a}=await Mn(async()=>{const{db:l}=await Promise.resolve().then(()=>Vi);return{db:l}},void 0),s={added:0,replaced:0};if(r.autoImport.length>0&&(await a.scoutingData.bulkPut(r.autoImport),s.added=r.autoImport.length),r.autoReplace.length>0){for(const l of r.autoReplace){const u=(await a.scoutingData.toArray()).find(d=>d.matchNumber===l.matchNumber&&d.teamNumber===l.teamNumber&&d.allianceColor===l.allianceColor&&d.eventKey===l.eventKey);u&&await a.scoutingData.delete(u.id),await a.scoutingData.put(l)}s.replaced=r.autoReplace.length}if(r.conflicts.length>0||r.batchReview.length>0){if(s.added>0||s.replaced>0){const l=r.batchReview.length>0?` ${r.batchReview.length} duplicates need review.`:"",c=r.conflicts.length>0?` ${r.conflicts.length} conflicts need review.`:"";le.success(`Imported ${s.added} new entries, Replaced ${s.replaced} existing entries.`+l+c)}return r.batchReview.length>0?{hasConflicts:!1,hasBatchReview:!0,batchReviewEntries:r.batchReview,conflicts:r.conflicts.length>0?r.conflicts:void 0,autoProcessed:s}:{hasConflicts:!0,conflicts:r.conflicts,autoProcessed:s}}const o=await a.scoutingData.count();return le.success(`Smart merge complete! ${s.added} new entries added, ${s.replaced} entries replaced (Total: ${o})`),{hasConflicts:!1,autoProcessed:s}}return{hasConflicts:!1}},qOe=async(e,t)=>{if(!e||typeof e!="object"||!("scouts"in e)||!("predictions"in e)){le.error("Invalid scout profiles format");return}const n=e,r=n.scouts||[],a=n.predictions||[];try{let s=0,o=0,l=0;if(t==="overwrite")await st.scouts.clear(),await st.predictions.clear(),await st.scouts.bulkAdd(r),await st.predictions.bulkAdd(a),s=r.length,l=a.length;else{const u=await st.scouts.toArray(),d=await st.predictions.toArray();for(const f of r){const h=u.find(m=>m.name===f.name);h?t==="smart-merge"?(f.lastUpdated>h.lastUpdated||f.stakes>h.stakes||f.totalPredictions>h.totalPredictions)&&(await st.scouts.update(f.name,{stakes:Math.max(f.stakes,h.stakes),totalPredictions:Math.max(f.totalPredictions,h.totalPredictions),correctPredictions:Math.max(f.correctPredictions,h.correctPredictions),currentStreak:f.lastUpdated>h.lastUpdated?f.currentStreak:h.currentStreak,longestStreak:Math.max(f.longestStreak,h.longestStreak),lastUpdated:Math.max(f.lastUpdated,h.lastUpdated)}),o++):t==="append"&&(await st.scouts.put(f),o++):(await st.scouts.add(f),s++)}for(const f of a)if(!d.some(m=>m.id===f.id))try{await st.predictions.add(f),l++}catch{t==="append"&&console.warn(`Skipping duplicate prediction: ${f.id}`)}}const c=t==="overwrite"?`Overwritten with ${s} scouts and ${l} predictions`:`Profiles: ${s} new scouts, ${o} updated scouts, ${l} predictions imported`;le.success(c)}catch(s){console.error("Error importing scout profiles:",s),le.error("Failed to import scout profiles")}},HOe=async(e,t)=>{if(!e||typeof e!="object"||!("entries"in e)){le.error("Invalid pit scouting data format");return}const n=e;try{const r=await O7({entries:n.entries,lastUpdated:n.lastUpdated||Date.now()},t==="overwrite"?"overwrite":"append"),a=t==="overwrite"?`Overwritten with ${r.imported} pit scouting entries`:`Imported ${r.imported} pit scouting entries${r.duplicatesSkipped>0?`, ${r.duplicatesSkipped} duplicates skipped`:""}`;le.success(a)}catch(r){console.error("Error importing pit scouting data:",r),le.error("Failed to import pit scouting data")}},YOe=async e=>{if(!e||typeof e!="object"){le.error("Invalid pit scouting images data format");return}const t=e;if(t.type!=="pit-scouting-images-only"||!("entries"in t)||!Array.isArray(t.entries)){le.error("Invalid pit scouting images data format");return}try{const n=await $7(t);n.updated===0&&n.notFound>0?le.error(`No matching pit scouting entries found for ${n.notFound} teams. Please import pit scouting text data first, then add images.`):n.notFound>0?le.warning(`Updated ${n.updated} teams with images. ${n.notFound} teams not found - ensure pit scouting entries exist first.`):le.success(`Successfully updated ${n.updated} teams with images!`)}catch(n){console.error("Error importing pit scouting images:",n),le.error("Failed to import pit scouting images")}},P1=({open:e,onOpenChange:t,conflict:n,currentIndex:r,totalConflicts:a,onResolve:s,onBatchResolve:o,onUndo:l,canUndo:c=!1,isProcessing:u=!1})=>{if(!n)return null;const d=n.incoming,f=n.local,h=m=>m?new Date(m).toLocaleString():"Unknown";return i.jsx(to,{open:e,onOpenChange:t,children:i.jsxs(no,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u&&i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-[100] flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-3 bg-card p-6 rounded-lg shadow-lg border",children:[i.jsx(Ba,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-sm font-medium",children:"Processing conflicts..."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This may take a moment for large datasets"})]})}),i.jsxs(Go,{children:[i.jsxs(ro,{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5 text-amber-500"}),"Data Conflict Detected"]}),i.jsxs(lf,{children:["Conflict ",r+1," of ",a,"  Match ",d.matchNumber,"  Team ",d.teamNumber," ",d.allianceColor," Alliance"]})]}),i.jsxs("div",{className:"space-y-4 my-4",children:[i.jsx(_e,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:i.jsx($e,{className:"pt-4",children:i.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:n.conflictType==="corrected-vs-uncorrected"?i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:"Your local data has been corrected"}),", but the incoming data is uncorrected. This typically means you have more accurate information locally."]}):i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:"Both entries have been corrected"}),", but at different times. Review both to determine which has the most accurate information."]})})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(_e,{className:n.isNewerIncoming?"":"border-blue-200 dark:border-blue-800",children:[i.jsx(Ge,{children:i.jsxs(We,{className:"text-base flex items-center justify-between",children:[i.jsx("span",{children:"Local (Current)"}),!n.isNewerIncoming&&i.jsx(Oe,{className:"bg-blue-500 text-white",children:"NEWER"})]})}),i.jsxs($e,{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Scout: "}),f.scoutName||"Unknown"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Timestamp: "}),h(f.timestamp)]}),f.isCorrected&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"secondary",className:"text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",children:"Corrected"}),f.correctionCount&&f.correctionCount>1&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",f.correctionCount," times)"]})]}),f.lastCorrectedAt&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Last Corrected: "}),h(f.lastCorrectedAt)]}),f.lastCorrectedBy&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Corrected By: "}),f.lastCorrectedBy]}),f.correctionNotes&&i.jsxs("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-950/30 rounded text-xs",children:[i.jsx("span",{className:"font-medium",children:"Notes: "}),i.jsx("span",{className:"italic",children:f.correctionNotes})]})]})]})]}),i.jsxs(_e,{className:n.isNewerIncoming?"border-green-200 dark:border-green-800":"",children:[i.jsx(Ge,{children:i.jsxs(We,{className:"text-base flex items-center justify-between",children:[i.jsx("span",{children:"Incoming (From Import)"}),n.isNewerIncoming&&i.jsx(Oe,{className:"bg-green-500 text-white",children:"NEWER"})]})}),i.jsxs($e,{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Scout: "}),d.scoutName||"Unknown"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Timestamp: "}),h(n.incoming.timestamp)]}),d.isCorrected&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"secondary",className:"text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",children:"Corrected"}),!!d.correctionCount&&Number(d.correctionCount)>1&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",String(d.correctionCount)," times)"]})]}),d.lastCorrectedAt&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Last Corrected: "}),h(Number(d.lastCorrectedAt))]}),d.lastCorrectedBy&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Corrected By: "}),d.lastCorrectedBy]}),d.correctionNotes&&i.jsxs("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-950/30 rounded text-xs",children:[i.jsx("span",{className:"font-medium",children:"Notes: "}),i.jsx("span",{className:"italic",children:d.correctionNotes})]})]})]})]})]}),n.changedFields&&n.changedFields.length>0&&i.jsxs(_e,{className:"border-purple-200 dark:border-purple-800 bg-purple-50/50 dark:bg-purple-950/20",children:[i.jsx(Ge,{children:i.jsxs(We,{className:"text-base",children:["Changed Fields (",n.changedFields.length,")"]})}),i.jsx($e,{children:i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.changedFields.map(({field:m,localValue:g,incomingValue:v})=>i.jsxs("div",{className:"grid grid-cols-1 gap-2 p-3 bg-background rounded border",children:[i.jsx("div",{className:"font-medium text-purple-700 dark:text-purple-300 text-sm",children:m}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"text-red-600 dark:text-red-400",children:[i.jsx("span",{className:"font-medium",children:"Local: "}),i.jsx("span",{className:"font-mono",children:String(g??"null")})]}),i.jsxs("div",{className:"text-green-600 dark:text-green-400",children:[i.jsx("span",{className:"font-medium",children:"Incoming: "}),i.jsx("span",{className:"font-mono",children:String(v??"null")})]})]})]},m))})})]})]}),i.jsx(qm,{className:"flex flex-col gap-3",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 w-full",children:[i.jsx(X,{onClick:()=>s("skip"),className:"p-2",disabled:u,children:"Skip - Keep Local Data"}),i.jsx(X,{variant:"destructive",onClick:()=>s("replace"),className:"p-2",disabled:u,children:"Replace - Use Incoming Data"}),a>1&&o&&i.jsxs(i.Fragment,{children:[i.jsx(X,{variant:"outline",onClick:()=>o("skip"),className:"p-2",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"})," Processing..."]}):i.jsxs(i.Fragment,{children:["Skip All Remaining (",a-r-1," left)"]})}),i.jsx(X,{variant:"outline",onClick:()=>o("replace"),className:"p-2",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"})," Processing..."]}):i.jsxs(i.Fragment,{children:["Replace All Remaining (",a-r-1," left)"]})})]}),c&&l&&i.jsx(X,{variant:"outline",onClick:l,className:"p-2 sm:col-span-2",disabled:u,children:" Undo Last Decision"})]})})]})})},E1=({isOpen:e,entries:t,onResolve:n,isProcessing:r=!1})=>{if(t.length===0)return null;const a=new Set,s=new Set,o=new Set;return t.forEach(l=>{l.matchNumber&&a.add(String(l.matchNumber)),l.teamNumber&&s.add(String(l.teamNumber)),l.scoutName&&o.add(String(l.scoutName))}),i.jsx(to,{open:e,onOpenChange:()=>{},children:i.jsxs(no,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r&&i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-[100] flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-3 bg-card p-6 rounded-lg shadow-lg border",children:[i.jsx(Ba,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-sm font-medium",children:"Processing duplicates..."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This may take a moment for large datasets"})]})}),i.jsx(Go,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Uo,{className:"h-6 w-6 text-yellow-500"}),i.jsx(ro,{children:"Duplicate Entries Detected"})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["Found ",i.jsx("strong",{children:t.length})," entries that already exist in your local database. Both versions are uncorrected, so you should review whether to replace them."]})}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 p-4 bg-muted rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Entries"}),i.jsx("div",{className:"text-2xl font-bold",children:t.length})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Matches"}),i.jsx("div",{className:"text-2xl font-bold",children:a.size})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Teams"}),i.jsx("div",{className:"text-2xl font-bold",children:s.size})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(Tde,{className:"h-4 w-4"}),i.jsx("span",{children:"Example Entries:"})]}),i.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[t.slice(0,5).map(l=>i.jsxs("div",{className:"text-sm p-2 bg-muted rounded border border-border",children:["Match ",String(l.matchNumber||""),"  Team ",String(l.teamNumber||""),"  ",String(l.allianceColor||"")," Alliance",l.scoutName?`  Scout: ${String(l.scoutName)}`:""]},l.id)),t.length>5&&i.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["... and ",t.length-5," more entries"]})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsx("p",{className:"font-medium",children:"What would you like to do?"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground ml-4",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Replace All"})," - Overwrite local entries with incoming data"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Skip All"})," - Keep your current local data"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Review Each"})," - Decide individually for each conflict"]})]})]})]}),i.jsxs(qm,{className:"flex-col gap-2 sm:flex-row",children:[i.jsx(X,{variant:"outline",onClick:()=>n("skip-all"),className:"flex-1",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"})," Processing..."]}):i.jsx(i.Fragment,{children:"Skip All - Keep Local"})}),i.jsx(X,{variant:"outline",onClick:()=>n("review-each"),className:"flex-1",disabled:r,children:"Review Each"}),i.jsx(X,{onClick:()=>n("replace-all"),className:"flex-1",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"})," Processing..."]}):i.jsx(i.Fragment,{children:"Replace All"})})]})]})})},qf=(...e)=>{},TM=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState([]),[a,s]=p.useState(0),[o,l]=p.useState(new Map),[c,u]=p.useState([]),[d,f]=p.useState(!1),h=x=>`${x.local.matchNumber}-${x.local.teamNumber}-${x.local.eventKey}`,m=async x=>{const w=n[a];if(!w)return;const S=h(w),j=new Map(o).set(S,x);l(j),u(k=>[...k,{index:a,action:x}]),a<n.length-1?s(a+1):await g(j)},g=async x=>{const{db:w}=await Mn(async()=>{const{db:N}=await Promise.resolve().then(()=>Vi);return{db:N}},void 0),S=x||o;let j=0,k=0;for(const N of n){const P=h(N),E=S.get(P);E==="replace"?(console.log(" Replacing entry:",{conflictKey:P,incomingStructure:N.incoming,hasGameData:"gameData"in N.incoming,hasData:"data"in N.incoming,localId:N.local.id}),await w.scoutingData.delete(N.local.id),await w.scoutingData.put(N.incoming),j++):E==="skip"&&k++}le.success(`Conflict resolution complete! ${j} entries replaced, ${k} entries kept.`),t(!1),r([]),s(0),l(new Map),u([])};return{showConflictDialog:e,setShowConflictDialog:t,currentConflicts:n,setCurrentConflicts:r,currentConflictIndex:a,setCurrentConflictIndex:s,conflictResolutions:o,setConflictResolutions:l,resolutionHistory:c,setResolutionHistory:u,isProcessing:d,handleConflictResolution:m,handleBatchResolve:async x=>{f(!0);try{const w=new Map(o);for(let P=a;P<n.length;P++){const E=n[P];if(!E)continue;const R=h(E);w.set(R,x)}l(w);const{db:S}=await Mn(async()=>{const{db:P}=await Promise.resolve().then(()=>Vi);return{db:P}},void 0);let j=0,k=0;const N=n.length-a;qf(` Batch ${x}ing ${N} conflicts...`);for(let P=a;P<n.length;P++){const E=n[P];if(!E)continue;const R=h(E);w.get(R)==="replace"?(await S.scoutingData.delete(E.local.id),await S.scoutingData.put(E.incoming),j++):k++,P%50===0&&P>a&&qf(` Progress: ${P-a}/${N} conflicts processed`)}qf(` Batch operation complete: ${j} replaced, ${k} skipped`),le.success(`Batch operation complete! ${j} entries replaced, ${k} entries kept.`),t(!1),r([]),s(0),l(new Map),u([])}finally{f(!1)}},handleUndo:()=>{if(c.length===0)return;const x=c[c.length-1];if(!x)return;const w=n[x.index];if(!w)return;const S=h(w),j=new Map(o);j.delete(S),l(j),u(k=>k.slice(0,-1)),s(x.index)},applyConflictResolutions:g,handleBatchReviewDecision:async(x,w,S)=>{f(!0);try{const{db:j}=await Mn(async()=>{const{db:k}=await Promise.resolve().then(()=>Vi);return{db:k}},void 0);if(S==="replace-all"){qf(` Batch replacing ${x.length} duplicate entries...`);let k=0;for(let N=0;N<x.length;N++){const P=x[N];if(!P)continue;const E=P.matchNumber,R=P.teamNumber,O=P.allianceColor,G=P.eventKey,te=await j.scoutingData.toArray().then(V=>V.find(z=>z.matchNumber===E&&z.teamNumber===R&&z.allianceColor===O&&z.eventKey===G));te&&await j.scoutingData.delete(te.id),await j.scoutingData.put(P),k++,N%50===0&&N>0&&qf(` Progress: ${N}/${x.length} entries replaced`)}return qf(` Batch replace complete: ${k} entries replaced`),le.success(`Replaced ${k} entries with incoming data`),w.length>0?(r(w),s(0),l(new Map),t(!0),{hasMoreConflicts:!0}):{hasMoreConflicts:!1}}else{if(S==="skip-all")return le.success(`Kept ${x.length} local entries unchanged`),w.length>0?(r(w),s(0),l(new Map),t(!0),{hasMoreConflicts:!0}):{hasMoreConflicts:!1};if(S==="review-each"){const{db:k}=await Mn(async()=>{const{db:E}=await Promise.resolve().then(()=>Vi);return{db:E}},void 0),P=[...await Promise.all(x.map(async E=>{const R=E.matchNumber,O=E.teamNumber,G=E.eventKey,te=await k.scoutingData.toArray().then(z=>z.find($=>$.matchNumber===R&&$.teamNumber===O&&$.eventKey===G)),V=te?u1(te,E):[];return{incoming:E,local:te,conflictType:"corrected-vs-uncorrected",isNewerIncoming:!1,changedFields:V}})),...w];return r(P),s(0),l(new Map),t(!0),{hasMoreConflicts:!0}}}return{hasMoreConflicts:!1}}finally{f(!1)}},canUndo:c.length>0,currentConflict:n[a],hasMoreConflicts:a<n.length-1}},QOe=({onBack:e})=>{const[t,n]=p.useState(null),[r,a]=p.useState(null),[s,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState([]),[f,h]=p.useState([]),{showConflictDialog:m,setShowConflictDialog:g,currentConflicts:v,setCurrentConflicts:b,currentConflictIndex:y,setCurrentConflictIndex:x,setConflictResolutions:w,handleConflictResolution:S,handleBatchResolve:j,handleUndo:k,canUndo:N,handleBatchReviewDecision:P}=TM(),E=async V=>{var $;const z=($=V.target.files)==null?void 0:$[0];if(z){if(!z.name.endsWith(".json")){le.error("Please select a JSON file");return}try{const U=await z.text(),M=JSON.parse(U),F=WOe(M);if(!F){le.error("Unable to detect data type. Please check the JSON format.");return}n(z),a(F);const W={scouting:"Scouting Data",scoutProfiles:"Scout Profiles",pitScouting:"Pit Scouting Data",pitScoutingImagesOnly:"Pit Scouting Images Only"};le.info(`Selected: ${z.name} (${W[F]})`)}catch(U){o(!1),le.error("Invalid JSON file"),console.error("File parsing error:",U)}}},R=async V=>{if(!t||!r){le.error("Please select a file first");return}if(!s){o(!0);try{const z=await t.text(),$=JSON.parse(z);if(r==="scouting"){const M=await O2($,V);if(M.hasBatchReview&&M.batchReviewEntries){d(M.batchReviewEntries),h(M.conflicts||[]),c(!0),o(!1);return}if(M.hasConflicts&&M.conflicts){b(M.conflicts),x(0),w(new Map),g(!0),o(!1);return}}else r==="scoutProfiles"?await qOe($,V):r==="pitScouting"?await HOe($,V):r==="pitScoutingImagesOnly"&&await YOe($);n(null),a(null),o(!1);const U=document.getElementById("jsonFileInput");U&&(U.value="")}catch(z){le.error("Error processing file"),console.error("Upload error:",z),o(!1)}}},O=async V=>{if(await S(V),y>=v.length-1){n(null),a(null);const z=document.getElementById("jsonFileInput");z&&(z.value="")}},G=async V=>{await j(V),n(null),a(null);const z=document.getElementById("jsonFileInput");z&&(z.value="")},te=async V=>{if((await P(u,f,V)).hasMoreConflicts)c(!1);else{c(!1),d([]),h([]),n(null),a(null);const $=document.getElementById("jsonFileInput");$&&($.value="")}};return i.jsxs("div",{className:"h-screen w-full flex flex-col items-center gap-6 px-4 pt-[var(--header-height)]",children:[i.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-md w-full",children:[i.jsx("div",{className:"flex items-center justify-between w-full",children:i.jsx(X,{onClick:e,variant:"ghost",size:"sm",className:"flex items-center gap-2",children:" Back"})}),i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsx(We,{className:"text-center",children:"Upload JSON Data"}),i.jsx(zn,{className:"text-center",children:"Upload JSON data files to import scouting data, scout profiles, or pit scouting data. The system will automatically detect the data type."})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsx("input",{type:"file",id:"jsonFileInput",accept:".json",style:{display:"none"},onChange:E}),i.jsx(X,{onClick:()=>{const V=document.getElementById("jsonFileInput");V&&V.click()},variant:"outline",className:"w-full min-h-16 text-xl whitespace-normal text-wrap py-3 px-4",children:t?`Selected: ${t.name}${r?` (${r==="scouting"?"Scouting Data":r==="scoutProfiles"?"Scout Profiles":r==="pitScouting"?"Pit Scouting Data":"Pit Scouting Images Only"})`:""}`:"Select JSON Data File"}),t&&i.jsxs(i.Fragment,{children:[i.jsx(Fr,{}),r==="pitScoutingImagesOnly"?i.jsxs("div",{className:"space-y-3",children:[i.jsx(X,{onClick:()=>R("smart-merge"),className:"w-full h-16 text-xl bg-green-500 hover:bg-green-600 text-white",children:" Update Existing Teams with Images"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Image Merge"}),": Add images to existing pit scouting entries for matching teams and events"]}),i.jsxs("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded border",children:[i.jsx("strong",{children:"Note:"})," Images can only be added to teams that already have pit scouting entries. Import pit scouting text data first via QR codes or JSON, then add images."]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsx(X,{onClick:()=>R("smart-merge"),disabled:s,className:"w-full h-16 text-xl bg-green-500 hover:bg-green-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:s?" Processing...":" Smart Merge (Recommended)"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Smart Merge"}),": Intelligently detect conflicts. Auto-add new entries, auto-replace corrected entries, prompt for decisions on conflicting uncorrected entries."]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Fr,{className:"flex-1"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"OR"}),i.jsx(Fr,{className:"flex-1"})]}),i.jsx(X,{onClick:()=>R("append"),disabled:s,className:"w-full h-16 text-xl bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:" Force Append"}),i.jsxs("p",{className:"pb-4",children:[i.jsx("strong",{children:"Force Append"}),": Upload all entries without conflict prompts. Matching entries (same match/team) will be replaced."]}),i.jsx(X,{onClick:()=>R("overwrite"),disabled:s,variant:"destructive",className:"w-full h-16 text-xl text-white disabled:opacity-50 disabled:cursor-not-allowed",children:" Replace All Data"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Replace All"}),": Delete all existing data and replace with uploaded data"]})]})]})]})]})]}),i.jsx(E1,{isOpen:l,entries:u,onResolve:te}),i.jsx(P1,{open:m,onOpenChange:g,conflict:v[y]||null,currentIndex:y,totalConflicts:v.length,onResolve:O,onBatchResolve:G,onUndo:k,canUndo:N})]})},ZOe=()=>{const[e,t]=p.useState("select"),[n,r]=p.useState("scouting");if(e==="upload")return i.jsx(QOe,{onBack:()=>t("select")});const a=async()=>{try{let s,o;switch(n){case"scouting":{const c=await Yi();if(c.length===0){alert("No scouting data found.");return}const u=["id","scoutName","teamNumber","matchNumber","eventKey","matchKey","allianceColor","timestamp"],d=new Set,f=new Set,h=new Set,m=new Set,g=(N,P="")=>{const E={};for(const R of Object.keys(N)){const O=N[R],G=P?`${P}.${R}`:R;O!==null&&typeof O=="object"&&!Array.isArray(O)?Object.assign(E,g(O,G)):E[G]=O}return E};for(const N of c)if(N.gameData){const P=g(N.gameData);for(const E of Object.keys(P))E.startsWith("auto.")?d.add(E):E.startsWith("teleop.")?f.add(E):E.startsWith("endgame.")?h.add(E):m.add(E)}const v=Array.from(d).sort((N,P)=>N.startsWith("auto.startPosition")?-1:P.startsWith("auto.startPosition")?1:N.localeCompare(P)),b=Array.from(f).sort(),y=Array.from(h).sort(),x=Array.from(m).sort(),w=[...v,...b,...y,...x],S=[...u,...w,"comments"],j=[];for(const N of c){const P=[],E=N;for(const O of u){const G=E[O];P.push(G!==void 0?G:"")}if(N.gameData){const O=g(N.gameData);for(const G of w){const te=O[G];P.push(te!==void 0?te:"")}}else for(let O=0;O<w.length;O++)P.push("");const R=E.comments;P.push(R!==void 0?R:""),j.push(P)}const k=[S,...j];s=z4(k),o=`ManeuverScoutingData-${new Date().toLocaleTimeString()}-local.csv`;break}case"pitScouting":{if(s=await L7(),!s||s.split(`
`).length<=1){alert("No pit scouting data found.");return}o=`ManeuverPitScoutingData-${new Date().toLocaleTimeString()}-local.csv`;break}case"pitScoutingImagesOnly":{alert("CSV export not available for images-only data. Use JSON or Wifi download instead.");return}case"scoutProfiles":{const c=await st.scouts.toArray(),u=await st.predictions.toArray();if(c.length===0&&u.length===0){alert("No scout profiles data found.");return}const d=["Name","Stakes","Stakes From Predictions","Total Predictions","Correct Predictions","Accuracy %","Current Streak","Longest Streak","Created At","Last Updated"],f=c.map(m=>[m.name,m.stakes,m.stakesFromPredictions,m.totalPredictions,m.correctPredictions,m.totalPredictions>0?Math.round(m.correctPredictions/m.totalPredictions*100):0,m.currentStreak,m.longestStreak,new Date(m.createdAt).toLocaleDateString(),new Date(m.lastUpdated).toLocaleDateString()]),h=[d,...f];s=z4(h),o=`ManeuverScoutProfiles-${new Date().toLocaleTimeString()}-local.csv`;break}default:alert("Unknown data type selected.");return}const l=document.createElement("a");l.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(s)),l.setAttribute("download",o),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(s){console.error("Failed to export data as CSV:",s),alert("Failed to export data as CSV.")}};return i.jsx("div",{className:"h-screen w-full flex flex-col items-center px-4 pt-12 pb-24",children:i.jsxs("div",{className:"flex flex-col items-start gap-4 max-w-md w-full",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"JSON Data Transfer"}),i.jsx("p",{className:"text-muted-foreground",children:"Export your data as CSV for analysis, or upload JSON files to overwrite your local data storage. Choose the type of data you want to export below."}),i.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Data Type to Export:"}),i.jsxs(Br,{value:n,onValueChange:s=>r(s),children:[i.jsx(Vr,{className:"w-full",children:i.jsx(oa,{placeholder:"Select data type"})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"scouting",children:"Scouting Data"}),i.jsx(ot,{value:"scoutProfiles",children:"Scout Profiles"}),i.jsx(ot,{value:"pitScouting",children:"Pit Scouting Data"}),i.jsx(ot,{value:"pitScoutingImagesOnly",children:"Pit Scouting Images Only"})]})]})]}),i.jsxs(X,{onClick:async()=>{try{let s,o;switch(n){case"scouting":{const c=await Yi();if(c.length===0){alert("No scouting data found.");return}s={entries:c},o=`ManeuverScoutingData-${new Date().toLocaleTimeString()}.json`;break}case"pitScouting":{const c=await Zm();if(c.entries.length===0){alert("No pit scouting data found.");return}s=c,o=`ManeuverPitScoutingData-${new Date().toLocaleTimeString()}.json`;break}case"pitScoutingImagesOnly":try{await I7();return}catch(c){console.error("Error downloading pit scouting images:",c),alert("Failed to download pit scouting images.");return}case"scoutProfiles":{const c=await st.scouts.toArray(),u=await st.predictions.toArray();if(c.length===0&&u.length===0){alert("No scout profiles data found.");return}s={scouts:c,predictions:u,exportedAt:new Date().toISOString(),version:"1.0"},o=`ManeuverScoutProfiles-${new Date().toLocaleTimeString()}.json`;break}default:alert("Unknown data type selected.");return}const l=document.createElement("a");l.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s,null,2))),l.setAttribute("download",o),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(s){console.error("Failed to export data as JSON:",s),alert("Failed to export data as JSON.")}},className:"w-full h-16 text-xl",children:["Download ",n==="scouting"?"Scouting Data":n==="pitScouting"?"Pit Scouting Data":n==="pitScoutingImagesOnly"?"Pit Scouting Images":"Scout Profiles"," as JSON"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Fr,{className:"flex-1"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"OR"}),i.jsx(Fr,{className:"flex-1"})]}),i.jsxs("div",{className:"w-full",children:[i.jsx(X,{onClick:a,variant:"secondary",disabled:n==="pitScoutingImagesOnly",className:"w-full h-16 text-xl",children:n==="pitScoutingImagesOnly"?"Images Cannot Be Downloaded as CSV":`Download ${n==="scouting"?"Scouting Data":n==="pitScouting"?"Pit Scouting Data":"Scout Profiles"} as CSV`}),n==="pitScouting"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Game-specific fields automatically expanded into separate columns"}),n==="pitScoutingImagesOnly"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Images cannot be exported as CSV"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Fr,{className:"flex-1"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"OR"}),i.jsx(Fr,{className:"flex-1"})]}),i.jsx(X,{onClick:()=>t("upload"),variant:"outline",className:"w-full h-16 text-xl",children:"Upload JSON Data"})]}),i.jsxs("div",{className:"text-xs text-muted-foreground text-start space-y-1",children:[i.jsx("p",{children:" CSV: Export data for spreadsheet analysis"}),i.jsx("p",{children:" JSON: Export/import data for backup or device transfer"}),i.jsx("p",{children:" Scouting Data: Match performance data"}),i.jsx("p",{children:" Scout Profiles: User achievements and predictions"}),i.jsx("p",{children:" Pit Scouting: Team technical specifications and capabilities"}),i.jsx("p",{children:" Pit Scouting Images Only: Robot photos for merging with existing data (requires text data first)"})]})]})})};function JOe({roomId:e,peerId:t,peerName:n,role:r,enabled:a,onMessage:s}){console.log(" useWebRTCSignaling hook called:",{roomId:e,peerId:t,peerName:n,role:r,enabled:a});const[o,l]=p.useState(!1),[c,u]=p.useState(null),d=p.useRef(null),f=p.useRef(null),h="/.netlify/functions/webrtc-signal",m=p.useCallback(async P=>{if(console.log(` sendMessage called: ${P.type}, roomId=${e}, enabled=${a}`),!e||!a){console.warn(` sendMessage aborted: roomId=${e}, enabled=${a}`);return}try{console.log(` Fetching ${h} with ${P.type}`);const E=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...P,roomId:e,peerId:t,peerName:n,role:r})});if(console.log(` Response: ${E.status} ${E.statusText}`),!E.ok)throw new Error(`Signaling failed: ${E.statusText}`);return await E.json()}catch(E){throw console.error("Failed to send signaling message:",E),u(E instanceof Error?E.message:"Failed to send message"),E}},[e,t,n,r,a,h]),g=p.useCallback(async()=>{if(!(!e||!a))try{if(f.current===null){try{const P=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"ping"})});f.current=P.status!==404}catch{f.current=!1}if(!f.current){const P='Netlify Functions not available. Please run with "npm run dev" instead of "npm run dev:vite" to enable room code connections.';console.error("",P),u(P),l(!1);return}}console.log(" Sending join message to room:",e),await m({type:"join"}),console.log(" Join message sent successfully"),l(!0),u(null)}catch(P){console.error(" Failed to join room:",P);const E=P instanceof Error?P.message:"Failed to join room";u(E),l(!1)}},[e,a,m,h]),v=p.useCallback(async()=>{if(e)try{await m({type:"leave"}),l(!1)}catch(P){console.error("Failed to leave room:",P)}},[e,m]),b=p.useCallback(async(P,E)=>m({type:"offer",data:P,targetPeerId:E}),[m]),y=p.useCallback(async(P,E)=>m({type:"answer",data:P,targetPeerId:E}),[m]),x=p.useCallback(async(P,E)=>m({type:"ice-candidate",data:P.toJSON(),targetPeerId:E}),[m]),w=p.useCallback(async()=>{if(!(!e||!a||!o))try{const P=await fetch(`${h}?roomId=${e}&peerId=${t}`,{method:"GET"});if(!P.ok)throw new Error(`Polling failed: ${P.statusText}`);const E=await P.json();if(E.messages&&Array.isArray(E.messages)){E.messages.length>0&&console.log(` Received ${E.messages.length} messages:`,E.messages.map(R=>`${R.type} from ${R.peerName}`).join(", "));for(const R of E.messages)console.log(` Processing message: ${R.type} from ${R.peerName||R.peerId}`),s==null||s(R)}}catch{}},[e,t,a,o,h,s]);p.useEffect(()=>{if(o&&a)return w(),d.current=setInterval(w,2e3),()=>{d.current&&clearInterval(d.current)}},[o,a,w]);const S=p.useRef(!1),j=p.useRef(null),k=p.useRef(a),N=p.useRef(e);return p.useEffect(()=>{k.current=a,N.current=e}),p.useEffect(()=>(console.log(" Signaling hook effect:",{enabled:a,roomId:e,hasJoined:S.current,currentRoom:j.current}),a&&e?!S.current||j.current!==e?(console.log(" Joining room:",e),S.current=!0,j.current=e,g()):console.log(" Already joined room:",e):console.log(" Signaling disabled or no room"),()=>{const P=k.current,E=N.current;console.log(" Signaling cleanup:",{currentEnabled:P,currentRoomId:E,hasJoined:S.current,currentRoom:j.current}),S.current&&(!P||j.current!==E)?(console.log(" Leaving room in cleanup"),S.current=!1,j.current=null,v()):console.log(" Keeping connection alive (still enabled and same room)")}),[a,e]),{connected:o,error:c,join:g,leave:v,sendOffer:b,sendAnswer:y,sendIceCandidate:x}}function rg(){try{if(typeof crypto<"u"&&crypto.randomUUID&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{console.warn("crypto.randomUUID not available, using fallback")}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const Z0=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"}],WX=p.createContext(void 0);function XOe({children:e}){const[t,n]=p.useState(()=>{if(typeof window<"u"){const Re=localStorage.getItem("webrtc_mode");if(console.log(" Restoring mode on mount:",Re),Re==="lead"||Re==="scout")return Re}return"select"}),r=p.useCallback(Re=>{n(Re),typeof window<"u"&&localStorage.setItem("webrtc_mode",Re)},[]),[a,s]=p.useState([]),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState(!1),[g,v]=p.useState(null),[b,y]=p.useState(null),[x,w]=p.useState("Not connected"),[S,j]=p.useState(!1),k=p.useRef(!1),[N,P]=p.useState(null),[E,R]=p.useState(null),[O,G]=p.useState(()=>{if(typeof window<"u"){const Re=localStorage.getItem("webrtc_mode"),Ke=Re==="scout"?"webrtc_scout_room_code":"webrtc_room_code",Q=localStorage.getItem(Ke);if(console.log(" Restoring room code on mount:",{savedMode:Re,storageKey:Ke,saved:Q}),Q&&/^\d{6}$/.test(Q))return console.log(" Room code restored:",Q),Q;Q&&(console.log(" Invalid room code format, clearing:",Q),localStorage.removeItem(Ke))}return null}),te=p.useCallback(Re=>{if(G(Re),typeof window<"u"){const Ke=t==="scout"?"webrtc_scout_room_code":"webrtc_room_code";Re?localStorage.setItem(Ke,Re):localStorage.removeItem(Ke)}},[t]);p.useEffect(()=>{if(typeof window<"u"){const Re=t==="scout"?"webrtc_scout_room_code":"webrtc_room_code",Ke=localStorage.getItem(Re);Ke&&/^\d{6}$/.test(Ke)?G(Ke):t==="select"&&G(null)}},[t]);const V=p.useCallback(()=>{const Re=Math.floor(1e5+Math.random()*9e5).toString();return te(Re),console.log(" Generated new room code:",Re),Re},[te]),z=p.useRef([]),[$,U]=p.useState([]),M=p.useRef(new Map),F=p.useRef(null),W=p.useRef(null),Z=p.useRef(null),H=p.useRef(new Map),ae=p.useRef(new Map),[fe]=p.useState(()=>rg()),we=t==="lead"?"Lead Scout":(()=>{const Re=typeof window<"u"?localStorage.getItem("currentScout"):null,Ke=typeof window<"u"?localStorage.getItem("playerStation"):null;return Re&&Ke?`${Re} (${Ke})`:"Scout"})(),Pe=p.useCallback(()=>{U([...z.current])},[]),me=p.useCallback((Re,Ke)=>{try{const Q=JSON.parse(Ke);if(Q.type==="request-data")return;if(Q.type==="disconnected"){window.dispatchEvent(new CustomEvent("webrtc-disconnected-by-lead"));return}if(Q.type==="request-declined"){s(ke=>[...ke,{scoutName:Re,data:{type:"declined"},timestamp:Date.now()}]);return}if(Q.type==="push-declined"){s(ke=>[...ke,{scoutName:Re,data:{type:"push-declined",dataType:Q.dataType},timestamp:Date.now()}]);return}if(Q.type==="complete"){const ke=JSON.parse(Q.data);s(He=>[...He,{scoutName:Re,data:ke,dataType:Q.dataType,timestamp:Date.now()}])}else if(Q.type==="chunk"){const{transferId:ke,chunkIndex:He,totalChunks:Be,data:tt,dataType:nt}=Q;ae.current.has(ke)||ae.current.set(ke,{chunks:new Array(Be).fill(null),totalChunks:Be,scoutName:Re,dataType:nt});const bt=ae.current.get(ke);if(bt.chunks[He]=tt,bt.chunks.every(Nn=>Nn!==null)){const Nn=bt.chunks.join(""),Nt=JSON.parse(Nn);Nt.type==="push-data"?(v(Nt.data),y(Nt.dataType),m(!0)):s(vr=>[...vr,{scoutName:Re,data:Nt,dataType:bt.dataType,timestamp:Date.now()}]),ae.current.delete(ke)}}else Q.type||s(ke=>[...ke,{scoutName:Re,data:Q,timestamp:Date.now()}])}catch(Q){console.error("Failed to parse received data:",Q),console.error("Raw message length:",Ke.length),console.error("Raw message preview:",Ke.substring(0,200))}},[]),Ue=p.useCallback(async Re=>{const Ke=rg(),Q=new RTCPeerConnection({iceServers:Z0});console.log(` Lead creating offer for scout: ${Re} (ID: ${Ke})`),console.log(" Using ICE servers:",Z0),Q.onicecandidate=nt=>{var bt;if(nt.candidate){console.log(" Lead ICE candidate:",nt.candidate.candidate.substring(0,50)+"...","type:",nt.candidate.type);const ze=M.current.get(Ke)||z.current.find(Nn=>Nn.id===Ke);ze!=null&&ze.signalingPeerId?(console.log(" Lead: Sending ICE candidate to scout",ze.name,"targetPeerId:",ze.signalingPeerId),(bt=Pt.current)==null||bt.sendIceCandidate(nt.candidate,ze.signalingPeerId)):console.warn(" Lead: Cannot send ICE candidate, scout signalingPeerId not known yet")}};const ke=Q.createDataChannel("scoutData");ke.onopen=()=>{console.log(` Data channel opened for scout: ${Re}`);const nt=M.current.get(Ke);nt&&(nt.status="connected",z.current.push(nt),M.current.delete(Ke),Pe(),console.log(` Scout ${Re} moved to connected list`))},ke.onmessage=nt=>{me(Re,nt.data)};const He={id:Ke,name:Re,connection:Q,dataChannel:ke,channel:ke,status:"connecting",offer:""};M.current.set(Ke,He),Q.oniceconnectionstatechange=()=>{const nt=Q.iceConnectionState,bt=z.current.find(ze=>ze.id===Ke);bt&&(bt.status=nt==="connected"?"connected":"connecting",Pe(),(nt==="disconnected"||nt==="failed")&&(bt.status="disconnected",Pe()))},Q.onconnectionstatechange=()=>{const nt=Q.connectionState;(nt==="disconnected"||nt==="failed")&&setTimeout(()=>{(Q.connectionState==="disconnected"||Q.connectionState==="failed")&&(z.current=z.current.filter(bt=>bt.id!==Ke),Pe())},3e4)};const Be=await Q.createOffer();await Q.setLocalDescription(Be),await new Promise(nt=>{if(Q.iceGatheringState==="complete")nt();else{const bt=setTimeout(()=>{Q.onicegatheringstatechange=null,console.log(" ICE gathering timeout reached, proceeding with gathered candidates"),nt()},5e3);Q.onicegatheringstatechange=()=>{Q.iceGatheringState==="complete"&&(clearTimeout(bt),Q.onicegatheringstatechange=null,nt())}}});const tt=JSON.stringify(Q.localDescription);return He.offer=tt,{scoutId:Ke,offer:tt}},[Pe,me]),ne=p.useCallback(async(Re,Ke)=>{console.log(` Processing answer for scout ID: ${Re}`);const Q=M.current.get(Re);if(!Q)throw new Error(`No pending scout found with ID: ${Re}`);if(Q.connection.signalingState==="closed")throw new Error("Connection is closed");const ke=JSON.parse(Ke);await Q.connection.setRemoteDescription(ke),M.current.delete(Re),Q.signalingPeerId&&M.current.delete(Q.signalingPeerId),z.current.push(Q),Pe(),console.log(` Scout ${Q.name} connected successfully`)},[Pe]),je=p.useCallback((Re,Ke)=>{console.log(` Requesting ${Ke||"scouting"} data from ${z.current.length} scouts...`),Re&&console.log(" With filters:",Re),u(Re||null),f(Ke||"scouting"),z.current.forEach(Q=>{Q.dataChannel&&Q.dataChannel.readyState==="open"?(console.log(` Sending ${Ke||"scouting"} request to ${Q.name}`),Q.dataChannel.send(JSON.stringify({type:"request-data",filters:Re||null,dataType:Ke||"scouting"}))):console.warn(` Data channel not open for ${Q.name}`)})},[]),ve=p.useCallback((Re,Ke,Q)=>{const ke=z.current.find(He=>He.id===Re);if(!ke){console.error(` Scout ${Re} not found`);return}console.log(` Requesting ${Q||"scouting"} data from ${ke.name}...`),Ke&&console.log(" With filters:",Ke),ke.dataChannel&&ke.dataChannel.readyState==="open"?ke.dataChannel.send(JSON.stringify({type:"request-data",filters:Ke||null,dataType:Q||"scouting"})):console.warn(` Data channel not open for ${ke.name}`)},[]),re=p.useCallback((Re,Ke)=>{console.log(` Pushing ${Ke} data to ${z.current.length} scouts...`);const Q=JSON.stringify({type:"push-data",dataType:Ke,data:Re}),ke=16e3;z.current.forEach(He=>{if(He.dataChannel&&He.dataChannel.readyState==="open")if(console.log(` Pushing ${Ke} data to ${He.name}`),Q.length<=ke)He.dataChannel.send(Q);else{const Be=Math.ceil(Q.length/ke),tt=rg();for(let nt=0;nt<Be;nt++){const bt=Q.slice(nt*ke,(nt+1)*ke);He.dataChannel.send(JSON.stringify({type:"chunk",transferId:tt,chunkIndex:nt,totalChunks:Be,data:bt,dataType:Ke}))}}else console.warn(` Data channel not open for ${He.name}`)})},[]),Ye=p.useCallback((Re,Ke,Q)=>{const ke=z.current.find(tt=>tt.id===Re);if(!ke){console.error(` Scout ${Re} not found`);return}console.log(` Pushing ${Q} data to ${ke.name}...`);const He=JSON.stringify({type:"push-data",dataType:Q,data:Ke}),Be=16e3;if(ke.dataChannel&&ke.dataChannel.readyState==="open")if(He.length<=Be)ke.dataChannel.send(He);else{const tt=Math.ceil(He.length/Be),nt=rg();for(let bt=0;bt<tt;bt++){const ze=He.slice(bt*Be,(bt+1)*Be);ke.dataChannel.send(JSON.stringify({type:"chunk",transferId:nt,chunkIndex:bt,totalChunks:tt,data:ze,dataType:Q}))}}else console.warn(` Data channel not open for ${ke.name}`)},[]),Fe=p.useCallback(async(Re,Ke)=>{console.log(` Scout ${Re} processing offer...`),r("scout"),P(Re),R(Ke),localStorage.setItem("webrtc_last_connection",JSON.stringify({scoutName:Re,offer:Ke,roomCode:O,timestamp:Date.now()})),F.current&&F.current.close();const Q=new RTCPeerConnection({iceServers:Z0});F.current=Q,console.log(" Scout using ICE servers:",Z0),Q.onicecandidate=bt=>{var ze;bt.candidate?(console.log(" Scout ICE candidate:",bt.candidate.candidate.substring(0,50)+"...","type:",bt.candidate.type),console.log(" Scout: Sending ICE candidate to lead, targetPeerId:",Z.current),(ze=Pt.current)==null||ze.sendIceCandidate(bt.candidate,Z.current||void 0)):console.log(" Scout: ICE gathering complete")},Q.oniceconnectionstatechange=()=>{const bt=Q.iceConnectionState;w(`ICE: ${bt}`),console.log(` Scout ICE state: ${bt}`),bt==="disconnected"||bt==="failed"?(console.log(" Connection lost - auto-reconnect available"),j(!0)):bt==="connected"&&(j(!1),k.current=!1)},Q.onconnectionstatechange=()=>{w(`Connection: ${Q.connectionState}`),console.log(` Scout connection state: ${Q.connectionState}`)},Q.ondatachannel=bt=>{const ze=bt.channel;W.current=ze,console.log(" Scout received data channel"),ze.onopen=()=>{w("Connected - Ready to send data"),console.log(" Scout data channel opened")},ze.onmessage=Nn=>{console.log(" Scout received message");try{const Nt=JSON.parse(Nn.data);if(Nt.type==="request-data"){console.log(` Lead is requesting ${Nt.dataType||"scouting"} data`),Nt.filters?(console.log(" With filters:",Nt.filters),u(Nt.filters)):u(null),f(Nt.dataType||"scouting"),l(!0);return}if(Nt.type==="push-data"){console.log(` Lead is pushing ${Nt.dataType} data`),v(Nt.data),y(Nt.dataType),m(!0);return}}catch{}me("lead",Nn.data)}};const ke=JSON.parse(Ke);await Q.setRemoteDescription(ke);const He="scout-buffer",Be=H.current.get(He);if(Be&&Be.length>0){console.log(` Context: Processing ${Be.length} buffered ICE candidates`);for(const bt of Be)try{await Q.addIceCandidate(new RTCIceCandidate(bt))}catch(ze){console.error(" Failed to add buffered ICE candidate:",ze)}H.current.delete(He),console.log(" Context: All buffered ICE candidates processed")}const tt=await Q.createAnswer();await Q.setLocalDescription(tt),await new Promise(bt=>{if(Q.iceGatheringState==="complete")console.log(" Scout ICE gathering already complete"),bt();else{const ze=setTimeout(()=>{console.log(` Scout ICE gathering timeout (state: ${Q.iceGatheringState}) - proceeding with available candidates`),Q.onicegatheringstatechange=null,bt()},5e3);Q.onicegatheringstatechange=()=>{console.log(` Scout ICE gathering state: ${Q.iceGatheringState}`),Q.iceGatheringState==="complete"&&(clearTimeout(ze),Q.onicegatheringstatechange=null,bt())}}});const nt=JSON.stringify(Q.localDescription);return console.log(` Answer created, size: ${nt.length} chars`),nt},[me,O,r]),Je=p.useCallback(Re=>{const Ke=W.current;if(!Ke||Ke.readyState!=="open"){console.warn("Cannot send control message - data channel not open");return}try{Ke.send(JSON.stringify(Re)),console.log(" Sent control message:",Re.type)}catch(Q){console.error("Failed to send control message:",Q)}},[]),Le=p.useCallback((Re,Ke)=>{const Q=W.current;if(!Q){const ke="ERROR: No data channel exists. Please scan the QR code from the lead scout first.";console.error("",ke),alert(ke);return}if(Q.readyState!=="open"){const ke=`ERROR: Data channel state is "${Q.readyState}". Expected "open". Try reconnecting.`;console.error("",ke),alert(ke);return}try{const ke=JSON.stringify(Re),He=15e3;if(console.log(` Scout sending ${Ke||"data"}, size: ${ke.length} chars`),ke.length<=He)Q.send(JSON.stringify({type:"complete",data:ke,dataType:Ke})),console.log(" Data sent successfully (single message)");else{const Be=Math.ceil(ke.length/He),tt=rg();console.log(` Splitting into ${Be} chunks`);for(let nt=0;nt<Be;nt++){const bt=ke.slice(nt*He,(nt+1)*He),ze=JSON.stringify({type:"chunk",transferId:tt,chunkIndex:nt,totalChunks:Be,data:bt,dataType:Ke});Q.send(ze),console.log(` Sent chunk ${nt+1}/${Be}`)}console.log(" All chunks sent successfully")}}catch(ke){const He=`ERROR sending data: ${ke instanceof Error?ke.message:String(ke)}`;console.error("",He),alert(He)}},[]),lt=p.useCallback(()=>{console.log(" Clearing received data"),s([])},[]),ct=p.useCallback(Re=>{s(Ke=>[...Ke,Re])},[]),be=p.useCallback(Re=>{var Q,ke;console.log(` Disconnecting scout ${Re}...`);const Ke=z.current.find(He=>He.id===Re);Ke&&(((Q=Ke.dataChannel)==null?void 0:Q.readyState)==="open"&&Ke.dataChannel.send(JSON.stringify({type:"disconnected"})),Ke.connection.close(),(ke=Ke.dataChannel)==null||ke.close(),z.current=z.current.filter(He=>He.id!==Re),Pe())},[Pe]),Ce=p.useCallback(()=>{z.current.forEach(Re=>{var Ke;Re.connection.close(),(Ke=Re.dataChannel)==null||Ke.close()}),z.current=[],Pe(),M.current.clear(),F.current&&(F.current.close(),F.current=null),W.current&&(W.current.close(),W.current=null),w("Not connected"),l(!1),s([])},[Pe]);p.useEffect(()=>{if(t==="scout"&&x.includes("Connected")){const Re={mode:"scout",timestamp:Date.now(),status:x};localStorage.setItem("webrtc_connection_info",JSON.stringify(Re)),console.log(" Saved connection info for auto-reconnect")}},[t,x]),p.useEffect(()=>{const Re=()=>{if(!document.hidden){console.log(" App became visible");const Ke=localStorage.getItem("webrtc_connection_info");if(!Ke)return;try{const Q=JSON.parse(Ke),ke=Date.now()-Q.timestamp;Q.mode==="scout"&&t==="scout"&&!x.includes("Connected")&&ke<30*60*1e3&&!k.current&&(console.log(" Attempting auto-reconnect..."),k.current=!0,j(!0),setTimeout(()=>{k.current=!1},5e3))}catch(Q){console.error("Failed to parse connection info:",Q)}}};return document.addEventListener("visibilitychange",Re),()=>{document.removeEventListener("visibilitychange",Re)}},[t,x]),p.useEffect(()=>()=>{console.log(" WebRTC Context cleanup (keeping connections alive)")},[]);const oe=p.useRef(Ue),xt=p.useRef(ne),rt=p.useRef(Fe);p.useEffect(()=>{oe.current=Ue,xt.current=ne,rt.current=Fe},[Ue,ne,Fe]);const Rt=t!=="select"&&!!O,zt=O||"",Pt=p.useRef(null),It=JOe({roomId:zt,peerId:fe,peerName:we,role:t==="select"?"scout":t,enabled:Rt,onMessage:p.useCallback(async Re=>{try{if(console.log(" Context signaling message:",Re.type,"from",Re.peerName,"| My mode:",t,"| Message role:",Re.role),t==="scout"&&Re.type==="join"&&Re.role==="lead"&&(console.log(" Context: Lead (re)joined room, scout re-announcing presence"),Pt.current&&Pt.current.connected)){const Ke=Math.random()*1e3;setTimeout(async()=>{var Q;await((Q=Pt.current)==null?void 0:Q.join())},Ke)}if(t==="lead"&&Re.type==="join"&&Re.role==="scout"){const Ke=M.current.get(Re.peerId),Q=z.current.find(tt=>tt.signalingPeerId===Re.peerId);if(Ke||Q){console.log(" Context: Scout already has connection, ignoring duplicate join");return}console.log(" Context: Scout joined, creating offer");const{scoutId:ke,offer:He}=await oe.current(Re.peerName||"Scout"),Be=M.current.get(ke);if(Be?(Be.signalingPeerId=Re.peerId,M.current.set(Re.peerId,Be),console.log(` Stored scout mapping: peerId ${Re.peerId} -> scoutId ${ke}`)):console.error(" Could not find scout with scoutId:",ke),console.log(" Context: Sending offer to scout with peerId:",Re.peerId),!Pt.current){console.error(" Signaling not available to send offer!");return}await Pt.current.sendOffer(JSON.parse(He),Re.peerId),console.log(" Context: Offer sent to scout")}if(t==="lead"&&Re.type==="answer"){console.log(" Context: Received answer from scout");const Ke=M.current.get(Re.peerId);Ke?(console.log(` Context: Processing answer for scout ${Ke.name}`),await xt.current(Ke.id,JSON.stringify(Re.data)),M.current.delete(Re.peerId),console.log(" Context: Answer processed, connection should establish")):console.warn(" Context: Received answer but no pending scout found for peerId:",Re.peerId)}if(t==="scout"&&Re.type==="offer"){console.log(" Context: Scout received offer from lead peerId:",Re.peerId),Z.current=Re.peerId;const Ke=await rt.current(we,JSON.stringify(Re.data));if(console.log(" Context: Sending answer back to lead..."),!Pt.current){console.error(" Signaling not available to send answer!");return}await Pt.current.sendAnswer(JSON.parse(Ke),Re.peerId),console.log(" Context: Answer sent to lead")}if(Re.type==="ice-candidate"){console.log(" Context: Received ICE candidate from",Re.peerName,"peerId:",Re.peerId,"mode:",t);try{const Ke=new RTCIceCandidate(Re.data);if(console.log(" Context: ICE candidate created successfully"),t==="lead"){console.log(" Context: Lead mode - looking for scout connection..."),console.log("Pending scouts:",Array.from(M.current.keys())),console.log("Connected scouts:",z.current.map(ke=>({id:ke.id,name:ke.name}))),console.log(` Looking up scout with peerId: ${Re.peerId}`);let Q=M.current.get(Re.peerId);console.log(" Found in pending?",!!Q),Q||(console.log(" Checking connected scouts..."),Q=z.current.find(ke=>ke.id===Re.peerId),console.log(" Found in connected?",!!Q)),Q&&console.log(` Scout found: ${Q.name}, connection exists: ${!!Q.connection}`),Q!=null&&Q.connection?(console.log(` Context: Adding ICE candidate to scout ${Q.name} (signaling state: ${Q.connection.signalingState})`),Q.connection.remoteDescription?(await Q.connection.addIceCandidate(Ke),console.log(" Context: ICE candidate added successfully")):console.warn(" Context: Remote description not set yet, cannot add ICE candidate")):(console.warn(` Context: No scout connection found for peerId ${Re.peerId}`),console.warn("Pending scouts:",Array.from(M.current.keys())),console.warn("Connected scouts:",z.current.map(ke=>ke.id)))}else if(t==="scout")if(F.current&&F.current.remoteDescription)console.log(` Context: Adding ICE candidate (signaling state: ${F.current.signalingState})`),await F.current.addIceCandidate(Ke),console.log(" Context: ICE candidate added successfully");else{console.log(" Context: Buffering ICE candidate (connection not ready yet)");const Q="scout-buffer";H.current.has(Q)||H.current.set(Q,[]),H.current.get(Q).push(Re.data),console.log(` Context: ${H.current.get(Q).length} candidates buffered`)}}catch(Ke){console.error(" Failed to add ICE candidate:",Ke)}}}catch(Ke){console.error(" Context signaling error:",Ke)}},[t,we])});Pt.current=It;const an=p.useRef(!1),Jt=p.useRef(x);p.useEffect(()=>{const Re=Jt.current.includes("Connected"),Q=!x.includes("Connected");Re&&Q&&(console.log(" Context: Connection lost, resetting auto-join flag"),an.current=!1),Jt.current=x},[x,t]),p.useEffect(()=>{const Re=x.includes("Connected");t==="scout"&&O&&It&&!Re&&!an.current&&localStorage.getItem("webrtc_scout_room_code")===O&&(console.log(" Context: Auto-joining room",O,"from any page (current status:",x,")"),an.current=!0,It.connected?console.log(" Context: Already in signaling room, waiting for lead offer"):(console.log(" Context: Joining signaling room"),setTimeout(()=>{It.join().catch(Q=>{console.error(" Auto-join failed:",Q),an.current=!1})},500))),(t!=="scout"||!O)&&(an.current=!1)},[t,O,It,x]);const jn={mode:t,setMode:r,connectedScouts:$,createOfferForScout:Ue,processScoutAnswer:ne,requestDataFromAll:je,requestDataFromScout:ve,pushDataToAll:re,pushDataToScout:Ye,receivedData:a,clearReceivedData:lt,addToReceivedData:ct,startAsScout:Fe,sendData:Le,sendControlMessage:Je,dataRequested:o,setDataRequested:l,dataPushed:h,setDataPushed:m,pushedData:g,pushedDataType:b,requestFilters:c,requestDataType:d,connectionStatus:x,shouldAttemptReconnect:S,setShouldAttemptReconnect:j,lastScoutName:N,lastOffer:E,roomCode:O,setRoomCode:te,generateRoomCodeForLead:V,signaling:It?{connected:It.connected,error:It.error,join:It.join,leave:It.leave,sendOffer:It.sendOffer,sendAnswer:It.sendAnswer,sendIceCandidate:It.sendIceCandidate}:null,disconnectScout:be,disconnectAll:Ce};return i.jsx(WX.Provider,{value:jn,children:e})}function ff(){const e=p.useContext(WX);if(e===void 0)throw new Error("useWebRTC must be used within a WebRTCProvider");return e}function eLe(){const e=ff(),[t,n]=p.useState(null),r=p.useCallback(async(c,u)=>{e.setMode("scout");const d=await e.startAsScout(c,u);return n(d),d},[e]),a=p.useCallback((c,u,d="scouting")=>{e.requestDataFromScout(c,u,d)},[e]),s=p.useCallback((c,u="scouting")=>{e.requestDataFromAll(c,u)},[e]),o=p.useCallback((c,u)=>{e.pushDataToAll(c,u)},[e]),l=p.useCallback((c,u,d)=>{e.pushDataToScout(c,u,d)},[e]);return{role:e.mode==="scout"?"scout":e.mode==="lead"?"lead":null,connectedScouts:e.connectedScouts,receivedData:e.receivedData,clearReceivedData:e.clearReceivedData,addToReceivedData:e.addToReceivedData,isConnecting:!1,connectionStatus:e.connectionStatus,scoutAnswer:t,scoutOfferReceived:e.mode==="scout"&&e.connectionStatus.includes("Connected"),dataRequested:e.dataRequested,setDataRequested:e.setDataRequested,requestDataType:e.requestDataType,requestFilters:e.requestFilters,dataPushed:e.dataPushed,setDataPushed:e.setDataPushed,pushedData:e.pushedData,pushedDataType:e.pushedDataType,sendData:e.sendData,sendControlMessage:e.sendControlMessage,shouldAttemptReconnect:e.shouldAttemptReconnect,setShouldAttemptReconnect:e.setShouldAttemptReconnect,lastScoutName:e.lastScoutName,lastOffer:e.lastOffer,startAsLead:()=>e.setMode("lead"),createOfferForScout:e.createOfferForScout,processScoutAnswer:e.processScoutAnswer,startAsScout:r,requestDataFromScout:a,requestDataFromAll:s,pushDataToAll:o,pushDataToScout:l,disconnectScout:e.disconnectScout,reset:()=>{e.disconnectAll(),e.setMode("select"),n(null)}}}const tLe="maneuver_last_exported_match";function _M(){try{const e=localStorage.getItem(tLe);return e?parseInt(e):null}catch{return null}}function nLe(e){const t=new Set;return e.entries.forEach(n=>{n.teamNumber&&t.add(String(n.teamNumber))}),Array.from(t).sort((n,r)=>{const a=parseInt(n),s=parseInt(r);return!isNaN(a)&&!isNaN(s)?a-s:n.localeCompare(r)})}function L2(e){let t=1/0,n=-1/0;return e.entries.forEach(r=>{const a=r.matchNumber;a&&(t=Math.min(t,a),n=Math.max(n,a))}),{min:t===1/0?1:t,max:n===-1/0?1:n}}function y5(e,t){let n=e.entries;if(!t.teams.includeAll&&t.teams.selectedTeams.length>0&&(n=n.filter(r=>t.teams.selectedTeams.includes(String(r.teamNumber)))),t.matchRange.type==="preset"&&t.matchRange.preset!=="all"){const r=L2(e);let a=r.min;if(t.matchRange.preset==="last10")a=Math.max(r.min,r.max-9);else if(t.matchRange.preset==="last15")a=Math.max(r.min,r.max-14);else if(t.matchRange.preset==="last30")a=Math.max(r.min,r.max-29);else if(t.matchRange.preset==="fromLastExport"){const s=_M();a=s?Math.max(r.min,s+1):r.min}n=n.filter(s=>{const o=s.matchNumber;return o>=a&&o<=r.max})}else if(t.matchRange.type==="custom"){const r=t.matchRange.customStart||1,a=t.matchRange.customEnd||999;n=n.filter(s=>{const o=s.matchNumber;return o>=r&&o<=a})}return{...e,entries:n}}function rLe(e,t,n=!0){const r=e.entries.length,a=t.entries.length;let s;n?s=2e3/4.2:s=2500;const o=a*s,l=Math.ceil(o/2e3),c=l*3,u=Math.floor(c/60),d=c%60;let f;u>0?f=`~${u}m ${d}s`:f=`~${c}s`;let h;l<=20?h="safe":l<=40?h="warning":h="danger";let m;if(n&&r>0){const g=Math.ceil(r*2500/2e3),v=Math.ceil(r*s/2e3);m=`${((g-v)/g*100).toFixed(1)}% fewer codes with compression`}return{originalEntries:r,filteredEntries:a,estimatedQRCodes:l,compressionReduction:m,scanTimeEstimate:f,warningLevel:h}}function aLe(){return{matchRange:{type:"preset",preset:_M()!==null?"fromLastExport":"all"},teams:{selectedTeams:[],includeAll:!0}}}function sLe(e){if(e.matchRange.type==="custom"){const t=e.matchRange.customStart,n=e.matchRange.customEnd;if(t!==void 0&&n!==void 0&&t>n)return{valid:!1,error:"Start match must be less than or equal to end match"};if(t!==void 0&&(t<1||t>200))return{valid:!1,error:"Start match must be between 1 and 200"};if(n!==void 0&&(n<1||n>200))return{valid:!1,error:"End match must be between 1 and 200"}}return{valid:!0}}function iLe({onSelectLead:e,onSelectScout:t}){return i.jsx("div",{className:"min-h-screen w-full flex flex-col items-center px-4 pt-12 pb-24 2xl:pb-6",children:i.jsxs("div",{className:"flex flex-col items-left gap-4 max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"WiFi Transfer"}),i.jsx(Oe,{variant:"secondary",children:"Beta"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Fast peer-to-peer transfer when network available"}),i.jsxs(sr,{className:"w-full",children:[i.jsx(eE,{className:"h-4 w-4"}),i.jsxs(gr,{children:[i.jsx("strong",{children:"Requirements:"})," All devices need internet connection (WiFi or cellular data).",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Limitations:"})," May not work if devices are very far apart or on certain restricted networks. Still in testing.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Best for:"})," Fast bulk transfers at competitions. Lead can send data to multiple scouts at once.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Having trouble connecting?"})," Use the QR Code transfer method instead - it always works!"]})]}),i.jsxs(_e,{className:"w-full",children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Quick Guide"]})}),i.jsxs($e,{className:"text-sm space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-primary",children:"Lead Scout:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2 mt-1",children:[i.jsx("li",{children:"Generate a 6-digit room code"}),i.jsx("li",{children:"Share code with scouts (verbal/text/display)"}),i.jsx("li",{children:"Wait for scouts to join your room"}),i.jsx("li",{children:"Request or push data to connected scouts"}),i.jsx("li",{children:"Push: Send match schedule, scouting data, or profiles"})]})]}),i.jsx(Fr,{}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-primary",children:"Scouts:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2 mt-1",children:[i.jsx("li",{children:"Enter lead's 6-digit room code and connect"}),i.jsx("li",{children:"Approve/decline when lead requests or pushes data"}),i.jsx("li",{children:"Connection persists even when navigating away"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[i.jsxs(X,{onClick:e,className:"w-full h-14 text-lg",size:"lg",children:[i.jsx(ohe,{className:"h-5 w-5 mr-2"}),"I'm the Lead Scout"]}),i.jsxs(X,{onClick:t,variant:"outline",className:"w-full h-14 text-lg",size:"lg",children:[i.jsx(eE,{className:"h-5 w-5 mr-2"}),"I'm a Scout"]})]})]})})}function oLe({receivedData:e,historyCollapsed:t,onToggleCollapse:n,onClearHistory:r,getRelativeTime:a}){const s=()=>{r(),le.success("Transfer history cleared")};return i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:["Transfer History",i.jsx(X,{size:"sm",variant:"ghost",onClick:n,className:"px-2",children:t?i.jsx(Ry,{className:"h-4 w-4"}):i.jsx(eD,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Oe,{variant:"outline",children:[e.filter(o=>{const l=o.data;return l.type!=="declined"&&l.type!=="push-declined"&&l.type!=="pushed"}).length," received"]}),i.jsx(X,{size:"sm",variant:"ghost",onClick:s,title:"Clear history",children:i.jsx(Vs,{className:"h-4 w-4"})})]})]}),i.jsx(zn,{children:"Recent data requests and pushes"})]}),!t&&i.jsx($e,{children:i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.slice().reverse().map((o,l)=>{var f,h,m,g,v,b,y,x,w;const c=o.data;if(c.type==="declined")return i.jsxs("div",{className:"text-sm border-l-2 border-red-500 pl-3 py-1",children:[i.jsxs("p",{className:"font-medium",children:[o.scoutName," declined request"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a(o.timestamp)})]},l);if(c.type==="push-declined")return i.jsxs("div",{className:"text-sm border-l-2 border-yellow-500 pl-3 py-1",children:[i.jsxs("p",{className:"font-medium",children:[o.scoutName," declined push"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.dataType,"  ",a(o.timestamp)]})]},l);if(c.type==="pushed")return i.jsxs("div",{className:"text-sm border-l-2 border-blue-500 pl-3 py-1",children:[i.jsxs("p",{className:"font-medium",children:["Pushed to ",o.scoutName]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.dataType,"  ",a(o.timestamp)]})]},l);const u=o.dataType;let d="";if(u==="scout"){const S=c;d=`${(((f=S.scouts)==null?void 0:f.length)||0)+(((h=S.predictions)==null?void 0:h.length)||0)+(((m=S.achievements)==null?void 0:m.length)||0)} profile items`}else if(u==="match")d=`${((g=c.matches)==null?void 0:g.length)||0} matches`;else if(u==="pit-scouting")d=`${((v=c.entries)==null?void 0:v.length)||0} pit entries`;else if(u==="combined"){const S=((b=c.entries)==null?void 0:b.length)||0,j=c.scoutProfiles,k=(((y=j==null?void 0:j.scouts)==null?void 0:y.length)||0)+(((x=j==null?void 0:j.predictions)==null?void 0:x.length)||0);d=`${S} entries + ${k} profiles`}else d=`${((w=c.entries)==null?void 0:w.length)||0} entries`;return i.jsxs("div",{className:"text-sm border-l-2 border-green-500 pl-3 py-1",children:[i.jsxs("p",{className:"font-medium",children:[o.scoutName,"  ",d]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[u&&`${u}  `,a(o.timestamp)]})]},l)})})})]})}function lLe({dataType:e,onDataTypeChange:t,onRequestData:n,onPushData:r,readyScoutsCount:a,disabled:s=!1}){const o=l=>{switch(l){case"scouting":return"Scouting";case"pit-scouting":return"Pit Scouting";case"match":return"Match";case"scout":return"Scout Profile";case"combined":return"Combined";default:return l}};return i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsx(We,{children:"Data Transfer"}),i.jsx(zn,{children:"Select data type, then request from or push to scouts"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"dataType",children:"Data Type"}),i.jsxs(Br,{value:e,onValueChange:t,children:[i.jsx(Vr,{id:"dataType",children:i.jsx(oa,{placeholder:"Select data type..."})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"scouting",children:"Scouting Data"}),i.jsx(ot,{value:"pit-scouting",children:"Pit Scouting"}),i.jsx(ot,{value:"match",children:"Match Schedule"}),i.jsx(ot,{value:"scout",children:"Scout Profiles"}),i.jsx(ot,{value:"combined",children:"Combined (Scouting + Profiles)"})]})]})]}),i.jsxs(X,{onClick:n,disabled:s||a===0,className:"w-full",size:"lg",children:[i.jsx(No,{className:"h-5 w-5 mr-2"}),"Request ",o(e)," Data (",a," scouts)"]}),i.jsxs(X,{onClick:r,disabled:s||a===0,className:"w-full",variant:"outline",size:"lg",children:[i.jsx(am,{className:"h-5 w-5 mr-2"}),"Push ",o(e)," Data to Scouts"]})]})]})}const hd=(...e)=>{},cLe=e=>{const t=Math.floor((Date.now()-e)/1e3);if(t<60)return"just now";const n=Math.floor(t/60);if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`};function uLe({scout:e,isRequesting:t,receivedData:n,dataType:r,onRequestData:a,onPushData:s,onDisconnect:o,onAddToHistory:l}){var v;const[c,u]=p.useState(!1),d=((v=e.channel)==null?void 0:v.readyState)==="open",f=n.filter(b=>b.scoutName===e.name),h=f[f.length-1],m=!!h,g=async()=>{u(!0);try{hd(" Pushing",r,"data to",e.name);let b;switch(r){case"scouting":{const{loadScoutingData:y}=await Mn(async()=>{const{loadScoutingData:w}=await Promise.resolve().then(()=>d1);return{loadScoutingData:w}},void 0);b={entries:await y(),version:"3.0-maneuver-core",exportedAt:Date.now()};break}case"pit-scouting":{const{loadPitScoutingData:y}=await Mn(async()=>{const{loadPitScoutingData:w}=await Promise.resolve().then(()=>F7);return{loadPitScoutingData:w}},void 0);b={entries:(await y()).entries,version:"3.0-maneuver-core",exportedAt:Date.now()};break}case"match":{const y=localStorage.getItem("matchData");b={matches:y?JSON.parse(y):[]};break}case"scout":{const{gamificationDB:y}=await Mn(async()=>{const{gamificationDB:j}=await Promise.resolve().then(()=>Kv);return{gamificationDB:j}},void 0),x=await y.scouts.toArray(),w=await y.predictions.toArray(),S=await y.scoutAchievements.toArray();b={scouts:x,predictions:w,achievements:S};break}case"combined":{const{loadScoutingData:y}=await Mn(async()=>{const{loadScoutingData:k}=await Promise.resolve().then(()=>d1);return{loadScoutingData:k}},void 0),{gamificationDB:x}=await Mn(async()=>{const{gamificationDB:k}=await Promise.resolve().then(()=>Kv);return{gamificationDB:k}},void 0),[w,S,j]=await Promise.all([y(),x.scouts.toArray(),x.predictions.toArray()]);b={entries:w,metadata:{exportedAt:new Date().toISOString(),version:"1.0",scoutingEntriesCount:w.length,scoutsCount:S.length,predictionsCount:j.length},scoutProfiles:{scouts:S,predictions:j}};break}}s(e.id,b,r),l({scoutName:e.name,data:{type:"pushed",dataType:r},timestamp:Date.now()}),le.info(`Pushed ${r} to ${e.name}`)}catch(b){console.error("Failed to push data:",b),le.error("Failed to push data to "+e.name)}finally{u(!1)}};return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[t?i.jsx(Ba,{className:"h-4 w-4 text-blue-500 animate-spin"}):m?i.jsx(nm,{className:"h-4 w-4 text-green-500"}):d?i.jsx(nm,{className:"h-4 w-4 text-blue-500"}):i.jsx(Uo,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{className:"font-medium",children:e.name})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[t&&i.jsx(Oe,{variant:"outline",className:"text-xs text-blue-600 animate-pulse",children:"Receiving..."}),m&&h&&!t&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last received: ",new Date(h.timestamp).toLocaleTimeString()]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(X,{size:"sm",variant:"default",onClick:()=>a(e.id),disabled:!d||t,children:t?"...":"Request"}),i.jsx(X,{size:"sm",variant:"outline",onClick:g,disabled:!d||c,children:c?"...":"Push"}),i.jsx(X,{size:"sm",variant:"ghost",onClick:()=>o(e.id),className:"px-2",title:"Disconnect scout",children:i.jsx(Wa,{className:"h-4 w-4"})})]})]})}function dLe({roleName:e,roomCode:t,onDisconnect:n}){return i.jsxs(i.Fragment,{children:[i.jsxs(_e,{className:"w-full border-2 border-green-500",children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(nm,{className:"h-5 w-5 text-green-500"}),"Connected as Scout"]}),i.jsx(zn,{children:"Ready to send data when requested"})]}),i.jsx($e,{children:i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-lg font-semibold",children:e}),i.jsx(Oe,{variant:"secondary",className:"mt-2",children:"Ready "}),t&&i.jsxs("div",{className:"mt-4 pt-4 border-t",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Room Code"}),i.jsx("p",{className:"text-2xl font-bold tracking-wider",children:t})]})]})})]}),i.jsx(X,{onClick:n,variant:"destructive",className:"w-full",size:"lg",children:"Disconnect"})]})}function Ud({className:e,...t}){return i.jsx(ZR,{"data-slot":"checkbox",className:De("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(JR,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:i.jsx(Al,{className:"size-3.5"})})})}const fLe=({data:e,filters:t,onFiltersChange:n,onApplyFilters:r,useCompression:a=!0,filteredData:s,hideQRStats:o=!1,hideApplyButton:l=!1})=>{const c=e?nLe(e):[],u=e?L2(e):{min:1,max:1},d=s||e,f=d?L2(d):{min:1,max:1},h=e&&d?rLe(e,d,a):null,m=sLe(t),g=(x,w)=>{const S={...t};S.matchRange.type=x,x==="preset"&&(S.matchRange.preset=w,delete S.matchRange.customStart,delete S.matchRange.customEnd),n(S)},v=(x,w)=>{const S={...t},j=parseInt(w)||void 0;x==="start"?S.matchRange.customStart=j:S.matchRange.customEnd=j,n(S)},b=(x,w)=>{const S={...t};w?S.teams.selectedTeams=[...S.teams.selectedTeams,x]:S.teams.selectedTeams=S.teams.selectedTeams.filter(j=>j!==x),S.teams.includeAll=S.teams.selectedTeams.length===0,n(S)},y=x=>{const w={...t};x?(w.teams.selectedTeams=[],w.teams.includeAll=!0):(w.teams.selectedTeams=c.slice(0,5),w.teams.includeAll=!1),n(w)};return i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{className:"flex flex-col text-base font-medium items-start",children:"Match Range Filter"}),i.jsxs("div",{className:"space-y-2",children:[!o&&h&&d&&i.jsxs(Ft,{className:"flex flex-col text-green-400 text-sm items-start gap-0",children:["Current dataset: ~",h.estimatedQRCodes," QR codes from ",d.entries.length," entries",s&&e&&i.jsxs("span",{className:"text-muted-foreground",children:[" Original: ",e.entries.length," entries"]})]}),i.jsxs("div",{className:"space-y-2",children:[d&&i.jsxs(Ft,{className:"flex flex-col text-green-400 text-sm items-start gap-0",children:[o?"Available data:":"Data range:"," Match ",f.min," - ",f.max," (",d.entries.length," entries)",s&&i.jsxs("span",{className:"text-muted-foreground",children:["Original: Match ",u.min," - ",u.max]})]}),i.jsxs(Br,{value:t.matchRange.type==="preset"?t.matchRange.preset:"custom",onValueChange:x=>{x==="custom"?g("custom"):g("preset",x)},children:[i.jsx(Vr,{children:i.jsx(oa,{placeholder:"Select match range"})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"all",children:"All matches"}),i.jsx(ot,{value:"last10",children:"Last 10 matches"}),i.jsx(ot,{value:"last15",children:"Last 15 matches"}),i.jsx(ot,{value:"last30",children:"Last 30 matches"}),i.jsx(ot,{value:"fromLastExport",children:"From last exported match"}),i.jsx(ot,{value:"custom",children:"Custom range"})]})]}),t.matchRange.type==="preset"&&t.matchRange.preset==="fromLastExport"&&i.jsx("div",{className:"text-xs text-muted-foreground",children:(()=>{const x=_M();return x?`Will include matches from ${x+1} onwards (last export: match ${x})`:"No previous export found - will include all matches"})()}),t.matchRange.type==="custom"&&i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx(Ft,{className:"text-sm",children:"From:"}),i.jsx(en,{type:"number",min:u.min,max:u.max,value:t.matchRange.customStart||"",onChange:x=>v("start",x.target.value),placeholder:u.min.toString(),className:"w-20"}),i.jsx(Ft,{className:"text-sm",children:"To:"}),i.jsx(en,{type:"number",min:u.min,max:u.max,value:t.matchRange.customEnd||"",onChange:x=>v("end",x.target.value),placeholder:u.max.toString(),className:"w-20"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ft,{className:"text-base font-medium",children:"Team Filter"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ud,{id:"select-all-teams",checked:t.teams.includeAll,onCheckedChange:y}),i.jsxs(Ft,{htmlFor:"select-all-teams",className:"text-sm",children:["Include all teams (",c.length," teams)"]})]}),!t.teams.includeAll&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{className:"text-sm text-muted-foreground",children:["Select specific teams (",t.teams.selectedTeams.length," selected):"]}),i.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto border rounded p-2",children:c.map(x=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ud,{id:`team-${x}`,checked:t.teams.selectedTeams.includes(x),onCheckedChange:w=>b(x,w)}),i.jsx(Ft,{htmlFor:`team-${x}`,className:"text-sm",children:x})]},x))})]})]}),!m.valid&&i.jsxs(sr,{variant:"destructive",children:[i.jsx(Ln,{className:"h-4 w-4"}),i.jsx(OC,{children:"Invalid Filter Configuration"}),i.jsx(gr,{children:m.error})]}),!l&&i.jsx(X,{onClick:r,disabled:!m.valid,className:"w-full mt-4",children:s?"Update Filter":"Apply Filters"})]})},hLe=({connectedScouts:e,receivedData:t,dataType:n,setDataType:r,filters:a,allScoutingData:s,historyCollapsed:o,setHistoryCollapsed:l,requestingScouts:c,setRequestingScouts:u,setImportedDataCount:d,onBack:f,onRequestDataFromScout:h,onRequestDataFromAll:m,onPushData:g,onPushDataToScout:v,onDisconnectScout:b,onAddToHistory:y,onClearHistory:x,onFiltersChange:w,onApplyFilters:S})=>i.jsx("div",{className:"h-screen w-full flex flex-col items-center justify-start px-4 pt-12 pb-24 2xl:pb-6 overflow-y-auto",children:i.jsxs("div",{className:"flex flex-col items-start gap-6 max-w-md w-full",children:[i.jsx(X,{onClick:f,variant:"ghost",size:"sm",children:" Change Mode"}),i.jsxs("div",{className:"w-full",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Lead Scout Session"}),i.jsx("p",{className:"text-muted-foreground",children:"Scouts connect using the room code below"})]}),i.jsx(qX,{mode:"lead"}),e.length>0&&i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsx(We,{children:"Filter Data Request (Optional)"}),i.jsx(zn,{children:s&&s.length>0?`Request specific data from scouts  Current dataset: ${s.length} entries`:"Request specific data from scouts"})]}),i.jsx($e,{children:i.jsx(fLe,{data:s&&s.length>0?{entries:s,exportedAt:Date.now(),version:"1.0"}:void 0,filters:a,onFiltersChange:w,onApplyFilters:S,useCompression:!1,hideQRStats:!0,hideApplyButton:!0})})]}),i.jsxs(_e,{className:"w-full",children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Connected Scouts"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{size:"sm",variant:"ghost",onClick:()=>{console.log(" Refreshing connected scouts state"),u(new Set(c))},children:i.jsx(Ul,{className:"h-4 w-4"})}),i.jsxs(Oe,{variant:"secondary",children:[e.length," connected"]})]})]})}),i.jsx($e,{children:e.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx(Uo,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No scouts connected yet"})]}):i.jsx("div",{className:"space-y-2",children:e.map(j=>i.jsx(uLe,{scout:j,isRequesting:c.has(j.id),receivedData:t,dataType:n,onRequestData:k=>{u(N=>new Set(N).add(k)),hd(" Requesting",n,"data from",j.name,"with filters:",a),h(k,a,n)},onPushData:v,onDisconnect:k=>{b(k)},onAddToHistory:y},j.id))})})]}),e.length>0&&i.jsx(lLe,{dataType:n,onDataTypeChange:j=>r(j),readyScoutsCount:e.filter(j=>{var k;return((k=j.channel)==null?void 0:k.readyState)==="open"}).length,onRequestData:()=>{const j=e.filter(k=>{var N;return((N=k.channel)==null?void 0:N.readyState)==="open"});u(new Set(j.map(k=>k.id))),d(t.length),m(a,n)},onPushData:()=>g(n,e)}),t.length>0&&i.jsx(oLe,{receivedData:t,historyCollapsed:o,onToggleCollapse:()=>l(!o),onClearHistory:x,getRelativeTime:cLe})]})}),mLe=({myRole:e,onBack:t,onCancel:n})=>{const r=dD(e)||e,{mode:a,connectionStatus:s,roomCode:o}=ff(),l=a==="scout"&&s.includes("Connected");return i.jsx("div",{className:"h-screen w-full flex flex-col items-center justify-start px-4 pt-12 pb-24 2xl:pb-6 overflow-y-auto",children:i.jsxs("div",{className:"flex flex-col items-start gap-6 max-w-md w-full",children:[i.jsx(X,{onClick:t,variant:"ghost",size:"sm",children:" Change Mode"}),i.jsxs("div",{className:"w-full",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Scout Mode"}),i.jsx("p",{className:"text-muted-foreground",children:"Enter room code below to connect"})]}),i.jsx(qX,{mode:"scout"}),l&&i.jsx(dLe,{roleName:r,roomCode:o,onDisconnect:n})]})})},ij=()=>{const[e,t]=p.useState(null),[n,r]=p.useState(!0);return p.useEffect(()=>{const s=async()=>{try{const l=localStorage.getItem("currentScout");if(l){const c=await bl(l);t(c)}}catch(l){console.error("Error loading current scout:",l)}finally{r(!1)}};s();const o=()=>{s()};return window.addEventListener("storage",o),window.addEventListener("scoutChanged",o),()=>{window.removeEventListener("storage",o),window.removeEventListener("scoutChanged",o)}},[]),{currentScout:e,isLoading:n,refreshScout:async()=>{if(e)try{const{getScout:s}=await Mn(async()=>{const{getScout:l}=await Promise.resolve().then(()=>VH);return{getScout:l}},void 0),o=await s(e.name);o&&t(o)}catch(s){console.error("Error refreshing scout:",s)}}}};function qX({mode:e}){const[t,n]=p.useState(""),[r,a]=p.useState(!1),[s,o]=p.useState(!1),[l,c]=p.useState(30),u=p.useRef(null),d=p.useRef(null),{mode:f,connectionStatus:h,roomCode:m,setRoomCode:g,generateRoomCodeForLead:v,signaling:b}=ff(),{currentScout:y}=ij(),x=localStorage.getItem("playerStation")||"Unknown",w=(y==null?void 0:y.name)||"Scout";p.useEffect(()=>{e==="lead"&&!m&&(console.log(" Lead: Generating room code..."),v())},[e,m,v]);const S=p.useRef(!1);p.useEffect(()=>{f==="select"&&(S.current=!1,n(""),o(!1))},[f]),p.useEffect(()=>{if(e==="scout"&&!t&&!S.current){const E=localStorage.getItem("webrtc_scout_room_code");E&&n(E)}},[e,t]),p.useEffect(()=>{h.includes("Connected")&&(console.log(" Connection established, clearing timeout"),u.current&&(clearTimeout(u.current),u.current=null),d.current&&(clearInterval(d.current),d.current=null),o(!1),c(30))},[h]);const j=()=>{m&&(navigator.clipboard.writeText(m),a(!0),le.success("Room code copied!"),setTimeout(()=>a(!1),2e3))},k=p.useCallback(()=>{localStorage.removeItem("webrtc_scout_room_code"),n(""),S.current=!1,b&&b.leave(),g(null),le.success("Saved room code cleared")},[b,g]),N=p.useCallback(async()=>{if(!t.trim()||!b){le.error("Please enter a room code");return}o(!0),c(30),u.current&&clearTimeout(u.current),d.current&&clearInterval(d.current);try{localStorage.setItem("webrtc_scout_room_code",t),g(t),le.success(`Joining room ${t}...`),d.current=setInterval(()=>{c(E=>E<=1?(d.current&&(clearInterval(d.current),d.current=null),0):E-1)},1e3),u.current=setTimeout(async()=>{console.log(" Lead scout not found in room - timeout fired"),le.error("Lead scout not found in room. Make sure lead has the page open."),o(!1),c(30),d.current&&(clearInterval(d.current),d.current=null),b&&(console.log(" Leaving signaling room after timeout"),await b.leave()),g(null)},3e4)}catch(E){console.error("Failed to join room:",E),le.error("Failed to join room"),o(!1),c(30),d.current&&(clearInterval(d.current),d.current=null)}},[t,b,g]);if(p.useEffect(()=>{e==="scout"&&t&&!s&&b&&!b.connected&&!S.current&&localStorage.getItem("webrtc_scout_room_code")===t&&(console.log(" Component: Auto-joining with UI feedback"),S.current=!0,setTimeout(()=>{N()},500))},[e,t,s,b,N]),e==="lead")return i.jsxs(_e,{className:"w-full max-w-md mx-auto",children:[i.jsxs(Ge,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(We,{children:"Room Code"}),b!=null&&b.connected?i.jsxs(Oe,{variant:"default",className:"gap-1",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Room Active"]}):i.jsxs(Oe,{variant:"secondary",children:[i.jsx(Ba,{className:"h-3 w-3 animate-spin mr-1"}),"Starting Room..."]})]}),i.jsx(zn,{children:"Share this code with scouts to connect"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 p-4 bg-primary/10 rounded-lg text-center",children:i.jsx("div",{className:"text-3xl font-bold tracking-wider text-primary",children:m})}),i.jsx(X,{variant:"outline",size:"icon",onClick:j,title:"Copy room code",children:r?i.jsx(Al,{className:"h-4 w-4"}):i.jsx(wde,{className:"h-4 w-4"})})]}),i.jsx(X,{variant:"outline",size:"sm",onClick:()=>{v(),le.success("New room code generated")},className:"w-full text-xs",children:"Generate New Code"})]})]});const P=f==="scout"&&h.includes("Connected");return e==="scout"&&P?null:i.jsxs(_e,{className:"w-full max-w-md mx-auto",children:[i.jsxs(Ge,{children:[i.jsx(We,{children:"Join Room"}),i.jsx(zn,{children:"Enter the 6-digit room code from your lead scout"}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsx(Oe,{variant:"secondary",children:w}),i.jsx(Oe,{variant:"outline",children:x})]})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Room Code"}),t&&i.jsx(X,{variant:"ghost",size:"sm",onClick:k,className:"h-auto py-1 px-2 text-xs",children:"Clear Saved"})]}),i.jsx(en,{placeholder:"e.g., 582943",value:t,onChange:E=>{const R=E.target.value.replace(/\D/g,"").slice(0,6);n(R)},onKeyDown:E=>{E.key==="Enter"&&t.length===6&&!(s&&(b!=null&&b.connected))&&N()},disabled:s&&(b==null?void 0:b.connected),className:"text-center text-3xl font-bold tracking-wider",maxLength:6,inputMode:"numeric"})]}),i.jsx(X,{className:"w-full",onClick:N,disabled:t.length!==6||s&&(b==null?void 0:b.connected),children:s&&(b!=null&&b.connected)?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 animate-spin mr-2"}),b.connected?"Establishing Connection...":"Connecting..."]}):"Join Room"}),s&&l>0&&i.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Waiting for lead scout... (",l,"s)"]}),(b==null?void 0:b.error)&&i.jsx("p",{className:"text-sm text-destructive",children:b.error})]})]})}const oy=N_e,pLe=k_e,HX=p.forwardRef(({className:e,...t},n)=>i.jsx(RZ,{className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));HX.displayName=RZ.displayName;const xm=p.forwardRef(({className:e,...t},n)=>i.jsxs(pLe,{children:[i.jsx(HX,{}),i.jsx(MZ,{ref:n,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));xm.displayName=MZ.displayName;const bm=({className:e,...t})=>i.jsx("div",{className:De("flex flex-col space-y-2 text-center sm:text-left",e),...t});bm.displayName="AlertDialogHeader";const oj=({className:e,...t})=>i.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});oj.displayName="AlertDialogFooter";const wm=p.forwardRef(({className:e,...t},n)=>i.jsx(LZ,{ref:n,className:De("text-lg font-semibold",e),...t}));wm.displayName=LZ.displayName;const Sm=p.forwardRef(({className:e,...t},n)=>i.jsx($Z,{ref:n,className:De("text-sm text-muted-foreground",e),...t}));Sm.displayName=$Z.displayName;const lj=p.forwardRef(({className:e,...t},n)=>i.jsx(IZ,{ref:n,className:De(e1(),e),...t}));lj.displayName=IZ.displayName;const DM=p.forwardRef(({className:e,...t},n)=>i.jsx(OZ,{ref:n,className:De(e1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));DM.displayName=OZ.displayName;function gLe({open:e,onOpenChange:t,errorMessage:n}){return i.jsx(oy,{open:e,onOpenChange:t,children:i.jsxs(xm,{children:[i.jsxs(bm,{children:[i.jsx(wm,{children:"Error"}),i.jsx(Sm,{className:"whitespace-pre-wrap",children:n})]}),i.jsx(oj,{children:i.jsx(lj,{className:"p-2",onClick:()=>t(!1),children:"OK"})})]})})}const Hf=(...e)=>{};function vLe({addToReceivedData:e,pushDataToAll:t}){const n=p.useCallback(async a=>{switch(a){case"scouting":{const{loadScoutingData:s}=await Mn(async()=>{const{loadScoutingData:l}=await Promise.resolve().then(()=>d1);return{loadScoutingData:l}},void 0),o=await s();return Hf("Loaded scouting data:",o.length,"entries"),{entries:o,version:"3.0-maneuver-core",exportedAt:Date.now()}}case"pit-scouting":{const{loadPitScoutingData:s}=await Mn(async()=>{const{loadPitScoutingData:l}=await Promise.resolve().then(()=>F7);return{loadPitScoutingData:l}},void 0),o=await s();return Hf("Loaded pit scouting data:",o.entries.length,"entries"),{entries:o.entries,version:"3.0-maneuver-core",exportedAt:Date.now()}}case"match":{const s=localStorage.getItem("matchData"),o=s?JSON.parse(s):[];return Hf("Loaded match data:",Array.isArray(o)?o.length:0,"matches"),{matches:o}}case"scout":{const{gamificationDB:s}=await Mn(async()=>{const{gamificationDB:u}=await Promise.resolve().then(()=>Kv);return{gamificationDB:u}},void 0),o=await s.scouts.toArray(),l=await s.predictions.toArray(),c=await s.scoutAchievements.toArray();return Hf("Loaded scout profiles:",o.length,"scouts"),{scouts:o,predictions:l,achievements:c}}case"combined":{const{loadScoutingData:s}=await Mn(async()=>{const{loadScoutingData:f}=await Promise.resolve().then(()=>d1);return{loadScoutingData:f}},void 0),{gamificationDB:o}=await Mn(async()=>{const{gamificationDB:f}=await Promise.resolve().then(()=>Kv);return{gamificationDB:f}},void 0),[l,c,u]=await Promise.all([s(),o.scouts.toArray(),o.predictions.toArray()]),d={entries:l,metadata:{exportedAt:new Date().toISOString(),version:"1.0",scoutingEntriesCount:l.length,scoutsCount:c.length,predictionsCount:u.length},scoutProfiles:{scouts:c,predictions:u}};return Hf("Loaded combined data:",{scouting:l.length,scouts:c.length,predictions:u.length}),d}default:throw new Error(`Unknown data type: ${a}`)}},[]);return{pushData:p.useCallback(async(a,s)=>{try{Hf(" Pushing",a,"data to all scouts");const o=await n(a);t(o,a);const l=s.filter(c=>{var u;return((u=c.channel)==null?void 0:u.readyState)==="open"});l.forEach(c=>{e({scoutName:c.name,data:{type:"pushed",dataType:a},timestamp:Date.now()})}),le.success(`Pushed ${a} data to ${l.length} scouts`)}catch(o){console.error("Failed to push data:",o),le.error("Failed to push data: "+(o instanceof Error?o.message:"Unknown error"))}},[n,t,e]),loadDataByType:n}}function yLe(e){const{receivedData:t,importedDataCount:n,setImportedDataCount:r,connectedScouts:a,setRequestingScouts:s,setBatchReviewEntries:o,setPendingConflicts:l,setShowBatchDialog:c,setCurrentConflicts:u,setCurrentConflictIndex:d,setConflictResolutions:f,setShowConflictDialog:h,setErrorMessage:m,setShowErrorDialog:g}=e,v=p.useCallback(async w=>{const{gamificationDB:S}=await Mn(async()=>{const{gamificationDB:k}=await Promise.resolve().then(()=>Kv);return{gamificationDB:k}},void 0);let j=0;return w.scouts&&Array.isArray(w.scouts)&&(await S.scouts.bulkPut(w.scouts),j+=w.scouts.length,console.log(` Imported ${w.scouts.length} scouts`)),w.predictions&&Array.isArray(w.predictions)&&(await S.predictions.bulkPut(w.predictions),j+=w.predictions.length,console.log(` Imported ${w.predictions.length} predictions`)),w.achievements&&Array.isArray(w.achievements)&&(await S.scoutAchievements.bulkPut(w.achievements),j+=w.achievements.length,console.log(` Imported ${w.achievements.length} achievements`)),j},[]),b=p.useCallback(async(w,S)=>{w.matches&&Array.isArray(w.matches)&&(localStorage.setItem("matchData",JSON.stringify(w.matches)),le.success(`Imported ${w.matches.length} matches from ${S}`))},[]),y=p.useCallback(async(w,S)=>{if(w.entries&&Array.isArray(w.entries)){const{pitDB:j}=await Mn(async()=>{const{pitDB:k}=await Promise.resolve().then(()=>Vi);return{pitDB:k}},void 0);await j.pitScoutingData.bulkPut(w.entries),le.success(`Imported ${w.entries.length} pit scouting entries from ${S}`)}},[]),x=p.useCallback(async(w,S)=>{console.log(" Incoming data count:",w.length),console.log(" Sample entry:",w[0]);const j=w[0];j&&console.log(" Key fields check:",{hasId:!!j.id,hasMatchNumber:"matchNumber"in j,hasTeamNumber:"teamNumber"in j,hasAlliance:"allianceColor"in j,hasEventKey:"eventKey"in j});const{db:k}=await Mn(async()=>{const{db:z}=await Promise.resolve().then(()=>Vi);return{db:z}},void 0),N=await k.scoutingData.count();console.log(" Local database count BEFORE import:",N);const P=performance.now(),E=await MR(w),R=performance.now();hd(` Conflict detection took ${(R-P).toFixed(2)}ms`),console.log(" Conflict detection results:",{autoImport:E.autoImport.length,autoReplace:E.autoReplace.length,batchReview:E.batchReview.length,conflicts:E.conflicts.length});const{saveScoutingEntry:O}=await Mn(async()=>{const{saveScoutingEntry:z}=await Promise.resolve().then(()=>Vi);return{saveScoutingEntry:z}},void 0),G={added:0,replaced:0,conflictsToReview:0};if(E.autoImport.length>0){for(const z of E.autoImport)await O(z);G.added=E.autoImport.length}if(E.autoReplace.length>0){for(const z of E.autoReplace){const $=z.matchNumber,U=z.teamNumber,M=z.allianceColor,F=z.eventKey,W=await k.scoutingData.toArray().then(Z=>Z.find(H=>H.matchNumber===$&&H.teamNumber===U&&H.allianceColor===M&&H.eventKey===F));W&&await k.scoutingData.delete(W.id),await O(z)}G.replaced=E.autoReplace.length}if(E.batchReview.length>0)return o(E.batchReview),l(E.conflicts),c(!0),le.success(`Imported ${G.added} new entries, Replaced ${G.replaced} existing entries. ${E.batchReview.length} duplicates need review.`),{needsUserAction:!0};if(E.conflicts.length>0)return G.conflictsToReview=E.conflicts.length,u(E.conflicts),d(0),f(new Map),le.success(`Imported ${G.added} new entries, Replaced ${G.replaced} existing entries. ${G.conflictsToReview} conflicts need review.`),h(!0),{needsUserAction:!0};console.log(` SUCCESS: Imported ${S}'s data (${w.length} entries) into database`);const te=G.added+G.replaced+G.conflictsToReview,V=w.length-te;return V>0&&te===0?le.info(`All ${V} entries from ${S} already exist (skipped as duplicates)`):V>0?le.success(`Import complete! ${G.added} new, ${G.replaced} replaced, ${V} duplicates skipped.`):le.success(`Import complete! ${G.added} new entries, ${G.replaced} entries replaced.`),{needsUserAction:!1}},[o,l,c,u,d,f,h]);p.useEffect(()=>{var w;if(t.length>n){const S=t[t.length-1];if(!S){r(t.length);return}const j=S.data;if(j.type==="declined"){le.error(`${S.scoutName} declined the data request`),r(t.length);return}if(j.type==="push-declined"){const R=j.dataType||"data";le.warning(`${S.scoutName} declined pushed ${R}`),r(t.length);return}if(j.type==="pushed"){hd(` Push confirmation logged for ${S.scoutName}`),r(t.length);return}const k=S.data,N=S.dataType;console.log(` Received data from ${S.scoutName}, type: ${N}:`,k),console.log("Received data size:",JSON.stringify(k).length,"characters");const P=(w=a.find(R=>R.name===S.scoutName))==null?void 0:w.id;P&&s(R=>{const O=new Set(R);return O.delete(P),O}),(async()=>{hd(` Attempting to import ${N} data from ${S.scoutName}...`);try{if(N==="scout"){const V=await v(k);V>0?le.success(`Imported ${V} scout profile items from ${S.scoutName}`):le.warning(`No scout profile data to import from ${S.scoutName}`),r(t.length);return}if(N==="match"){await b(k,S.scoutName),r(t.length);return}if(N==="pit-scouting"){await y(k,S.scoutName),r(t.length);return}const R=k,O=R.entries;if(!O){console.error("No valid entries found in received data"),le.error(`Invalid data structure from ${S.scoutName}`),r(t.length);return}if(N==="combined"&&R.scoutProfiles){const te=await v(R.scoutProfiles);console.log(` Combined data: imported ${te} profile items`)}(await x(O,S.scoutName)).needsUserAction,r(t.length)}catch(R){console.error(` FAILED to import data from ${S.scoutName}:`,R),m(`Failed to import data from ${S.scoutName}: ${R instanceof Error?R.message:"Unknown error"}`),g(!0)}})()}},[t,n,a,r,s,v,b,y,x,m,g])}const xLe=()=>{const{mode:e,setMode:t,signaling:n}=ff(),r=e,a=t,[s,o]=p.useState(0),[l,c]=p.useState(new Set),[u,d]=p.useState(!1),[f,h]=p.useState(aLe()),[m,g]=p.useState(null),[v,b]=p.useState("scouting"),[y,x]=p.useState(!1),[w,S]=p.useState(""),[j,k]=p.useState(!1),[N,P]=p.useState([]),[E,R]=p.useState([]),{showConflictDialog:O,setShowConflictDialog:G,currentConflicts:te,setCurrentConflicts:V,currentConflictIndex:z,setCurrentConflictIndex:$,setConflictResolutions:U,handleConflictResolution:M,handleBatchResolve:F,handleUndo:W,canUndo:Z,handleBatchReviewDecision:H,isProcessing:ae}=TM(),fe=localStorage.getItem("playerStation")||"unknown",{connectedScouts:we,receivedData:Pe,clearReceivedData:me,addToReceivedData:Ue,shouldAttemptReconnect:ne,setShouldAttemptReconnect:je,requestDataFromScout:ve,requestDataFromAll:re,pushDataToAll:Ye,pushDataToScout:Fe,disconnectScout:Je,reset:Le}=eLe(),{pushData:lt}=vLe({addToReceivedData:Ue,pushDataToAll:Ye});yLe({receivedData:Pe,importedDataCount:s,setImportedDataCount:o,connectedScouts:we,setRequestingScouts:c,setBatchReviewEntries:P,setPendingConflicts:R,setShowBatchDialog:k,setCurrentConflicts:V,setCurrentConflictIndex:$,setConflictResolutions:U,setShowConflictDialog:G,setErrorMessage:S,setShowErrorDialog:x}),p.useEffect(()=>{var rt;if(Pe.length>s){const Rt=Pe[Pe.length-1];if(!Rt)return;const zt=(rt=we.find(Pt=>Pt.name===Rt.scoutName))==null?void 0:rt.id;zt&&l.has(zt)&&(hd(` Clearing requesting state for ${Rt.scoutName}`),c(Pt=>{const It=new Set(Pt);return It.delete(zt),It}))}},[Pe,s,we,l]),p.useEffect(()=>{r==="lead"&&Yi().then(rt=>g(rt)).catch(rt=>{console.error("Failed to load scouting data for filter preview:",rt)})},[r]);const ct=rt=>{h(rt)},be=()=>{},Ce=async rt=>{const Rt=await H(N,E,rt);hd(` hasMoreConflicts: ${Rt.hasMoreConflicts}`),k(!1),Rt.hasMoreConflicts||(P([]),R([]),me(),o(0))};p.useEffect(()=>{const rt=()=>{le.error("Lead has disconnected you"),Le(),a("select")};return window.addEventListener("webrtc-disconnected-by-lead",rt),()=>{window.removeEventListener("webrtc-disconnected-by-lead",rt)}},[Le,a]);const oe=p.useRef(r);p.useEffect(()=>{r==="select"&&oe.current!=="select"&&Le(),oe.current=r},[r]),p.useEffect(()=>{if(ne&&r==="scout"){const rt=localStorage.getItem("webrtc_scout_room_code");rt?(console.log(" Connection lost. Will auto-rejoin room:",rt),le.info(`Connection lost. Rejoining room ${rt}...`,{duration:3e3}),n!=null&&n.connected&&(console.log(" Sending new join message after connection loss"),n.join())):(console.log(" Connection lost. No saved room code."),le.info("Connection lost. Please rejoin the room code to reconnect.",{duration:5e3}),a("select"),Le()),je(!1)}},[ne,r,je,Le,a,n]);const xt=()=>r==="select"?i.jsx(iLe,{onSelectLead:()=>{a("lead")},onSelectScout:()=>a("scout")}):r==="lead"?i.jsx(hLe,{connectedScouts:we,receivedData:Pe,dataType:v,setDataType:b,filters:f,allScoutingData:m,historyCollapsed:u,setHistoryCollapsed:d,requestingScouts:l,setRequestingScouts:c,setImportedDataCount:o,onBack:()=>a("select"),onRequestDataFromScout:ve,onRequestDataFromAll:re,onPushData:lt,onPushDataToScout:Fe,onDisconnectScout:rt=>{var Rt;Je(rt),le.info(`Disconnected ${(Rt=we.find(zt=>zt.id===rt))==null?void 0:Rt.name}`)},onAddToHistory:Ue,onClearHistory:me,onFiltersChange:ct,onApplyFilters:be}):r==="scout"?i.jsx(mLe,{myRole:fe,onBack:()=>a("select"),onCancel:()=>{Le(),a("select")}}):null;return i.jsxs(i.Fragment,{children:[xt(),i.jsx(gLe,{open:y,onOpenChange:x,errorMessage:w}),i.jsx(E1,{isOpen:j,entries:N,onResolve:Ce,isProcessing:ae}),i.jsx(P1,{open:O,onOpenChange:G,conflict:te[z]||null,currentIndex:z,totalConflicts:te.length,onResolve:M,onBatchResolve:F,onUndo:W,canUndo:Z,isProcessing:ae})]})},bLe=()=>{const[e,t]=p.useState("select"),[n,r]=p.useState("scouting"),[a,s]=p.useState(!1),[o,l]=p.useState([]),[c,u]=p.useState([]),{showConflictDialog:d,setShowConflictDialog:f,currentConflicts:h,setCurrentConflicts:m,currentConflictIndex:g,setCurrentConflictIndex:v,setConflictResolutions:b,handleConflictResolution:y,handleBatchResolve:x,handleUndo:w,canUndo:S,handleBatchReviewDecision:j}=TM(),k=async $=>{await y($),g>=h.length-1&&t("select")},N=async $=>{await x($),t("select")},P=async $=>{(await j(o,c,$)).hasMoreConflicts?s(!1):(s(!1),l([]),u([]),t("select"))},E=p.useCallback(async $=>{const U=$;if(!U.entries||!Array.isArray(U.entries)){le.error("Invalid scouting data format");return}const M=await O2({entries:U.entries,version:U.version||"3.0-maneuver-core",exportedAt:U.exportedAt||Date.now()},"smart-merge");if(M.hasBatchReview&&M.batchReviewEntries){l(M.batchReviewEntries),u(M.conflicts||[]),s(!0);return}if(M.hasConflicts&&M.conflicts){m(M.conflicts),v(0),b(new Map),f(!0);return}t("select")},[m,v,b,f]),O={scouting:{loadData:async()=>await UE(),saveData:E,validateData:$=>{const U=$;return!!(U.entries&&Array.isArray(U.entries))},getDataSummary:$=>{var M;return`${((M=$.entries)==null?void 0:M.length)||0} scouting entries`},title:"Scouting Data",description:"Transfer match scouting data between devices",noDataMessage:"No scouting data found. Scout some matches first!",completionMessage:"Scouting data imported successfully!",expectedPacketType:"scouting_fountain_packet"},"pit-scouting":{loadData:async()=>({entries:(await Zm()).entries.map(M=>{const{robotPhoto:F,...W}=M;return W}),version:"3.0-maneuver-core",exportedAt:Date.now()}),saveData:async $=>{const U=$;U.entries&&Array.isArray(U.entries)&&(await Hs.pitScoutingData.bulkPut(U.entries),le.success(`Successfully imported ${U.entries.length} pit scouting entries`))},validateData:$=>{const U=$;return!!(U.entries&&Array.isArray(U.entries))},getDataSummary:$=>{var M;return`${((M=$.entries)==null?void 0:M.length)||0} pit scouting entries (text only, no images)`},title:"Pit Scouting Data",description:"Transfer pit scouting data (text only, no images)",noDataMessage:"No pit scouting data found. Complete some pit scouting first!",completionMessage:"Pit scouting data imported successfully!",expectedPacketType:"pit-scouting_fountain_packet"},match:{loadData:async()=>{const $=localStorage.getItem("matchData");return{matches:$?JSON.parse($):[]}},saveData:async $=>{const U=$;U.matches&&Array.isArray(U.matches)&&(localStorage.setItem("matchData",JSON.stringify(U.matches)),le.success(`Successfully imported ${U.matches.length} matches`))},validateData:$=>{const U=$;return!!(U.matches&&Array.isArray(U.matches))},getDataSummary:$=>{var M;return`${((M=$.matches)==null?void 0:M.length)||0} matches`},title:"Match Schedule",description:"Transfer match schedule data between devices",noDataMessage:"No match data found. Load a schedule first!",completionMessage:"Match schedule imported successfully!",expectedPacketType:"match_fountain_packet"},scout:{loadData:async()=>{const $=await st.scouts.toArray(),U=await st.predictions.toArray(),M=await st.scoutAchievements.toArray();return{scouts:$,predictions:U,achievements:M}},saveData:async $=>{const U=$;let M=0;if(U.scouts)for(const F of U.scouts)await st.scouts.put(F),M++;if(U.predictions)for(const F of U.predictions)await st.predictions.put(F);if(U.achievements)for(const F of U.achievements)await st.scoutAchievements.put(F);le.success(`Successfully imported ${M} scout profiles`)},validateData:$=>{const U=$;return!!(U.scouts&&Array.isArray(U.scouts))},getDataSummary:$=>{var M,F;const U=$;return`${((M=U.scouts)==null?void 0:M.length)||0} scouts, ${((F=U.predictions)==null?void 0:F.length)||0} predictions`},title:"Scout Profiles",description:"Transfer scout profiles and achievements",noDataMessage:"No scout profiles found. Create some scout profiles first!",completionMessage:"Scout profiles imported successfully!",expectedPacketType:"scout_fountain_packet"},combined:{loadData:async()=>{const $=await UE(),U=await st.scouts.toArray(),M=await st.predictions.toArray();return{entries:$.entries,scoutProfiles:{scouts:U,predictions:M},metadata:{exportedAt:new Date().toISOString(),version:"3.0-maneuver-core"}}},saveData:async $=>{var M,F;const U=$;if(U.entries&&Array.isArray(U.entries)){const W=await O2({entries:U.entries,version:"3.0-maneuver-core",exportedAt:Date.now()},"smart-merge");W.hasBatchReview&&W.batchReviewEntries?(l(W.batchReviewEntries),u(W.conflicts||[]),s(!0)):W.hasConflicts&&W.conflicts&&(m(W.conflicts),v(0),b(new Map),f(!0))}if((M=U.scoutProfiles)!=null&&M.scouts)for(const W of U.scoutProfiles.scouts)await st.scouts.put(W);if((F=U.scoutProfiles)!=null&&F.predictions)for(const W of U.scoutProfiles.predictions)await st.predictions.put(W)},validateData:$=>{const U=$;return!!(U.entries&&Array.isArray(U.entries))},getDataSummary:$=>{var W,Z,H;const U=$,M=((W=U.entries)==null?void 0:W.length)||0,F=((H=(Z=U.scoutProfiles)==null?void 0:Z.scouts)==null?void 0:H.length)||0;return`${M} entries, ${F} scout profiles`},title:"Combined Data",description:"Transfer scouting data and scout profiles together",noDataMessage:"No data found. Scout some matches or create profiles first!",completionMessage:"Combined data imported successfully!",expectedPacketType:"combined_fountain_packet"}}[n],G=p.useCallback(()=>O.loadData(),[O]),te=p.useCallback($=>O.saveData($),[O]),V=p.useCallback($=>O.validateData($),[O]),z=p.useCallback($=>O.getDataSummary($),[O]);return e==="generate"?i.jsx(o2e,{onBack:()=>t("select"),onSwitchToScanner:()=>t("scan"),dataType:n,loadData:G,title:O.title,description:O.description,noDataMessage:O.noDataMessage}):e==="scan"?i.jsxs(i.Fragment,{children:[i.jsx(jTe,{onBack:()=>t("select"),onSwitchToGenerator:()=>t("generate"),dataType:n,expectedPacketType:O.expectedPacketType,saveData:te,validateData:V,getDataSummary:z,title:O.title,description:O.description,completionMessage:O.completionMessage}),i.jsx(E1,{isOpen:a,entries:o,onResolve:P}),i.jsx(P1,{open:d,onOpenChange:f,conflict:h[g]||null,currentIndex:g,totalConflicts:h.length,onResolve:k,onBatchResolve:N,onUndo:w,canUndo:S})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-screen w-full flex flex-col items-center px-4 pt-12 pb-24",children:i.jsxs("div",{className:"flex flex-col items-start gap-4 max-w-md w-full",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"QR Data Transfer"}),i.jsx("p",{className:"text-muted-foreground",children:"Transfer large data files using fountain codes. Scan packets in any order until reconstruction is complete. Note: Pit scouting transfers include text data only - use JSON transfer for images."}),i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsx(We,{className:"text-lg",children:"Select Data Type"}),i.jsx(zn,{children:"Choose what type of data you want to transfer"})]}),i.jsx($e,{children:i.jsxs(Br,{value:n,onValueChange:$=>r($),children:[i.jsx(Vr,{className:"w-full",children:i.jsx(oa,{placeholder:"Select data type"})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"combined",children:"Combined (Scouting + Profiles)"}),i.jsx(ot,{value:"scouting",children:"Scouting Data"}),i.jsx(ot,{value:"pit-scouting",children:"Pit Scouting Data (no images)"}),i.jsx(ot,{value:"match",children:"Match Schedule Data"}),i.jsx(ot,{value:"scout",children:"Scout Profiles"})]})]})})]}),i.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[i.jsx(X,{onClick:()=>t("generate"),className:"w-full h-16 text-xl",children:"Generate Fountain Codes"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Fr,{className:"flex-1"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"OR"}),i.jsx(Fr,{className:"flex-1"})]}),i.jsx(X,{onClick:()=>t("scan"),variant:"outline",className:"w-full h-16 text-xl",children:"Scan Fountain Codes"})]}),i.jsxs("div",{className:"text-xs text-muted-foreground text-start space-y-1",children:[i.jsx("p",{children:" Codes can be scanned in any order"}),i.jsx("p",{children:" No need to receive all codes"}),i.jsx("p",{children:" Automatic reconstruction when enough data is received"}),i.jsx("p",{children:" Smart merge with conflict detection for scouting data"}),i.jsx("p",{children:" Use JSON or Wifi Data Transfer for robot photos"})]})]})}),i.jsx(E1,{isOpen:a,entries:o,onResolve:P}),i.jsx(P1,{open:d,onOpenChange:f,conflict:h[g]||null,currentIndex:g,totalConflicts:h.length,onResolve:k,onBatchResolve:N,onUndo:w,canUndo:S})]})},YX=p.createContext(void 0);function wLe(){const e=p.useContext(YX);if(!e)throw new Error("useMotionHighlight must be used within a MotionHighlightProvider");return e}function SLe({ref:e,...t}){const{children:n,value:r,defaultValue:a,onValueChange:s,className:o,transition:l={type:"spring",stiffness:350,damping:35},hover:c=!1,enabled:u=!0,controlledItems:d,disabled:f=!1,exitDelay:h=.2,mode:m="children"}=t,g=p.useRef(null);p.useImperativeHandle(e,()=>g.current);const[v,b]=p.useState(r??a??null),[y,x]=p.useState(null),[w,S]=p.useState(""),j=p.useCallback(R=>{b(O=>O===R?O:R),R!==v&&(s==null||s(R))},[v,s]),k=p.useCallback(R=>{if(!g.current)return;const O=(t==null?void 0:t.boundsOffset)??{top:0,left:0,width:0,height:0},G=g.current.getBoundingClientRect(),te={top:R.top-G.top+(O.top??0),left:R.left-G.left+(O.left??0),width:R.width+(O.width??0),height:R.height+(O.height??0)};x(V=>V&&V.top===te.top&&V.left===te.left&&V.width===te.width&&V.height===te.height?V:te)},[t]),N=p.useCallback(()=>{x(R=>R===null?R:null)},[]);p.useEffect(()=>{r!==void 0?b(r):a!==void 0&&b(a)},[r,a]);const P=p.useId();p.useEffect(()=>{if(m!=="parent")return;const R=g.current;if(!R)return;const O=()=>{if(!v)return;const G=R.querySelector(`[data-value="${v}"][data-highlight="true"]`);G&&k(G.getBoundingClientRect())};return R.addEventListener("scroll",O,{passive:!0}),()=>R.removeEventListener("scroll",O)},[m,v,k]);const E=p.useCallback(R=>m==="parent"?i.jsxs("div",{ref:g,"data-slot":"motion-highlight-container",className:De("relative",t==null?void 0:t.containerClassName),children:[i.jsx(fd,{initial:!1,children:y&&i.jsx($a.div,{"data-slot":"motion-highlight",animate:{top:y.top,left:y.left,width:y.width,height:y.height,opacity:1},initial:{top:y.top,left:y.left,width:y.width,height:y.height,opacity:0},exit:{opacity:0,transition:{...l,delay:((l==null?void 0:l.delay)??0)+(h??0)}},transition:l,className:De("absolute bg-muted z-0",o,w)})}),R]}):R,[m,t,y,l,h,o,w]);return i.jsx(YX.Provider,{value:{mode:m,activeValue:v,setActiveValue:j,id:P,hover:c,className:o,transition:l,disabled:f,enabled:u,exitDelay:h,setBounds:k,clearBounds:N,activeClassName:w,setActiveClassName:S,forceUpdateBounds:t==null?void 0:t.forceUpdateBounds},children:u?E(d?n:p.Children.map(n,(R,O)=>i.jsx(QX,{className:t==null?void 0:t.itemsClassName,children:R},O))):n})}function vA(e,t){return Object.keys(t).reduce((n,r)=>(e.props[r]===void 0&&(n[r]=t[r]),n),{})}function QX({ref:e,children:t,id:n,value:r,className:a,transition:s,disabled:o=!1,activeClassName:l,exitDelay:c,asChild:u=!1,forceUpdateBounds:d,...f}){var F,W;const h=p.useId(),{activeValue:m,setActiveValue:g,mode:v,setBounds:b,clearBounds:y,hover:x,enabled:w,className:S,transition:j,id:k,disabled:N,exitDelay:P,forceUpdateBounds:E,setActiveClassName:R}=wLe(),O=t,G=n??r??((F=O.props)==null?void 0:F["data-value"])??((W=O.props)==null?void 0:W.id)??h,te=m===G,V=o===void 0?N:o,z=s??j,$=p.useRef(null);if(p.useImperativeHandle(e,()=>$.current),p.useEffect(()=>{if(v!=="parent")return;let Z,H=null;const ae=d===!0||E&&d!==!1,fe=()=>{if(!$.current)return;const we=$.current.getBoundingClientRect();if(ae){if(H&&H.top===we.top&&H.left===we.left&&H.width===we.width&&H.height===we.height){Z=requestAnimationFrame(fe);return}H=we,Z=requestAnimationFrame(fe)}b(we)};if(te?(fe(),R(l??"")):m||y(),ae)return()=>cancelAnimationFrame(Z)},[v,te,m,b,y,l,R,d,E]),!p.isValidElement(t))return t;const U={"data-active":te?"true":"false","aria-selected":te,"data-disabled":V,"data-value":G,"data-highlight":!0},M=x?{onMouseEnter:Z=>{var H,ae;g(G),(ae=(H=O.props).onMouseEnter)==null||ae.call(H,Z)},onMouseLeave:Z=>{var H,ae;g(null),(ae=(H=O.props).onMouseLeave)==null||ae.call(H,Z)}}:{onClick:Z=>{var H,ae;g(G),(ae=(H=O.props).onClick)==null||ae.call(H,Z)}};return u?v==="children"?p.cloneElement(O,{key:G,ref:$,className:De("relative",O.props.className),...vA(O,{...U,"data-slot":"motion-highlight-item-container"}),...M,...f},i.jsxs(i.Fragment,{children:[i.jsx(fd,{initial:!1,children:te&&!V&&i.jsx($a.div,{layoutId:`transition-background-${k}`,"data-slot":"motion-highlight",className:De("absolute inset-0 bg-muted z-0",S,l),transition:z,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...z,delay:((z==null?void 0:z.delay)??0)+(c??P??0)}},...U})}),i.jsx("div",{"data-slot":"motion-highlight-item",className:De("relative z-[1]",a),...U,children:t})]})):p.cloneElement(O,{ref:$,...vA(O,{...U,"data-slot":"motion-highlight-item"}),...M}):w?i.jsxs("div",{ref:$,"data-slot":"motion-highlight-item-container",className:De(v==="children"&&"relative",a),...U,...f,...M,children:[v==="children"&&i.jsx(fd,{initial:!1,children:te&&!V&&i.jsx($a.div,{layoutId:`transition-background-${k}`,"data-slot":"motion-highlight",className:De("absolute inset-0 bg-muted z-0",S,l),transition:z,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...z,delay:((z==null?void 0:z.delay)??0)+(c??P??0)}},...U})}),p.cloneElement(O,{className:De("relative z-[1]",O.props.className),...vA(O,{...U,"data-slot":"motion-highlight-item"})})]},G):t}function pu({className:e,enableSwipe:t=!1,value:n,onValueChange:r,...a}){const s=p.useRef(null),o=c=>{if(!t)return;const u=c.touches[0];u&&(s.current={x:u.clientX,y:u.clientY})},l=c=>{if(!t||!s.current||!n||!r)return;const u=c.changedTouches[0];if(!u)return;const d=u.clientX-s.current.x,f=u.clientY-s.current.y;if(Math.abs(d)>Math.abs(f)&&Math.abs(d)>50){ml.light();const h=c.currentTarget.querySelector('[data-slot="tabs-list"]');if(!h)return;const g=Array.from(h.querySelectorAll('[data-slot="tabs-trigger"]')).map(x=>{const w=x.getAttribute("value"),S=x.getAttribute("data-value"),j=x.getAttribute("id");return w||S||(j&&j.includes("trigger-")?j.split("trigger-")[1]:null)}).filter(Boolean),v=g.indexOf(n);if(v===-1)return;let b;d>0?b=v>0?v-1:g.length-1:b=v<g.length-1?v+1:0;const y=g[b];typeof y=="string"&&r(y)}s.current=null};return i.jsx(tJ,{"data-slot":"tabs",className:De("flex flex-col gap-2",e),onTouchStart:o,onTouchEnd:l,value:n,onValueChange:r,...a})}function gu({ref:e,children:t,className:n,activeClassName:r,transition:a={type:"spring",stiffness:200,damping:25},...s}){const o=p.useRef(null);p.useImperativeHandle(e,()=>o.current);const[l,c]=p.useState(void 0),u=p.useCallback(()=>{if(!o.current)return;const d=o.current.querySelector('[data-state="active"]');d&&c(d.getAttribute("data-value")??void 0)},[]);return p.useEffect(()=>{u();const d=new MutationObserver(u);return o.current&&d.observe(o.current,{attributes:!0,childList:!0,subtree:!0}),()=>{d.disconnect()}},[u]),i.jsx(SLe,{controlledItems:!0,className:De("rounded-sm bg-background shadow-sm",r),value:l,transition:a,children:i.jsx(nJ,{ref:o,"data-slot":"tabs-list",className:De("bg-muted text-muted-foreground inline-flex h-10 w-fit items-center justify-center rounded-lg p-[4px]",n),...s,children:t})})}function gn({className:e,value:t,...n}){return i.jsx(QX,{value:t,className:"size-full",children:i.jsx(rJ,{"data-slot":"tabs-trigger",className:De("inline-flex cursor-pointer items-center size-full justify-center whitespace-nowrap rounded-sm px-2 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground z-[1]",e),value:t,...n})})}function In({className:e,children:t,...n}){return i.jsx(aJ,{asChild:!0,...n,children:i.jsx($a.div,{"data-slot":"tabs-content",className:De("flex-1 outline-none",e),layout:!0,...n,children:t})})}const Cr=({label:e,value:t,availableOptions:n,onValueChange:r,placeholder:a="Select option",displayFormat:s=c=>c,buttonDisplayFormat:o,className:l=""})=>{const c=Um(),u=d=>d?d==="none"?o?o(d):"None":d==="all"?"All events":o?o(d):s(d):a;return c?i.jsxs(Jm,{children:[i.jsx(BC,{asChild:!0,children:i.jsxs(X,{variant:"outline",className:`w-full justify-between h-10 ${l}`,children:[i.jsx("span",{className:"truncate",children:u(t)}),i.jsx(Ry,{className:"h-4 w-4 opacity-50"})]})}),i.jsxs(Xm,{side:"bottom",className:"h-[75vh] p-0 flex flex-col rounded-t-3xl border-border bg-background overflow-hidden",children:[i.jsx("div",{className:"px-6 pt-5 pb-1",children:i.jsx(ep,{className:"text-left",children:i.jsx(tp,{className:"text-xl font-bold tracking-tight text-foreground",children:e})})}),i.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 mt-3",children:i.jsxs("div",{className:"space-y-2",children:[n.includes("none")&&i.jsx($k,{asChild:!0,children:i.jsx(X,{variant:"outline",className:De("w-full justify-start h-14 px-5 text-base font-medium rounded-xl border-border transition-all text-left",t==="none"?"bg-primary text-primary-foreground dark:bg-primary dark:text-primary-foreground hover:opacity-90 active:scale-[0.98]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 dark:bg-muted/10 dark:text-muted-foreground"),onClick:()=>r("none"),children:s("none")==="none"?"No team":s("none")})}),n.includes("all")&&i.jsx($k,{asChild:!0,children:i.jsx(X,{variant:"outline",className:De("w-full justify-start h-14 px-5 text-base font-medium rounded-xl border-border transition-all text-left",t==="all"?"bg-primary text-primary-foreground dark:bg-primary dark:text-primary-foreground hover:opacity-90 active:scale-[0.98]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 dark:bg-muted/10 dark:text-muted-foreground"),onClick:()=>r("all"),children:"All events"})}),n.filter(d=>d!=="all"&&d!=="none").map(d=>i.jsx($k,{asChild:!0,children:i.jsx(X,{variant:"outline",className:De("w-full justify-start h-14 px-5 text-base font-medium rounded-xl border-border transition-all text-left",t===d?"bg-primary text-primary-foreground dark:bg-primary dark:text-primary-foreground hover:opacity-90 active:scale-[0.98]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 dark:bg-muted/10 dark:text-muted-foreground"),onClick:()=>r(d),children:String(d).match(/^\d+$/)&&!s(String(d)).includes("Team")?`Team ${s(String(d))}`:s(String(d))})},d))]})})]})]}):i.jsxs(Br,{value:t||"none",onValueChange:r,children:[i.jsx(Vr,{className:`h-10 w-full ${l}`,children:i.jsx("span",{className:"truncate",children:u(t)})}),i.jsxs(zr,{children:[n.includes("none")&&i.jsx(ot,{value:"none",children:s("none")}),n.includes("all")&&i.jsx(ot,{value:"all",children:"All events"}),n.filter(d=>d!=="all"&&d!=="none").map(d=>i.jsx(ot,{value:d,children:s(d)},d))]})]})},CLe=()=>{const{analysis:e}=cf(),[t,n]=p.useState([]),[r,a]=p.useState([]),[s,o]=p.useState(!0);p.useEffect(()=>{(async()=>{o(!0);try{const d=await IR(),f=[...new Set(d.map(m=>String(m.teamNumber)).filter(Boolean))];f.sort((m,g)=>parseInt(m)-parseInt(g)),n(f);const h=[...new Set(d.map(m=>m.eventKey).filter(Boolean))];h.sort(),a(h)}catch(d){console.error("Error loading team stats metadata:",d)}finally{o(!1)}})()},[]);const l=p.useCallback(async(u,d)=>{if(!u)return null;try{let f;const h=parseInt(u);return d&&d!=="all"?f=await T7(h,d):f=await A7(h),f.length===0?{teamNumber:h,eventKey:d||"",matchCount:0,totalPoints:0,accuracy:0,autoPoints:0,teleopPoints:0,endgamePoints:0,overall:{avgTotalPoints:0,totalPiecesScored:0,avgGamePiece1:0,avgGamePiece2:0},auto:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0,mobilityRate:0,startPositions:[]},teleop:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0},endgame:{avgPoints:0,climbRate:0,parkRate:0},matchesPlayed:0}:e.calculateBasicStats(f)}catch(f){return console.error(`Error calculating stats for team ${u}:`,f),null}},[e]),c=p.useMemo(()=>({statSections:e.getStatSections(),rateSections:e.getRateSections(),matchBadges:e.getMatchBadges(),startPositionConfig:e.getStartPositionConfig()}),[e]);return{availableTeams:t,availableEvents:r,displayConfig:c,calculateStats:l,isLoading:s}},RM=({title:e,value:t,subtitle:n,color:r="blue",compareValue:a,type:s="number"})=>{const o=typeof t=="string"?parseFloat(t):t,l=a!==void 0&&s!=="text"?o-(typeof a=="number"?a:parseFloat(String(a))):void 0,c={default:"text-foreground",green:"text-green-600",blue:"text-blue-600",purple:"text-purple-600",orange:"text-orange-600",red:"text-red-600",yellow:"text-yellow-600",slate:"text-slate-600"},u=f=>s==="text"?String(f):s==="percentage"?`${f}%`:f,d=f=>{const h=f.toFixed(1);return s==="percentage"?`${f>0?"+":""}${h}%`:`${f>0?"+":""}${h}`};return i.jsx(_e,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),i.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[i.jsx("p",{className:`text-2xl font-bold ${c[r]||c.default}`,children:u(t)}),l!==void 0&&!isNaN(l)&&i.jsx("div",{className:`flex items-center text-sm font-semibold ${l>0?"text-green-600":l<0?"text-red-600":"text-muted-foreground"}`,children:d(l)}),s==="text"&&a&&a!==t&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:["vs ",a]})]}),n&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n})]})})};function jLe({teamStats:e,compareStats:t,statSections:n,rateSections:r,setActiveTab:a}){if(e.matchesPlayed===0)return i.jsx(_e,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-8",children:i.jsxs("div",{className:"text-center space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"No Match Scouting Data"}),i.jsx("p",{className:"text-muted-foreground",children:"This team doesn't have any match scouting data."}),i.jsx(X,{onClick:()=>a("pit"),className:"mt-4",children:"View Pit Data "})]})})});const s=n.filter(l=>l.tab==="overview"),o=(l,c)=>{const u=l[c];return typeof u=="string"||typeof u=="number"?u:0};return i.jsx("div",{className:"space-y-6 pb-6",children:s.map(l=>i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:l.title})}),i.jsx($e,{children:i.jsx("div",{className:`grid grid-cols-2 md:grid-cols-${l.columns||2} gap-4`,children:l.stats.map(c=>i.jsx(RM,{title:c.label,value:o(e,c.key),subtitle:c.subtitle,color:c.color,type:c.type,compareValue:t?o(t,c.key):void 0},c.key))})})]},l.id))})}function NLe({matchResults:e,alliance:t="blue"}){const[n,r]=p.useState(new Set),[a,s]=p.useState(!1),o=p.useRef(null),l=p.useRef(null),c=p.useMemo(()=>e.filter(v=>v.teleopPath&&v.teleopPath.length>0),[e]),u=p.useMemo(()=>e.filter(v=>n.has(v.matchNumber)).flatMap(v=>v.teleopPath||[]).filter(v=>v&&v.position),[e,n]),[d,f]=p.useState({width:640,height:320});p.useEffect(()=>{const v=()=>{if(o.current){const b=o.current.getBoundingClientRect();f({width:b.width,height:b.width/2})}};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const h=v=>{r(b=>{const y=new Set(b);return y.has(v)?y.delete(v):y.add(v),y})},m=()=>{r(new Set(e.map(v=>v.matchNumber)))},g=()=>{r(new Set)};return i.jsx("div",{className:"space-y-4",children:a?i.jsxs("div",{className:"fixed inset-0 z-100 bg-background p-4 flex flex-col gap-2",children:[i.jsx(FC,{phase:"teleop",stats:[{label:"Total Matches",value:e.length,color:"slate"},{label:"With Paths",value:c.length,color:"purple"}],isFullscreen:a,onFullscreenToggle:()=>s(!1),alliance:"blue",isFieldRotated:!1,actionLogSlot:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:m,disabled:e.length===0,children:"Select All"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:g,disabled:n.size===0,children:"Clear"})]})}),i.jsxs("div",{ref:o,className:De("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none flex-1","w-full aspect-2/1"),children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx(Ld,{ref:l,actions:u,pendingWaypoint:null,drawingPoints:[],alliance:t,isFieldRotated:!1,width:d.width,height:d.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!1,drawingZoneBounds:void 0}),u.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:e.length===0?"No matches available":"Select matches to view teleop paths"})})]})]}):i.jsxs("div",{className:"grid md:grid-cols-[1fr_300px] gap-4",children:[i.jsxs(_e,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold",children:"Shooting Paths"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:m,disabled:e.length===0,children:"Select All"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:g,disabled:n.size===0,children:"Clear"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>s(!0),children:i.jsx(_v,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{ref:o,className:"relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 w-full aspect-2/1",children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx(Ld,{ref:l,actions:u,pendingWaypoint:null,drawingPoints:[],alliance:t,isFieldRotated:!1,width:d.width,height:d.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!1,drawingZoneBounds:void 0}),u.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:e.length===0?"No matches available":"Select matches to view teleop paths"})})]})]}),i.jsxs(_e,{className:"p-4 max-h-125 overflow-y-auto",children:[i.jsxs("h3",{className:"font-semibold mb-3",children:["Matches (",e.length,")"]}),e.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No matches available"}):i.jsx("div",{className:"space-y-2",children:e.map(v=>{const b=n.has(v.matchNumber),y=v.teleopPath||[],x=y.length>0;return i.jsxs("div",{className:De("p-3 rounded-lg border cursor-pointer transition-colors",b?"border-primary bg-primary/10":"border-border hover:border-primary/50"),onClick:()=>h(v.matchNumber),children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ud,{checked:b,onCheckedChange:()=>h(v.matchNumber),onClick:w=>w.stopPropagation()}),i.jsxs("span",{className:"font-medium",children:["Match ",v.matchNumber]}),i.jsx(Oe,{variant:"outline",className:De("text-xs",v.alliance==="red"?"border-red-500 text-red-400":"border-blue-500 text-blue-400"),children:v.alliance})]}),i.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[v.teleopPoints," pts"]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground ml-6",children:[v.teleopFuel," fuel scored",x?`  ${y.length} actions`:"  No path data"]})]},v.matchNumber)})})]})]})})}function kLe({teamStats:e,compareStats:t,statSections:n}){const r=e;if(e.matchesPlayed===0)return i.jsx(_e,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No scoring data available"})})});const a=n.filter(o=>o.tab==="scoring"),s=(o,l)=>{const c=o[l];return typeof c=="number"?c:0};return i.jsxs("div",{className:"space-y-6 pb-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(o=>i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:o.title})}),i.jsx($e,{children:i.jsx("div",{className:`grid grid-cols-2 md:grid-cols-${o.columns||2} gap-4`,children:o.stats.map(l=>i.jsx(RM,{title:l.label,value:s(e,l.key),subtitle:l.subtitle,color:l.color,type:l.type,compareValue:t?s(t,l.key):void 0},l.key))})})]},o.id))}),i.jsx(_e,{children:i.jsx($e,{children:i.jsx(NLe,{matchResults:r.matchResults||[],alliance:"blue"})})})]})}function ALe({startPositions:e={},matchResults:t=[],config:n,highlightedPosition:r,alliance:a="red"}){const s=p.useRef(null),o=p.useRef(null),l=p.useMemo(()=>n.zones??[],[n.zones]),c=p.useMemo(()=>a==="blue"&&n.fieldImageBlue?n.fieldImageBlue:n.fieldImageRed,[a,n.fieldImageRed,n.fieldImageBlue]),u=r!==void 0&&r>=0;return p.useEffect(()=>{const d=s.current,f=o.current;if(!d||!f||!c)return;const h=d.getContext("2d");if(!h)return;const m=(v,b,y)=>{const x=b/640,w=y/480;v.fillStyle="rgba(0, 0, 0, 0.3)",v.fillRect(0,0,b,y),l.forEach(S=>{const j=S.x*x,k=S.y*w,N=S.width*x,P=S.height*w;if(u){if(S.position===r){v.globalCompositeOperation="destination-out",v.fillStyle="rgba(0, 0, 0, 0.3)",v.fillRect(j,k,N,P),v.globalCompositeOperation="source-over",v.fillStyle="rgba(34, 197, 94, 0.85)",v.fillRect(j,k,N,P),v.strokeStyle="#16a34a",v.lineWidth=4,v.strokeRect(j,k,N,P),v.fillStyle="#ffffff",v.font=`bold ${Math.max(16*Math.min(x,w),12)}px Arial`,v.textAlign="center",v.textBaseline="middle",v.shadowColor="#000000",v.shadowBlur=3,v.shadowOffsetX=1,v.shadowOffsetY=1;const U=S.label??`Pos ${S.position}`;v.fillText(U,j+N/2,k+P/2),v.shadowColor="transparent",v.shadowBlur=0}return}const E=e[`position${S.position}`]||0,R=t.filter($=>$.startPosition===S.position),O=R.length>0?Math.round(R.reduce(($,U)=>$+U.autoPoints,0)/R.length*10)/10:0;v.globalCompositeOperation="destination-out",v.fillStyle="rgba(0, 0, 0, 0.3)",v.fillRect(j,k,N,P),v.globalCompositeOperation="source-over";const G=Math.min(E/100,1),te=Math.max(.4,G*.9);let V;E===0?V=`rgba(156, 163, 175, ${te})`:E<20?V=`rgba(239, 68, 68, ${te})`:E<40?V=`rgba(245, 158, 11, ${te})`:E<60?V=`rgba(234, 179, 8, ${te})`:E<80?V=`rgba(59, 130, 246, ${te})`:V=`rgba(34, 197, 94, ${te})`,v.fillStyle=V,v.fillRect(j,k,N,P),v.strokeStyle=E>0?"#374151":"#9ca3af",v.lineWidth=E>0?3:2,v.setLineDash(E>0?[]:[5,5]),v.strokeRect(j,k,N,P),v.setLineDash([]),v.fillStyle="#ffffff",v.font=`bold ${Math.max(18*Math.min(x,w),14)}px Arial`,v.textAlign="center",v.textBaseline="top",v.shadowColor="#000000",v.shadowBlur=3,v.shadowOffsetX=1,v.shadowOffsetY=1;const z=S.label??`${S.position}`;v.fillText(z,j+N/2,k+8),v.font=`bold ${Math.max(22*Math.min(x,w),18)}px Arial`,v.textBaseline="middle",v.fillText(`${E}%`,j+N/2,k+P/2),R.length>0&&(v.font=`${Math.max(14*Math.min(x,w),12)}px Arial`,v.textBaseline="bottom",v.fillText(`${O} auto pts`,j+N/2,k+P-8)),v.shadowColor="transparent",v.shadowBlur=0,v.shadowOffsetX=0,v.shadowOffsetY=0})},g=new Image;g.onload=()=>{const v=f.getBoundingClientRect(),b=v.width,y=v.height,x=g.width/g.height,w=b/y;let S,j;x>w?(S=b,j=b/x):(j=y,S=y*x),d.width=S,d.height=j,d.style.width=`${S}px`,d.style.height=`${j}px`,h.drawImage(g,0,0,S,j),m(h,S,j)},g.src=c},[e,t,c,l,r,u]),c?i.jsx("div",{ref:o,className:"w-full h-96 flex items-center justify-center",children:i.jsx("canvas",{ref:s,className:"max-w-full max-h-full border rounded-lg"})}):i.jsx("div",{className:"h-96 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No field image configured"})})}const J0=["Left Trench","Left Bump","Hub","Right Bump","Right Trench"],PLe=["yellow","orange","green","orange","yellow"];function ELe({matchResults:e,alliance:t="blue"}){const[n,r]=p.useState(2),[a,s]=p.useState(new Set),[o,l]=p.useState(!1),c=p.useRef(null),u=p.useRef(null),d=p.useMemo(()=>{const x={0:[],1:[],2:[],3:[],4:[]};return e.forEach(w=>{const S=w.startPosition;S>=0&&S<=4&&x[S]&&x[S].push(w)}),x},[e]),f=p.useMemo(()=>d[n]||[],[d,n]),h=p.useMemo(()=>f.filter(x=>a.has(x.matchNumber)).flatMap(x=>x.autoPath||[]),[f,a]),[m,g]=p.useState({width:640,height:320});p.useEffect(()=>{const x=()=>{if(c.current){const w=c.current.getBoundingClientRect();g({width:w.width,height:w.width/2})}};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const v=x=>{s(w=>{const S=new Set(w);return S.has(x)?S.delete(x):S.add(x),S})},b=()=>{s(new Set(f.map(x=>x.matchNumber)))},y=()=>{s(new Set)};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4].map(x=>{var j;const w=((j=d[x])==null?void 0:j.length)||0,S=PLe[x];return i.jsxs(X,{variant:n===x?"default":"outline",onClick:()=>{r(x),s(new Set)},className:"flex items-center gap-2 p-4",children:[J0[x],i.jsx(Oe,{variant:"secondary",className:De("ml-1",S==="yellow"&&"bg-yellow-500/20 text-yellow-300",S==="orange"&&"bg-orange-500/20 text-orange-300",S==="green"&&"bg-green-500/20 text-green-300"),children:w})]},x)})}),o?i.jsxs("div",{className:"fixed inset-0 z-100 bg-background p-4 flex flex-col gap-2",children:[i.jsx(FC,{phase:"auto",stats:[{label:J0[n]||"Position",value:f.length,color:"slate"}],isFullscreen:o,onFullscreenToggle:()=>l(!1),alliance:"blue",isFieldRotated:!1,actionLogSlot:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:b,disabled:f.length===0,children:"Select All"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:y,disabled:a.size===0,children:"Clear"})]})}),i.jsxs("div",{ref:c,className:De("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none flex-1","w-full aspect-2/1"),children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx(Ld,{ref:u,actions:h,pendingWaypoint:null,drawingPoints:[],alliance:t,isFieldRotated:!1,width:m.width,height:m.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!0,drawingZoneBounds:void 0}),h.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:f.length===0?"No matches from this position":"Select matches to view paths"})})]})]}):i.jsxs("div",{className:"grid md:grid-cols-[1fr_300px] gap-4",children:[i.jsxs(_e,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h3",{className:"font-semibold",children:[J0[n]," - Auto Paths"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:b,disabled:f.length===0,children:"Select All"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:y,disabled:a.size===0,children:"Clear"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>l(!0),children:i.jsx(_v,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{ref:c,className:"relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 w-full aspect-2/1",children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx(Ld,{ref:u,actions:h,pendingWaypoint:null,drawingPoints:[],alliance:t,isFieldRotated:!1,width:m.width,height:m.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!0,drawingZoneBounds:void 0}),h.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:f.length===0?"No matches from this position":"Select matches to view paths"})})]})]}),i.jsxs(_e,{className:"p-4 max-h-125 overflow-y-auto",children:[i.jsxs("h3",{className:"font-semibold mb-3",children:["Matches (",f.length,")"]}),f.length===0?i.jsxs("p",{className:"text-sm text-muted-foreground",children:["No matches from ",J0[n]]}):i.jsx("div",{className:"space-y-2",children:f.map(x=>{const w=a.has(x.matchNumber);return i.jsxs("div",{className:De("p-3 rounded-lg border cursor-pointer transition-colors",w?"border-primary bg-primary/10":"border-border hover:border-primary/50"),onClick:()=>v(x.matchNumber),children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ud,{checked:w,onCheckedChange:()=>v(x.matchNumber),onClick:S=>S.stopPropagation()}),i.jsxs("span",{className:"font-medium",children:["Match ",x.matchNumber]}),i.jsx(Oe,{variant:"outline",className:De("text-xs",x.alliance==="red"?"border-red-500 text-red-400":"border-blue-500 text-blue-400"),children:x.alliance})]}),i.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[x.autoPoints," pts"]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground ml-6",children:[x.autoFuel," fuel scored",x.autoPath&&x.autoPath.length>0?`  ${x.autoPath.length} actions`:"  No path data"]})]},x.matchNumber)})})]})]})]})}function TLe({teamStats:e,compareStats:t,startPositionConfig:n}){if(e.matchesPlayed===0)return i.jsx(_e,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No autonomous data available"})})});const r=(e==null?void 0:e.startPositions)??{},a=(e==null?void 0:e.matchResults)??[],s=()=>!r||Object.keys(r).length===0?i.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No position data available"}):i.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:n.positionCount}).map((o,l)=>{var h,m,g;const c=((h=n.positionLabels)==null?void 0:h[l])||`Position ${l}`,u=((m=n.positionColors)==null?void 0:m[l])||"blue",d=r[`position${l}`]||0,f=(g=t==null?void 0:t.startPositions)==null?void 0:g[`position${l}`];return i.jsx(RM,{title:c,value:d,subtitle:"% of matches",color:u,compareValue:f},l)})});return i.jsxs("div",{className:"space-y-6 pb-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Starting Position Analysis"})}),i.jsx($e,{children:i.jsx(ALe,{startPositions:r,matchResults:a,config:n})})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Position Breakdown"})}),i.jsx($e,{children:s()})]})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Auto Paths by Starting Position"})}),i.jsx($e,{children:i.jsx(ELe,{matchResults:a,alliance:"blue"})})]})]})}const _Le=({title:e,value:t,suffix:n="%",compareValue:r})=>{const a=r!==void 0?t-r:void 0;return i.jsx(_e,{className:"p-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-sm font-medium",children:e}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-bold",children:[t,n]}),a!==void 0&&i.jsxs("div",{className:`flex items-center text-xs ${a>0?"text-green-600":a<0?"text-red-600":"text-muted-foreground"}`,children:[a>0?"+":"",a]})]})]}),i.jsx(sp,{value:t,className:"h-2"})]})})};function DLe({matchData:e,variant:t="outline",size:n="sm",className:r="",buttonText:a="View Full Match Data",showIcon:s=!0}){var S,j,k,N,P,E,R,O,G,te,V,z,$,U,M,F,W,Z,H,ae,fe,we,Pe,me,Ue,ne,je,ve,re,Ye,Fe,Je,Le,lt,ct,be,Ce;const[o,l]=p.useState(!1),[c,u]=p.useState("scoring"),d=p.useRef(null),f=p.useRef(null),[h,m]=p.useState({width:640,height:320});if(p.useEffect(()=>{if(c!=="auto")return;const oe=()=>{if(f.current){const xt=f.current.getBoundingClientRect();m({width:xt.width,height:xt.width/2})}};return oe(),window.addEventListener("resize",oe),()=>window.removeEventListener("resize",oe)},[c]),!e)return i.jsxs(X,{variant:t,size:n,className:r,disabled:!0,children:[s&&i.jsx(rm,{className:"w-3 h-3 mr-2"}),a]});const g=oe=>typeof oe=="number"?oe:0,v=oe=>oe?Object.entries(oe).filter(([xt])=>xt==="fuelScoredCount"||xt==="fuelPassedCount").reduce((xt,[,rt])=>xt+g(rt),0):0,b=v((S=e.gameData)==null?void 0:S.auto),y=v((j=e.gameData)==null?void 0:j.teleop),x=["depotCollectCount","outpostCollectCount","foulCommittedCount","stealCount","brokenDownCount"],w=String(e.alliance||"").replace(/Alliance$/i,"").trim();return i.jsxs(to,{open:o,onOpenChange:l,children:[i.jsx(_C,{asChild:!0,children:i.jsxs(X,{variant:t,size:n,className:r,children:[s&&i.jsx(rm,{className:"w-4 h-4 mr-2"}),a]})}),i.jsxs(no,{className:"max-w-4xl w-[calc(100vw-2rem)] h-[min(600px,90vh)] flex flex-col p-6",children:[i.jsx(Go,{className:"shrink-0 px-0",children:i.jsxs(ro,{children:["Match ",e.matchNumber," - Team ",e.teamNumber]})}),i.jsx("div",{className:"flex-1 min-h-0",onTouchStart:oe=>oe.stopPropagation(),onTouchMove:oe=>oe.stopPropagation(),onTouchEnd:oe=>oe.stopPropagation(),children:i.jsxs(pu,{value:c,onValueChange:u,enableSwipe:!0,className:"w-full h-full flex flex-col",children:[i.jsxs(gu,{className:"grid w-full grid-cols-4 shrink-0",children:[i.jsx(gn,{value:"scoring",children:"Scoring"}),i.jsx(gn,{value:"auto",children:"Auto"}),i.jsx(gn,{value:"endgame",children:"Endgame"}),i.jsx(gn,{value:"info",children:"Info"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-0 mt-4",children:[i.jsxs(In,{value:"scoring",className:"space-y-4 h-full mt-0",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Auto Scoring"}),i.jsxs("div",{className:"space-y-2",children:[((k=e.gameData)==null?void 0:k.auto)&&Object.entries(e.gameData.auto).filter(([oe])=>oe==="fuelScoredCount"||oe==="fuelPassedCount").map(([oe,xt])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[oe.replace("Count","").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:g(xt)})]},oe)),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"font-semibold",children:"Fuel Moved:"}),i.jsx("span",{className:"font-bold text-blue-600",children:b})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Teleop Scoring"}),i.jsxs("div",{className:"space-y-2",children:[((N=e.gameData)==null?void 0:N.teleop)&&Object.entries(e.gameData.teleop).filter(([oe])=>oe==="fuelScoredCount"||oe==="fuelPassedCount").map(([oe,xt])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[oe.replace("Count","").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:g(xt)})]},oe)),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"font-semibold",children:"Fuel Moved:"}),i.jsx("span",{className:"font-bold text-purple-600",children:y})]})]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Other Actions"}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Auto"}),i.jsx("div",{className:"space-y-2",children:((P=e.gameData)==null?void 0:P.auto)&&Object.entries(e.gameData.auto).filter(([oe])=>x.includes(oe)).map(([oe,xt])=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[oe.replace("Count","").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{children:g(xt)})]},oe))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Teleop"}),i.jsx("div",{className:"space-y-2",children:((E=e.gameData)==null?void 0:E.teleop)&&Object.entries(e.gameData.teleop).filter(([oe])=>x.includes(oe)).map(([oe,xt])=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[oe.replace("Count","").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{children:g(xt)})]},oe))})]})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Points Summary"}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g(e.autoPoints)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Auto"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:g(e.teleopPoints)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Teleop"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:g(e.endgamePoints)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Endgame"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:g(e.totalPoints)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})]})]})]}),i.jsx(In,{value:"auto",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Auto Performance"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Auto Points:"}),i.jsx("span",{className:"font-bold text-blue-600",children:g(e.autoPoints)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Fuel Scored:"}),i.jsx("span",{className:"font-bold text-yellow-600",children:g(e.autoFuel)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Fuel Passed:"}),i.jsx("span",{className:"font-bold text-blue-600",children:g(e.autoFuelPassed)})]}),i.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[i.jsx("input",{type:"checkbox",checked:!!((O=(R=e.gameData)==null?void 0:R.auto)!=null&&O.autoClimbL1),disabled:!0,className:"rounded"}),i.jsx("span",{children:"Auto Climb L1"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Auto Path"}),e.autoPath&&e.autoPath.length>0?i.jsxs("div",{ref:f,className:De("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none","w-full aspect-2/1"),children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx(Ld,{ref:d,actions:e.autoPath,pendingWaypoint:null,drawingPoints:[],alliance:(G=e.alliance)!=null&&G.toLowerCase().includes("blue")?"blue":"red",isFieldRotated:!1,width:h.width,height:h.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!0,drawingZoneBounds:void 0})]}):i.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:i.jsx("div",{className:"text-muted-foreground text-center",children:"No path data"})})]})]})}),i.jsx(In,{value:"endgame",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Climbing"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Climb Level:"}),i.jsx("span",{className:"font-bold text-xl text-blue-600",children:e.climbLevel&&e.climbLevel>0?`L${e.climbLevel}`:"None"})]})}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-950 rounded border border-red-200 dark:border-red-800",children:[i.jsx("span",{className:"text-red-600",children:"Climb Failed"}),i.jsx("input",{type:"checkbox",checked:!!((V=(te=e.gameData)==null?void 0:te.endgame)!=null&&V.climbFailed),disabled:!0,className:"rounded"})]}),i.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950 rounded border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Endgame Points:"}),i.jsx("span",{className:"font-bold text-xl text-orange-600",children:g(e.endgamePoints)})]})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Other Performance"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("span",{children:"Played Defense"}),i.jsx("input",{type:"checkbox",checked:!!(($=(z=e.gameData)==null?void 0:z.teleop)!=null&&$.defense),disabled:!0,className:"rounded"})]}),i.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-950 rounded border border-orange-200 dark:border-orange-800",children:[i.jsx("h4",{className:"font-semibold mb-2 text-sm text-orange-600",children:"Stuck Incidents"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"flex justify-between mb-1",children:i.jsx("span",{className:"font-medium",children:"Auto:"})}),i.jsxs("div",{className:"ml-4 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Trench:"}),i.jsxs("span",{children:[g((M=(U=e.gameData)==null?void 0:U.auto)==null?void 0:M.trenchStuckCount),"x (",Math.round(g((W=(F=e.gameData)==null?void 0:F.auto)==null?void 0:W.trenchStuckDuration)/1e3),"s)"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Bump:"}),i.jsxs("span",{children:[g((H=(Z=e.gameData)==null?void 0:Z.auto)==null?void 0:H.bumpStuckCount),"x (",Math.round(g((fe=(ae=e.gameData)==null?void 0:ae.auto)==null?void 0:fe.bumpStuckDuration)/1e3),"s)"]})]})]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"flex justify-between mb-1",children:i.jsx("span",{className:"font-medium",children:"Teleop:"})}),i.jsxs("div",{className:"ml-4 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Trench:"}),i.jsxs("span",{children:[g((Pe=(we=e.gameData)==null?void 0:we.teleop)==null?void 0:Pe.trenchStuckCount),"x (",Math.round(g((Ue=(me=e.gameData)==null?void 0:me.teleop)==null?void 0:Ue.trenchStuckDuration)/1e3),"s)"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Bump:"}),i.jsxs("span",{children:[g((je=(ne=e.gameData)==null?void 0:ne.teleop)==null?void 0:je.bumpStuckCount),"x (",Math.round(g((re=(ve=e.gameData)==null?void 0:ve.teleop)==null?void 0:re.bumpStuckDuration)/1e3),"s)"]})]})]})]})]})]}),i.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950 rounded border border-red-200 dark:border-red-800",children:[i.jsx("h4",{className:"font-semibold mb-2 text-sm text-red-600",children:"Broken Down Time"}),i.jsx("div",{className:"space-y-2",children:i.jsx("div",{className:"text-sm",children:i.jsxs("div",{className:"ml-4 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Auto:"}),i.jsxs("span",{children:[g((Fe=(Ye=e.gameData)==null?void 0:Ye.auto)==null?void 0:Fe.brokenDownCount),"x (",Math.round(g((Le=(Je=e.gameData)==null?void 0:Je.auto)==null?void 0:Le.brokenDownDuration)/1e3),"s)"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Teleop:"}),i.jsxs("span",{children:[g((ct=(lt=e.gameData)==null?void 0:lt.teleop)==null?void 0:ct.brokenDownCount),"x (",Math.round(g((Ce=(be=e.gameData)==null?void 0:be.teleop)==null?void 0:Ce.brokenDownDuration)/1e3),"s)"]})]})]})})})]})]})]})]})}),i.jsx(In,{value:"info",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Match Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Match Number"}),i.jsx("div",{className:"text-lg font-bold",children:e.matchNumber})]}),i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Team Number"}),i.jsx("div",{className:"text-lg font-bold",children:e.teamNumber})]}),i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Alliance"}),i.jsx("div",{className:"text-lg font-bold capitalize",children:w||"Unknown"})]}),i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Event"}),i.jsx("div",{className:"text-lg font-bold",children:e.eventKey||"Unknown"})]})]}),i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Scout"}),i.jsx("div",{className:"text-lg font-bold",children:e.scoutName||"Unknown"})]}),e.comment&&i.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded border border-blue-200 dark:border-blue-800",children:[i.jsx("h5",{className:"font-semibold mb-2",children:"Scout Comments"}),i.jsx("p",{className:"text-sm",children:e.comment})]})]})]})})]})]})})]})]})}var RLe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function MM(e){if(typeof e!="string")return!1;var t=RLe;return t.includes(e)}var MLe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ILe=new Set(MLe);function ZX(e){return typeof e!="string"?!1:ILe.has(e)}function JX(e){return typeof e=="string"&&e.startsWith("data-")}function Us(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ZX(n)||JX(n))&&(t[n]=e[n]);return t}function cp(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Us(t)}return typeof e=="object"&&!Array.isArray(e)?Us(e):null}function Ha(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ZX(n)||JX(n)||MM(n))&&(t[n]=e[n]);return t}function OLe(e){return e==null?null:p.isValidElement(e)?Ha(e.props):typeof e=="object"&&!Array.isArray(e)?Ha(e):null}var LLe=["children","width","height","viewBox","className","style","title","desc"];function $2(){return $2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$2.apply(null,arguments)}function $Le(e,t){if(e==null)return{};var n,r,a=FLe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function FLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IM=p.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=$Le(e,LLe),f=s||{width:r,height:a,x:0,y:0},h=cn("recharts-surface",o);return p.createElement("svg",$2({},Ha(d),{className:h,width:r,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),n)}),BLe=["children","className"];function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F2.apply(null,arguments)}function VLe(e,t){if(e==null)return{};var n,r,a=zLe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ca=p.forwardRef((e,t)=>{var{children:n,className:r}=e,a=VLe(e,BLe),s=cn("recharts-layer",r);return p.createElement("g",F2({className:s},Ha(a),{ref:t}),n)}),XX=p.createContext(null),ULe=()=>p.useContext(XX);function _n(e){return function(){return e}}const eee=Math.cos,T1=Math.sin,ao=Math.sqrt,_1=Math.PI,cj=2*_1,B2=Math.PI,V2=2*B2,Lu=1e-6,KLe=V2-Lu;function tee(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function GLe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tee;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class WLe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tee:GLe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Lu)if(!(Math.abs(f*c-u*d)>Lu)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=a-l,v=c*c+u*u,b=m*m+g*g,y=Math.sqrt(v),x=Math.sqrt(h),w=s*Math.tan((B2-Math.acos((v+h-b)/(2*y*x)))/2),S=w/x,j=w/y;Math.abs(S-1)>Lu&&this._append`L${t+S*d},${n+S*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=n+j*u}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lu||Math.abs(this._y1-d)>Lu)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%V2+V2),h>KLe?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Lu&&this._append`A${r},${r},0,${+(h>=B2)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function OM(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new WLe(t)}function LM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nee(e){this._context=e}nee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uj(e){return new nee(e)}function ree(e){return e[0]}function aee(e){return e[1]}function see(e,t){var n=_n(!0),r=null,a=uj,s=null,o=OM(l);e=typeof e=="function"?e:e===void 0?ree:_n(e),t=typeof t=="function"?t:t===void 0?aee:_n(t);function l(c){var u,d=(c=LM(c)).length,f,h=!1,m;for(r==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:_n(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:_n(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:_n(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(s=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=s=null:s=a(r=c),l):r},l}function X0(e,t,n){var r=null,a=_n(!0),s=null,o=uj,l=null,c=OM(u);e=typeof e=="function"?e:e===void 0?ree:_n(+e),t=typeof t=="function"?t:_n(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?aee:_n(+n);function u(f){var h,m,g,v=(f=LM(f)).length,b,y=!1,x,w=new Array(v),S=new Array(v);for(s==null&&(l=o(x=c())),h=0;h<=v;++h){if(!(h<v&&a(b=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(b,h,f),S[h]=+t(b,h,f),l.point(r?+r(b,h,f):w[h],n?+n(b,h,f):S[h]))}if(x)return l=null,x+""||null}function d(){return see().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:_n(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:_n(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:_n(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:_n(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:_n(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:_n(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:_n(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class iee{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function qLe(e){return new iee(e,!0)}function HLe(e){return new iee(e,!1)}const $M={draw(e,t){const n=ao(t/_1);e.moveTo(n,0),e.arc(0,0,n,0,cj)}},YLe={draw(e,t){const n=ao(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},oee=ao(1/3),QLe=oee*2,ZLe={draw(e,t){const n=ao(t/QLe),r=n*oee;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},JLe={draw(e,t){const n=ao(t),r=-n/2;e.rect(r,r,n,n)}},XLe=.8908130915292852,lee=T1(_1/10)/T1(7*_1/10),e4e=T1(cj/10)*lee,t4e=-eee(cj/10)*lee,n4e={draw(e,t){const n=ao(t*XLe),r=e4e*n,a=t4e*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const o=cj*s/5,l=eee(o),c=T1(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},yA=ao(3),r4e={draw(e,t){const n=-ao(t/(yA*3));e.moveTo(0,n*2),e.lineTo(-yA*n,-n),e.lineTo(yA*n,-n),e.closePath()}},Js=-.5,Xs=ao(3)/2,z2=1/ao(12),a4e=(z2/2+1)*3,s4e={draw(e,t){const n=ao(t/a4e),r=n/2,a=n*z2,s=r,o=n*z2+n,l=-s,c=o;e.moveTo(r,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Js*r-Xs*a,Xs*r+Js*a),e.lineTo(Js*s-Xs*o,Xs*s+Js*o),e.lineTo(Js*l-Xs*c,Xs*l+Js*c),e.lineTo(Js*r+Xs*a,Js*a-Xs*r),e.lineTo(Js*s+Xs*o,Js*o-Xs*s),e.lineTo(Js*l+Xs*c,Js*c-Xs*l),e.closePath()}};function i4e(e,t){let n=null,r=OM(a);e=typeof e=="function"?e:_n(e||$M),t=typeof t=="function"?t:_n(t===void 0?64:+t);function a(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:_n(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:_n(+s),a):t},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function D1(){}function R1(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function cee(e){this._context=e}cee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:R1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:R1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o4e(e){return new cee(e)}function uee(e){this._context=e}uee.prototype={areaStart:D1,areaEnd:D1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:R1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l4e(e){return new uee(e)}function dee(e){this._context=e}dee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:R1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c4e(e){return new dee(e)}function fee(e){this._context=e}fee.prototype={areaStart:D1,areaEnd:D1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u4e(e){return new fee(e)}function x5(e){return e<0?-1:1}function b5(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(s*a+o*r)/(r+a);return(x5(s)+x5(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function w5(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xA(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,o-l*n,s,o)}function M1(e){this._context=e}M1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xA(this,this._t0,w5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xA(this,w5(this,n=b5(this,e,t)),n);break;default:xA(this,this._t0,n=b5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function hee(e){this._context=new mee(e)}(hee.prototype=Object.create(M1.prototype)).point=function(e,t){M1.prototype.point.call(this,t,e)};function mee(e){this._context=e}mee.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}};function d4e(e){return new M1(e)}function f4e(e){return new hee(e)}function pee(e){this._context=e}pee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=S5(e),a=S5(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S5(e){var t,n=e.length-1,r,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function h4e(e){return new pee(e)}function dj(e,t){this._context=e,this._t=t}dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function m4e(e){return new dj(e,.5)}function p4e(e){return new dj(e,0)}function g4e(e){return new dj(e,1)}function Kd(e,t){if((o=e.length)>1)for(var n=1,r,a,s=e[t[0]],o,l=s.length;n<o;++n)for(a=s,s=e[t[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function U2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function v4e(e,t){return e[t]}function y4e(e){const t=[];return t.key=e,t}function x4e(){var e=_n([]),t=U2,n=Kd,r=v4e;function a(s){var o=Array.from(e.apply(this,arguments),y4e),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,s)]).data=f;for(l=0,d=LM(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:_n(Array.from(s)),a):e},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:_n(+s),a):r},a.order=function(s){return arguments.length?(t=s==null?U2:typeof s=="function"?s:_n(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(n=s??Kd,a):n},a}function b4e(e,t){if((r=e.length)>0){for(var n,r,a=0,s=e[0].length,o;a<s;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Kd(e,t)}}function w4e(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,s=r.length;n<s;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Kd(e,t)}}function S4e(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var v=e[t[g]],b=v[r][1]||0,y=v[r-1][1]||0;m+=b-y}c+=f,u+=m*f}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,Kd(e,t)}}var fj={},gee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(gee);var FM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(FM);var hj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(hj);var mj={},vee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(vee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vee,n=hj;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],o=a.length;if(o===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=r})(mj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gee,n=FM,r=hj,a=mj;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(fj);var C4e=fj.get;const Cm=xi(C4e);var j4e=4;function kc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j4e,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,s,o)=>{var l=n[o-1];return typeof l=="string"?a+l+s:l!==void 0?a+kc(l)+s:a+s},"")}var ms=e=>e===0?0:e>0?1:-1,Qi=e=>typeof e=="number"&&e!=+e,Ml=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,wt=e=>(typeof e=="number"||e instanceof Number)&&!Qi(e),Oo=e=>wt(e)||typeof e=="string",N4e=0,ly=e=>{var t=++N4e;return"".concat(e||"").concat(t)},Zi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!wt(t)&&typeof t!="string")return r;var s;if(Ml(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return Qi(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},yee=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Dn(e,t,n){return wt(e)&&wt(t)?kc(e+n*(t-e)):t}function xee(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Cm(r,t))===n)}var k4e=e=>{for(var t=e.length,n=0,r=0,a=0,s=0,o=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++){var f,h;c=((f=e[d])===null||f===void 0?void 0:f.cx)||0,u=((h=e[d])===null||h===void 0?void 0:h.cy)||0,n+=c,r+=u,a+=c*u,s+=c*c,o=Math.min(o,c),l=Math.max(l,c)}var m=t*s!==n*n?(t*a-n*r)/(t*s-n*n):0;return{xmin:o,xmax:l,a:m,b:(r-m*n)/t}},bn=e=>e===null||typeof e>"u",ux=e=>bn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function A4e(e){return e!=null}function dx(){}var P4e=["type","size","sizeType"];function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K2.apply(null,arguments)}function C5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function j5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(n),!0).forEach(function(r){E4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E4e(e,t,n){return(t=T4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T4e(e){var t=_4e(e,"string");return typeof t=="symbol"?t:t+""}function _4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4e(e,t){if(e==null)return{};var n,r,a=R4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function R4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bee={symbolCircle:$M,symbolCross:YLe,symbolDiamond:ZLe,symbolSquare:JLe,symbolStar:n4e,symbolTriangle:r4e,symbolWye:s4e},M4e=Math.PI/180,I4e=e=>{var t="symbol".concat(ux(e));return bee[t]||$M},O4e=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*M4e;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},L4e=(e,t)=>{bee["symbol".concat(ux(e))]=t},pj=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=D4e(e,P4e),s=j5(j5({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=I4e(o),m=i4e().type(h).size(O4e(n,r,o)),g=m();if(g!==null)return g},{className:c,cx:u,cy:d}=s,f=Ha(s);return wt(u)&&wt(d)&&wt(n)?p.createElement("path",K2({},f,{className:cn("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};pj.registerSymbol=L4e;var wee=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,BM=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{MM(a)&&(r[a]=s=>n[a](n,s))}),r},$4e=(e,t,n)=>r=>(e(t,n,r),null),fx=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];MM(a)&&typeof s=="function"&&(r||(r={}),r[a]=$4e(s,t,n))}),r},F4e=e=>Array.isArray(e)&&e.length>0;function N5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function B4e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(n),!0).forEach(function(r){V4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V4e(e,t,n){return(t=z4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z4e(e){var t=U4e(e,"string");return typeof t=="symbol"?t:t+""}function U4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){var n=B4e({},e),r=t,a=Object.keys(t),s=a.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return s}function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I1.apply(null,arguments)}function k5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K4e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(n),!0).forEach(function(r){G4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G4e(e,t,n){return(t=W4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W4e(e){var t=q4e(e,"string");return typeof t=="symbol"?t:t+""}function q4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ri=32,H4e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Y4e(e){var{data:t,iconType:n,inactiveColor:r}=e,a=ri/2,s=ri/6,o=ri/3,l=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline"){var u;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:ri,y2:a,className:"recharts-legend-icon"})}if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(ri,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ri/8,"h").concat(ri,"v").concat(ri*3/4,"h").concat(-ri,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var d=K4e({},t);return delete d.legendIcon,p.cloneElement(t.legendIcon,d)}return p.createElement(pj,{fill:l,cx:a,cy:a,size:ri,sizeType:"diameter",type:c})}function Q4e(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:ri,height:ri},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=cn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?s:d.color,v=h?h(d.value,d,f):d.value;return p.createElement("li",I1({className:m,style:c,key:"legend-item-".concat(f)},fx(e,d,f)),p.createElement(IM,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},p.createElement(Y4e,{data:d,iconType:o,inactiveColor:s})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}var Z4e=e=>{var t=qr(e,H4e),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:s},p.createElement(Q4e,I1({},t,{payload:n})))},See={},Cee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let s=0;s<n.length;s++){const o=n[s],l=r(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(Cee);var VM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(VM);var jee={},gj={},Nee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Nee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nee;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(gj);var kee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(kee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gj,n=kee;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(jee);var Aee={},Pee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fj;function n(r){return function(a){return t.get(a,r)}}e.property=n})(Pee);var Eee={},zM={},Tee={},UM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(UM);var KM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(KM);var GM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(GM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UM,n=KM,r=GM;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):s(d,f,function m(g,v,b,y,x,w){const S=h(g,v,b,y,x,w);return S!==void 0?!!S:s(g,v,m,w)},new Map)}function s(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?s(d,{...f},h,m):r.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.eq(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const g=Object.keys(f);if(d==null||n.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<g.length;v++){const b=g[v];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!h(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,v]of f.entries()){const b=d.get(g);if(h(b,v,g,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let v=0;v<f.length;v++){const b=f[v];let y=!1;for(let x=0;x<d.length;x++){if(g.has(x))continue;const w=d[x];let S=!1;if(h(w,b,v,d,f,m)&&(S=!0),S){g.add(x),y=!0;break}}if(!y)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(Tee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tee;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(zM);var _ee={},WM={},Dee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Dee);var qM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(qM);var HM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",v="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",N="[object Int32Array]",P="[object BigInt64Array]",E="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=v,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=E,e.float64ArrayTag=R,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=N,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y})(HM);var Ree={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Ree);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dee,n=qM,r=HM,a=KM,s=Ree;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const v=g==null?void 0:g(d,f,h,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=l(d[y],y,h,m,g);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[y,x]of d)b.set(y,l(x,y,h,m,g));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const y of d)b.add(l(y,void 0,h,m,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=l(d[y],y,h,m,g);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),c(b,d,h,m,g),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),c(b,d,h,m,g),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),c(b,d,h,m,g),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,h,m,g),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),c(b,d,h,m,g),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),c(b,d,h,m,g),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),c(b,d,h,m,g),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),c(b,d,h,m,g),b}return d}function c(d,f,h=d,m,g){const v=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<v.length;b++){const y=v[b],x=Object.getOwnPropertyDescriptor(d,y);(x==null||x.writable)&&(d[y]=l(f[y],y,h,m,g))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(WM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WM;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(_ee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zM,n=_ee;function r(a){return a=n.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=r})(Eee);var Mee={},Iee={},Oee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WM,n=HM;function r(a,s){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=s==null?void 0:s(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case n.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(Oee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oee;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Iee);var Lee={},YM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(YM);var $ee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qM;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})($ee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FM,n=YM,r=$ee,a=mj;function s(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(Lee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zM,n=hj,r=Iee,a=fj,s=Lee;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(Mee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VM,n=Pee,r=Eee,a=Mee;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(Aee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cee,n=VM,r=jee,a=Aee;function s(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=s})(See);var J4e=See.uniqBy;const A5=xi(J4e);function Fee(e,t,n){return t===!0?A5(e,n):typeof t=="function"?A5(e,t):e}var Bee={exports:{}},Vee={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vj=p,X4e=t7;function e$e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var t$e=typeof Object.is=="function"?Object.is:e$e,n$e=X4e.useSyncExternalStore,r$e=vj.useRef,a$e=vj.useEffect,s$e=vj.useMemo,i$e=vj.useDebugValue;Vee.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var s=r$e(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=s$e(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,t$e(d,m))return g;var v=r(m);return a!==void 0&&a(g,v)?(d=m,g):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,a]);var l=n$e(e,s[0],s[1]);return a$e(function(){o.hasValue=!0,o.value=l},[l]),i$e(l),l};Bee.exports=Vee;var o$e=Bee.exports,QM=p.createContext(null),l$e=e=>e,lr=()=>{var e=p.useContext(QM);return e?e.store.dispatch:l$e},nw=()=>{},c$e=()=>nw,u$e=(e,t)=>e===t;function kt(e){var t=p.useContext(QM);return o$e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:c$e,t?t.store.getState:nw,t?t.store.getState:nw,t?e:nw,u$e)}function d$e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function f$e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function h$e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var P5=e=>Array.isArray(e)?e:[e];function m$e(e){const t=Array.isArray(e[0])?e[0]:e;return h$e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function p$e(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var g$e=class{constructor(e){this.value=e}deref(){return this.value}},v$e=typeof WeakRef<"u"?WeakRef:g$e,y$e=0,E5=1;function eb(){return{s:y$e,v:void 0,o:null,p:null}}function zee(e,t={}){let n=eb();const{resultEqualityCheck:r}=t;let a,s=0;function o(){var f;let l=n;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const b=v.get(g);b===void 0?(l=eb(),v.set(g,l)):l=b}else{let v=l.p;v===null&&(l.p=v=new Map);const b=v.get(g);b===void 0?(l=eb(),v.set(g,l)):l=b}}const u=l;let d;if(l.s===E5)d=l.v;else if(d=e.apply(null,arguments),s++,r){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&r(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new v$e(d):d}return u.s=E5,u.v=d,d}return o.clearCache=()=>{n=eb(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function x$e(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let s=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),d$e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=zee,argsMemoizeOptions:g=[]}=d,v=P5(h),b=P5(g),y=m$e(a),x=f(function(){return s++,u.apply(null,arguments)},...v),w=m(function(){o++;const j=p$e(y,arguments);return l=x.apply(null,j),l},...b);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Me=x$e(zee),b$e=Object.assign((e,t=Me)=>{f$e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>b$e}),Uee={},Kee={},Gee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const o=t(r),l=t(a);if(o===l&&o===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=n})(Gee);var Wee={},ZM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(ZM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZM,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(Wee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gee,n=Wee,r=mj;function a(s,o,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let v=m;for(let b=0;b<g.length&&v!=null;++b)v=v[g[b]];return v},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let v=0;v<f.length;v++){const b=t.compareValues(m.criteria[v],g.criteria[v],l[v]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=a})(Kee);var qee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],s=Math.floor(r),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?o(d,c+1):a.push(d)}};return o(n,0),a}e.flatten=t})(qee);var JM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YM,n=gj,r=UM,a=GM;function s(o,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=s})(JM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kee,n=qee,r=JM;function a(s,...o){const l=o.length;return l>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=a})(Uee);var w$e=Uee.sortBy;const yj=xi(w$e);var Hee=e=>e.legend.settings,S$e=e=>e.legend.size,C$e=e=>e.legend.payload,j$e=Me([C$e,Hee],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?yj(r,n):r});function N$e(){return kt(j$e)}var tb=1;function Yee(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=p.useState({height:0,left:0,top:0,width:0}),r=p.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>tb||Math.abs(o.left-t.left)>tb||Math.abs(o.top-t.top)>tb||Math.abs(o.width-t.width)>tb)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ha(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var k$e=typeof Symbol=="function"&&Symbol.observable||"@@observable",T5=k$e,bA=()=>Math.random().toString(36).substring(7).split("").join("."),A$e={INIT:`@@redux/INIT${bA()}`,REPLACE:`@@redux/REPLACE${bA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${bA()}`},O1=A$e;function XM(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Qee(e,t,n){if(typeof e!="function")throw new Error(ha(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ha(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ha(1));return n(Qee)(e,t)}let r=e,a=t,s=new Map,o=s,l=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((b,y)=>{o.set(y,b)}))}function d(){if(c)throw new Error(ha(3));return a}function f(b){if(typeof b!="function")throw new Error(ha(4));if(c)throw new Error(ha(5));let y=!0;u();const x=l++;return o.set(x,b),function(){if(y){if(c)throw new Error(ha(6));y=!1,u(),o.delete(x),s=null}}}function h(b){if(!XM(b))throw new Error(ha(7));if(typeof b.type>"u")throw new Error(ha(8));if(typeof b.type!="string")throw new Error(ha(17));if(c)throw new Error(ha(9));try{c=!0,a=r(a,b)}finally{c=!1}return(s=o).forEach(x=>{x()}),b}function m(b){if(typeof b!="function")throw new Error(ha(10));r=b,h({type:O1.REPLACE})}function g(){const b=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ha(11));function x(){const S=y;S.next&&S.next(d())}return x(),{unsubscribe:b(x)}},[T5](){return this}}}return h({type:O1.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[T5]:g}}function P$e(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:O1.INIT})>"u")throw new Error(ha(12));if(typeof n(void 0,{type:O1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ha(13))})}function Zee(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{P$e(n)}catch(s){a=s}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=o[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(ha(14));u[f]=g,c=c||g!==m}return c=c||r.length!==Object.keys(o).length,c?u:o}}function L1(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function E$e(...e){return t=>(n,r)=>{const a=t(n,r);let s=()=>{throw new Error(ha(15))};const o={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(o));return s=L1(...l)(a.dispatch),{...a,dispatch:s}}}function Jee(e){return XM(e)&&"type"in e&&typeof e.type=="string"}var Xee=Symbol.for("immer-nothing"),_5=Symbol.for("immer-draftable"),Ya=Symbol.for("immer-state");function $i(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ms=Object,jm=Ms.getPrototypeOf,$1="constructor",xj="prototype",G2="configurable",F1="enumerable",rw="writable",cy="value",Il=e=>!!e&&!!e[Ya];function Ji(e){var t;return e?ete(e)||bj(e)||!!e[_5]||!!((t=e[$1])!=null&&t[_5])||wj(e)||Sj(e):!1}var T$e=Ms[xj][$1].toString(),D5=new WeakMap;function ete(e){if(!e||!eI(e))return!1;const t=jm(e);if(t===null||t===Ms[xj])return!0;const n=Ms.hasOwnProperty.call(t,$1)&&t[$1];if(n===Object)return!0;if(!th(n))return!1;let r=D5.get(n);return r===void 0&&(r=Function.toString.call(n),D5.set(n,r)),r===T$e}function hx(e,t,n=!0){mx(e)===0?(n?Reflect.ownKeys(e):Ms.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function mx(e){const t=e[Ya];return t?t.type_:bj(e)?1:wj(e)?2:Sj(e)?3:0}var R5=(e,t,n=mx(e))=>n===2?e.has(t):Ms[xj].hasOwnProperty.call(e,t),W2=(e,t,n=mx(e))=>n===2?e.get(t):e[t],B1=(e,t,n,r=mx(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function _$e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var bj=Array.isArray,wj=e=>e instanceof Map,Sj=e=>e instanceof Set,eI=e=>typeof e=="object",th=e=>typeof e=="function",wA=e=>typeof e=="boolean";function D$e(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ll=e=>e.copy_||e.base_,tI=e=>e.modified_?e.copy_:e.base_;function q2(e,t){if(wj(e))return new Map(e);if(Sj(e))return new Set(e);if(bj(e))return Array[xj].slice.call(e);const n=ete(e);if(t===!0||t==="class_only"&&!n){const r=Ms.getOwnPropertyDescriptors(e);delete r[Ya];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const o=a[s],l=r[o];l[rw]===!1&&(l[rw]=!0,l[G2]=!0),(l.get||l.set)&&(r[o]={[G2]:!0,[rw]:!0,[F1]:l[F1],[cy]:e[o]})}return Ms.create(jm(e),r)}else{const r=jm(e);if(r!==null&&n)return{...e};const a=Ms.create(r);return Ms.assign(a,e)}}function nI(e,t=!1){return Cj(e)||Il(e)||!Ji(e)||(mx(e)>1&&Ms.defineProperties(e,{set:nb,add:nb,clear:nb,delete:nb}),Ms.freeze(e),t&&hx(e,(n,r)=>{nI(r,!0)},!1)),e}function R$e(){$i(2)}var nb={[cy]:R$e};function Cj(e){return e===null||!eI(e)?!0:Ms.isFrozen(e)}var V1="MapSet",H2="Patches",M5="ArrayMethods",tte={};function Gd(e){const t=tte[e];return t||$i(0,e),t}var I5=e=>!!tte[e],uy,nte=()=>uy,M$e=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:I5(V1)?Gd(V1):void 0,arrayMethodsPlugin_:I5(M5)?Gd(M5):void 0});function O5(e,t){t&&(e.patchPlugin_=Gd(H2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Y2(e){Q2(e),e.drafts_.forEach(I$e),e.drafts_=null}function Q2(e){e===uy&&(uy=e.parent_)}var L5=e=>uy=M$e(uy,e);function I$e(e){const t=e[Ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $5(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ya].modified_&&(Y2(t),$i(4)),Ji(e)&&(e=F5(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[Ya].base_,e,t)}else e=F5(t,n);return O$e(t,e,!0),Y2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Xee?e:void 0}function F5(e,t){if(Cj(t))return t;const n=t[Ya];if(!n)return rI(t,e.handledSet_,e);if(!jj(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);ste(n,e)}return n.copy_}function O$e(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nI(t,n)}function rte(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var jj=(e,t)=>e.scope_===t,L$e=[];function ate(e,t,n,r){const a=ll(e),s=e.type_;if(r!==void 0&&W2(a,r,s)===t){B1(a,r,n,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;hx(a,(c,u)=>{if(Il(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??L$e;for(const l of o)B1(a,l,n,s)}function $$e(e,t,n){e.callbacks_.push(function(a){var l;const s=t;if(!s||!jj(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const o=tI(s);ate(e,s.draft_??s,o,n),ste(s,a)})}function ste(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}rte(e)}}function F$e(e,t,n){const{scope_:r}=e;if(Il(n)){const a=n[Ya];jj(a,r)&&a.callbacks_.push(function(){aw(e);const o=tI(a);ate(e,n,o,t)})}else Ji(n)&&e.callbacks_.push(function(){const s=ll(e);W2(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&rI(W2(e.copy_,t,e.type_),r.handledSet_,r)})}function rI(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Il(e)||t.has(e)||!Ji(e)||Cj(e)||(t.add(e),hx(e,(r,a)=>{if(Il(a)){const s=a[Ya];if(jj(s,n)){const o=tI(s);B1(e,r,o,e.type_),rte(s)}}else Ji(a)&&rI(a,t,n)})),e}function B$e(e,t){const n=bj(e),r={type_:n?1:0,scope_:t?t.scope_:nte(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=aI;n&&(a=[r],s=dy);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return r.draft_=l,r.revoke_=o,[l,r]}var aI={get(e,t){if(t===Ya)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=ll(e);if(!R5(a,t,e.type_))return V$e(e,a,t);const s=a[t];if(e.finalized_||!Ji(s)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&D$e(t))return s;if(s===SA(e.base_,t)){aw(e);const o=e.type_===1?+t:t,l=J2(e.scope_,s,e,o);return e.copy_[o]=l}return s},has(e,t){return t in ll(e)},ownKeys(e){return Reflect.ownKeys(ll(e))},set(e,t,n){const r=ite(ll(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=SA(ll(e),t),s=a==null?void 0:a[Ya];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(_$e(n,a)&&(n!==void 0||R5(e.base_,t,e.type_)))return!0;aw(e),Z2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),F$e(e,t,n)),!0},deleteProperty(e,t){return aw(e),SA(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Z2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ll(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[rw]:!0,[G2]:e.type_!==1||t!=="length",[F1]:r[F1],[cy]:n[t]}},defineProperty(){$i(11)},getPrototypeOf(e){return jm(e.base_)},setPrototypeOf(){$i(12)}},dy={};hx(aI,(e,t)=>{dy[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});dy.deleteProperty=function(e,t){return dy.set.call(this,e,t,void 0)};dy.set=function(e,t,n){return aI.set.call(this,e[0],t,n,e[0])};function SA(e,t){const n=e[Ya];return(n?ll(n):e)[t]}function V$e(e,t,n){var a;const r=ite(t,n);return r?cy in r?r[cy]:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function ite(e,t){if(!(t in e))return;let n=jm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=jm(n)}}function Z2(e){e.modified_||(e.modified_=!0,e.parent_&&Z2(e.parent_))}function aw(e){e.copy_||(e.assigned_=new Map,e.copy_=q2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var z$e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(th(n)&&!th(r)){const o=r;r=n;const l=this;return function(u=o,...d){return l.produce(u,f=>r.call(this,f,...d))}}th(r)||$i(6),a!==void 0&&!th(a)&&$i(7);let s;if(Ji(n)){const o=L5(this),l=J2(o,n,void 0);let c=!0;try{s=r(l),c=!1}finally{c?Y2(o):Q2(o)}return O5(o,a),$5(s,o)}else if(!n||!eI(n)){if(s=r(n),s===void 0&&(s=n),s===Xee&&(s=void 0),this.autoFreeze_&&nI(s,!0),a){const o=[],l=[];Gd(H2).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:l}),a(o,l)}return s}else $i(1,n)},this.produceWithPatches=(n,r)=>{if(th(n))return(l,...c)=>this.produceWithPatches(l,u=>n(u,...c));let a,s;return[this.produce(n,r,(l,c)=>{a=l,s=c}),a,s]},wA(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),wA(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),wA(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ji(t)||$i(8),Il(t)&&(t=Ki(t));const n=L5(this),r=J2(n,t,void 0);return r[Ya].isManual_=!0,Q2(n),r}finishDraft(t,n){const r=t&&t[Ya];(!r||!r.isManual_)&&$i(9);const{scope_:a}=r;return O5(a,n),$5(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Gd(H2).applyPatches_;return Il(t)?a(t,n):this.produce(t,s=>a(s,n))}};function J2(e,t,n,r){const[a,s]=wj(t)?Gd(V1).proxyMap_(t,n):Sj(t)?Gd(V1).proxySet_(t,n):B$e(t,n);return((n==null?void 0:n.scope_)??nte()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?$$e(n,s,r):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function Ki(e){return Il(e)||$i(10,e),ote(e)}function ote(e){if(!Ji(e)||Cj(e))return e;const t=e[Ya];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=q2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=q2(e,!0);return hx(n,(a,s)=>{B1(n,a,ote(s))},r),t&&(t.finalized_=!1),n}var U$e=new z$e,lte=U$e.produce;function cte(e){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,e):a(s)}var K$e=cte(),G$e=cte,W$e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?L1:L1.apply(null,arguments)};function vi(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Fs(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Jee(r)&&r.type===e,n}var ute=class Dg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Dg.prototype)}static get[Symbol.species](){return Dg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Dg(...t[0].concat(this)):new Dg(...t.concat(this))}};function B5(e){return Ji(e)?lte(e,()=>{}):e}function rb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function q$e(e){return typeof e=="boolean"}var H$e=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new ute;return n&&(q$e(n)?o.push(K$e):o.push(G$e(n.extraArgument))),o},dte="RTK_autoBatch",Hn=()=>e=>({payload:e,meta:{[dte]:!0}}),V5=e=>t=>{setTimeout(t,e)},fte=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,s=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:V5(10):e.type==="callback"?e.queueNotification:V5(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),h=r.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[dte]),s=!a,s&&(o||(o=!0,c(u))),r.dispatch(d)}finally{a=!0}}})},Y$e=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new ute(e);return r&&a.push(fte(typeof r=="object"?r:void 0)),a};function Q$e(e){const t=H$e(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(XM(n))l=Zee(n);else throw new Error(Fs(1));let c;typeof r=="function"?c=r(t):c=t();let u=L1;a&&(u=W$e({trace:!1,...typeof a=="object"&&a}));const d=E$e(...c),f=Y$e(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return Qee(l,s,m)}function hte(e){const t={},n=[];let r;const a={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Fs(28));if(l in t)throw new Error(Fs(29));return t[l]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return n.push({matcher:s,reducer:o}),a},addDefaultCase(s){return r=s,a}};return e(a),[t,n,r]}function Z$e(e){return typeof e=="function"}function J$e(e,t){let[n,r,a]=hte(t),s;if(Z$e(e))s=()=>B5(e());else{const l=B5(e);s=()=>l}function o(l=s(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Il(d)){const m=f(d,c);return m===void 0?d:m}else{if(Ji(d))return lte(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=s,o}var X$e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eFe=(e=21)=>{let t="",n=e;for(;n--;)t+=X$e[Math.random()*64|0];return t},tFe=Symbol.for("rtk-slice-createasyncthunk");function nFe(e,t){return`${e}/${t}`}function rFe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[tFe];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error(Fs(11));const l=(typeof a.reducers=="function"?a.reducers(sFe()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,j){const k=typeof S=="string"?S:S.type;if(!k)throw new Error(Fs(12));if(k in u.sliceCaseReducersByType)throw new Error(Fs(13));return u.sliceCaseReducersByType[k]=j,d},addMatcher(S,j){return u.sliceMatchers.push({matcher:S,reducer:j}),d},exposeAction(S,j){return u.actionCreators[S]=j,d},exposeCaseReducer(S,j){return u.sliceCaseReducersByName[S]=j,d}};c.forEach(S=>{const j=l[S],k={reducerName:S,type:nFe(s,S),createNotation:typeof a.reducers=="function"};oFe(j)?cFe(k,j,d,t):iFe(k,j,d)});function f(){const[S={},j=[],k=void 0]=typeof a.extraReducers=="function"?hte(a.extraReducers):[a.extraReducers],N={...S,...u.sliceCaseReducersByType};return J$e(a.initialState,P=>{for(let E in N)P.addCase(E,N[E]);for(let E of u.sliceMatchers)P.addMatcher(E.matcher,E.reducer);for(let E of j)P.addMatcher(E.matcher,E.reducer);k&&P.addDefaultCase(k)})}const h=S=>S,m=new Map,g=new WeakMap;let v;function b(S,j){return v||(v=f()),v(S,j)}function y(){return v||(v=f()),v.getInitialState()}function x(S,j=!1){function k(P){let E=P[S];return typeof E>"u"&&j&&(E=rb(g,k,y)),E}function N(P=h){const E=rb(m,j,()=>new WeakMap);return rb(E,P,()=>{const R={};for(const[O,G]of Object.entries(a.selectors??{}))R[O]=aFe(G,P,()=>rb(g,P,y),j);return R})}return{reducerPath:S,getSelectors:N,get selectors(){return N(k)},selectSlice:k}}const w={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...x(o),injectInto(S,{reducerPath:j,...k}={}){const N=j??o;return S.inject({reducerPath:N,reducer:b},k),{...w,...x(N,!0)}}};return w}}function aFe(e,t,n,r){function a(s,...o){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return a.unwrapped=e,a}var ws=rFe();function sFe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function iFe({type:e,reducerName:t,createNotation:n},r,a){let s,o;if("reducer"in r){if(n&&!lFe(r))throw new Error(Fs(17));s=r.reducer,o=r.prepare}else s=r;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?vi(e,o):vi(e))}function oFe(e){return e._reducerDefinitionType==="asyncThunk"}function lFe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function cFe({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Fs(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=n,f=a(e,s,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),l&&r.addCase(f.pending,l),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:o||ab,pending:l||ab,rejected:c||ab,settled:u||ab})}function ab(){}var uFe="task",mte="listener",pte="completed",sI="cancelled",dFe=`task-${sI}`,fFe=`task-${pte}`,X2=`${mte}-${sI}`,hFe=`${mte}-${pte}`,Nj=class{constructor(e){pn(this,"name","TaskAbortError");pn(this,"message");this.code=e,this.message=`${uFe} ${sI} (reason: ${e})`}},iI=(e,t)=>{if(typeof e!="function")throw new TypeError(Fs(32))},z1=()=>{},gte=(e,t=z1)=>(e.catch(t),e),vte=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),md=e=>{if(e.aborted)throw new Nj(e.reason)};function yte(e,t){let n=z1;return new Promise((r,a)=>{const s=()=>a(new Nj(e.reason));if(e.aborted){s();return}n=vte(e,s),t.finally(()=>n()).then(r,a)}).finally(()=>{n=z1})}var mFe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Nj?"cancelled":"rejected",error:n}}finally{t==null||t()}},U1=e=>t=>gte(yte(e,t).then(n=>(md(e),n))),xte=e=>{const t=U1(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:qh}=Object,z5={},kj="listenerMiddleware",pFe=(e,t)=>{const n=r=>vte(e,()=>r.abort(e.reason));return(r,a)=>{iI(r);const s=new AbortController;n(s);const o=mFe(async()=>{md(e),md(s.signal);const l=await r({pause:U1(s.signal),delay:xte(s.signal),signal:s.signal});return md(s.signal),l},()=>s.abort(fFe));return a!=null&&a.autoJoin&&t.push(o.catch(z1)),{result:U1(e)(o),cancel(){s.abort(dFe)}}}},gFe=(e,t)=>{const n=async(r,a)=>{md(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await yte(t,Promise.race(l));return md(t),c}finally{s()}};return(r,a)=>gte(n(r,a))},bte=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=vi(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Fs(21));return iI(s),{predicate:a,type:t,effect:s}},wte=qh(e=>{const{type:t,predicate:n,effect:r}=bte(e);return{id:eFe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fs(22))}}},{withTypes:()=>wte}),U5=(e,t)=>{const{type:n,effect:r,predicate:a}=bte(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},eT=e=>{e.pending.forEach(t=>{t.abort(X2)})},vFe=(e,t)=>()=>{for(const n of t.keys())eT(n);e.clear()},K5=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Ste=qh(vi(`${kj}/add`),{withTypes:()=>Ste}),yFe=vi(`${kj}/removeAll`),Cte=qh(vi(`${kj}/remove`),{withTypes:()=>Cte}),xFe=(...e)=>{console.error(`${kj}/error`,...e)},px=(e={})=>{const t=new Map,n=new Map,r=m=>{const g=n.get(m)??0;n.set(m,g+1)},a=m=>{const g=n.get(m)??1;g===1?n.delete(m):n.set(m,g-1)},{extra:s,onError:o=xFe}=e;iI(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&eT(m)}),c=m=>{const g=U5(t,m)??wte(m);return l(g)};qh(c,{withTypes:()=>c});const u=m=>{const g=U5(t,m);return g&&(g.unsubscribe(),m.cancelActive&&eT(g)),!!g};qh(u,{withTypes:()=>u});const d=async(m,g,v,b)=>{const y=new AbortController,x=gFe(c,y.signal),w=[];try{m.pending.add(y),r(m),await Promise.resolve(m.effect(g,qh({},v,{getOriginalState:b,condition:(S,j)=>x(S,j).then(Boolean),take:x,delay:xte(y.signal),pause:U1(y.signal),extra:s,signal:y.signal,fork:pFe(y.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,j,k)=>{S!==y&&(S.abort(X2),k.delete(S))})},cancel:()=>{y.abort(X2),m.pending.delete(y)},throwIfCancelled:()=>{md(y.signal)}})))}catch(S){S instanceof Nj||K5(o,S,{raisedBy:"effect"})}finally{await Promise.all(w),y.abort(hFe),a(m),m.pending.delete(y)}},f=vFe(t,n);return{middleware:m=>g=>v=>{if(!Jee(v))return g(v);if(Ste.match(v))return c(v.payload);if(yFe.match(v)){f();return}if(Cte.match(v))return u(v.payload);let b=m.getState();const y=()=>{if(b===z5)throw new Error(Fs(23));return b};let x;try{if(x=g(v),t.size>0){const w=m.getState(),S=Array.from(t.values());for(const j of S){let k=!1;try{k=j.predicate(v,w,b)}catch(N){k=!1,K5(o,N,{raisedBy:"predicate"})}k&&d(j,v,m,y)}}}finally{b=z5}return x},startListening:c,stopListening:u,clearListeners:f}};function Fs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bFe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},jte=ws({name:"chartLayout",initialState:bFe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:wFe,setLayout:SFe,setChartSize:CFe,setScale:jFe}=jte.actions,NFe=jte.reducer;function Nte(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function or(e){return Number.isFinite(e)}function Lo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function G5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(n),!0).forEach(function(r){kFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kFe(e,t,n){return(t=AFe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AFe(e){var t=PFe(e,"string");return typeof t=="symbol"?t:t+""}function PFe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jn(e,t,n){return bn(e)||bn(t)?n:Oo(t)?Cm(e,t,n):typeof t=="function"?t(e):n}var EFe=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&wt(e[s]))return Ah(Ah({},e),{},{[s]:e[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&wt(e[o]))return Ah(Ah({},e),{},{[o]:e[o]+(a||0)})}return e},vu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",kte=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var a,s,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate));return a||o.push(t),s||o.push(n),o},Ate=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:s,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(v=m==="angleAxis"&&s&&s.length>=2?ms(s[0]-s[1])*2*v:v,f||h){var b=(f||h||[]).map((y,x)=>{var w=r?r.indexOf(y):y;return{coordinate:o(w)+v,value:y,offset:v,index:x}});return b.filter(y=>!Qi(y.coordinate))}return c&&u?u.map((y,x)=>({coordinate:o(y)+v,value:y,index:x,offset:v})):o.ticks&&d!=null?o.ticks(d).map((y,x)=>({coordinate:o(y)+v,value:y,offset:v,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+v,value:r?r[y]:y,index:x,offset:v}))},W5=1e-4,TFe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-W5,s=Math.max(r[0],r[1])+W5,o=e(t[0]),l=e(t[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([t[0],t[n-1]])}},_Fe=(e,t)=>{if(!t||t.length!==2||!wt(t[0])||!wt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!wt(e[0])||e[0]<n)&&(a[0]=n),(!wt(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},DFe=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,o=0,l=0;l<n;++l){var c=e[l],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=Qi(d)?f:d;h>=0?(u[0]=s,u[1]=s+h,s=d):(u[0]=o,u[1]=o+h,o=d)}}}},RFe=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[a];if(c!=null){var u=Qi(c[1])?c[0]:c[1];u>=0?(c[0]=s,c[1]=s+u,s=c[1]):(c[0]=0,c[1]=0)}}}},MFe={sign:DFe,expand:b4e,none:Kd,silhouette:w4e,wiggle:S4e,positive:RFe},IFe=(e,t,n)=>{var r,a=(r=MFe[n])!==null&&r!==void 0?r:Kd,s=x4e().keys(t).value((l,c)=>Number(Jn(l,c,0))).order(U2).offset(a),o=s(e);return o.forEach((l,c)=>{l.forEach((u,d)=>{var f=Jn(e[d],t[c],0);Array.isArray(f)&&f.length===2&&wt(f[0])&&wt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function OFe(e){return e==null?void 0:String(e)}function K1(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!bn(a[t.dataKey])){var l=xee(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Jn(a,bn(o)?t.dataKey:o);return bn(c)?null:t.scale(c)}var q5=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var l=Jn(s,t.dataKey,t.scale.domain()[o]);return bn(l)?null:t.scale(l)-a/2+r},LFe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},$Fe=e=>{var t=e.flat(2).filter(wt);return[Math.min(...t),Math.max(...t)]},FFe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],BFe=(e,t,n)=>{if(e!=null)return FFe(Object.keys(e).reduce((r,a)=>{var s=e[a];if(!s)return r;var{stackedData:o}=s,l=o.reduce((c,u)=>{var d=Nte(u,t,n),f=$Fe(d);return!or(f[0])||!or(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},H5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nm=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=yj(t,d=>d.coordinate),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function Q5(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return Ah(Ah({},t),{},{dataKey:n,payload:r,value:a,name:s})}function up(e,t){if(e)return String(e);if(typeof t=="string")return t}var VFe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},zFe=(e,t)=>t==="centric"?e.angle:e.radius,Gl=e=>e.layout.width,Wl=e=>e.layout.height,UFe=e=>e.layout.scale,Pte=e=>e.layout.margin,Aj=Me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Pj=Me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ete="data-recharts-item-index",Tte="data-recharts-item-id",gx=60;function Z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z5(Object(n),!0).forEach(function(r){KFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KFe(e,t,n){return(t=GFe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GFe(e){var t=WFe(e,"string");return typeof t=="symbol"?t:t+""}function WFe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qFe=e=>e.brush.height;function HFe(e){var t=Pj(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:gx;return n+a}return n},0)}function YFe(e){var t=Pj(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:gx;return n+a}return n},0)}function QFe(e){var t=Aj(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ZFe(e){var t=Aj(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ca=Me([Gl,Wl,Pte,qFe,HFe,YFe,QFe,ZFe,Hee,S$e],(e,t,n,r,a,s,o,l,c,u)=>{var d={left:(n.left||0)+a,right:(n.right||0)+s},f={top:(n.top||0)+o,bottom:(n.bottom||0)+l},h=sb(sb({},f),d),m=h.bottom;h.bottom+=r,h=EFe(h,c,u);var g=e-h.left-h.right,v=t-h.top-h.bottom;return sb(sb({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(v,0)})}),JFe=Me(ca,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),oI=Me(Gl,Wl,(e,t)=>({x:0,y:0,width:e,height:t})),XFe=p.createContext(null),ua=()=>p.useContext(XFe)!=null,Ej=e=>e.brush,Tj=Me([Ej,ca,Pte],(e,t,n)=>({height:e.height,x:wt(e.x)?e.x:t.left,y:wt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:wt(e.width)?e.width:t.width})),_te={},Dte={},Rte={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:s}={}){let o,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{g(),o=void 0,l=null},b=()=>{d()},y=function(...x){if(a!=null&&a.aborted)return;o=this,l=x;const w=h==null;m(),c&&w&&d()};return y.schedule=m,y.cancel=v,y.flush=b,a==null||a.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(Rte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rte;function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=r.apply(this,v),f=null},a,{edges:u}),m=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=r.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=n})(Dte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dte;function n(r,a=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(r,a,{leading:o,maxWait:a,trailing:l})}e.throttle=n})(_te);var eBe=_te.throttle;const tBe=xi(eBe);var G1=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>a[o++]))}},Mte=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:o}=n,l=Ml(r)?e:Number(r),c=Ml(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},nBe={width:0,height:0,overflow:"visible"},rBe={width:0,overflowX:"visible"},aBe={height:0,overflowY:"visible"},sBe={},iBe=e=>{var{width:t,height:n}=e,r=Ml(t),a=Ml(n);return r&&a?nBe:r?rBe:a?aBe:sBe};function oBe(e){var{width:t,height:n,aspect:r}=e,a=t,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function tT(){return tT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tT.apply(null,arguments)}function J5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function X5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(n),!0).forEach(function(r){lBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lBe(e,t,n){return(t=cBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cBe(e){var t=uBe(e,"string");return typeof t=="symbol"?t:t+""}function uBe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ite=p.createContext({width:-1,height:-1});function dBe(e){return Lo(e.width)&&Lo(e.height)}function Ote(e){var{children:t,width:n,height:r}=e,a=p.useMemo(()=>({width:n,height:r}),[n,r]);return dBe(a)?p.createElement(Ite.Provider,{value:a},t):null}var lI=()=>p.useContext(Ite),fBe=p.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,v=p.useRef(null),b=p.useRef();b.current=m,p.useImperativeHandle(t,()=>v.current);var[y,x]=p.useState({containerWidth:r.width,containerHeight:r.height}),w=p.useCallback((P,E)=>{x(R=>{var O=Math.round(P),G=Math.round(E);return R.containerWidth===O&&R.containerHeight===G?R:{containerWidth:O,containerHeight:G}})},[]);p.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return dx;var P=G=>{var te,{width:V,height:z}=G[0].contentRect;w(V,z),(te=b.current)===null||te===void 0||te.call(b,V,z)};d>0&&(P=tBe(P,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(P),{width:R,height:O}=v.current.getBoundingClientRect();return w(R,O),E.observe(v.current),()=>{E.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:j}=y;G1(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:N}=Mte(S,j,{width:a,height:s,aspect:n,maxHeight:c});return G1(k!=null&&k>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,N,a,s,o,l,n),p.createElement("div",{id:f?"".concat(f):void 0,className:cn("recharts-responsive-container",h),style:X5(X5({},g),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:v},p.createElement("div",{style:iBe({width:a,height:s})},p.createElement(Ote,{width:k,height:N},u)))}),e6=p.forwardRef((e,t)=>{var n=lI();if(Lo(n.width)&&Lo(n.height))return e.children;var{width:r,height:a}=oBe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=Mte(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return wt(s)&&wt(o)?p.createElement(Ote,{width:s,height:o},e.children):p.createElement(fBe,tT({},e,{width:r,height:a,ref:t}))});function Lte(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var vx=()=>{var e,t=ua(),n=kt(JFe),r=kt(Tj),a=(e=kt(Ej))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},hBe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$te=()=>{var e;return(e=kt(ca))!==null&&e!==void 0?e:hBe},cI=()=>kt(Gl),uI=()=>kt(Wl),mBe=()=>kt(e=>e.layout.margin),hn=e=>e.layout.layoutType,dp=()=>kt(hn),pBe=()=>{var e=dp();return e!==void 0},_j=e=>{var t=lr(),n=ua(),{width:r,height:a}=e,s=lI(),o=r,l=a;return s&&(o=s.width>0?s.width:r,l=s.height>0?s.height:a),p.useEffect(()=>{!n&&Lo(o)&&Lo(l)&&t(CFe({width:o,height:l}))},[t,n,o,l]),null},Fte=Symbol.for("immer-nothing"),t6=Symbol.for("immer-draftable"),Ks=Symbol.for("immer-state");function Fi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fy=Object.getPrototypeOf;function km(e){return!!e&&!!e[Ks]}function Wd(e){var t;return e?Bte(e)||Array.isArray(e)||!!e[t6]||!!((t=e.constructor)!=null&&t[t6])||yx(e)||Rj(e):!1}var gBe=Object.prototype.constructor.toString(),n6=new WeakMap;function Bte(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=n6.get(n);return r===void 0&&(r=Function.toString.call(n),n6.set(n,r)),r===gBe}function W1(e,t,n=!0){Dj(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Dj(e){const t=e[Ks];return t?t.type_:Array.isArray(e)?1:yx(e)?2:Rj(e)?3:0}function nT(e,t){return Dj(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vte(e,t,n){const r=Dj(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function vBe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yx(e){return e instanceof Map}function Rj(e){return e instanceof Set}function $u(e){return e.copy_||e.base_}function rT(e,t){if(yx(e))return new Map(e);if(Rj(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Bte(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ks];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const o=a[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(fy(e),r)}else{const r=fy(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function dI(e,t=!1){return Mj(e)||km(e)||!Wd(e)||(Dj(e)>1&&Object.defineProperties(e,{set:ib,add:ib,clear:ib,delete:ib}),Object.freeze(e),t&&Object.values(e).forEach(n=>dI(n,!0))),e}function yBe(){Fi(2)}var ib={value:yBe};function Mj(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var xBe={};function qd(e){const t=xBe[e];return t||Fi(0,e),t}var hy;function zte(){return hy}function bBe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function r6(e,t){t&&(qd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function aT(e){sT(e),e.drafts_.forEach(wBe),e.drafts_=null}function sT(e){e===hy&&(hy=e.parent_)}function a6(e){return hy=bBe(hy,e)}function wBe(e){const t=e[Ks];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function s6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ks].modified_&&(aT(t),Fi(4)),Wd(e)&&(e=q1(t,e),t.parent_||H1(t,e)),t.patches_&&qd("Patches").generateReplacementPatches_(n[Ks].base_,e,t.patches_,t.inversePatches_)):e=q1(t,n,[]),aT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Fte?e:void 0}function q1(e,t,n){if(Mj(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Ks];if(!a)return W1(t,(s,o)=>i6(e,a,t,s,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return H1(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,l=!1;a.type_===3&&(o=new Set(s),s.clear(),l=!0),W1(o,(c,u)=>i6(e,a,s,c,u,n,l),r),H1(e,s,!1),n&&e.patches_&&qd("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function i6(e,t,n,r,a,s,o){if(a==null||typeof a!="object"&&!o)return;const l=Mj(a);if(!(l&&!o)){if(km(a)){const c=s&&t&&t.type_!==3&&!nT(t.assigned_,r)?s.concat(r):void 0,u=q1(e,a,c);if(Vte(n,r,u),km(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(Wd(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&l)return;q1(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(yx(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&H1(e,a)}}}function H1(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dI(t,n)}function SBe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:zte(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=fI;n&&(a=[r],s=my);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return r.draft_=l,r.revoke_=o,l}var fI={get(e,t){if(t===Ks)return e;const n=$u(e);if(!nT(n,t))return CBe(e,n,t);const r=n[t];return e.finalized_||!Wd(r)?r:r===CA(e.base_,t)?(jA(e),e.copy_[t]=oT(r,e)):r},has(e,t){return t in $u(e)},ownKeys(e){return Reflect.ownKeys($u(e))},set(e,t,n){const r=Ute($u(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=CA($u(e),t),s=a==null?void 0:a[Ks];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(vBe(n,a)&&(n!==void 0||nT(e.base_,t)))return!0;jA(e),iT(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return CA(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jA(e),iT(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=$u(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Fi(11)},getPrototypeOf(e){return fy(e.base_)},setPrototypeOf(){Fi(12)}},my={};W1(fI,(e,t)=>{my[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});my.deleteProperty=function(e,t){return my.set.call(this,e,t,void 0)};my.set=function(e,t,n){return fI.set.call(this,e[0],t,n,e[0])};function CA(e,t){const n=e[Ks];return(n?$u(n):e)[t]}function CBe(e,t,n){var a;const r=Ute(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function Ute(e,t){if(!(t in e))return;let n=fy(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=fy(n)}}function iT(e){e.modified_||(e.modified_=!0,e.parent_&&iT(e.parent_))}function jA(e){e.copy_||(e.copy_=rT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(c=s,...u){return o.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&Fi(6),r!==void 0&&typeof r!="function"&&Fi(7);let a;if(Wd(t)){const s=a6(this),o=oT(t,void 0);let l=!0;try{a=n(o),l=!1}finally{l?aT(s):sT(s)}return r6(s,r),s6(a,s)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===Fte&&(a=void 0),this.autoFreeze_&&dI(a,!0),r){const s=[],o=[];qd("Patches").generateReplacementPatches_(t,a,s,o),r(s,o)}return a}else Fi(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let r,a;return[this.produce(t,n,(o,l)=>{r=o,a=l}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Wd(e)||Fi(8),km(e)&&(e=NBe(e));const t=a6(this),n=oT(e,void 0);return n[Ks].isManual_=!0,sT(t),n}finishDraft(e,t){const n=e&&e[Ks];(!n||!n.isManual_)&&Fi(9);const{scope_:r}=n;return r6(r,t),s6(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=qd("Patches").applyPatches_;return km(e)?r(e,t):this.produce(e,a=>r(a,t))}};function oT(e,t){const n=yx(e)?qd("MapSet").proxyMap_(e,t):Rj(e)?qd("MapSet").proxySet_(e,t):SBe(e,t);return(t?t.scope_:zte()).drafts_.push(n),n}function NBe(e){return km(e)||Fi(10,e),Kte(e)}function Kte(e){if(!Wd(e)||Mj(e))return e;const t=e[Ks];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=rT(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=rT(e,!0);return W1(n,(a,s)=>{Vte(n,a,Kte(s))},r),t&&(t.finalized_=!1),n}var kBe=new jBe;kBe.produce;var ABe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Gte=ws({name:"legend",initialState:ABe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Hn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Ki(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:Hn()},removeLegendPayload:{reducer(e,t){var n=Ki(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Hn()}}}),{setLegendSize:o6,setLegendSettings:PBe,addLegendPayload:EBe,replaceLegendPayload:TBe,removeLegendPayload:_Be}=Gte.actions,DBe=Gte.reducer,RBe=["contextPayload"];function lT(){return lT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lT.apply(null,arguments)}function l6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Am(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(n),!0).forEach(function(r){MBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MBe(e,t,n){return(t=IBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IBe(e){var t=OBe(e,"string");return typeof t=="symbol"?t:t+""}function OBe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LBe(e,t){if(e==null)return{};var n,r,a=$Be(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $Be(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FBe(e){return e.value}function BBe(e){var{contextPayload:t}=e,n=LBe(e,RBe),r=Fee(t,e.payloadUniqBy,FBe),a=Am(Am({},n),{},{payload:r});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement(Z4e,a)}function VBe(e,t,n,r,a,s){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((r||0)-s.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Am(Am({},u),d)}function zBe(e){var t=lr();return p.useEffect(()=>{t(PBe(e))},[t,e]),null}function UBe(e){var t=lr();return p.useEffect(()=>(t(o6(e)),()=>{t(o6({width:0,height:0}))}),[t,e]),null}function KBe(e,t,n,r){return e==="vertical"&&wt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var GBe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Wte(e){var t=qr(e,GBe),n=N$e(),r=ULe(),a=mBe(),{width:s,height:o,wrapperStyle:l,portal:c}=t,[u,d]=Yee([n]),f=cI(),h=uI();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),g=KBe(t.layout,o,s,m),v=c?l:Am(Am({position:"absolute",width:(g==null?void 0:g.width)||s||"auto",height:(g==null?void 0:g.height)||o||"auto"},VBe(l,t,a,f,h,u)),l),b=c??r;if(b==null||n==null)return null;var y=p.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},p.createElement(zBe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&p.createElement(UBe,{width:u.width,height:u.height}),p.createElement(BBe,lT({},t,g,{margin:a,chartWidth:f,chartHeight:h,contextPayload:n})));return Vo.createPortal(y,b)}Wte.displayName="Legend";function cT(){return cT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cT.apply(null,arguments)}function c6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(n),!0).forEach(function(r){WBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WBe(e,t,n){return(t=qBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qBe(e){var t=HBe(e,"string");return typeof t=="symbol"?t:t+""}function HBe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YBe(e){return Array.isArray(e)&&Oo(e[0])&&Oo(e[1])?e.join(" ~ "):e}var QBe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var j={padding:0,margin:0},k=(l?yj(s,l):s).map((N,P)=>{if(N.type==="none")return null;var E=N.formatter||o||YBe,{value:R,name:O}=N,G=R,te=O;if(E){var V=E(R,O,N,P,s);if(Array.isArray(V))[G,te]=V;else if(V!=null)G=V;else return null}var z=NA({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:z},Oo(te)?p.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Oo(te)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},G),p.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},g=NA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=NA({margin:0},a),b=!bn(d),y=b?d:"",x=cn("recharts-default-tooltip",c),w=cn("recharts-tooltip-label",u);b&&f&&s!==void 0&&s!==null&&(y=f(d,s));var S=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",cT({className:x,style:g},S),p.createElement("p",{className:w,style:v},p.isValidElement(y)?y:"".concat(y)),m())},ag="recharts-tooltip-wrapper",ZBe={visibility:"hidden"};function JBe(e){var{coordinate:t,translateX:n,translateY:r}=e;return cn(ag,{["".concat(ag,"-right")]:wt(n)&&t&&wt(t.x)&&n>=t.x,["".concat(ag,"-left")]:wt(n)&&t&&wt(t.x)&&n<t.x,["".concat(ag,"-bottom")]:wt(r)&&t&&wt(t.y)&&r>=t.y,["".concat(ag,"-top")]:wt(r)&&t&&wt(t.y)&&r<t.y})}function u6(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&wt(s[r]))return s[r];var d=n[r]-l-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var h=c[r];if(h==null)return 0;if(o[r]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+l,b=h+u;return v>b?Math.max(d,h):Math.max(f,h)}function XBe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function e3e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&n?(d=u6({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=u6({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=XBe({translateX:d,translateY:f,useTranslate3d:l})):u=ZBe,{cssProperties:u,cssClasses:JBe({translateX:d,translateY:f,coordinate:n})}}function d6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ob(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(n),!0).forEach(function(r){uT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uT(e,t,n){return(t=t3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t3e(e){var t=n3e(e,"string");return typeof t=="symbol"?t:t+""}function n3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class r3e extends p.PureComponent{constructor(){super(...arguments),uT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uT(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:v,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=e3e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),S=y?{}:ob(ob({transition:c&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=ob(ob({},S),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:b},s)}}var qte=()=>{var e;return(e=kt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function dT(){return dT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dT.apply(null,arguments)}function f6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function h6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(n),!0).forEach(function(r){a3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a3e(e,t,n){return(t=s3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s3e(e){var t=i3e(e,"string");return typeof t=="symbol"?t:t+""}function i3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m6={curveBasisClosed:l4e,curveBasisOpen:c4e,curveBasis:o4e,curveBumpX:qLe,curveBumpY:HLe,curveLinearClosed:u4e,curveLinear:uj,curveMonotoneX:d4e,curveMonotoneY:f4e,curveNatural:h4e,curveStep:m4e,curveStepAfter:g4e,curveStepBefore:p4e},Y1=e=>or(e.x)&&or(e.y),p6=e=>e.base!=null&&Y1(e.base)&&Y1(e),sg=e=>e.x,ig=e=>e.y,o3e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ux(e));return(n==="curveMonotone"||n==="curveBump")&&t?m6["".concat(n).concat(t==="vertical"?"Y":"X")]:m6[n]||uj},l3e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=e,o=o3e(t,a),l=s?n.filter(Y1):n,c;if(Array.isArray(r)){var u=n.map((m,g)=>h6(h6({},m),{},{base:r[g]}));a==="vertical"?c=X0().y(ig).x1(sg).x0(m=>m.base.x):c=X0().x(sg).y1(ig).y0(m=>m.base.y);var d=c.defined(p6).curve(o),f=s?u.filter(p6):u;return d(f)}a==="vertical"&&wt(r)?c=X0().y(ig).x1(sg).x0(r):wt(r)?c=X0().x(sg).y1(ig).y0(r):c=see().x(sg).y(ig);var h=c.defined(Y1).curve(o);return h(l)},hI=e=>{var{className:t,points:n,path:r,pathRef:a}=e,s=dp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=n&&n.length?l3e(o):r;return p.createElement("path",dT({},Us(e),BM(e),{className:cn("recharts-curve",t),d:l===null?void 0:l,ref:a}))},c3e=["x","y","top","left","width","height","className"];function fT(){return fT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fT.apply(null,arguments)}function g6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function u3e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(n),!0).forEach(function(r){d3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d3e(e,t,n){return(t=f3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f3e(e){var t=h3e(e,"string");return typeof t=="symbol"?t:t+""}function h3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m3e(e,t){if(e==null)return{};var n,r,a=p3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g3e=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),v3e=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=m3e(e,c3e),u=u3e({x:t,y:n,top:r,left:a,width:s,height:o},c);return!wt(t)||!wt(n)||!wt(s)||!wt(o)||!wt(r)||!wt(a)?null:p.createElement("path",fT({},Ha(u),{className:cn("recharts-cross",l),d:g3e(t,n,s,o,r,a)}))};function y3e(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function v6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function y6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(n),!0).forEach(function(r){x3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x3e(e,t,n){return(t=b3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b3e(e){var t=w3e(e,"string");return typeof t=="symbol"?t:t+""}function w3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S3e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Hte=(e,t,n)=>e.map(r=>"".concat(S3e(r)," ").concat(t,"ms ").concat(n)).join(","),C3e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),py=(e,t)=>Object.keys(t).reduce((n,r)=>y6(y6({},n),{},{[r]:e(r,t[r])}),{});function x6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(n),!0).forEach(function(r){j3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j3e(e,t,n){return(t=N3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N3e(e){var t=k3e(e,"string");return typeof t=="symbol"?t:t+""}function k3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q1=(e,t,n)=>e+(t-e)*n,hT=e=>{var{from:t,to:n}=e;return t!==n},Yte=(e,t,n)=>{var r=py((a,s)=>{if(hT(s)){var[o,l]=e(s.from,s.to,s.velocity);return Lr(Lr({},s),{},{from:o,velocity:l})}return s},t);return n<1?py((a,s)=>hT(s)&&r[a]!=null?Lr(Lr({},s),{},{velocity:Q1(s.velocity,r[a].velocity,n),from:Q1(s.from,r[a].from,n)}):s,t):Yte(e,r,n-1)};function A3e(e,t,n,r,a,s){var o,l=r.reduce((h,m)=>Lr(Lr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>py((h,m)=>m.from,l),u=()=>!Object.values(l).filter(hT).length,d=null,f=h=>{o||(o=h);var m=h-o,g=m/n.dt;l=Yte(n,l,g),a(Lr(Lr(Lr({},e),t),c())),o=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function P3e(e,t,n,r,a,s,o){var l=null,c=a.reduce((f,h)=>{var m=e[h],g=t[h];return m==null||g==null?f:Lr(Lr({},f),{},{[h]:[m,g]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/r,m=py((v,b)=>Q1(...b,n(h)),c);if(s(Lr(Lr(Lr({},e),t),m)),h<1)l=o.setTimeout(d);else{var g=py((v,b)=>Q1(...b,n(1)),c);s(Lr(Lr(Lr({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const E3e=(e,t,n,r,a,s)=>{var o=C3e(e,t);return n==null?()=>(a(Lr(Lr({},e),t)),()=>{}):n.isStepper===!0?A3e(e,t,n,o,a,s):P3e(e,t,n,r,o,a,s)};var Z1=1e-4,Qte=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Zte=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),b6=(e,t)=>n=>{var r=Qte(e,t);return Zte(r,n)},T3e=(e,t)=>n=>{var r=Qte(e,t),a=[...r.map((s,o)=>s*o).slice(1),0];return Zte(a,n)},_3e=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},D3e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=_3e(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},R3e=(e,t,n,r)=>{var a=b6(e,n),s=b6(t,r),o=T3e(e,n),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,g=o(f);if(Math.abs(m-d)<Z1||g<Z1)return s(f);f=l(f-m/g)}return s(f)};return c.isStepper=!1,c},w6=function(){return R3e(...D3e(...arguments))},M3e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,s=(o,l,c)=>{var u=-(o-l)*n,d=c*r,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-l)<Z1&&Math.abs(f)<Z1?[l,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},I3e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w6(e);case"spring":return M3e();default:if(e.split("(")[0]==="cubic-bezier")return w6(e)}return typeof e=="function"?e:null};function O3e(e){var t,n=()=>null,r=!1,a=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class L3e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function $3e(){return O3e(new L3e)}var F3e=p.createContext($3e);function B3e(e,t){var n=p.useContext(F3e);return p.useMemo(()=>t??n(e),[e,t,n])}var V3e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ij={isSsr:V3e()},z3e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},S6={t:0},kA={t:1};function xx(e){var t=qr(e,z3e),{isActive:n,canBegin:r,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=n==="auto"?!Ij.isSsr:n,f=B3e(t.animationId,t.animationManager),[h,m]=p.useState(d?S6:kA),g=p.useRef(null);return p.useEffect(()=>{d||m(kA)},[d]),p.useEffect(()=>{if(!d||!r)return dx;var v=E3e(S6,kA,I3e(s),a,m,f.getTimeoutController()),b=()=>{g.current=v()};return f.start([c,o,b,a,l]),()=>{f.stop(),g.current&&g.current(),l()}},[d,r,a,s,o,c,l,f]),u(h.t)}function bx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=p.useRef(ly(t)),r=p.useRef(e);return r.current!==e&&(n.current=ly(t),r.current=e),n.current}var U3e=["radius"],K3e=["radius"],C6,j6,N6,k6,A6,P6,E6,T6,_6,D6;function R6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(n),!0).forEach(function(r){G3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G3e(e,t,n){return(t=W3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W3e(e){var t=q3e(e,"string");return typeof t=="symbol"?t:t+""}function q3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J1.apply(null,arguments)}function I6(e,t){if(e==null)return{};var n,r,a=H3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function H3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O6=(e,t,n,r,a)=>{var s=kc(n),o=kc(r),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),c=o>=0?1:-1,u=s>=0?1:-1,d=o>=0&&s>=0||o<0&&s<0?1:0,f;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>l?l:a[m];f=hr(C6||(C6=fo(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=hr(j6||(j6=fo(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=hr(N6||(N6=fo(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=hr(k6||(k6=fo(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+c*h[1])),f+=hr(A6||(A6=fo(["L ",",",""])),e+n,t+r-c*h[2]),h[2]>0&&(f+=hr(P6||(P6=fo(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-u*h[2],t+r)),f+=hr(E6||(E6=fo(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=hr(T6||(T6=fo(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-c*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var v=Math.min(l,a);f=hr(_6||(_6=fo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*v,v,v,d,e+u*v,t,e+n-u*v,t,v,v,d,e+n,t+c*v,e+n,t+r-c*v,v,v,d,e+n-u*v,t+r,e+u*v,t+r,v,v,d,e,t+r-c*v)}else f=hr(D6||(D6=fo(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},L6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jte=e=>{var t=qr(e,L6),n=p.useRef(null),[r,a]=p.useState(-1);p.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var U=n.current.getTotalLength();U&&a(U)}catch{}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:v}=t,b=p.useRef(l),y=p.useRef(c),x=p.useRef(s),w=p.useRef(o),S=p.useMemo(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),j=bx(S,"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var k=cn("recharts-rectangle",d);if(!v){var N=Ha(t),{radius:P}=N,E=I6(N,U3e);return p.createElement("path",J1({},E,{x:kc(s),y:kc(o),width:kc(l),height:kc(c),radius:typeof u=="number"?u:void 0,className:k,d:O6(s,o,l,c,u)}))}var R=b.current,O=y.current,G=x.current,te=w.current,V="0px ".concat(r===-1?1:r,"px"),z="".concat(r,"px 0px"),$=Hte(["strokeDasharray"],h,typeof f=="string"?f:L6.animationEasing);return p.createElement(xx,{animationId:j,key:j,canBegin:r>0,duration:h,easing:f,isActive:v,begin:m},U=>{var M=Dn(R,l,U),F=Dn(O,c,U),W=Dn(G,s,U),Z=Dn(te,o,U);n.current&&(b.current=M,y.current=F,x.current=W,w.current=Z);var H;g?U>0?H={transition:$,strokeDasharray:z}:H={strokeDasharray:V}:H={strokeDasharray:z};var ae=Ha(t),{radius:fe}=ae,we=I6(ae,K3e);return p.createElement("path",J1({},we,{radius:typeof u=="number"?u:void 0,className:k,d:O6(W,Z,M,F,u),ref:n,style:M6(M6({},H),t.style)}))})};function $6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function F6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$6(Object(n),!0).forEach(function(r){Y3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y3e(e,t,n){return(t=Q3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q3e(e){var t=Z3e(e,"string");return typeof t=="symbol"?t:t+""}function Z3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X1=Math.PI/180,J3e=e=>e*180/Math.PI,ba=(e,t,n,r)=>({x:e+Math.cos(-X1*r)*n,y:t+Math.sin(-X1*r)*n}),X3e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},e5e=(e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)},t5e=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,o=e5e({x:n,y:r},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var l=(n-a)/o,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:o,angle:J3e(c),angleInRadian:c}},n5e=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-s*360,endAngle:n-s*360}},r5e=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(a,s);return e+o*360},a5e=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:s}=t5e({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=n5e(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?F6(F6({},t),{},{radius:a,angle:r5e(d,t)}):null};function Xte(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e,o=ba(t,n,r,a),l=ba(t,n,r,s);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}var B6,V6,z6,U6,K6,G6,W6;function mT(){return mT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mT.apply(null,arguments)}function ed(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s5e=(e,t)=>{var n=ms(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},lb=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+r,d=Math.asin(l/u)/X1,f=c?a:a+s*d,h=ba(t,n,u,f),m=ba(t,n,r,f),g=c?a-s*d:a,v=ba(t,n,u*Math.cos(d*X1),g);return{center:h,circleTangency:m,lineTangency:v,theta:d}},ene=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:o}=e,l=s5e(s,o),c=s+l,u=ba(t,n,a,s),d=ba(t,n,a,c),f=hr(B6||(B6=ed(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(s>c),d.x,d.y);if(r>0){var h=ba(t,n,r,s),m=ba(t,n,r,c);f+=hr(V6||(V6=ed(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(l)>180),+(s<=c),h.x,h.y)}else f+=hr(z6||(z6=ed(["L ",","," Z"])),t,n);return f},i5e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=ms(u-c),{circleTangency:f,lineTangency:h,theta:m}=lb({cx:t,cy:n,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:v,theta:b}=lb({cx:t,cy:n,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-m-b;if(y<0)return o?hr(U6||(U6=ed(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):ene({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:c,endAngle:u});var x=hr(K6||(K6=ed(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),g.x,g.y,s,s,+(d<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:j}=lb({cx:t,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:k,lineTangency:N,theta:P}=lb({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-j-P;if(E<0&&s===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+=hr(G6||(G6=ed(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(d<0),k.x,k.y,r,r,+(E>180),+(d>0),w.x,w.y,s,s,+(d<0),S.x,S.y)}else x+=hr(W6||(W6=ed(["L",",","Z"])),t,n);return x},o5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tne=e=>{var t=qr(e,o5e),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var h=cn("recharts-sector",f),m=s-a,g=Zi(o,m,0,!0),v;return g>0&&Math.abs(u-d)<360?v=i5e({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=ene({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),p.createElement("path",mT({},Ha(t),{className:h,d:v}))};function l5e(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(wee(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:o,angle:l}=t,c=ba(r,a,s,l),u=ba(r,a,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return Xte(t)}}var nne={},rne={},ane={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZM;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ane);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ane;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(rne);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JM,n=rne;function r(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),o=o===void 0?a<s?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((s-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=r})(nne);var c5e=nne.range;const sne=xi(c5e);function zc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function u5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mI(e){let t,n,r;e.length!==2?(t=zc,n=(l,c)=>zc(e(l),c),r=(l,c)=>e(l)-c):(t=e===zc||e===u5e?e:d5e,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function d5e(){return 0}function ine(e){return e===null?NaN:+e}function*f5e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const h5e=mI(zc),wx=h5e.right;mI(ine).center;function m5e(e,t){let n,r;for(const a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));return[n,r]}class pT extends Map{constructor(t,n=v5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(q6(this,t))}has(t){return super.has(q6(this,t))}set(t,n){return super.set(p5e(this,t),n)}delete(t){return super.delete(g5e(this,t))}}function q6({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function p5e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function g5e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function v5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function H6(e){return e}function y5e(e,...t){return x5e(e,H6,H6,t)}function x5e(e,t,n,r){return function a(s,o){if(o>=r.length)return n(s);const l=new pT,c=r[o++];let u=-1;for(const d of s){const f=c(d,++u,s),h=l.get(f);h?h.push(d):l.set(f,[d])}for(const[d,f]of l)l.set(d,a(f,o));return t(l)}(e,0)}function b5e(e=zc){if(e===zc)return one;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function one(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w5e=Math.sqrt(50),S5e=Math.sqrt(10),C5e=Math.sqrt(2);function eS(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=w5e?10:s>=S5e?5:s>=C5e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?eS(e,t,n*2):[l,c,u]}function gT(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?eS(t,e,n):eS(e,t,n);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function vT(e,t,n){return t=+t,e=+e,n=+n,eS(e,t,n)[2]}function yT(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?vT(t,e,n):vT(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Y6(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Q6(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lne(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?one:b5e(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/c+h)),g=Math.min(r,Math.floor(t+(c-u)*f/c+h));lne(e,t,m,g,a)}const s=e[t];let o=n,l=r;for(og(e,n,t),a(e[r],s)>0&&og(e,n,r);o<l;){for(og(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[n],s)===0?og(e,n,l):(++l,og(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function og(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function sw(e,t,n){if(e=Float64Array.from(f5e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Q6(e);if(t>=1)return Y6(e);var r,a=(r-1)*t,s=Math.floor(a),o=Y6(lne(e,s).subarray(0,s+1)),l=Q6(e.subarray(s+1));return o+(l-o)*(a-s)}}function j5e(e,t,n=ine){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),o=+n(e[s],s,e),l=+n(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function N5e(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}function wi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ql(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xT=Symbol("implicit");function Oj(){var e=new pT,t=[],n=[],r=xT;function a(s){let o=e.get(s);if(o===void 0){if(r!==xT)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new pT;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Oj(t,n).unknown(r)},wi.apply(a,arguments),a}function Lj(){var e=Oj().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<r,g=m?a:r,v=m?r:a;s=(v-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(v-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var b=N5e(h).map(function(y){return g+s*y});return n(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,a]=h,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(h){return[r,a]=h,r=+r,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Lj(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},wi.apply(f(),arguments)}function cne(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cne(t())},e}function k5e(){return cne(Lj.apply(null,arguments).paddingInner(1))}function pI(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function une(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Sx(){}var gy=.7,tS=1/gy,Hh="\\s*([+-]?\\d+)\\s*",vy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ro="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A5e=/^#([0-9a-f]{3,8})$/,P5e=new RegExp(`^rgb\\(${Hh},${Hh},${Hh}\\)$`),E5e=new RegExp(`^rgb\\(${Ro},${Ro},${Ro}\\)$`),T5e=new RegExp(`^rgba\\(${Hh},${Hh},${Hh},${vy}\\)$`),_5e=new RegExp(`^rgba\\(${Ro},${Ro},${Ro},${vy}\\)$`),D5e=new RegExp(`^hsl\\(${vy},${Ro},${Ro}\\)$`),R5e=new RegExp(`^hsla\\(${vy},${Ro},${Ro},${vy}\\)$`),Z6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pI(Sx,Hd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:J6,formatHex:J6,formatHex8:M5e,formatHsl:I5e,formatRgb:X6,toString:X6});function J6(){return this.rgb().formatHex()}function M5e(){return this.rgb().formatHex8()}function I5e(){return dne(this).formatHsl()}function X6(){return this.rgb().formatRgb()}function Hd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=A5e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?eV(t):n===3?new ps(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?cb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?cb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P5e.exec(e))?new ps(t[1],t[2],t[3],1):(t=E5e.exec(e))?new ps(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=T5e.exec(e))?cb(t[1],t[2],t[3],t[4]):(t=_5e.exec(e))?cb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=D5e.exec(e))?rV(t[1],t[2]/100,t[3]/100,1):(t=R5e.exec(e))?rV(t[1],t[2]/100,t[3]/100,t[4]):Z6.hasOwnProperty(e)?eV(Z6[e]):e==="transparent"?new ps(NaN,NaN,NaN,0):null}function eV(e){return new ps(e>>16&255,e>>8&255,e&255,1)}function cb(e,t,n,r){return r<=0&&(e=t=n=NaN),new ps(e,t,n,r)}function O5e(e){return e instanceof Sx||(e=Hd(e)),e?(e=e.rgb(),new ps(e.r,e.g,e.b,e.opacity)):new ps}function bT(e,t,n,r){return arguments.length===1?O5e(e):new ps(e,t,n,r??1)}function ps(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pI(ps,bT,une(Sx,{brighter(e){return e=e==null?tS:Math.pow(tS,e),new ps(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gy:Math.pow(gy,e),new ps(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ps(pd(this.r),pd(this.g),pd(this.b),nS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tV,formatHex:tV,formatHex8:L5e,formatRgb:nV,toString:nV}));function tV(){return`#${td(this.r)}${td(this.g)}${td(this.b)}`}function L5e(){return`#${td(this.r)}${td(this.g)}${td(this.b)}${td((isNaN(this.opacity)?1:this.opacity)*255)}`}function nV(){const e=nS(this.opacity);return`${e===1?"rgb(":"rgba("}${pd(this.r)}, ${pd(this.g)}, ${pd(this.b)}${e===1?")":`, ${e})`}`}function nS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function td(e){return e=pd(e),(e<16?"0":"")+e.toString(16)}function rV(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bi(e,t,n,r)}function dne(e){if(e instanceof Bi)return new Bi(e.h,e.s,e.l,e.opacity);if(e instanceof Sx||(e=Hd(e)),!e)return new Bi;if(e instanceof Bi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Bi(o,l,c,e.opacity)}function $5e(e,t,n,r){return arguments.length===1?dne(e):new Bi(e,t,n,r??1)}function Bi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pI(Bi,$5e,une(Sx,{brighter(e){return e=e==null?tS:Math.pow(tS,e),new Bi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gy:Math.pow(gy,e),new Bi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ps(AA(e>=240?e-240:e+120,a,r),AA(e,a,r),AA(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Bi(aV(this.h),ub(this.s),ub(this.l),nS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nS(this.opacity);return`${e===1?"hsl(":"hsla("}${aV(this.h)}, ${ub(this.s)*100}%, ${ub(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aV(e){return e=(e||0)%360,e<0?e+360:e}function ub(e){return Math.max(0,Math.min(1,e||0))}function AA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gI=e=>()=>e;function F5e(e,t){return function(n){return e+n*t}}function B5e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function V5e(e){return(e=+e)==1?fne:function(t,n){return n-t?B5e(t,n,e):gI(isNaN(t)?n:t)}}function fne(e,t){var n=t-e;return n?F5e(e,n):gI(isNaN(e)?t:e)}const rS=function e(t){var n=V5e(t);function r(a,s){var o=n((a=bT(a)).r,(s=bT(s)).r),l=n(a.g,s.g),c=n(a.b,s.b),u=fne(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function z5e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function U5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function K5e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=fp(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=a[o](l);return s}}function G5e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Li(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function W5e(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=fp(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var wT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,PA=new RegExp(wT.source,"g");function q5e(e){return function(){return e}}function H5e(e){return function(t){return e(t)+""}}function hne(e,t){var n=wT.lastIndex=PA.lastIndex=0,r,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=wT.exec(e))&&(a=PA.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Li(r,a)})),n=PA.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?H5e(c[0].x):q5e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function fp(e,t){var n=typeof t,r;return t==null||n==="boolean"?gI(t):(n==="number"?Li:n==="string"?(r=Hd(t))?(t=r,rS):hne:t instanceof Hd?rS:t instanceof Date?G5e:U5e(t)?z5e:Array.isArray(t)?K5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W5e:Li)(e,t)}function vI(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var sV=180/Math.PI,ST={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mne(e,t,n,r,a,s){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*sV,skewX:Math.atan(c)*sV,scaleX:o,scaleY:l}}var db;function Y5e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ST:mne(t.a,t.b,t.c,t.d,t.e,t.f)}function Q5e(e){return e==null||(db||(db=document.createElementNS("http://www.w3.org/2000/svg","g")),db.setAttribute("transform",e),!(e=db.transform.baseVal.consolidate()))?ST:(e=e.matrix,mne(e.a,e.b,e.c,e.d,e.e,e.f))}function pne(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,h,m,g){if(u!==f||d!==h){var v=m.push("translate(",null,t,null,n);g.push({i:v-4,x:Li(u,f)},{i:v-2,x:Li(d,h)})}else(f||h)&&m.push("translate("+f+t+h+n)}function o(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,r)-2,x:Li(u,d)})):d&&f.push(a(f)+"rotate("+d+r)}function l(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,r)-2,x:Li(u,d)}):d&&f.push(a(f)+"skewX("+d+r)}function c(u,d,f,h,m,g){if(u!==f||d!==h){var v=m.push(a(m)+"scale(",null,",",null,")");g.push({i:v-4,x:Li(u,f)},{i:v-2,x:Li(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,h),o(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var g=-1,v=h.length,b;++g<v;)f[(b=h[g]).i]=b.x(m);return f.join("")}}}var Z5e=pne(Y5e,"px, ","px)","deg)"),J5e=pne(Q5e,", ",")",")");function X5e(e,t){t===void 0&&(t=e,e=fp);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function e6e(e){return function(){return e}}function aS(e){return+e}var iV=[0,1];function Ua(e){return e}function CT(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:e6e(isNaN(t)?NaN:.5)}function t6e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function n6e(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=CT(a,r),s=n(o,s)):(r=CT(r,a),s=n(s,o)),function(l){return s(r(l))}}function r6e(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=CT(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var c=wx(e,l,1,r)-1;return s[c](a[c](l))}}function Cx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $j(){var e=iV,t=iV,n=fp,r,a,s,o=Ua,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ua&&(o=t6e(e[0],e[h-1])),l=h>2?r6e:n6e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(r),Li)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,aS),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=vI,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ua,d()):o!==Ua},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return r=h,a=m,d()}}function yI(){return $j()(Ua,Ua)}function a6e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Pm(e){return e=sS(Math.abs(e)),e?e[1]:NaN}function s6e(e,t){return function(n,r){for(var a=n.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function i6e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var o6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yy(e){if(!(t=o6e.exec(e)))throw new Error("invalid format: "+e);var t;return new xI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yy.prototype=xI.prototype;function xI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l6e(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var gne;function c6e(e,t){var n=sS(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(gne=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+sS(e,Math.max(0,t+s-1))[0]}function oV(e,t){var n=sS(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const lV={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a6e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oV(e*100,t),r:oV,s:c6e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cV(e){return e}var uV=Array.prototype.map,dV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function u6e(e){var t=e.grouping===void 0||e.thousands===void 0?cV:s6e(uV.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?cV:i6e(uV.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=yy(f);var h=f.fill,m=f.align,g=f.sign,v=f.symbol,b=f.zero,y=f.width,x=f.comma,w=f.precision,S=f.trim,j=f.type;j==="n"?(x=!0,j="g"):lV[j]||(w===void 0&&(w=12),S=!0,j="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var k=v==="$"?n:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=v==="$"?r:/[%p]/.test(j)?o:"",P=lV[j],E=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(O){var G=k,te=N,V,z,$;if(j==="c")te=P(O)+te,O="";else{O=+O;var U=O<0||1/O<0;if(O=isNaN(O)?c:P(Math.abs(O),w),S&&(O=l6e(O)),U&&+O==0&&g!=="+"&&(U=!1),G=(U?g==="("?g:l:g==="-"||g==="("?"":g)+G,te=(j==="s"?dV[8+gne/3]:"")+te+(U&&g==="("?")":""),E){for(V=-1,z=O.length;++V<z;)if($=O.charCodeAt(V),48>$||$>57){te=($===46?a+O.slice(V+1):O.slice(V))+te,O=O.slice(0,V);break}}}x&&!b&&(O=t(O,1/0));var M=G.length+O.length+te.length,F=M<y?new Array(y-M+1).join(h):"";switch(x&&b&&(O=t(F+O,F.length?y-te.length:1/0),F=""),m){case"<":O=G+O+te+F;break;case"=":O=G+F+O+te;break;case"^":O=F.slice(0,M=F.length>>1)+G+O+te+F.slice(M);break;default:O=F+G+O+te;break}return s(O)}return R.toString=function(){return f+""},R}function d(f,h){var m=u((f=yy(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Pm(h)/3)))*3,v=Math.pow(10,-g),b=dV[8+g/3];return function(y){return m(v*y)+b}}return{format:u,formatPrefix:d}}var fb,bI,vne;d6e({thousands:",",grouping:[3],currency:["$",""]});function d6e(e){return fb=u6e(e),bI=fb.format,vne=fb.formatPrefix,fb}function f6e(e){return Math.max(0,-Pm(Math.abs(e)))}function h6e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pm(t)/3)))*3-Pm(Math.abs(e)))}function m6e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pm(t)-Pm(e))+1}function yne(e,t,n,r){var a=yT(e,t,n),s;switch(r=yy(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=h6e(a,o))&&(r.precision=s),vne(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=m6e(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=f6e(a))&&(r.precision=s-(r.type==="%")*2);break}}return bI(r)}function yu(e){var t=e.domain;return e.ticks=function(n){var r=t();return gT(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return yne(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],l=r[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=vT(o,l,n),u===c)return r[a]=o,r[s]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function wI(){var e=yI();return e.copy=function(){return Cx(e,wI())},wi.apply(e,arguments),yu(e)}function xne(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,aS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return xne(e).unknown(t)},e=arguments.length?Array.from(e,aS):[0,1],yu(n)}function bne(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],s=e[r],o;return s<a&&(o=n,n=r,r=o,o=a,a=s,s=o),e[n]=t.floor(a),e[r]=t.ceil(s),e}function fV(e){return Math.log(e)}function hV(e){return Math.exp(e)}function p6e(e){return-Math.log(-e)}function g6e(e){return-Math.exp(-e)}function v6e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function y6e(e){return e===10?v6e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function x6e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mV(e){return(t,n)=>-e(-t,n)}function SI(e){const t=e(fV,hV),n=t.domain;let r=10,a,s;function o(){return a=x6e(r),s=y6e(r),n()[0]<0?(a=mV(a),s=mV(s),e(p6e,g6e)):e(fV,hV),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,v;const b=l==null?10:+l;let y=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(v=h<0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;y.push(v)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;y.push(v)}y.length*2<b&&(y=gT(u,d,b))}else y=gT(h,m,Math.min(m-h,b)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=yy(c)).precision==null&&(c.trim=!0),c=bI(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(bne(n(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function wne(){const e=SI($j()).domain([1,10]);return e.copy=()=>Cx(e,wne()).base(e.base()),wi.apply(e,arguments),e}function pV(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function CI(e){var t=1,n=e(pV(t),gV(t));return n.constant=function(r){return arguments.length?e(pV(t=+r),gV(t)):t},yu(n)}function Sne(){var e=CI($j());return e.copy=function(){return Cx(e,Sne()).constant(e.constant())},wi.apply(e,arguments)}function vV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function b6e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function w6e(e){return e<0?-e*e:e*e}function jI(e){var t=e(Ua,Ua),n=1;function r(){return n===1?e(Ua,Ua):n===.5?e(b6e,w6e):e(vV(n),vV(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},yu(t)}function NI(){var e=jI($j());return e.copy=function(){return Cx(e,NI()).exponent(e.exponent())},wi.apply(e,arguments),e}function S6e(){return NI.apply(null,arguments).exponent(.5)}function yV(e){return Math.sign(e)*e*e}function C6e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Cne(){var e=yI(),t=[0,1],n=!1,r;function a(s){var o=C6e(e(s));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(s){return e.invert(yV(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,aS)).map(yV)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Cne(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},wi.apply(a,arguments),yu(a)}function jne(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=j5e(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:t[wx(n,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(zc),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return jne().domain(e).range(t).unknown(r)},wi.apply(s,arguments)}function Nne(){var e=0,t=1,n=1,r=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[wx(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Nne().domain([e,t]).range(a).unknown(s)},wi.apply(yu(o),arguments)}function kne(){var e=[.5],t=[0,1],n,r=1;function a(s){return s!=null&&s<=s?t[wx(e,s,0,r)]:n}return a.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return kne().domain(e).range(t).unknown(n)},wi.apply(a,arguments)}const EA=new Date,TA=new Date;function Hr(e,t,n,r){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Hr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),n&&(a.count=(s,o)=>(EA.setTime(+s),TA.setTime(+o),e(EA),e(TA),Math.floor(n(EA,TA))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?o=>r(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const iS=Hr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):iS);iS.range;const pl=1e3,ui=pl*60,gl=ui*60,Ol=gl*24,kI=Ol*7,xV=Ol*30,_A=Ol*365,nd=Hr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pl)},(e,t)=>(t-e)/pl,e=>e.getUTCSeconds());nd.range;const AI=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pl)},(e,t)=>{e.setTime(+e+t*ui)},(e,t)=>(t-e)/ui,e=>e.getMinutes());AI.range;const PI=Hr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ui)},(e,t)=>(t-e)/ui,e=>e.getUTCMinutes());PI.range;const EI=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pl-e.getMinutes()*ui)},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getHours());EI.range;const TI=Hr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getUTCHours());TI.range;const jx=Hr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ui)/Ol,e=>e.getDate()-1);jx.range;const Fj=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ol,e=>e.getUTCDate()-1);Fj.range;const Ane=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ol,e=>Math.floor(e/Ol));Ane.range;function hf(e){return Hr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ui)/kI)}const Bj=hf(0),oS=hf(1),j6e=hf(2),N6e=hf(3),Em=hf(4),k6e=hf(5),A6e=hf(6);Bj.range;oS.range;j6e.range;N6e.range;Em.range;k6e.range;A6e.range;function mf(e){return Hr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/kI)}const Vj=mf(0),lS=mf(1),P6e=mf(2),E6e=mf(3),Tm=mf(4),T6e=mf(5),_6e=mf(6);Vj.range;lS.range;P6e.range;E6e.range;Tm.range;T6e.range;_6e.range;const _I=Hr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_I.range;const DI=Hr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());DI.range;const Ll=Hr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ll.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ll.range;const $l=Hr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$l.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$l.range;function Pne(e,t,n,r,a,s){const o=[[nd,1,pl],[nd,5,5*pl],[nd,15,15*pl],[nd,30,30*pl],[s,1,ui],[s,5,5*ui],[s,15,15*ui],[s,30,30*ui],[a,1,gl],[a,3,3*gl],[a,6,6*gl],[a,12,12*gl],[r,1,Ol],[r,2,2*Ol],[n,1,kI],[t,1,xV],[t,3,3*xV],[e,1,_A]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=mI(([,,b])=>b).right(o,h);if(m===o.length)return e.every(yT(u/_A,d/_A,f));if(m===0)return iS.every(Math.max(yT(u,d,f),1));const[g,v]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(v)}return[l,c]}const[D6e,R6e]=Pne($l,DI,Vj,Ane,TI,PI),[M6e,I6e]=Pne(Ll,_I,Bj,jx,EI,AI);function DA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function RA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function O6e(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=cg(a),d=ug(a),f=cg(s),h=ug(s),m=cg(o),g=ug(o),v=cg(l),b=ug(l),y=cg(c),x=ug(c),w={a:U,A:M,b:F,B:W,c:null,d:NV,e:NV,f:sVe,g:pVe,G:vVe,H:nVe,I:rVe,j:aVe,L:Ene,m:iVe,M:oVe,p:Z,q:H,Q:PV,s:EV,S:lVe,u:cVe,U:uVe,V:dVe,w:fVe,W:hVe,x:null,X:null,y:mVe,Y:gVe,Z:yVe,"%":AV},S={a:ae,A:fe,b:we,B:Pe,c:null,d:kV,e:kV,f:SVe,g:DVe,G:MVe,H:xVe,I:bVe,j:wVe,L:_ne,m:CVe,M:jVe,p:me,q:Ue,Q:PV,s:EV,S:NVe,u:kVe,U:AVe,V:PVe,w:EVe,W:TVe,x:null,X:null,y:_Ve,Y:RVe,Z:IVe,"%":AV},j={a:R,A:O,b:G,B:te,c:V,d:CV,e:CV,f:J6e,g:SV,G:wV,H:jV,I:jV,j:H6e,L:Z6e,m:q6e,M:Y6e,p:E,q:W6e,Q:eVe,s:tVe,S:Q6e,u:V6e,U:z6e,V:U6e,w:B6e,W:K6e,x:z,X:$,y:SV,Y:wV,Z:G6e,"%":X6e};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),S.x=k(n,S),S.X=k(r,S),S.c=k(t,S);function k(ne,je){return function(ve){var re=[],Ye=-1,Fe=0,Je=ne.length,Le,lt,ct;for(ve instanceof Date||(ve=new Date(+ve));++Ye<Je;)ne.charCodeAt(Ye)===37&&(re.push(ne.slice(Fe,Ye)),(lt=bV[Le=ne.charAt(++Ye)])!=null?Le=ne.charAt(++Ye):lt=Le==="e"?" ":"0",(ct=je[Le])&&(Le=ct(ve,lt)),re.push(Le),Fe=Ye+1);return re.push(ne.slice(Fe,Ye)),re.join("")}}function N(ne,je){return function(ve){var re=lg(1900,void 0,1),Ye=P(re,ne,ve+="",0),Fe,Je;if(Ye!=ve.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(je&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Fe=RA(lg(re.y,0,1)),Je=Fe.getUTCDay(),Fe=Je>4||Je===0?lS.ceil(Fe):lS(Fe),Fe=Fj.offset(Fe,(re.V-1)*7),re.y=Fe.getUTCFullYear(),re.m=Fe.getUTCMonth(),re.d=Fe.getUTCDate()+(re.w+6)%7):(Fe=DA(lg(re.y,0,1)),Je=Fe.getDay(),Fe=Je>4||Je===0?oS.ceil(Fe):oS(Fe),Fe=jx.offset(Fe,(re.V-1)*7),re.y=Fe.getFullYear(),re.m=Fe.getMonth(),re.d=Fe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Je="Z"in re?RA(lg(re.y,0,1)).getUTCDay():DA(lg(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Je+5)%7:re.w+re.U*7-(Je+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,RA(re)):DA(re)}}function P(ne,je,ve,re){for(var Ye=0,Fe=je.length,Je=ve.length,Le,lt;Ye<Fe;){if(re>=Je)return-1;if(Le=je.charCodeAt(Ye++),Le===37){if(Le=je.charAt(Ye++),lt=j[Le in bV?je.charAt(Ye++):Le],!lt||(re=lt(ne,ve,re))<0)return-1}else if(Le!=ve.charCodeAt(re++))return-1}return re}function E(ne,je,ve){var re=u.exec(je.slice(ve));return re?(ne.p=d.get(re[0].toLowerCase()),ve+re[0].length):-1}function R(ne,je,ve){var re=m.exec(je.slice(ve));return re?(ne.w=g.get(re[0].toLowerCase()),ve+re[0].length):-1}function O(ne,je,ve){var re=f.exec(je.slice(ve));return re?(ne.w=h.get(re[0].toLowerCase()),ve+re[0].length):-1}function G(ne,je,ve){var re=y.exec(je.slice(ve));return re?(ne.m=x.get(re[0].toLowerCase()),ve+re[0].length):-1}function te(ne,je,ve){var re=v.exec(je.slice(ve));return re?(ne.m=b.get(re[0].toLowerCase()),ve+re[0].length):-1}function V(ne,je,ve){return P(ne,t,je,ve)}function z(ne,je,ve){return P(ne,n,je,ve)}function $(ne,je,ve){return P(ne,r,je,ve)}function U(ne){return o[ne.getDay()]}function M(ne){return s[ne.getDay()]}function F(ne){return c[ne.getMonth()]}function W(ne){return l[ne.getMonth()]}function Z(ne){return a[+(ne.getHours()>=12)]}function H(ne){return 1+~~(ne.getMonth()/3)}function ae(ne){return o[ne.getUTCDay()]}function fe(ne){return s[ne.getUTCDay()]}function we(ne){return c[ne.getUTCMonth()]}function Pe(ne){return l[ne.getUTCMonth()]}function me(ne){return a[+(ne.getUTCHours()>=12)]}function Ue(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var je=k(ne+="",w);return je.toString=function(){return ne},je},parse:function(ne){var je=N(ne+="",!1);return je.toString=function(){return ne},je},utcFormat:function(ne){var je=k(ne+="",S);return je.toString=function(){return ne},je},utcParse:function(ne){var je=N(ne+="",!0);return je.toString=function(){return ne},je}}}var bV={"-":"",_:" ",0:"0"},da=/^\s*\d+/,L6e=/^%/,$6e=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function F6e(e){return e.replace($6e,"\\$&")}function cg(e){return new RegExp("^(?:"+e.map(F6e).join("|")+")","i")}function ug(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function B6e(e,t,n){var r=da.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function V6e(e,t,n){var r=da.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function z6e(e,t,n){var r=da.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function U6e(e,t,n){var r=da.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function K6e(e,t,n){var r=da.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function wV(e,t,n){var r=da.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function SV(e,t,n){var r=da.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function G6e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function W6e(e,t,n){var r=da.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function q6e(e,t,n){var r=da.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function CV(e,t,n){var r=da.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function H6e(e,t,n){var r=da.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function jV(e,t,n){var r=da.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Y6e(e,t,n){var r=da.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Q6e(e,t,n){var r=da.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Z6e(e,t,n){var r=da.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function J6e(e,t,n){var r=da.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function X6e(e,t,n){var r=L6e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function eVe(e,t,n){var r=da.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function tVe(e,t,n){var r=da.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NV(e,t){return un(e.getDate(),t,2)}function nVe(e,t){return un(e.getHours(),t,2)}function rVe(e,t){return un(e.getHours()%12||12,t,2)}function aVe(e,t){return un(1+jx.count(Ll(e),e),t,3)}function Ene(e,t){return un(e.getMilliseconds(),t,3)}function sVe(e,t){return Ene(e,t)+"000"}function iVe(e,t){return un(e.getMonth()+1,t,2)}function oVe(e,t){return un(e.getMinutes(),t,2)}function lVe(e,t){return un(e.getSeconds(),t,2)}function cVe(e){var t=e.getDay();return t===0?7:t}function uVe(e,t){return un(Bj.count(Ll(e)-1,e),t,2)}function Tne(e){var t=e.getDay();return t>=4||t===0?Em(e):Em.ceil(e)}function dVe(e,t){return e=Tne(e),un(Em.count(Ll(e),e)+(Ll(e).getDay()===4),t,2)}function fVe(e){return e.getDay()}function hVe(e,t){return un(oS.count(Ll(e)-1,e),t,2)}function mVe(e,t){return un(e.getFullYear()%100,t,2)}function pVe(e,t){return e=Tne(e),un(e.getFullYear()%100,t,2)}function gVe(e,t){return un(e.getFullYear()%1e4,t,4)}function vVe(e,t){var n=e.getDay();return e=n>=4||n===0?Em(e):Em.ceil(e),un(e.getFullYear()%1e4,t,4)}function yVe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function kV(e,t){return un(e.getUTCDate(),t,2)}function xVe(e,t){return un(e.getUTCHours(),t,2)}function bVe(e,t){return un(e.getUTCHours()%12||12,t,2)}function wVe(e,t){return un(1+Fj.count($l(e),e),t,3)}function _ne(e,t){return un(e.getUTCMilliseconds(),t,3)}function SVe(e,t){return _ne(e,t)+"000"}function CVe(e,t){return un(e.getUTCMonth()+1,t,2)}function jVe(e,t){return un(e.getUTCMinutes(),t,2)}function NVe(e,t){return un(e.getUTCSeconds(),t,2)}function kVe(e){var t=e.getUTCDay();return t===0?7:t}function AVe(e,t){return un(Vj.count($l(e)-1,e),t,2)}function Dne(e){var t=e.getUTCDay();return t>=4||t===0?Tm(e):Tm.ceil(e)}function PVe(e,t){return e=Dne(e),un(Tm.count($l(e),e)+($l(e).getUTCDay()===4),t,2)}function EVe(e){return e.getUTCDay()}function TVe(e,t){return un(lS.count($l(e)-1,e),t,2)}function _Ve(e,t){return un(e.getUTCFullYear()%100,t,2)}function DVe(e,t){return e=Dne(e),un(e.getUTCFullYear()%100,t,2)}function RVe(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function MVe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Tm(e):Tm.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function IVe(){return"+0000"}function AV(){return"%"}function PV(e){return+e}function EV(e){return Math.floor(+e/1e3)}var Yf,Rne,Mne;OVe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OVe(e){return Yf=O6e(e),Rne=Yf.format,Yf.parse,Mne=Yf.utcFormat,Yf.utcParse,Yf}function LVe(e){return new Date(e)}function $Ve(e){return e instanceof Date?+e:+new Date(+e)}function RI(e,t,n,r,a,s,o,l,c,u){var d=yI(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),v=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),x=u("%b %d"),w=u("%B"),S=u("%Y");function j(k){return(c(k)<k?m:l(k)<k?g:o(k)<k?v:s(k)<k?b:r(k)<k?a(k)<k?y:x:n(k)<k?w:S)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,$Ve)):h().map(LVe)},d.ticks=function(k){var N=h();return e(N[0],N[N.length-1],k??10)},d.tickFormat=function(k,N){return N==null?j:u(N)},d.nice=function(k){var N=h();return(!k||typeof k.range!="function")&&(k=t(N[0],N[N.length-1],k??10)),k?h(bne(N,k)):d},d.copy=function(){return Cx(d,RI(e,t,n,r,a,s,o,l,c,u))},d}function FVe(){return wi.apply(RI(M6e,I6e,Ll,_I,Bj,jx,EI,AI,nd,Rne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BVe(){return wi.apply(RI(D6e,R6e,$l,DI,Vj,Fj,TI,PI,nd,Mne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zj(){var e=0,t=1,n,r,a,s,o=Ua,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-n)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(fp),u.rangeRound=d(vI),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function xu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ine(){var e=yu(zj()(Ua));return e.copy=function(){return xu(e,Ine())},ql.apply(e,arguments)}function One(){var e=SI(zj()).domain([1,10]);return e.copy=function(){return xu(e,One()).base(e.base())},ql.apply(e,arguments)}function Lne(){var e=CI(zj());return e.copy=function(){return xu(e,Lne()).constant(e.constant())},ql.apply(e,arguments)}function MI(){var e=jI(zj());return e.copy=function(){return xu(e,MI()).exponent(e.exponent())},ql.apply(e,arguments)}function VVe(){return MI.apply(null,arguments).exponent(.5)}function $ne(){var e=[],t=Ua;function n(r){if(r!=null&&!isNaN(r=+r))return t((wx(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(zc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>sw(e,s/r))},n.copy=function(){return $ne(t).domain(e)},ql.apply(n,arguments)}function Uj(){var e=0,t=.5,n=1,r=1,a,s,o,l,c,u=Ua,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-s)*(r*v<r*s?l:c),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,a=d(e=+e),s=d(t=+t),o=d(n=+n),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),r=s<a?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function g(v){return function(b){var y,x,w;return arguments.length?([y,x,w]=b,u=X5e(v,[y,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(fp),m.rangeRound=g(vI),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,a=v(e),s=v(t),o=v(n),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),r=s<a?-1:1,m}}function Fne(){var e=yu(Uj()(Ua));return e.copy=function(){return xu(e,Fne())},ql.apply(e,arguments)}function Bne(){var e=SI(Uj()).domain([.1,1,10]);return e.copy=function(){return xu(e,Bne()).base(e.base())},ql.apply(e,arguments)}function Vne(){var e=CI(Uj());return e.copy=function(){return xu(e,Vne()).constant(e.constant())},ql.apply(e,arguments)}function II(){var e=jI(Uj());return e.copy=function(){return xu(e,II()).exponent(e.exponent())},ql.apply(e,arguments)}function zVe(){return II.apply(null,arguments).exponent(.5)}const Rg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lj,scaleDiverging:Fne,scaleDivergingLog:Bne,scaleDivergingPow:II,scaleDivergingSqrt:zVe,scaleDivergingSymlog:Vne,scaleIdentity:xne,scaleImplicit:xT,scaleLinear:wI,scaleLog:wne,scaleOrdinal:Oj,scalePoint:k5e,scalePow:NI,scaleQuantile:jne,scaleQuantize:Nne,scaleRadial:Cne,scaleSequential:Ine,scaleSequentialLog:One,scaleSequentialPow:MI,scaleSequentialQuantile:$ne,scaleSequentialSqrt:VVe,scaleSequentialSymlog:Lne,scaleSqrt:S6e,scaleSymlog:Sne,scaleThreshold:kne,scaleTime:FVe,scaleUtc:BVe,tickFormat:yne},Symbol.toStringTag,{value:"Module"}));var Hl=e=>e.chartData,zne=Me([Hl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Kj=(e,t,n,r)=>r?zne(e):Hl(e),UVe=(e,t,n)=>n?zne(e):Hl(e);function tu(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(or(t)&&or(n))return!0}return!1}function TV(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Une(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,s;if(or(n))a=n;else if(typeof n=="function")return;if(or(r))s=r;else if(typeof r=="function")return;var o=[a,s];if(tu(o))return o}}function KVe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(tu(r))return TV(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(wt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&H5.test(a)){var c=H5.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(wt(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&Y5.test(s)){var d=Y5.exec(s);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(tu(h))return t==null?h:TV(h,t,n)}}}var hp=1e9,GVe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LI,Zn=!0,yi="[DecimalError] ",gd=yi+"Invalid argument: ",OI=yi+"Exponent out of range: ",mp=Math.floor,Fu=Math.pow,WVe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_s,aa=1e7,Bn=7,Kne=9007199254740991,cS=mp(Kne/Bn),yt={};yt.absoluteValue=yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};yt.comparedTo=yt.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Bn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};yt.dividedBy=yt.div=function(e){return wl(this,new this.constructor(e))};yt.dividedToIntegerBy=yt.idiv=function(e){var t=this,n=t.constructor;return En(wl(t,new n(e),0,1),n.precision)};yt.equals=yt.eq=function(e){return!this.cmp(e)};yt.exponent=function(){return Dr(this)};yt.greaterThan=yt.gt=function(e){return this.cmp(e)>0};yt.greaterThanOrEqualTo=yt.gte=function(e){return this.cmp(e)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(e){return this.cmp(e)<0};yt.lessThanOrEqualTo=yt.lte=function(e){return this.cmp(e)<1};yt.logarithm=yt.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(_s))throw Error(yi+"NaN");if(n.s<1)throw Error(yi+(n.s?"NaN":"-Infinity"));return n.eq(_s)?new r(0):(Zn=!1,t=wl(xy(n,s),xy(e,s),s),Zn=!0,En(t,a))};yt.minus=yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qne(t,e):Gne(t,(e.s=-e.s,e))};yt.modulo=yt.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(yi+"NaN");return n.s?(Zn=!1,t=wl(n,e,0,1).times(e),Zn=!0,n.minus(t)):En(new r(n),a)};yt.naturalExponential=yt.exp=function(){return Wne(this)};yt.naturalLogarithm=yt.ln=function(){return xy(this)};yt.negated=yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};yt.plus=yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Gne(t,e):qne(t,(e.s=-e.s,e))};yt.precision=yt.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gd+e);if(t=Dr(a)+1,r=a.d.length-1,n=r*Bn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};yt.squareRoot=yt.sqrt=function(){var e,t,n,r,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(yi+"NaN")}for(e=Dr(l),Zn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=So(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=mp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(s=r,r=s.plus(wl(l,s,o+2)).times(.5),So(s.d).slice(0,o)===(t=So(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(En(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(t!="9999")break;o+=4}return Zn=!0,En(r,n)};yt.times=yt.mul=function(e){var t,n,r,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=s[a]+m[r]*h[a-r-1]+t,s[a--]=l%aa|0,t=l/aa|0;s[a]=(s[a]+t)%aa|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Zn?En(e,f.precision):e};yt.toDecimalPlaces=yt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:($o(e,0,hp),t===void 0?t=r.rounding:$o(t,0,8),En(n,e+Dr(n)+1,t))};yt.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Yd(r,!0):($o(e,0,hp),t===void 0?t=a.rounding:$o(t,0,8),r=En(new a(r),e+1,t),n=Yd(r,!0,e+1)),n};yt.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?Yd(a):($o(e,0,hp),t===void 0?t=s.rounding:$o(t,0,8),r=En(new s(a),e+Dr(a)+1,t),n=Yd(r.abs(),!1,e+Dr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};yt.toInteger=yt.toint=function(){var e=this,t=e.constructor;return En(new t(e),Dr(e)+1,t.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(e){var t,n,r,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(_s);if(l=new c(l),!l.s){if(e.s<1)throw Error(yi+"Infinity");return l}if(l.eq(_s))return l;if(r=c.precision,e.eq(_s))return En(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=l.s,o){if((n=d<0?-d:d)<=Kne){for(a=new c(_s),t=Math.ceil(r/Bn+4),Zn=!1;n%2&&(a=a.times(l),DV(a.d,t)),n=mp(n/2),n!==0;)l=l.times(l),DV(l.d,t);return Zn=!0,e.s<0?new c(_s).div(a):En(a,r)}}else if(s<0)throw Error(yi+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Zn=!1,a=e.times(xy(l,r+u)),Zn=!0,a=Wne(a),a.s=s,a};yt.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?(n=Dr(a),r=Yd(a,n<=s.toExpNeg||n>=s.toExpPos)):($o(e,1,hp),t===void 0?t=s.rounding:$o(t,0,8),a=En(new s(a),e,t),n=Dr(a),r=Yd(a,e<=n||n<=s.toExpNeg,e)),r};yt.toSignificantDigits=yt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):($o(e,1,hp),t===void 0?t=r.rounding:$o(t,0,8)),En(new r(n),e,t)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Dr(e),n=e.constructor;return Yd(e,t<=n.toExpNeg||t>=n.toExpPos)};function Gne(e,t){var n,r,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Zn?En(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(f/Bn),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/aa|0,c[s]%=aa;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Zn?En(t,f):t}function $o(e,t,n){if(e!==~~e||e<t||e>n)throw Error(gd+e)}function So(e){var t,n,r,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)r=e[t]+"",n=Bn-r.length,n&&(s+=pc(n)),s+=r;o=e[t],r=o+"",n=Bn-r.length,n&&(s+=pc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var wl=function(){function e(r,a){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*a+o,r[l]=s%aa|0,o=s/aa|0;return o&&r.unshift(o),r}function t(r,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,s){for(var o=0;s--;)r[s]-=o,o=r[s]<a[s]?1:0,r[s]=o*aa+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,o){var l,c,u,d,f,h,m,g,v,b,y,x,w,S,j,k,N,P,E=r.constructor,R=r.s==a.s?1:-1,O=r.d,G=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(yi+"Division by zero");for(c=r.e-a.e,N=G.length,j=O.length,m=new E(R),g=m.d=[],u=0;G[u]==(O[u]||0);)++u;if(G[u]>(O[u]||0)&&--c,s==null?x=s=E.precision:o?x=s+(Dr(r)-Dr(a))+1:x=s,x<0)return new E(0);if(x=x/Bn+2|0,u=0,N==1)for(d=0,G=G[0],x++;(u<j||d)&&x--;u++)w=d*aa+(O[u]||0),g[u]=w/G|0,d=w%G|0;else{for(d=aa/(G[0]+1)|0,d>1&&(G=e(G,d),O=e(O,d),N=G.length,j=O.length),S=N,v=O.slice(0,N),b=v.length;b<N;)v[b++]=0;P=G.slice(),P.unshift(0),k=G[0],G[1]>=aa/2&&++k;do d=0,l=t(G,v,N,b),l<0?(y=v[0],N!=b&&(y=y*aa+(v[1]||0)),d=y/k|0,d>1?(d>=aa&&(d=aa-1),f=e(G,d),h=f.length,b=v.length,l=t(f,v,h,b),l==1&&(d--,n(f,N<h?P:G,h))):(d==0&&(l=d=1),f=G.slice()),h=f.length,h<b&&f.unshift(0),n(v,f,b),l==-1&&(b=v.length,l=t(G,v,N,b),l<1&&(d++,n(v,N<b?P:G,b))),b=v.length):l===0&&(d++,v=[0]),g[u++]=d,l&&v[0]?v[b++]=O[S]||0:(v=[O[S]],b=1);while((S++<j||v[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,En(m,o?s+Dr(m)+1:s)}}();function Wne(e,t){var n,r,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Dr(e)>16)throw Error(OI+Dr(e));if(!e.s)return new d(_s);for(Zn=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Fu(2,u))/Math.LN10*2+5|0,l+=r,n=a=s=new d(_s),d.precision=l;;){if(a=En(a.times(e),l),n=n.times(++c),o=s.plus(wl(a,n,l)),So(o.d).slice(0,l)===So(s.d).slice(0,l)){for(;u--;)s=En(s.times(s),l);return d.precision=f,t==null?(Zn=!0,En(s,f)):s}s=o}}function Dr(e){for(var t=e.e*Bn,n=e.d[0];n>=10;n/=10)t++;return t}function MA(e,t,n){if(t>e.LN10.sd())throw Zn=!0,n&&(e.precision=n),Error(yi+"LN10 precision limit exceeded");return En(new e(e.LN10),t)}function pc(e){for(var t="";e--;)t+="0";return t}function xy(e,t){var n,r,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(yi+(m.s?"NaN":"-Infinity"));if(m.eq(_s))return new v(0);if(t==null?(Zn=!1,u=b):u=t,m.eq(10))return t==null&&(Zn=!0),MA(v,u);if(u+=h,v.precision=u,n=So(g),r=n.charAt(0),s=Dr(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=So(m.d),r=n.charAt(0),f++;s=Dr(m),r>1?(m=new v("0."+n),s++):m=new v(r+"."+n.slice(1))}else return c=MA(v,u+2,b).times(s+""),m=xy(new v(r+"."+n.slice(1)),u-h).plus(c),v.precision=b,t==null?(Zn=!0,En(m,b)):m;for(l=o=m=wl(m.minus(_s),m.plus(_s),u),d=En(m.times(m),u),a=3;;){if(o=En(o.times(d),u),c=l.plus(wl(o,new v(a),u)),So(c.d).slice(0,u)===So(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(MA(v,u+2,b).times(s+""))),l=wl(l,new v(f),u),v.precision=b,t==null?(Zn=!0,En(l,b)):l;l=c,a+=2}}function _V(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=mp(n/Bn),e.d=[],r=(n+1)%Bn,n<0&&(r+=Bn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Bn;r<a;)e.d.push(+t.slice(r,r+=Bn));t=t.slice(r),r=Bn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Zn&&(e.e>cS||e.e<-cS))throw Error(OI+n)}else e.s=0,e.e=0,e.d=[0];return e}function En(e,t,n){var r,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=Bn,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/Bn),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=Bn,a=r-Bn+o}if(n!==void 0&&(s=Fu(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/Fu(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(s=Dr(e),f.length=1,t=t-s-1,f[0]=Fu(10,(Bn-t%Bn)%Bn),e.e=mp(-t/Bn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Fu(10,Bn-r),f[d]=a>0?(u/Fu(10,o-a)%Fu(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==aa&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=aa)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Zn&&(e.e>cS||e.e<-cS))throw Error(OI+Dr(e));return e}function qne(e,t){var n,r,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Zn?En(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),a=Math.max(Math.ceil(m/Bn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=aa-1;--c[s],c[a]+=aa}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Zn?En(t,m):t):new h(0)}function Yd(e,t,n){var r,a=Dr(e),s=So(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+pc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+pc(-a-1)+s,n&&(r=n-o)>0&&(s+=pc(r))):a>=o?(s+=pc(a+1-o),n&&(r=n-a-1)>0&&(s=s+"."+pc(r))):((r=a+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(s+="."),s+=pc(r))),e.s<0?"-"+s:s}function DV(e,t){if(e.length>t)return e.length=t,!0}function Hne(e){var t,n,r;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(gd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return _V(o,s.toString())}else if(typeof s!="string")throw Error(gd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,WVe.test(s))_V(o,s);else throw Error(gd+s)}if(a.prototype=yt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Hne,a.config=a.set=qVe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function qVe(e){if(!e||typeof e!="object")throw Error(yi+"Object expected");var t,n,r,a=["precision",1,hp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(mp(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(gd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gd+n+": "+r);return this}var LI=Hne(GVe);_s=new LI(1);const xn=LI;var HVe=e=>e,Yne={},Qne=e=>e===Yne,RV=e=>function t(){return arguments.length===0||arguments.length===1&&Qne(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Zne=(e,t)=>e===1?t:RV(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(o=>o!==Yne).length;return s>=e?t(...r):Zne(e-s,RV(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=r.map(d=>Qne(d)?l.shift():d);return t(...u,...l)}))}),YVe=e=>Zne(e.length,e),jT=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},QVe=YVe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),ZVe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return HVe;var a=n.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),s(...arguments))}};function Jne(e){var t;return e===0?t=1:t=Math.floor(new xn(e).abs().log(10).toNumber())+1,t}function Xne(e,t,n){for(var r=new xn(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var ere=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},tre=(e,t,n)=>{if(e.lte(0))return new xn(0);var r=Jne(e.toNumber()),a=new xn(10).pow(r),s=e.div(a),o=r!==1?.05:.1,l=new xn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?new xn(c.toNumber()):new xn(Math.ceil(c.toNumber()))},JVe=(e,t,n)=>{var r=new xn(1),a=new xn(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new xn(10).pow(Jne(e)-1),a=new xn(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new xn(Math.floor(e)))}else e===0?a=new xn(Math.floor((t-1)/2)):n||(a=new xn(Math.floor(e)));var o=Math.floor((t-1)/2),l=ZVe(QVe(c=>a.add(new xn(c-o).mul(r)).toNumber()),jT);return l(0,t)},nre=function(t,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new xn(0),tickMin:new xn(0),tickMax:new xn(0)};var o=tre(new xn(n).sub(t).div(r-1),a,s),l;t<=0&&n>=0?l=new xn(0):(l=new xn(t).add(n).div(2),l=l.sub(new xn(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new xn(n).sub(l).div(o).toNumber()),d=c+u+1;return d>r?nre(t,n,r,a,s+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:o,tickMin:l.sub(new xn(c).mul(o)),tickMax:l.add(new xn(u).mul(o))})},XVe=function(t){var[n,r]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=ere([n,r]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...jT(0,a-1).map(()=>1/0)]:[...jT(0,a-1).map(()=>-1/0),c];return n>r?u.reverse():u}if(l===c)return JVe(l,a,s);var{step:d,tickMin:f,tickMax:h}=nre(l,c,o,s,0),m=Xne(f,h.add(new xn(.1).mul(d)),d);return n>r?m.reverse():m},e8e=function(t,n){var[r,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=ere([r,a]);if(o===-1/0||l===1/0)return[r,a];if(o===l)return[o];var c=Math.max(n,2),u=tre(new xn(l).sub(o).div(c-1),s,0),d=[...Xne(new xn(o),new xn(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),r>a?d.reverse():d},rre=e=>e.rootProps.maxBarSize,t8e=e=>e.rootProps.barGap,are=e=>e.rootProps.barCategoryGap,n8e=e=>e.rootProps.barSize,Gj=e=>e.rootProps.stackOffset,sre=e=>e.rootProps.reverseStackOrder,$I=e=>e.options.chartName,FI=e=>e.rootProps.syncId,ire=e=>e.rootProps.syncMethod,BI=e=>e.options.eventEmitter,_r={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ul={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Es={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Wj=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},r8e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ul.angleAxisId,includeHidden:!1,name:void 0,reversed:ul.reversed,scale:ul.scale,tick:ul.tick,tickCount:void 0,ticks:void 0,type:ul.type,unit:void 0},a8e={allowDataOverflow:Es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:Es.tickCount,ticks:void 0,type:Es.type,unit:void 0},s8e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ul.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ul.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ul.scale,tick:ul.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},i8e={allowDataOverflow:Es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:Es.tickCount,ticks:void 0,type:"category",unit:void 0},VI=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?s8e:r8e,zI=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?i8e:a8e,qj=e=>e.polarOptions,UI=Me([Gl,Wl,ca],X3e),ore=Me([qj,UI],(e,t)=>{if(e!=null)return Zi(e.innerRadius,t,0)}),lre=Me([qj,UI],(e,t)=>{if(e!=null)return Zi(e.outerRadius,t,t*.8)}),o8e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},cre=Me([qj],o8e);Me([VI,cre],Wj);var ure=Me([UI,ore,lre],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Me([zI,ure],Wj);var dre=Me([hn,qj,ore,lre,Gl,Wl],(e,t,n,r,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Zi(o,a,a/2),cy:Zi(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),Yr=(e,t)=>t,Hj=(e,t,n)=>n;function KI(e){return e==null?void 0:e.id}function fre(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=n,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=KI(l);u.forEach((f,h)=>{var m=s==null||a?h:String(Jn(f,s,null)),g=Jn(f,l.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:g}),o.set(m,v)})}}),Array.from(o.values())}function Yj(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Qj=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zj(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function l8e(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Qr=e=>{var t=hn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},pp=e=>e.tooltip.settings.axisId;function MV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MV(Object(n),!0).forEach(function(r){c8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c8e(e,t,n){return(t=u8e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u8e(e){var t=d8e(e,"string");return typeof t=="symbol"?t:t+""}function d8e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NT=[0,"auto"],ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hre=(e,t)=>e.cartesianAxis.xAxis[t],Yl=(e,t)=>{var n=hre(e,t);return n??ea},ta={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:NT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gx},mre=(e,t)=>e.cartesianAxis.yAxis[t],Ql=(e,t)=>{var n=mre(e,t);return n??ta},pre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},GI=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??pre},ts=(e,t,n)=>{switch(t){case"xAxis":return Yl(e,n);case"yAxis":return Ql(e,n);case"zAxis":return GI(e,n);case"angleAxis":return VI(e,n);case"radiusAxis":return zI(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},f8e=(e,t,n)=>{switch(t){case"xAxis":return Yl(e,n);case"yAxis":return Ql(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Nx=(e,t,n)=>{switch(t){case"xAxis":return Yl(e,n);case"yAxis":return Ql(e,n);case"angleAxis":return VI(e,n);case"radiusAxis":return zI(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gre=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function vre(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var kx=e=>e.graphicalItems.cartesianItems,h8e=Me([Yr,Hj],vre),yre=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ax=Me([kx,ts,h8e],yre,{memoizeOptions:{resultEqualityCheck:Zj}}),xre=Me([Ax],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Yj)),bre=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),m8e=Me([Ax],bre),wre=e=>e.map(t=>t.data).filter(Boolean).flat(1),p8e=Me([Ax],wre,{memoizeOptions:{resultEqualityCheck:Zj}}),Sre=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},WI=Me([p8e,Kj],Sre),Cre=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Jn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Jn(a,r)}))):e.map(r=>({value:r})),Jj=Me([WI,ts,Ax],Cre);function jre(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function iw(e){if(Oo(e)||e instanceof Date){var t=Number(e);if(or(t))return t}}function IV(e){if(Array.isArray(e)){var t=[iw(e[0]),iw(e[1])];return tu(t)?t:void 0}var n=iw(e);if(n!=null)return[n,n]}function Fl(e){return e.map(iw).filter(A4e)}function g8e(e,t,n){return!n||typeof t!="number"||Qi(t)?[]:n.length?Fl(n.flatMap(r=>{var a=Jn(e,r.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!or(s)||!or(o)))return[t-s,t+o]})):[]}var Zr=e=>{var t=Qr(e),n=pp(e);return Nx(e,t,n)},Px=Me([Zr],e=>e==null?void 0:e.dataKey),v8e=Me([xre,Kj,Zr],fre),Nre=(e,t,n,r)=>{var a={},s=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},a);return Object.fromEntries(Object.entries(s).map(o=>{var[l,c]=o,u=r?[...c].reverse():c,d=u.map(KI);return[l,{stackedData:IFe(e,d,n),graphicalItems:u}]}))},kT=Me([v8e,xre,Gj,sre],Nre),kre=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var o=BFe(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},y8e=Me([ts],e=>e.allowDataOverflow),qI=e=>{var t;if(e==null||!("domain"in e))return NT;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Fl(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:NT},Are=Me([ts],qI),Pre=Me([Are,y8e],Une),x8e=Me([kT,Hl,Yr,Pre],kre,{memoizeOptions:{resultEqualityCheck:Qj}}),HI=e=>e.errorBars,b8e=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>jre(n,r)),dS=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},Ere=(e,t,n,r,a)=>{var s,o;if(n.length>0&&e.forEach(l=>{n.forEach(c=>{var u,d,f=(u=r[c.id])===null||u===void 0?void 0:u.filter(y=>jre(a,y)),h=Jn(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=g8e(l,h,f);if(m.length>=2){var g=Math.min(...m),v=Math.max(...m);(s==null||g<s)&&(s=g),(o==null||v>o)&&(o=v)}var b=IV(h);b!=null&&(s=s==null?b[0]:Math.min(s,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=IV(Jn(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),or(s)&&or(o))return[s,o]},w8e=Me([WI,ts,m8e,HI,Yr],Ere,{memoizeOptions:{resultEqualityCheck:Qj}});function S8e(e){var{value:t}=e;if(Oo(t)||t instanceof Date)return t}var C8e=(e,t,n)=>{var r=e.map(S8e).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&yee(r))?sne(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Tre=e=>e.referenceElements.dots,gp=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),j8e=Me([Tre,Yr,Hj],gp),_re=e=>e.referenceElements.areas,N8e=Me([_re,Yr,Hj],gp),Dre=e=>e.referenceElements.lines,k8e=Me([Dre,Yr,Hj],gp),Rre=(e,t)=>{if(e!=null){var n=Fl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},A8e=Me(j8e,Yr,Rre),Mre=(e,t)=>{if(e!=null){var n=Fl(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},P8e=Me([N8e,Yr],Mre);function E8e(e){var t;if(e.x!=null)return Fl([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Fl(n)}function T8e(e){var t;if(e.y!=null)return Fl([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Fl(n)}var Ire=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?E8e(r):T8e(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},_8e=Me([k8e,Yr],Ire),D8e=Me(A8e,_8e,P8e,(e,t,n)=>dS(e,n,t)),Ore=(e,t,n,r,a,s,o,l)=>{if(n!=null)return n;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?dS(r,s,a):dS(s,a);return KVe(t,u,e.allowDataOverflow)},R8e=Me([ts,Are,Pre,x8e,w8e,D8e,hn,Yr],Ore,{memoizeOptions:{resultEqualityCheck:Qj}}),M8e=[0,1],Lre=(e,t,n,r,a,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=vu(t,s);if(u&&l==null){var d;return sne(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return c==="category"?C8e(r,e,u):a==="expand"?M8e:o}},YI=Me([ts,hn,WI,Jj,Gj,Yr,R8e],Lre),$re=(e,t,n,r,a)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(ux(s));return l in Rg?l:"point"}}},Ex=Me([ts,hn,gre,$I,Yr],$re);function I8e(e){if(e!=null){if(e in Rg)return Rg[e]();var t="scale".concat(ux(e));if(t in Rg)return Rg[t]()}}function QI(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=I8e(t);if(a!=null){var s=a.domain(n).range(r);return TFe(s),s}}}var Fre=(e,t,n)=>{var r=qI(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&tu(e))return XVe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&tu(e))return e8e(e,t.tickCount,t.allowDecimals)}},ZI=Me([YI,Nx,Ex],Fre),Bre=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&tu(t)&&Array.isArray(n)&&n.length>0){var a=t[0],s=n[0],o=t[1],l=n[n.length-1];return[Math.min(a,s),Math.max(o,l)]}return t},O8e=Me([ts,YI,ZI,Yr],Bre),L8e=Me(Jj,ts,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Fl(e.map(f=>f.value))).sort((f,h)=>f-h),a=r[0],s=r[r.length-1];if(a==null||s==null)return 1/0;var o=s-a;if(o===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],u=r[l+1];if(!(c==null||u==null)){var d=u-c;n=Math.min(n,d)}}return n/o}}),Vre=Me(L8e,hn,are,ca,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!or(e))return 0;var s=t==="vertical"?r.height:r.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=Zi(n,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),$8e=(e,t,n)=>{var r=Yl(e,t);return r==null||typeof r.padding!="string"?0:Vre(e,"xAxis",t,n,r.padding)},F8e=(e,t,n)=>{var r=Ql(e,t);return r==null||typeof r.padding!="string"?0:Vre(e,"yAxis",t,n,r.padding)},B8e=Me(Yl,$8e,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),V8e=Me(Ql,F8e,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),z8e=Me([ca,B8e,Tj,Ej,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),U8e=Me([ca,hn,V8e,Tj,Ej,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:o}=a;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Tx=(e,t,n,r)=>{var a;switch(t){case"xAxis":return z8e(e,n,r);case"yAxis":return U8e(e,n,r);case"zAxis":return(a=GI(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return cre(e);case"radiusAxis":return ure(e,n);default:return}},zre=Me([ts,Tx],Wj),Xj=Me([ts,Ex,O8e,zre],QI);Me([Ax,HI,Yr],b8e);function Ure(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var eN=(e,t)=>t,tN=(e,t,n)=>n,K8e=Me(Aj,eN,tN,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Ure)),G8e=Me(Pj,eN,tN,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Ure)),Kre=(e,t)=>({width:e.width,height:t.height}),W8e=(e,t)=>{var n=typeof t.width=="number"?t.width:gx;return{width:n,height:e.height}},Gre=Me(ca,Yl,Kre),q8e=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},H8e=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Y8e=Me(Wl,ca,K8e,eN,tN,(e,t,n,r,a)=>{var s={},o;return n.forEach(l=>{var c=Kre(t,l);o==null&&(o=q8e(t,r,e));var u=r==="top"&&!a||r==="bottom"&&a;s[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),s}),Q8e=Me(Gl,ca,G8e,eN,tN,(e,t,n,r,a)=>{var s={},o;return n.forEach(l=>{var c=W8e(t,l);o==null&&(o=H8e(t,r,e));var u=r==="left"&&!a||r==="right"&&a;s[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),s}),Z8e=(e,t)=>{var n=Yl(e,t);if(n!=null)return Y8e(e,n.orientation,n.mirror)},J8e=Me([ca,Yl,Z8e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),X8e=(e,t)=>{var n=Ql(e,t);if(n!=null)return Q8e(e,n.orientation,n.mirror)},eze=Me([ca,Ql,X8e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),Wre=Me(ca,Ql,(e,t)=>{var n=typeof t.width=="number"?t.width:gx;return{width:n,height:e.height}}),OV=(e,t,n)=>{switch(t){case"xAxis":return Gre(e,n).width;case"yAxis":return Wre(e,n).height;default:return}},qre=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=n,l=vu(e,r),c=t.map(u=>u.value);if(o&&l&&s==="category"&&a&&yee(c))return c}},JI=Me([hn,Jj,ts,Yr],qre),Hre=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,o=vu(e,r);if(o&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},XI=Me([hn,Jj,Nx,Yr],Hre),LV=Me([hn,f8e,Ex,Xj,JI,XI,Tx,ZI,Yr],(e,t,n,r,a,s,o,l,c)=>{if(t!=null){var u=vu(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:n,scale:r}}}),tze=(e,t,n,r,a,s,o,l,c)=>{if(!(t==null||r==null)){var u=vu(e,c),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/m:0;g=c==="angleAxis"&&s!=null&&s.length>=2?ms(s[0]-s[1])*2*g:g;var v=f||a;if(v){var b=v.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:r(w)+g,value:y,offset:g}});return b.filter(y=>or(y.coordinate))}return u&&l?l.map((y,x)=>({coordinate:r(y)+g,value:y,index:x,offset:g})).filter(y=>or(y.coordinate)):r.ticks?r.ticks(h).map(y=>({coordinate:r(y)+g,value:y,offset:g})):r.domain().map((y,x)=>({coordinate:r(y)+g,value:o?o[y]:y,index:x,offset:g}))}},Yre=Me([hn,Nx,Ex,Xj,ZI,Tx,JI,XI,Yr],tze),nze=(e,t,n,r,a,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=vu(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ms(r[0]-r[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Fo=Me([hn,Nx,Xj,Tx,JI,XI,Yr],nze),Bo=Me(ts,Xj,(e,t)=>{if(!(e==null||t==null))return uS(uS({},e),{},{scale:t})}),rze=Me([ts,Ex,YI,zre],QI),aze=Me((e,t,n)=>GI(e,n),rze,(e,t)=>{if(!(e==null||t==null))return uS(uS({},e),{},{scale:t})}),sze=Me([hn,Aj,Pj],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Qre=e=>e.options.defaultTooltipEventType,Zre=e=>e.options.validateTooltipEventTypes;function Jre(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function eO(e,t){var n=Qre(e),r=Zre(e);return Jre(t,n,r)}function ize(e){return kt(t=>eO(t,e))}var Xre=(e,t)=>{var n,r=Number(t);if(!(Qi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},oze=e=>e.tooltip.settings,bc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},lze={itemInteraction:{click:bc,hover:bc},axisInteraction:{click:bc,hover:bc},keyboardInteraction:bc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},eae=ws({name:"tooltip",initialState:lze,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Hn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Ki(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:Hn()},removeTooltipEntrySettings:{reducer(e,t){var n=Ki(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Hn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:cze,replaceTooltipEntrySettings:uze,removeTooltipEntrySettings:dze,setTooltipSettingsState:fze,setActiveMouseOverItemIndex:tae,mouseLeaveItem:hze,mouseLeaveChart:nae,setActiveClickItemIndex:mze,setMouseOverAxisIndex:rae,setMouseClickAxisIndex:pze,setSyncInteraction:AT,setKeyboardInteraction:PT}=eae.actions,gze=eae.reducer;function $V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$V(Object(n),!0).forEach(function(r){vze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vze(e,t,n){return(t=yze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yze(e){var t=xze(e,"string");return typeof t=="symbol"?t:t+""}function xze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bze(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function wze(e){return e.index!=null}var aae=(e,t,n,r)=>{if(t==null)return bc;var a=bze(e,t,n);if(a==null)return bc;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(wze(a)){if(s)return hb(hb({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return hb(hb({},bc),{},{coordinate:a.coordinate})};function Sze(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Cze(e,t){var n=Sze(e),r=t[0],a=t[1];if(n===void 0)return!1;var s=Math.min(r,a),o=Math.max(r,a);return n>=s&&n<=o}function jze(e,t,n){if(n==null||t==null)return!0;var r=Jn(e,t);return r==null||!tu(n)?!0:Cze(r,n)}var tO=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!or(s))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(s,l)),u=t[c];return u==null||jze(u,n,r)?String(c):null},sae=(e,t,n,r,a,s,o,l)=>{if(!(s==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},iae=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},_x=e=>e.options.tooltipPayloadSearcher,vp=e=>e.tooltip;function FV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(n),!0).forEach(function(r){Nze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nze(e,t,n){return(t=kze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kze(e){var t=Aze(e,"string");return typeof t=="symbol"?t:t+""}function Aze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pze(e,t){return e??t}var oae=(e,t,n,r,a,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:v,settings:b}=m,y=Pze(v,l),x=Array.isArray(y)?Nte(y,u,d):y,w=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:r,S=b==null?void 0:b.nameKey,j;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?j=xee(x,r,a):j=s(x,t,c,S),Array.isArray(j))j.forEach(N=>{var P=BV(BV({},b),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(Q5({tooltipEntrySettings:P,dataKey:N.dataKey,payload:N.payload,value:Jn(N.payload,N.dataKey),name:N.name}))});else{var k;h.push(Q5({tooltipEntrySettings:b,dataKey:w,payload:j,value:Jn(j,w),name:(k=Jn(j,S))!==null&&k!==void 0?k:b==null?void 0:b.name}))}return h},f)}},nO=Me([Zr,hn,gre,$I,Qr],$re),Eze=Me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Tze=Me([Qr,pp],vre),yp=Me([Eze,Zr,Tze],yre,{memoizeOptions:{resultEqualityCheck:Zj}}),_ze=Me([yp],e=>e.filter(Yj)),Dze=Me([yp],wre,{memoizeOptions:{resultEqualityCheck:Zj}}),xp=Me([Dze,Hl],Sre),Rze=Me([_ze,Hl,Zr],fre),rO=Me([xp,Zr,yp],Cre),lae=Me([Zr],qI),Mze=Me([Zr],e=>e.allowDataOverflow),cae=Me([lae,Mze],Une),Ize=Me([yp],e=>e.filter(Yj)),Oze=Me([Rze,Ize,Gj,sre],Nre),Lze=Me([Oze,Hl,Qr,cae],kre),$ze=Me([yp],bre),Fze=Me([xp,Zr,$ze,HI,Qr],Ere,{memoizeOptions:{resultEqualityCheck:Qj}}),Bze=Me([Tre,Qr,pp],gp),Vze=Me([Bze,Qr],Rre),zze=Me([_re,Qr,pp],gp),Uze=Me([zze,Qr],Mre),Kze=Me([Dre,Qr,pp],gp),Gze=Me([Kze,Qr],Ire),Wze=Me([Vze,Gze,Uze],dS),qze=Me([Zr,lae,cae,Lze,Fze,Wze,hn,Qr],Ore),Dx=Me([Zr,hn,xp,rO,Gj,Qr,qze],Lre),Hze=Me([Dx,Zr,nO],Fre),Yze=Me([Zr,Dx,Hze,Qr],Bre),uae=e=>{var t=Qr(e),n=pp(e),r=!1;return Tx(e,t,n,r)},dae=Me([Zr,uae],Wj),fae=Me([Zr,nO,Yze,dae],QI),Qze=Me([hn,rO,Zr,Qr],qre),Zze=Me([hn,rO,Zr,Qr],Hre),Jze=(e,t,n,r,a,s,o,l)=>{if(t){var{type:c}=t,u=vu(e,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ms(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},Zl=Me([hn,Zr,nO,fae,uae,Qze,Zze,Qr],Jze),aO=Me([Qre,Zre,oze],(e,t,n)=>Jre(n.shared,e,t)),hae=e=>e.tooltip.settings.trigger,sO=e=>e.tooltip.settings.defaultIndex,Rx=Me([vp,aO,hae,sO],aae),nu=Me([Rx,xp,Px,Dx],tO),mae=Me([Zl,nu],Xre),pae=Me([Rx],e=>{if(e)return e.dataKey});Me([Rx],e=>{if(e)return e.graphicalItemId});var gae=Me([vp,aO,hae,sO],iae),Xze=Me([Gl,Wl,hn,ca,Zl,sO,gae,_x],sae),eUe=Me([Rx,Xze],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),tUe=Me([Rx],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),nUe=Me([gae,nu,Hl,Px,mae,_x,aO],oae),rUe=Me([nUe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function VV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VV(Object(n),!0).forEach(function(r){aUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aUe(e,t,n){return(t=sUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sUe(e){var t=iUe(e,"string");return typeof t=="symbol"?t:t+""}function iUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oUe=()=>kt(Zr),lUe=()=>{var e=oUe(),t=kt(Zl),n=kt(fae);return Nm(!e||!n?void 0:zV(zV({},e),{},{scale:n}),t)};function UV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UV(Object(n),!0).forEach(function(r){cUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cUe(e,t,n){return(t=uUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uUe(e){var t=dUe(e,"string");return typeof t=="symbol"?t:t+""}function dUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fUe=(e,t,n,r)=>{var a=t.find(s=>s&&s.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},hUe=(e,t,n,r)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="centric"){var s=a.coordinate,{radius:o}=r;return Qf(Qf(Qf({},r),ba(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,{angle:c}=r;return Qf(Qf(Qf({},r),ba(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mUe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var vae=(e,t,n,r,a)=>{var s,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,u,d,f,h,m=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,g=(d=n[l])===null||d===void 0?void 0:d.coordinate,v=l>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[l+1])===null||h===void 0?void 0:h.coordinate,b=void 0;if(!(m==null||g==null||v==null))if(ms(g-m)!==ms(v-g)){var y=[];if(ms(v-g)===ms(a[1]-a[0])){b=v;var x=g+a[1]-a[0];y[0]=Math.min(x,(x+m)/2),y[1]=Math.max(x,(x+m)/2)}else{b=m;var w=v+a[1]-a[0];y[0]=Math.min(g,(w+g)/2),y[1]=Math.max(g,(w+g)/2)}var S=[Math.min(g,(b+g)/2),Math.max(g,(b+g)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){var j;return(j=n[l])===null||j===void 0?void 0:j.index}}else{var k=Math.min(m,v),N=Math.max(m,v);if(e>(k+g)/2&&e<=(N+g)/2){var P;return(P=n[l])===null||P===void 0?void 0:P.index}}}else if(t)for(var E=0;E<o;E++){var R=t[E];if(R!=null){var O=t[E+1],G=t[E-1];if(E===0&&O!=null&&e<=(R.coordinate+O.coordinate)/2||E===o-1&&G!=null&&e>(R.coordinate+G.coordinate)/2||E>0&&E<o-1&&G!=null&&O!=null&&e>(R.coordinate+G.coordinate)/2&&e<=(R.coordinate+O.coordinate)/2)return R.index}}return-1},pUe=()=>kt($I),iO=(e,t)=>t,yae=(e,t,n)=>n,oO=(e,t,n,r)=>r,gUe=Me(Zl,e=>yj(e,t=>t.coordinate)),lO=Me([vp,iO,yae,oO],aae),cO=Me([lO,xp,Px,Dx],tO),vUe=(e,t,n)=>{if(t!=null){var r=vp(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},xae=Me([vp,iO,yae,oO],iae),fS=Me([Gl,Wl,hn,ca,Zl,oO,xae,_x],sae),yUe=Me([lO,fS],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),bae=Me([Zl,cO],Xre),xUe=Me([xae,cO,Hl,Px,bae,_x,iO],oae),bUe=Me([lO,cO],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wUe=(e,t,n,r,a,s,o)=>{if(!(!e||!n||!r||!a)&&mUe(e,o)){var l=VFe(e,t),c=vae(l,s,a,n,r),u=fUe(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},SUe=(e,t,n,r,a,s,o)=>{if(!(!e||!r||!a||!s||!n)){var l=a5e(e,n);if(l){var c=zFe(l,t),u=vae(c,o,s,r,a),d=hUe(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},CUe=(e,t,n,r,a,s,o,l)=>{if(!(!e||!t||!r||!a||!s))return t==="horizontal"||t==="vertical"?wUe(e,t,r,a,s,o,l):SUe(e,t,n,r,a,s,o)},jUe=Me(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),NUe=Me(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(_r)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:l8e}});function KV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KV(Object(n),!0).forEach(function(r){kUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kUe(e,t,n){return(t=AUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AUe(e){var t=PUe(e,"string");return typeof t=="symbol"?t:t+""}function PUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EUe={},TUe={zIndexMap:Object.values(_r).reduce((e,t)=>GV(GV({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),EUe)},_Ue=new Set(Object.values(_r));function DUe(e){return _Ue.has(e)}var wae=ws({name:"zIndex",initialState:TUe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Hn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!DUe(n)&&delete e.zIndexMap[n])},prepare:Hn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:Hn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Hn()}}}),{registerZIndexPortal:RUe,unregisterZIndexPortal:MUe,registerZIndexPortalElement:IUe,unregisterZIndexPortalElement:OUe}=wae.actions,LUe=wae.reducer;function Ss(e){var{zIndex:t,children:n}=e,r=pBe(),a=r&&t!==void 0&&t!==0,s=ua(),o=lr();p.useLayoutEffect(()=>a?(o(RUe({zIndex:t})),()=>{o(MUe({zIndex:t}))}):dx,[o,t,a]);var l=kt(c=>jUe(c,t,s));return a?l?Vo.createPortal(n,l):null:n}function ET(){return ET=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ET.apply(null,arguments)}function WV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WV(Object(n),!0).forEach(function(r){$Ue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Ue(e,t,n){return(t=FUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FUe(e){var t=BUe(e,"string");return typeof t=="symbol"?t:t+""}function BUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VUe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return p.isValidElement(t)?p.cloneElement(t,r):p.createElement(n,r)}function zUe(e){var t,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=n,h=r,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,v,b;if(d==="ScatterChart")g=f,v=v3e,b=_r.cursorLine;else if(d==="BarChart")g=y3e(l,f,s,o),v=Jte,b=_r.cursorRectangle;else if(l==="radial"&&wee(f)){var{cx:y,cy:x,radius:w,startAngle:S,endAngle:j}=Xte(f);g={cx:y,cy:x,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},v=tne,b=_r.cursorLine}else g={points:l5e(l,f,s)},v=hI,b=_r.cursorLine;var k=typeof c=="object"&&"className"in c?c.className:void 0,N=mb(mb(mb(mb({stroke:"#ccc",pointerEvents:"none"},s),g),cp(c)),{},{payload:h,payloadIndex:m,className:cn("recharts-tooltip-cursor",k)});return p.createElement(Ss,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},p.createElement(VUe,{cursor:c,cursorComp:v,cursorProps:N}))}function UUe(e){var t=lUe(),n=$te(),r=dp(),a=pUe();return t==null||n==null||r==null||a==null?null:p.createElement(zUe,ET({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var Sae=p.createContext(null),KUe=()=>p.useContext(Sae),Cae={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],y=arguments.length,x,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,g),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];b.fn.apply(b.context,x)}else{var S=b.length,j;for(w=0;w<S;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),y){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,f);break;case 4:b[w].fn.call(b[w].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(y-1);j<y;j++)x[j-1]=arguments[j];b[w].fn.apply(b[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var v=0,b=[],y=g.length;v<y;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&b.push(g[v]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(Cae);var GUe=Cae.exports;const WUe=xi(GUe);var by=new WUe,TT="recharts.syncEvent.tooltip",qV="recharts.syncEvent.brush";function uO(e,t){if(t){var n=Number.parseInt(t,10);if(!Qi(n))return e==null?void 0:e[n]}}var qUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},jae=ws({name:"options",initialState:qUe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),HUe=jae.reducer,{createEventEmitter:YUe}=jae.actions;function QUe(e){return e.tooltip.syncInteraction}var ZUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Nae=ws({name:"chartData",initialState:ZUe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:HV,setDataStartEndIndexes:JUe,setComputedData:Mnt}=Nae.actions,XUe=Nae.reducer,eKe=["x","y"];function YV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YV(Object(n),!0).forEach(function(r){tKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tKe(e,t,n){return(t=nKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nKe(e){var t=rKe(e,"string");return typeof t=="symbol"?t:t+""}function rKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aKe(e,t){if(e==null)return{};var n,r,a=sKe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iKe(){var e=kt(FI),t=kt(BI),n=lr(),r=kt(ire),a=kt(Zl),s=dp(),o=vx(),l=kt(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return dx;var c=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y:v}=m,b=aKe(m,eKe),{x:y,y:x,width:w,height:S}=d.payload.sourceViewBox,j=Zf(Zf({},b),{},{x:o.x+(w?(g-y)/w:0)*o.width,y:o.y+(S?(v-x)/S:0)*o.height});n(Zf(Zf({},d),{},{payload:Zf(Zf({},d.payload),{},{coordinate:j})}))}else n(d);return}if(a!=null){var k;if(typeof r=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},P=r(a,N);k=a[P]}else r==="value"&&(k=a.find($=>String($.value)===d.payload.label));var{coordinate:E}=d.payload;if(k==null||d.payload.active===!1||E==null||o==null){n(AT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:O}=E,G=Math.min(R,o.x+o.width),te=Math.min(O,o.y+o.height),V={x:s==="horizontal"?k.coordinate:G,y:s==="horizontal"?te:k.coordinate},z=AT({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(z)}}};return by.on(TT,c),()=>{by.off(TT,c)}},[l,n,t,e,r,a,s,o])}function oKe(){var e=kt(FI),t=kt(BI),n=lr();p.useEffect(()=>{if(e==null)return dx;var r=(a,s,o)=>{t!==o&&e===a&&n(JUe(s))};return by.on(qV,r),()=>{by.off(qV,r)}},[n,t,e])}function lKe(){var e=lr();p.useEffect(()=>{e(YUe())},[e]),iKe(),oKe()}function cKe(e,t,n,r,a,s){var o=kt(m=>vUe(m,e,t)),l=kt(BI),c=kt(FI),u=kt(ire),d=kt(QUe),f=d==null?void 0:d.active,h=vx();p.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=AT({active:s,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});by.emit(TT,c,m,l)}},[f,n,o,a,r,l,c,u,s,h])}function QV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QV(Object(n),!0).forEach(function(r){uKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uKe(e,t,n){return(t=dKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dKe(e){var t=fKe(e,"string");return typeof t=="symbol"?t:t+""}function fKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hKe(e){return e.dataKey}function mKe(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(QBe,t)}var JV=[],pKe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kae(e){var t,n,r=qr(e,pKe),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:v,wrapperStyle:b,cursor:y,shared:x,trigger:w,defaultIndex:S,portal:j,axisId:k}=r,N=lr(),P=typeof S=="number"?String(S):S;p.useEffect(()=>{N(fze({shared:x,trigger:w,axisId:k,active:a,defaultIndex:P}))},[N,x,w,k,a,P]);var E=vx(),R=qte(),O=ize(x),{activeIndex:G,isActive:te}=(t=kt(me=>bUe(me,O,w,P)))!==null&&t!==void 0?t:{},V=kt(me=>xUe(me,O,w,P)),z=kt(me=>bae(me,O,w,P)),$=kt(me=>yUe(me,O,w,P)),U=V,M=KUe(),F=(n=a??te)!==null&&n!==void 0?n:!1,[W,Z]=Yee([U,F]),H=O==="axis"?z:void 0;cKe(O,w,$,H,G,F);var ae=j??M;if(ae==null||E==null||O==null)return null;var fe=U??JV;F||(fe=JV),u&&fe.length&&(fe=Fee(fe.filter(me=>me.value!=null&&(me.hide!==!0||r.includeHidden)),h,hKe));var we=fe.length>0,Pe=p.createElement(r3e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:F,coordinate:$,hasPayload:we,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:E,wrapperStyle:b,lastBoundingBox:W,innerRef:Z,hasPortalFromProps:!!j},mKe(c,ZV(ZV({},r),{},{payload:fe,label:H,active:F,activeIndex:G,coordinate:$,accessibilityLayer:R})));return p.createElement(p.Fragment,null,Vo.createPortal(Pe,ae),F&&p.createElement(UUe,{cursor:y,tooltipEventType:O,coordinate:$,payload:fe,index:G}))}var _m=e=>null;_m.displayName="Cell";function gKe(e,t,n){return(t=vKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vKe(e){var t=yKe(e,"string");return typeof t=="symbol"?t:t+""}function yKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xKe{constructor(t){gKe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function XV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bKe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XV(Object(n),!0).forEach(function(r){wKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wKe(e,t,n){return(t=SKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SKe(e){var t=CKe(e,"string");return typeof t=="symbol"?t:t+""}function CKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jKe={cacheSize:2e3,enableCache:!0},Aae=bKe({},jKe),e8=new xKe(Aae.cacheSize),NKe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t8="recharts_measurement_span";function kKe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(l)}var n8=(e,t)=>{try{var n=document.getElementById(t8);n||(n=document.createElement("span"),n.setAttribute("id",t8),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,NKe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},lv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ij.isSsr)return{width:0,height:0};if(!Aae.enableCache)return n8(t,n);var r=kKe(t,n),a=e8.get(r);if(a)return a;var s=n8(t,n);return e8.set(r,s),s},Pae;function AKe(e,t,n){return(t=PKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PKe(e){var t=EKe(e,"string");return typeof t=="symbol"?t:t+""}function EKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TKe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_Ke=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DKe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RKe=["cm","mm","pt","pc","in","Q","px"];function MKe(e){return RKe.includes(e)}var Ph="NaN";function IKe(e,t){return e*DKe[t]}class ya{static parse(t){var n,[,r,a]=(n=_Ke.exec(t))!==null&&n!==void 0?n:[];return r==null?ya.NaN:new ya(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Qi(t)&&(this.unit=""),n!==""&&!TKe.test(n)&&(this.num=NaN,this.unit=""),MKe(n)&&(this.num=IKe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ya(NaN,""):new ya(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ya(NaN,""):new ya(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ya(NaN,""):new ya(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ya(NaN,""):new ya(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qi(this.num)}}Pae=ya;AKe(ya,"NaN",new Pae(NaN,""));function Eae(e){if(e==null||e.includes(Ph))return Ph;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=(n=r8.exec(t))!==null&&n!==void 0?n:[],o=ya.parse(r??""),l=ya.parse(s??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Ph;t=t.replace(r8,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=a8.exec(t))!==null&&u!==void 0?u:[],m=ya.parse(d??""),g=ya.parse(h??""),v=f==="+"?m.add(g):m.subtract(g);if(v.isNaN())return Ph;t=t.replace(a8,v.toString())}return t}var s8=/\(([^()]*)\)/;function OKe(e){for(var t=e,n;(n=s8.exec(t))!=null;){var[,r]=n;t=t.replace(s8,Eae(r))}return t}function LKe(e){var t=e.replace(/\s+/g,"");return t=OKe(t),t=Eae(t),t}function $Ke(e){try{return LKe(e)}catch{return Ph}}function IA(e){var t=$Ke(e.slice(5,-1));return t===Ph?"":t}var FKe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],BKe=["dx","dy","angle","className","breakAll"];function _T(){return _T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_T.apply(null,arguments)}function i8(e,t){if(e==null)return{};var n,r,a=VKe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function VKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tae=/[ \f\n\r\t\v\u2028\u2029]+/,_ae=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];bn(t)||(n?a=t.toString().split(""):a=t.toString().split(Tae));var s=a.map(l=>({word:l,width:lv(l,r).width})),o=n?0:lv("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function zKe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Dae=(e,t,n,r)=>e.reduce((a,s)=>{var{word:o,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||r||c.width+l+n<Number(t)))c.words.push(o),c.width+=l+n;else{var u={words:[o],width:l};a.push(u)}return a},[]),Rae=e=>e.reduce((t,n)=>t.width>n.width?t:n),UKe="",o8=(e,t,n,r,a,s,o,l)=>{var c=e.slice(0,t),u=_ae({breakAll:n,style:r,children:c+UKe});if(!u)return[!1,[]];var d=Dae(u.wordsWithComputedWidth,s,o,l),f=d.length>a||Rae(d).width>Number(s);return[f,d]},KKe=(e,t,n,r,a)=>{var{maxLines:s,children:o,style:l,breakAll:c}=e,u=wt(s),d=String(o),f=Dae(t,r,n,a);if(!u||a)return f;var h=f.length>s||Rae(f).width>Number(r);if(!h)return f;for(var m=0,g=d.length-1,v=0,b;m<=g&&v<=d.length-1;){var y=Math.floor((m+g)/2),x=y-1,[w,S]=o8(d,x,c,l,s,r,n,a),[j]=o8(d,y,c,l,s,r,n,a);if(!w&&!j&&(m=y+1),w&&j&&(g=y-1),!w&&j){b=S;break}v++}return b||f},l8=e=>{var t=bn(e)?[]:e.toString().split(Tae);return[{words:t,width:void 0}]},GKe=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:o}=e;if((t||n)&&!Ij.isSsr){var l,c,u=_ae({breakAll:s,children:r,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return l8(r);return KKe({breakAll:s,children:r,maxLines:o,style:a},l,c,t,!!n)}return l8(r)},Mae="#808080",WKe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Mae,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},dO=p.forwardRef((e,t)=>{var n=qr(e,WKe),{x:r,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,f=i8(n,FKe),h=p.useMemo(()=>GKe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:g,angle:v,className:b,breakAll:y}=f,x=i8(f,BKe);if(!Oo(r)||!Oo(a)||h.length===0)return null;var w=Number(r)+(wt(m)?m:0),S=Number(a)+(wt(g)?g:0);if(!or(w)||!or(S))return null;var j;switch(d){case"start":j=IA("calc(".concat(o,")"));break;case"middle":j=IA("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:j=IA("calc(".concat(h.length-1," * -").concat(s,")"));break}var k=[];if(c){var N=h[0].width,{width:P}=f;k.push("scale(".concat(wt(P)&&wt(N)?P/N:1,")"))}return v&&k.push("rotate(".concat(v,", ").concat(w,", ").concat(S,")")),k.length&&(x.transform=k.join(" ")),p.createElement("text",_T({},Ha(x),{ref:t,x:w,y:S,className:cn("recharts-text",b),textAnchor:u,fill:l.includes("url")?Mae:l}),h.map((E,R)=>{var O=E.words.join(y?"":" ");return p.createElement("tspan",{x:w,dy:R===0?j:s,key:"".concat(O,"-").concat(R)},O)}))});dO.displayName="Text";var qKe=["labelRef"],HKe=["content"];function c8(e,t){if(e==null)return{};var n,r,a=YKe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function YKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function u8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(n),!0).forEach(function(r){QKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QKe(e,t,n){return(t=ZKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZKe(e){var t=JKe(e,"string");return typeof t=="symbol"?t:t+""}function JKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(null,arguments)}var Iae=p.createContext(null),XKe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:s,height:o,children:l}=e,c=p.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:s,height:o}),[t,n,r,a,s,o]);return p.createElement(Iae.Provider,{value:c},l)},Oae=()=>{var e=p.useContext(Iae),t=vx();return e||Lte(t)},eGe=p.createContext(null),tGe=()=>{var e=p.useContext(eGe),t=kt(dre);return e||t},nGe=e=>{var{value:t,formatter:n}=e,r=bn(e.children)?t:e.children;return typeof n=="function"?n(r):r},fO=e=>e!=null&&typeof e=="function",rGe=(e,t)=>{var n=ms(t-e),r=Math.min(Math.abs(t-e),360);return n*r},aGe=(e,t,n,r,a)=>{var{offset:s,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,g=(u+d)/2,v=rGe(f,h),b=v>=0?1:-1,y,x;switch(t){case"insideStart":y=f+b*s,x=m;break;case"insideEnd":y=h-b*s,x=!m;break;case"end":y=h+b*s,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=v<=0?x:!x;var w=ba(l,c,g,y),S=ba(l,c,g,y+(x?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(S.x,",").concat(S.y),k=bn(e.id)?ly("recharts-radial-line-"):e.id;return p.createElement("text",dl({},r,{dominantBaseline:"central",className:cn("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:k,d:j})),p.createElement("textPath",{xlinkHref:"#".concat(k)},n))},sGe=(e,t,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:d,y:f}=ba(r,a,o+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:m,y:g}=ba(r,a,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},DT=e=>"cx"in e&&wt(e.cx),iGe=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,s;n!=null&&!DT(n)&&(s=n);var{x:o,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=o,h=o+(c-u)/2,m=(f+h)/2,g=(c+u)/2,v=f+c/2,b=d>=0?1:-1,y=b*r,x=b>0?"end":"start",w=b>0?"start":"end",S=c>=0?1:-1,j=S*r,k=S>0?"end":"start",N=S>0?"start":"end";if(a==="top"){var P={x:f+c/2,y:l-y,textAnchor:"middle",verticalAnchor:x};return br(br({},P),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var E={x:h+u/2,y:l+d+y,textAnchor:"middle",verticalAnchor:w};return br(br({},E),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(a==="left"){var R={x:m-j,y:l+d/2,textAnchor:k,verticalAnchor:"middle"};return br(br({},R),s?{width:Math.max(R.x-s.x,0),height:d}:{})}if(a==="right"){var O={x:m+g+j,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return br(br({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:d}:{})}var G=s?{width:g,height:d}:{};return a==="insideLeft"?br({x:m+j,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},G):a==="insideRight"?br({x:m+g-j,y:l+d/2,textAnchor:k,verticalAnchor:"middle"},G):a==="insideTop"?br({x:f+c/2,y:l+y,textAnchor:"middle",verticalAnchor:w},G):a==="insideBottom"?br({x:h+u/2,y:l+d-y,textAnchor:"middle",verticalAnchor:x},G):a==="insideTopLeft"?br({x:f+j,y:l+y,textAnchor:N,verticalAnchor:w},G):a==="insideTopRight"?br({x:f+c-j,y:l+y,textAnchor:k,verticalAnchor:w},G):a==="insideBottomLeft"?br({x:h+j,y:l+d-y,textAnchor:N,verticalAnchor:x},G):a==="insideBottomRight"?br({x:h+u-j,y:l+d-y,textAnchor:k,verticalAnchor:x},G):a&&typeof a=="object"&&(wt(a.x)||Ml(a.x))&&(wt(a.y)||Ml(a.y))?br({x:o+Zi(a.x,g),y:l+Zi(a.y,d),textAnchor:"end",verticalAnchor:"end"},G):br({x:v,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},G)},oGe={angle:0,offset:5,zIndex:_r.label,position:"middle",textBreakAll:!1};function gc(e){var t=qr(e,oGe),{viewBox:n,position:r,value:a,children:s,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=tGe(),f=Oae(),h=r==="center"?f:d??f,m,g,v;if(n==null?m=h:DT(n)?m=n:m=Lte(n),!m||bn(a)&&bn(s)&&!p.isValidElement(o)&&typeof o!="function")return null;var b=br(br({},t),{},{viewBox:m});if(p.isValidElement(o)){var{labelRef:y}=b,x=c8(b,qKe);return p.cloneElement(o,x)}if(typeof o=="function"){var{content:w}=b,S=c8(b,HKe);if(g=p.createElement(o,S),p.isValidElement(g))return g}else g=nGe(t);var j=Ha(t);if(DT(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return aGe(t,r,g,j,m);v=sGe(m,t.offset,t.position)}else v=iGe(t,m);return p.createElement(Ss,{zIndex:t.zIndex},p.createElement(dO,dl({ref:u,className:cn("recharts-label",l)},j,v,{textAnchor:zKe(j.textAnchor)?j.textAnchor:v.textAnchor,breakAll:c}),g))}gc.displayName="Label";var lGe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?p.createElement(gc,dl({key:"label-implicit"},r)):Oo(e)?p.createElement(gc,dl({key:"label-implicit",value:e},r)):p.isValidElement(e)?e.type===gc?p.cloneElement(e,br({key:"label-implicit"},r)):p.createElement(gc,dl({key:"label-implicit",content:e},r)):fO(e)?p.createElement(gc,dl({key:"label-implicit",content:e},r)):e&&typeof e=="object"?p.createElement(gc,dl({},e,{key:"label-implicit"},r)):null};function cGe(e){var{label:t,labelRef:n}=e,r=Oae();return lGe(t,r,n)||null}var Lae={},$ae={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})($ae);var Fae={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Fae);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$ae,n=Fae,r=gj;function a(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=a})(Lae);var uGe=Lae.last;const dGe=xi(uGe);var fGe=["valueAccessor"],hGe=["dataKey","clockWise","id","textBreakAll","zIndex"];function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hS.apply(null,arguments)}function d8(e,t){if(e==null)return{};var n,r,a=mGe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mGe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pGe=e=>Array.isArray(e.value)?dGe(e.value):e.value,Bae=p.createContext(void 0),hO=Bae.Provider,Vae=p.createContext(void 0);Vae.Provider;function gGe(){return p.useContext(Bae)}function vGe(){return p.useContext(Vae)}function ow(e){var{valueAccessor:t=pGe}=e,n=d8(e,fGe),{dataKey:r,clockWise:a,id:s,textBreakAll:o,zIndex:l}=n,c=d8(n,hGe),u=gGe(),d=vGe(),f=u||d;return!f||!f.length?null:p.createElement(Ss,{zIndex:l??_r.label},p.createElement(Ca,{className:"recharts-label-list"},f.map((h,m)=>{var g,v=bn(r)?t(h,m):Jn(h&&h.payload,r),b=bn(s)?{}:{id:"".concat(s,"-").concat(m)};return p.createElement(gc,hS({key:"label-".concat(m)},Ha(h),c,b,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}ow.displayName="LabelList";function mO(e){var{label:t}=e;return t?t===!0?p.createElement(ow,{key:"labelList-implicit"}):p.isValidElement(t)||fO(t)?p.createElement(ow,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(ow,hS({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function RT(){return RT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RT.apply(null,arguments)}var zae=e=>{var{cx:t,cy:n,r,className:a}=e,s=cn("recharts-dot",a);return wt(t)&&wt(n)&&wt(r)?p.createElement("circle",RT({},Us(e),BM(e),{className:s,cx:t,cy:n,r})):null},yGe={radiusAxis:{},angleAxis:{}},Uae=ws({name:"polarAxis",initialState:yGe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Int,removeRadiusAxis:Ont,addAngleAxis:Lnt,removeAngleAxis:$nt}=Uae.actions,xGe=Uae.reducer,Kae={exports:{}},Tn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pO=Symbol.for("react.transitional.element"),gO=Symbol.for("react.portal"),nN=Symbol.for("react.fragment"),rN=Symbol.for("react.strict_mode"),aN=Symbol.for("react.profiler"),sN=Symbol.for("react.consumer"),iN=Symbol.for("react.context"),oN=Symbol.for("react.forward_ref"),lN=Symbol.for("react.suspense"),cN=Symbol.for("react.suspense_list"),uN=Symbol.for("react.memo"),dN=Symbol.for("react.lazy"),bGe=Symbol.for("react.view_transition"),wGe=Symbol.for("react.client.reference");function Si(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pO:switch(e=e.type,e){case nN:case aN:case rN:case lN:case cN:case bGe:return e;default:switch(e=e&&e.$$typeof,e){case iN:case oN:case dN:case uN:return e;case sN:return e;default:return t}}case gO:return t}}}Tn.ContextConsumer=sN;Tn.ContextProvider=iN;Tn.Element=pO;Tn.ForwardRef=oN;Tn.Fragment=nN;Tn.Lazy=dN;Tn.Memo=uN;Tn.Portal=gO;Tn.Profiler=aN;Tn.StrictMode=rN;Tn.Suspense=lN;Tn.SuspenseList=cN;Tn.isContextConsumer=function(e){return Si(e)===sN};Tn.isContextProvider=function(e){return Si(e)===iN};Tn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pO};Tn.isForwardRef=function(e){return Si(e)===oN};Tn.isFragment=function(e){return Si(e)===nN};Tn.isLazy=function(e){return Si(e)===dN};Tn.isMemo=function(e){return Si(e)===uN};Tn.isPortal=function(e){return Si(e)===gO};Tn.isProfiler=function(e){return Si(e)===aN};Tn.isStrictMode=function(e){return Si(e)===rN};Tn.isSuspense=function(e){return Si(e)===lN};Tn.isSuspenseList=function(e){return Si(e)===cN};Tn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nN||e===aN||e===rN||e===lN||e===cN||typeof e=="object"&&e!==null&&(e.$$typeof===dN||e.$$typeof===uN||e.$$typeof===iN||e.$$typeof===sN||e.$$typeof===oN||e.$$typeof===wGe||e.getModuleId!==void 0)};Tn.typeOf=Si;Kae.exports=Tn;var SGe=Kae.exports,f8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",h8=null,OA=null,Gae=e=>{if(e===h8&&Array.isArray(OA))return OA;var t=[];return p.Children.forEach(e,n=>{bn(n)||(SGe.isFragment(n)?t=t.concat(Gae(n.props.children)):t.push(n))}),OA=t,h8=e,t};function Wae(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>f8(a)):r=[f8(t)],Gae(e).forEach(a=>{var s=Cm(a,"type.displayName")||Cm(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var qae=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Hae={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Hae);var CGe=Hae.isPlainObject;const jGe=xi(CGe);var m8,p8,g8,v8,y8;function x8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function b8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(n),!0).forEach(function(r){NGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NGe(e,t,n){return(t=kGe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kGe(e){var t=AGe(e,"string");return typeof t=="symbol"?t:t+""}function AGe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mS(){return mS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mS.apply(null,arguments)}function dg(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w8=(e,t,n,r,a)=>{var s=n-r,o;return o=hr(m8||(m8=dg(["M ",",",""])),e,t),o+=hr(p8||(p8=dg(["L ",",",""])),e+n,t),o+=hr(g8||(g8=dg(["L ",",",""])),e+n-s/2,t+a),o+=hr(v8||(v8=dg(["L ",",",""])),e+n-s/2-r,t+a),o+=hr(y8||(y8=dg(["L ",","," Z"])),e,t),o},PGe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EGe=e=>{var t=qr(e,PGe),{x:n,y:r,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(null),[m,g]=p.useState(-1),v=p.useRef(a),b=p.useRef(s),y=p.useRef(o),x=p.useRef(n),w=p.useRef(r),S=bx(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var V=h.current.getTotalLength();V&&g(V)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var j=cn("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",mS({},Ha(t),{className:j,d:w8(n,r,a,s,o)})));var k=v.current,N=b.current,P=y.current,E=x.current,R=w.current,O="0px ".concat(m===-1?1:m,"px"),G="".concat(m,"px 0px"),te=Hte(["strokeDasharray"],u,c);return p.createElement(xx,{animationId:S,key:S,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},V=>{var z=Dn(k,a,V),$=Dn(N,s,V),U=Dn(P,o,V),M=Dn(E,n,V),F=Dn(R,r,V);h.current&&(v.current=z,b.current=$,y.current=U,x.current=M,w.current=F);var W=V>0?{transition:te,strokeDasharray:G}:{strokeDasharray:O};return p.createElement("path",mS({},Ha(t),{className:j,d:w8(M,F,z,$,U),ref:h,style:b8(b8({},W),t.style)}))})},TGe=["option","shapeType","activeClassName"];function _Ge(e,t){if(e==null)return{};var n,r,a=DGe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DGe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function S8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(n),!0).forEach(function(r){RGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RGe(e,t,n){return(t=MGe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MGe(e){var t=IGe(e,"string");return typeof t=="symbol"?t:t+""}function IGe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OGe(e,t){return pS(pS({},t),e)}function LGe(e,t){return e==="symbols"}function C8(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return p.createElement(Jte,n);case"trapezoid":return p.createElement(EGe,n);case"sector":return p.createElement(tne,n);case"symbols":if(LGe(t))return p.createElement(pj,n);break;case"curve":return p.createElement(hI,n);default:return null}}function $Ge(e){return p.isValidElement(e)?e.props:e}function gS(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=_Ge(e,TGe),s;if(p.isValidElement(t))s=p.cloneElement(t,pS(pS({},a),$Ge(t)));else if(typeof t=="function")s=t(a,a.index);else if(jGe(t)&&typeof t!="boolean"){var o=OGe(t,a);s=p.createElement(C8,{shapeType:n,elementProps:o})}else{var l=a;s=p.createElement(C8,{shapeType:n,elementProps:l})}return a.isActive?p.createElement(Ca,{className:r},s):s}var vO=(e,t,n)=>{var r=lr();return(a,s)=>o=>{e==null||e(a,s,o),r(tae({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},yO=e=>{var t=lr();return(n,r)=>a=>{e==null||e(n,r,a),t(hze())}},xO=(e,t,n)=>{var r=lr();return(a,s)=>o=>{e==null||e(a,s,o),r(mze({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function bO(e){var{tooltipEntrySettings:t}=e,n=lr(),r=ua(),a=p.useRef(null);return p.useLayoutEffect(()=>{r||(a.current===null?n(cze(t)):a.current!==t&&n(uze({prev:a.current,next:t})),a.current=t)},[t,n,r]),p.useLayoutEffect(()=>()=>{a.current&&(n(dze(a.current)),a.current=null)},[n]),null}function wO(e){var{legendPayload:t}=e,n=lr(),r=ua(),a=p.useRef(null);return p.useLayoutEffect(()=>{r||(a.current===null?n(EBe(t)):a.current!==t&&n(TBe({prev:a.current,next:t})),a.current=t)},[n,r,t]),p.useLayoutEffect(()=>()=>{a.current&&(n(_Be(a.current)),a.current=null)},[n]),null}var LA,FGe=()=>{var[e]=p.useState(()=>ly("uid-"));return e},BGe=(LA=ky.useId)!==null&&LA!==void 0?LA:FGe;function VGe(e,t){var n=BGe();return t||(e?"".concat(e,"-").concat(n):n)}var zGe=p.createContext(void 0),SO=e=>{var{id:t,type:n,children:r}=e,a=VGe("recharts-".concat(n),t);return p.createElement(zGe.Provider,{value:a},r(a))},UGe={cartesianItems:[],polarItems:[]},Yae=ws({name:"graphicalItems",initialState:UGe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Hn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Ki(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:Hn()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ki(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Hn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Hn()},removePolarGraphicalItem:{reducer(e,t){var n=Ki(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Hn()}}}),{addCartesianGraphicalItem:KGe,replaceCartesianGraphicalItem:GGe,removeCartesianGraphicalItem:WGe,addPolarGraphicalItem:Fnt,removePolarGraphicalItem:Bnt}=Yae.actions,qGe=Yae.reducer,HGe=e=>{var t=lr(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(KGe(e)):n.current!==e&&t(GGe({prev:n.current,next:e})),n.current=e},[t,e]),p.useLayoutEffect(()=>()=>{n.current&&(t(WGe(n.current)),n.current=null)},[t]),null},CO=p.memo(HGe),YGe=["points"];function j8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(n),!0).forEach(function(r){QGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QGe(e,t,n){return(t=ZGe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZGe(e){var t=JGe(e,"string");return typeof t=="symbol"?t:t+""}function JGe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vS.apply(null,arguments)}function XGe(e,t){if(e==null)return{};var n,r,a=e9e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function e9e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function t9e(e){var{option:t,dotProps:n,className:r}=e;if(p.isValidElement(t))return p.cloneElement(t,n);if(typeof t=="function")return t(n);var a=cn(r,typeof t!="boolean"?t.className:""),s=n??{},{points:o}=s,l=XGe(s,YGe);return p.createElement(zae,vS({},l,{className:a}))}function n9e(e,t){return e==null?!1:t?!0:e.length===1}function r9e(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=_r.scatter}=e;if(!n9e(t,n))return null;var d=qae(n),f=OLe(n),h=t.map((g,v)=>{var b,y,x=$A($A($A({r:3},o),f),{},{index:v,cx:(b=g.x)!==null&&b!==void 0?b:void 0,cy:(y=g.y)!==null&&y!==void 0?y:void 0,dataKey:s,value:g.value,payload:g.payload,points:t});return p.createElement(t9e,{key:"dot-".concat(v),option:n,dotProps:x,className:a})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),p.createElement(Ss,{zIndex:u},p.createElement(Ca,vS({className:r},m),h))}function N8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function k8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(n),!0).forEach(function(r){a9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a9e(e,t,n){return(t=s9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9e(e){var t=i9e(e,"string");return typeof t=="symbol"?t:t+""}function i9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qae=0,o9e={xAxis:{},yAxis:{},zAxis:{}},Zae=ws({name:"cartesianAxis",initialState:o9e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Hn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Hn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Hn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Hn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Hn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Hn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Hn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Hn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Hn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=k8(k8({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:l9e,replaceXAxis:c9e,removeXAxis:u9e,addYAxis:d9e,replaceYAxis:f9e,removeYAxis:h9e,addZAxis:Vnt,replaceZAxis:znt,removeZAxis:Unt,updateYAxisWidth:m9e}=Zae.actions,p9e=Zae.reducer,g9e=Me([ca],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),v9e=Me([g9e,Gl,Wl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),jO=()=>kt(v9e),y9e=()=>kt(rUe);function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){x9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x9e(e,t,n){return(t=b9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9e(e){var t=w9e(e,"string");return typeof t=="symbol"?t:t+""}function w9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S9e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:s,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=FA(FA(FA({},l),cp(a)),BM(a)),u;return p.isValidElement(a)?u=p.cloneElement(a,c):typeof a=="function"?u=a(c):u=p.createElement(zae,c),p.createElement(Ca,{className:"recharts-active-dot",clipPath:o},u)};function C9e(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:s,zIndex:o=_r.activeDot}=e,l=kt(nu),c=y9e();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return bn(u)?null:p.createElement(Ss,{zIndex:o},p.createElement(S9e,{point:u,childIndex:Number(l),mainColor:n,dataKey:a,activeDot:r,clipPath:s}))}var P8=(e,t,n)=>{var r=n??e;if(!bn(r))return Zi(r,t,0)},j9e=(e,t,n)=>{var r={},a=e.filter(Yj),s=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),l=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=P8(t,n,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=P8(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function E8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(n),!0).forEach(function(r){N9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N9e(e,t,n){return(t=k9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k9e(e){var t=A9e(e,"string");return typeof t=="symbol"?t:t+""}function A9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P9e(e,t,n,r,a){var s=r.length;if(!(s<1)){var o=Zi(e,n,0,!0),l,c=[];if(or(r[0].barSize)){var u=!1,d=n/s,f=r.reduce((y,x)=>y+(x.barSize||0),0);f+=(s-1)*o,f>=n&&(f-=(s-1)*o,o=0),f>=n&&d>0&&(u=!0,d*=.9,f=s*d);var h=(n-f)/2>>0,m={offset:h-o,size:0};l=r.reduce((y,x)=>{var w,S={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(w=x.barSize)!==null&&w!==void 0?w:0}},j=[...y,S];return m=j[j.length-1].position,j},c)}else{var g=Zi(t,n,0,!0);n-2*g-(s-1)*o<=0&&(o=0);var v=(n-2*g-(s-1)*o)/s;v>1&&(v>>=0);var b=or(a)?Math.min(v,a):v;l=r.reduce((y,x,w)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:g+(v+o)*w+(v-b)/2,size:b}}],c)}return l}}var E9e=(e,t,n,r,a,s,o)=>{var l=bn(o)?t:o,c=P9e(n,r,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>pb(pb({},u),{},{position:pb(pb({},u.position),{},{offset:u.position.offset-a/2})}))),c},T9e=(e,t)=>{var n=KI(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===n)}}}};function _9e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&or(e.zIndex)?e.zIndex:t}var D9e=e=>{var{chartData:t}=e,n=lr(),r=ua();return p.useEffect(()=>r?()=>{}:(n(HV(t)),()=>{n(HV(void 0))}),[t,n,r]),null},T8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Jae=ws({name:"brush",initialState:T8,reducers:{setBrushSettings(e,t){return t.payload==null?T8:t.payload}}}),{setBrushSettings:Knt}=Jae.actions,R9e=Jae.reducer;function M9e(e,t,n){return(t=I9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I9e(e){var t=O9e(e,"string");return typeof t=="symbol"?t:t+""}function O9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NO{static create(t){return new NO(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}M9e(NO,"EPS",1e-4);function L9e(e){return(e%180+180)%180}var $9e=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=L9e(a),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},F9e={dots:[],areas:[],lines:[]},Xae=ws({name:"referenceElements",initialState:F9e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ki(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ki(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ki(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Gnt,removeDot:Wnt,addArea:qnt,removeArea:Hnt,addLine:Ynt,removeLine:Qnt}=Xae.actions,B9e=Xae.reducer,V9e=p.createContext(void 0),z9e=e=>{var{children:t}=e,[n]=p.useState("".concat(ly("recharts"),"-clip")),r=jO();if(r==null)return null;var{x:a,y:s,width:o,height:l}=r;return p.createElement(V9e.Provider,{value:n},p.createElement("defs",null,p.createElement("clipPath",{id:n},p.createElement("rect",{x:a,y:s,height:l,width:o}))),t)};function ese(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function U9e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $9e(r,n)}function K9e(e,t,n){var r=n==="width",{x:a,y:s,width:o,height:l}=e;return t===1?{start:r?a:s,end:r?a+o:s+l}:{start:r?a+o:s+l,end:r?a:s}}function wy(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function G9e(e,t){return ese(e,t+1)}function W9e(e,t,n,r,a){for(var s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:ese(r,u)};var v=c,b,y=()=>(b===void 0&&(b=n(g,v)),b),x=g.coordinate,w=c===0||wy(e,x,y,d,l);w||(c=0,d=o,u+=1),w&&(d=x+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function q9e(e,t,n,r,a){var s=(r||[]).slice(),o=s.length;if(o===0)return[];for(var{start:l,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,h=!0,m=function(){var x=r[g],w=g,S,j=()=>(S===void 0&&(S=n(x,w)),S),k=x.coordinate,N=g===d||wy(e,k,j,f,c);if(!N)return h=!1,1;N&&(f=k+e*(j()/2+a))},g=d;g<o&&!m();g+=u);if(h){for(var v=[],b=d;b<o;b+=u)v.push(r[b]);return v}}return[]}function _8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(r){H9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H9e(e,t,n){return(t=Y9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9e(e){var t=Q9e(e,"string");return typeof t=="symbol"?t:t+""}function Q9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z9e(e,t,n,r,a){for(var s=(r||[]).slice(),o=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],g,v=()=>(g===void 0&&(g=n(m,h)),g);if(h===o-1){var b=e*(m.coordinate+e*v()/2-c);s[h]=m=Ta(Ta({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else s[h]=m=Ta(Ta({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var y=wy(e,m.tickCoord,v,l,c);y&&(c=m.tickCoord-e*(v()/2+a),s[h]=Ta(Ta({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return s}function J9e(e,t,n,r,a,s){var o=(r||[]).slice(),l=o.length,{start:c,end:u}=t;if(s){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Ta(Ta({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=wy(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Ta(Ta({},d),{},{isShow:!0}))}}for(var g=s?l-1:l,v=function(x){var w=o[x],S,j=()=>(S===void 0&&(S=n(w,x)),S);if(x===0){var k=e*(w.coordinate-e*j()/2-c);o[x]=w=Ta(Ta({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[x]=w=Ta(Ta({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=wy(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+a),o[x]=Ta(Ta({},w),{},{isShow:!0}))}},b=0;b<g;b++)v(b);return o}function kO(e,t,n){var{tick:r,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(wt(c)||Ij.isSsr){var h;return(h=G9e(a,wt(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?lv(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(w,S)=>{var j=typeof u=="function"?u(w.value,S):w.value;return g==="width"?U9e(lv(j,{fontSize:t,letterSpacing:n}),v,f):lv(j,{fontSize:t,letterSpacing:n})[g]},y=a.length>=2?ms(a[1].coordinate-a[0].coordinate):1,x=K9e(s,y,g);return c==="equidistantPreserveStart"?W9e(y,x,b,a,o):c==="equidistantPreserveEnd"?q9e(y,x,b,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=J9e(y,x,b,a,o,c==="preserveStartEnd"):m=Z9e(y,x,b,a,o),m.filter(w=>w.isShow))}var X9e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=n?n.getBoundingClientRect().width:0,c=a+s,u=o+c+l+(n?r:0);return Math.round(u)}return 0},eWe=["axisLine","width","height","className","hide","ticks","axisType"];function tWe(e,t){if(e==null)return{};var n,r,a=nWe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nWe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qd.apply(null,arguments)}function D8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(n),!0).forEach(function(r){rWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rWe(e,t,n){return(t=aWe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aWe(e){var t=sWe(e,"string");return typeof t=="symbol"?t:t+""}function sWe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_r.axis};function iWe(e){var{x:t,y:n,width:r,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Er(Er(Er({},c),Us(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!o||s==="bottom"&&o);u=Er(Er({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(s==="left"&&!o||s==="right"&&o);u=Er(Er({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return p.createElement("line",Qd({},u,{className:cn("recharts-cartesian-axis-line",Cm(l,"className"))}))}function oWe(e,t,n,r,a,s,o,l,c){var u,d,f,h,m,g,v=l?-1:1,b=e.tickSize||o,y=wt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,h=n+ +!l*a,f=h-v*b,g=f-v*c,m=y;break;case"left":f=h=e.coordinate,d=t+ +!l*r,u=d-v*b,m=u-v*c,g=y;break;case"right":f=h=e.coordinate,d=t+ +l*r,u=d+v*b,m=u+v*c,g=y;break;default:u=d=e.coordinate,h=n+ +l*a,f=h+v*b,g=f+v*c,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function lWe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function cWe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function uWe(e){var{option:t,tickProps:n,value:r}=e,a,s=cn(n.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,Er(Er({},n),{},{className:s}));else if(typeof t=="function")a=t(Er(Er({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=cn(o,t==null?void 0:t.className)),a=p.createElement(dO,Qd({},n,{className:o}),r)}return a}var dWe=p.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:g,height:v,tickSize:b,tickMargin:y,fontSize:x,letterSpacing:w,getTicksConfig:S,events:j,axisType:k}=e,N=kO(Er(Er({},S),{},{ticks:n}),x,w),P=lWe(d,f),E=cWe(d,f),R=Us(S),O=cp(r),G={};typeof a=="object"&&(G=a);var te=Er(Er({},R),{},{fill:"none"},G),V=N.map(U=>Er({entry:U},oWe(U,h,m,g,v,d,b,f,y))),z=V.map(U=>{var{entry:M,line:F}=U;return p.createElement(Ca,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},a&&p.createElement("line",Qd({},te,F,{className:cn("recharts-cartesian-axis-tick-line",Cm(a,"className"))})))}),$=V.map((U,M)=>{var{entry:F,tick:W}=U,Z=Er(Er(Er(Er({textAnchor:P,verticalAnchor:E},R),{},{stroke:"none",fill:s},O),W),{},{index:M,payload:F,visibleTicksCount:N.length,tickFormatter:o,padding:c},u);return p.createElement(Ca,Qd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},fx(j,F,M)),r&&p.createElement(uWe,{option:r,tickProps:Z,value:"".concat(typeof o=="function"?o(F.value,M):F.value).concat(l||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},$.length>0&&p.createElement(Ss,{zIndex:_r.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},$)),z.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},z))}),fWe=p.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:s,hide:o,ticks:l,axisType:c}=e,u=tWe(e,eWe),[d,f]=p.useState(""),[h,m]=p.useState(""),g=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return X9e({ticks:g.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=p.useCallback(b=>{if(b){var y=b.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=y;var x=y[0];if(x){var w=window.getComputedStyle(x),S=w.fontSize,j=w.letterSpacing;(S!==d||j!==h)&&(f(S),m(j))}}},[d,h]);return o||r!=null&&r<=0||a!=null&&a<=0?null:p.createElement(Ss,{zIndex:e.zIndex},p.createElement(Ca,{className:cn("recharts-cartesian-axis",s)},p.createElement(iWe,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Us(e)}),p.createElement(dWe,{ref:v,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(XKe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(cGe,{label:e.label,labelRef:e.labelRef}),e.children)))}),AO=p.forwardRef((e,t)=>{var n=qr(e,Sl);return p.createElement(fWe,Qd({},n,{ref:t}))});AO.displayName="CartesianAxis";var hWe=["x1","y1","x2","y2","key"],mWe=["offset"],pWe=["xAxisId","yAxisId"],gWe=["xAxisId","yAxisId"];function R8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(n),!0).forEach(function(r){vWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vWe(e,t,n){return(t=yWe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yWe(e){var t=xWe(e,"string");return typeof t=="symbol"?t:t+""}function xWe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rd.apply(null,arguments)}function yS(e,t){if(e==null)return{};var n,r,a=bWe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bWe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wWe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:o,ry:l}=e;return p.createElement("rect",{x:r,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tse(e){var{option:t,lineItemProps:n}=e,r;if(p.isValidElement(t))r=p.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:s,y1:o,x2:l,y2:c,key:u}=n,d=yS(n,hWe),f=(a=Us(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=yS(f,mWe);r=p.createElement("line",rd({},m,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:u}))}return r}function SWe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=yS(e,pWe),c=a.map((u,d)=>{var f=Da(Da({},l),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return p.createElement(tse,{key:"line-".concat(d),option:r,lineItemProps:f})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function CWe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=yS(e,gWe),c=a.map((u,d)=>{var f=Da(Da({},l),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return p.createElement(tse,{option:r,lineItemProps:f,key:"line-".concat(d)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function jWe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var v=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:g,width:s,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function NWe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var v=h%n.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var kWe=(e,t)=>{var{xAxis:n,width:r,height:a,offset:s}=e;return kte(kO(Da(Da(Da({},Sl),n),{},{ticks:Ate(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},AWe=(e,t)=>{var{yAxis:n,width:r,height:a,offset:s}=e;return kte(kO(Da(Da(Da({},Sl),n),{},{ticks:Ate(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},PWe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_r.grid};function vd(e){var t=cI(),n=uI(),r=$te(),a=Da(Da({},qr(e,PWe)),{},{x:wt(e.x)?e.x:r.left,y:wt(e.y)?e.y:r.top,width:wt(e.width)?e.width:r.width,height:wt(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,g=ua(),v=kt(E=>LV(E,"xAxis",s,g)),b=kt(E=>LV(E,"yAxis",o,g));if(!Lo(u)||!Lo(d)||!wt(l)||!wt(c))return null;var y=a.verticalCoordinatesGenerator||kWe,x=a.horizontalCoordinatesGenerator||AWe,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof x=="function"){var j=h&&h.length,k=x({yAxis:b?Da(Da({},b),{},{ticks:j?h:b.ticks}):void 0,width:t??u,height:n??d,offset:r},j?!0:f);G1(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!S||!S.length)&&typeof y=="function"){var N=m&&m.length,P=y({xAxis:v?Da(Da({},v),{},{ticks:N?m:v.ticks}):void 0,width:t??u,height:n??d,offset:r},N?!0:f);G1(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(S=P)}return p.createElement(Ss,{zIndex:a.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(wWe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(jWe,rd({},a,{horizontalPoints:w})),p.createElement(NWe,rd({},a,{verticalPoints:S})),p.createElement(SWe,rd({},a,{offset:r,horizontalPoints:w,xAxis:v,yAxis:b})),p.createElement(CWe,rd({},a,{offset:r,verticalPoints:S,xAxis:v,yAxis:b}))))}vd.displayName="CartesianGrid";var EWe={},nse=ws({name:"errorBars",initialState:EWe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Znt,replaceErrorBar:Jnt,removeErrorBar:Xnt}=nse.actions,TWe=nse.reducer,_We=["children"];function DWe(e,t){if(e==null)return{};var n,r,a=RWe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function RWe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MWe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},IWe=p.createContext(MWe);function PO(e){var{children:t}=e,n=DWe(e,_We);return p.createElement(IWe.Provider,{value:n},t)}function fN(e,t){var n,r,a=kt(u=>Yl(u,e)),s=kt(u=>Ql(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:ea.allowDataOverflow,l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ta.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function EO(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=jO(),{needClipX:s,needClipY:o,needClip:l}=fN(t,n);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(r)},p.createElement("rect",{x:s?c:c-d/2,y:o?u:u-f/2,width:s?d:d*2,height:o?f:f*2}))}var rse=(e,t,n,r)=>Bo(e,"xAxis",t,r),ase=(e,t,n,r)=>Fo(e,"xAxis",t,r),sse=(e,t,n,r)=>Bo(e,"yAxis",n,r),ise=(e,t,n,r)=>Fo(e,"yAxis",n,r),OWe=Me([hn,rse,sse,ase,ise],(e,t,n,r,a)=>vu(e,"xAxis")?Nm(t,r,!1):Nm(n,a,!1)),LWe=(e,t,n,r,a)=>a;function $We(e){return e.type==="line"}var FWe=Me([kx,LWe],(e,t)=>e.filter($We).find(n=>n.id===t)),BWe=Me([hn,rse,sse,ase,ise,FWe,OWe,Kj],(e,t,n,r,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return _qe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function VWe(e){var t=cp(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var zWe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=p;function UWe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KWe=typeof Object.is=="function"?Object.is:UWe,GWe=Mx.useSyncExternalStore,WWe=Mx.useRef,qWe=Mx.useEffect,HWe=Mx.useMemo,YWe=Mx.useDebugValue;zWe.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var s=WWe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=HWe(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,KWe(d,m))return g;var v=r(m);return a!==void 0&&a(g,v)?(d=m,g):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,a]);var l=GWe(e,s[0],s[1]);return qWe(function(){o.hasValue=!0,o.value=l},[l]),YWe(l),l};function QWe(e){e()}function ZWe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){QWe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var M8={notify(){},get:()=>[]};function JWe(e,t){let n,r=M8,a=0,s=!1;function o(v){d();const b=r.subscribe(v);let y=!1;return()=>{y||(y=!0,b(),f())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){a++,n||(n=e.subscribe(c),r=ZWe())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=M8)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return g}var XWe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eqe=XWe(),tqe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nqe=tqe(),rqe=()=>eqe||nqe?p.useLayoutEffect:p.useEffect,aqe=rqe();function I8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sqe(e,t){if(I8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!I8(e[n[a]],t[n[a]]))return!1;return!0}var BA=Symbol.for("react-redux-context"),VA=typeof globalThis<"u"?globalThis:{};function iqe(){if(!p.createContext)return{};const e=VA[BA]??(VA[BA]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var oqe=iqe();function lqe(e){const{children:t,context:n,serverState:r,store:a}=e,s=p.useMemo(()=>{const c=JWe(a);return{store:a,subscription:c,getServerState:r?()=>r:void 0}},[a,r]),o=p.useMemo(()=>a.getState(),[a]);aqe(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=n||oqe;return p.createElement(l.Provider,{value:s},t)}var cqe=lqe,uqe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function dqe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Ix(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(uqe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!sqe(e[r],t[r]))return!1}else if(!dqe(e[r],t[r]))return!1;return!0}var fqe=["id"],hqe=["type","layout","connectNulls","needClip","shape"],mqe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(null,arguments)}function O8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(n),!0).forEach(function(r){pqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pqe(e,t,n){return(t=gqe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gqe(e){var t=vqe(e,"string");return typeof t=="symbol"?t:t+""}function vqe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TO(e,t){if(e==null)return{};var n,r,a=yqe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xqe=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:up(n,t),payload:e}]},bqe=p.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:s,name:o,hide:l,unit:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:up(o,t),hide:l,type:u,color:r,unit:c,graphicalItemId:d}};return p.createElement(bO,{tooltipEntrySettings:f})}),ose=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function wqe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Sqe=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return ose(t,e);for(var a=Math.floor(e/r),s=e%r,o=t-e,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>s){l=[...n.slice(0,c),s-u];break}var d=l.length%2===0?[0,o]:[o];return[...wqe(n,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Cqe(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:s,needClip:o}=r,{id:l}=r,c=TO(r,fqe),u=Us(c);return p.createElement(r9e,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:o,clipPathId:t})}function jqe(e){var{showLabels:t,children:n,points:r}=e,a=p.useMemo(()=>r==null?void 0:r.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return po(po({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return p.createElement(hO,{value:t?a:void 0},n)}function L8(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:d}=s,f=TO(s,hqe),h=po(po({},Ha(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return p.createElement(p.Fragment,null,(r==null?void 0:r.length)>1&&p.createElement(gS,Sy({shapeType:"curve",option:d},h,{pathRef:n})),p.createElement(Cqe,{points:r,clipPathId:t,props:s}))}function Nqe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function kqe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:g,onAnimationEnd:v,onAnimationStart:b}=n,y=a.current,x=bx(o,"recharts-line-"),w=p.useRef(x),[S,j]=p.useState(!1),k=!S,N=p.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),P=p.useCallback(()=>{typeof b=="function"&&b(),j(!0)},[b]),E=Nqe(r.current),R=p.useRef(0);w.current!==x&&(R.current=s.current,w.current=x);var O=R.current;return p.createElement(jqe,{points:o,showLabels:k},n.children,p.createElement(xx,{animationId:x,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:P,key:x},G=>{var te=Dn(O,E+O,G),V=Math.min(te,E),z;if(c)if(l){var $="".concat(l).split(/[,\s]+/gim).map(F=>parseFloat(F));z=Sqe(V,E,$)}else z=ose(E,V);else z=l==null?void 0:String(l);if(G>0&&E>0&&(a.current=o,s.current=Math.max(s.current,V)),y){var U=y.length/o.length,M=G===1?o:o.map((F,W)=>{var Z=Math.floor(W*U);if(y[Z]){var H=y[Z];return po(po({},F),{},{x:Dn(H.x,F.x,G),y:Dn(H.y,F.y,G)})}return h?po(po({},F),{},{x:Dn(m*2,F.x,G),y:Dn(g/2,F.y,G)}):po(po({},F),{},{x:F.x,y:F.y})});return a.current=M,p.createElement(L8,{props:n,points:M,clipPathId:t,pathRef:r,strokeDasharray:z})}return p.createElement(L8,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:z})}),p.createElement(mO,{label:n.label}))}function Aqe(e){var{clipPathId:t,props:n}=e,r=p.useRef(null),a=p.useRef(0),s=p.useRef(null);return p.createElement(kqe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:s})}var Pqe=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Jn(e.payload,t)}};class Eqe extends p.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var g=cn("recharts-line",a),v=f,{r:b,strokeWidth:y}=VWe(n),x=qae(n),w=b*2+y,S=h?"url(#clipPath-".concat(x?"":"dots-").concat(v,")"):void 0;return p.createElement(Ss,{zIndex:m},p.createElement(Ca,{className:g},h&&p.createElement("defs",null,p.createElement(EO,{clipPathId:v,xAxisId:s,yAxisId:o}),!x&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:c-w/2,y:l-w/2,width:u+w,height:d+w}))),p.createElement(PO,{xAxisId:s,yAxisId:o,data:r,dataPointFormatter:Pqe,errorBarOffset:0},p.createElement(Aqe,{props:this.props,clipPathId:v}))),p.createElement(C9e,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var lse={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:_r.line,type:"linear"};function Tqe(e){var t=qr(e,lse),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:g,id:v}=t,b=TO(t,mqe),{needClip:y}=fN(m,g),x=jO(),w=dp(),S=ua(),j=kt(R=>BWe(R,m,g,S,v));if(w!=="horizontal"&&w!=="vertical"||j==null||x==null)return null;var{height:k,width:N,x:P,y:E}=x;return p.createElement(Eqe,Sy({},b,{id:v,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:g,points:j,layout:w,height:k,width:N,left:P,top:E,needClip:y}))}function _qe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Jn(u,o);if(t==="horizontal"){var h=K1({axis:n,ticks:a,bandSize:l,entry:u,index:d}),m=bn(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:u}}var g=bn(f)?null:n.scale(f),v=K1({axis:r,ticks:s,bandSize:l,entry:u,index:d});return g==null||v==null?null:{x:g,y:v,value:f,payload:u}}).filter(Boolean)}function Dqe(e){var t=qr(e,lse),n=ua();return p.createElement(SO,{id:t.id,type:"line"},r=>p.createElement(p.Fragment,null,p.createElement(wO,{legendPayload:xqe(t)}),p.createElement(bqe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),p.createElement(CO,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),p.createElement(Tqe,Sy({},t,{id:r}))))}var xS=p.memo(Dqe,Ix);xS.displayName="Line";function pf(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Qae}function gf(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Qae}var Rqe="Invariant failed";function Mqe(e,t){throw new Error(Rqe)}function MT(){return MT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MT.apply(null,arguments)}function bS(e){return p.createElement(gS,MT({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Iqe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(wt(t))return t;var s=wt(r)||bn(r);return s?t(r,a):(s||Mqe(),n)}},Oqe=(e,t,n)=>n,Lqe=(e,t)=>t,Ox=Me([kx,Lqe],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),$qe=Me([Ox],e=>e==null?void 0:e.maxBarSize),Fqe=(e,t,n,r)=>r,Bqe=Me([hn,kx,pf,gf,Oqe],(e,t,n,r,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Vqe=(e,t,n)=>{var r=hn(e),a=pf(e,t),s=gf(e,t);if(!(a==null||s==null))return r==="horizontal"?kT(e,"yAxis",s,n):kT(e,"xAxis",a,n)},zqe=(e,t)=>{var n=hn(e),r=pf(e,t),a=gf(e,t);if(!(r==null||a==null))return n==="horizontal"?OV(e,"xAxis",r):OV(e,"yAxis",a)},Uqe=Me([Bqe,n8e,zqe],j9e),Kqe=(e,t,n)=>{var r,a,s=Ox(e,t);if(s!=null){var o=pf(e,t),l=gf(e,t);if(!(o==null||l==null)){var c=hn(e),u=rre(e),{maxBarSize:d}=s,f=bn(d)?u:d,h,m;return c==="horizontal"?(h=Bo(e,"xAxis",o,n),m=Fo(e,"xAxis",o,n)):(h=Bo(e,"yAxis",l,n),m=Fo(e,"yAxis",l,n)),(r=(a=Nm(h,m,!0))!==null&&a!==void 0?a:f)!==null&&r!==void 0?r:0}}},cse=(e,t,n)=>{var r=hn(e),a=pf(e,t),s=gf(e,t);if(!(a==null||s==null)){var o,l;return r==="horizontal"?(o=Bo(e,"xAxis",a,n),l=Fo(e,"xAxis",a,n)):(o=Bo(e,"yAxis",s,n),l=Fo(e,"yAxis",s,n)),Nm(o,l)}},Gqe=Me([Uqe,rre,t8e,are,Kqe,cse,$qe],E9e),Wqe=(e,t,n)=>{var r=pf(e,t);if(r!=null)return Bo(e,"xAxis",r,n)},qqe=(e,t,n)=>{var r=gf(e,t);if(r!=null)return Bo(e,"yAxis",r,n)},Hqe=(e,t,n)=>{var r=pf(e,t);if(r!=null)return Fo(e,"xAxis",r,n)},Yqe=(e,t,n)=>{var r=gf(e,t);if(r!=null)return Fo(e,"yAxis",r,n)},Qqe=Me([Gqe,Ox],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Zqe=Me([Vqe,Ox],T9e),Jqe=Me([ca,oI,Wqe,qqe,Hqe,Yqe,Qqe,hn,UVe,cse,Zqe,Ox,Fqe],(e,t,n,r,a,s,o,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||a==null||s==null||u==null)){var{data:b}=f,y;if(b!=null&&b.length>0?y=b:y=m==null?void 0:m.slice(g,v+1),y!=null)return AHe({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:y,offset:e,cells:h,dataStartIndex:g})}}),Xqe=["index"];function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IT.apply(null,arguments)}function eHe(e,t){if(e==null)return{};var n,r,a=tHe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var use=p.createContext(void 0),nHe=e=>{var t=p.useContext(use);if(t!=null)return t.stackId;if(e!=null)return OFe(e)},rHe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),aHe=e=>{var t=p.useContext(use);if(t!=null){var{stackId:n}=t;return"url(#".concat(rHe(n,e),")")}},sHe=e=>{var{index:t}=e,n=eHe(e,Xqe),r=aHe(t);return p.createElement(Ca,IT({className:"recharts-bar-stack-layer",clipPath:r},n))},iHe=["onMouseEnter","onMouseLeave","onClick"],oHe=["value","background","tooltipPosition"],lHe=["id"],cHe=["onMouseEnter","onClick","onMouseLeave"];function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bl.apply(null,arguments)}function $8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(n),!0).forEach(function(r){uHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uHe(e,t,n){return(t=dHe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dHe(e){var t=fHe(e,"string");return typeof t=="symbol"?t:t+""}function fHe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wS(e,t){if(e==null)return{};var n,r,a=hHe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mHe=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:up(n,t),payload:e}]},pHe=p.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:up(s,t),hide:o,type:c,color:a,unit:l,graphicalItemId:u}};return p.createElement(bO,{tooltipEntrySettings:d})});function gHe(e){var t=kt(nu),{data:n,dataKey:r,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=wS(s,iHe),d=vO(o,r,s.id),f=yO(l),h=xO(c,r,s.id);if(!a||n==null)return null;var m=cp(a);return p.createElement(Ss,{zIndex:_9e(a,_r.barBackground)},n.map((g,v)=>{var{value:b,background:y,tooltipPosition:x}=g,w=wS(g,oHe);if(!y)return null;var S=d(g,v),j=f(g,v),k=h(g,v),N=Fa(Fa(Fa(Fa(Fa({option:a,isActive:String(v)===t},w),{},{fill:"#eee"},y),m),fx(u,g,v)),{},{onMouseEnter:S,onMouseLeave:j,onClick:k,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return p.createElement(bS,Bl({key:"background-bar-".concat(v)},N))}))}function vHe(e){var{showLabels:t,children:n,rects:r}=e,a=r==null?void 0:r.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Fa(Fa({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return p.createElement(hO,{value:t?a:void 0},n)}function yHe(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:s,dataKey:o}=e,l=kt(nu),c=kt(pae),u=n&&String(s)===l&&(c==null||o===c),d=u?n:t;return u?p.createElement(Ss,{zIndex:_r.activeBar},p.createElement(bS,Bl({},r,{name:String(r.name)},a,{isActive:u,option:d,index:s,dataKey:o}))):p.createElement(bS,Bl({},r,{name:String(r.name)},a,{isActive:u,option:d,index:s,dataKey:o}))}function xHe(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:s}=e;return p.createElement(bS,Bl({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:s}))}function bHe(e){var t,{data:n,props:r}=e,a=(t=Us(r))!==null&&t!==void 0?t:{},{id:s}=a,o=wS(a,lHe),{shape:l,dataKey:c,activeBar:u}=r,{onMouseEnter:d,onClick:f,onMouseLeave:h}=r,m=wS(r,cHe),g=vO(d,c,s),v=yO(h),b=xO(f,c,s);return n?p.createElement(p.Fragment,null,n.map((y,x)=>p.createElement(sHe,Bl({index:x,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(x),className:"recharts-bar-rectangle"},fx(m,y,x),{onMouseEnter:g(y,x),onMouseLeave:v(y,x),onClick:b(y,x)}),u?p.createElement(yHe,{shape:l,activeBar:u,baseProps:o,entry:y,index:x,dataKey:c}):p.createElement(xHe,{shape:l,baseProps:o,entry:y,index:x,dataKey:c})))):null}function wHe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=n.current,h=bx(t,"recharts-bar-"),[m,g]=p.useState(!1),v=!m,b=p.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),y=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(vHe,{showLabels:v,rects:r},p.createElement(xx,{animationId:h,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:b,onAnimationStart:y,key:h},x=>{var w=x===1?r:r==null?void 0:r.map((S,j)=>{var k=f&&f[j];if(k)return Fa(Fa({},S),{},{x:Dn(k.x,S.x,x),y:Dn(k.y,S.y,x),width:Dn(k.width,S.width,x),height:Dn(k.height,S.height,x)});if(a==="horizontal"){var N=Dn(0,S.height,x),P=Dn(S.stackedBarStart,S.y,x);return Fa(Fa({},S),{},{y:P,height:N})}var E=Dn(0,S.width,x),R=Dn(S.stackedBarStart,S.x,x);return Fa(Fa({},S),{},{width:E,x:R})});return x>0&&(n.current=w??null),w==null?null:p.createElement(Ca,null,p.createElement(bHe,{props:t,data:w}))}),p.createElement(mO,{label:t.label}),t.children)}function SHe(e){var t=p.useRef(null);return p.createElement(wHe,{previousRectanglesRef:t,props:e})}var dse=0,CHe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Jn(e,t)}};class jHe extends p.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||n==null)return null;var d=cn("recharts-bar",a),f=u;return p.createElement(Ca,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(EO,{clipPathId:f,xAxisId:s,yAxisId:o})),p.createElement(Ca,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(gHe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),p.createElement(SHe,this.props)))}}var NHe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:dse,xAxisId:0,yAxisId:0,zIndex:_r.bar};function kHe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=fN(t,n),h=dp(),m=ua(),g=Wae(e.children,_m),v=kt(x=>Jqe(x,e.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var b,y=v==null?void 0:v[0];return y==null||y.height==null||y.width==null?b=0:b=h==="vertical"?y.height/2:y.width/2,p.createElement(PO,{xAxisId:t,yAxisId:n,data:v,dataPointFormatter:CHe,errorBarOffset:b},p.createElement(jHe,Bl({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function AHe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g,dataStartIndex:v}=e,b=t==="horizontal"?l:o,y=d?b.scale.domain():null,x=LFe({numericAxis:b}),w=b.scale(x);return f.map((S,j)=>{var k,N,P,E,R,O;if(d){var G=d[j+v];if(G==null)return null;k=_Fe(G,y)}else k=Jn(S,n),Array.isArray(k)||(k=[x,k]);var te=Iqe(r,dse)(k[1],j);if(t==="horizontal"){var V,[z,$]=[l.scale(k[0]),l.scale(k[1])];N=q5({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:S,index:j}),P=(V=$??z)!==null&&V!==void 0?V:void 0,E=a.size;var U=z-$;if(R=Qi(U)?0:U,O={x:N,y:h.top,width:E,height:h.height},Math.abs(te)>0&&Math.abs(R)<Math.abs(te)){var M=ms(R||te)*(Math.abs(te)-Math.abs(R));P-=M,R+=M}}else{var[F,W]=[o.scale(k[0]),o.scale(k[1])];if(N=F,P=q5({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:S,index:j}),E=W-F,R=a.size,O={x:h.left,y:P,width:h.width,height:R},Math.abs(te)>0&&Math.abs(E)<Math.abs(te)){var Z=ms(E||te)*(Math.abs(te)-Math.abs(E));E+=Z}}if(N==null||P==null||E==null||R==null)return null;var H=Fa(Fa({},S),{},{stackedBarStart:w,x:N,y:P,width:E,height:R,value:d?k:k[1],payload:S,background:O,tooltipPosition:{x:N+E/2,y:P+R/2},parentViewBox:g},m&&m[j]&&m[j].props);return H}).filter(Boolean)}function PHe(e){var t=qr(e,NHe),n=nHe(t.stackId),r=ua();return p.createElement(SO,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(wO,{legendPayload:mHe(t)}),p.createElement(pHe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),p.createElement(CO,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(Ss,{zIndex:t.zIndex},p.createElement(kHe,Bl({},t,{id:a})))))}var Eh=p.memo(PHe,Ix);Eh.displayName="Bar";var EHe=["option","isActive"];function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cv.apply(null,arguments)}function THe(e,t){if(e==null)return{};var n,r,a=_He(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _He(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DHe(e){var{option:t,isActive:n}=e,r=THe(e,EHe);return typeof t=="string"?p.createElement(gS,cv({option:p.createElement(pj,cv({type:t},r)),isActive:n,shapeType:"symbols"},r)):p.createElement(gS,cv({option:t,isActive:n,shapeType:"symbols"},r))}var RHe=(e,t,n,r,a,s,o)=>Bo(e,"xAxis",t,o),MHe=(e,t,n,r,a,s,o)=>Fo(e,"xAxis",t,o),IHe=(e,t,n,r,a,s,o)=>Bo(e,"yAxis",n,o),OHe=(e,t,n,r,a,s,o)=>Fo(e,"yAxis",n,o),LHe=(e,t,n,r)=>aze(e,"zAxis",r,!1),$He=(e,t,n,r,a)=>a,FHe=(e,t,n,r,a,s)=>s,BHe=(e,t,n,r,a,s,o)=>Kj(e,void 0,void 0,o),VHe=Me([kx,$He],(e,t)=>e.filter(n=>n.type==="scatter").find(n=>n.id===t)),zHe=Me([BHe,RHe,MHe,IHe,OHe,LHe,VHe,FHe],(e,t,n,r,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(o!=null){var f;if((o==null?void 0:o.data)!=null&&o.data.length>0?f=o.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||r==null||n==null||a==null||(n==null?void 0:n.length)===0||(a==null?void 0:a.length)===0))return n7e({displayedData:f,xAxis:t,yAxis:r,zAxis:s,scatterSettings:o,xAxisTicks:n,yAxisTicks:a,cells:l})}}),UHe=["id"],KHe=["onMouseEnter","onClick","onMouseLeave"],GHe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function OT(e,t){if(e==null)return{};var n,r,a=WHe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(null,arguments)}function F8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(n),!0).forEach(function(r){qHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qHe(e,t,n){return(t=HHe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HHe(e){var t=YHe(e,"string");return typeof t=="symbol"?t:t+""}function YHe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QHe=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:up(n,t),payload:e}]},ZHe=p.memo(e=>{var{dataKey:t,points:n,stroke:r,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:n==null?void 0:n.map(f=>f.tooltipPayload),positions:n==null?void 0:n.map(f=>f.tooltipPosition),settings:{stroke:r,strokeWidth:a,fill:s,nameKey:void 0,dataKey:t,name:up(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:u}};return p.createElement(bO,{tooltipEntrySettings:d})});function JHe(e){var{points:t,props:n}=e,{line:r,lineType:a,lineJointType:s}=n;if(!r)return null;var o=Us(n),l=cp(r),c,u;if(a==="joint")c=t.map(b=>{var y,x;return{x:(y=b.cx)!==null&&y!==void 0?y:null,y:(x=b.cy)!==null&&x!==void 0?x:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:h,b:m}=k4e(t),g=b=>h*b+m;c=[{x:d,y:g(d)},{x:f,y:g(f)}]}var v=gs(gs(gs({},o),{},{fill:"none",stroke:o&&o.fill},l),{},{points:c});return p.isValidElement(r)?u=p.cloneElement(r,v):typeof r=="function"?u=r(v):u=p.createElement(hI,Zd({},v,{type:s})),p.createElement(Ca,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function XHe(e){var{showLabels:t,points:n,children:r}=e,a=vx(),s=p.useMemo(()=>n==null?void 0:n.map(o=>{var l,c,u={x:(l=o.x)!==null&&l!==void 0?l:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return gs(gs({},u),{},{value:void 0,payload:o.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,n]);return p.createElement(hO,{value:t?s:void 0},r)}function e7e(e){var{points:t,allOtherScatterProps:n}=e,{shape:r,activeShape:a,dataKey:s}=n,{id:o}=n,l=OT(n,UHe),c=kt(nu),{onMouseEnter:u,onClick:d,onMouseLeave:f}=n,h=OT(n,KHe),m=vO(u,s,o),g=yO(f),v=xO(d,s,o);if(!F4e(t))return null;var b=Us(l);return p.createElement(p.Fragment,null,p.createElement(JHe,{points:t,props:l}),t.map((y,x)=>{var w=a!=null&&a!==!1,S=w&&c===String(x),j=w&&S?a:r,k=gs(gs(gs({},b),y),{},{[Ete]:x,[Tte]:String(o)});return p.createElement(Ss,{key:"symbol-".concat(y==null?void 0:y.cx,"-").concat(y==null?void 0:y.cy,"-").concat(y==null?void 0:y.size,"-").concat(x),zIndex:S?_r.activeDot:void 0},p.createElement(Ca,Zd({className:"recharts-scatter-symbol"},fx(h,y,x),{onMouseEnter:m(y,x),onMouseLeave:g(y,x),onClick:v(y,x)}),p.createElement(DHe,Zd({option:j,isActive:S},k))))}))}function t7e(e){var{previousPointsRef:t,props:n}=e,{points:r,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l}=n,c=t.current,u=bx(n,"recharts-scatter-"),[d,f]=p.useState(!1),h=p.useCallback(()=>{f(!1)},[]),m=p.useCallback(()=>{f(!0)},[]),g=!d;return p.createElement(XHe,{showLabels:g,points:r},n.children,p.createElement(xx,{animationId:u,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:h,onAnimationStart:m,key:u},v=>{var b=v===1?r:r==null?void 0:r.map((y,x)=>{var w=c&&c[x];return w?gs(gs({},y),{},{cx:y.cx==null?void 0:Dn(w.cx,y.cx,v),cy:y.cy==null?void 0:Dn(w.cy,y.cy,v),size:Dn(w.size,y.size,v)}):gs(gs({},y),{},{size:Dn(0,y.size,v)})});return v>0&&(t.current=b),p.createElement(Ca,null,p.createElement(e7e,{points:b,allOtherScatterProps:n,showLabels:g}))}),p.createElement(mO,{label:n.label}))}function n7e(e){var{displayedData:t,xAxis:n,yAxis:r,zAxis:a,scatterSettings:s,xAxisTicks:o,yAxisTicks:l,cells:c}=e,u=bn(n.dataKey)?s.dataKey:n.dataKey,d=bn(r.dataKey)?s.dataKey:r.dataKey,f=a&&a.dataKey,h=a?a.range:pre.range,m=h&&h[0],g=n.scale.bandwidth?n.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((b,y)=>{var x=Jn(b,u),w=Jn(b,d),S=!bn(f)&&Jn(b,f)||"-",j=[{name:bn(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:x,payload:b,dataKey:u,type:s.tooltipType},{name:bn(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:w,payload:b,dataKey:d,type:s.tooltipType}];S!=="-"&&j.push({name:a.name||a.dataKey,unit:a.unit||"",value:S,payload:b,dataKey:f,type:s.tooltipType});var k=K1({axis:n,ticks:o,bandSize:g,entry:b,index:y,dataKey:u}),N=K1({axis:r,ticks:l,bandSize:v,entry:b,index:y,dataKey:d}),P=S!=="-"?a.scale(S):m,E=Math.sqrt(Math.max(P,0)/Math.PI);return gs(gs({},b),{},{cx:k,cy:N,x:k==null?void 0:k-E,y:N==null?void 0:N-E,width:2*E,height:2*E,size:P,node:{x,y:w,z:S},tooltipPayload:j,tooltipPosition:{x:k,y:N},payload:b},c&&c[y]&&c[y].props)})}var r7e=(e,t,n)=>({x:e.cx,y:e.cy,value:Number(n==="x"?e.node.x:e.node.y),errorVal:Jn(e,t)});function a7e(e){var{hide:t,points:n,className:r,needClip:a,xAxisId:s,yAxisId:o,id:l}=e,c=p.useRef(null);if(t)return null;var u=cn("recharts-scatter",r),d=l;return p.createElement(Ss,{zIndex:e.zIndex},p.createElement(Ca,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:l},a&&p.createElement("defs",null,p.createElement(EO,{clipPathId:d,xAxisId:s,yAxisId:o})),p.createElement(PO,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:r7e,errorBarOffset:0},p.createElement(Ca,{key:"recharts-scatter-symbols"},p.createElement(t7e,{props:e,previousPointsRef:c})))))}var fse={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:_r.scatter};function s7e(e){var t=qr(e,fse),{animationBegin:n,animationDuration:r,animationEasing:a,hide:s,isAnimationActive:o,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:h,zAxisId:m}=t,g=OT(t,GHe),{needClip:v}=fN(f,h),b=p.useMemo(()=>Wae(e.children,_m),[e.children]),y=ua(),x=kt(w=>zHe(w,f,h,m,e.id,b,y));return v==null||x==null?null:p.createElement(p.Fragment,null,p.createElement(ZHe,{dataKey:e.dataKey,points:x,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),p.createElement(a7e,Zd({},g,{xAxisId:f,yAxisId:h,zAxisId:m,lineType:u,lineJointType:c,legendType:l,shape:d,hide:s,isAnimationActive:o,animationBegin:n,animationDuration:r,animationEasing:a,points:x,needClip:v})))}function i7e(e){var t=qr(e,fse),n=ua();return p.createElement(SO,{id:t.id,type:"scatter"},r=>p.createElement(p.Fragment,null,p.createElement(wO,{legendPayload:QHe(t)}),p.createElement(CO,{type:"scatter",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:n}),p.createElement(s7e,Zd({},t,{id:r}))))}var hse=p.memo(i7e,Ix);hse.displayName="Scatter";var o7e=["domain","range"],l7e=["domain","range"];function B8(e,t){if(e==null)return{};var n,r,a=c7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function V8(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function mse(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=B8(e,o7e),{domain:s,range:o}=t,l=B8(t,l7e);return!V8(n,s)||!V8(r,o)?!1:Ix(a,l)}var u7e=["dangerouslySetInnerHTML","ticks","scale"],d7e=["id","scale"];function LT(){return LT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LT.apply(null,arguments)}function z8(e,t){if(e==null)return{};var n,r,a=f7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function h7e(e){var t=lr(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(l9e(e)):n.current!==e&&t(c9e({prev:n.current,next:e})),n.current=e},[e,t]),p.useLayoutEffect(()=>()=>{n.current&&(t(u9e(n.current)),n.current=null)},[t]),null}var m7e=e=>{var{xAxisId:t,className:n}=e,r=kt(oI),a=ua(),s="xAxis",o=kt(y=>Yre(y,s,t,a)),l=kt(y=>Gre(y,t)),c=kt(y=>J8e(y,t)),u=kt(y=>hre(y,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=z8(e,u7e),{id:g,scale:v}=u,b=z8(u,d7e);return p.createElement(AO,LT({},m,b,{x:c.x,y:c.y,width:l.width,height:l.height,className:cn("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o,axisType:s}))},p7e={allowDataOverflow:ea.allowDataOverflow,allowDecimals:ea.allowDecimals,allowDuplicatedCategory:ea.allowDuplicatedCategory,angle:ea.angle,axisLine:Sl.axisLine,height:ea.height,hide:!1,includeHidden:ea.includeHidden,interval:ea.interval,minTickGap:ea.minTickGap,mirror:ea.mirror,orientation:ea.orientation,padding:ea.padding,reversed:ea.reversed,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,tickLine:Sl.tickLine,tickSize:Sl.tickSize,type:ea.type,xAxisId:0},g7e=e=>{var t=qr(e,p7e);return p.createElement(p.Fragment,null,p.createElement(h7e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(m7e,t))},yd=p.memo(g7e,mse);yd.displayName="XAxis";var v7e=["dangerouslySetInnerHTML","ticks","scale"],y7e=["id","scale"];function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$T.apply(null,arguments)}function U8(e,t){if(e==null)return{};var n,r,a=x7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function b7e(e){var t=lr(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(d9e(e)):n.current!==e&&t(f9e({prev:n.current,next:e})),n.current=e},[e,t]),p.useLayoutEffect(()=>()=>{n.current&&(t(h9e(n.current)),n.current=null)},[t]),null}var w7e=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,s=p.useRef(null),o=p.useRef(null),l=kt(oI),c=ua(),u=lr(),d="yAxis",f=kt(k=>Wre(k,t)),h=kt(k=>eze(k,t)),m=kt(k=>Yre(k,d,t,c)),g=kt(k=>mre(k,t));if(p.useLayoutEffect(()=>{if(!(r!=="auto"||!f||fO(a)||p.isValidElement(a)||g==null)){var k=s.current;if(k){var N=k.getCalculatedWidth();Math.round(f.width)!==Math.round(N)&&u(m9e({id:t,width:N}))}}},[m,f,u,a,t,r,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:b,scale:y}=e,x=U8(e,v7e),{id:w,scale:S}=g,j=U8(g,y7e);return p.createElement(AO,$T({},x,j,{ref:s,labelRef:o,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:cn("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:m,axisType:d}))},S7e={allowDataOverflow:ta.allowDataOverflow,allowDecimals:ta.allowDecimals,allowDuplicatedCategory:ta.allowDuplicatedCategory,angle:ta.angle,axisLine:Sl.axisLine,hide:!1,includeHidden:ta.includeHidden,interval:ta.interval,minTickGap:ta.minTickGap,mirror:ta.mirror,orientation:ta.orientation,padding:ta.padding,reversed:ta.reversed,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,tickLine:Sl.tickLine,tickSize:Sl.tickSize,type:ta.type,width:ta.width,yAxisId:0},C7e=e=>{var t=qr(e,S7e);return p.createElement(p.Fragment,null,p.createElement(b7e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(w7e,t))},xd=p.memo(C7e,mse);xd.displayName="YAxis";var j7e=(e,t)=>t,_O=Me([j7e,hn,dre,Qr,dae,Zl,gUe,ca],CUe),DO=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},pse=vi("mouseClick"),gse=px();gse.startListening({actionCreator:pse,effect:(e,t)=>{var n=e.payload,r=_O(t.getState(),DO(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(pze({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var FT=vi("mouseMove"),vse=px(),gb=null;vse.startListening({actionCreator:FT,effect:(e,t)=>{var n=e.payload;gb!==null&&cancelAnimationFrame(gb);var r=DO(n);gb=requestAnimationFrame(()=>{var a=t.getState(),s=eO(a,a.tooltip.settings.shared);if(s==="axis"){var o=_O(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(rae({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(nae())}gb=null})}});function N7e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var K8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},yse=ws({name:"rootProps",initialState:K8,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:K8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),k7e=yse.reducer,{updateOptions:A7e}=yse.actions,xse=ws({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ert}=xse.actions,P7e=xse.reducer,bse=vi("keyDown"),wse=vi("focus"),RO=px();RO.startListening({actionCreator:bse,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=tO(a,xp(n),Px(n),Dx(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=Zl(n);if(s==="Enter"){var u=fS(n,"axis","hover",String(a.index));t.dispatch(PT({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=sze(n),f=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var g=fS(n,"axis","hover",String(m));t.dispatch(PT({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});RO.startListening({actionCreator:wse,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",o=fS(n,"axis","hover",String(s));t.dispatch(PT({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var ei=vi("externalEvent"),Sse=px(),zA=new Map;Sse.startListening({actionCreator:ei,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,s=zA.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:eUe(l),activeDataKey:pae(l),activeIndex:nu(l),activeLabel:mae(l),activeTooltipIndex:nu(l),isTooltipActive:tUe(l)};n(c,r)}finally{zA.delete(a)}});zA.set(a,o)}}});var E7e=Me([vp],e=>e.tooltipItemPayloads),T7e=Me([E7e,_x,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(l=>l.settings.graphicalItemId===r);if(a!=null){var{positions:s}=a;if(s!=null){var o=t(s,n);return o}}}),Cse=vi("touchMove"),jse=px();jse.startListening({actionCreator:Cse,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=eO(r,r.tooltip.settings.shared);if(a==="axis"){var s=n.touches[0];if(s==null)return;var o=_O(r,DO({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(rae({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(Ete),f=(l=u.getAttribute(Tte))!==null&&l!==void 0?l:void 0,h=yp(r).find(v=>v.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,g=T7e(r,d,f);t.dispatch(tae({activeDataKey:m,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var _7e=Zee({brush:R9e,cartesianAxis:p9e,chartData:XUe,errorBars:TWe,graphicalItems:qGe,layout:NFe,legend:DBe,options:HUe,polarAxis:xGe,polarOptions:P7e,referenceElements:B9e,rootProps:k7e,tooltip:gze,zIndex:LUe}),D7e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Q$e({reducer:_7e,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([gse.middleware,vse.middleware,RO.middleware,Sse.middleware,jse.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(fte({type:"raf"}))},devTools:{serialize:{replacer:N7e},name:"recharts-".concat(n)}})};function R7e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ua(),s=p.useRef(null);if(a)return n;s.current==null&&(s.current=D7e(t,r));var o=QM;return p.createElement(cqe,{context:o,store:s.current},n)}function M7e(e){var{layout:t,margin:n}=e,r=lr(),a=ua();return p.useEffect(()=>{a||(r(SFe(t)),r(wFe(n)))},[r,a,t,n]),null}var I7e=p.memo(M7e,Ix);function O7e(e){var t=lr();return p.useEffect(()=>{t(A7e(e))},[t,e]),null}function G8(e){var{zIndex:t,isPanorama:n}=e,r=p.useRef(null),a=lr();return p.useLayoutEffect(()=>(r.current&&a(IUe({zIndex:t,element:r.current,isPanorama:n})),()=>{a(OUe({zIndex:t,isPanorama:n}))}),[a,t,n]),p.createElement("g",{tabIndex:-1,ref:r})}function W8(e){var{children:t,isPanorama:n}=e,r=kt(NUe);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),s=r.filter(o=>o>0);return p.createElement(p.Fragment,null,a.map(o=>p.createElement(G8,{key:o,zIndex:o,isPanorama:n})),t,s.map(o=>p.createElement(G8,{key:o,zIndex:o,isPanorama:n})))}var L7e=["children"];function $7e(e,t){if(e==null)return{};var n,r,a=F7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function F7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SS.apply(null,arguments)}var B7e={width:"100%",height:"100%",display:"block"},V7e=p.forwardRef((e,t)=>{var n=cI(),r=uI(),a=qte();if(!Lo(n)||!Lo(r))return null;var{children:s,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),p.createElement(IM,SS({},o,{title:l,desc:c,role:d,tabIndex:u,width:n,height:r,style:B7e,ref:t}),s)}),z7e=e=>{var{children:t}=e,n=kt(Tj);if(!n)return null;var{width:r,height:a,y:s,x:o}=n;return p.createElement(IM,{width:r,height:a,x:o,y:s},t)},q8=p.forwardRef((e,t)=>{var{children:n}=e,r=$7e(e,L7e),a=ua();return a?p.createElement(z7e,null,p.createElement(W8,{isPanorama:!0},n)):p.createElement(V7e,SS({ref:t},r),p.createElement(W8,{isPanorama:!1},n))});function U7e(){var e=lr(),[t,n]=p.useState(null),r=kt(UFe);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;or(s)&&s!==r&&e(jFe(s))}},[t,e,r]),n}function H8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K7e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(n),!0).forEach(function(r){G7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G7e(e,t,n){return(t=W7e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7e(e){var t=q7e(e,"string");return typeof t=="symbol"?t:t+""}function q7e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(null,arguments)}var H7e=()=>(lKe(),null);function CS(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Y7e=p.forwardRef((e,t)=>{var n,r,a=p.useRef(null),[s,o]=p.useState({containerWidth:CS((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:CS((r=e.style)===null||r===void 0?void 0:r.height)}),l=p.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=g=>{var{width:v,height:b}=g[0].contentRect;l(v,b)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return p.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(_j,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",Jd({ref:c},e)))}),Q7e=p.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,s]=p.useState({containerWidth:CS(n),containerHeight:CS(r)}),o=p.useCallback((c,u)=>{s(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(_j,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",Jd({ref:l},e)))}),Z7e=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return p.createElement(p.Fragment,null,p.createElement(_j,{width:n,height:r}),p.createElement("div",Jd({ref:t},e)))}),J7e=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ml(n)||Ml(r)?p.createElement(Q7e,Jd({},e,{ref:t})):p.createElement(Z7e,Jd({},e,{ref:t}))});function X7e(e){return e===!0?Y7e:J7e}var eYe=p.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:v,style:b,width:y,responsive:x,dispatchTouchEvents:w=!0}=e,S=p.useRef(null),j=lr(),[k,N]=p.useState(null),[P,E]=p.useState(null),R=U7e(),O=lI(),G=(O==null?void 0:O.width)>0?O.width:y,te=(O==null?void 0:O.height)>0?O.height:a,V=p.useCallback(ne=>{R(ne),typeof t=="function"&&t(ne),N(ne),E(ne),ne!=null&&(S.current=ne)},[R,t,N,E]),z=p.useCallback(ne=>{j(pse(ne)),j(ei({handler:s,reactEvent:ne}))},[j,s]),$=p.useCallback(ne=>{j(FT(ne)),j(ei({handler:u,reactEvent:ne}))},[j,u]),U=p.useCallback(ne=>{j(nae()),j(ei({handler:d,reactEvent:ne}))},[j,d]),M=p.useCallback(ne=>{j(FT(ne)),j(ei({handler:f,reactEvent:ne}))},[j,f]),F=p.useCallback(()=>{j(wse())},[j]),W=p.useCallback(ne=>{j(bse(ne.key))},[j]),Z=p.useCallback(ne=>{j(ei({handler:o,reactEvent:ne}))},[j,o]),H=p.useCallback(ne=>{j(ei({handler:l,reactEvent:ne}))},[j,l]),ae=p.useCallback(ne=>{j(ei({handler:c,reactEvent:ne}))},[j,c]),fe=p.useCallback(ne=>{j(ei({handler:h,reactEvent:ne}))},[j,h]),we=p.useCallback(ne=>{j(ei({handler:v,reactEvent:ne}))},[j,v]),Pe=p.useCallback(ne=>{w&&j(Cse(ne)),j(ei({handler:g,reactEvent:ne}))},[j,w,g]),me=p.useCallback(ne=>{j(ei({handler:m,reactEvent:ne}))},[j,m]),Ue=X7e(x);return p.createElement(Sae.Provider,{value:k},p.createElement(XX.Provider,{value:P},p.createElement(Ue,{width:G??(b==null?void 0:b.width),height:te??(b==null?void 0:b.height),className:cn("recharts-wrapper",r),style:K7e({position:"relative",cursor:"default",width:G,height:te},b),onClick:z,onContextMenu:Z,onDoubleClick:H,onFocus:F,onKeyDown:W,onMouseDown:ae,onMouseEnter:$,onMouseLeave:U,onMouseMove:M,onMouseUp:fe,onTouchEnd:me,onTouchMove:Pe,onTouchStart:we,ref:V},p.createElement(H7e,null),n)))}),tYe=["width","height","responsive","children","className","style","compact","title","desc"];function nYe(e,t){if(e==null)return{};var n,r,a=rYe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aYe=p.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:s,className:o,style:l,compact:c,title:u,desc:d}=e,f=nYe(e,tYe),h=Us(f);return c?p.createElement(p.Fragment,null,p.createElement(_j,{width:n,height:r}),p.createElement(q8,{otherAttributes:h,title:u,desc:d},s)):p.createElement(eYe,{className:o,style:l,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(q8,{otherAttributes:h,title:u,desc:d,ref:t},p.createElement(z9e,null,s)))});function BT(){return BT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BT.apply(null,arguments)}var sYe={top:5,right:5,bottom:5,left:5},iYe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:sYe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},MO=p.forwardRef(function(t,n){var r,a=qr(t.categoricalChartProps,iYe),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return p.createElement(R7e,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},p.createElement(D9e,{chartData:u.data}),p.createElement(I7e,{layout:a.layout,margin:a.margin}),p.createElement(O7e,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(aYe,BT({},a,{ref:n})))}),oYe=["axis"],Nse=p.forwardRef((e,t)=>p.createElement(MO,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oYe,tooltipPayloadSearcher:uO,categoricalChartProps:e,ref:t})),lYe=["axis","item"],VT=p.forwardRef((e,t)=>p.createElement(MO,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lYe,tooltipPayloadSearcher:uO,categoricalChartProps:e,ref:t})),cYe=["item"],uYe=p.forwardRef((e,t)=>p.createElement(MO,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:cYe,tooltipPayloadSearcher:uO,categoricalChartProps:e,ref:t}));const dYe={light:"",dark:".dark"},fYe=p.createContext(null);function jS({id:e,className:t,children:n,config:r,...a}){const s=p.useId(),o=`chart-${e||s.replace(/:/g,"")}`;return i.jsx(fYe.Provider,{value:{config:r},children:i.jsxs("div",{"data-slot":"chart","data-chart":o,className:De("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",t),...a,children:[i.jsx(hYe,{id:o,config:r}),n]})})}const hYe=({id:e,config:t})=>{const n=Object.entries(t).filter(([,r])=>r.theme||r.color);return n.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(dYe).map(([r,a])=>`
${a} [data-chart=${e}] {
${n.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[r])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},uv=kae;function mYe(){const e=p.useRef(null),[t,n]=p.useState({width:0,height:0}),r=p.useCallback(()=>{if(e.current){const{width:a,height:s}=e.current.getBoundingClientRect();n({width:a,height:s})}},[]);return p.useEffect(()=>{r();const a=new ResizeObserver(()=>{r()});return e.current&&a.observe(e.current),()=>{a.disconnect()}},[r]),{containerRef:e,...t}}const UA=[{key:"totalPoints",label:"Total Points"},{key:"autoPoints",label:"Auto Points"},{key:"teleopPoints",label:"Teleop Points"},{key:"endgamePoints",label:"Endgame Points"},{key:"autoFuel",label:"Auto Fuel"},{key:"teleopFuel",label:"Teleop Fuel"},{key:"fuelPassed",label:"Fuel Passed"},{key:"climbLevel",label:"Climb Level"}];function pYe({matchResults:e,compareMatchResults:t,teamNumber:n,compareTeamNumber:r}){var h,m,g,v,b,y,x,w,S,j,k,N,P;const[a,s]=p.useState("totalPoints"),{containerRef:o,width:l,height:c}=mYe(),u=e.map((E,R)=>{const O=t==null?void 0:t[R];return{match:E.matchNumber,matchIndex:R+1,[n]:E[a]||0,...O&&r?{[r]:O[a]||0}:{}}}),d={[n]:{label:`Team ${n}`,color:"hsl(0, 0%, 100%)"},...r?{[r]:{label:`Team ${r}`,color:"hsl(270, 95%, 75%)"}}:{}},f=((h=UA.find(E=>E.key===a))==null?void 0:h.label)||a;return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[i.jsxs("div",{children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Ed,{className:"h-5 w-5"}),"Match Progression"]}),i.jsx(zn,{children:"Performance trends across matches"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"Metric:"}),i.jsx(Cr,{label:"Select Metric",value:a,availableOptions:UA.map(E=>E.key),onValueChange:s,placeholder:"Select metric",displayFormat:E=>{var R;return((R=UA.find(O=>O.key===E))==null?void 0:R.label)||E},className:"w-48"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:(m=d[n])==null?void 0:m.color}}),i.jsxs("span",{className:"text-sm font-medium",children:["Team ",n]})]}),r&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:(g=d[r])==null?void 0:g.color}}),i.jsxs("span",{className:"text-sm font-medium",children:["Team ",r]})]})]})]})]})}),i.jsx($e,{children:i.jsx("div",{className:"h-87.5 w-full",children:i.jsx(jS,{config:d,className:"h-full w-full aspect-auto!",children:i.jsx("div",{ref:o,className:"h-full w-full",children:l>0&&c>0?i.jsxs(Nse,{data:u,width:l,height:c,margin:{top:20,right:30,left:20,bottom:60},children:[i.jsx(vd,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(yd,{dataKey:"match",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12},label:{value:"Match Number",position:"insideBottom",offset:-15}}),i.jsx(xd,{tick:{fontSize:12},label:{value:f,angle:-90,position:"insideLeft"}}),i.jsx(kae,{content:({active:E,payload:R})=>!E||!R||R.length===0?null:i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsxs("div",{className:"grid gap-2",children:[i.jsxs("div",{className:"font-medium",children:["Match ",R[0].payload.match]}),R.map((O,G)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:O.color}}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.name,":"]}),i.jsx("span",{className:"font-bold",children:O.value})]},G))]})})}),i.jsx(xS,{type:"monotone",dataKey:n.toString(),stroke:(v=d[n])==null?void 0:v.color,strokeWidth:2,dot:{r:4,fill:(b=d[n])==null?void 0:b.color,stroke:(y=d[n])==null?void 0:y.color,strokeWidth:2},activeDot:{r:6,fill:(x=d[n])==null?void 0:x.color,stroke:(w=d[n])==null?void 0:w.color,strokeWidth:2},connectNulls:!1}),r&&i.jsx(xS,{type:"monotone",dataKey:r.toString(),stroke:(S=d[r])==null?void 0:S.color,strokeWidth:2,dot:{r:4,fill:(j=d[r])==null?void 0:j.color,stroke:(k=d[r])==null?void 0:k.color,strokeWidth:2},activeDot:{r:6,fill:(N=d[r])==null?void 0:N.color,stroke:(P=d[r])==null?void 0:P.color,strokeWidth:2},connectNulls:!1})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart..."})})})})})]})}function gYe({teamStats:e,compareStats:t,rateSections:n,matchBadges:r}){if(e.matchesPlayed===0)return i.jsx(_e,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No performance data available"})})});const a=n.filter(u=>u.tab==="performance"),s=(u,d)=>{const f=u[d];return typeof f=="number"?f:0},o=(e==null?void 0:e.matchResults)||[],l=t?(t==null?void 0:t.matchResults)||[]:void 0,c=()=>{const u=e==null?void 0:e.matchResults;return!u||!Array.isArray(u)?i.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No match data available"}):i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.map((d,f)=>{const h=typeof d.eventKey=="string"?d.eventKey:null,m=String(d.matchNumber||""),g=String(d.alliance||""),v=typeof d.startPosition=="number"?d.startPosition:null,b=String(d.totalPoints||0),y=String(d.autoPoints||0),x=String(d.teleopPoints||0),w=String(d.endgamePoints||0),S=typeof d.comment=="string"?d.comment:"";return i.jsxs("div",{className:"flex flex-col p-3 border rounded gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h&&i.jsx(Oe,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:h}),i.jsxs(Oe,{variant:"outline",children:["Match ",m]}),i.jsx(Oe,{variant:g.toLowerCase()==="red"?"destructive":"default",className:g.toLowerCase()==="blue"?"bg-blue-600":"",children:g}),v!==null&&v>=0&&i.jsxs(Oe,{variant:"secondary",children:["Pos ",v]})]}),i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.map(j=>d[j.key]===j.showWhen?i.jsx(Oe,{variant:j.variant,children:j.label},j.key):null)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"font-bold text-lg",children:[b," pts"]}),i.jsxs("div",{className:"text-sm text-muted-foreground flex gap-2",children:[i.jsxs("span",{className:"bg-blue-500/10 px-1.5 py-0.5 rounded text-blue-600 dark:text-blue-400",children:["A: ",y]}),i.jsxs("span",{className:"bg-purple-500/10 px-1.5 py-0.5 rounded text-purple-600 dark:text-purple-400",children:["T: ",x]}),i.jsxs("span",{className:"bg-orange-500/10 px-1.5 py-0.5 rounded text-orange-600 dark:text-orange-400",children:["E: ",w]})]})]}),S.trim()!==""&&i.jsxs("div",{className:"text-xs text-muted-foreground italic border-t pt-2",children:['"',S,'"']}),i.jsx(DLe,{matchData:{matchNumber:m,teamNumber:typeof d.teamNumber=="number"?d.teamNumber:void 0,alliance:g,eventKey:h||"",scoutName:typeof d.scoutName=="string"?d.scoutName:void 0,startPosition:v??void 0,comment:S,autoPoints:typeof d.autoPoints=="number"?d.autoPoints:0,teleopPoints:typeof d.teleopPoints=="number"?d.teleopPoints:0,endgamePoints:typeof d.endgamePoints=="number"?d.endgamePoints:0,totalPoints:typeof d.totalPoints=="number"?d.totalPoints:0,autoPassedMobilityLine:!!d.autoPassedMobilityLine,climbAttempted:!!d.climbAttempted||!!d.climbed,climbSucceeded:!!d.climbed,parkAttempted:!!d.parkAttempted,brokeDown:!!d.brokeDown,playedDefense:!!d.playedDefense,autoPath:Array.isArray(d.autoPath)?d.autoPath:[],teleopPath:Array.isArray(d.teleopPath)?d.teleopPath:[],autoFuel:typeof d.autoFuel=="number"?d.autoFuel:0,autoFuelPassed:typeof d.autoFuelPassed=="number"?d.autoFuelPassed:0,climbLevel:typeof d.climbLevel=="number"?d.climbLevel:void 0,gameData:d.gameData},variant:"outline",size:"default",className:"w-full mt-2"})]},f)})})};return i.jsxs("div",{className:"space-y-6 pb-6",children:["            ",i.jsx(pYe,{matchResults:o,compareMatchResults:l,teamNumber:e.teamNumber,compareTeamNumber:t==null?void 0:t.teamNumber}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Performance Summary"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-3",children:"Points by Phase"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-950/20 rounded",children:[i.jsx("span",{className:"text-sm font-medium",children:"Auto"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[s(e,"avgAutoPoints").toFixed(1)," pts"]}),t&&i.jsxs("span",{className:`text-xs font-medium ${s(e,"avgAutoPoints")-s(t,"avgAutoPoints")>0?"text-green-600":s(e,"avgAutoPoints")-s(t,"avgAutoPoints")<0?"text-red-600":"text-gray-500"}`,children:["(",s(e,"avgAutoPoints")-s(t,"avgAutoPoints")>0?"+":"",(s(e,"avgAutoPoints")-s(t,"avgAutoPoints")).toFixed(1),")"]})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-950/20 rounded",children:[i.jsx("span",{className:"text-sm font-medium",children:"Teleop"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[s(e,"avgTeleopPoints").toFixed(1)," pts"]}),t&&i.jsxs("span",{className:`text-xs font-medium ${s(e,"avgTeleopPoints")-s(t,"avgTeleopPoints")>0?"text-green-600":s(e,"avgTeleopPoints")-s(t,"avgTeleopPoints")<0?"text-red-600":"text-gray-500"}`,children:["(",s(e,"avgTeleopPoints")-s(t,"avgTeleopPoints")>0?"+":"",(s(e,"avgTeleopPoints")-s(t,"avgTeleopPoints")).toFixed(1),")"]})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 dark:bg-orange-950/20 rounded",children:[i.jsx("span",{className:"text-sm font-medium",children:"Endgame"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[s(e,"avgEndgamePoints").toFixed(1)," pts"]}),t&&i.jsxs("span",{className:`text-xs font-medium ${s(e,"avgEndgamePoints")-s(t,"avgEndgamePoints")>0?"text-green-600":s(e,"avgEndgamePoints")-s(t,"avgEndgamePoints")<0?"text-red-600":"text-gray-500"}`,children:["(",s(e,"avgEndgamePoints")-s(t,"avgEndgamePoints")>0?"+":"",(s(e,"avgEndgamePoints")-s(t,"avgEndgamePoints")).toFixed(1),")"]})]})]})]})]}),a.map(u=>i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-3",children:u.title}),i.jsx("div",{className:"space-y-3",children:u.rates.map(d=>i.jsx(_Le,{title:d.label,value:s(e,d.key),compareValue:t?s(t,d.key):void 0},d.key))})]},u.id))]})})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Match-by-Match Performance"})}),i.jsx($e,{children:c()})]})]})]})}function vYe({teamNumber:e,selectedEvent:t}){const[n,r]=p.useState(null),[a,s]=p.useState(!0);return p.useEffect(()=>{let o=!0;return(async()=>{if(e){s(!0);try{let c;const u=parseInt(e);t&&t!=="all"?c=await Qm(u,t):c=(await _7(u)).sort((f,h)=>h.timestamp-f.timestamp)[0],o&&(Array.isArray(c)?r(c[0]||null):r(c||null))}catch(c){console.error("Failed to load pit data",c)}finally{o&&s(!1)}}})(),()=>{o=!1}},[e,t]),a?i.jsx(yYe,{}):n?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Robot Preview"})}),i.jsxs($e,{children:[n.robotPhoto?i.jsx("div",{className:"aspect-video relative rounded-lg overflow-hidden bg-muted border border-border",children:i.jsx("img",{src:n.robotPhoto,alt:`Team ${e} Robot`,className:"object-cover w-full h-full"})}):i.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center border border-border",children:i.jsx("p",{className:"text-muted-foreground",children:"No photo available"})}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 justify-between items-center text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Scouted by: ",i.jsx("span",{className:"font-medium text-foreground",children:n.scoutName})]}),i.jsx("span",{children:new Date(n.timestamp).toLocaleDateString()})]})]})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Robot Specs"})}),i.jsx($e,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Drivetrain"}),i.jsx("div",{className:"font-medium text-lg capitalize",children:n.drivetrain||"Unknown"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Weight"}),i.jsx("div",{className:"font-medium text-lg",children:n.weight?`${n.weight} lbs`:"Unknown"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Programming"}),i.jsx("div",{className:"font-medium text-lg",children:n.programmingLanguage||"Unknown"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Dimensions"}),i.jsx("div",{className:"font-medium text-lg",children:(()=>{var u,d,f;const o=(u=n.gameData)==null?void 0:u.maxLength,l=(d=n.gameData)==null?void 0:d.maxWidth,c=(f=n.gameData)==null?void 0:f.maxHeight;return!o&&!l&&!c?i.jsx("span",{className:"text-muted-foreground",children:"-"}):i.jsxs("div",{className:"text-sm leading-tight",children:[typeof o=="number"&&i.jsxs("div",{children:["L: ",o,'"']}),typeof l=="number"&&i.jsxs("div",{children:["W: ",l,'"']}),typeof c=="number"&&i.jsxs("div",{children:["H: ",c,'"']})]})})()})]})]})})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs(_e,{className:"h-full flex flex-col",children:[i.jsx(Ge,{children:i.jsx(We,{children:"Technical Analysis"})}),i.jsxs($e,{className:"flex-1 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Scout Notes"]}),i.jsx("div",{className:"bg-muted/30 p-4 rounded-lg border border-border text-sm leading-relaxed min-h-25",children:n.notes||i.jsx("span",{className:"text-muted-foreground italic",children:"No notes recorded."})})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),i.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),"Game Specific Data"]}),i.jsx(FR,{className:"h-50 w-full rounded-md border p-4 bg-muted/10",children:n.gameData&&Object.keys(n.gameData).length>0?i.jsx("div",{className:"space-y-2",children:Object.entries(n.gameData).map(([o,l])=>i.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-border/50 last:border-0",children:[i.jsx("span",{className:"text-sm font-medium capitalize",children:o.replace(/([A-Z])/g," $1").trim()}),i.jsx(Oe,{variant:"secondary",className:"font-mono",children:typeof l=="boolean"?l?"Yes":"No":String(l)})]},o))}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground text-sm",children:[i.jsx("p",{children:"No game-specific data found."}),i.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Configure PitScoutingRules to track additional metrics."})]})})]})]})]})})]}):i.jsx(_e,{children:i.jsxs($e,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx("div",{className:"bg-muted rounded-full p-4 mb-4",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-muted-foreground",children:[i.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"9",x2:"15",y1:"15",y2:"15"})]})}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:"No Pit Data Found"}),i.jsxs("p",{className:"text-muted-foreground text-center max-w-100",children:["No pit scouting data has been recorded for Team ",e," ",t&&t!=="all"?`at ${t}`:""," yet."]})]})})}function yYe(){return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(na,{className:"h-6 w-32"})}),i.jsxs($e,{children:[i.jsx(na,{className:"aspect-video w-full rounded-lg"}),i.jsxs("div",{className:"mt-4 flex justify-between",children:[i.jsx(na,{className:"h-4 w-24"}),i.jsx(na,{className:"h-4 w-24"})]})]})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(na,{className:"h-6 w-28"})}),i.jsx($e,{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(e=>i.jsxs("div",{className:"space-y-2",children:[i.jsx(na,{className:"h-3 w-16"}),i.jsx(na,{className:"h-6 w-full"})]},e))})})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs(_e,{className:"h-full",children:[i.jsx(Ge,{children:i.jsx(na,{className:"h-6 w-40"})}),i.jsxs($e,{className:"space-y-6",children:[i.jsx(na,{className:"h-32 w-full rounded-lg"}),i.jsx(na,{className:"h-48 w-full rounded-lg"})]})]})})]})}function xYe(e){const{availableTeams:t,availableEvents:n,displayConfig:r,calculateStats:a}=CLe(),s=e.availableTeams??t,o=e.availableEvents??n,l=e.statSections??r.statSections,c=e.rateSections??r.rateSections,u=e.matchBadges??r.matchBadges,d=e.startPositionConfig??r.startPositionConfig,f=e.calculateStats??a,h=e.PitDataComponent??vYe,[m,g]=p.useState(""),[v,b]=p.useState("none"),[y,x]=p.useState("all"),[w,S]=p.useState(null),[j,k]=p.useState(null),[N,P]=p.useState("overview");return p.useEffect(()=>{(async()=>{if(m){const R=await f(m,y==="all"?void 0:y);S(R)}else S(null)})()},[m,y,f]),p.useEffect(()=>{(async()=>{if(v&&v!=="none"){const R=await f(v,y==="all"?void 0:y);k(R)}else k(null)})()},[v,y,f]),i.jsx("div",{className:"min-h-screen w-full flex flex-col items-center px-4 pt-12 pb-24",children:i.jsxs("div",{className:"w-full max-w-7xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Team Statistics"}),i.jsx("div",{className:"hidden md:block",children:i.jsx(Zc,{sources:["tba"],variant:"compact"})})]}),i.jsx("div",{className:"md:hidden mb-4",children:i.jsx(Zc,{sources:["tba"],variant:"compact"})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-6 pt-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"font-medium shrink-0",children:"Select Team:"}),i.jsx("div",{className:"min-w-[120px] max-w-[200px]",children:i.jsx(Cr,{label:"Select Team",value:m,availableOptions:s,onValueChange:g,placeholder:"Select Team",className:"bg-background border-muted-foreground/20"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"font-medium shrink-0",children:"Compare to:"}),i.jsx("div",{className:"min-w-[120px] max-w-[200px]",children:i.jsx(Cr,{label:"Compare Team",value:v,availableOptions:["none",...s.filter(E=>E!==m)],onValueChange:b,placeholder:"No team",className:"bg-background border-muted-foreground/20"})})]}),o.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"font-medium shrink-0",children:"Event:"}),i.jsx("div",{className:"min-w-[140px] max-w-[250px]",children:i.jsx(Cr,{label:"Select Event",value:y,availableOptions:["all",...o],onValueChange:x,placeholder:"All events",className:"bg-background border-muted-foreground/20"})})]})]}),!m||!w?i.jsx(_e,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-lg text-muted-foreground",children:s.length===0?"No scouting data available":"Select a team to view analysis"})})}):i.jsxs("div",{className:"w-full space-y-6",children:[i.jsx(_e,{className:"w-full bg-card/50",children:i.jsx(Ge,{className:"py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(We,{className:"text-2xl",children:["Team ",m]}),v&&v!=="none"&&j&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg text-muted-foreground italic",children:"vs"}),i.jsxs(We,{className:"text-2xl text-purple-600",children:["Team ",v]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"outline",className:"bg-muted/50",children:w.matchesPlayed>0?`${w.matchesPlayed} matches`:"No matches"}),i.jsx(Oe,{variant:"default",children:w.matchesPlayed>0?`${w.avgTotalPoints} avg pts`:"Pit only"})]}),j&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"outline",className:"bg-purple-500/10 text-purple-600 border-purple-500/20",children:j.matchesPlayed>0?`${j.matchesPlayed} matches`:"No matches"}),i.jsx(Oe,{variant:"outline",className:"bg-purple-600 text-white border-transparent",children:j.matchesPlayed>0?`${j.avgTotalPoints} avg pts`:"Pit only"})]})]})]})})}),i.jsxs(pu,{value:N,onValueChange:P,className:"w-full",enableSwipe:!0,children:[i.jsxs(gu,{className:"grid w-full grid-cols-5 h-auto",children:[i.jsxs(gn,{value:"overview",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Overview"}),i.jsx("span",{className:"sm:hidden",children:"Over."})]}),i.jsxs(gn,{value:"scoring",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Scoring"}),i.jsx("span",{className:"sm:hidden",children:"Score"})]}),i.jsxs(gn,{value:"auto",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Auto Start"}),i.jsx("span",{className:"sm:hidden",children:"Auto"})]}),i.jsxs(gn,{value:"performance",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Performance"}),i.jsx("span",{className:"sm:hidden",children:"Perf."})]}),i.jsxs(gn,{value:"pit",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Pit Data"}),i.jsx("span",{className:"sm:hidden",children:"Pit"})]})]}),i.jsx(In,{value:"overview",children:i.jsx(jLe,{teamStats:w,compareStats:j,statSections:l,rateSections:c,setActiveTab:P})}),i.jsx(In,{value:"scoring",children:i.jsx(kLe,{teamStats:w,compareStats:j,statSections:l})}),i.jsx(In,{value:"auto",children:i.jsx(TLe,{teamStats:w,compareStats:j,startPositionConfig:d})}),i.jsx(In,{value:"performance",children:i.jsx(gYe,{teamStats:w,compareStats:j,rateSections:c,matchBadges:u})}),i.jsx(In,{value:"pit",children:h?i.jsx(h,{teamNumber:m,selectedEvent:y==="all"?void 0:y}):i.jsx(_e,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"Pit scouting data is not available for this configuration"})})})})]})]})]})})}const bYe=e=>{const[t,n]=p.useState([]),[r,a]=p.useState(!0),[s,o]=p.useState(null);return p.useEffect(()=>{(async()=>{a(!0),o(null);try{if(e){const c=await E7(e);n(c)}else{const c=await Yi();n(c)}}catch(c){console.error("Error loading matches:",c),o(c instanceof Error?c:new Error("Failed to load matches")),n([])}finally{a(!1)}})()},[e]),{matches:t,isLoading:r,error:s}},Mr=(e,t)=>e.reduce((n,r)=>n+t(r),0),Yt=(e,t=1)=>Math.round(e*Math.pow(10,t))/Math.pow(10,t),kr=(e,t)=>t>0?Math.round(e/t*100):0,Cn=e=>typeof e=="number"?e:0,wYe=e=>{if(e.length===0)return CYe();const t=e.length,n=e.map(be=>nn.calculateAverageAccuracy({gameData:be.gameData})),r=n.length>0?Math.round(n.reduce((be,Ce)=>be+Ce,0)/n.length*100):100,a=Mr(e,be=>nn.calculateAutoPoints({gameData:be.gameData})),s=Mr(e,be=>nn.calculateTeleopPoints({gameData:be.gameData})),o=Mr(e,be=>nn.calculateEndgamePoints({gameData:be.gameData})),l=a+s+o,c=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.fuelScoredCount)}),u=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.fuelPassedCount)}),d=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.fuelScoredCount)}),f=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.fuelPassedCount)}),h=c+d,m=u+f,g=h,v=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.autoClimbL1)===!0}).length,b=SYe(e,t),y=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.trenchStuckCount)}),x=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.bumpStuckCount)}),w=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.trenchStuckDuration)}),S=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.bumpStuckDuration)}),j=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.climbL1)===!0}).length,k=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.climbL2)===!0}).length,N=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.climbL3)===!0}).length,P=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.climbFailed)===!0}).length,E=j+k+N,R=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.playedDefense)===!0}).length,O=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.defenseAllianceCount)}),G=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.defenseNeutralCount)}),te=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.defenseOpponentCount)}),V=O+G+te,z=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.stealCount)}),$=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.trenchStuckCount)}),U=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.bumpStuckCount)}),M=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.trenchStuckDuration)}),F=Mr(e,be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.bumpStuckDuration)}),W=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleActiveCycler)===!0}).length,Z=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleActiveCleanUp)===!0}).length,H=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleActivePasser)===!0}).length,ae=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleActiveThief)===!0}).length,fe=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleActiveDefense)===!0}).length,we=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleInactiveCycler)===!0}).length,Pe=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleInactiveCleanUp)===!0}).length,me=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleInactivePasser)===!0}).length,Ue=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleInactiveThief)===!0}).length,ne=e.filter(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.roleInactiveDefense)===!0}).length,je=[{name:"Cycler",count:W},{name:"Clean Up",count:Z},{name:"Passer",count:H},{name:"Thief",count:ae},{name:"Defense",count:fe}],ve=Math.max(...je.map(be=>be.count)),re=je.filter(be=>be.count===ve&&be.count>0),Ye=re.length>0?re.map(be=>be.name).join(" / "):"None",Fe=[{name:"Cycler",count:we},{name:"Clean Up",count:Pe},{name:"Passer",count:me},{name:"Thief",count:Ue},{name:"Defense",count:ne}],Je=Math.max(...Fe.map(be=>be.count)),Le=Fe.filter(be=>be.count===Je&&be.count>0),lt=Le.length>0?Le.map(be=>be.name).join(" / "):"None",ct={totalPoints:e.map(be=>nn.calculateTotalPoints({gameData:be.gameData})),autoPoints:e.map(be=>nn.calculateAutoPoints({gameData:be.gameData})),teleopPoints:e.map(be=>nn.calculateTeleopPoints({gameData:be.gameData})),endgamePoints:e.map(be=>nn.calculateEndgamePoints({gameData:be.gameData})),autoFuel:e.map(be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.fuelScoredCount)}),teleopFuel:e.map(be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.fuelScoredCount)}),totalFuel:e.map(be=>{var Ce,oe,xt,rt;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.fuelScoredCount)+Cn((rt=(xt=be.gameData)==null?void 0:xt.teleop)==null?void 0:rt.fuelScoredCount)}),autoFuelPassed:e.map(be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.fuelPassedCount)}),teleopFuelPassed:e.map(be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.fuelPassedCount)}),totalFuelPassed:e.map(be=>{var Ce,oe,xt,rt;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.fuelPassedCount)+Cn((rt=(xt=be.gameData)==null?void 0:xt.teleop)==null?void 0:rt.fuelPassedCount)}),climbL1:e.map(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.climbL1)===!0?1:0}),climbL2:e.map(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.climbL2)===!0?1:0}),climbL3:e.map(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.endgame)==null?void 0:oe.climbL3)===!0?1:0}),climbAny:e.map(be=>{var Ce,oe,xt,rt,Rt,zt;return(oe=(Ce=be.gameData)==null?void 0:Ce.endgame)!=null&&oe.climbL1||(rt=(xt=be.gameData)==null?void 0:xt.endgame)!=null&&rt.climbL2||(zt=(Rt=be.gameData)==null?void 0:Rt.endgame)!=null&&zt.climbL3?1:0}),autoClimb:e.map(be=>{var Ce,oe;return((oe=(Ce=be.gameData)==null?void 0:Ce.auto)==null?void 0:oe.autoClimbL1)===!0?1:0}),steals:e.map(be=>{var Ce,oe;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.stealCount)}),defenseActions:e.map(be=>{var Ce,oe,xt,rt,Rt,zt;return Cn((oe=(Ce=be.gameData)==null?void 0:Ce.teleop)==null?void 0:oe.defenseAllianceCount)+Cn((rt=(xt=be.gameData)==null?void 0:xt.teleop)==null?void 0:rt.defenseNeutralCount)+Cn((zt=(Rt=be.gameData)==null?void 0:Rt.teleop)==null?void 0:zt.defenseOpponentCount)})};return{matchCount:t,totalPoints:Yt(l/t),autoPoints:Yt(a/t),teleopPoints:Yt(s/t),endgamePoints:Yt(o/t),avgTotalPoints:Yt(l/t),avgAutoPoints:Yt(a/t),avgTeleopPoints:Yt(s/t),avgEndgamePoints:Yt(o/t),avgAutoFuel:Yt(c/t),avgTeleopFuel:Yt(d/t),avgAutoFuelPassed:Yt(u/t),avgTeleopFuelPassed:Yt(f/t),avgFuelPassed:Yt(m/t),avgTotalFuel:Yt(h/t),autoClimbRate:kr(v,t),autoClimbAttempts:v,climbL1Rate:kr(j,t),climbL2Rate:kr(k,t),climbL3Rate:kr(N,t),climbSuccessRate:kr(E,t),primaryActiveRole:Ye,primaryInactiveRole:lt,overall:{avgTotalPoints:Yt(l/t),totalPiecesScored:Yt(g/t),avgGamePiece1:Yt(h/t),avgGamePiece2:Yt(m/t),avgFuelScored:Yt(h/t),avgFuelPassed:Yt(m/t)},auto:{avgPoints:Yt(a/t),avgGamePiece1:Yt(c/t),avgGamePiece2:Yt(u/t),mobilityRate:0,autoClimbRate:kr(v,t),avgFuelScored:Yt(c/t),startPositions:b,avgTrenchStuck:Yt(y/t),avgBumpStuck:Yt(x/t),avgTrenchStuckDuration:Yt(w/t/1e3,1),avgBumpStuckDuration:Yt(S/t/1e3,1)},teleop:{avgPoints:Yt(s/t),avgGamePiece1:Yt(d/t),avgGamePiece2:Yt(f/t),avgFuelScored:Yt(d/t),avgFuelPassed:Yt(f/t),defenseRate:kr(R,t),totalDefenseActions:Yt(V/t),avgSteals:Yt(z/t),avgTrenchStuck:Yt($/t),avgBumpStuck:Yt(U/t),avgTrenchStuckDuration:Yt(M/t/1e3,1),avgBumpStuckDuration:Yt(F/t/1e3,1)},endgame:{avgPoints:Yt(o/t),climbL1Rate:kr(j,t),climbL2Rate:kr(k,t),climbL3Rate:kr(N,t),climbSuccessRate:kr(E,t),climbFailedRate:kr(P,t),climbRate:kr(E,t),parkRate:0,shallowClimbRate:kr(j,t),deepClimbRate:kr(N,t),option1Rate:kr(j,t),option2Rate:kr(k,t),option3Rate:kr(N,t),option4Rate:0,option5Rate:0,toggle1Rate:kr(P,t),toggle2Rate:0},accuracy:r,rawValues:ct}};function SYe(e,t){const n={};e.forEach(s=>{var l,c;const o=(c=(l=s.gameData)==null?void 0:l.auto)==null?void 0:c.startPosition;typeof o=="number"&&o>=0&&o<=5&&(n[o]=(n[o]||0)+1)});const r=[],a=["Left Trench","Left Bump","Hub","Right Bump","Right Trench"];for(let s=0;s<=4;s++){const o=n[s]||0,l=kr(o,t);l>0&&r.push({position:a[s]||`Pos ${s}`,percentage:l})}return r}function CYe(){return{matchCount:0,totalPoints:0,autoPoints:0,teleopPoints:0,endgamePoints:0,overall:{avgTotalPoints:0,totalPiecesScored:0,avgGamePiece1:0,avgGamePiece2:0},auto:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0,mobilityRate:0,startPositions:[]},teleop:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0},endgame:{avgPoints:0,climbRate:0,parkRate:0,shallowClimbRate:0,deepClimbRate:0},rawValues:{totalPoints:[],autoPoints:[],teleopPoints:[],endgamePoints:[]}}}const IO=e=>{const{matches:t,isLoading:n,error:r}=bYe(e);return{teamStats:p.useMemo(()=>{if(!t||t.length===0)return[];const s=t.reduce((l,c)=>{const u=c.teamNumber,d=c.eventKey||"Unknown";if(!u)return l;const f=`${u}_${d}`;return l[f]||(l[f]={teamNumber:u,eventKey:d,matches:[]}),l[f].matches.push(c),l},{});return Object.values(s).map(({teamNumber:l,eventKey:c,matches:u})=>{const d=wYe(u);return{teamNumber:l,eventKey:c,...d}}).sort((l,c)=>l.teamNumber-c.teamNumber)},[t]),isLoading:n,error:r}},jYe=(e,t,n,r="average")=>{const{teamStats:a,isLoading:s,error:o}=IO(e),l=p.useMemo(()=>a.map(u=>{const d={teamNumber:u.teamNumber,eventKey:u.eventKey,matchCount:u.matchCount};return t.columns.forEach(f=>{if(["teamNumber","eventKey","matchCount"].includes(f.key))return;const h=NYe(u,f.key,r);h!==void 0&&(d[f.key]=h)}),d}),[a,t.columns,r]),c=p.useMemo(()=>Object.keys(n).length===0?l:l.filter(u=>Object.entries(n).every(([d,f])=>{const h=u[d];if(typeof h!="number")return!0;switch(f.operator){case">":return h>f.value;case">=":return h>=f.value;case"<":return h<f.value;case"<=":return h<=f.value;case"=":return Math.abs(h-f.value)<.001;case"!=":return Math.abs(h-f.value)>=.001;case"between":return f.value2!==void 0?h>=f.value&&h<=f.value2:!0;default:return!0}})),[l,n]);return{teamStats:l,filteredTeamStats:c,isLoading:s,error:o}};function NYe(e,t,n="average"){if(e){if(e[t]!==void 0){const r=e[t];return Array.isArray(r)?Y8(r,n):r}if(t.includes(".")){const r=t.split(".").reduce((a,s)=>a==null?void 0:a[s],e);return Array.isArray(r)?Y8(r,n):r}}}function Y8(e,t){if(e.length===0)return 0;switch(t){case"average":return e.reduce((r,a)=>r+a,0)/e.length;case"max":return Math.max(...e);case"min":return Math.min(...e);case"p75":{const n=[...e].sort((a,s)=>a-s),r=Math.ceil(n.length*.75)-1;return n[r]??0}case"p25":{const n=[...e].sort((a,s)=>a-s),r=Math.ceil(n.length*.25)-1;return n[r]??0}case"median":{const n=[...e].sort((a,s)=>a-s),r=Math.floor(n.length/2);return n.length%2===0?((n[r-1]??0)+(n[r]??0))/2:n[r]??0}case"sum":return e.reduce((n,r)=>n+r,0);default:return 0}}const kYe=(e,t,n,r,a,s)=>{const o=p.useCallback(u=>s.columns.find(d=>d.key===u),[s.columns]),l=p.useMemo(()=>{if(t==="scatter")return e.map(u=>({team:String(u.teamNumber),x:typeof u[r]=="number"?u[r]:0,y:typeof u[a]=="number"?u[a]:0,eventKey:u.eventKey}));if(t==="box"){const u=[];return e.forEach(d=>{const f=typeof d[n]=="number"?d[n]:0,h=typeof d.matchCount=="number"?d.matchCount:1;for(let m=0;m<Math.max(1,Math.min(h,12));m++){const g=Math.random()<.1?.6:.4,v=(Math.random()-.5)*g*f;u.push({team:String(d.teamNumber),value:Math.max(0,f+v),eventKey:d.eventKey})}}),u}else return t==="stacked"?e.map(u=>{const d=u["rawValues.autoPoints"]||u.autoPoints||0,f=u["rawValues.teleopPoints"]||u.teleopPoints||0,h=u["rawValues.endgamePoints"]||u.endgamePoints||0;return{team:String(u.teamNumber),autoPoints:d,teleopPoints:f,endgamePoints:h,totalPoints:d+f+h,eventKey:u.eventKey}}).sort((u,d)=>d.totalPoints-u.totalPoints).slice(0,12):e.map(u=>({team:String(u.teamNumber),value:u[n]||0,eventKey:u.eventKey})).sort((u,d)=>d.value-u.value).slice(0,12)},[e,t,n,r,a]),c=p.useMemo(()=>{const u=o(r),d=o(a),f=o(n);return t==="stacked"?{autoPoints:{label:"Auto Points",color:"hsl(var(--chart-1))"},teleopPoints:{label:"Teleop Points",color:"hsl(var(--chart-2))"},endgamePoints:{label:"Endgame Points",color:"hsl(var(--chart-3))"}}:{value:{label:(f==null?void 0:f.label)||"Value",color:"hsl(var(--chart-1))"},x:{label:(u==null?void 0:u.label)||"X",color:"hsl(var(--chart-1))"},y:{label:(d==null?void 0:d.label)||"Y",color:"hsl(var(--chart-2))"}}},[t,n,r,a,o]);return{chartData:l,chartConfig:c}},AYe=VNe(),Mg={columns:AYe,presets:BNe},PYe=({filteredTeamCount:e,totalTeamCount:t,activeFilterCount:n,selectedEvent:r,onEventChange:a,availableEvents:s,aggregationType:o,onAggregationTypeChange:l,onClearAllFilters:c,chartType:u})=>{const d=f=>{l(f)};return i.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold pb-2",children:"Strategy Overview"}),i.jsxs("p",{className:"text-muted-foreground pb-8 md:pb-0",children:["Team performance analysis with ",e," teams",n>0&&i.jsxs("span",{className:"ml-2",children:["(filtered from ",t,")",i.jsxs(X,{variant:"ghost",size:"sm",onClick:c,className:"ml-2 h-auto p-1 text-xs",children:[i.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Clear filters"]})]})]})]}),i.jsxs("div",{className:"flex gap-2 pb-4 items-center",children:[i.jsx(Cr,{label:"Select Event",value:r,availableOptions:["all",...s],onValueChange:a,placeholder:"All Events",displayFormat:f=>f,className:"w-48"}),i.jsx("div",{className:"relative",children:i.jsx(Cr,{label:"Select Aggregation Type",value:o,availableOptions:["average","median","max","min","p75","p25","sum"],onValueChange:u==="box"?()=>{}:d,placeholder:"Aggregation type",displayFormat:f=>{switch(f){case"average":return"Average";case"median":return"Median";case"max":return"Max";case"min":return"Min";case"p75":return"75th %";case"p25":return"25th %";case"sum":return"Sum";default:return f}},className:`w-32 ${u==="box"?"opacity-50 pointer-events-none":""}`})})]})]})};var EYe={value:()=>{}};function kse(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new lw(n)}function lw(e){this._=e}function TYe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}lw.prototype=kse.prototype={constructor:lw,on:function(e,t){var n=this._,r=TYe(e+"",n),a,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((a=(e=r[s]).type)&&(a=_Ye(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=r[s]).type)n[a]=Q8(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Q8(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new lw(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function _Ye(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Q8(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=EYe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var zT="http://www.w3.org/1999/xhtml";const Z8={svg:"http://www.w3.org/2000/svg",xhtml:zT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hN(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Z8.hasOwnProperty(t)?{space:Z8[t],local:e}:e}function DYe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zT&&t.documentElement.namespaceURI===zT?t.createElement(e):t.createElementNS(n,e)}}function RYe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ase(e){var t=hN(e);return(t.local?RYe:DYe)(t)}function MYe(){}function OO(e){return e==null?MYe:function(){return this.querySelector(e)}}function IYe(e){typeof e!="function"&&(e=OO(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=new Array(o),c,u,d=0;d<o;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Xi(r,this._parents)}function OYe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function LYe(){return[]}function Pse(e){return e==null?LYe:function(){return this.querySelectorAll(e)}}function $Ye(e){return function(){return OYe(e.apply(this,arguments))}}function FYe(e){typeof e=="function"?e=$Ye(e):e=Pse(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o=t[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),a.push(c));return new Xi(r,a)}function Ese(e){return function(){return this.matches(e)}}function Tse(e){return function(t){return t.matches(e)}}var BYe=Array.prototype.find;function VYe(e){return function(){return BYe.call(this.children,e)}}function zYe(){return this.firstElementChild}function UYe(e){return this.select(e==null?zYe:VYe(typeof e=="function"?e:Tse(e)))}var KYe=Array.prototype.filter;function GYe(){return Array.from(this.children)}function WYe(e){return function(){return KYe.call(this.children,e)}}function qYe(e){return this.selectAll(e==null?GYe:WYe(typeof e=="function"?e:Tse(e)))}function HYe(e){typeof e!="function"&&(e=Ese(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Xi(r,this._parents)}function _se(e){return new Array(e.length)}function YYe(){return new Xi(this._enter||this._groups.map(_se),this._parents)}function NS(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}NS.prototype={constructor:NS,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function QYe(e){return function(){return e}}function ZYe(e,t,n,r,a,s){for(var o=0,l,c=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],r[o]=l):n[o]=new NS(e,s[o]);for(;o<c;++o)(l=t[o])&&(a[o]=l)}function JYe(e,t,n,r,a,s,o){var l,c,u=new Map,d=t.length,f=s.length,h=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(h[l]=m=o.call(c,c.__data__,l,t)+"",u.has(m)?a[l]=c:u.set(m,c));for(l=0;l<f;++l)m=o.call(e,s[l],l,s)+"",(c=u.get(m))?(r[l]=c,c.__data__=s[l],u.delete(m)):n[l]=new NS(e,s[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(a[l]=c)}function XYe(e){return e.__data__}function eQe(e,t){if(!arguments.length)return Array.from(this,XYe);var n=t?JYe:ZYe,r=this._parents,a=this._groups;typeof e!="function"&&(e=QYe(e));for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=r[u],f=a[u],h=f.length,m=tQe(e.call(d,d&&d.__data__,u,r)),g=m.length,v=l[u]=new Array(g),b=o[u]=new Array(g),y=c[u]=new Array(h);n(d,f,v,b,y,m,t);for(var x=0,w=0,S,j;x<g;++x)if(S=v[x]){for(x>=w&&(w=x+1);!(j=b[w])&&++w<g;);S._next=j||null}}return o=new Xi(o,r),o._enter=l,o._exit=c,o}function tQe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nQe(){return new Xi(this._exit||this._groups.map(_se),this._parents)}function rQe(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function aQe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),l=new Array(a),c=0;c<o;++c)for(var u=n[c],d=r[c],f=u.length,h=l[c]=new Array(f),m,g=0;g<f;++g)(m=u[g]||d[g])&&(h[g]=m);for(;c<a;++c)l[c]=n[c];return new Xi(l,this._parents)}function sQe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],o;--a>=0;)(o=r[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function iQe(e){e||(e=oQe);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,c=a[s]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new Xi(a,this._parents).order()}function oQe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function lQe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cQe(){return Array.from(this)}function uQe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null}function dQe(){let e=0;for(const t of this)++e;return e}function fQe(){return!this.node()}function hQe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function mQe(e){return function(){this.removeAttribute(e)}}function pQe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gQe(e,t){return function(){this.setAttribute(e,t)}}function vQe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yQe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function xQe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bQe(e,t){var n=hN(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?pQe:mQe:typeof t=="function"?n.local?xQe:yQe:n.local?vQe:gQe)(n,t))}function Dse(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wQe(e){return function(){this.style.removeProperty(e)}}function SQe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function CQe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function jQe(e,t,n){return arguments.length>1?this.each((t==null?wQe:typeof t=="function"?CQe:SQe)(e,t,n??"")):Dm(this.node(),e)}function Dm(e,t){return e.style.getPropertyValue(t)||Dse(e).getComputedStyle(e,null).getPropertyValue(t)}function NQe(e){return function(){delete this[e]}}function kQe(e,t){return function(){this[e]=t}}function AQe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function PQe(e,t){return arguments.length>1?this.each((t==null?NQe:typeof t=="function"?AQe:kQe)(e,t)):this.node()[e]}function Rse(e){return e.trim().split(/^|\s+/)}function LO(e){return e.classList||new Mse(e)}function Mse(e){this._node=e,this._names=Rse(e.getAttribute("class")||"")}Mse.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ise(e,t){for(var n=LO(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Ose(e,t){for(var n=LO(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function EQe(e){return function(){Ise(this,e)}}function TQe(e){return function(){Ose(this,e)}}function _Qe(e,t){return function(){(t.apply(this,arguments)?Ise:Ose)(this,e)}}function DQe(e,t){var n=Rse(e+"");if(arguments.length<2){for(var r=LO(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?_Qe:t?EQe:TQe)(n,t))}function RQe(){this.textContent=""}function MQe(e){return function(){this.textContent=e}}function IQe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function OQe(e){return arguments.length?this.each(e==null?RQe:(typeof e=="function"?IQe:MQe)(e)):this.node().textContent}function LQe(){this.innerHTML=""}function $Qe(e){return function(){this.innerHTML=e}}function FQe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function BQe(e){return arguments.length?this.each(e==null?LQe:(typeof e=="function"?FQe:$Qe)(e)):this.node().innerHTML}function VQe(){this.nextSibling&&this.parentNode.appendChild(this)}function zQe(){return this.each(VQe)}function UQe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function KQe(){return this.each(UQe)}function GQe(e){var t=typeof e=="function"?e:Ase(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function WQe(){return null}function qQe(e,t){var n=typeof e=="function"?e:Ase(e),r=t==null?WQe:typeof t=="function"?t:OO(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function HQe(){var e=this.parentNode;e&&e.removeChild(this)}function YQe(){return this.each(HQe)}function QQe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZQe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JQe(e){return this.select(e?ZQe:QQe)}function XQe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function eZe(e){return function(t){e.call(this,t,this.__data__)}}function tZe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function nZe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function rZe(e,t,n){return function(){var r=this.__on,a,s=eZe(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function aZe(e,t,n){var r=tZe(e+""),a,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(a=0,d=l[c];a<s;++a)if((o=r[a]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?rZe:nZe,a=0;a<s;++a)this.each(l(r[a],t,n));return this}function Lse(e,t,n){var r=Dse(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function sZe(e,t){return function(){return Lse(this,e,t)}}function iZe(e,t){return function(){return Lse(this,e,t.apply(this,arguments))}}function oZe(e,t){return this.each((typeof t=="function"?iZe:sZe)(e,t))}function*lZe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,o;a<s;++a)(o=r[a])&&(yield o)}var cZe=[null];function Xi(e,t){this._groups=e,this._parents=t}function Lx(){return new Xi([[document.documentElement]],cZe)}function uZe(){return this}Xi.prototype=Lx.prototype={constructor:Xi,select:IYe,selectAll:FYe,selectChild:UYe,selectChildren:qYe,filter:HYe,data:eQe,enter:YYe,exit:nQe,join:rQe,merge:aQe,selection:uZe,order:sQe,sort:iQe,call:lQe,nodes:cQe,node:uQe,size:dQe,empty:fQe,each:hQe,attr:bQe,style:jQe,property:PQe,classed:DQe,text:OQe,html:BQe,raise:zQe,lower:KQe,append:GQe,insert:qQe,remove:YQe,clone:JQe,datum:XQe,on:aZe,dispatch:oZe,[Symbol.iterator]:lZe};var Rm=0,Ig=0,fg=0,$se=1e3,kS,Og,AS=0,Xd=0,mN=0,Cy=typeof performance=="object"&&performance.now?performance:Date,Fse=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $O(){return Xd||(Fse(dZe),Xd=Cy.now()+mN)}function dZe(){Xd=0}function PS(){this._call=this._time=this._next=null}PS.prototype=Bse.prototype={constructor:PS,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$O():+n)+(t==null?0:+t),!this._next&&Og!==this&&(Og?Og._next=this:kS=this,Og=this),this._call=e,this._time=n,UT()},stop:function(){this._call&&(this._call=null,this._time=1/0,UT())}};function Bse(e,t,n){var r=new PS;return r.restart(e,t,n),r}function fZe(){$O(),++Rm;for(var e=kS,t;e;)(t=Xd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Rm}function J8(){Xd=(AS=Cy.now())+mN,Rm=Ig=0;try{fZe()}finally{Rm=0,mZe(),Xd=0}}function hZe(){var e=Cy.now(),t=e-AS;t>$se&&(mN-=t,AS=e)}function mZe(){for(var e,t=kS,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:kS=n);Og=e,UT(r)}function UT(e){if(!Rm){Ig&&(Ig=clearTimeout(Ig));var t=e-Xd;t>24?(e<1/0&&(Ig=setTimeout(J8,e-Cy.now()-mN)),fg&&(fg=clearInterval(fg))):(fg||(AS=Cy.now(),fg=setInterval(hZe,$se)),Rm=1,Fse(J8))}}function X8(e,t,n){var r=new PS;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var pZe=kse("start","end","cancel","interrupt"),gZe=[],Vse=0,ez=1,KT=2,cw=3,tz=4,GT=5,uw=6;function pN(e,t,n,r,a,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;vZe(e,n,{name:t,index:r,group:a,on:pZe,tween:gZe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Vse})}function FO(e,t){var n=so(e,t);if(n.state>Vse)throw new Error("too late; already scheduled");return n}function qo(e,t){var n=so(e,t);if(n.state>cw)throw new Error("too late; already running");return n}function so(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vZe(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Bse(s,0,n.time);function s(u){n.state=ez,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,h,m;if(n.state!==ez)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===cw)return X8(o);m.state===tz?(m.state=uw,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=uw,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(X8(function(){n.state===cw&&(n.state=tz,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=KT,n.on.call("start",e,e.__data__,n.index,n.group),n.state===KT){for(n.state=cw,a=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++f]=m);a.length=f+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=GT,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);n.state===GT&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=uw,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function yZe(e,t){var n=e.__transition,r,a,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}a=r.state>KT&&r.state<GT,r.state=uw,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function xZe(e){return this.each(function(){yZe(this,e)})}function bZe(e,t){var n,r;return function(){var a=qo(this,e),s=a.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function wZe(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=qo(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function SZe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=so(this.node(),n).tween,a=0,s=r.length,o;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?bZe:wZe)(n,e,t))}function BO(e,t,n){var r=e._id;return e.each(function(){var a=qo(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return so(a,r).value[t]}}function zse(e,t){var n;return(typeof t=="number"?Li:t instanceof Hd?rS:(n=Hd(t))?(t=n,rS):hne)(e,t)}function CZe(e){return function(){this.removeAttribute(e)}}function jZe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NZe(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=t(r=o,n)}}function kZe(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=t(r=o,n)}}function AZe(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function PZe(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function EZe(e,t){var n=hN(e),r=n==="transform"?J5e:zse;return this.attrTween(e,typeof t=="function"?(n.local?PZe:AZe)(n,r,BO(this,"attr."+e,t)):t==null?(n.local?jZe:CZe)(n):(n.local?kZe:NZe)(n,r,t))}function TZe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _Ze(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function DZe(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&_Ze(e,s)),n}return a._value=t,a}function RZe(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&TZe(e,s)),n}return a._value=t,a}function MZe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=hN(e);return this.tween(n,(r.local?DZe:RZe)(r,t))}function IZe(e,t){return function(){FO(this,e).delay=+t.apply(this,arguments)}}function OZe(e,t){return t=+t,function(){FO(this,e).delay=t}}function LZe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?IZe:OZe)(t,e)):so(this.node(),t).delay}function $Ze(e,t){return function(){qo(this,e).duration=+t.apply(this,arguments)}}function FZe(e,t){return t=+t,function(){qo(this,e).duration=t}}function BZe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$Ze:FZe)(t,e)):so(this.node(),t).duration}function VZe(e,t){if(typeof t!="function")throw new Error;return function(){qo(this,e).ease=t}}function zZe(e){var t=this._id;return arguments.length?this.each(VZe(t,e)):so(this.node(),t).ease}function UZe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qo(this,e).ease=n}}function KZe(e){if(typeof e!="function")throw new Error;return this.each(UZe(this._id,e))}function GZe(e){typeof e!="function"&&(e=Ese(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Vl(r,this._parents,this._name,this._id)}function WZe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c=t[l],u=n[l],d=c.length,f=o[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<r;++l)o[l]=t[l];return new Vl(o,this._parents,this._name,this._id)}function qZe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function HZe(e,t,n){var r,a,s=qZe(t)?FO:qo;return function(){var o=s(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function YZe(e,t){var n=this._id;return arguments.length<2?so(this.node(),n).on.on(e):this.each(HZe(n,e,t))}function QZe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ZZe(){return this.on("end.remove",QZe(this._id))}function JZe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=OO(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var l=r[o],c=l.length,u=s[o]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,pN(u[h],t,n,h,u,so(d,n)));return new Vl(s,this._parents,t,n)}function XZe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Pse(e));for(var r=this._groups,a=r.length,s=[],o=[],l=0;l<a;++l)for(var c=r[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,g=so(d,n),v=0,b=h.length;v<b;++v)(m=h[v])&&pN(m,t,n,v,h,g);s.push(h),o.push(d)}return new Vl(s,o,t,n)}var eJe=Lx.prototype.constructor;function tJe(){return new eJe(this._groups,this._parents)}function nJe(e,t){var n,r,a;return function(){var s=Dm(this,e),o=(this.style.removeProperty(e),Dm(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}function Use(e){return function(){this.style.removeProperty(e)}}function rJe(e,t,n){var r,a=n+"",s;return function(){var o=Dm(this,e);return o===a?null:o===r?s:s=t(r=o,n)}}function aJe(e,t,n){var r,a,s;return function(){var o=Dm(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Dm(this,e))),o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l))}}function sJe(e,t){var n,r,a,s="style."+t,o="end."+s,l;return function(){var c=qo(this,e),u=c.on,d=c.value[s]==null?l||(l=Use(t)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(o,a=d),c.on=r}}function iJe(e,t,n){var r=(e+="")=="transform"?Z5e:zse;return t==null?this.styleTween(e,nJe(e,r)).on("end.style."+e,Use(e)):typeof t=="function"?this.styleTween(e,aJe(e,r,BO(this,"style."+e,t))).each(sJe(this._id,e)):this.styleTween(e,rJe(e,r,t),n).on("end.style."+e,null)}function oJe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function lJe(e,t,n){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&oJe(e,o,n)),r}return s._value=t,s}function cJe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,lJe(e,t,n??""))}function uJe(e){return function(){this.textContent=e}}function dJe(e){return function(){var t=e(this);this.textContent=t??""}}function fJe(e){return this.tween("text",typeof e=="function"?dJe(BO(this,"text",e)):uJe(e==null?"":e+""))}function hJe(e){return function(t){this.textContent=e.call(this,t)}}function mJe(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&hJe(a)),t}return r._value=e,r}function pJe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,mJe(e))}function gJe(){for(var e=this._name,t=this._id,n=Kse(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=so(c,t);pN(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Vl(r,this._parents,e,n)}function vJe(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--a===0&&s()}};n.each(function(){var u=qo(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var yJe=0;function Vl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Kse(){return++yJe}var nl=Lx.prototype;Vl.prototype={constructor:Vl,select:JZe,selectAll:XZe,selectChild:nl.selectChild,selectChildren:nl.selectChildren,filter:GZe,merge:WZe,selection:tJe,transition:gJe,call:nl.call,nodes:nl.nodes,node:nl.node,size:nl.size,empty:nl.empty,each:nl.each,on:YZe,attr:EZe,attrTween:MZe,style:iJe,styleTween:cJe,text:fJe,textTween:pJe,remove:ZZe,tween:SZe,delay:LZe,duration:BZe,ease:zZe,easeVarying:KZe,end:vJe,[Symbol.iterator]:nl[Symbol.iterator]};function xJe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var bJe={time:null,delay:0,duration:250,ease:xJe};function wJe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function SJe(e){var t,n;e instanceof Vl?(t=e._id,e=e._name):(t=Kse(),(n=bJe).time=$O(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&pN(c,e,t,u,o,n||wJe(c,t));return new Vl(r,this._parents,e,t)}Lx.prototype.interrupt=xZe;Lx.prototype.transition=SJe;function Lg(e,t,n){this.k=e,this.x=t,this.y=n}Lg.prototype={constructor:Lg,scale:function(e){return e===1?this:new Lg(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Lg(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Lg.prototype;const CJe=e=>{if(e.length===0)return null;const t=e.sort((f,h)=>f-h),n=sw(t,.25),r=sw(t,.5),a=sw(t,.75);if(!n||!r||!a)return null;const s=a-n,o=n-1.5*s,l=a+1.5*s,c=Math.max(o,Math.min(...t)),u=Math.min(l,Math.max(...t)),d=t.filter(f=>f<o||f>l);return{min:c,q1:n,median:r,q3:a,max:u,outliers:d}},jJe=({x:e,width:t,stats:n,yScale:r,color:a,team:s,onHover:o,onLeave:l})=>{const c=t*.8,u=e-c/2,d=h=>{o&&o(s,h)},f=()=>{l&&l()};return i.jsxs("g",{children:[i.jsx("rect",{x:u-10,y:r(n.max)-10,width:c+20,height:r(n.min)-r(n.max)+20,fill:"transparent",style:{cursor:"pointer"},onMouseEnter:d,onMouseLeave:f}),i.jsx("line",{x1:e,x2:e,y1:r(n.min),y2:r(n.q1),stroke:a,strokeWidth:1.5}),i.jsx("line",{x1:e,x2:e,y1:r(n.q3),y2:r(n.max),stroke:a,strokeWidth:1.5}),i.jsx("line",{x1:e-c/4,x2:e+c/4,y1:r(n.min),y2:r(n.min),stroke:a,strokeWidth:1.5}),i.jsx("line",{x1:e-c/4,x2:e+c/4,y1:r(n.max),y2:r(n.max),stroke:a,strokeWidth:1.5}),i.jsx("rect",{x:u,y:r(n.q3),width:c,height:r(n.q1)-r(n.q3),fill:a,fillOpacity:.8,stroke:a,strokeWidth:1.5,rx:2}),i.jsx("line",{x1:u,x2:u+c,y1:r(n.median),y2:r(n.median),stroke:"currentColor",strokeWidth:2.5}),n.outliers.map((h,m)=>i.jsx("circle",{cx:e,cy:r(h),r:2.5,fill:a,stroke:"white",strokeWidth:1,opacity:.9,style:{filter:"drop-shadow(0 0 1px rgba(0,0,0,0.5))"}},m))]})},NJe=({data:e,width:t,height:n,margin:r,metricLabel:a})=>{const[s,o]=p.useState(null),[l,c]=p.useState(null),u=t-r.left-r.right,d=n-r.top-r.bottom,f=(y,x)=>{o(y),c({x:x.clientX,y:x.clientY})},h=()=>{o(null),c(null)},m=p.useMemo(()=>{const y=y5e(e,w=>w.team),x=[];return y.forEach((w,S)=>{const j=w.map(N=>N.value),k=CJe(j);k&&x.push({team:S,stats:k,sampleSize:j.length})}),x.sort((w,S)=>S.stats.median-w.stats.median)},[e]),g=p.useMemo(()=>Lj().domain(m.map(y=>y.team)).range([0,u]).padding(.2),[m,u]),v=p.useMemo(()=>{const y=e.map(w=>w.value),x=m5e(y);return wI().domain(x).range([d,0]).nice()},[e,d]),b=p.useMemo(()=>{const y=["var(--color-chart-1)","var(--color-chart-2)","var(--color-chart-3)","var(--color-chart-4)","var(--color-chart-5)","var(--color-chart-1)","var(--color-chart-2)","var(--color-chart-3)","var(--color-chart-4)","var(--color-chart-5)"];return Oj().domain(m.map(x=>x.team)).range(y)},[m]);return i.jsxs("div",{className:"relative w-full h-full",onMouseLeave:h,children:[i.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${t} ${n}`,preserveAspectRatio:"xMidYMid meet",className:"text-foreground",children:i.jsxs("g",{transform:`translate(${r.left}, ${r.top})`,children:[i.jsxs("g",{children:[v.ticks(5).map(y=>i.jsxs("g",{children:[i.jsx("line",{x1:0,x2:u,y1:v(y),y2:v(y),stroke:"currentColor",strokeDasharray:"3,3",className:"text-border"}),i.jsx("text",{x:-10,y:v(y),textAnchor:"end",dominantBaseline:"middle",fontSize:"12",fill:"currentColor",className:"text-muted-foreground",children:y})]},y)),i.jsx("line",{x1:0,x2:0,y1:0,y2:d,stroke:"currentColor",strokeWidth:1,className:"text-border"}),i.jsx("text",{x:-45,y:d/2,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fill:"currentColor",className:"text-foreground font-medium",transform:`rotate(-90, -45, ${d/2})`,children:a})]}),i.jsxs("g",{transform:`translate(0, ${d})`,children:[m.map(({team:y})=>{const x=(g(y)||0)+g.bandwidth()/2;return i.jsx("text",{x,y:20,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fill:"currentColor",className:"text-foreground",children:y},y)}),i.jsx("line",{x1:0,x2:u,y1:0,y2:0,stroke:"currentColor",strokeWidth:1,className:"text-border"}),i.jsx("text",{x:u/2,y:45,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fill:"currentColor",className:"text-foreground font-medium",children:"Team Number"})]}),m.map(({team:y,stats:x})=>{const w=(g(y)||0)+g.bandwidth()/2;return i.jsx(jJe,{x:w,width:g.bandwidth(),stats:x,yScale:v,color:b(y),team:y,onHover:f,onLeave:h},y)})]})}),s&&l&&i.jsx("div",{className:"absolute z-50 bg-background/95 backdrop-blur-sm border border-border rounded-lg shadow-xl p-3 min-w-[200px] pointer-events-none transition-all duration-200",style:{left:Math.min(((l==null?void 0:l.x)||0)+10,t-210),top:Math.max(((l==null?void 0:l.y)||0)-10,10)},children:(()=>{const y=m.find(S=>S.team===s);if(!y)return null;const{stats:x,sampleSize:w}=y;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"font-bold text-foreground border-b border-border pb-2 mb-2 flex justify-between items-center",children:[i.jsxs("span",{children:["Team ",s]}),i.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:[w," matches"]})]}),i.jsx("div",{className:"text-xs text-muted-foreground mb-3 uppercase tracking-wider font-semibold",children:a}),i.jsxs("div",{className:"space-y-1.5 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Maximum:"}),i.jsx("span",{className:"font-mono font-medium",children:x.max.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"75th Perc:"}),i.jsx("span",{className:"font-mono font-medium",children:x.q3.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center bg-primary/10 px-1 rounded",children:[i.jsx("span",{className:"text-primary font-semibold",children:"Median:"}),i.jsx("span",{className:"font-mono font-bold text-primary",children:x.median.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"25th Perc:"}),i.jsx("span",{className:"font-mono font-medium",children:x.q1.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Minimum:"}),i.jsx("span",{className:"font-mono font-medium",children:x.min.toFixed(1)})]}),x.outliers.length>0&&i.jsxs("div",{className:"flex justify-between items-center border-t border-border pt-2 mt-1",children:[i.jsx("span",{className:"text-orange-500 font-medium italic",children:"Outliers:"}),i.jsx("span",{className:"font-mono font-medium bg-orange-500/10 text-orange-600 px-1.5 rounded-full text-xs",children:x.outliers.length})]})]})]})})()})]})};function kJe(){const e=p.useRef(null),[t,n]=p.useState({width:0,height:0}),r=p.useCallback(()=>{if(e.current){const{width:a,height:s}=e.current.getBoundingClientRect();n({width:a,height:s})}},[]);return p.useEffect(()=>{r();const a=new ResizeObserver(()=>{r()});return e.current&&a.observe(e.current),()=>{a.disconnect()}},[r]),{containerRef:e,...t}}const AJe=({chartData:e,chartType:t,onChartTypeChange:n,chartMetric:r,onChartMetricChange:a,scatterXMetric:s,onScatterXMetricChange:o,scatterYMetric:l,onScatterYMetricChange:c,columnConfig:u,chartConfig:d})=>{var y,x,w,S,j,k;const{containerRef:f,width:h,height:m}=kJe(),g=N=>{n(N)},v=()=>{switch(t){case"scatter":return"Compare two metrics across all teams";case"box":return"Performance distribution and consistency analysis (shows min, Q1, median, Q3, max, and outliers)";case"stacked":return"Points breakdown by game phase (Auto/Teleop/Endgame)";default:return"Top performing teams by selected metric"}},b=N=>{switch(N){case"bar":return"Bar Chart";case"scatter":return"Scatter Plot";case"box":return"Box Plot";case"stacked":return"Stacked Bar";default:return N}};return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex flex-col w-full justify-between md:flex-row items-start md:items-center gap-4",children:[i.jsxs("div",{className:"flex flex-col w-full",children:[i.jsxs(We,{className:"flex items-start gap-2 pb-2",children:[i.jsx(vG,{className:"h-5 w-5"}),"Team Performance Chart"]}),i.jsx(zn,{className:"px-4",children:v()})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-end gap-2 w-full",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"whitespace-nowrap",children:"Chart:"}),i.jsx(Cr,{label:"Select Chart Type",value:t,availableOptions:["bar","scatter","box","stacked"],onValueChange:g,placeholder:"Chart type",displayFormat:b,className:"w-auto max-w-32"})]}),t==="scatter"?i.jsxs("div",{className:"flex gap-2 md:flex-none items-center",children:[i.jsx("p",{className:"whitespace-nowrap",children:"X-Axis:"}),i.jsx(Cr,{label:"Select X-Axis Metric",value:s,availableOptions:u.filter(N=>N.numeric&&N.key!=="eventKey").map(N=>N.key),onValueChange:o,placeholder:"X-Axis",displayFormat:N=>{var P;return((P=u.find(E=>E.key===N))==null?void 0:P.label)||N},className:"w-auto max-w-40"}),i.jsx("p",{className:"whitespace-nowrap",children:"Y-Axis:"}),i.jsx(Cr,{label:"Select Y-Axis Metric",value:l,availableOptions:u.filter(N=>N.numeric&&N.key!=="eventKey").map(N=>N.key),onValueChange:c,placeholder:"Y-Axis",displayFormat:N=>{var P;return((P=u.find(E=>E.key===N))==null?void 0:P.label)||N},className:"w-auto max-w-40"})]}):t==="stacked"?i.jsx("div",{className:"flex gap-2 md:flex-none items-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Points breakdown by game phase"})}):i.jsxs("div",{className:"flex gap-2 md:flex-none items-center",children:[i.jsx("p",{className:"whitespace-nowrap",children:"Metric:"}),i.jsx("div",{className:"w-full",children:i.jsx(Cr,{label:"Select Metric",value:r,availableOptions:u.filter(N=>N.numeric&&!["teamNumber","eventKey","matchCount"].includes(N.key)).map(N=>N.key),onValueChange:a,placeholder:"Select metric",displayFormat:N=>{var P;return((P=u.find(E=>E.key===N))==null?void 0:P.label)||N},className:"w-full md:w-48"})})]})]})]})}),i.jsx($e,{children:i.jsx("div",{className:"h-[350px] w-full",children:i.jsx(jS,{config:d,className:"h-full w-full aspect-auto!",children:i.jsx("div",{ref:f,className:"h-full w-full",children:h>0&&m>0?t==="scatter"?i.jsxs(uYe,{data:e,width:h,height:m,children:[i.jsx(vd,{strokeDasharray:"3 3"}),i.jsx(yd,{type:"number",dataKey:"x",name:((y=d.x)==null?void 0:y.label)||"X",tickLine:!1,axisLine:!1,className:"text-xs",label:{value:((x=d.x)==null?void 0:x.label)||"X",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(xd,{type:"number",dataKey:"y",name:((w=d.y)==null?void 0:w.label)||"Y",tickLine:!1,axisLine:!1,className:"text-xs",label:{value:((S=d.y)==null?void 0:S.label)||"Y",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(uv,{content:({active:N,payload:P})=>{var R,O;if(!N||!P||!P.length)return null;const E=P[0].payload;return i.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3 min-w-[200px]",children:[i.jsxs("div",{className:"font-medium text-foreground mb-2",children:["Team ",E.team]}),i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:E.eventKey}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[((R=d.x)==null?void 0:R.label)||"X",":"]}),i.jsx("span",{className:"font-medium",children:typeof E.x=="number"?E.x.toFixed(1):E.x})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[((O=d.y)==null?void 0:O.label)||"Y",":"]}),i.jsx("span",{className:"font-medium",children:typeof E.y=="number"?E.y.toFixed(1):E.y})]})]})]})},cursor:{strokeDasharray:"3 3"}}),i.jsx(hse,{dataKey:"y",fill:"var(--color-y)",children:e.map((N,P)=>i.jsx(_m,{fill:`hsl(${P*137.5%360}, 70%, 50%)`},`cell-${P}`))})]}):t==="stacked"?i.jsxs(VT,{data:e,width:h,height:m,children:[i.jsx(vd,{strokeDasharray:"3 3"}),i.jsx(yd,{dataKey:"team",tickLine:!1,axisLine:!1,className:"text-xs",label:{value:"Team",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(xd,{tickLine:!1,axisLine:!1,className:"text-xs",label:{value:"Points",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(uv,{content:({active:N,payload:P,label:E})=>{var G,te,V;if(!N||!P||!P.length)return null;const R=P[0].payload,O=(R.autoPoints||0)+(R.teleopPoints||0)+(R.endgamePoints||0);return i.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3 min-w-[200px]",children:[i.jsxs("div",{className:"font-medium text-foreground mb-2",children:["Team ",E]}),i.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:R.eventKey}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto Points:"}),i.jsx("span",{className:"font-medium",style:{color:"var(--color-chart-1)"},children:((G=R.autoPoints)==null?void 0:G.toFixed(1))||0})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Teleop Points:"}),i.jsx("span",{className:"font-medium",style:{color:"var(--color-chart-2)"},children:((te=R.teleopPoints)==null?void 0:te.toFixed(1))||0})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Endgame Points:"}),i.jsx("span",{className:"font-medium",style:{color:"var(--color-chart-3)"},children:((V=R.endgamePoints)==null?void 0:V.toFixed(1))||0})]}),i.jsx("div",{className:"border-t pt-1 mt-2",children:i.jsxs("div",{className:"flex justify-between items-center font-medium",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:O.toFixed(1)})]})})]})]})},cursor:{fill:"rgba(0, 0, 0, 0.1)"}}),i.jsx(Eh,{dataKey:"autoPoints",stackId:"points",fill:"var(--color-chart-1)",radius:[0,0,0,0]}),i.jsx(Eh,{dataKey:"teleopPoints",stackId:"points",fill:"var(--color-chart-2)",radius:[0,0,0,0]}),i.jsx(Eh,{dataKey:"endgamePoints",stackId:"points",fill:"var(--color-chart-3)",radius:[4,4,0,0]})]}):t==="box"?i.jsx(NJe,{data:e,margin:{top:20,right:40,bottom:60,left:60},metricLabel:((j=d.value)==null?void 0:j.label)||"Value",width:h,height:m}):i.jsxs(VT,{data:e,width:h,height:m,children:[i.jsx(vd,{strokeDasharray:"3 3"}),i.jsx(yd,{dataKey:"team",tickLine:!1,axisLine:!1,className:"text-xs",label:{value:"Team",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(xd,{tickLine:!1,axisLine:!1,className:"text-xs",label:{value:((k=d.value)==null?void 0:k.label)||"Value",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(uv,{content:({active:N,payload:P})=>{var R;if(!N||!P||!P.length)return null;const E=P[0].payload;return i.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3 min-w-[180px]",children:[i.jsxs("div",{className:"font-medium text-foreground mb-2",children:["Team ",E.team]}),i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:E.eventName}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[((R=d.value)==null?void 0:R.label)||"Value",":"]}),i.jsx("span",{className:"font-medium",children:typeof E.value=="number"?E.value.toFixed(1):E.value})]})]})},cursor:{fill:"rgba(0, 0, 0, 0.1)"}}),i.jsx(Eh,{dataKey:"value",fill:"var(--color-value)",radius:[4,4,0,0],children:e.map((N,P)=>i.jsx(_m,{fill:`hsl(${210+P*15}, 70%, 50%)`},`cell-${P}`))})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart..."})})})})})]})};function Gse({className:e,...t}){return i.jsx("table",{"data-slot":"table",className:De("w-full caption-bottom text-sm",e),...t})}function Wse({className:e,...t}){return i.jsx("thead",{"data-slot":"table-header",className:De("sticky top-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-10 [&_tr]:border-b",e),...t})}function qse({className:e,...t}){return i.jsx("tbody",{"data-slot":"table-body",className:De("[&_tr:last-child]:border-0",e),...t})}function Th({className:e,...t}){return i.jsx("tr",{"data-slot":"table-row",className:De("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ho({className:e,...t}){return i.jsx("th",{"data-slot":"table-head",className:De("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ai({className:e,...t}){return i.jsx("td",{"data-slot":"table-cell",className:De("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ac(e,t){return typeof e=="function"?e(t):e}function Gs(e,t){return n=>{t.setState(r=>({...r,[e]:Ac(n,r[e])}))}}function gN(e){return e instanceof Function}function PJe(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function EJe(e,t){const n=[],r=a=>{a.forEach(s=>{n.push(s);const o=t(s);o!=null&&o.length&&r(o)})};return r(e),n}function Lt(e,t,n){let r=[],a;return s=>{let o;n.key&&n.debug&&(o=Date.now());const l=e(s);if(!(l.length!==r.length||l.some((d,f)=>r[f]!==d)))return a;r=l;let u;if(n.key&&n.debug&&(u=Date.now()),a=t(...l),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-u)*100)/100,h=f/16,m=(g,v)=>{for(g=String(g);g.length<v;)g=" "+g;return g};console.info(`%c ${m(f,5)} /${m(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return a}}function $t(e,t,n,r){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[t]},key:!1,onChange:r}}function TJe(e,t,n,r){const a=()=>{var o;return(o=s.getValue())!=null?o:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:a,getContext:Lt(()=>[e,n,t,s],(o,l,c,u)=>({table:o,column:l,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),$t(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(s,n,t,e)},{}),s}function _Je(e,t,n,r){var a,s;const l={...e._getDefaultColumnDef(),...t},c=l.accessorKey;let u=(a=(s=l.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?a:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:c&&(c.includes(".")?d=h=>{let m=h;for(const v of c.split(".")){var g;m=(g=m)==null?void 0:g[v]}return m}:d=h=>h[l.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Lt(()=>[!0],()=>{var h;return[f,...(h=f.columns)==null?void 0:h.flatMap(m=>m.getFlatColumns())]},$t(e.options,"debugColumns")),getLeafColumns:Lt(()=>[e._getOrderColumnsFn()],h=>{var m;if((m=f.columns)!=null&&m.length){let g=f.columns.flatMap(v=>v.getLeafColumns());return h(g)}return[f]},$t(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(f,e);return f}const Pa="debugHeaders";function nz(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(s),o},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(s,e)}),s}const DJe={createTable:e=>{e.getHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>{var s,o;const l=(s=r==null?void 0:r.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?s:[],c=(o=a==null?void 0:a.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?o:[],u=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(a!=null&&a.includes(f.id)));return vb(t,[...l,...u,...c],e)},$t(e.options,Pa)),e.getCenterHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(a!=null&&a.includes(s.id))),vb(t,n,e,"center")),$t(e.options,Pa)),e.getLeftHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var a;const s=(a=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?a:[];return vb(t,s,e,"left")},$t(e.options,Pa)),e.getRightHeaderGroups=Lt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var a;const s=(a=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?a:[];return vb(t,s,e,"right")},$t(e.options,Pa)),e.getFooterGroups=Lt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),$t(e.options,Pa)),e.getLeftFooterGroups=Lt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),$t(e.options,Pa)),e.getCenterFooterGroups=Lt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),$t(e.options,Pa)),e.getRightFooterGroups=Lt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),$t(e.options,Pa)),e.getFlatHeaders=Lt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),$t(e.options,Pa)),e.getLeftFlatHeaders=Lt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),$t(e.options,Pa)),e.getCenterFlatHeaders=Lt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),$t(e.options,Pa)),e.getRightFlatHeaders=Lt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),$t(e.options,Pa)),e.getCenterLeafHeaders=Lt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),$t(e.options,Pa)),e.getLeftLeafHeaders=Lt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),$t(e.options,Pa)),e.getRightLeafHeaders=Lt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),$t(e.options,Pa)),e.getLeafHeaders=Lt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var a,s,o,l,c,u;return[...(a=(s=t[0])==null?void 0:s.headers)!=null?a:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},$t(e.options,Pa))}};function vb(e,t,n,r){var a,s;let o=0;const l=function(h,m){m===void 0&&(m=1),o=Math.max(o,m),h.filter(g=>g.getIsVisible()).forEach(g=>{var v;(v=g.columns)!=null&&v.length&&l(g.columns,m+1)},0)};l(e);let c=[];const u=(h,m)=>{const g={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},v=[];h.forEach(b=>{const y=[...v].reverse()[0],x=b.column.depth===g.depth;let w,S=!1;if(x&&b.column.parent?w=b.column.parent:(w=b.column,S=!0),y&&(y==null?void 0:y.column)===w)y.subHeaders.push(b);else{const j=nz(n,w,{id:[r,m,w.id,b==null?void 0:b.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${v.filter(k=>k.column===w).length}`:void 0,depth:m,index:v.length});j.subHeaders.push(b),v.push(j)}g.headers.push(b),b.headerGroup=g}),c.push(g),m>0&&u(v,m-1)},d=t.map((h,m)=>nz(n,h,{depth:o,index:m}));u(d,o-1),c.reverse();const f=h=>h.filter(g=>g.column.getIsVisible()).map(g=>{let v=0,b=0,y=[0];g.subHeaders&&g.subHeaders.length?(y=[],f(g.subHeaders).forEach(w=>{let{colSpan:S,rowSpan:j}=w;v+=S,y.push(j)})):v=1;const x=Math.min(...y);return b=b+x,g.colSpan=v,g.rowSpan=b,{colSpan:v,rowSpan:b}});return f((a=(s=c[0])==null?void 0:s.headers)!=null?a:[]),c}const VO=(e,t,n,r,a,s,o)=>{let l={id:t,index:r,original:n,depth:a,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return l._valuesCache[c]=u.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=u.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=l.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>EJe(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:Lt(()=>[e.getAllLeafColumns()],c=>c.map(u=>TJe(e,l,u,u.id)),$t(e.options,"debugRows")),_getAllCellsByColumnId:Lt(()=>[l.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),$t(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(l,e)}return l},RJe={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Hse=(e,t,n)=>{var r,a;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((a=e.getValue(t))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(s))};Hse.autoRemove=e=>Gi(e);const Yse=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Yse.autoRemove=e=>Gi(e);const Qse=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Qse.autoRemove=e=>Gi(e);const Zse=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Zse.autoRemove=e=>Gi(e);const Jse=(e,t,n)=>!n.some(r=>{var a;return!((a=e.getValue(t))!=null&&a.includes(r))});Jse.autoRemove=e=>Gi(e)||!(e!=null&&e.length);const Xse=(e,t,n)=>n.some(r=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(r)});Xse.autoRemove=e=>Gi(e)||!(e!=null&&e.length);const eie=(e,t,n)=>e.getValue(t)===n;eie.autoRemove=e=>Gi(e);const tie=(e,t,n)=>e.getValue(t)==n;tie.autoRemove=e=>Gi(e);const zO=(e,t,n)=>{let[r,a]=n;const s=e.getValue(t);return s>=r&&s<=a};zO.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,a=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(a)?1/0:a;if(s>o){const l=s;s=o,o=l}return[s,o]};zO.autoRemove=e=>Gi(e)||Gi(e[0])&&Gi(e[1]);const al={includesString:Hse,includesStringSensitive:Yse,equalsString:Qse,arrIncludes:Zse,arrIncludesAll:Jse,arrIncludesSome:Xse,equals:eie,weakEquals:tie,inNumberRange:zO};function Gi(e){return e==null||e===""}const MJe={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Gs("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?al.includesString:typeof r=="number"?al.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?al.equals:Array.isArray(r)?al.arrIncludes:al.weakEquals},e.getFilterFn=()=>{var n,r;return gN(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:al[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const a=e.getFilterFn(),s=r==null?void 0:r.find(d=>d.id===e.id),o=Ac(n,s?s.value:void 0);if(rz(a,o,e)){var l;return(l=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?l:[]}const c={id:e.id,value:o};if(s){var u;return(u=r==null?void 0:r.map(d=>d.id===e.id?c:d))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=a=>{var s;return(s=Ac(t,a))==null?void 0:s.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(rz(c,o.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function rz(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const IJe=(e,t,n)=>n.reduce((r,a)=>{const s=a.getValue(e);return r+(typeof s=="number"?s:0)},0),OJe=(e,t,n)=>{let r;return n.forEach(a=>{const s=a.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},LJe=(e,t,n)=>{let r;return n.forEach(a=>{const s=a.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},$Je=(e,t,n)=>{let r,a;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r===void 0?o>=o&&(r=a=o):(r>o&&(r=o),a<o&&(a=o)))}),[r,a]},FJe=(e,t)=>{let n=0,r=0;if(t.forEach(a=>{let s=a.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},BJe=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!PJe(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),a=n.sort((s,o)=>s-o);return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},VJe=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),zJe=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,UJe=(e,t)=>t.length,KA={sum:IJe,min:OJe,max:LJe,extent:$Je,mean:FJe,median:BJe,unique:VJe,uniqueCount:zJe,count:UJe},KJe={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Gs("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return KA.sum;if(Object.prototype.toString.call(r)==="[object Date]")return KA.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return gN(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:KA[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}}};function GJe(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(o=>o.id===s)).filter(Boolean),...r]}const WJe={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Gs("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Lt(n=>[dv(t,n)],n=>n.findIndex(r=>r.id===e.id),$t(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=dv(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const a=dv(t,n);return((r=a[a.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Lt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>a=>{let s=[];if(!(t!=null&&t.length))s=a;else{const o=[...t],l=[...a];for(;l.length&&o.length;){const c=o.shift(),u=l.findIndex(d=>d.id===c);u>-1&&s.push(l.splice(u,1)[0])}s=[...s,...l]}return GJe(s,n,r)},$t(e.options,"debugTable"))}},GA=()=>({left:[],right:[]}),qJe={getInitialState:e=>({columnPinning:GA(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Gs("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var s,o;if(n==="right"){var l,c;return{left:((l=a==null?void 0:a.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((c=a==null?void 0:a.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var u,d;return{left:[...((u=a==null?void 0:a.left)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((d=a==null?void 0:a.right)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((s=a==null?void 0:a.left)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=a==null?void 0:a.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var a,s,o;return((a=r.columnDef.enablePinning)!=null?a:!0)&&((s=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:r,right:a}=t.getState().columnPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>a==null?void 0:a.includes(l));return s?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?(n=(r=t.getState().columnPinning)==null||(r=r[a])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,a)=>{const s=[...r??[],...a??[]];return n.filter(o=>!s.includes(o.column.id))},$t(t.options,"debugRows")),e.getLeftVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),$t(t.options,"debugRows")),e.getRightVisibleCells=Lt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),$t(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?GA():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:GA())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var a,s;return!!((a=r.left)!=null&&a.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),$t(e.options,"debugColumns")),e.getRightLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),$t(e.options,"debugColumns")),e.getCenterLeafColumns=Lt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const a=[...n??[],...r??[]];return t.filter(s=>!a.includes(s.id))},$t(e.options,"debugColumns"))}};function HJe(e){return e||(typeof document<"u"?document:null)}const yb={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},WA=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),YJe={getDefaultColumnDef:()=>yb,getInitialState:e=>({columnSizing:{},columnSizingInfo:WA(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Gs("columnSizing",e),onColumnSizingInfoChange:Gs("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:yb.minSize,(r=s??e.columnDef.size)!=null?r:yb.size),(a=e.columnDef.maxSize)!=null?a:yb.maxSize)},e.getStart=Lt(n=>[n,dv(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((a,s)=>a+s.getSize(),0),$t(t.options,"debugColumns")),e.getAfter=Lt(n=>[n,dv(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((a,s)=>a+s.getSize(),0),$t(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...a}=n;return a})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=a=>{if(a.subHeaders.length)a.subHeaders.forEach(r);else{var s;n+=(s=a.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),a=r==null?void 0:r.getCanResize();return s=>{if(!r||!a||(s.persist==null||s.persist(),qA(s)&&s.touches&&s.touches.length>1))return;const o=e.getSize(),l=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],c=qA(s)?Math.round(s.touches[0].clientX):s.clientX,u={},d=(y,x)=>{typeof x=="number"&&(t.setColumnSizingInfo(w=>{var S,j;const k=t.options.columnResizeDirection==="rtl"?-1:1,N=(x-((S=w==null?void 0:w.startOffset)!=null?S:0))*k,P=Math.max(N/((j=w==null?void 0:w.startSize)!=null?j:0),-.999999);return w.columnSizingStart.forEach(E=>{let[R,O]=E;u[R]=Math.round(Math.max(O+O*P,0)*100)/100}),{...w,deltaOffset:N,deltaPercentage:P}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(w=>({...w,...u})))},f=y=>d("move",y),h=y=>{d("end",y),t.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=HJe(n),g={moveHandler:y=>f(y.clientX),upHandler:y=>{m==null||m.removeEventListener("mousemove",g.moveHandler),m==null||m.removeEventListener("mouseup",g.upHandler),h(y.clientX)}},v={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),f(y.touches[0].clientX),!1),upHandler:y=>{var x;m==null||m.removeEventListener("touchmove",v.moveHandler),m==null||m.removeEventListener("touchend",v.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),h((x=y.touches[0])==null?void 0:x.clientX)}},b=QJe()?{passive:!1}:!1;qA(s)?(m==null||m.addEventListener("touchmove",v.moveHandler,b),m==null||m.addEventListener("touchend",v.upHandler,b)):(m==null||m.addEventListener("mousemove",g.moveHandler,b),m==null||m.addEventListener("mouseup",g.upHandler,b)),t.setColumnSizingInfo(y=>({...y,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?WA():(n=e.initialState.columnSizingInfo)!=null?n:WA())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0}}};let xb=null;function QJe(){if(typeof xb=="boolean")return xb;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return xb=e,xb}function qA(e){return e.type==="touchstart"}const ZJe={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Gs("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const a=e.columns;return(n=a.length?a.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Lt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),$t(t.options,"debugRows")),e.getVisibleCells=Lt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,a)=>[...n,...r,...a],$t(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Lt(()=>[r(),r().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),$t(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,s)=>({...a,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function dv(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const JJe={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},XJe={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Gs("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,a,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>al.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return gN(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:al[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},eXe={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Gs("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var a,s;e.setExpanded(r?{}:(a=(s=e.initialState)==null?void 0:s.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var a;const s=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(a=n)!=null?a:!s,!s&&n)return{...o,[e.id]:!0};if(s&&!n){const{[e.id]:l,...c}=o;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,a;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},WT=0,qT=10,HA=()=>({pageIndex:WT,pageSize:qT}),tXe={getInitialState:e=>({...e,pagination:{...HA(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Gs("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const a=s=>Ac(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=r=>{var a;e.setPagination(r?HA():(a=e.initialState.pagination)!=null?a:HA())},e.setPageIndex=r=>{e.setPagination(a=>{let s=Ac(r,a.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...a,pageIndex:s}})},e.resetPageIndex=r=>{var a,s;e.setPageIndex(r?WT:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?a:WT)},e.resetPageSize=r=>{var a,s;e.setPageSize(r?qT:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?a:qT)},e.setPageSize=r=>{e.setPagination(a=>{const s=Math.max(1,Ac(r,a.pageSize)),o=a.pageSize*a.pageIndex,l=Math.floor(o/s);return{...a,pageIndex:l,pageSize:s}})},e.setPageCount=r=>e.setPagination(a=>{var s;let o=Ac(r,(s=e.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...a,pageCount:o}}),e.getPageOptions=Lt(()=>[e.getPageCount()],r=>{let a=[];return r&&r>0&&(a=[...new Array(r)].fill(null).map((s,o)=>o)),a},$t(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:r<a-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},YA=()=>({top:[],bottom:[]}),nXe={getInitialState:e=>({rowPinning:YA(),...e}),getDefaultOptions:e=>({onRowPinningChange:Gs("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,a)=>{const s=r?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=a?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],l=new Set([...o,e.id,...s]);t.setRowPinning(c=>{var u,d;if(n==="bottom"){var f,h;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(v=>!(l!=null&&l.has(v))),bottom:[...((h=c==null?void 0:c.bottom)!=null?h:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)]}}if(n==="top"){var m,g;return{top:[...((m=c==null?void 0:c.top)!=null?m:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)],bottom:((g=c==null?void 0:c.bottom)!=null?g:[]).filter(v=>!(l!=null&&l.has(v)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(v=>!(l!=null&&l.has(v))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(v=>!(l!=null&&l.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return typeof r=="function"?r(e):(n=r??a)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>a==null?void 0:a.includes(l));return s?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const s=(n=a==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?YA():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:YA())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var a,s;return!!((a=r.top)!=null&&a.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(n??[]).map(o=>{const l=e.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>t.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=Lt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),$t(e.options,"debugRows")),e.getBottomRows=Lt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),$t(e.options,"debugRows")),e.getCenterRows=Lt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const a=new Set([...n??[],...r??[]]);return t.filter(s=>!a.has(s.id))},$t(e.options,"debugRows"))}},rXe={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Gs("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):a.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach(s=>{HT(a,s.id,r,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?QA(e,n):{rows:[],flatRows:[],rowsById:{}},$t(e.options,"debugTable")),e.getFilteredSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?QA(e,n):{rows:[],flatRows:[],rowsById:{}},$t(e.options,"debugTable")),e.getGroupedSelectedRowModel=Lt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?QA(e,n):{rows:[],flatRows:[],rowsById:{}},$t(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(a=>a.getCanSelect()&&!n[a.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(a=>!n[a.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!a,e.getCanSelect()&&a===n)return s;const l={...s};return HT(l,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return UO(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return YT(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return YT(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var a;n&&e.toggleSelected((a=r.target)==null?void 0:a.checked)}}}},HT=(e,t,n,r,a)=>{var s;const o=a.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>HT(e,l.id,n,r,a))};function QA(e,t){const n=e.getState().rowSelection,r=[],a={},s=function(o,l){return o.map(c=>{var u;const d=UO(c,n);if(d&&(r.push(c),a[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:s(c.subRows)}),d)return c}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:a}}function UO(e,t){var n;return(n=t[e.id])!=null?n:!1}function YT(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let a=!0,s=!1;return e.subRows.forEach(o=>{if(!(s&&!a)&&(o.getCanSelect()&&(UO(o,t)?s=!0:a=!1),o.subRows&&o.subRows.length)){const l=YT(o,t);l==="all"?s=!0:(l==="some"&&(s=!0),a=!1)}}),a?"all":s?"some":!1}const QT=/([0-9]+)/gm,aXe=(e,t,n)=>nie(ru(e.getValue(n)).toLowerCase(),ru(t.getValue(n)).toLowerCase()),sXe=(e,t,n)=>nie(ru(e.getValue(n)),ru(t.getValue(n))),iXe=(e,t,n)=>KO(ru(e.getValue(n)).toLowerCase(),ru(t.getValue(n)).toLowerCase()),oXe=(e,t,n)=>KO(ru(e.getValue(n)),ru(t.getValue(n))),lXe=(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},cXe=(e,t,n)=>KO(e.getValue(n),t.getValue(n));function KO(e,t){return e===t?0:e>t?1:-1}function ru(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function nie(e,t){const n=e.split(QT).filter(Boolean),r=t.split(QT).filter(Boolean);for(;n.length&&r.length;){const a=n.shift(),s=r.shift(),o=parseInt(a,10),l=parseInt(s,10),c=[o,l].sort();if(isNaN(c[0])){if(a>s)return 1;if(s>a)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const hg={alphanumeric:aXe,alphanumericCaseSensitive:sXe,text:iXe,textCaseSensitive:oXe,datetime:lXe,basic:cXe},uXe={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Gs("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const a of n){const s=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return hg.datetime;if(typeof s=="string"&&(r=!0,s.split(QT).length>1))return hg.alphanumeric}return r?hg.text:hg.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return gN(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:hg[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(o=>{const l=o==null?void 0:o.find(m=>m.id===e.id),c=o==null?void 0:o.findIndex(m=>m.id===e.id);let u=[],d,f=s?n:a==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?l?d="toggle":d="add":o!=null&&o.length&&c!==o.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(s||a||(d="remove")),d==="add"){var h;u=[...o,{id:e.id,desc:f}],u.splice(0,u.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=o.map(m=>m.id===e.id?{...m,desc:f}:m):d==="remove"?u=o.filter(m=>m.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const s=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(a=t.options.enableMultiRemove)!=null)||a)?!1:o==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(a=>a.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},dXe=[DJe,ZJe,WJe,qJe,RJe,MJe,JJe,XJe,uXe,KJe,eXe,tXe,nXe,rXe,YJe];function fXe(e){var t,n;const r=[...dXe,...(t=e._features)!=null?t:[]];let a={_features:r};const s=a._features.reduce((h,m)=>Object.assign(h,m.getDefaultOptions==null?void 0:m.getDefaultOptions(a)),{}),o=h=>a.options.mergeOptions?a.options.mergeOptions(s,h):{...s,...h};let c={...{},...(n=e.initialState)!=null?n:{}};a._features.forEach(h=>{var m;c=(m=h.getInitialState==null?void 0:h.getInitialState(c))!=null?m:c});const u=[];let d=!1;const f={_features:r,options:{...s,...e},initialState:c,_queue:h=>{u.push(h),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{a.setState(a.initialState)},setOptions:h=>{const m=Ac(h,a.options);a.options=o(m)},getState:()=>a.options.state,setState:h=>{a.options.onStateChange==null||a.options.onStateChange(h)},_getRowId:(h,m,g)=>{var v;return(v=a.options.getRowId==null?void 0:a.options.getRowId(h,m,g))!=null?v:`${g?[g.id,m].join("."):m}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(h,m)=>{let g=(m?a.getPrePaginationRowModel():a.getRowModel()).rowsById[h];if(!g&&(g=a.getCoreRowModel().rowsById[h],!g))throw new Error;return g},_getDefaultColumnDef:Lt(()=>[a.options.defaultColumn],h=>{var m;return h=(m=h)!=null?m:{},{header:g=>{const v=g.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:g=>{var v,b;return(v=(b=g.renderValue())==null||b.toString==null?void 0:b.toString())!=null?v:null},...a._features.reduce((g,v)=>Object.assign(g,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...h}},$t(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:Lt(()=>[a._getColumnDefs()],h=>{const m=function(g,v,b){return b===void 0&&(b=0),g.map(y=>{const x=_Je(a,y,b,v),w=y;return x.columns=w.columns?m(w.columns,x,b+1):[],x})};return m(h)},$t(e,"debugColumns")),getAllFlatColumns:Lt(()=>[a.getAllColumns()],h=>h.flatMap(m=>m.getFlatColumns()),$t(e,"debugColumns")),_getAllFlatColumnsById:Lt(()=>[a.getAllFlatColumns()],h=>h.reduce((m,g)=>(m[g.id]=g,m),{}),$t(e,"debugColumns")),getAllLeafColumns:Lt(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(h,m)=>{let g=h.flatMap(v=>v.getLeafColumns());return m(g)},$t(e,"debugColumns")),getColumn:h=>a._getAllFlatColumnsById()[h]};Object.assign(a,f);for(let h=0;h<a._features.length;h++){const m=a._features[h];m==null||m.createTable==null||m.createTable(a)}return a}function hXe(){return e=>Lt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(a,s,o){s===void 0&&(s=0);const l=[];for(let u=0;u<a.length;u++){const d=VO(e,e._getRowId(a[u],u,o),a[u],u,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),e.options.getSubRows){var c;d.originalSubRows=e.options.getSubRows(a[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=r(d.originalSubRows,s+1,d))}}return l};return n.rows=r(t),n},$t(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function mXe(e,t,n){return n.options.filterFromLeafRows?pXe(e,t,n):gXe(e,t,n)}function pXe(e,t,n){var r;const a=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let h=0;h<c.length;h++){var f;let m=c[h];const g=VO(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(g.columnFilters=m.columnFilters,(f=m.subRows)!=null&&f.length&&u<o){if(g.subRows=l(m.subRows,u+1),m=g,t(m)&&!g.subRows.length){d.push(m),s[m.id]=m,a.push(m);continue}if(t(m)||g.subRows.length){d.push(m),s[m.id]=m,a.push(m);continue}}else m=g,t(m)&&(d.push(m),s[m.id]=m,a.push(m))}return d};return{rows:l(e),flatRows:a,rowsById:s}}function gXe(e,t,n){var r;const a=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let h=0;h<c.length;h++){let m=c[h];if(t(m)){var f;if((f=m.subRows)!=null&&f.length&&u<o){const v=VO(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);v.subRows=l(m.subRows,u+1),m=v}d.push(m),a.push(m),s[m.id]=m}}return d};return{rows:l(e),flatRows:a,rowsById:s}}function vXe(){return e=>Lt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const a=[],s=[];(n??[]).forEach(h=>{var m;const g=e.getColumn(h.id);if(!g)return;const v=g.getFilterFn();v&&a.push({id:h.id,filterFn:v,resolvedValue:(m=v.resolveFilterValue==null?void 0:v.resolveFilterValue(h.value))!=null?m:h.value})});const o=(n??[]).map(h=>h.id),l=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(h=>{var m;s.push({id:h.id,filterFn:l,resolvedValue:(m=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?m:r})}));let u,d;for(let h=0;h<t.flatRows.length;h++){const m=t.flatRows[h];if(m.columnFilters={},a.length)for(let g=0;g<a.length;g++){u=a[g];const v=u.id;m.columnFilters[v]=u.filterFn(m,v,u.resolvedValue,b=>{m.columnFiltersMeta[v]=b})}if(s.length){for(let g=0;g<s.length;g++){d=s[g];const v=d.id;if(d.filterFn(m,v,d.resolvedValue,b=>{m.columnFiltersMeta[v]=b})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const f=h=>{for(let m=0;m<o.length;m++)if(h.columnFilters[o[m]]===!1)return!1;return!0};return mXe(t.rows,f,e)},$t(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function yXe(){return e=>Lt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,a=[],s=r.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),o={};s.forEach(c=>{const u=e.getColumn(c.id);u&&(o[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=c=>{const u=c.map(d=>({...d}));return u.sort((d,f)=>{for(let m=0;m<s.length;m+=1){var h;const g=s[m],v=o[g.id],b=v.sortUndefined,y=(h=g==null?void 0:g.desc)!=null?h:!1;let x=0;if(b){const w=d.getValue(g.id),S=f.getValue(g.id),j=w===void 0,k=S===void 0;if(j||k){if(b==="first")return j?-1:1;if(b==="last")return j?1:-1;x=j&&k?0:j?b:-b}}if(x===0&&(x=v.sortingFn(d,f,g.id)),x!==0)return y&&(x*=-1),v.invertSorting&&(x*=-1),x}return d.index-f.index}),u.forEach(d=>{var f;a.push(d),(f=d.subRows)!=null&&f.length&&(d.subRows=l(d.subRows))}),u};return{rows:l(n.rows),flatRows:a,rowsById:n.rowsById}},$t(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function az(e,t){return e?xXe(e)?p.createElement(e,t):e:null}function xXe(e){return bXe(e)||typeof e=="function"||wXe(e)}function bXe(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function wXe(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function SXe(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=p.useState(()=>({current:fXe(t)})),[r,a]=p.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:o=>{a(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const CXe=({column:e,currentFilter:t,onApplyFilter:n,onRemoveFilter:r})=>{const[a,s]=p.useState(">"),[o,l]=p.useState(""),[c,u]=p.useState(!1),d=()=>{const m=parseFloat(o);isNaN(m)||(n(a,m),u(!1))},f=()=>{r(),u(!1)},h=m=>{m&&t?(s(t.operator),l(t.value.toString())):m&&(s(">"),l("")),u(m)};return i.jsxs(i1,{open:c,onOpenChange:h,children:[i.jsx(o1,{asChild:!0,children:i.jsx(X,{variant:"ghost",size:"sm",className:`h-6 w-6 p-0 ${t?"text-blue-600":"text-muted-foreground hover:text-foreground"}`,children:i.jsx(Bw,{className:"h-3 w-3"})})}),i.jsx(l1,{className:"w-64 p-3",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ft,{className:"text-sm font-medium",children:["Filter ",e.label]}),t&&i.jsxs(X,{variant:"ghost",size:"sm",onClick:f,className:"h-auto p-1 text-xs text-red-600 hover:text-red-700",children:[i.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Remove"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Br,{value:a,onValueChange:m=>s(m),children:[i.jsx(Vr,{className:"w-20",children:i.jsx(oa,{})}),i.jsxs(zr,{children:[i.jsx(ot,{value:">",children:"> (greater than)"}),i.jsx(ot,{value:">=",children:">= (greater than or equal)"}),i.jsx(ot,{value:"<",children:"< (less than)"}),i.jsx(ot,{value:"<=",children:"<= (less than or equal)"}),i.jsx(ot,{value:"=",children:"=  (equal to)"}),i.jsx(ot,{value:"!=",children:"!= (not equal to)"})]})]}),i.jsx(en,{type:"number",inputMode:"numeric",step:"0.1",placeholder:"Value",value:o,onChange:m=>l(m.target.value),className:"flex-1",onKeyDown:m=>{m.key==="Enter"&&d()}})]}),i.jsx(X,{onClick:d,size:"sm",className:"w-full",disabled:!o||isNaN(parseFloat(o)),children:"Apply Filter"}),t&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Current: ",e.label," ",t.operator," ",t.value]})]})})]})},jXe=(e,t,n,r)=>e.filter(a=>a.visible).map(a=>({id:a.key,accessorFn:s=>s[a.key],header:({column:s})=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(X,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-auto p-0 font-semibold hover:bg-transparent",children:[a.label,i.jsx(mG,{className:"ml-2 h-4 w-4"})]}),(a.numeric||a.percentage)&&i.jsx(CXe,{column:a,currentFilter:t[a.key],onApplyFilter:(o,l)=>n(a.key,o,l),onRemoveFilter:()=>r(a.key)})]}),cell:({getValue:s})=>{const o=s();return a.key==="teamNumber"?i.jsx("span",{className:"font-medium",children:typeof o=="number"?o:Number(o)||0}):a.key==="eventKey"?i.jsx(Oe,{variant:"secondary",children:String(o)}):a.numeric?typeof o=="number"?o.toFixed(1):"0.0":a.percentage?`${typeof o=="number"?Math.round(o):0}%`:o},filterFn:a.key==="teamNumber"?(s,o,l)=>{const c=s.getValue(o),u=String(c),d=String(l).toLowerCase();return u.includes(d)}:void 0,enableSorting:!0,enableHiding:!0})),NXe=({isOpen:e,onOpenChange:t,columnConfig:n,onToggleColumn:r,onApplyPreset:a})=>{const[s,o]=p.useState([]),[l,c]=p.useState(""),[u,d]=p.useState(!1);p.useEffect(()=>{const v=localStorage.getItem("columnPresets");if(v)try{o(JSON.parse(v))}catch(b){console.error("Failed to load saved presets:",b)}},[]);const f=v=>{const b=n.filter(w=>w.visible).map(w=>w.key),y={name:v,columns:b,createdAt:new Date().toISOString()},x=[...s.filter(w=>w.name!==v),y];o(x),localStorage.setItem("columnPresets",JSON.stringify(x)),c(""),d(!1)},h=v=>{n.filter(b=>b.visible).forEach(b=>r(b.key)),v.columns.forEach(b=>{const y=n.find(x=>x.key===b);y&&!y.visible&&r(b)})},m=v=>{const b=s.filter(y=>y.name!==v);o(b),localStorage.setItem("columnPresets",JSON.stringify(b))},g=n.reduce((v,b)=>{var y;return v[b.category]||(v[b.category]=[]),(y=v[b.category])==null||y.push(b),v},{});return i.jsxs(Jm,{open:e,onOpenChange:t,children:[i.jsx(BC,{asChild:!0,children:i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(xde,{className:"h-4 w-4 mr-2"}),"Customize Columns"]})}),i.jsxs(Xm,{className:"w-96",children:[i.jsxs(ep,{children:[i.jsx(tp,{children:"Customize Table Columns"}),i.jsx(Z7,{children:"Select which columns to display in the team statistics table"})]}),i.jsxs("div",{className:"space-y-6 mt-6 px-4 overflow-y-scroll pb-4 h-[calc(100vh-120px)]",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>n.filter(v=>!v.visible).forEach(v=>r(v.key)),children:[i.jsx(rm,{className:"h-4 w-4 mr-1"}),"Show All"]}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>a("basic"),children:[i.jsx(tD,{className:"h-4 w-4 mr-1"}),"Basic Only"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Common Presets"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(X,{variant:"outline",size:"sm",onClick:()=>a("essential"),className:"text-xs",children:"Essential"}),i.jsx(X,{variant:"outline",size:"sm",onClick:()=>a("aggregates"),className:"text-xs",children:"Aggregates"}),i.jsx(X,{variant:"outline",size:"sm",onClick:()=>a("auto"),className:"text-xs",children:"Auto Focus"}),i.jsx(X,{variant:"outline",size:"sm",onClick:()=>a("teleop"),className:"text-xs",children:"Teleop Focus"}),i.jsx(X,{variant:"outline",size:"sm",onClick:()=>a("endgame"),className:"text-xs col-span-2",children:"Endgame Focus"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Custom Presets"}),i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>d(!u),className:"h-auto p-1 text-xs",children:[i.jsx(Gc,{className:"h-3 w-3 mr-1"}),"Save Current"]})]}),u&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(en,{placeholder:"Preset name...",value:l,onChange:v=>c(v.target.value),className:"flex-1 h-8 text-xs",onKeyDown:v=>{v.key==="Enter"&&l.trim()&&f(l.trim()),v.key==="Escape"&&(d(!1),c(""))}}),i.jsx(X,{size:"sm",onClick:()=>l.trim()&&f(l.trim()),disabled:!l.trim(),className:"h-8 px-2",children:i.jsx(aD,{className:"h-3 w-3"})})]}),s.length>0?i.jsx("div",{className:"space-y-2",children:s.map(v=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium",children:v.name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.columns.length," columns"]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>h(v),className:"h-7 px-2 text-xs",children:"Apply"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>m(v.name),className:"h-7 px-2 text-xs text-destructive hover:text-destructive",children:i.jsx(Vs,{className:"h-3 w-3"})})]})]},v.name))}):i.jsx("div",{className:"text-sm text-muted-foreground text-center py-4 border border-dashed rounded-lg",children:"No custom presets saved yet"})]}),i.jsx(Fr,{}),Object.entries(g).map(([v,b])=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:v}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{b.every(x=>x.visible)?b.filter(x=>x.visible).forEach(x=>r(x.key)):b.filter(x=>!x.visible).forEach(x=>r(x.key))},className:"h-auto p-1 text-xs",children:b.every(y=>y.visible)?"Hide All":"Show All"})]}),i.jsx("div",{className:"space-y-2",children:b.map(y=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ud,{id:y.key,checked:y.visible,onCheckedChange:()=>r(y.key)}),i.jsx("label",{htmlFor:y.key,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 flex-1",children:y.label}),y.numeric&&i.jsx(Oe,{variant:"outline",className:"text-xs",children:"Numeric"})]},y.key))})]},v))]})]})]})},kXe=({teamStats:e,filteredTeamStats:t,columnConfig:n,columnFilters:r,onToggleColumn:a,onApplyPreset:s,onSetColumnFilter:o,onRemoveColumnFilter:l,onClearAllFilters:c,isColumnSettingsOpen:u,onColumnSettingsOpenChange:d})=>{var j,k;const[f,h]=p.useState([]),[m,g]=p.useState([]),[v,b]=p.useState({}),y=p.useMemo(()=>jXe(n,r,o,l),[n,r,o,l]);p.useEffect(()=>{const N={};n.forEach(P=>{N[P.key]=P.visible}),b(N)},[n]);const x=SXe({data:t,columns:y,onSortingChange:h,onColumnFiltersChange:g,getCoreRowModel:hXe(),getSortedRowModel:yXe(),getFilteredRowModel:vXe(),onColumnVisibilityChange:N=>{const P=typeof N=="function"?N(v):N;Object.entries(P).forEach(([E,R])=>{const O=n.find(G=>G.key===E);O&&O.visible!==R&&a(E)})},state:{sorting:f,columnFilters:m,columnVisibility:v}}),w=n.filter(N=>N.visible),S=Object.keys(r).length;return i.jsxs(_e,{className:"",children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 md:gap-3",children:[i.jsx(We,{className:"text-lg md:text-xl",children:"Team Statistics"}),i.jsxs(Oe,{variant:"secondary",className:"text-xs w-fit",children:[w.length," of ",n.length," columns"]})]}),i.jsx(NXe,{isOpen:u,onOpenChange:d,columnConfig:n,onToggleColumn:a,onApplyPreset:s})]})}),i.jsxs("div",{className:"px-2 pb-2 md:pb-4 space-y-2 md:space-y-4",children:[i.jsxs("div",{className:"flex px-4 md:px-6  items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Showing ",t.length," of ",e.length," teams"]}),S>0&&i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{variant:"outline",className:"text-xs",children:[S," filter",S!==1?"s":""," active"]}),i.jsxs(X,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:c,children:[i.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Clear all filters"]})]})]}),i.jsx("div",{className:"flex items-center gap-2 px-4",children:i.jsx(en,{placeholder:"Filter teams...",value:((j=x.getColumn("teamNumber"))==null?void 0:j.getFilterValue())??"",onChange:N=>{var P;return(P=x.getColumn("teamNumber"))==null?void 0:P.setFilterValue(N.target.value)},className:"flex-1 text-sm h-8 sm:h-10"})})]}),i.jsx($e,{className:"px-4",children:i.jsx("div",{className:"px-2",children:i.jsx("div",{className:"max-h-[35vh] sm:max-h-[40vh] md:max-h-[45vh] lg:max-h-[50vh] overflow-auto border rounded-md",children:i.jsx("div",{className:"min-w-max",children:i.jsxs(Gse,{className:"relative w-full",children:[i.jsx(Wse,{children:x.getHeaderGroups().map(N=>i.jsx(Th,{children:N.headers.map(P=>i.jsx(ho,{className:"whitespace-nowrap text-xs sm:text-sm px-2 sm:px-4",children:P.isPlaceholder?null:az(P.column.columnDef.header,P.getContext())},P.id))},N.id))}),i.jsxs(qse,{children:[(k=x.getRowModel().rows)!=null&&k.length?x.getRowModel().rows.map(N=>i.jsx(Th,{"data-state":N.getIsSelected()&&"selected",children:N.getVisibleCells().map(P=>i.jsx(ai,{className:"whitespace-nowrap text-xs sm:text-sm px-2 sm:px-4",children:az(P.column.columnDef.cell,P.getContext())},P.id))},N.id)):i.jsx(Th,{children:i.jsx(ai,{colSpan:y.length,className:"h-24 text-center",children:"No results."})}),i.jsx(Th,{children:i.jsx(ai,{colSpan:y.length,className:"h-4 border-0"})})]})]})})})})})]})};function AXe(){var $,U;const[e,t]=p.useState([]),[n,r]=p.useState("all"),[a,s]=p.useState("average"),[o,l]=p.useState("bar"),[c,u]=p.useState((($=Mg.columns.find(M=>M.numeric&&M.key!=="matchCount"))==null?void 0:$.key)||"rawValues.totalPoints"),[d,f]=p.useState("teamNumber"),[h,m]=p.useState(((U=Mg.columns.find(M=>M.numeric&&M.key!=="matchCount"))==null?void 0:U.key)||"rawValues.totalPoints"),[g,v]=p.useState(Mg.columns),[b,y]=p.useState({}),[x,w]=p.useState(!1);p.useEffect(()=>{(async()=>{const fe=await Yi();t(fe)})();const F=localStorage.getItem("strategy_aggregation");F&&s(F);const W=localStorage.getItem("strategy_chartType");W&&l(W);const Z=localStorage.getItem("strategy_chartMetric");Z&&u(Z);const H=localStorage.getItem("strategy_columnFilters");if(H)try{y(JSON.parse(H))}catch(fe){console.error("Failed to parse saved column filters",fe)}const ae=localStorage.getItem("strategy_visibleColumns");if(ae)try{const fe=JSON.parse(ae);v(we=>we.map(Pe=>({...Pe,visible:fe.includes(Pe.key)})))}catch(fe){console.error("Failed to parse saved visible columns",fe)}},[]),p.useEffect(()=>{localStorage.setItem("strategy_aggregation",a)},[a]),p.useEffect(()=>{localStorage.setItem("strategy_chartType",o)},[o]),p.useEffect(()=>{localStorage.setItem("strategy_chartMetric",c)},[c]),p.useEffect(()=>{localStorage.setItem("strategy_columnFilters",JSON.stringify(b))},[b]),p.useEffect(()=>{const M=g.filter(F=>F.visible).map(F=>F.key);localStorage.setItem("strategy_visibleColumns",JSON.stringify(M))},[g]);const S=p.useMemo(()=>Array.from(new Set(e.map(M=>M.eventKey))).sort(),[e]),{teamStats:j,filteredTeamStats:k,isLoading:N,error:P}=jYe(n==="all"?void 0:n,{columns:g},b,a),{chartData:E,chartConfig:R}=kYe(k,o,c,d,h,{columns:g}),O=M=>{v(F=>F.map(W=>W.key===M?{...W,visible:!W.visible}:W))},G=M=>{const F=Mg.presets[M];F&&v(W=>W.map(Z=>({...Z,visible:F.includes(Z.key)})))},te=(M,F,W)=>{y(Z=>({...Z,[M]:{operator:F,value:W}}))},V=M=>{y(F=>{const W={...F};return delete W[M],W})},z=()=>{y({})};return P?i.jsx("div",{className:"flex items-center justify-center min-h-screen text-destructive",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Error Loading Data"}),i.jsx("p",{className:"text-muted-foreground",children:P.message})]})}):N?i.jsxs("div",{className:"flex flex-col min-h-screen gap-6 p-4",children:[i.jsx("div",{className:"flex flex-col gap-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(na,{className:"h-10 w-64"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(na,{className:"h-10 w-32"}),i.jsx(na,{className:"h-10 w-32"})]})]})}),i.jsx(na,{className:"h-[400px] w-full rounded-xl"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(na,{className:"h-10 w-full"}),i.jsx(na,{className:"h-20 w-full"}),i.jsx(na,{className:"h-20 w-full"}),i.jsx(na,{className:"h-20 w-full"})]})]}):i.jsxs("div",{className:"flex flex-col min-h-screen gap-6 px-4 pt-12 pb-24",children:[i.jsx(PYe,{filteredTeamCount:k.length,totalTeamCount:j.length,activeFilterCount:Object.keys(b).length,selectedEvent:n,onEventChange:r,availableEvents:S,aggregationType:a,onAggregationTypeChange:s,onClearAllFilters:z,isSettingsOpen:!1,onSettingsOpenChange:()=>{},chartType:o,onChartTypeChange:l}),i.jsx(AJe,{chartData:E,chartType:o,onChartTypeChange:l,chartMetric:c,onChartMetricChange:u,scatterXMetric:d,onScatterXMetricChange:f,scatterYMetric:h,onScatterYMetricChange:m,columnConfig:g,chartConfig:R}),i.jsx(kXe,{teamStats:j,filteredTeamStats:k,columnConfig:g,columnFilters:b,onToggleColumn:O,onApplyPreset:G,onSetColumnFilter:te,onRemoveColumnFilter:V,onClearAllFilters:z,isColumnSettingsOpen:x,onColumnSettingsOpenChange:w})]})}const PXe=({matchNumber:e,isLookingUpMatch:t,onMatchNumberChange:n,onClearAll:r,onSaveAll:a})=>{const s=localStorage.getItem("matchData");return i.jsxs("div",{className:"flex md:justify-between w-full flex-wrap md:flex-nowrap gap-2 pt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto pb-2 md:pb-0",children:[i.jsx("label",{htmlFor:"match-number",className:"font-semibold whitespace-nowrap",children:"Match #:"}),i.jsxs("div",{className:"relative",children:[i.jsx(en,{id:"match-number",type:"text",placeholder:"Optional",value:e,onChange:o=>n(o.target.value),className:"w-24"}),t&&i.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"})})]}),e&&!t&&i.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Auto-fills from match data"}),!s&&i.jsx("span",{className:"text-xs text-orange-500 whitespace-nowrap hidden md:inline",children:"Load match data first"})]}),i.jsxs("div",{className:"flex items-center md:justify-end w-full md:w-auto gap-2",children:[i.jsx(X,{onClick:r,variant:"outline",className:"flex-1 md:flex-none px-3 py-2",children:"Clear All"}),i.jsx(X,{onClick:a,variant:"outline",className:"flex-1 md:flex-none px-3 py-2",children:"Save All"})]})]})},rie=p.createContext(void 0);function EXe(){const e=p.useContext(rie);if(e===void 0)throw new Error("useFullscreen must be used within a FullscreenProvider");return e}const TXe=20,_Xe=({canvasRef:e,brushSize:t,brushColor:n,isErasing:r,onSave:a})=>{const[s,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(!1),f=p.useRef([]),h=p.useRef(0),m=p.useCallback(k=>{const N=e.current;if(!N)return{x:0,y:0};const P=N.getBoundingClientRect(),E=N.width/P.width,R=N.height/P.height;return{x:(k.clientX-P.left)*E,y:(k.clientY-P.top)*R}},[e]),g=p.useCallback(()=>{const k=e.current;if(!k||f.current.length>0)return;const N=k.toDataURL();f.current=[N],h.current=0,d(!1)},[e]),v=p.useCallback(()=>{const k=e.current;if(!k)return;if(f.current.length===0){const O=k.toDataURL();f.current=[O],h.current=0,console.log("[SaveToHistory] Auto-initialized with first state, canvas size:",k.width,"x",k.height)}const N=k.toDataURL(),P=k.getContext("2d"),E=P==null?void 0:P.getImageData(0,0,k.width,k.height),R=(E==null?void 0:E.data.some((O,G)=>G%4===3&&O>0))??!1;console.log("[SaveToHistory] Saving state - has visible content:",R,"canvas size:",k.width,"x",k.height),f.current=f.current.slice(0,h.current+1),f.current.push(N),h.current=f.current.length-1,console.log("[SaveToHistory] History now has",f.current.length,"states, currentIndex:",h.current),f.current.length>TXe&&(f.current.shift(),h.current--),d(h.current>0)},[e]),b=p.useCallback(()=>{if(h.current<=0||f.current.length<2){console.log("[Undo] Cannot undo - index:",h.current,"length:",f.current.length);return}const k=h.current;h.current--;const N=f.current[h.current];console.log("[Undo] Going from index",k,"to",h.current,"- history length:",f.current.length);const P=e.current,E=P==null?void 0:P.getContext("2d");if(!P||!E||!N){console.log("[Undo] Missing canvas, ctx, or previousState");return}const R=new Image;R.onload=()=>{console.log("[Undo] Image loaded, natural size:",R.naturalWidth,"x",R.naturalHeight,"canvas size:",P.width,"x",P.height),E.globalCompositeOperation="source-over",E.clearRect(0,0,P.width,P.height),E.drawImage(R,0,0,P.width,P.height),d(h.current>0),a()},R.onerror=()=>{console.log("[Undo] Image load failed"),h.current++,d(h.current>0),console.warn("Undo failed: could not load image from history.")},R.src=N},[e,a]),y=p.useCallback(k=>{if(k.preventDefault(),k.stopPropagation(),"setPointerCapture"in k.currentTarget&&k.currentTarget instanceof HTMLElement)try{k.currentTarget.setPointerCapture(k.pointerId)}catch{}o(!0);const N=m(k);c(N)},[m]),x=p.useCallback(k=>{if(k.preventDefault(),k.stopPropagation(),!s||!l)return;const N=e.current,P=N==null?void 0:N.getContext("2d");if(!N||!P)return;const E=m(k);P.lineWidth=t,P.lineCap="round",P.lineJoin="round",r?(P.globalCompositeOperation="destination-out",P.strokeStyle="rgba(0,0,0,1)"):(P.globalCompositeOperation="source-over",P.strokeStyle=n),P.beginPath(),P.moveTo(l.x,l.y),P.lineTo(E.x,E.y),P.stroke(),c(E)},[s,m,r,t,n,l,e]),w=p.useCallback(k=>{if(k&&(k.preventDefault(),k.stopPropagation(),"releasePointerCapture"in k.currentTarget&&k.currentTarget instanceof HTMLElement))try{k.currentTarget.releasePointerCapture(k.pointerId)}catch{}s&&(v(),a()),o(!1),c(null)},[s,a,v]);return{canvasStyle:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",display:"block",touchAction:"none",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent"},canvasEventHandlers:{onMouseDown:y,onMouseMove:x,onMouseUp:w,onMouseLeave:w,onPointerDown:y,onPointerMove:x,onPointerUp:w,onPointerLeave:w,onPointerCancel:w},isDrawing:s,undo:b,canUndo:u,initializeHistory:g,saveToHistory:v}},Bu={phases:[{id:"overall",label:"Overall",gridCols:3,stats:[{key:"avgTotalFuel",label:"Avg Fuel Scored",color:"text-orange-600",format:"number",decimals:1,aggregation:"average"},{key:"avgFuelPassed",label:"Avg Fuel Passed",color:"text-green-600",format:"number",decimals:1,aggregation:"average"},{key:"avgTotalPoints",label:"Avg Points",color:"text-blue-600",format:"number",decimals:1,aggregation:"average"}]},{id:"auto",label:"Auto",gridCols:4,stats:[{key:"avgAutoFuel",label:"Fuel Scored",color:"text-orange-600",format:"number",decimals:1,aggregation:"average"},{key:"avgAutoFuelPassed",label:"Fuel Passed",color:"text-green-600",format:"number",decimals:1,aggregation:"average"},{key:"autoClimbAttempts",label:"L1 Climbs",color:"text-purple-600",format:"number",decimals:0},{key:"autoClimbRate",label:"L1 Success",color:"text-blue-600",format:"percent",decimals:0}]},{id:"teleop",label:"Teleop",gridCols:4,stats:[{key:"avgTeleopFuel",label:"Fuel Scored",color:"text-orange-600",format:"number",decimals:1,aggregation:"average"},{key:"avgTeleopFuelPassed",label:"Fuel Passed",color:"text-green-600",format:"number",decimals:1,aggregation:"average"},{key:"primaryActiveRole",label:"Active Role",color:"text-blue-600"},{key:"primaryInactiveRole",label:"Inactive Role",color:"text-purple-600"}]},{id:"endgame",label:"Endgame",gridCols:4,stats:[{key:"endgame.climbRate",label:"Climb %",color:"text-purple-600",format:"percent",decimals:0},{key:"climbL1Rate",label:"L1 (10pts)",color:"text-green-600",format:"percent",decimals:0},{key:"climbL2Rate",label:"L2 (20pts)",color:"text-blue-600",format:"percent",decimals:0},{key:"climbL3Rate",label:"L3 (30pts)",color:"text-orange-600",format:"percent",decimals:0}]}],fieldLayout:{TEAM_LABEL_FONT_SIZE_RATIO:.02,BLUE_ALLIANCE_X_POSITION:.03,RED_ALLIANCE_X_POSITION:.97,TEAM_POSITION_TOP_Y:.275,TEAM_POSITION_MIDDLE_Y:.505,TEAM_POSITION_BOTTOM_Y:.735}};function DXe(e,t,n){const r=t.split(".");let a=e;for(const s of r){if(a==null)return;a=a[s]}return typeof a=="number"||typeof a=="string"?a:void 0}function RXe(e,t="number",n=1){if(e==null)return"-";if(typeof e=="string")return e;const r=Number(e.toFixed(n));return t==="percent"?`${r}%`:r.toString()}var Tz,_z,Dz,Rz,Mz,Iz;const aie={TEAM_LABEL_FONT_SIZE_RATIO:(Tz=Bu.fieldLayout)==null?void 0:Tz.TEAM_LABEL_FONT_SIZE_RATIO,BLUE_ALLIANCE_X_POSITION:(_z=Bu.fieldLayout)==null?void 0:_z.BLUE_ALLIANCE_X_POSITION,RED_ALLIANCE_X_POSITION:(Dz=Bu.fieldLayout)==null?void 0:Dz.RED_ALLIANCE_X_POSITION,TEAM_POSITION_TOP_Y:(Rz=Bu.fieldLayout)==null?void 0:Rz.TEAM_POSITION_TOP_Y,TEAM_POSITION_MIDDLE_Y:(Mz=Bu.fieldLayout)==null?void 0:Mz.TEAM_POSITION_MIDDLE_Y,TEAM_POSITION_BOTTOM_Y:(Iz=Bu.fieldLayout)==null?void 0:Iz.TEAM_POSITION_BOTTOM_Y,DESKTOP_RESERVED_HEIGHT_BASE:180},sz=(e,t,n,r)=>{if(!r||r.length!==6)return;const{TEAM_LABEL_FONT_SIZE_RATIO:a,BLUE_ALLIANCE_X_POSITION:s,RED_ALLIANCE_X_POSITION:o,TEAM_POSITION_TOP_Y:l,TEAM_POSITION_MIDDLE_Y:c,TEAM_POSITION_BOTTOM_Y:u}=aie,d=Math.floor(t*a);e.font=`bold ${d}px Arial`,e.textAlign="center",e.textBaseline="middle";const f=t*s;[{team:r[3],y:n*l},{team:r[4],y:n*c},{team:r[5],y:n*u}].forEach(({team:v,y:b})=>{if(v!=null&&v!==0){const y=v.toString();e.save(),e.translate(f,b),e.rotate(Math.PI/2),e.fillStyle="white",e.strokeStyle="black",e.lineWidth=3,e.strokeText(y,0,0),e.fillText(y,0,0),e.restore()}});const m=t*o;[{team:r[0],y:n*u},{team:r[1],y:n*c},{team:r[2],y:n*l}].forEach(({team:v,y:b})=>{if(v!=null&&v!==0){const y=v.toString();e.save(),e.translate(m,b),e.rotate(-Math.PI/2),e.fillStyle="white",e.strokeStyle="black",e.lineWidth=3,e.strokeText(y,0,0),e.fillText(y,0,0),e.restore()}})},MXe=({fieldImagePath:e,currentStageId:t,isFullscreen:n,hideControls:r,isMobile:a,backgroundCanvasRef:s,overlayCanvasRef:o,drawingCanvasRef:l,containerRef:c,fullscreenRef:u,selectedTeams:d=[],onCanvasReady:f,onDimensionsChange:h})=>{const m=p.useRef(null),g=p.useRef(null),v=p.useCallback(()=>{g.current&&clearTimeout(g.current);const y=50;g.current=setTimeout(()=>{const x=s.current,w=o.current,S=l.current,j=n?u.current:c.current;if(!x||!w||!S||!j)return;const k=x.getContext("2d"),N=w.getContext("2d"),P=S.getContext("2d");if(!k||!N||!P)return;const E=new Image;E.onload=()=>{let R,O;if(n){const U=window.innerHeight,M=window.innerWidth,F=!r;let W=a?100:aie.DESKTOP_RESERVED_HEIGHT_BASE;F&&(W+=a?80:100),R=M-(a?0:32),O=U-W}else{const U=j.getBoundingClientRect(),M=32;R=U.width-M,O=U.height-M}const G=E.width/E.height,te=R/O;let V,z;G>te?(V=R,z=R/G):(z=O,V=O*G),h&&h({width:V,height:z}),[x,w,S].forEach(U=>{U.width=V,U.height=z}),m.current=E,k.drawImage(E,0,0,V,z),N.clearRect(0,0,V,z),sz(N,V,z,d),P.clearRect(0,0,V,z);const $=localStorage.getItem(`fieldStrategy_${t}`);if($){const U=new Image;U.onload=()=>{P.drawImage(U,0,0,V,z),f&&requestAnimationFrame(()=>f())},U.src=$}else f&&requestAnimationFrame(()=>f())},E.src=e},y)},[e,t,n,r,a,s,o,l,c,u,f,h,d]);p.useEffect(()=>{const y=o.current;if(!y)return;const x=y.getContext("2d");x&&(x.clearRect(0,0,y.width,y.height),sz(x,y.width,y.height,d))},[d,o]),p.useEffect(()=>{if(v(),!n){const x=setTimeout(()=>v(),200);return()=>clearTimeout(x)}const y=()=>{n&&v()};return window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y),g.current&&clearTimeout(g.current)}},[v,n]);const b=p.useCallback(()=>{const y=l.current,x=y==null?void 0:y.getContext("2d");!y||!x||(x.clearRect(0,0,y.width,y.height),localStorage.removeItem(`fieldStrategy_${t}`))},[t,l]);return{backgroundImageRef:m,setupCanvas:v,clearCanvas:b}},IXe=({currentStage:e,hideControls:t,onStageSwitch:n,onToggleFullscreen:r})=>i.jsx("div",{className:"shrink-0 p-3 md:p-4 border-b bg-background",children:i.jsxs("div",{className:"flex justify-between items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold whitespace-nowrap",children:"Field Strategy"}),t&&i.jsx("div",{className:"text-sm font-medium bg-primary/10 px-3 py-1 rounded-full whitespace-nowrap",children:e==null?void 0:e.label})]}),i.jsx("div",{className:"hidden md:flex items-center justify-center gap-2 flex-1",children:!t&&i.jsxs(i.Fragment,{children:[i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>n("prev"),className:"flex items-center gap-1",children:[i.jsx(XS,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden lg:inline",children:"Previous"})]}),i.jsx("div",{className:"text-sm font-medium bg-primary/10 px-3 py-1 rounded-full whitespace-nowrap",children:e==null?void 0:e.label}),i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>n("next"),className:"flex items-center gap-1",children:[i.jsx("span",{className:"hidden lg:inline",children:"Next"}),i.jsx(My,{className:"h-4 w-4"})]})]})}),i.jsx("div",{className:"flex items-center justify-end shrink-0",children:i.jsxs(X,{onClick:r,variant:"outline",size:"sm",children:[i.jsx(JP,{className:"h-4 w-4 mr-1 md:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Exit Fullscreen"})]})})]})}),OXe=({currentStage:e,currentStageIndex:t,stages:n,onStageSwitch:r,isVisible:a})=>a?i.jsx("div",{className:"shrink-0 p-2 md:p-3 border-b bg-background md:hidden",children:i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>r("prev"),className:"flex items-center gap-1",children:[i.jsx(XS,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-sm font-medium bg-primary/10 px-3 py-1 rounded-full",children:e==null?void 0:e.label}),i.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-xs text-muted-foreground",children:[t+1," / ",n.length]})]}),i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>r("next"),className:"flex items-center gap-1",children:[i.jsx("span",{className:"hidden sm:inline",children:"Next"}),i.jsx(My,{className:"h-4 w-4"})]})]})}):null,iz=[{value:"#3b82f6",label:"Blue"},{value:"#60a5fa",label:"Light Blue"},{value:"#1e40af",label:"Dark Blue"},{value:"#8b5cf6",label:"Purple"},{value:"#06b6d4",label:"Cyan"},{value:"#ef4444",label:"Red"},{value:"#f87171",label:"Light Red"},{value:"#dc2626",label:"Dark Red"},{value:"#f59e0b",label:"Orange"},{value:"#eab308",label:"Yellow"},{value:"#10b981",label:"Green"},{value:"#ec4899",label:"Pink"},{value:"#000000",label:"Black"},{value:"#6b7280",label:"Grey"},{value:"#ffffff",label:"White"}],oz=e=>e<=2?"Small":e<=5?"Medium":e<=10?"Large":"X-Large",lz=({isErasing:e,brushSize:t,brushColor:n,currentStageId:r,isMobile:a,isFullscreen:s,canUndo:o,onToggleErasing:l,onBrushSizeChange:c,onBrushColorChange:u,onClearCanvas:d,onSaveCanvas:f,onUndo:h,onToggleFullscreen:m,onToggleHideControls:g})=>{const[v,b]=p.useState(!1),y=x=>{u(x),b(!1)};return s?i.jsx("div",{className:"shrink-0 p-2 md:p-4 border-b bg-background relative z-40",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:flex-wrap justify-center items-center gap-2",children:[i.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[i.jsx(X,{variant:e?"outline":"default",size:"sm",onClick:()=>l(!1),children:"Draw"}),i.jsx(X,{variant:e?"default":"outline",size:"sm",onClick:()=>l(!0),children:"Erase"}),i.jsx(X,{variant:"outline",size:"sm",onClick:h,disabled:!o,title:"Undo last action",children:"Undo"}),i.jsx(X,{onClick:d,variant:"outline",size:"sm",children:"Clear"})]}),i.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[i.jsxs(Br,{value:t.toString(),onValueChange:x=>c(Number(x)),children:[i.jsx(Vr,{className:"w-fit",size:"sm",children:i.jsx(oa,{children:oz(t)})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"2",children:"Small"}),i.jsx(ot,{value:"5",children:"Medium"}),i.jsx(ot,{value:"10",children:"Large"}),i.jsx(ot,{value:"20",children:"X-Large"})]})]}),i.jsxs(i1,{open:v,onOpenChange:b,children:[i.jsx(o1,{asChild:!0,children:i.jsx(X,{variant:"outline",size:"sm",className:"w-8 h-8 p-0",style:{backgroundColor:n},title:"Select color","aria-label":"Select drawing color",children:i.jsx("span",{className:"sr-only",children:"Select color"})})}),i.jsx(l1,{className:"w-auto p-2",children:i.jsx("div",{className:"grid grid-cols-5 gap-1",children:iz.map(x=>i.jsx("button",{onClick:()=>y(x.value),className:`w-8 h-8 rounded border-2 cursor-pointer transition-all hover:scale-110 relative ${n===x.value?"border-black ring-2 ring-offset-2 ring-white":"border-gray-600"}`,style:{backgroundColor:x.value},title:x.label,"aria-label":x.label,children:n===x.value&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-black drop-shadow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})},x.value))})})]}),i.jsx(X,{onClick:f,variant:"outline",size:"sm",children:"Save"}),a&&i.jsx(X,{onClick:g,variant:"outline",size:"sm",title:"Hide controls for more drawing space",children:i.jsx(tD,{className:"h-4 w-4"})})]})]})}):i.jsx("div",{className:"mb-4 shrink-0",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(X,{variant:e?"outline":"default",size:"sm",onClick:()=>l(!1),children:"Draw"}),i.jsx(X,{variant:e?"default":"outline",size:"sm",onClick:()=>l(!0),children:"Erase"}),i.jsx(X,{variant:"outline",size:"sm",onClick:h,disabled:!o,title:"Undo last action",children:"Undo"}),i.jsx(X,{onClick:d,variant:"outline",size:"sm",children:"Clear"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs(Br,{value:t.toString(),onValueChange:x=>c(Number(x)),children:[i.jsx(Vr,{className:"w-[100px]",size:"sm",children:i.jsx(oa,{children:oz(t)})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"2",children:"Small"}),i.jsx(ot,{value:"5",children:"Medium"}),i.jsx(ot,{value:"10",children:"Large"}),i.jsx(ot,{value:"20",children:"X-Large"})]})]}),i.jsxs(i1,{open:v,onOpenChange:b,children:[i.jsx(o1,{asChild:!0,children:i.jsx(X,{variant:"outline",size:"sm",className:"w-8 h-8 p-0",style:{backgroundColor:n},title:"Select color","aria-label":"Select drawing color",children:i.jsx("span",{className:"sr-only",children:"Select color"})})}),i.jsx(l1,{className:"w-auto p-2",children:i.jsx("div",{className:"grid grid-cols-5 gap-1",children:iz.map(x=>i.jsx("button",{onClick:()=>y(x.value),className:`w-8 h-8 rounded border-2 cursor-pointer transition-all hover:scale-110 relative ${n===x.value?"border-black ring-2 ring-offset-2 ring-white":"border-gray-600"}`,style:{backgroundColor:x.value},title:x.label,"aria-label":x.label,children:n===x.value&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-black drop-shadow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})},x.value))})})]}),i.jsxs(X,{onClick:f,variant:"outline",size:"sm",children:["Save ",r]}),i.jsxs(X,{onClick:m,variant:"outline",size:"sm",children:[i.jsx(_v,{className:"h-4 w-4 mr-2"}),"Fullscreen"]})]})]})})},LXe=({isVisible:e,isErasing:t,onToggleControls:n,onStageSwitch:r,onToggleErasing:a,onClearCanvas:s})=>e?i.jsx("div",{className:"absolute top-2 right-2 z-10",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-2 lg:gap-4",children:[i.jsx(X,{onClick:n,variant:"secondary",size:"sm",className:"shadow-lg",title:"Show all controls",children:i.jsx(rm,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-1 lg:gap-2",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r("prev"),className:"shadow-lg bg-background/90 hover:bg-background",title:"Previous phase",children:i.jsx(XS,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r("next"),className:"shadow-lg bg-background/90 hover:bg-background",title:"Next phase",children:i.jsx(My,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-1 lg:gap-2",children:[i.jsx(X,{variant:t?"outline":"default",size:"sm",onClick:()=>a(!1),className:"shadow-lg",title:"Draw mode",children:"Draw"}),i.jsx(X,{variant:t?"default":"outline",size:"sm",onClick:()=>a(!0),className:"shadow-lg",title:"Erase mode",children:"Erase"}),i.jsx(X,{onClick:s,variant:"destructive",size:"sm",className:"shadow-lg",title:"Clear canvas",children:"Clear"})]})]})}):null,ZA=({fieldImagePath:e,stageId:t="default",onStageChange:n,selectedTeams:r=[]})=>{const a=p.useRef(null),s=p.useRef(null),o=p.useRef(null),l=p.useRef(null),c=p.useRef(null),[u,d]=p.useState(!1),[f,h]=p.useState(3),[m,g]=p.useState("#ff0000"),{isFullscreen:v,setIsFullscreen:b}=EXe(),[y,x]=p.useState(t),[w,S]=p.useState(!1),j=Um(),[k,N]=p.useState({width:0,height:0}),P=p.useMemo(()=>[{id:"autonomous",label:"Autonomous"},{id:"teleop",label:"Teleop"},{id:"endgame",label:"Endgame"}],[]),E=Math.max(0,P.findIndex(je=>je.id===y)),R=P[E]||P[0];p.useEffect(()=>{v||x(t)},[t,v]),p.useEffect(()=>{N({width:0,height:0})},[v]);const[O,G]=p.useState(!1),te=p.useCallback(()=>{G(!0)},[]),{clearCanvas:V}=MXe({fieldImagePath:e,currentStageId:y,isFullscreen:v,hideControls:w,isMobile:j,backgroundCanvasRef:a,overlayCanvasRef:s,drawingCanvasRef:o,containerRef:l,fullscreenRef:c,selectedTeams:r,onCanvasReady:te,onDimensionsChange:N}),z=p.useCallback((je=!0)=>{const ve=a.current,re=s.current,Ye=o.current;if(!ve||!re||!Ye)return;const Fe=document.createElement("canvas");Fe.width=k.width,Fe.height=k.height;const Je=Fe.getContext("2d");if(!Je)return;Je.drawImage(ve,0,0),Je.drawImage(re,0,0),Je.drawImage(Ye,0,0);const Le=Fe.toDataURL("image/png");if(je){const lt=document.createElement("a");lt.download=`field-strategy-${y}-${new Date().toISOString().slice(0,10)}.png`,lt.href=Le,lt.click()}localStorage.setItem(`fieldStrategy_${y}`,Ye.toDataURL("image/png"))},[y,k]),{canvasStyle:$,canvasEventHandlers:U,undo:M,canUndo:F,initializeHistory:W,saveToHistory:Z}=_Xe({canvasRef:o,brushSize:f,brushColor:m,isErasing:u,onSave:()=>z(!1)}),H=p.useRef(!1);p.useEffect(()=>{O&&W&&!H.current&&(W(),H.current=!0),O&&G(!1)},[O,W]);const ae=p.useCallback(()=>{Z&&Z(),V()},[Z,V]),fe=p.useCallback(()=>{v?(b(!1),document.body.style.overflow="auto",n&&y!==t&&n(y)):(b(!0),document.body.style.overflow="hidden")},[v,b,n,y,t]),we=p.useCallback(je=>{const ve=P.findIndex(Je=>Je.id===y);let re;je==="prev"?re=ve>0?ve-1:P.length-1:re=ve<P.length-1?ve+1:0;const Ye=P[re];if(!Ye)return;const Fe=Ye.id;z(!1),x(Fe),!v&&n&&n(Fe)},[y,v,n,P,z]);p.useEffect(()=>{const je=ve=>{v&&(ve.key==="Escape"?fe():ve.key==="ArrowLeft"?(ve.preventDefault(),we("prev")):ve.key==="ArrowRight"?(ve.preventDefault(),we("next")):ve.key==="z"&&(ve.ctrlKey||ve.metaKey)&&(ve.preventDefault(),F&&M()))};return v&&document.addEventListener("keydown",je),()=>{document.removeEventListener("keydown",je)}},[v,we,fe,F,M]);const Pe=k.width>0&&k.height>0,me={position:"relative",width:Pe?`${k.width}px`:"auto",height:Pe?`${k.height}px`:"auto",maxWidth:"100%",maxHeight:"100%"},Ue={position:"absolute",top:0,left:0,width:"100%",height:"100%"},ne=()=>i.jsx("div",{className:"w-full h-full min-h-0 flex items-center justify-center",children:i.jsxs("div",{style:me,className:"border border-gray-300 rounded-lg shadow-lg overflow-hidden max-w-full max-h-full",children:[i.jsx("canvas",{ref:a,style:Ue}),i.jsx("canvas",{ref:s,style:Ue}),i.jsx("canvas",{ref:o,style:{...Ue,...$,cursor:"crosshair",touchAction:"none"},...U})]})});return v?i.jsxs("div",{ref:c,className:"fixed inset-0 z-50 bg-white dark:bg-gray-900 flex flex-col",style:{touchAction:"none",height:"100vh",width:"100vw"},children:[i.jsx(IXe,{currentStage:R,hideControls:w,onStageSwitch:we,onToggleFullscreen:fe}),i.jsx(OXe,{currentStage:R,currentStageIndex:E,stages:P,onStageSwitch:we,isVisible:j&&!w}),(!w||!j)&&i.jsx(lz,{isErasing:u,brushSize:f,brushColor:m,currentStageId:y,isMobile:j,isFullscreen:v,canUndo:F,onToggleErasing:d,onBrushSizeChange:h,onBrushColorChange:g,onClearCanvas:ae,onSaveCanvas:()=>z(!0),onUndo:M,onToggleFullscreen:fe,onToggleHideControls:()=>S(!w)}),i.jsxs("div",{className:"flex-1 flex items-center justify-center p-2 md:p-4 bg-green-50 dark:bg-green-950/20 overflow-hidden relative",style:{touchAction:"none"},children:[i.jsx(LXe,{isVisible:w&&j,isErasing:u,onToggleControls:()=>S(!1),onStageSwitch:we,onToggleErasing:d,onClearCanvas:ae}),i.jsx("div",{className:"w-full h-full flex items-center justify-center",onTouchStart:je=>je.stopPropagation(),onTouchMove:je=>je.stopPropagation(),onTouchEnd:je=>je.stopPropagation(),children:ne()})]}),i.jsx("div",{className:"shrink-0 p-2 md:p-4 border-t bg-background text-center text-xs md:text-sm text-muted-foreground",children:i.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[!j&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Press ESC to exit fullscreen"}),i.jsx("span",{children:"Use   arrows to switch stages"}),i.jsx("span",{children:"Ctrl+Z to undo"})]}),j&&i.jsx("span",{children:"Tap Exit Fullscreen to return  Use Previous/Next to switch stages"})]})})]}):i.jsxs("div",{className:"w-full h-full flex flex-col","data-stage":t,style:{touchAction:"pan-x pan-y"},children:[i.jsx(lz,{isErasing:u,brushSize:f,brushColor:m,currentStageId:y,isMobile:j,isFullscreen:v,canUndo:F,onToggleErasing:d,onBrushSizeChange:h,onBrushColorChange:g,onClearCanvas:ae,onSaveCanvas:()=>z(!0),onUndo:M,onToggleFullscreen:fe,onToggleHideControls:()=>S(!w)}),i.jsx("div",{ref:l,className:"flex-1 flex items-center justify-center border rounded-lg bg-green-50 dark:bg-green-950/20 min-h-0 p-4",style:{touchAction:"none"},children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",onTouchStart:je=>je.stopPropagation(),onTouchMove:je=>je.stopPropagation(),onTouchEnd:je=>je.stopPropagation(),children:ne()})})]})},$Xe=({fieldImagePath:e,activeTab:t,selectedTeams:n=[],onTabChange:r})=>i.jsx(_e,{className:"w-full",children:i.jsx($e,{className:"h-[500px] p-4",children:i.jsxs(pu,{value:t,onValueChange:r,className:"w-full h-full flex flex-col",enableSwipe:!0,children:[i.jsxs(gu,{className:"grid w-full grid-cols-3 mb-4 shrink-0",children:[i.jsx(gn,{value:"autonomous",children:"Autonomous"}),i.jsx(gn,{value:"teleop",children:"Teleop"}),i.jsx(gn,{value:"endgame",children:"Endgame"})]}),i.jsxs("div",{className:"flex-1 flex flex-col shrink-0","data-stage":t,children:[i.jsx(In,{value:"autonomous",className:"h-full mt-0","data-stage":"autonomous",children:i.jsx(ZA,{fieldImagePath:e,stageId:"autonomous",selectedTeams:n,onStageChange:r},"autonomous")}),i.jsx(In,{value:"teleop",className:"h-full mt-0","data-stage":"teleop",children:i.jsx(ZA,{fieldImagePath:e,stageId:"teleop",selectedTeams:n,onStageChange:r},"teleop")}),i.jsx(In,{value:"endgame",className:"h-full mt-0","data-stage":"endgame",children:i.jsx(ZA,{fieldImagePath:e,stageId:"endgame",selectedTeams:n,onStageChange:r},"endgame")})]})]})})}),FXe=({label:e,value:t,availableTeams:n,onValueChange:r})=>{const a=["none",...n.map(String)],s=o=>o==="none"?"No team":o?`Team ${o}`:"Select team";return i.jsx(Cr,{label:e,value:t===null?"none":String(t),availableOptions:a,onValueChange:o=>{r(o==="none"?null:Number(o))},placeholder:"Select team",displayFormat:s})},BXe=({stats:e,activeStatsTab:t})=>{if(!e)return null;const n=Bu.phases.find(a=>a.id===t);if(!n)return null;const r=n.gridCols||3;return i.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-800",children:[i.jsxs("div",{className:"min-h-24 flex flex-col justify-start py-1",children:[i.jsx("div",{className:`grid grid-cols-${r} gap-x-2 gap-y-3 text-sm mb-1`,children:n.stats.map((a,s)=>{const o=DXe(e,a.key),l=RXe(o,a.format,a.decimals);return i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-medium text-[10px] uppercase tracking-wider text-muted-foreground mb-1",children:a.label}),i.jsx("p",{className:`text-lg font-bold ${a.color||"text-foreground"}`,children:l})]},s)})}),t==="auto"&&e.auto.startPositions&&e.auto.startPositions.length>0&&i.jsxs("div",{className:"flex flex-col items-center mt-3 pt-3 border-t border-gray-50 dark:border-gray-800/50",children:[i.jsx("p",{className:"font-medium text-[10px] uppercase tracking-wider text-muted-foreground mb-2",children:"Starting Positions:"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 justify-center",children:[e.auto.startPositions.slice(0,4).map((a,s)=>i.jsxs(Oe,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-5",children:[a.position,": ",a.percentage,"%"]},s)),e.auto.startPositions.length>4&&i.jsxs(Oe,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-5",children:["+",e.auto.startPositions.length-4]})]})]})]}),i.jsxs("div",{className:"text-center text-xs text-muted-foreground mt-2",children:[e.matchCount," matches played"]})]})},VXe=({alliance:e,activeStatsTab:t,selectedTeams:n,getTeamStats:r})=>{const s=e==="blue"?3:0,o=r(n[s]??null),l=r(n[s+1]??null),c=r(n[s+2]??null);let u=0,d="";t==="overall"?(u=((o==null?void 0:o.overall.avgTotalPoints)||0)+((l==null?void 0:l.overall.avgTotalPoints)||0)+((c==null?void 0:c.overall.avgTotalPoints)||0),d="Total Points"):t==="auto"?(u=((o==null?void 0:o.auto.avgPoints)||0)+((l==null?void 0:l.auto.avgPoints)||0)+((c==null?void 0:c.auto.avgPoints)||0),d="Auto Points"):t==="teleop"?(u=((o==null?void 0:o.teleop.avgPoints)||0)+((l==null?void 0:l.teleop.avgPoints)||0)+((c==null?void 0:c.teleop.avgPoints)||0),d="Teleop Points"):t==="endgame"&&(u=((o==null?void 0:o.endgame.avgPoints)||0)+((l==null?void 0:l.endgame.avgPoints)||0)+((c==null?void 0:c.endgame.avgPoints)||0),d="Endgame Points");const f=Math.round(u*10)/10;return i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("span",{className:"font-medium",children:[d,":"]})," ",f]})},cz=({alliance:e,selectedTeams:t,availableTeams:n,activeStatsTab:r,getTeamStats:a,onTeamChange:s,onTouchStart:o,onTouchEnd:l})=>{const c=e==="blue",u=c?3:0,d=c?"border-blue-200 dark:border-blue-800":"border-red-200 dark:border-red-800",f=c?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400";return i.jsx("div",{className:"flex-1",onTouchStart:o,onTouchEnd:l,children:i.jsxs("div",{className:`border rounded-lg ${d}`,children:[i.jsx("div",{className:`p-4 border-b ${d}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:`text-lg font-semibold ${f}`,children:[e==="blue"?"Blue":"Red"," Alliance"]}),i.jsx(VXe,{alliance:e,activeStatsTab:r,selectedTeams:t,getTeamStats:a})]})}),i.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3},(h,m)=>{const g=u+m,v=t[g]??null,b=a(v);return i.jsx(_e,{className:"p-3",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:`text-sm font-medium ${f} min-w-0 shrink-0`,children:[e==="blue"?"Blue":"Red"," Team ",m+1,":"]}),i.jsx("div",{className:"w-full flex-1",children:i.jsx(FXe,{index:g,label:`${e==="blue"?"Blue":"Red"} Team ${m+1}`,labelColor:f,value:t[g]??null,availableTeams:n,onValueChange:y=>s(g,y)})})]}),v&&b?i.jsx(BXe,{stats:b,activeStatsTab:r}):i.jsx("div",{className:"text-center py-2 text-muted-foreground text-sm",children:v?"No data available":"No team selected"})]})},g)})})]})})},zXe=({confirmedAlliances:e,selectedBlueAlliance:t,selectedRedAlliance:n,onBlueAllianceChange:r,onRedAllianceChange:a})=>e.length===0?null:i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[i.jsx("span",{className:"text-sm font-medium",children:"Elimination Alliances:"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsx(Cr,{label:"Blue Alliance",value:t||"none",availableOptions:["none",...e.map(s=>s.id.toString())],onValueChange:r,placeholder:"Blue Alliance",displayFormat:s=>{if(s==="none")return"Blue Alliance";const o=e.find(l=>l.id.toString()===s);return o?`Alliance ${o.allianceNumber}`:`Alliance ${s}`},buttonDisplayFormat:s=>{if(s==="none")return"Blue Alliance";const o=e.find(l=>l.id.toString()===s);return o?`Blue Alliance: Alliance ${o.allianceNumber}`:`Blue Alliance: Alliance ${s}`},className:"w-full sm:w-40"}),i.jsx(Cr,{label:"Red Alliance",value:n||"none",availableOptions:["none",...e.map(s=>s.id.toString())],onValueChange:a,placeholder:"Red Alliance",displayFormat:s=>{if(s==="none")return"Red Alliance";const o=e.find(l=>l.id.toString()===s);return o?`Alliance ${o.allianceNumber}`:`Alliance ${s}`},buttonDisplayFormat:s=>{if(s==="none")return"Red Alliance";const o=e.find(l=>l.id.toString()===s);return o?`Red Alliance: Alliance ${o.allianceNumber}`:`Red Alliance: Alliance ${s}`},className:"w-full sm:w-40"})]})]})}),UXe=({selectedTeams:e,availableTeams:t,activeStatsTab:n,confirmedAlliances:r,selectedBlueAlliance:a,selectedRedAlliance:s,getTeamStats:o,onTeamChange:l,onStatsTabChange:c,onBlueAllianceChange:u,onRedAllianceChange:d})=>{const f=p.useRef(null),h=g=>{const v=g.touches[0];v&&(f.current={x:v.clientX,y:v.clientY})},m=g=>{if(!f.current)return;const v=g.changedTouches[0];if(!v)return;const b=v.clientX-f.current.x,y=v.clientY-f.current.y;if(Math.abs(b)>Math.abs(y)&&Math.abs(b)>50){Mn(async()=>{const{haptics:S}=await Promise.resolve().then(()=>Lje);return{haptics:S}},void 0).then(({haptics:S})=>{S.light()});const x=["overall","auto","teleop","endgame"],w=x.indexOf(n);if(w!==-1){let S;b>0?S=w>0?w-1:x.length-1:S=w<x.length-1?w+1:0;const j=x[S]??n;c(j)}}f.current=null};return i.jsxs(_e,{className:"w-full",children:[i.jsxs(Ge,{children:[i.jsx(zXe,{confirmedAlliances:r,selectedBlueAlliance:a,selectedRedAlliance:s,onBlueAllianceChange:u,onRedAllianceChange:d}),i.jsx(pu,{value:n,onValueChange:c,className:"w-full",enableSwipe:!0,children:i.jsxs(gu,{className:"grid w-full grid-cols-4",children:[i.jsx(gn,{value:"overall",children:"Overall"}),i.jsx(gn,{value:"auto",children:"Auto"}),i.jsx(gn,{value:"teleop",children:"Teleop"}),i.jsx(gn,{value:"endgame",children:"Endgame"})]})})]}),i.jsx($e,{children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsx(cz,{alliance:"blue",selectedTeams:e,availableTeams:t,activeStatsTab:n,getTeamStats:o,onTeamChange:l,onTouchStart:h,onTouchEnd:m}),i.jsx("div",{className:"lg:w-px lg:bg-border lg:mx-0 lg:h-auto h-px bg-border w-full my-0 lg:my-4"}),i.jsx(cz,{alliance:"red",selectedTeams:e,availableTeams:t,activeStatsTab:n,getTeamStats:o,onTeamChange:l,onTouchStart:h,onTouchEnd:m})]})})]})},KXe=(e,t)=>{localStorage.removeItem("fieldStrategy_autonomous"),localStorage.removeItem("fieldStrategy_teleop"),localStorage.removeItem("fieldStrategy_endgame");const n=t;e(""),setTimeout(()=>{e(n)},50)},GXe=(e,t,n)=>{setTimeout(()=>{const r=localStorage.getItem("fieldStrategy_autonomous"),a=localStorage.getItem("fieldStrategy_teleop"),s=localStorage.getItem("fieldStrategy_endgame");if(!r||!a||!s){alert("Please draw on all three strategy tabs (Autonomous, Teleop, and Endgame) before saving");return}const o=document.createElement("canvas"),l=o.getContext("2d");if(!l)return;const c=new Image,u=new Image,d=new Image,f=new Image;let h=0;const m=n?4:3,g=(b,y,x,w)=>{const S=document.createElement("canvas");S.width=x,S.height=w;const j=S.getContext("2d");return j&&(j.drawImage(b,0,0,x,w),j.drawImage(y,0,0,x,w)),S},v=()=>{if(h++,h===m){let b=c.width,y=c.height;n&&f.complete&&f.naturalWidth>0&&(b=f.naturalWidth,y=f.naturalHeight);const x=b/1e3,w=Math.round(e?60*x:40*x);if(o.width=b,o.height=y*3+w,l.fillStyle="#ffffff",l.fillRect(0,0,o.width,o.height),e){l.fillStyle="#000000",l.textAlign="center";const G=Math.round(20*x);l.font=`bold ${G}px Arial`,l.fillText(`Match ${e}`,b/2,Math.round(30*x))}l.fillStyle="#000000";const S=Math.round(24*x);l.font=`bold ${S}px Arial`,l.textAlign="center";const j=(G,te,V)=>{const z=V+Math.round(30*x),$=V+Math.round(40*x),U=y-Math.round(40*x);if(l.fillText(G,b/2,z),n&&f.complete&&f.naturalWidth>0){const M=g(f,te,b,U);l.drawImage(M,0,$)}else l.drawImage(te,0,$,b,U)};j("AUTONOMOUS",c,w),j("TELEOP",u,w+y),j("ENDGAME",d,w+y*2);const k=Math.round(16*x);l.font=`bold ${k}px Arial`;const N=t.slice(3,6).filter(Boolean).map(G=>G==null?void 0:G.toString()),P=t.slice(0,3).filter(Boolean).map(G=>G==null?void 0:G.toString());if(N.length>0||P.length>0){const G=Math.round(e?50*x:20*x);l.fillStyle="#0000ff",l.textAlign="left",l.fillText(`Blue: ${N.join(", ")}`,Math.round(10*x),G),l.fillStyle="#ff0000",l.textAlign="right",l.fillText(`Red: ${P.join(", ")}`,b-Math.round(10*x),G)}const E=o.toDataURL("image/png"),R=document.createElement("a");R.href=E;const O=e?`match-${e}-strategy-${new Date().toISOString().slice(0,10)}.png`:`match-strategy-complete-${new Date().toISOString().slice(0,10)}.png`;R.download=O,R.click()}};c.onload=v,u.onload=v,d.onload=v,n&&(f.onload=v,f.onerror=()=>{h++,v()},f.src=n),c.src=r,u.src=a,d.src=s},100)},WXe=()=>{const[e,t]=p.useState(Array(6).fill(null)),[n,r]=p.useState([]),[a,s]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState(""),[h,m]=p.useState(""),{teamStats:g}=IO(),v=p.useCallback(S=>S===null?null:g.find(k=>k.teamNumber===S)||null,[g]),b=p.useCallback(async S=>{if(S.trim()){l(!0);try{const j=parseInt(S.trim()),k=localStorage.getItem("matchData");if(k)try{const O=JSON.parse(k).find(G=>G.matchNum===j);if(O&&O.redAlliance&&O.blueAlliance){const G=O.redAlliance.slice(0,3),te=O.blueAlliance.slice(0,3),V=Array(6).fill(null);for(let z=0;z<G.length&&z<3;z++)V[z]=Number(G[z]);for(let z=0;z<te.length&&z<3;z++)V[z+3]=Number(te[z]);t(V),l(!1);return}}catch(R){console.error("Error parsing match data:",R)}const N=await P7(j),P=[],E=[];if(N.forEach(R=>{R.teamNumber&&(R.allianceColor==="red"?P.includes(R.teamNumber)||P.push(R.teamNumber):R.allianceColor==="blue"&&(E.includes(R.teamNumber)||E.push(R.teamNumber)))}),P.length>0||E.length>0){P.sort((O,G)=>O-G),E.sort((O,G)=>O-G);const R=Array(6).fill(null);for(let O=0;O<3;O++)R[O]=P[O]||null;for(let O=0;O<3;O++)R[O+3]=E[O]||null;t(R)}else console.log("No match entries found for match number:",S)}catch(j){console.error("Error looking up match teams:",j)}finally{l(!1)}}},[]);return p.useEffect(()=>{const S=async()=>{try{const k=await Yi(),N=[...new Set(k.map(P=>P.teamNumber).filter(Boolean))];N.sort((P,E)=>P-E),r(N)}catch(k){console.error("Error loading scouting data:",k)}},j=()=>{try{const k=localStorage.getItem("confirmedAlliances");k&&u(JSON.parse(k))}catch(k){console.error("Error loading confirmed alliances:",k)}};S(),j()},[]),p.useEffect(()=>{const S=setTimeout(()=>{a.trim()&&b(a)},500);return()=>clearTimeout(S)},[a,b]),{selectedTeams:e,availableTeams:n,matchNumber:a,isLookingUpMatch:o,confirmedAlliances:c,selectedBlueAlliance:d,selectedRedAlliance:h,getTeamStats:v,handleTeamChange:(S,j)=>{const k=[...e];k[S]=j,t(k)},applyAllianceToRed:S=>{if(m(S==="none"?"":S),S==="none")return;const j=c.find(N=>N.id.toString()===S);if(!j)return;const k=[...e];k[0]=j.captain||null,k[1]=j.pick1||null,k[2]=j.pick2||null,t(k)},applyAllianceToBlue:S=>{if(f(S==="none"?"":S),S==="none")return;const j=c.find(N=>N.id.toString()===S);if(!j)return;const k=[...e];k[3]=j.captain||null,k[4]=j.pick1||null,k[5]=j.pick2||null,t(k)},setMatchNumber:s}},qXe=e=>{const t=e.fieldImage??Xc,[n,r]=p.useState("autonomous"),[a,s]=p.useState("overall"),{selectedTeams:o,availableTeams:l,matchNumber:c,isLookingUpMatch:u,confirmedAlliances:d,selectedBlueAlliance:f,selectedRedAlliance:h,getTeamStats:m,handleTeamChange:g,applyAllianceToRed:v,applyAllianceToBlue:b,setMatchNumber:y}=WXe(),x=()=>KXe(r,n),w=()=>GXe(c,o,t);return i.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center px-4 pt-12 pb-24",children:[i.jsx("div",{className:"w-full max-w-7xl",children:i.jsx("h1",{className:"text-2xl font-bold",children:"Match Strategy"})}),i.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-7xl w-full",children:[i.jsx(PXe,{matchNumber:c,isLookingUpMatch:u,onMatchNumberChange:y,onClearAll:x,onSaveAll:w}),i.jsxs("div",{className:"flex flex-col gap-8 w-full pb-6",children:[i.jsx($Xe,{fieldImagePath:t,activeTab:n,selectedTeams:o,onTabChange:r}),i.jsx(UXe,{selectedTeams:o,availableTeams:l,activeStatsTab:a,confirmedAlliances:d,selectedBlueAlliance:f,selectedRedAlliance:h,getTeamStats:m,onTeamChange:g,onStatsTabChange:s,onBlueAllianceChange:b,onRedAllianceChange:v})]})]})]})},sie=({onExport:e,onImport:t,showAllianceSelection:n,onToggleAllianceSelection:r})=>{const a=()=>{const s=document.getElementById("import-input");s&&(s.value="",s.click())};return i.jsxs("div",{className:"flex flex-wrap gap-2 pb-4",children:[i.jsxs(X,{onClick:r,variant:n?"default":"outline",size:"sm",children:[n?i.jsx(tD,{className:"w-4 h-4 mr-2"}):i.jsx(Xa,{className:"w-4 h-4 mr-2"}),n?"Hide Alliances":"Show Alliances"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(X,{onClick:e,variant:"outline",size:"sm",children:[i.jsx(No,{className:"w-4 h-4 mr-2"}),"Export Pick Lists"]}),i.jsx("input",{type:"file",accept:".json",onChange:t,style:{display:"none"},id:"import-input"}),i.jsxs(X,{onClick:a,variant:"outline",size:"sm",children:[i.jsx(am,{className:"w-4 h-4 mr-2"}),"Import Pick Lists"]})]})]})},uz=e=>{const t=e.match(/avg(\w+?)(\d+)?/i);if(t&&t[1]){const n=t[1].charAt(0).toUpperCase(),r=t[2]??"";return`${n}${r}`}return e.replace("avg","").substring(0,3)},HXe=({team:e})=>{const t=e.auto,n=e.teleop,r=e.endgame,a=t?Object.entries(t).filter(([o])=>o.startsWith("avg")&&typeof t[o]=="number").slice(0,2).map(([o,l])=>`${uz(o)}: ${l.toFixed(1)}`).join(", "):"",s=n?Object.entries(n).filter(([o])=>o.startsWith("avg")&&typeof n[o]=="number").slice(0,2).map(([o,l])=>`${uz(o)}: ${l.toFixed(1)}`).join(", "):"";return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-xs text-muted-foreground",children:[a&&i.jsxs(i.Fragment,{children:["Auto: ",a," | "]}),s&&i.jsxs(i.Fragment,{children:["Teleop: ",s]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[(r==null?void 0:r.climbRate)||0,"% climb  ",e.matchCount||0," matches"]})]})};function GO({teamNumber:e,teamStats:t,variant:n="outline",size:r="sm",className:a=""}){var m;const[s,o]=p.useState(!1),[l,c]=p.useState("overall");if(!t)return i.jsx(X,{variant:n,size:r,className:a,disabled:!0,children:i.jsx(rm,{className:"w-3 h-3"})});const u=t.auto,d=t.teleop,f=t.endgame,h=t.overall;return i.jsxs(to,{open:s,onOpenChange:o,children:[i.jsx(_C,{asChild:!0,children:i.jsx(X,{variant:n,size:r,className:a,children:i.jsx(rm,{className:"w-3 h-3"})})}),i.jsxs(no,{className:"max-w-4xl w-[calc(100vw-2rem)] h-[min(600px,90vh)] flex flex-col p-6",children:[i.jsx(Go,{className:"shrink-0 px-0",children:i.jsxs(ro,{children:["Team ",e," Detailed Stats"]})}),i.jsx("div",{className:"flex-1 min-h-0",onTouchStart:g=>g.stopPropagation(),onTouchMove:g=>g.stopPropagation(),onTouchEnd:g=>g.stopPropagation(),children:i.jsxs(pu,{value:l,onValueChange:c,enableSwipe:!0,className:"w-full h-full flex flex-col",children:[i.jsxs(gu,{className:"grid w-full grid-cols-4 shrink-0",children:[i.jsx(gn,{value:"overall",children:"Overall"}),i.jsx(gn,{value:"auto",children:"Auto"}),i.jsx(gn,{value:"teleop",children:"Teleop"}),i.jsx(gn,{value:"endgame",children:"Endgame"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-0 mt-4",children:[i.jsx(In,{value:"overall",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Scoring Summary"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg Total Points:"}),i.jsx("span",{className:"font-bold text-blue-600",children:(h==null?void 0:h.avgTotalPoints)||0})]}),h&&Object.entries(h).filter(([g])=>g.startsWith("avg")&&g!=="avgTotalPoints"&&g!=="avgGamePiece1"&&g!=="avgGamePiece2").map(([g,v])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[g.replace("avg","Avg ").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:typeof v=="number"?v:0})]},g)),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"font-semibold",children:"Matches Played:"}),i.jsx("span",{className:"font-bold text-orange-600",children:t.matchCount})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Performance Rates"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Climb Rate:"}),i.jsxs("span",{className:"font-bold text-purple-600",children:[(f==null?void 0:f.climbRate)||0,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Mobility Rate:"}),i.jsxs("span",{className:"font-bold text-blue-600",children:[(u==null?void 0:u.mobilityRate)||0,"%"]})]})]})]})]})}),i.jsx(In,{value:"auto",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Auto Scoring"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg Points:"}),i.jsx("span",{className:"font-bold text-blue-600",children:(u==null?void 0:u.avgPoints)||0})]}),u&&Object.entries(u).filter(([g])=>g.startsWith("avg")&&g!=="avgPoints"&&g!=="avgGamePiece1"&&g!=="avgGamePiece2").map(([g,v])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[g.replace("avg","Avg ").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:typeof v=="number"?v:0})]},g)),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{children:"Mobility Rate:"}),i.jsxs("span",{className:"font-bold text-green-600",children:[(u==null?void 0:u.mobilityRate)||0,"%"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Starting Positions"}),i.jsxs("div",{className:"space-y-2",children:[(m=u==null?void 0:u.startPositions)==null?void 0:m.map(g=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[g.position,":"]}),i.jsxs("span",{className:"font-bold",children:[g.percentage,"%"]})]},g.position)),(!(u!=null&&u.startPositions)||u.startPositions.length===0)&&i.jsx("div",{className:"text-muted-foreground",children:"No position data"})]})]})]})}),i.jsx(In,{value:"teleop",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Teleop Scoring"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg Points:"}),i.jsx("span",{className:"font-bold text-purple-600",children:(d==null?void 0:d.avgPoints)||0})]}),d&&Object.entries(d).filter(([g])=>g.startsWith("avg")&&g!=="avgPoints"&&g!=="avgGamePiece1"&&g!=="avgGamePiece2").map(([g,v])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[g.replace("avg","Avg ").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:typeof v=="number"?v:0})]},g))]})]})}),i.jsx(In,{value:"endgame",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Endgame Performance"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg Points:"}),i.jsx("span",{className:"font-bold text-blue-600",children:(f==null?void 0:f.avgPoints)||0})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Climb Rate:"}),i.jsxs("span",{className:"font-bold text-purple-600",children:[(f==null?void 0:f.climbRate)||0,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Park Rate:"}),i.jsxs("span",{className:"font-bold text-gray-600",children:[(f==null?void 0:f.parkRate)||0,"%"]})]})]})]})})]})]})})]})]})}const dz=[{value:"teamNumber",label:"Team Number"},...Mg.columns.filter(e=>e.numeric&&e.key!=="matchCount").map(e=>({value:e.key,label:e.label})),{value:"matchCount",label:"Matches Played"}];function fz(e,t){if(t==="teamNumber")return e.teamNumber;const n=t.split(".");let r=e;for(const a of n)if(r&&typeof r=="object"&&a in r)r=r[a];else{r=void 0;break}return typeof r=="number"?r:0}function YXe(e){return e==="teamNumber"}const QXe=({team:e,pickLists:t,alliances:n,onAddTeamToList:r,onAddTeamToAlliance:a})=>{const[s,o]=p.useState("none"),l=g=>{const v=t.find(b=>b.id===g);return(v==null?void 0:v.teams.some(b=>b.teamNumber===e.teamNumber))||!1},c=()=>t.filter(g=>g.teams.some(v=>v.teamNumber===e.teamNumber)),u=g=>{if(!n)return!1;const v=n.find(b=>b.id===g);return v?v.captain===e.teamNumber||v.pick1===e.teamNumber||v.pick2===e.teamNumber||v.pick3===e.teamNumber:!1},d=()=>n?n.filter(g=>!g.captain||!g.pick1||!g.pick2||!g.pick3):[],f=["none",...t.map(g=>`list-${g.id}`),...n?d().map(g=>`alliance-${g.id}`):[]],h=g=>{if(g==="none")return"Add to...";if(g.startsWith("list-")){const v=g.replace("list-",""),b=t.find(x=>x.id===Number(v));return b?l(Number(v))?` ${b.name}`:b.name:g}if(g.startsWith("alliance-")){const v=g.replace("alliance-",""),b=n==null?void 0:n.find(x=>x.id===Number(v));return b?u(Number(v))?` Alliance ${b.allianceNumber}`:`Alliance ${b.allianceNumber}`:g}return g},m=g=>{if(g!=="none"){if(g.startsWith("list-")){const v=g.replace("list-","");r(e,Number(v))}else if(g.startsWith("alliance-")&&a){const v=g.replace("alliance-","");a(e.teamNumber,Number(v))}o("none")}};return i.jsx(_e,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-medium",children:["Team ",e.teamNumber]}),i.jsx(HXe,{team:e}),c().length>0&&i.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["In lists: ",c().map(g=>g.name).join(", ")]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(GO,{teamNumber:e.teamNumber,teamStats:e,className:"h-auto"}),i.jsx(Cr,{label:"Add Team",value:s,availableOptions:f,onValueChange:m,placeholder:"Add to...",displayFormat:h,className:"w-20"})]})]})})},ZXe=({sortBy:e,onSortChange:t})=>{const n=dz.map(s=>s.value),r=s=>{const o=dz.find(l=>l.value===s);return(o==null?void 0:o.label)||s},a=s=>{t(s)};return i.jsx(Cr,{label:"Sort Teams By",value:e,availableOptions:n,onValueChange:a,placeholder:"Sort by...",displayFormat:r,buttonDisplayFormat:s=>`Sort By: ${r(s)}`})},iie=({teams:e,pickLists:t,alliances:n,searchFilter:r,sortBy:a,onSearchChange:s,onSortChange:o,onAddTeamToList:l,onAddTeamToAlliance:c})=>i.jsxs(_e,{className:"lg:col-span-1 max-h-screen",children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"flex items-center justify-between",children:["Available Teams",i.jsxs(Oe,{variant:"secondary",children:[e.length," teams"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(en,{placeholder:"Search teams...",value:r,onChange:u=>s(u.target.value)}),i.jsx(ZXe,{sortBy:a,onSortChange:o})]})]}),i.jsxs($e,{className:"space-y-2 max-h-10/12 overflow-y-auto",children:[e.map(u=>i.jsx(QXe,{team:u,pickLists:t,alliances:n,onAddTeamToList:l,onAddTeamToAlliance:c},u.teamNumber)),e.length===0&&i.jsx("div",{className:"flex flex-col text-center items-center justify-center py-8 text-muted-foreground",children:i.jsx("p",{children:"No teams found. Try adjusting your search or filters."})})]})]}),oie=({newListName:e,newListDescription:t,onNameChange:n,onDescriptionChange:r,onCreateList:a})=>i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Gc,{className:"w-5 h-5"}),"Create New Pick List"]})}),i.jsxs($e,{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsx(en,{placeholder:"List name...",value:e,onChange:s=>n(s.target.value)}),i.jsx(en,{placeholder:"Description (optional)...",value:t,onChange:s=>r(s.target.value)})]}),i.jsx(X,{onClick:a,className:"w-full",children:"Create List"})]})]});function hz(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function JXe({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const a=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=p.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=p.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=p.useRef(!1);p.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,h,m]=p.useMemo(()=>{const y=()=>{if(!l.current.element)return;const{left:x,top:w,width:S,height:j,bottom:k,right:N,x:P,y:E}=l.current.element.getBoundingClientRect(),R={left:x,top:w,width:S,height:j,bottom:k,right:N,x:P,y:E};l.current.element instanceof HTMLElement&&r&&(R.height=l.current.element.offsetHeight,R.width=l.current.element.offsetWidth),Object.freeze(R),d.current&&!net(l.current.lastBounds,R)&&o(l.current.lastBounds=R)};return[y,u?hz(y,u):y,c?hz(y,c):y]},[o,r,c,u]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",m,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function v(){l.current.element&&(l.current.resizeObserver=new a(m),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(y=>y.addEventListener("scroll",m,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const b=y=>{!y||y===l.current.element||(g(),l.current.element=y,l.current.scrollContainers=lie(y),v())};return eet(m,!!t),XXe(h),p.useEffect(()=>{g(),v()},[t,m,h]),p.useEffect(()=>g,[]),[b,s,f]}function XXe(e){p.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function eet(e,t){p.useEffect(()=>{if(t){const n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[e,t])}function lie(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:a}=window.getComputedStyle(e);return[n,r,a].some(s=>s==="auto"||s==="scroll")&&t.push(e),[...t,...lie(e.parentElement)]}const tet=["x","y","top","bottom","left","right","width","height"],net=(e,t)=>tet.every(n=>e[n]===t[n]);function cie({item:e,order:t,onCompleteItem:n,onRemoveItem:r,renderExtra:a,handleDrag:s,isExpanded:o,className:l}){const[c,u]=JXe(),[d,f]=p.useState(!1),[h]=p.useState(!0),m=SOe(),g=b=>{f(!0),m.start(b,{snapToCursor:!0}),s()},v=()=>{f(!1)};return i.jsx($a.div,{className:De("",l),children:i.jsxs("div",{className:"flex w-full items-center",children:[i.jsxs(EOe,{value:e,className:De("relative z-auto grow","h-full rounded-xl bg-background/40 mb-1","shadow-[0px_1px_0px_0px_hsla(0,0%,100%,.03)_inset,0px_0px_0px_1px_hsla(0,0%,100%,.03)_inset,0px_0px_0px_1px_rgba(0,0,0,.1),0px_2px_2px_0px_rgba(0,0,0,.1),0px_4px_4px_0px_rgba(0,0,0,.1),0px_8px_8px_0px_rgba(0,0,0,.1)]",e.checked?"cursor-not-allowed":"cursor-grab",e.checked&&!d?"w-7/10":"w-full"),initial:{opacity:0},animate:{opacity:1,height:u.height>0?u.height:void 0,transition:{type:"spring",bounce:0,duration:.4}},exit:{opacity:0,transition:{duration:.05,type:"spring",bounce:.1}},layout:!0,layoutId:`item-${e.id}`,dragListener:!e.checked,dragControls:m,onDragEnd:v,style:o?{zIndex:9999,marginTop:10,marginBottom:10,position:"relative",overflow:"hidden"}:{position:"relative",overflow:"hidden"},whileDrag:{zIndex:9999},children:[i.jsx("div",{ref:c,className:De("","z-20 "),children:i.jsxs($a.div,{layout:"position",className:"flex items-center justify-center ",children:[i.jsx(fd,{children:o?null:i.jsxs($a.div,{initial:{opacity:0,filter:"blur(4px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(4px)"},transition:{duration:.001},className:"flex  items-center space-x-2 ",children:[i.jsx(zX,{checked:e.checked,id:`checkbox-${e.id}`,"aria-label":"Mark to delete",onCheckedChange:()=>n(e.id),className:" ml-3 h-5 w-5 rounded-md border-white/20 data-[state=checked]:bg-black data-[state=checked]:text-red-200"}),i.jsx("p",{className:"font-mono text-xs pl-1 text-white/50",children:t+1}),i.jsx($a.div,{className:" px-1 min-w-[150px]",initial:{opacity:0,filter:"blur(4px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{bounce:.2,delay:e.checked?.2:0,type:"spring"},children:i.jsx("h4",{className:De("tracking-tighter text-base md:text-lg ",e.checked?"text-red-400":""),children:e.text})},`${e.checked}`)]})}),a&&a(e)]})}),i.jsx("div",{onPointerDown:h?g:void 0,style:{touchAction:"none"}})]},e.id),i.jsx(fd,{mode:"popLayout",children:e.checked?i.jsx($a.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0,transition:{delay:.17,duration:.17,type:"spring",bounce:.6},zIndex:5},exit:{opacity:0,x:-5,transition:{delay:0,duration:0,type:"spring",bounce:0}},className:"-ml-[1px] h-[1.5rem] w-3 rounded-l-none  rounded-r-none border-y border-r border-border/20 dark:border-background/5 dark:border-r-background/10 bg-background/40"}):null}),i.jsx(fd,{mode:"popLayout",children:e.checked?i.jsx($a.div,{layout:!0,initial:{opacity:0,x:-5,filter:"blur(4px)"},animate:{opacity:1,x:0,filter:"blur(0px)",transition:{delay:.3,duration:.15,type:"spring",bounce:.9}},exit:{opacity:0,filter:"blur(4px)",x:-10,transition:{delay:0,duration:.12}},className:"inset-0 z-0 border-spacing-1  rounded-r-xl rounded-l-sm border-r-2   border-r-red-300/60 bg-background/40 shadow-[0_1px_0_0_rgba(255,255,255,0.03)_inset,0_0_0_1px_rgba(255,255,255,0.03)_inset,0_0_0_1px_rgba(0,0,0,0.1),0_2px_2px_0_rgba(0,0,0,0.1),0_4px_4px_0_rgba(0,0,0,0.1),0_8px_8px_0_rgba(0,0,0,0.1)]",children:i.jsx("button",{className:"inline-flex bg-background/40 h-10 items-center justify-center whitespace-nowrap rounded-md px-3 text-sm font-medium  transition-colors duration-150   focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",onClick:()=>r(e.id),children:i.jsx(Qfe,{className:"h-4 w-4 text-red-400 transition-colors duration-150 fill-red-400/60 "})})}):null})]})},e.id)}cie.displayName="SortableListItem";function uie({items:e,setItems:t,onCompleteItem:n,renderItem:r}){return e?i.jsx(VRe,{children:i.jsx(NOe,{axis:"y",values:e,onReorder:t,className:"flex flex-col",children:i.jsx(fd,{children:e==null?void 0:e.map((a,s)=>r(a,s,n,o=>t(l=>l.filter(c=>c.id!==o))))})})}):null}uie.displayName="SortableList";const die=({pickList:e,availableTeams:t,alliances:n,canDelete:r,onDeleteList:a,onUpdateTeams:s,onAssignToAlliance:o})=>i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(We,{className:"flex items-center gap-2",children:[e.name,i.jsxs(Oe,{variant:"outline",children:[e.teams.length," teams"]})]}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),r&&i.jsx(X,{onClick:()=>a(e.id),variant:"outline",size:"sm",className:"text-red-400 hover:text-red-500",children:i.jsx(Vs,{className:"w-4 h-4"})})]})}),i.jsx($e,{children:e.teams.length===0?i.jsxs("div",{className:"flex flex-col text-center items-center justify-center py-8 text-muted-foreground",children:[i.jsx("p",{children:"No teams in this list yet"}),i.jsx("p",{className:"text-sm",children:"Add teams from the available teams panel"})]}):i.jsx(uie,{items:e.teams,setItems:l=>{typeof l=="function"?s(e.id,l(e.teams)):s(e.id,l)},onCompleteItem:l=>{const c=e.teams.map(u=>u.id===l?{...u,checked:!u.checked}:u);s(e.id,c)},renderItem:(l,c,u,d)=>{const f=l.teamNumber,h=t.find(m=>m.teamNumber===f);return i.jsx(cie,{item:l,order:c,onCompleteItem:u,onRemoveItem:d,handleDrag:()=>{},renderExtra:()=>i.jsxs("div",{className:"flex flex-1 justify-end px-2 py-2 gap-1",children:[i.jsx(Cr,{label:"Add to Alliance",value:"",availableOptions:n.map((m,g)=>`${g}`),onValueChange:m=>{m&&o(f,parseInt(m))},placeholder:"Add to Alliance",displayFormat:m=>`Alliance ${parseInt(m)+1}`,buttonDisplayFormat:m=>m?`Alliance ${parseInt(m)+1}`:"Add to Alliance",className:"h-8 w-fit"}),i.jsx(GO,{teamNumber:f,teamStats:h,variant:"ghost",size:"sm",className:"h-8"})]})},l.id)}})})]}),ret=({onInitialize:e})=>{const[t,n]=p.useState(8);return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Alliance Selection"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{className:"font-medium",children:"Number of alliances:"}),i.jsxs(Br,{value:t.toString(),onValueChange:r=>n(Number(r)),children:[i.jsx(Vr,{className:"w-20",children:i.jsx(oa,{})}),i.jsx(zr,{children:[4,6,8,12,16].map(r=>i.jsx(ot,{value:r.toString(),children:r},r))})]})]}),i.jsx(X,{onClick:()=>e(t),children:"Initialize Alliance Selection"})]})]})},aet=({alliance:e,availableTeams:t,selectedTeams:n,onUpdateTeam:r,onRemoveTeam:a,onRemoveAlliance:s})=>i.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"font-medium text-lg",children:e.allianceNumber})}),["captain","pick1","pick2","pick3"].map(o=>{const l=e[o];return i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cr,{label:`Alliance ${e.allianceNumber} ${o}`,value:l?String(l):"none",availableOptions:["none",...t.filter(c=>!n.includes(c.teamNumber)||c.teamNumber===l).map(c=>String(c.teamNumber))],onValueChange:c=>r(e.id,o,c==="none"?null:Number(c)),placeholder:"Team",displayFormat:c=>c==="none"?"None":c,className:"w-28"}),l&&i.jsx(X,{size:"sm",variant:"ghost",onClick:()=>a(e.id,o),className:"h-6 w-6 p-0 shrink-0",children:i.jsx(Wa,{className:"h-3 w-3 text-red-400"})})]})},o)}),i.jsx("td",{className:"p-3",children:i.jsx(X,{size:"sm",variant:"ghost",onClick:()=>s(e.id),className:"text-red-400 hover:text-red-500",title:"Remove Alliance",children:i.jsx(Vs,{className:"h-4 w-4"})})})]}),set=({alliances:e,availableTeams:t,selectedTeams:n,onUpdateTeam:r,onRemoveTeam:a,onRemoveAlliance:s,onAddAlliance:o,onConfirmAlliances:l})=>i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx(We,{children:"Alliance Selection"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs(X,{onClick:l,size:"sm",variant:"default",children:[i.jsx(Al,{className:"h-4 w-4 mr-2"}),"Confirm Alliances"]}),i.jsxs(X,{onClick:o,size:"sm",variant:"outline",children:[i.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Add Alliance"]})]})]})}),i.jsx($e,{children:i.jsx("div",{className:"overflow-x-auto",onTouchStart:c=>c.stopPropagation(),onTouchMove:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left p-3 font-semibold min-w-[100px]",children:"Alliance"}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[120px]",children:i.jsx("div",{className:"flex items-center gap-2",children:"Captain"})}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[120px]",children:i.jsx("div",{className:"flex items-center gap-2",children:"Pick 1"})}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[120px]",children:i.jsx("div",{className:"flex items-center gap-2",children:"Pick 2"})}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[120px]",children:i.jsx("div",{className:"flex items-center gap-2",children:"Pick 3"})}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[80px]",children:"Actions"})]})}),i.jsx("tbody",{children:e.map(c=>i.jsx(aet,{alliance:c,availableTeams:t,selectedTeams:n,onUpdateTeam:r,onRemoveTeam:a,onRemoveAlliance:s},c.id))})]})})})]}),iet=({backups:e,availableTeams:t,selectedTeams:n,onUpdateBackups:r})=>{const[a,s]=p.useState("placeholder"),o=()=>t.filter(m=>!n.includes(m.teamNumber)),l=m=>{if(m==="placeholder"||!m)return;const v={teamNumber:Number(m),rank:e.length+1};r([...e,v]),s("placeholder")},c=m=>{const v=e.filter(b=>b.teamNumber!==m).map((b,y)=>({...b,rank:y+1}));r(v)},u=m=>t.find(g=>g.teamNumber===m),d=()=>["placeholder",...o().map(g=>String(g.teamNumber))],f=m=>m==="placeholder"?"Select a team...":m,h=o();return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Backup Teams"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Cr,{label:"Add Backup Team",value:a,availableOptions:d(),onValueChange:m=>{s(m),l(m)},placeholder:"Add backup team",displayFormat:f,className:"w-48"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.length," teams available"]})]}),e.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map(m=>{const g=u(m.teamNumber);return i.jsx(_e,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"secondary",children:m.rank}),i.jsxs("span",{className:"font-medium",children:["Team ",m.teamNumber]})]})}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(GO,{teamNumber:m.teamNumber,teamStats:g,className:"h-auto"}),i.jsx(X,{size:"sm",variant:"ghost",onClick:()=>c(m.teamNumber),className:"text-red-400 hover:text-red-500",children:i.jsx(Vs,{className:"h-4 w-4"})})]})]})},m.teamNumber)})}),e.length===0&&i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No backup teams selected"})]})})]})},fie=({alliances:e,backups:t,availableTeams:n,onUpdateAlliances:r,onUpdateBackups:a})=>{const s=()=>{const m=[];return e.forEach(g=>{g.captain&&m.push(g.captain),g.pick1&&m.push(g.pick1),g.pick2&&m.push(g.pick2),g.pick3&&m.push(g.pick3)}),t.forEach(g=>{g.teamNumber&&m.push(g.teamNumber)}),m},o=(m,g,v)=>{const b=e.map(y=>y.id===m?{...y,[g]:v}:y);r(b)},l=(m,g)=>{o(m,g,null)},c=()=>{const m={id:Date.now(),allianceNumber:e.length+1,captain:null,pick1:null,pick2:null,pick3:null};r([...e,m])},u=m=>{if(e.length<=1){le.error("Must have at least one alliance");return}const v=e.filter(b=>b.id!==m).map((b,y)=>({...b,allianceNumber:y+1}));r(v)},d=m=>{const g=[];for(let v=1;v<=m;v++)g.push({id:Date.now()+v,allianceNumber:v,captain:null,pick1:null,pick2:null,pick3:null});r(g)},f=()=>{const m=e.filter(g=>g.captain&&g.pick1);if(m.length===0){le.error("No completed alliances to confirm (need at least Captain and Pick 1)");return}localStorage.setItem("confirmedAlliances",JSON.stringify(m)),le.success(`${m.length} alliance${m.length===1?"":"s"} confirmed and saved`)},h=s();return e.length===0?i.jsx(ret,{onInitialize:d}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(set,{alliances:e,availableTeams:n,selectedTeams:h,onUpdateTeam:o,onRemoveTeam:l,onRemoveAlliance:u,onAddAlliance:c,onConfirmAlliances:f}),i.jsx(iet,{backups:t,availableTeams:n,selectedTeams:h,onUpdateBackups:a})]})},oet=({activeTab:e,showAllianceSelection:t,filteredAndSortedTeams:n,pickLists:r,alliances:a,backups:s,availableTeams:o,newListName:l,newListDescription:c,searchFilter:u,sortBy:d,canDeleteAll:f=!0,onTabChange:h,onSearchChange:m,onSortChange:g,onAddTeamToList:v,onAddTeamToAlliance:b,onUpdateAlliances:y,onUpdateBackups:x,onNameChange:w,onDescriptionChange:S,onCreateList:j,onDeleteList:k,onUpdateTeams:N,onAssignToAlliance:P,onExport:E,onImport:R,onToggleAllianceSelection:O})=>i.jsx("div",{className:"xl:hidden",children:i.jsxs(pu,{value:e,onValueChange:h,enableSwipe:!0,className:"w-full",children:[i.jsxs(gu,{className:`grid w-full ${t?"grid-cols-3":"grid-cols-2"}`,children:[i.jsx(gn,{value:"teams",children:"Available Teams"}),t&&i.jsx(gn,{value:"alliances",children:"Alliances"}),i.jsx(gn,{value:"lists",children:"Pick Lists"})]}),i.jsx("div",{className:"mt-4",children:i.jsx(sie,{onExport:E,onImport:R,showAllianceSelection:t,onToggleAllianceSelection:O})}),i.jsx(In,{value:"teams",children:i.jsx(iie,{teams:n,pickLists:r,alliances:a,searchFilter:u,sortBy:d,onSearchChange:m,onSortChange:g,onAddTeamToList:v,onAddTeamToAlliance:b})}),t&&i.jsx(In,{value:"alliances",children:i.jsx(fie,{alliances:a,backups:s,availableTeams:o,onUpdateAlliances:y,onUpdateBackups:x})}),i.jsxs(In,{value:"lists",className:"space-y-6",children:[i.jsx(oie,{newListName:l,newListDescription:c,onNameChange:w,onDescriptionChange:S,onCreateList:j}),r.length===0?i.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[i.jsx("div",{className:"text-muted-foreground mb-4",children:i.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),i.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No Pick Lists"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first pick list to start organizing teams for alliance selection."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"You can also import existing pick lists using the Import button above."})]}):r.map(G=>i.jsx(die,{pickList:G,availableTeams:o,alliances:a,canDelete:f,onDeleteList:k,onUpdateTeams:N,onAssignToAlliance:P},G.id))]})]})}),cet=({showAllianceSelection:e,filteredAndSortedTeams:t,pickLists:n,alliances:r,backups:a,availableTeams:s,newListName:o,newListDescription:l,searchFilter:c,sortBy:u,canDeleteAll:d=!0,onSearchChange:f,onSortChange:h,onAddTeamToList:m,onAddTeamToAlliance:g,onUpdateAlliances:v,onUpdateBackups:b,onNameChange:y,onDescriptionChange:x,onCreateList:w,onDeleteList:S,onUpdateTeams:j,onAssignToAlliance:k})=>i.jsx("div",{className:"hidden xl:block",children:i.jsxs("div",{className:`grid gap-6 ${e?"grid-cols-3":"grid-cols-2"}`,children:[i.jsx(iie,{teams:t,pickLists:n,alliances:r,searchFilter:c,sortBy:u,onSearchChange:f,onSortChange:h,onAddTeamToList:m,onAddTeamToAlliance:g}),i.jsxs("div",{className:`space-y-6 ${e?"col-span-2":"col-span-1"}`,children:[e&&i.jsx(fie,{alliances:r,backups:a,availableTeams:s,onUpdateAlliances:v,onUpdateBackups:b}),i.jsx(oie,{newListName:o,newListDescription:l,onNameChange:y,onDescriptionChange:x,onCreateList:w}),n.length===0?i.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[i.jsx("div",{className:"text-muted-foreground mb-4",children:i.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),i.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No Pick Lists"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first pick list to start organizing teams for alliance selection."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"You can also import existing pick lists using the Import button above."})]}):n.map(N=>i.jsx(die,{pickList:N,availableTeams:s,alliances:r,canDelete:d,onDeleteList:S,onUpdateTeams:j,onAssignToAlliance:k},N.id))]})]})}),uet=(e,t)=>t.trim()?e.filter(n=>String(n.teamNumber).toLowerCase().includes(t.toLowerCase())):e,det=(e,t)=>t.teams.some(n=>n.teamNumber===e),fet=e=>({id:Date.now()+Math.random(),text:`Team ${e}`,teamNumber:e,checked:!1}),mz=()=>Array.from({length:8},(e,t)=>({id:t+1,allianceNumber:t+1,captain:null,pick1:null,pick2:null,pick3:null})),pz=()=>({id:1,name:"Primary Pick List",description:"Main alliance selection priority",teams:[]}),het=e=>{const{teamStats:t,isLoading:n}=IO(e),[r,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(""),[f,h]=p.useState(""),[m,g]=p.useState(""),[v,b]=p.useState("teamNumber"),[y,x]=p.useState("teams"),[w,S]=p.useState(!0),[j,k]=p.useState(!1);p.useEffect(()=>{const M=localStorage.getItem("pickLists");if(M)try{a(JSON.parse(M))}catch{a([pz()])}else a([pz()]);k(!0)},[]),p.useEffect(()=>{j&&localStorage.setItem("pickLists",JSON.stringify(r))},[r,j]),p.useEffect(()=>{const M=localStorage.getItem("alliances");if(M)try{o(JSON.parse(M))}catch{o(mz())}else o(mz())},[]),p.useEffect(()=>{s.length>0&&localStorage.setItem("alliances",JSON.stringify(s))},[s]),p.useEffect(()=>{const M=localStorage.getItem("backups");if(M)try{c(JSON.parse(M))}catch{c([])}},[]),p.useEffect(()=>{l.length>0&&localStorage.setItem("backups",JSON.stringify(l))},[l]);const N=p.useCallback((M,F)=>{const W=YXe(F);return[...M].sort((Z,H)=>{if(!W){if(Z.matchCount===0&&H.matchCount>0)return 1;if(H.matchCount===0&&Z.matchCount>0)return-1;if(Z.matchCount===0&&H.matchCount===0)return Z.teamNumber-H.teamNumber}const ae=fz(Z,F),fe=fz(H,F);return W?ae-fe:fe-ae})},[]),P=p.useMemo(()=>N(uet(t,m),v),[t,m,v,N]),E=p.useCallback((M,F)=>{const W=M.teamNumber,Z=r.find(ae=>ae.id===F);if(Z&&det(W,Z)){le.error(`Team ${W} is already in ${Z.name}`);return}const H=fet(W);a(ae=>ae.map(fe=>fe.id===F?{...fe,teams:[...fe.teams,H]}:fe)),le.success(`Team ${W} added to ${(Z==null?void 0:Z.name)||"list"}`)},[r]),R=p.useCallback(()=>{if(!u.trim()){le.error("Please enter a list name");return}const M={id:Date.now(),name:u.trim(),description:f.trim(),teams:[]};a(F=>[...F,M]),d(""),h(""),le.success("New pick list created")},[u,f]),O=p.useCallback(M=>{a(F=>F.filter(W=>W.id!==M)),le.success("Pick list deleted")},[]),G=p.useCallback((M,F)=>{a(W=>W.map(Z=>Z.id===M?{...Z,teams:F}:Z))},[]),te=p.useCallback(()=>{const M=JSON.stringify(r,null,2),F="data:application/json;charset=utf-8,"+encodeURIComponent(M),W=document.createElement("a");W.setAttribute("href",F),W.setAttribute("download","pick-lists.json"),W.click(),le.success("Pick lists exported")},[r]),V=p.useCallback(M=>{var Z;const F=(Z=M.target.files)==null?void 0:Z[0];if(!F)return;const W=new FileReader;W.onload=H=>{var ae;try{const fe=(ae=H.target)==null?void 0:ae.result;if(!fe){le.error("Error reading file");return}const we=JSON.parse(fe);if(!Array.isArray(we)){le.error("Invalid file format");return}const Pe=we.filter(ne=>typeof ne=="object"&&ne!==null&&"id"in ne&&"name"in ne&&"teams"in ne&&Array.isArray(ne.teams));if(Pe.length===0){le.error("No valid pick lists found");return}const me=Math.max(0,...r.map(ne=>ne.id)),Ue=Pe.map((ne,je)=>({...ne,id:me+je+1}));a(Ue),le.success(`${Pe.length} pick lists imported`),M.target.value=""}catch{le.error("Error importing pick lists"),M.target.value=""}},W.readAsText(F)},[r]),z=p.useCallback((M,F)=>{const W=s.find(ae=>ae.id===F);if(!W)return;let Z=null;if(W.captain?W.pick1?W.pick2?W.pick3||(Z="pick3"):Z="pick2":Z="pick1":Z="captain",!Z){le.error(`Alliance ${W.allianceNumber} is full`);return}o(ae=>ae.map(fe=>fe.id===F?{...fe,[Z]:M}:fe));const H={captain:"Captain",pick1:"Pick 1",pick2:"Pick 2",pick3:"Pick 3"};le.success(`Team ${M} assigned as ${H[Z]} of Alliance ${W.allianceNumber}`)},[s]),$=p.useCallback((M,F)=>{const W=s[F];if(!W)return;let Z=null;if(W.captain?W.pick1?W.pick2?W.pick3||(Z="pick3"):Z="pick2":Z="pick1":Z="captain",!Z){le.error(`Alliance ${W.allianceNumber} is full`);return}o(ae=>ae.map((fe,we)=>we===F?{...fe,[Z]:M}:fe)),a(ae=>ae.map(fe=>({...fe,teams:fe.teams.filter(we=>we.teamNumber!==M)})));const H={captain:"Captain",pick1:"Pick 1",pick2:"Pick 2",pick3:"Pick 3"};le.success(`Team ${M} added to Alliance ${W.allianceNumber} as ${H[Z]}`)},[s]),U=p.useCallback(()=>{const M=!w;S(M),!M&&y==="alliances"&&x("teams")},[w,y]);return{availableTeams:t,filteredAndSortedTeams:P,pickLists:r,alliances:s,backups:l,isLoading:n,newListName:u,newListDescription:f,searchFilter:m,sortBy:v,activeTab:y,showAllianceSelection:w,setNewListName:d,setNewListDescription:h,setSearchFilter:g,setSortBy:b,setActiveTab:x,setAlliances:o,setBackups:c,addTeamToList:E,createNewList:R,deleteList:O,updateListTeams:G,exportPickLists:te,importPickLists:V,addTeamToAlliance:z,assignToAllianceAndRemove:$,handleToggleAllianceSelection:U}},met=()=>{const{pickLists:e,alliances:t,backups:n,availableTeams:r,newListName:a,newListDescription:s,searchFilter:o,sortBy:l,activeTab:c,showAllianceSelection:u,filteredAndSortedTeams:d,setNewListName:f,setNewListDescription:h,setSearchFilter:m,setSortBy:g,setActiveTab:v,setAlliances:b,setBackups:y,addTeamToList:x,createNewList:w,deleteList:S,updateListTeams:j,exportPickLists:k,importPickLists:N,addTeamToAlliance:P,assignToAllianceAndRemove:E,handleToggleAllianceSelection:R}=het();return i.jsx("div",{className:"min-h-screen w-full flex flex-col px-4 pt-12 pb-24",children:i.jsxs("div",{className:"flex flex-col max-w-7xl w-full mx-auto flex-1 pb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Pick Lists"}),i.jsx("p",{className:"text-muted-foreground pb-2",children:"Create and manage alliance selection pick lists"}),i.jsx("div",{className:"hidden xl:block",children:i.jsx(sie,{onExport:k,onImport:N,showAllianceSelection:u,onToggleAllianceSelection:R})}),i.jsx(oet,{activeTab:c,showAllianceSelection:u,filteredAndSortedTeams:d,pickLists:e,alliances:t,backups:n,availableTeams:r,newListName:a,newListDescription:s,searchFilter:o,sortBy:l,onTabChange:v,onSearchChange:m,onSortChange:g,onAddTeamToList:x,onAddTeamToAlliance:u?P:void 0,onUpdateAlliances:b,onUpdateBackups:y,onNameChange:f,onDescriptionChange:h,onCreateList:w,onDeleteList:S,onUpdateTeams:j,onAssignToAlliance:E,onExport:k,onImport:N,onToggleAllianceSelection:R}),i.jsx(cet,{showAllianceSelection:u,filteredAndSortedTeams:d,pickLists:e,alliances:t,backups:n,availableTeams:r,newListName:a,newListDescription:s,searchFilter:o,sortBy:l,onSearchChange:m,onSortChange:g,onAddTeamToList:x,onAddTeamToAlliance:u?P:void 0,onUpdateAlliances:b,onUpdateBackups:y,onNameChange:f,onDescriptionChange:h,onCreateList:w,onDeleteList:S,onUpdateTeams:j,onAssignToAlliance:E})]})})},pet=()=>{const{currentScout:e,isLoading:t,refreshScout:n}=ij(),[r,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState(0);p.useEffect(()=>{(async()=>{try{const f=await Jy();a(f)}catch(f){console.error("Error loading scouts:",f)}finally{o(!1)}})()},[]),p.useEffect(()=>{(async()=>{if(e!=null&&e.name)try{const f=await Id(e.name);c(f.totalStakesFromAchievements)}catch(f){console.error("Error loading achievement stakes:",f),c(0)}else c(0)})()},[e==null?void 0:e.name]);const u=d=>{localStorage.setItem("currentScout",d),window.dispatchEvent(new Event("scoutChanged"))};return t||s?i.jsx(_e,{className:"w-full max-w-md",children:i.jsx($e,{className:"flex items-center justify-center p-6",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):i.jsxs(_e,{className:"w-full max-w-md",children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5 text-blue-500"}),"Scout Selection"]}),i.jsx(zn,{children:"Select a scout to view their stats and achievements"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Select Scout:"}),i.jsx(Cr,{label:"Select Scout",value:(e==null?void 0:e.name)||"",availableOptions:r.map(d=>d.name),onValueChange:u,placeholder:r.length>0?"Choose a scout...":"No scouts available",displayFormat:d=>d,className:"w-full"})]}),e?i.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-semibold text-lg",children:e.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scouting Game Stats"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.jsxs("div",{className:"col-span-2 text-center p-4 bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg border-2 border-purple-200 dark:border-purple-700",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Dv,{className:"h-5 w-5 text-purple-500"}),i.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:"Total Stakes"})]}),i.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:e.stakes+l})]})}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"col-span-2 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(pr,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Prediction Stakes"})]}),i.jsx("span",{className:"text-xl font-bold",children:e.stakes})]}),i.jsxs("div",{className:"col-span-2 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx($h,{className:"h-4 w-4 text-emerald-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Achievement Stakes"})]}),i.jsx("span",{className:"text-xl font-bold",children:l})]})]}),i.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[i.jsxs("div",{className:"col-span-3 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Pd,{className:"h-4 w-4 text-blue-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Predictions"})]}),i.jsx("span",{className:"text-lg font-bold",children:e.totalPredictions})]}),i.jsxs("div",{className:"col-span-3 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Ed,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Accuracy"})]}),i.jsxs("span",{className:"text-lg font-bold",children:[e?Hm(e):0,"%"]})]}),i.jsxs("div",{className:"col-span-3 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Mde,{className:"h-4 w-4 text-orange-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Current Streak"})]}),i.jsx("span",{className:"text-lg font-bold",children:e.currentStreak})]}),i.jsxs("div",{className:"col-span-3 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx($h,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-xs font-medium",children:"Best Streak"})]}),i.jsx("span",{className:"text-lg font-bold",children:e.longestStreak})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs(Oe,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx($h,{className:"h-3 w-3"}),"Correct: ",e.correctPredictions]}),i.jsx(X,{onClick:n,variant:"ghost",size:"sm",className:"h-8 px-2",children:"Refresh"})]})]}):i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(Vw,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Select a scout to view their stats"})]})]})]})},get=({scoutName:e,onViewAll:t,onDataRefresh:n})=>{const[r,a]=p.useState(null),[s,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(!1),f=async()=>{d(!0);try{await NR();const[h,m]=await Promise.all([Id(e),MF(e,2)]);a(h),o(m),n&&n()}catch(h){console.error(" Error during achievement backfill:",h)}finally{d(!1)}};return p.useEffect(()=>{(async()=>{if(e){c(!0);try{const[m,g]=await Promise.all([Id(e),MF(e,2)]);a(m),o(g)}catch(m){console.error("Error loading achievement overview:",m)}finally{c(!1)}}})()},[e]),l||!r?i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(pr,{className:"h-5 w-5"}),"Achievements"]})}),i.jsx($e,{children:i.jsx("div",{className:"flex items-center justify-center h-24",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})})})]}):i.jsxs(_e,{className:"h-full",children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(pr,{className:"h-5 w-5"}),"Achievements"]}),t&&i.jsxs(X,{variant:"ghost",size:"sm",onClick:t,children:["View All ",i.jsx(My,{className:"h-4 w-4 ml-1"})]})]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.unlockedCount}),i.jsx("div",{className:"text-xs text-gray-500",children:"Unlocked"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.completionPercentage,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Complete"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:["+",r.totalStakesFromAchievements]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Stakes"})]})]}),r.recentAchievements.length>0&&r.recentAchievements[0]&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1",children:[i.jsx(Dv,{className:"h-4 w-4"}),"Recent Achievement"]}),(()=>{const h=r.recentAchievements[0];return h?i.jsx("div",{className:"p-3 rounded-lg bg-linear-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 border border-yellow-200 dark:border-yellow-800",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:h.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-sm",children:h.name}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:h.description})]}),i.jsx(Oe,{variant:"secondary",className:`text-xs ${jR[h.tier].textColor}`,children:h.tier})]})}):null})()]}),s.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1",children:[i.jsx(Pd,{className:"h-4 w-4"}),"Next Goals"]}),i.jsx("div",{className:"space-y-2",children:s.map(h=>i.jsx("div",{className:"p-2 rounded bg-gray-50 dark:bg-gray-800 border",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:h.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm truncate",children:h.name}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:h.description}),h.progress>0&&i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(sp,{value:h.progress,className:"flex-1 h-1.5"}),i.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(h.progress),"%"]})]})]}),i.jsxs(Oe,{variant:"outline",className:"text-xs",children:["+",h.stakesReward]})]})},h.id))})]}),i.jsx("div",{className:"pt-2",children:i.jsxs(X,{variant:"outline",size:"sm",onClick:f,disabled:u,className:"w-full flex items-center justify-center gap-2",children:[i.jsx(Ul,{className:`h-4 w-4 ${u?"animate-spin":""}`}),u?"Checking Achievements...":"Check Achievements"]})}),r.unlockedCount===0&&s.length===0&&i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(pr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Start making predictions to unlock achievements!"})]})]})]})};function vet({chartType:e,chartData:t,lineChartData:n,scouts:r,chartMetric:a,selectedMetricLabel:s}){const o={value:{label:s,color:"hsl(210, 70%, 50%)"}};return e==="bar"?i.jsx(jS,{config:o,className:"h-[400px] w-full aspect-auto!",children:i.jsx("div",{className:"relative h-full w-full min-h-0 min-w-0",children:i.jsx("div",{className:"absolute inset-0",children:i.jsx(e6,{width:"100%",height:"100%",children:i.jsxs(VT,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(vd,{strokeDasharray:"3 3"}),i.jsx(yd,{dataKey:"name",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),i.jsx(xd,{tick:{fontSize:12}}),i.jsx(uv,{content:({active:l,payload:c})=>{if(l&&c&&c.length){const u=c[0].payload,d=u.scout,f=Hm(d);return i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border rounded shadow-lg",children:[i.jsx("p",{className:"font-semibold",children:d.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s,": ",u.value,a==="accuracy"?"%":""]}),i.jsxs("div",{className:"mt-2 text-xs space-y-1",children:[i.jsxs("p",{children:["Stakes: ",d.stakes]}),i.jsxs("p",{children:["Predictions: ",d.totalPredictions]}),i.jsxs("p",{children:["Accuracy: ",f,"%"]}),i.jsxs("p",{children:["Current Streak: ",d.currentStreak]}),i.jsxs("p",{children:["Best Streak: ",d.longestStreak]})]})]})}return null}}),i.jsx(Eh,{dataKey:"value",fill:"var(--color-value)",radius:[4,4,0,0],children:t.map((l,c)=>i.jsx(_m,{fill:`hsl(${210+c*15}, 70%, 50%)`},`cell-${c}`))})]})})})})}):i.jsx(jS,{config:o,className:"h-[400px] w-full aspect-auto!",children:i.jsx("div",{className:"relative h-full w-full min-h-0 min-w-0",children:i.jsx("div",{className:"absolute inset-0",children:i.jsx(e6,{width:"100%",height:"100%",children:i.jsxs(Nse,{data:n,margin:{top:50,right:30,left:20,bottom:40},children:[i.jsx(vd,{strokeDasharray:"3 3"}),i.jsx(yd,{dataKey:"matchNumber",tick:{fontSize:12},label:{value:"Match Number",position:"insideBottom",offset:-5}}),i.jsx(xd,{tick:{fontSize:12}}),i.jsx(uv,{content:({active:l,payload:c,label:u})=>l&&c&&c.length?i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border rounded shadow-lg",children:[i.jsxs("p",{className:"font-semibold",children:["Match ",u]}),c.map((d,f)=>i.jsxs("p",{className:"text-sm",style:{color:d.color},children:[d.dataKey,": ",d.value,a==="accuracy"?"%":""]},f))]}):null}),i.jsx(Wte,{verticalAlign:"top",height:36,wrapperStyle:{paddingBottom:"10px"}}),r.slice(0,6).map((l,c)=>i.jsx(xS,{type:"monotone",dataKey:l.name,stroke:`hsl(${210+c*50}, 70%, 50%)`,strokeWidth:2,dot:{r:3},connectNulls:!1},l.name))]})})})})})}function yet({chartData:e,chartMetric:t,selectedMetricLabel:n}){return i.jsx("div",{className:"w-full overflow-x-auto",children:i.jsxs(Gse,{children:[i.jsx(Wse,{children:i.jsxs(Th,{children:[i.jsx(ho,{className:"w-8",children:"#"}),i.jsx(ho,{className:"min-w-24",children:"Scout Name"}),i.jsx(ho,{className:"text-right min-w-16 font-bold",children:n}),t!=="stakes"&&t!=="totalStakes"&&i.jsx(ho,{className:"text-right min-w-16",children:"Stakes"}),t!=="totalPredictions"&&i.jsx(ho,{className:"text-right min-w-20",children:"Predictions"}),t!=="correctPredictions"&&i.jsx(ho,{className:"text-right min-w-16",children:"Correct"}),t!=="accuracy"&&i.jsx(ho,{className:"text-right min-w-16",children:"Accuracy"}),t!=="currentStreak"&&i.jsx(ho,{className:"text-right min-w-20",children:"Current Streak"}),t!=="longestStreak"&&i.jsx(ho,{className:"text-right min-w-20",children:"Best Streak"})]})}),i.jsx(qse,{children:e.map((r,a)=>{const s=r.scout,o=Hm(s);return i.jsxs(Th,{children:[i.jsx(ai,{className:"font-medium",children:i.jsx(Oe,{variant:a>=3?"secondary":"default",className:a===0?"bg-yellow-500 text-white hover:bg-yellow-600":a===1?"bg-gray-400 text-black hover:bg-gray-500":a===2?"bg-amber-600 text-white hover:bg-amber-700":"",children:a+1})}),i.jsx(ai,{className:"font-medium",children:s.name}),i.jsx(ai,{className:"text-right font-bold text-primary",children:t==="accuracy"?`${r.value}%`:r.value}),t!=="stakes"&&t!=="totalStakes"&&i.jsx(ai,{className:"text-right",children:s.stakes}),t!=="totalPredictions"&&i.jsx(ai,{className:"text-right",children:s.totalPredictions}),t!=="correctPredictions"&&i.jsx(ai,{className:"text-right",children:s.correctPredictions}),t!=="accuracy"&&i.jsx(ai,{className:"text-right",children:i.jsxs("span",{className:o>=70?"text-green-600 dark:text-green-400":o>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",children:[o,"%"]})}),t!=="currentStreak"&&i.jsx(ai,{className:"text-right",children:s.currentStreak}),t!=="longestStreak"&&i.jsx(ai,{className:"text-right",children:s.longestStreak})]},s.name)})})]})})}const xet={Trophy:pr,Target:Pd,TrendingUp:Ed,Award:$h};function bet({loading:e,chartData:t,lineChartData:n,scouts:r,chartMetric:a,setChartMetric:s,chartType:o,setChartType:l,metricOptions:c}){const u=c.find(f=>f.key===a),d=u!=null&&u.icon?xet[u.icon]:pr;return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex flex-col w-full justify-between md:flex-row items-start md:items-center gap-4",children:[i.jsxs("div",{className:"flex flex-col w-full",children:[i.jsxs(We,{className:"flex items-start gap-2 pb-2",children:[i.jsx(d,{className:"h-5 w-5"}),"Scout ",o==="table"?"Statistics":"Leaderboard"]}),i.jsx(zn,{className:"px-4",children:o==="table"?`Detailed scout statistics sorted by ${u==null?void 0:u.label.toLowerCase()}`:`Top performing scouts by ${u==null?void 0:u.label.toLowerCase()}`})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-end gap-2 w-full",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"whitespace-nowrap",children:"Metric:"}),i.jsx(Cr,{label:"Select Metric",value:a,availableOptions:c.map(f=>f.key),onValueChange:f=>s(f),placeholder:"Select metric",displayFormat:f=>{var h;return((h=c.find(m=>m.key===f))==null?void 0:h.label)||f},className:"w-auto max-w-40"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"whitespace-nowrap",children:"View:"}),i.jsx(Cr,{label:"Select View Type",value:o,availableOptions:["bar","line","table"],onValueChange:f=>l(f),placeholder:"Select view type",displayFormat:f=>{switch(f){case"bar":return"Bar Chart";case"line":return"Line Chart";case"table":return"Table";default:return f}},className:"w-auto max-w-32"})]})]})]})}),i.jsx($e,{children:e?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading scout data..."})]})}):t.length===0?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(pr,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No scout data available"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Create scouts and make predictions to see the leaderboard"})]})}):i.jsx(i.Fragment,{children:o==="table"?i.jsx(yet,{chartData:t,chartMetric:a,selectedMetricLabel:(u==null?void 0:u.label)||"Value"}):i.jsx(vet,{chartType:o,chartData:t,lineChartData:n,scouts:r,chartMetric:a,selectedMetricLabel:(u==null?void 0:u.label)||"Value"})})})]})}function wet({scouts:e}){const t=e.reduce((a,s)=>a+s.totalPredictions,0),n=e.reduce((a,s)=>a+s.stakes,0),r=e.length>0?Math.round(e.reduce((a,s)=>a+Hm(s),0)/e.length):0;return i.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(_e,{children:[i.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(We,{className:"text-sm font-medium",children:"Total Scouts"}),i.jsx(Ife,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx($e,{children:i.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),i.jsxs(_e,{children:[i.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(We,{className:"text-sm font-medium",children:"Total Predictions"}),i.jsx(Jfe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx($e,{children:i.jsx("div",{className:"text-2xl font-bold",children:t})})]}),i.jsxs(_e,{children:[i.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(We,{className:"text-sm font-medium",children:"Total Stakes"}),i.jsx($h,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx($e,{children:i.jsx("div",{className:"text-2xl font-bold",children:n})})]}),i.jsxs(_e,{children:[i.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(We,{className:"text-sm font-medium",children:"Avg Accuracy"}),i.jsx(Pd,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx($e,{children:i.jsxs("div",{className:"text-2xl font-bold",children:[r,"%"]})})]})]})}function Cet(){const[e,t]=p.useState([]),[n,r]=p.useState({}),[a,s]=p.useState(!0),[o,l]=p.useState("totalStakes"),[c,u]=p.useState("bar"),d=[{key:"totalStakes",label:"Total Stakes",icon:"Trophy"},{key:"stakes",label:"Prediction Stakes",icon:"Trophy"},{key:"totalPredictions",label:"Total Predictions",icon:"Target"},{key:"correctPredictions",label:"Correct Predictions",icon:"Award"},{key:"accuracy",label:"Accuracy %",icon:"TrendingUp"},{key:"currentStreak",label:"Current Streak",icon:"TrendingUp"},{key:"longestStreak",label:"Best Streak",icon:"Award"}],f=async()=>{s(!0);try{const g=await Jy();t(g);const v={};for(const b of g)try{const y=await Id(b.name);v[b.name]=y.totalStakesFromAchievements}catch(y){console.error(`Error loading achievement stats for ${b.name}: `,y),v[b.name]=0}r(v),Lh.trackEvent("scout_dashboard_loaded",{scoutCount:g.length})}catch(g){console.error(" Error loading scout data:",g)}finally{s(!1)}};p.useEffect(()=>{f()},[]);const h=p.useMemo(()=>e.map(g=>{let v;switch(o){case"accuracy":v=Hm(g);break;case"totalStakes":{const b=g.stakes,y=n[g.name]||0;v=b+y,g.name==="Riley Davis"&&console.log(" Riley Davis Stakes Debug: ",{predictionStakes:b,achievementStakesValue:y,totalValue:v,achievementStakesObject:n});break}default:v=g[o]}return{name:g.name,value:v,scout:g}}).sort((g,v)=>v.value-g.value).slice(0,12),[e,o,n]),m=p.useMemo(()=>{if(c!=="line"||e.length===0)return[];const g=Math.max(...e.map(b=>b.totalPredictions)),v=[];for(let b=1;b<=Math.min(g,20);b++){const y={matchNumber:b};e.slice(0,6).forEach(x=>{if(x.totalPredictions>=b){let w;switch(o){case"accuracy":w=Math.min(100,x.correctPredictions/b*100);break;case"stakes":w=Math.floor(x.stakes/x.totalPredictions*b);break;case"totalStakes":{const S=Math.floor(x.stakes/x.totalPredictions*b),j=n[x.name]||0;w=S+j;break}case"currentStreak":w=b===x.totalPredictions?x.currentStreak:0;break;case"longestStreak":w=Math.floor(x.longestStreak/x.totalPredictions*b);break;default:w=Math.floor(x[o]/x.totalPredictions*b)}y[x.name]=w}}),v.push(y)}return v},[e,o,c,n]);return{scouts:e,achievementStakes:n,loading:a,chartMetric:o,setChartMetric:l,chartType:c,setChartType:u,metricOptions:d,chartData:h,lineChartData:m,loadScoutData:f}}const jet=()=>{const{currentScout:e}=ij(),t=zo(),{scouts:n,loading:r,chartMetric:a,setChartMetric:s,chartType:o,setChartType:l,metricOptions:c,chartData:u,lineChartData:d,loadScoutData:f}=Cet();return i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6",children:[i.jsx("div",{className:"text-start space-y-2",children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Scout Management Dashboard"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitor scout performance and leaderboards"})]})})}),i.jsx(bet,{loading:r,chartData:u,lineChartData:d,scouts:n,chartMetric:a,setChartMetric:s,chartType:o,setChartType:l,metricOptions:c}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-6",children:[i.jsx("div",{className:"lg:col-span-2 flex justify-center lg:justify-start",children:i.jsx(pet,{})}),i.jsx("div",{className:"lg:col-span-2",children:e?i.jsx(get,{scoutName:e.name,onViewAll:()=>t("/achievements"),onDataRefresh:f}):i.jsxs(_e,{className:"h-full",children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(pr,{className:"h-5 w-5"}),"Achievements"]})}),i.jsx($e,{children:i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(pr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Select a scout to view achievements"})]})})]})}),i.jsx(wet,{scouts:n})]})]})},_u=({achievement:e,isUnlocked:t,progress:n=0,unlockedAt:r,showProgress:a=!0})=>{const s=jR[e.tier];return i.jsxs(_e,{className:`relative transition-all duration-200 hover:shadow-md ${t?`${s.bgColor} ${s.borderColor} border-2`:"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700"}`,children:[i.jsx(Ge,{className:"pb-2",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`text-2xl p-2 rounded-full ${t?s.bgColor:"bg-gray-200 dark:bg-gray-800"}`,children:t?e.icon:i.jsx(M4,{className:"h-5 w-5 text-gray-400"})}),i.jsxs("div",{children:[i.jsx(We,{className:`text-lg ${t?s.textColor:"text-gray-400 dark:text-gray-500"}`,children:e.name}),i.jsx(Oe,{variant:"secondary",className:`text-xs mt-1 ${t?s.textColor:"text-gray-400"}`,style:{backgroundColor:t?s.color+"20":void 0,borderColor:t?s.color:void 0},children:e.tier.toUpperCase()})]})]}),t&&i.jsxs("div",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400",children:[i.jsx(pr,{className:"h-4 w-4"}),i.jsxs("span",{className:"text-sm font-medium",children:["+",e.stakesReward]})]})]})}),i.jsxs($e,{className:"pt-0",children:[i.jsx("p",{className:`text-sm mb-3 ${t?"text-gray-700 dark:text-gray-300":"text-gray-500 dark:text-gray-400"}`,children:e.description}),!t&&a&&n>0&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[Math.round(n),"%"]})]}),i.jsx(sp,{value:n,className:"h-2"})]}),t&&r&&i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Unlocked ",new Date(r).toLocaleDateString()]}),!t&&n===0&&i.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs",children:[i.jsx(M4,{className:"h-3 w-3"}),i.jsx("span",{children:"Not started"})]})]})]})},Net=({scoutName:e})=>{const[t,n]=p.useState([]),[r,a]=p.useState([]),[s,o]=p.useState(null),[l,c]=p.useState(!0),[u,d]=p.useState(!1),[f,h]=p.useState("all"),m=async()=>{d(!0);try{await NR();const S=await Gv(e),j=await Id(e);n(S.unlocked),a(S.available),o(j)}catch(S){console.error(" Error during achievement backfill:",S)}finally{d(!1)}};p.useEffect(()=>{(async()=>{if(e){c(!0);try{const j=await Gv(e),k=await Id(e);n(j.unlocked),a(j.available),o(k)}catch(j){console.error("Error loading achievements:",j)}finally{c(!1)}}})()},[e]);const g=S=>{switch(S){case"accuracy":return Pd;case"volume":return pr;case"streaks":return bhe;case"special":return Dv;case"social":return Xa;case"time":return jc;case"improvement":return Ed;default:return pr}},v=S=>{switch(S){case"accuracy":return"Accuracy";case"volume":return"Volume";case"streaks":return"Streaks";case"special":return"Special";case"social":return"Social";case"time":return"Time";case"improvement":return"Improvement";default:return S}};if(l)return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(pr,{className:"h-5 w-5"}),"Achievements"]})}),i.jsx($e,{children:i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})]});const b=yCe(zh),y={},x={},w=S=>{switch(S){case"bronze":return 1;case"silver":return 2;case"gold":return 3;case"platinum":return 4;case"legendary":return 5;default:return 6}};return r.forEach(S=>{const j=S.category;y[j]||(y[j]=[]);const k=y[j];k&&k.push(S)}),t.forEach(S=>{const j=S.category;x[j]||(x[j]=[]);const k=x[j];k&&k.push(S)}),Object.keys(y).forEach(S=>{const j=y[S];j&&j.sort((k,N)=>{const P=w(k.tier)-w(N.tier);return P!==0?P:k.requirements.value-N.requirements.value})}),Object.keys(x).forEach(S=>{const j=x[S];j&&j.sort((k,N)=>{const P=w(k.tier)-w(N.tier);return P!==0?P:k.requirements.value-N.requirements.value})}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(pr,{className:"h-5 w-5"}),"Achievements"]}),s&&i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[s.unlockedCount,"/",s.totalAchievements," Unlocked"]}),i.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[s.completionPercentage,"% Complete"]}),i.jsxs(Oe,{variant:"secondary",className:"text-xs text-yellow-600",children:["+",s.totalStakesFromAchievements," Stakes"]})]}),i.jsx("div",{className:"lg:shrink-0",children:i.jsxs(X,{variant:"outline",size:"sm",onClick:m,disabled:u,className:"w-full lg:w-auto flex items-center justify-center gap-2",children:[i.jsx(Ul,{className:`h-4 w-4 ${u?"animate-spin":""}`}),u?"Checking...":"Check Achievements"]})})]})]})}),i.jsx($e,{children:i.jsxs(pu,{value:f,onValueChange:h,className:"w-full",enableSwipe:!0,children:[i.jsxs(gu,{className:"grid w-full grid-cols-4 lg:grid-cols-8 mb-6",children:[i.jsx(gn,{value:"all",children:"All"}),i.jsx(gn,{value:"unlocked",children:"Unlocked"}),i.jsx(gn,{value:"progress",children:"In Progress"}),i.jsx(gn,{value:"recent",children:"Recent"}),Object.keys(b).slice(0,4).map(S=>i.jsx(gn,{value:S,className:"hidden lg:flex",children:v(S)},S))]}),i.jsx(In,{value:"all",className:"space-y-4",children:Object.entries(b).map(([S,j])=>{const k=g(S),N=x[S]||[],P=y[S]||[];return N.length===0&&P.length===0?null:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(k,{className:"h-5 w-5"}),v(S),i.jsxs(Oe,{variant:"outline",className:"text-xs",children:[N.length,"/",j.length]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[N.map(E=>i.jsx(_u,{achievement:E,isUnlocked:!0,unlockedAt:E.unlockedAt,showProgress:!1},E.id)),P.map(E=>i.jsx(_u,{achievement:E,isUnlocked:!1,progress:E.progress},E.id))]})]},S)})}),i.jsx(In,{value:"unlocked",className:"space-y-4",children:t.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(pr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No achievements unlocked yet"}),i.jsx("p",{className:"text-sm",children:"Start making predictions to earn your first achievement!"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.sort((S,j)=>{const k=w(S.tier)-w(j.tier);return k!==0?k:S.requirements.value-j.requirements.value}).map(S=>i.jsx(_u,{achievement:S,isUnlocked:!0,unlockedAt:S.unlockedAt,showProgress:!1},S.id))})}),i.jsx(In,{value:"progress",className:"space-y-4",children:r.filter(S=>S.progress>0).length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Pd,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No achievements in progress"}),i.jsx("p",{className:"text-sm",children:"Continue scouting to make progress on achievements!"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.filter(S=>S.progress>0).sort((S,j)=>j.progress-S.progress).map(S=>i.jsx(_u,{achievement:S,isUnlocked:!1,progress:S.progress},S.id))})}),i.jsx(In,{value:"recent",className:"space-y-4",children:(s==null?void 0:s.recentAchievements.length)===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Dv,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No recent achievements"}),i.jsx("p",{className:"text-sm",children:"Keep scouting to unlock new achievements!"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s==null?void 0:s.recentAchievements.map(S=>i.jsx(_u,{achievement:S,isUnlocked:!0,unlockedAt:S.unlockedAt,showProgress:!1},S.id))})}),Object.keys(b).map(S=>i.jsx(In,{value:S,className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(x[S]||[]).map(j=>i.jsx(_u,{achievement:j,isUnlocked:!0,unlockedAt:j.unlockedAt,showProgress:!1},j.id)),(y[S]||[]).map(j=>i.jsx(_u,{achievement:j,isUnlocked:!1,progress:j.progress},j.id))]})},S))]})})]})},ket=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),{currentScout:a}=ij();return p.useEffect(()=>{(async()=>{r(!0);try{const o=await bCe();t(o)}catch(o){console.error("Error loading achievement leaderboard:",o)}finally{r(!1)}})()},[]),a?i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Achievements"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your progress and unlock rewards"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-3",children:i.jsx(Net,{scoutName:a.name})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Achievement Leaderboard"]})}),i.jsx($e,{children:n?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})}):e.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(pr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No achievements yet"})]}):i.jsx("div",{className:"space-y-3",children:e.slice(0,10).map((s,o)=>i.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg ${s.scoutName===a.name?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[i.jsx("div",{className:"flex items-center justify-center w-6 h-6",children:o<3?i.jsx(Oe,{variant:"default",className:o===0?"bg-yellow-500 hover:bg-yellow-600":o===1?"bg-gray-400 hover:bg-gray-500":"bg-amber-600 hover:bg-amber-700",children:o+1}):i.jsxs("span",{className:"text-sm text-gray-500",children:["#",o+1]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm truncate",children:s.scoutName}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(pr,{className:"h-3 w-3"}),s.achievementCount]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx($h,{className:"h-3 w-3"}),"+",s.totalStakesFromAchievements]})]}),s.recentUnlock&&i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx("span",{className:"text-xs",children:s.recentUnlock.icon}),i.jsx("span",{className:"text-xs text-gray-400 truncate",children:s.recentUnlock.name})]})]})]},s.scoutName))})})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Dv,{className:"h-5 w-5"}),"Statistics"]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),i.jsx("div",{className:"text-xs text-gray-500",children:"Active Scouts"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.reduce((s,o)=>s+o.achievementCount,0)}),i.jsx("div",{className:"text-xs text-gray-500",children:"Total Achievements"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.reduce((s,o)=>s+o.totalStakesFromAchievements,0)}),i.jsx("div",{className:"text-xs text-gray-500",children:"Stakes from Achievements"})]}),i.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Achievement Tiers"}),i.jsx("div",{className:"space-y-1",children:Object.entries(jR).map(([s,o])=>i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-3 h-3 rounded border-2",style:{backgroundColor:o.color+"20",borderColor:o.color}}),i.jsx("span",{className:"capitalize",children:s})]},s))})]})]})]})]})]})]}):i.jsx("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Achievements"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select a scout to view their achievements"})]})})};function gz(e){const t={},n=["fuelScored","fuelPassed"],r=["depotCollect","outpostCollect","foulCommitted"],a=["steal"];return(e==="auto"?[...n,...r]:[...n,...a]).forEach(o=>{t[`${o}Count`]=0}),t}function JA(e){const t={},n=ld[e];return Object.keys(n).forEach(r=>{t[r]=!1}),t}const WO={transformActionsToCounters(e){let t=null;if(e.startPosition&&Array.isArray(e.startPosition)){const o=e.startPosition.findIndex(l=>l===!0);o>=0&&(t=o)}if(t===null&&e.autoActions&&e.autoActions.length>0){const o=e.autoActions.find(l=>l.type==="start");if(o&&o.action){const c={trench1:0,bump1:1,hub:2,bump2:3,trench2:4}[o.action];c!==void 0&&(t=c)}}const n={auto:{startPosition:t,autoPath:[],...gz("auto"),...JA("auto")},teleop:{...gz("teleop"),...JA("teleop")},endgame:{...JA("endgame")}},r=localStorage.getItem("autoBrokenDownTime"),a=localStorage.getItem("teleopBrokenDownTime");if(r){const o=parseInt(r,10);o>0&&(n.auto.brokenDownCount=1,n.auto.brokenDownDuration=o),localStorage.removeItem("autoBrokenDownTime"),localStorage.removeItem("autoBrokenDownStart")}if(a){const o=parseInt(a,10);o>0&&(n.teleop.brokenDownCount=1,n.teleop.brokenDownDuration=o),localStorage.removeItem("teleopBrokenDownTime"),localStorage.removeItem("teleopBrokenDownStart")}e.autoActions&&Array.isArray(e.autoActions)&&(n.auto.autoPath=e.autoActions,e.autoActions.forEach(o=>{switch(o.type){case"score":n.auto.fuelScoredCount=(n.auto.fuelScoredCount||0)+Math.abs(o.fuelDelta||0);break;case"collect":o.action==="depot"?n.auto.depotCollectCount=(n.auto.depotCollectCount||0)+1:o.action==="outpost"&&(n.auto.outpostCollectCount=(n.auto.outpostCollectCount||0)+1);break;case"pass":n.auto.fuelPassedCount=(n.auto.fuelPassedCount||0)+Math.abs(o.fuelDelta||0);break;case"traversal":o.action==="trench"?n.auto.autoTrench=!0:o.action==="bump"?n.auto.autoBump=!0:o.action==="trench-stuck"?n.auto.trenchStuckCount=(n.auto.trenchStuckCount||0)+1:o.action==="bump-stuck"&&(n.auto.bumpStuckCount=(n.auto.bumpStuckCount||0)+1);break;case"foul":n.auto.foulCommittedCount=(n.auto.foulCommittedCount||0)+1;break;case"climb":o.action==="climb-success"&&(n.auto.autoClimbL1=!0);break;case"unstuck":o.obstacleType==="trench"?(n.auto.trenchStuckCount=(n.auto.trenchStuckCount||0)+1,n.auto.trenchStuckDuration=(n.auto.trenchStuckDuration||0)+(o.duration||0)):o.obstacleType==="bump"&&(n.auto.bumpStuckCount=(n.auto.bumpStuckCount||0)+1,n.auto.bumpStuckDuration=(n.auto.bumpStuckDuration||0)+(o.duration||0));break;case"broken-down":n.auto.brokenDownCount=(n.auto.brokenDownCount||0)+1,n.auto.brokenDownDuration=(n.auto.brokenDownDuration||0)+(o.duration||0);break}})),e.teleopActions&&Array.isArray(e.teleopActions)&&(n.teleop.teleopPath=e.teleopActions,e.teleopActions.forEach(o=>{switch(o.type){case"score":n.teleop.fuelScoredCount=(n.teleop.fuelScoredCount||0)+Math.abs(o.fuelDelta||0);break;case"pass":n.teleop.fuelPassedCount=(n.teleop.fuelPassedCount||0)+Math.abs(o.fuelDelta||0);break;case"climb":const l=o.climbLevel||1;o.climbResult==="success"?n.endgame[`climbL${l}`]=!0:o.climbResult==="fail"&&(n.endgame.climbFailed=!0);break;case"defense":o.zone==="allianceZone"?n.teleop.defenseAllianceCount=(n.teleop.defenseAllianceCount||0)+1:o.zone==="neutralZone"?n.teleop.defenseNeutralCount=(n.teleop.defenseNeutralCount||0)+1:o.zone==="opponentZone"&&(n.teleop.defenseOpponentCount=(n.teleop.defenseOpponentCount||0)+1);break;case"steal":n.teleop.stealCount=(n.teleop.stealCount||0)+1;break;case"unstuck":o.obstacleType==="trench"?(n.teleop.trenchStuckCount=(n.teleop.trenchStuckCount||0)+1,n.teleop.trenchStuckDuration=(n.teleop.trenchStuckDuration||0)+(o.duration||0)):o.obstacleType==="bump"&&(n.teleop.bumpStuckCount=(n.teleop.bumpStuckCount||0)+1,n.teleop.bumpStuckDuration=(n.teleop.bumpStuckDuration||0)+(o.duration||0));break;case"broken-down":n.teleop.brokenDownCount=(n.teleop.brokenDownCount||0)+1,n.teleop.brokenDownDuration=(n.teleop.brokenDownDuration||0)+(o.duration||0);break}})),e.autoData&&c1().forEach(l=>{const c=`${l}Count`;e.autoData[c]!==void 0&&(n.auto[c]=(n.auto[c]||0)+e.autoData[c])}),e.teleopData&&c1().forEach(l=>{const c=`${l}Count`;e.teleopData[c]!==void 0&&(n.teleop[c]=(n.teleop[c]||0)+e.teleopData[c])}),e.autoRobotStatus&&Object.assign(n.auto,e.autoRobotStatus),e.teleopRobotStatus&&Object.assign(n.teleop,e.teleopRobotStatus),e.endgameRobotStatus&&Object.assign(n.endgame,e.endgameRobotStatus);const s={...e};return delete s.autoActions,delete s.teleopActions,delete s.autoData,delete s.teleopData,delete s.autoRobotStatus,delete s.teleopRobotStatus,delete s.endgameRobotStatus,delete s.startPosition,delete s.alliance,Object.assign(n,s),n}},ZT=["Riley Davis","Alex Kim","Sarah Chen","Marcus Rodriguez","Taylor Wilson","Emma Thompson","Jordan Smith","Casey Park"],JT="2025test",Is=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,Aet=()=>{const e=[],t=[];Object.entries(Jc).forEach(([u,d])=>{if("points"in d&&d.points.auto>0){const f=Is(0,5);for(let h=0;h<f;h++)e.push({actionType:u,timestamp:Date.now()})}if("points"in d&&d.points.teleop>0){const f=Is(0,15);for(let h=0;h<f;h++)t.push({actionType:u,timestamp:Date.now()})}});const n={},r={},a={};Object.keys(ld.auto).forEach(u=>{n[u]=Math.random()>.5}),Object.keys(ld.teleop).forEach(u=>{r[u]=Math.random()>.5});const s=ld.endgame,o={};Object.entries(s).forEach(([u,d])=>{d.group==="selection"?(o.selection||(o.selection=[]),o.selection.push(u)):a[u]=Math.random()>.3}),Object.values(o).forEach(u=>{const d=u[Is(0,u.length-1)];u.forEach(f=>{a[f]=f===d})});const l=[!1,!1,!1,!1];l[Is(0,3)]=!0;const c={autoActions:e,teleopActions:t,autoRobotStatus:n,teleopRobotStatus:r,endgameRobotStatus:a,startPosition:l};return WO.transformActionsToCounters(c)},Pet=async(e=20)=>{console.log(` Generating ${e} random scouting entries...`);const t=[254,1323,1678,3314,118,148,111,2056];for(let n=0;n<e;n++){const r=ZT[Is(0,ZT.length-1)]||"Unknown Scout",a=t[Is(0,t.length-1)]||0,s=Is(1,100),o=Math.random()>.5?"red":"blue",l={id:crypto.randomUUID(),teamNumber:a,matchNumber:s,allianceColor:o,scoutName:r,eventKey:JT,matchKey:`${JT}_qm${s}`,timestamp:Date.now()-Is(0,1e3*60*60*24*7),comments:Math.random()>.3?"Randomly generated note for this match.":void 0,gameData:Aet()};await f1(l)}},Eet=async()=>{console.log(" Generating random scout profiles...");for(const e of ZT){const t=Is(5,50),n=Math.floor(t*(.4+Math.random()*.5)),r=n*10,a={name:e,stakes:r+Is(0,100),stakesFromPredictions:r,totalPredictions:t,correctPredictions:n,currentStreak:Is(0,5),longestStreak:Is(5,12),createdAt:Date.now()-1e3*60*60*24*30,lastUpdated:Date.now()};await st.scouts.put(a),await Tet(e,t)}},Tet=async(e,t)=>{for(let n=0;n<t;n++){const r=Math.random()>.4,a={id:crypto.randomUUID(),scoutName:e,eventKey:JT,matchNumber:n+1,predictedWinner:Math.random()>.5?"red":"blue",timestamp:Date.now()-Is(0,1e3*60*60*24*14),verified:!0,isCorrect:r,pointsAwarded:r?10:0};await st.predictions.put(a)}},_et=async(e=10)=>(console.log(" Generating TBA-aligned scouting data for validation testing..."),localStorage.getItem("eventKey")?{success:!1,message:"TBA API key not configured in .env file.",matchesGenerated:0}:{success:!1,message:"No event selected. Please select an event first.",matchesGenerated:0}),Det=async()=>{console.log(" Resetting all databases..."),await Promise.all([Gr.scoutingData.clear(),Hs.pitScoutingData.clear(),st.scouts.clear(),st.predictions.clear(),st.scoutAchievements.clear()]),console.log(" Databases cleared successfully")},hie="demo2026",bb=30,mie=60,os=["Riley Davis","Alex Kim","Sarah Chen","Marcus Rodriguez","Taylor Wilson","Emma Thompson","Jordan Smith","Casey Park"],Ret=["Left Trench","Left Bump","Hub","Right Bump","Right Trench"];function Met(){const e=[],t=Math.ceil(bb*.1);for(let s=0;s<t;s++)e.push({teamNumber:1e3+s,skillLevel:"elite",tier:"elite",autoAccuracy:.85+Math.random()*.15,teleopAccuracy:.8+Math.random()*.2,endgameSuccess:.9+Math.random()*.1,consistency:.85+Math.random()*.15});const n=Math.ceil(bb*.25);for(let s=0;s<n;s++)e.push({teamNumber:2e3+s,skillLevel:"strong",tier:"strong",autoAccuracy:.65+Math.random()*.2,teleopAccuracy:.65+Math.random()*.2,endgameSuccess:.7+Math.random()*.2,consistency:.7+Math.random()*.2});const r=Math.ceil(bb*.4);for(let s=0;s<r;s++)e.push({teamNumber:3e3+s,skillLevel:"average",tier:"average",autoAccuracy:.4+Math.random()*.3,teleopAccuracy:.45+Math.random()*.3,endgameSuccess:.5+Math.random()*.3,consistency:.5+Math.random()*.3});const a=bb-e.length;for(let s=0;s<a;s++)e.push({teamNumber:4e3+s,skillLevel:"developing",tier:"developing",autoAccuracy:.2+Math.random()*.3,teleopAccuracy:.25+Math.random()*.35,endgameSuccess:.3+Math.random()*.3,consistency:.3+Math.random()*.4});return e}function Iet(e){const t=[],n=e.map(r=>r.teamNumber);for(let r=1;r<=mie;r++){const a=(r-1)*6%n.length,s=[];for(let c=0;c<6;c++){const u=(a+c)%n.length;s.push(n[u])}const o=s.slice(0,3),l=s.slice(3,6);t.push({matchKey:`${hie}_qm${r}`,matchNumber:r,compLevel:"qm",redTeams:o,blueTeams:l})}return t}function Oet(e,t,n){const r=o=>{let l=0;for(const c of o){const u=n.get(c);if(u){const d=(1-u.consistency)*.3,f=1+(Math.random()-.5)*d,h=(u.autoAccuracy+u.teleopAccuracy+u.endgameSuccess)/3*f;l+=h}}return l/o.length},a=r(e),s=r(t);return Math.abs(a-s)<.05&&Math.random()<.05?"tie":a>s?"red":"blue"}function Let(e,t){return e==="tie"?Math.random()<.5?"red":"blue":Math.random()<t?e:e==="red"?"blue":"red"}const $et=()=>({autoActions:[],teleopActions:[],endgameStatus:{}});async function pie(e={}){const{eventKey:t=hie,clearExisting:n=!0,gameDataGenerator:r=$et,includePlayoffs:a=!0}=e;console.log(" Generating demo event data...");try{n&&(await Gr.scoutingData.where("eventKey").equals(t).delete(),console.log("   Cleared existing demo data"));const s=Met();console.log(`   Generated ${s.length} team profiles`);const o=Iet(s),l=o;console.log(`   Generated ${o.length} qual matches`);let c=0;const u=new Set;for(const k of l){for(let N=0;N<k.redTeams.length;N++){const P=k.redTeams[N];if(!P)continue;const E=`${t}::${k.matchKey.split("_")[1]}::${P}::red`;if(u.has(E)){console.warn(`Duplicate entry detected: ${E}`);continue}u.add(E);const R=s.find(te=>te.teamNumber===P);if(!R)continue;const O=os[Math.floor(Math.random()*os.length)]||"Demo Scout",G={id:`${t}::${k.matchKey.split("_")[1]}::${P}::red`,teamNumber:P,matchNumber:k.matchNumber,allianceColor:"red",scoutName:O,eventKey:t,matchKey:k.matchKey,timestamp:Date.now()-(l.length-l.indexOf(k))*6e4,comments:Math.random()>.7?vz(R):void 0,gameData:r(R,k.matchKey)};await f1(G),c++}for(let N=0;N<k.blueTeams.length;N++){const P=k.blueTeams[N];if(!P)continue;const E=`${t}::${k.matchKey.split("_")[1]}::${P}::blue`;if(u.has(E)){console.warn(`Duplicate entry detected: ${E}`);continue}u.add(E);const R=s.find(te=>te.teamNumber===P);if(!R)continue;const O=os[Math.floor(Math.random()*os.length)]||"Demo Scout",G={id:`${t}::${k.matchKey.split("_")[1]}::${P}::blue`,teamNumber:P,matchNumber:k.matchNumber,allianceColor:"blue",scoutName:O,eventKey:t,matchKey:k.matchKey,timestamp:Date.now()-(l.length-l.indexOf(k))*6e4,comments:Math.random()>.7?vz(R):void 0,gameData:r(R,k.matchKey)};await f1(G),c++}}console.log(`   Generated ${c} scouting entries`);const d=new Map(s.map(k=>[k.teamNumber,k]));console.log(`
 Generating pit scouting data...`);let f=0;const h=["swerve","tank","mecanum","other"],m=["Java","C++","Python","LabVIEW"];for(const k of s){const N=d.get(k.teamNumber);if(!N)continue;const P=os[k.teamNumber%os.length],E=N.tier==="developing"?h[Math.floor(Math.random()*h.length)]:"swerve",R=90+Math.random()*25,O=Math.random()<.9?"Java":m[Math.floor(Math.random()*m.length)],G=N.tier==="developing"?24+Math.random()*6:18+Math.random()*4,te=G<22.25,V=G>=24?80+Math.floor(Math.random()*41):G>=22?50+Math.floor(Math.random()*31):20+Math.floor(Math.random()*31),$=Ret.slice(0,1+Math.floor(Math.random()*3)),U=N.tier==="elite"?["Cycler","Thief"]:N.tier==="strong"?["Cycler","Clean Up"]:N.tier==="average"?["Clean Up","Passer"]:["Defense","Passer"],M=N.tier==="elite"?["Passer","Defense"]:N.tier==="strong"?["Passer","Thief"]:N.tier==="average"?["Passer","Defense"]:["Clean Up"],F=N.tier==="elite"&&Math.random()>.5,W=N.tier==="elite"?"level3":N.tier==="strong"?Math.random()>.5?"level3":"level2":N.tier==="average"?Math.random()>.3?"level2":"level1":Math.random()>.5?"level1":"none",Z={id:`pit-${k.teamNumber}-${t}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,teamNumber:k.teamNumber,eventKey:t,scoutName:P,timestamp:Date.now()-Math.random()*864e5,robotPhoto:void 0,weight:Math.round(R*10)/10,drivetrain:E,programmingLanguage:O,notes:Fet(N,{canAutoClimbL1:F,targetClimbLevel:W,fuelCapacity:V,canGoUnderTrench:te}),gameData:{maxLength:Math.round(28+Math.random()*4),maxWidth:Math.round(26+Math.random()*4),maxHeight:Math.round(G),canGoUnderTrench:te,fuelCapacity:V,canOutpostPickup:Math.random()>.2,canPassToCorral:Math.random()>.3,preferredStartPositions:$,preferredActiveRoles:U,preferredInactiveRoles:M,canAutoClimbL1:F,targetClimbLevel:W}};await hm(Z),f++}console.log(`   Generated ${f} pit scouting entries`);const g={"Riley Davis":.85,"Alex Kim":.75,"Sarah Chen":.7,"Marcus Rodriguez":.65,"Taylor Wilson":.6,"Emma Thompson":.55,"Jordan Smith":.5,"Casey Park":.45};let v=0,b=0;for(const k of l){const N=Oet(k.redTeams,k.blueTeams,d),P=os[k.matchNumber%os.length],E=g[P]||.5,R=Let(N,E),O=N!=="tie"&&R===N,G=await Uv(P,t,k.matchNumber,R);G.actualWinner=N==="tie"?void 0:N,G.isCorrect=O,G.pointsAwarded=O?10:0,G.timestamp=Date.now()-(mie-k.matchNumber)*6e5,G.verified=!0,await st.predictions.put(G),v++,O&&b++}console.log(`   Generated ${v} predictions (${b} correct, ${Math.round(b/v*100)}% accuracy)`);for(const k of os){const N=await st.predictions.where("scoutName").equals(k).filter(P=>P.eventKey===t).toArray();if(N.length>0){const P=N.filter(V=>V.isCorrect).length,E=N.length,R=N.reduce((V,z)=>V+(z.pointsAwarded||0),0),O=await st.scouts.get(k),te=((O==null?void 0:O.stakes)||0)+R;await RC(k,te,P,E,void 0,void 0,R)}}console.log(`   Updated scout prediction stats for ${os.length} scouts`);const y=localStorage.getItem("scoutsList"),x=y?JSON.parse(y):[];for(const k of os)await bl(k),x.includes(k)||x.push(k);localStorage.setItem("scoutsList",JSON.stringify(x.sort())),console.log(`   Created ${os.length} test scouts in database`);const w=os[0];try{localStorage.setItem("currentScout",w),localStorage.setItem("playerStation","red-1"),window.dispatchEvent(new Event("scoutChanged")),window.dispatchEvent(new Event("playerStationChanged")),console.log(`   Set ${w} as current scout (Red 1)`)}catch(k){console.error("Failed to create demo scout:",k)}localStorage.setItem("eventKey",t),cd(t),console.log(`   Set ${t} as current event`);try{const k=localStorage.getItem("customEventsList"),N=k?JSON.parse(k):[];N.includes(t)||(N.push(t),localStorage.setItem("customEventsList",JSON.stringify(N)),console.log(`   Added ${t} to custom events list`))}catch(k){console.error("Failed to update custom events list:",k)}const S=l.map((k,N)=>({key:k.matchKey,comp_level:k.compLevel,set_number:1,match_number:k.matchNumber,alliances:{red:{score:-1,team_keys:k.redTeams.map(P=>`frc${P}`),surrogate_team_keys:[],dq_team_keys:[]},blue:{score:-1,team_keys:k.blueTeams.map(P=>`frc${P}`),surrogate_team_keys:[],dq_team_keys:[]}},winning_alliance:"",event_key:t,time:Math.floor(Date.now()/1e3)+N*600,predicted_time:Math.floor(Date.now()/1e3)+N*600,actual_time:0,post_result_time:0,score_breakdown:null,videos:[]}));await xZ(S),console.log(`   Cached ${S.length} matches as TBA data`);const j=l.map(k=>({matchNumber:k.matchNumber,redAlliance:k.redTeams,blueAlliance:k.blueTeams}));return localStorage.setItem("matchData",JSON.stringify(j)),console.log("   Stored match schedule in localStorage for team selection"),{success:!0,message:`Demo event created: ${s.length} teams, ${o.length} matches, ${c} entries, ${f} pit entries, ${v} predictions by ${os.length} scouts`,stats:{teamsGenerated:s.length,qualMatches:o.length,playoffMatches:0,entriesGenerated:c}}}catch(s){return console.error(" Error generating demo data:",s),{success:!1,message:s instanceof Error?s.message:"Unknown error",stats:{teamsGenerated:0,qualMatches:0,playoffMatches:0,entriesGenerated:0}}}}function vz(e){const n={elite:["Incredibly consistent robot","Strong autonomous routine","Very fast cycle times","Excellent driver control","Top tier defense capabilities"],strong:["Solid performance overall","Good scoring consistency","Reliable endgame","Decent auto routine","Few mistakes"],average:["Average performance","Some scoring but inconsistent","Struggled with accuracy","Okay endgame","Room for improvement"],developing:["Still learning the game","Had some technical difficulties","Improving throughout match","Needs practice with scoring","Good effort"]}[e.skillLevel];return n[Math.floor(Math.random()*n.length)]||"Good effort"}function Fet(e,t){const n=[];return e.tier==="elite"?n.push("Very experienced team with well-built robot."):e.tier==="strong"?n.push("Solid robot design with good build quality."):e.tier==="average"?n.push("Functional robot, still working out some issues."):n.push("Rookie or developing team, learning as they go."),t.canGoUnderTrench&&n.push("Can navigate under trench for faster field traversal."),t.fuelCapacity>=80?n.push(`High fuel capacity (${t.fuelCapacity} pieces).`):t.fuelCapacity>=50&&n.push(`Good fuel capacity (${t.fuelCapacity} pieces).`),t.canAutoClimbL1&&n.push("Has autonomous climb capability (15pts)."),t.targetClimbLevel==="level3"?n.push("Targets Level 3 climb (30pts)."):t.targetClimbLevel==="level2"&&n.push("Targets Level 2 climb (20pts)."),n.join(" ")}const gie=(e,t)=>{const n=t.includes("qf")||t.includes("sf")||t.includes("f"),r=[],a=Math.floor(Math.random()*5),s=["trench1","bump1","hub","bump2","trench2"];r.push({type:"start",action:s[a],timestamp:Date.now(),x:100,y:100+a*90});let o=0;e.skillLevel==="elite"?o=100+Math.floor(Math.random()*51):e.skillLevel==="strong"?o=60+Math.floor(Math.random()*41):e.skillLevel==="average"?o=30+Math.floor(Math.random()*31):o=10+Math.floor(Math.random()*21);const l=1-e.consistency;o=Math.max(0,Math.floor(o*(1+(Math.random()-.5)*l))),o=Math.floor(o*e.autoAccuracy);for(let R=0;R<o;R++)r.push({type:"score",action:"fuelScored",timestamp:Date.now()+R*1e3,x:100+Math.random()*50,y:200+Math.random()*80,fuelDelta:-1});if(Math.random()<.4){const R=Math.floor(Math.random()*3);for(let O=0;O<R;O++)r.push({type:"collect",action:Math.random()<.5?"depot":"outpost",timestamp:Date.now()+O*1500,x:150,y:240})}const c=[],u=Math.random()<.25;let d=0;e.skillLevel==="elite"?d=250+Math.floor(Math.random()*151):e.skillLevel==="strong"?d=180+Math.floor(Math.random()*101):e.skillLevel==="average"?d=100+Math.floor(Math.random()*101):d=50+Math.floor(Math.random()*71),d=Math.max(0,Math.floor(d*(1+(Math.random()-.5)*l))),d=Math.floor(d*e.teleopAccuracy),n&&(d=Math.floor(d*1.15));let f=0,h=0;u?(f=Math.floor(d*.3),h=Math.floor(d*.7)):(f=Math.floor(d*.85),h=Math.floor(d*.15));for(let R=0;R<f;R++)c.push({type:"score",action:"fuelScored",timestamp:Date.now()+R*500,x:100+Math.random()*50,y:200+Math.random()*80,fuelDelta:-1});for(let R=0;R<h;R++)c.push({type:"pass",action:"fuelPassed",timestamp:Date.now()+R*800,x:200,y:240,fuelDelta:-1});const m={autoClimbL1:e.skillLevel==="elite"&&Math.random()<.2},g={playedDefense:Math.random()<.2},v={climbL1:!1,climbL2:!1,climbL3:!1,climbFailed:!1};Math.random()<e.endgameSuccess?e.skillLevel==="elite"&&Math.random()<.7?v.climbL3=!0:e.skillLevel==="strong"||e.skillLevel==="elite"&&Math.random()<.9?v.climbL2=!0:v.climbL1=!0:v.climbFailed=!0;const y=["roleActiveCycler","roleActiveCleanUp","roleActivePasser","roleActiveDefense","roleActiveThief"];let x;u&&Math.random()<.7?x="roleActivePasser":x=y[Math.floor(Math.random()*y.length)],x&&(v[x]=!0);const w=["roleInactiveCycler","roleInactiveCleanUp","roleInactivePasser"];let S;u&&Math.random()<.7?S="roleInactivePasser":S=w[Math.floor(Math.random()*w.length)],S&&(v[S]=!0),(u||Math.random()<.3)&&(v.passedToAlliance=!0),u&&Math.random()<.6&&(v.passedToNeutral=!0);const j=["accuracyAll","accuracyMost","accuracySome","accuracyFew","accuracyLittle"];let k=2;e.teleopAccuracy>.9?k=0:e.teleopAccuracy>.75?k=1:e.teleopAccuracy>.5?k=2:e.teleopAccuracy>.25?k=3:k=4;const N=j[k];N&&(v[N]=!0),v.usedCorral=Math.random()<.3;const P=[!1,!1,!1,!1,!1];P[a]=!0;const E={autoActions:r,teleopActions:c,autoRobotStatus:m,teleopRobotStatus:g,endgameRobotStatus:v,startPosition:P};return WO.transformActionsToCounters(E)},Bet=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(""),[a,s]=p.useState("info"),o=(g,v="info")=>{r(g),s(v),setTimeout(()=>r(""),5e3)},l=async()=>{t(!0);try{await Eet(),o(" Created random scout profiles successfully!","success"),le.success("Random scout profiles created")}catch(g){console.error("Error creating test profiles:",g),o(" Failed to create test profiles","error")}finally{t(!1)}},c=async()=>{t(!0);try{await Pet(30),o(" Generated 30 schema-based match entries!","success"),le.success("Schema-based match data generated")}catch(g){console.error("Error generating match data:",g),o(" Failed to generate match data","error")}finally{t(!1)}},u=async()=>{t(!0);try{const g=await _et(15);g.success?(o(` ${g.message}`,"success"),le.success(g.message)):(o(` ${g.message}`,"error"),le.error(g.message))}catch(g){console.error("Error generating TBA-aligned data:",g),o(" Failed to generate TBA-aligned data","error")}finally{t(!1)}},d=async()=>{t(!0);try{const g=await pie({eventKey:"demo2026",clearExisting:!0,gameDataGenerator:gie,includePlayoffs:!0});g.success?(o(` ${g.message}`,"success"),le.success(g.message,{duration:5e3})):(o(` ${g.message}`,"error"),le.error(g.message))}catch(g){console.error("Error generating demo event:",g),o(" Failed to generate demo event","error"),le.error("Failed to generate demo event")}finally{t(!1)}},f=async()=>{if(confirm("Are you absolutely sure? This will wipe ALL databases including scouting data, pits, and profiles.")){t(!0);try{await Det(),o(" All databases cleared successfully!","success"),le.success("Database reset complete")}catch(g){console.error("Error clearing data:",g),o(" Failed to clear data","error")}finally{t(!1)}}},h=async()=>{t(!0);try{await NR(),o(" Achievement backfill completed!","success"),le.success("Achievements backfilled for all scouts")}catch(g){console.error("Error during achievement backfill:",g),o(" Achievement backfill failed","error")}finally{t(!1)}},m=async()=>{t(!0);try{const g=await Jy();o(` Current database has ${g.length} scouts`,"info")}catch(g){console.error("Error checking data:",g),o(" Failed to check current data","error")}finally{t(!1)}};return i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Agnostic Dev Utilities"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Framework-level tools for testing and managing scouting data"}),i.jsx(Oe,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Development Only"})]}),n&&i.jsx(_e,{className:`border-2 ${a==="success"?"border-green-500 bg-green-50 dark:bg-green-950":a==="error"?"border-red-500 bg-red-50 dark:bg-red-950":"border-blue-500 bg-blue-50 dark:bg-blue-950"}`,children:i.jsx($e,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&i.jsx(Ur,{className:"h-5 w-5 text-green-600"}),a==="error"&&i.jsx(Ln,{className:"h-5 w-5 text-red-600"}),a==="info"&&i.jsx(bo,{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{className:a==="success"?"text-green-800 dark:text-green-200":a==="error"?"text-red-800 dark:text-red-200":"text-blue-800 dark:text-blue-200",children:n})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs(_e,{children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(sm,{className:"h-5 w-5"}),"Gamification Tools"]}),i.jsx(zn,{children:"Test scout profiles, predictions, and achievements"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs(X,{onClick:l,disabled:e,className:"w-full",size:"lg",children:[i.jsx(sm,{className:"h-4 w-4 mr-2"}),e?"Generating...":"Generate Random Scouts"]}),i.jsxs(X,{onClick:h,disabled:e,className:"w-full",variant:"outline",size:"lg",children:[i.jsx(pr,{className:"h-4 w-4 mr-2"}),e?"Processing...":"Backfill Achievements"]})]})]}),i.jsxs(_e,{children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(mfe,{className:"h-5 w-5"}),"Scouting Data Tools"]}),i.jsx(zn,{children:"Test match scouting entries using current game schema"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs(X,{onClick:d,disabled:e,className:"w-full",size:"lg",children:[i.jsx(bo,{className:"h-4 w-4 mr-2"}),e?"Generating...":"Generate Full Demo Event"]}),i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"30 teams  60 qual matches  ~360 entries"}),i.jsx(Fr,{}),i.jsxs(X,{onClick:c,disabled:e,className:"w-full",size:"lg",variant:"secondary",children:[i.jsx(Ul,{className:"h-4 w-4 mr-2"}),e?"Generating...":"Generate Random Data (30)"]}),i.jsxs(X,{onClick:u,disabled:e,className:"w-full",size:"lg",variant:"default",children:[i.jsx(bo,{className:"h-4 w-4 mr-2"}),e?"Generating...":"Generate TBA Match Data"]}),i.jsx("p",{className:"text-xs text-gray-500 italic",children:"* TBA Match Data uses current event to create scouting entries for real matches (for validation testing)."})]})]}),i.jsxs(_e,{children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Vs,{className:"h-5 w-5"}),"Database Management"]}),i.jsx(zn,{children:"Clean up and inspect local storage"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs(X,{onClick:f,disabled:e,variant:"destructive",className:"w-full",size:"lg",children:[i.jsx(Vs,{className:"h-4 w-4 mr-2"}),e?"Clearing...":"Reset All Databases"]}),i.jsx(Fr,{}),i.jsxs(X,{onClick:m,disabled:e,variant:"outline",className:"w-full",children:[i.jsx(bo,{className:"h-4 w-4 mr-2"}),e?"Checking...":"Check DB Stats"]})]})]})]}),i.jsxs(_e,{children:[i.jsxs(Ge,{children:[i.jsx(We,{children:"Global Test Hooks"}),i.jsx(zn,{children:"Exposed on window for console testing"})]}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-2 text-sm font-mono bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("div",{className:"text-blue-600 dark:text-blue-400",children:"# Reset everything"}),i.jsx("div",{children:"await window.dev.resetDB()"}),i.jsx("div",{className:"text-blue-600 dark:text-blue-400 mt-3",children:"# Generate data"}),i.jsx("div",{children:"await window.dev.seedData()"})]})})]})]})},ES={thresholds:{critical:25,warning:15,minor:5,criticalAbsolute:5,warningAbsolute:3,minorAbsolute:1},categoryThresholds:{},checkAutoScoring:!0,checkTeleopScoring:!0,checkEndgame:!0,checkMobility:!0,checkTotalScore:!0,minMatchesForHighConfidence:10,maxDiscrepanciesForHighConfidence:2,autoFlagThreshold:2,requireReScoutThreshold:3};function Mm(e){const t=e.split("_");if(t.length!==2)throw new Error(`Invalid match key format: ${e}`);const n=t[0]||"",r=t[1];if(!r)throw new Error(`Invalid match key format: ${e}`);if(r.startsWith("qm")){const o=parseInt(r.substring(2),10)||0;return{eventKey:n,compLevel:"qm",matchNumber:o,setNumber:1,displayNumber:o.toString()}}const a=r.match(/^sf(\d+)m(\d+)$/);if(a&&a[1]&&a[2])return{eventKey:n,compLevel:"sf",setNumber:parseInt(a[1],10),matchNumber:parseInt(a[2],10),displayNumber:`${a[1]}-${a[2]}`};const s=r.match(/^f(\d+)m(\d+)$/);return s&&s[1]&&s[2]?{eventKey:n,compLevel:"f",setNumber:parseInt(s[1],10),matchNumber:parseInt(s[2],10),displayNumber:s[2]}:{eventKey:n,compLevel:r.replace(/\d/g,""),matchNumber:parseInt(r.replace(/\D/g,""),10)||0,setNumber:1,displayNumber:r.replace(/\D/g,"")||"0"}}function vie(e){const t=typeof e=="string"?e:e.matchKey;try{const n=Mm(t);switch(n.compLevel){case"qm":return`Qual ${n.matchNumber}`;case"sf":return`SF ${n.setNumber}-${n.matchNumber}`;case"f":return`Final ${n.matchNumber}`;default:return`Match ${n.displayNumber}`}}catch{return t}}function Vet(e){return[...e].sort((t,n)=>yie(t.matchKey,n.matchKey))}function yie(e,t){const n=Mm(e),r=Mm(t),a={qm:1,sf:2,f:3},s=a[n.compLevel]??4,o=a[r.compLevel]??4;return s!==o?s-o:n.setNumber!==r.setNumber?n.setNumber-r.setNumber:n.matchNumber-r.matchNumber}function zet(e,t){let n=[...e];if(t.status!=="all"&&(n=n.filter(r=>r.validationResult?r.validationResult.status===t.status:t.status==="no-scouting"?!r.hasScouting:t.status==="pending"?r.hasScouting:!1)),t.matchType!=="all"&&(n=n.filter(r=>r.compLevel===t.matchType)),t.scoutingStatus!=="all"&&(n=n.filter(r=>t.scoutingStatus==="complete"?r.scoutingComplete:t.scoutingStatus==="partial"?r.hasScouting&&!r.scoutingComplete:t.scoutingStatus==="none"?!r.hasScouting:!0)),t.searchQuery.trim()){const r=t.searchQuery.toLowerCase().trim();n=n.filter(a=>a.displayName.toLowerCase().includes(r)?!0:[...a.redTeams,...a.blueTeams].some(o=>o.includes(r)))}return n.sort((r,a)=>{var o,l,c,u,d,f;let s=0;switch(t.sortBy){case"match":s=yie(r.matchKey,a.matchKey);break;case"status":{const h={failed:0,flagged:1,passed:2,pending:3,"no-tba-data":4,"no-scouting":5},m=((o=r.validationResult)==null?void 0:o.status)??(r.hasScouting?"pending":"no-scouting"),g=((l=a.validationResult)==null?void 0:l.status)??(a.hasScouting?"pending":"no-scouting");s=(h[m]??99)-(h[g]??99);break}case"discrepancies":s=(((c=r.validationResult)==null?void 0:c.totalDiscrepancies)??0)-(((u=a.validationResult)==null?void 0:u.totalDiscrepancies)??0);break;case"confidence":{const h={high:2,medium:1,low:0},m=((d=r.validationResult)==null?void 0:d.confidence)??"low",g=((f=a.validationResult)==null?void 0:f.confidence)??"low";s=(h[m]??0)-(h[g]??0);break}}return t.sortOrder==="desc"?-s:s}),n}function TS(e){return e.map(t=>t.replace("frc",""))}function Uet(e){var c,u,d,f;const t=e.score_breakdown!==null,n=(u=(c=e.alliances)==null?void 0:c.red)==null?void 0:u.score,r=(f=(d=e.alliances)==null?void 0:d.blue)==null?void 0:f.score;let a,s,o,l;if(t&&e.score_breakdown){const h=e.score_breakdown.red,m=e.score_breakdown.blue;a=(h==null?void 0:h.autoPoints)??(h==null?void 0:h.auto_points),s=(m==null?void 0:m.autoPoints)??(m==null?void 0:m.auto_points),o=(h==null?void 0:h.teleopPoints)??(h==null?void 0:h.teleop_points),l=(m==null?void 0:m.teleopPoints)??(m==null?void 0:m.teleop_points)}return{matchKey:e.key,matchNumber:e.match_number,compLevel:e.comp_level,setNumber:e.set_number??1,displayName:vie(e.key),redTeams:TS(e.alliances.red.team_keys),blueTeams:TS(e.alliances.blue.team_keys),hasScouting:!1,scoutingComplete:!1,redTeamsScouted:0,blueTeamsScouted:0,hasTBAResults:t,redScore:n,blueScore:r,redAutoScore:a,blueAutoScore:s,redTeleopScore:o,blueTeleopScore:l,scheduledTime:e.time,actualTime:e.actual_time}}function yz(e,t,n,r){const a={alliance:e,teams:t,totalPoints:r.score??0,autoPoints:0,teleopPoints:0,foulPoints:0,breakdown:{},foulCount:0,techFoulCount:0};if(!n)return a;a.autoPoints=n.autoPoints??0,a.teleopPoints=n.teleopPoints??0,a.foulPoints=n.foulPoints??0,a.foulCount=n.foulCount??0,a.techFoulCount=n.techFoulCount??0;const s=DR();for(const l of s){const c=S7(l),u=xz(n,c.tbaPath,c.type);a.breakdown[l]=u}const o=RR();for(const l of o){const c=C7(l),u=xz(n,c.tbaPath,c.type,"matchValue"in c?c.matchValue:void 0);a.breakdown[l]=u}return a}function xz(e,t,n,r){if(Array.isArray(t))return n==="countMatching"&&r?t.filter(s=>XA(e,s)===r).length:t.reduce((s,o)=>{const l=XA(e,o);return s+(typeof l=="number"?l:0)},0);const a=XA(e,t);return n==="count"?typeof a=="number"?a:0:n==="boolean"&&(a===!0||a==="Yes")?1:0}function XA(e,t){return t.split(".").reduce((n,r)=>n&&typeof n=="object"?n[r]:void 0,e)}function bz(e,t,n){var o,l;const r=[],a=DR();for(const c of a){const u=S7(c),d=e.actions[c]??0,f=t.breakdown[c]??0;if(d!==f){const h=u.category,g=((o=n.categoryThresholds)==null?void 0:o[h])??n.thresholds,v=wz(h,c,Get(c),d,f,g);v&&r.push(v)}}const s=RR();for(const c of s){const u=C7(c),d=e.toggles[c]??0,f=t.breakdown[c]??0;if(d!==f){const h=u.category,g=((l=n.categoryThresholds)==null?void 0:l[h])??n.thresholds,v=wz(h,c,Wet(c),d,f,g);v&&r.push(v)}}return r}function wz(e,t,n,r,a,s){const o=Math.abs(r-a),l=a>0?o/a*100:o>0?100:0,c=Ket(o,l,s);if(c==="none")return null;const u=r>a?"over-counted":"under-counted";return{category:e,field:t,fieldLabel:n,scoutedValue:r,tbaValue:a,difference:o,percentDiff:l,severity:c,message:`${n}: Scouted ${r}, TBA ${a} (${u} by ${o})`}}function Ket(e,t,n){return e>=n.criticalAbsolute?"critical":e>=n.warningAbsolute?"warning":e>=n.minorAbsolute?"minor":t>=n.critical?"critical":t>=n.warning?"warning":t>=n.minor?"minor":"none"}function Get(e){return e in Jc?Jc[e].label:e}function Wet(e){for(const t of["auto","teleop","endgame"]){const n=ld[t];if(n&&e in n){const r=n[e];if(r!=null&&r.label)return r.label}}return e}function qet(e,t){const n=e.map(a=>a.validationResult).filter(Boolean);return{eventKey:t,totalMatches:e.length,scoutedMatches:e.filter(a=>a.hasScouting).length,validatedMatches:n.length,pendingMatches:e.filter(a=>a.hasScouting&&!a.validationResult).length,passedMatches:n.filter(a=>a.status==="passed").length,flaggedMatches:n.filter(a=>a.status==="flagged").length,failedMatches:n.filter(a=>a.status==="failed").length,noTBADataMatches:n.filter(a=>a.status==="no-tba-data").length,noScoutingMatches:e.filter(a=>!a.hasScouting).length,totalDiscrepancies:n.reduce((a,s)=>a+s.totalDiscrepancies,0),criticalDiscrepancies:n.reduce((a,s)=>a+s.criticalDiscrepancies,0),warningDiscrepancies:n.reduce((a,s)=>a+s.warningDiscrepancies,0),minorDiscrepancies:n.reduce((a,s)=>a+(s.totalDiscrepancies-s.criticalDiscrepancies-s.warningDiscrepancies),0),averageConfidence:Het(n),matchesRequiringReScout:n.filter(a=>a.requiresReScout).length,generatedAt:Date.now()}}function Het(e){if(e.length===0)return"low";const t=e.map(r=>{switch(r.confidence){case"high":return 3;case"medium":return 2;case"low":return 1;default:return 1}}),n=t.reduce((r,a)=>r+a,0)/t.length;return n>=2.5?"high":n>=1.5?"medium":"low"}const Yet={status:"all",matchType:"all",scoutingStatus:"all",searchQuery:"",sortBy:"match",sortOrder:"asc"};function Qet({eventKey:e,config:t=ES,autoLoad:n=!0}){const[r,a]=p.useState(!1),[s,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState([]),[m,g]=p.useState(Yet),[v,b]=p.useState(new Map),{fetchEventMatches:y,matches:x,loading:w}=YR(),S=p.useCallback(async()=>{if(e){a(!0),c(null);try{throw new Error("TBA API key not configured. Please set VITE_TBA_API_KEY in your .env file.")}catch(z){const $=z instanceof Error?z.message:"Failed to load matches";c($),le.error($)}finally{a(!1),d(null)}}},[e,y]);p.useEffect(()=>{if(!x||x.length===0)return;(async()=>{const $=x.map(Uet);await j($),await k($);const U=Vet($);h(U)})()},[x]);const j=async z=>{try{const $=await xie(e);for(const U of z){const M=$.filter(Z=>Z.matchKey===U.matchKey||Z.matchNumber===U.matchNumber),F=new Set(M.filter(Z=>Z.allianceColor==="red").map(Z=>Z.teamNumber.toString())),W=new Set(M.filter(Z=>Z.allianceColor==="blue").map(Z=>Z.teamNumber.toString()));U.redTeamsScouted=Math.min(F.size,3),U.blueTeamsScouted=Math.min(W.size,3),U.hasScouting=M.length>0,U.scoutingComplete=U.redTeamsScouted===3&&U.blueTeamsScouted===3}}catch($){console.error("Failed to update scouting status:",$)}},k=async z=>{try{const $=await d_e(e),U=new Map;for(const M of $){const F=M.result;U.set(F.matchKey,F);const W=z.find(Z=>Z.matchKey===F.matchKey);W&&(W.validationResult=F)}b(U)}catch($){console.error("Failed to load validation results:",$)}},N=p.useCallback(async()=>{if(!e)return;if(f.length===0){await S(),le.info('Matches loaded. Click "Validate Event" again to run validation.');return}o(!0),c(null);const z=f.filter($=>$.hasScouting&&$.hasTBAResults);try{let $=0;const U=new Map(v);for(const M of z){d({current:$,total:z.length,currentMatch:M.displayName,phase:"validating"});const F=await P(M);F&&(U.set(M.matchKey,F),M.validationResult=F),$++}b(U),h([...f]),le.success(`Validated ${$} matches`)}catch($){const U=$ instanceof Error?$.message:"Validation failed";c(U),le.error(U)}finally{o(!1),d(null)}},[e,f,v,S]),P=async z=>{try{console.log("[Validation] Starting validation for:",z.matchKey,"matchNumber:",z.matchNumber);const $=x.find(Le=>Le.key===z.matchKey);if(!$||!$.score_breakdown)return console.log("[Validation] No TBA data for:",z.matchKey),ett(z);const U=await Zet(e,z.matchKey,z.matchNumber);if(console.log("[Validation] Found",U.length,"scouting entries for:",z.matchKey),U.length===0)return console.log("[Validation] No scouting entries - returning no-scouting result"),ttt(z);const M=U.filter(Le=>Le.allianceColor==="red"),F=U.filter(Le=>Le.allianceColor==="blue"),W=Sz("red",z,M),Z=Sz("blue",z,F),H=yz("red",TS($.alliances.red.team_keys),$.score_breakdown.red,$.alliances.red),ae=yz("blue",TS($.alliances.blue.team_keys),$.score_breakdown.blue,$.alliances.blue),fe=bz(W,H,t),we=bz(Z,ae,t),Pe=Cz("red",W,H,fe,t),me=Cz("blue",Z,ae,we,t),Ue=Jet(M,F,fe,we),ne=fe.length+we.length,je=[...fe,...we].filter(Le=>Le.severity==="critical").length,ve=[...fe,...we].filter(Le=>Le.severity==="warning").length,re=bie(je,ve,t),Ye=Xet(W,Z,ne,t),Fe=Mm(z.matchKey),Je={id:`${e}_${z.matchKey}`,eventKey:e,matchKey:z.matchKey,matchNumber:z.matchNumber.toString(),compLevel:Fe.compLevel,setNumber:Fe.setNumber,status:re,confidence:Ye,redAlliance:Pe,blueAlliance:me,teams:Ue,totalDiscrepancies:ne,criticalDiscrepancies:je,warningDiscrepancies:ve,flaggedForReview:je>=t.autoFlagThreshold,requiresReScout:je>=t.requireReScoutThreshold,validatedAt:Date.now()};return console.log("[Validation] Created result with status:",Je.status,"for:",z.matchKey),await u_e({id:Je.id,eventKey:Je.eventKey,matchKey:Je.matchKey,matchNumber:Je.matchNumber,result:Je,timestamp:Date.now()}),console.log("[Validation] Stored result successfully for:",z.matchKey),Je}catch($){return console.error(`[Validation] CAUGHT ERROR for ${z.matchKey}:`,$),null}},E=p.useCallback(async z=>{const $=f.find(U=>U.matchKey===z);if(!$)return null;o(!0);try{const U=await P($);if(U){const M=new Map(v);M.set(z,U),b(M),$.validationResult=U,h([...f])}return U}finally{o(!1)}},[f,v]),R=p.useCallback(async()=>{f.length>0&&(await k([...f]),h([...f]))},[f]),O=p.useCallback(async()=>{if(e)try{await f_e(e),b(new Map);for(const z of f)z.validationResult=void 0;h([...f]),le.success("Validation results cleared")}catch{le.error("Failed to clear results")}},[e,f]),G=p.useCallback(z=>v.get(z)??null,[v]),te=p.useMemo(()=>zet(f,m),[f,m]),V=p.useMemo(()=>f.length===0?null:qet(f,e),[f,e]);return p.useEffect(()=>{n&&e&&S()},[e,n]),{isLoading:r||w,isValidating:s,error:l,progress:u,matchList:f,filteredMatchList:te,summary:V,filters:m,setFilters:g,loadMatches:S,validateEvent:N,validateMatch:E,refreshResults:R,clearResults:O,getMatchResult:G}}async function xie(e){try{const{getEntriesByEvent:t}=await Mn(async()=>{const{getEntriesByEvent:r}=await Promise.resolve().then(()=>itt);return{getEntriesByEvent:r}},void 0);return(await t(e)).map(r=>({matchKey:r.matchKey,matchNumber:r.matchNumber,teamNumber:r.teamNumber,allianceColor:r.allianceColor,scoutName:r.scoutName,gameData:r.gameData}))}catch{return[]}}async function Zet(e,t,n){return(await xie(e)).filter(a=>a.matchKey===t||a.matchNumber===n)}function Sz(e,t,n){const r={alliance:e,matchKey:t.matchKey,matchNumber:t.matchNumber.toString(),eventKey:t.matchKey.split("_")[0]||"",teams:n.map(c=>c.teamNumber.toString()),scoutNames:n.map(c=>c.scoutName),actions:{},toggles:{},missingTeams:[],scoutedTeamsCount:n.length},a=DR();for(const c of a)r.actions[c]=0;const s=RR();for(const c of s)r.toggles[c]=0;for(const c of n){const u=c.gameData;console.log("[Aggregate] Processing entry for team",c.teamNumber,"gameData:",u);const d={},f=["auto","teleop","endgame"];for(const h of f){const m=u[h];if(m&&typeof m=="object")for(const[g,v]of Object.entries(m))d[g]=v}for(const[h,m]of Object.entries(u))f.includes(h)||(d[h]=m);console.log("[Aggregate] Flattened gameData:",d);for(const h of a){let m=d[h];m===void 0&&(m=d[`${h}Count`]),typeof m=="number"&&(r.actions[h]=(r.actions[h]??0)+m)}for(const h of s){const m=d[h];console.log("[Aggregate] Toggle",h,"=",m,"type:",typeof m),(m===!0||m===1)&&(r.toggles[h]=(r.toggles[h]??0)+1)}}const o=e==="red"?t.redTeams:t.blueTeams,l=new Set(n.map(c=>c.teamNumber.toString()));return r.missingTeams=o.filter(c=>!l.has(c)),r}function Cz(e,t,n,r,a){const s=r.filter(u=>u.severity==="critical").length,o=r.filter(u=>u.severity==="warning").length,l=bie(s,o,a),c=Object.values(t.actions).reduce((u,d)=>u+d,0);return{alliance:e,status:l,confidence:t.scoutedTeamsCount===3?"high":t.scoutedTeamsCount>=1?"medium":"low",discrepancies:r,totalScoutedPoints:c,totalTBAPoints:n.totalPoints,scoreDifference:n.totalPoints-c,scorePercentDiff:n.totalPoints>0?Math.abs(n.totalPoints-c)/n.totalPoints*100:0,scoutedData:t,tbaData:n}}function Jet(e,t,n,r){const a=[];for(const s of e)a.push({teamNumber:s.teamNumber.toString(),alliance:"red",scoutName:s.scoutName,hasScoutedData:!0,discrepancies:[],confidence:"medium",flagForReview:n.some(o=>o.severity==="critical"),notes:[]});for(const s of t)a.push({teamNumber:s.teamNumber.toString(),alliance:"blue",scoutName:s.scoutName,hasScoutedData:!0,discrepancies:[],confidence:"medium",flagForReview:r.some(o=>o.severity==="critical"),notes:[]});return a}function bie(e,t,n){return e>=n.requireReScoutThreshold?"failed":e>=n.autoFlagThreshold||t>0?"flagged":"passed"}function Xet(e,t,n,r){const a=e.scoutedTeamsCount+t.scoutedTeamsCount;return a<4?"low":n>r.maxDiscrepanciesForHighConfidence?"medium":a===6?"high":"medium"}function ett(e){const t=Mm(e.matchKey);return{id:`${e.matchKey.split("_")[0]}_${e.matchKey}`,eventKey:e.matchKey.split("_")[0]||"",matchKey:e.matchKey,matchNumber:e.matchNumber.toString(),compLevel:t.compLevel??"qm",setNumber:t.setNumber,status:"no-tba-data",confidence:"low",redAlliance:_S("red"),blueAlliance:_S("blue"),teams:[],totalDiscrepancies:0,criticalDiscrepancies:0,warningDiscrepancies:0,flaggedForReview:!1,requiresReScout:!1,validatedAt:Date.now()}}function ttt(e){const t=Mm(e.matchKey);return{id:`${e.matchKey.split("_")[0]}_${e.matchKey}`,eventKey:e.matchKey.split("_")[0]||"",matchKey:e.matchKey,matchNumber:e.matchNumber.toString(),compLevel:t.compLevel??"qm",setNumber:t.setNumber,status:"no-scouting",confidence:"low",redAlliance:_S("red"),blueAlliance:_S("blue"),teams:[],totalDiscrepancies:0,criticalDiscrepancies:0,warningDiscrepancies:0,flaggedForReview:!1,requiresReScout:!1,validatedAt:Date.now()}}function _S(e){return{alliance:e,status:"pending",confidence:"low",discrepancies:[],totalScoutedPoints:0,totalTBAPoints:0,scoreDifference:0,scorePercentDiff:0}}function ntt(e){const t=e.hubScore;return t?{autoFuel:t.autoCount??0,teleopFuel:t.teleopCount??0}:(console.warn("[2026 TBA] No hubScore found in breakdown"),{autoFuel:0,teleopFuel:0})}function rtt(e){if(typeof e!="string")return 0;const t=e.match(/Level(\d)/);return t!=null&&t[1]?parseInt(t[1],10):0}function att(e,t,n,r){return{autoFuel:e>0?t/e:1,teleopFuel:n>0?r/n:1}}function stt(e,t,n,r,a,s){return{teamNumber:e,rawAutoFuel:t,rawTeleopFuel:n,rawTowerLevel:r,scaledAutoFuel:Math.round(t*a.autoFuel),scaledTeleopFuel:Math.round(n*a.teleopFuel),officialTowerLevel:s??r,scalingApplied:!0,scalingFactors:a}}function wb(e,t,n){const{autoFuel:r,teleopFuel:a}=ntt(n);let s=0,o=0;const l=[];for(const d of t){const f=d.gameData;let h=0,m=0,g=0;f.auto&&typeof f.auto=="object"&&(h=f.auto.fuelScored??0),f.teleop&&typeof f.teleop=="object"&&(m=f.teleop.fuelScored??0),f.endgame&&typeof f.endgame=="object"&&(g=f.endgame.towerLevel??0),h===0&&f.autoFuelScored&&(h=f.autoFuelScored),m===0&&f.teleopFuelScored&&(m=f.teleopFuelScored),g===0&&f.towerLevel&&(g=f.towerLevel),s+=h,o+=m,l.push({teamNumber:d.teamNumber.toString(),autoFuel:h,teleopFuel:m,towerLevel:g})}const c=att(s,r,o,a),u=l.map((d,f)=>{const h=`endGameTowerRobot${f+1}`,m=n[h],g=rtt(m);return stt(d.teamNumber,d.autoFuel,d.teleopFuel,d.towerLevel,c,g)});return{alliance:e,scoutedAutoTotal:s,officialAutoTotal:r,scoutedTeleopTotal:o,officialTeleopTotal:a,scalingFactors:c,teams:u}}async function jz(e,t,n){let r=0,a=0;const s=[...n.red.teams,...n.blue.teams];for(const o of s)try{const c=(await Gr.scoutingData.where("[teamNumber+eventKey]").equals([parseInt(o.teamNumber),e]).toArray()).find(u=>u.matchKey===t);if(c){const u={...c.gameData,scaledMetrics:{scalingApplied:!0,scaledAutoFuel:o.scaledAutoFuel,scaledTeleopFuel:o.scaledTeleopFuel,scalingFactorAuto:o.scalingFactors.autoFuel,scalingFactorTeleop:o.scalingFactors.teleopFuel,officialTowerLevel:o.officialTowerLevel,lastScaledAt:Date.now()}};await Gr.scoutingData.update(c.id,{gameData:u}),r++,console.log(`[2026 Scaling] Updated entry for team ${o.teamNumber}:`,{scaledAuto:o.scaledAutoFuel,scaledTeleop:o.scaledTeleopFuel,officialTower:o.officialTowerLevel})}else console.warn(`[2026 Scaling] Entry not found for team ${o.teamNumber} in match ${t}`),a++}catch(l){console.error(`[2026 Scaling] Error updating team ${o.teamNumber}:`,l),a++}return{updated:r,errors:a}}async function XT(e){try{const n=(await Gr.scoutingData.toArray()).filter(r=>r.eventKey===e);return console.log(`[ScoutingDB] Found ${n.length} entries for event ${e}`),n.map(r=>({...r,matchKey:r.matchKey||`${e}_qm${r.matchNumber}`,matchNumber:r.matchNumber,allianceColor:r.allianceColor,scoutName:r.scoutName,gameData:r.gameData||{}}))}catch(t){return console.error("[ScoutingDB] Error loading entries:",t),[]}}const itt=Object.freeze(Object.defineProperty({__proto__:null,getEntriesByEvent:XT},Symbol.toStringTag,{value:"Module"}));function ott(e){const{eventKey:t,config:n,autoLoad:r,enableScaling:a=!0}=e,s=Qet({eventKey:t,config:n,autoLoad:r}),{matches:o}=YR(),l=p.useCallback(async u=>{const d=await s.validateMatch(u);if(!d||!a)return d;try{const f=o.find(S=>S.key===u);if(!f||!f.score_breakdown)return console.log("[2026 Scaling] No TBA data for scaling:",u),d;const m=(await XT(t)).filter(S=>S.matchKey===u);if(m.length===0)return d;const g=m.filter(S=>S.allianceColor==="red"),v=m.filter(S=>S.allianceColor==="blue"),b=f.score_breakdown.red,y=f.score_breakdown.blue,x=wb("red",g,b),w=wb("blue",v,y);await jz(t,u,{red:x,blue:w}),console.log("[2026 Scaling] Applied scaling to match:",u),le.success(`Scaling applied to ${u}`,{duration:2e3})}catch(f){console.error("[2026 Scaling] Error applying scaling:",f)}return d},[s,a,t,o]),c=p.useCallback(async()=>{if(await s.validateEvent(),!!a)try{const u=s.matchList.filter(f=>f.hasScouting&&f.hasTBAResults&&f.validationResult);let d=0;for(const f of u)try{const h=o.find(j=>j.key===f.matchKey);if(!h||!h.score_breakdown)continue;const g=(await XT(t)).filter(j=>j.matchKey===f.matchKey);if(g.length===0)continue;const v=g.filter(j=>j.allianceColor==="red"),b=g.filter(j=>j.allianceColor==="blue"),y=h.score_breakdown.red,x=h.score_breakdown.blue,w=wb("red",v,y),S=wb("blue",b,x);await jz(t,f.matchKey,{red:w,blue:S}),d++}catch(h){console.error(`[2026 Scaling] Error scaling match ${f.matchKey}:`,h)}d>0&&le.success(`Applied scaling to ${d} matches`)}catch(u){console.error("[2026 Scaling] Error in batch scaling:",u),le.error("Some matches could not be scaled")}},[s,a,t,o]);return{...s,validateMatch:l,validateEvent:c,scalingEnabled:a}}const qO=({status:e,size:t="md",showIcon:n=!0})=>{const a=(c=>{switch(c){case"passed":return{label:"Passed",className:"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-400 border-green-200 dark:border-green-800",icon:Ur};case"flagged":return{label:"Flagged",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",icon:Ln};case"failed":return{label:"Failed",className:"bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-400 border-red-200 dark:border-red-800",icon:Fw};case"pending":return{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400 border-gray-200 dark:border-gray-700",icon:jc};case"no-tba-data":return{label:"No TBA Data",className:"bg-blue-100 text-blue-800 dark:bg-blue-950 dark:text-blue-400 border-blue-200 dark:border-blue-800",icon:bo};default:return{label:"Unknown",className:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400 border-gray-200 dark:border-gray-700",icon:jc}}})(e),s=a.icon,o={sm:"text-xs",md:"text-sm",lg:"text-base"},l={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return i.jsxs(Oe,{className:`${a.className} ${o[t]} font-medium`,children:[n&&i.jsx(s,{className:`${l[t]} mr-1`}),a.label]})},ltt=({results:e})=>{const t=e.map(f=>f.validationResult).filter(f=>f!=null),n=t.length,r=t.filter(f=>f.status==="passed").length,a=t.filter(f=>f.status==="flagged").length,s=t.filter(f=>f.status==="failed").length,o=t.reduce((f,h)=>f+h.criticalDiscrepancies,0),l=t.reduce((f,h)=>f+h.warningDiscrepancies,0),c=t.length>0?t.filter(f=>f.confidence==="high").length/t.length:0,u=c>=.8?"High":c>=.5?"Medium":"Low",d=[{label:"Total Validated",value:n,icon:Ed,className:"text-gray-600 dark:text-gray-400"},{label:"Passed",value:r,icon:nm,className:"text-green-600 dark:text-green-400",percentage:n>0?Math.round(r/n*100):0},{label:"Flagged",value:a,icon:Ln,className:"text-yellow-600 dark:text-yellow-400",percentage:n>0?Math.round(a/n*100):0},{label:"Failed",value:s,icon:Fw,className:"text-red-600 dark:text-red-400",percentage:n>0?Math.round(s/n*100):0}];return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Ed,{className:"h-5 w-5"}),"Validation Summary"]})}),i.jsxs($e,{children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:d.map(f=>{const h=f.icon;return i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx(h,{className:"h-4 w-4"}),i.jsx("span",{children:f.label})]}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("div",{className:`text-3xl font-bold ${f.className}`,children:f.value}),f.percentage!==void 0&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:["(",f.percentage,"%)"]})]})]},f.label)})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4 border-t",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Discrepancies"}),i.jsx("div",{className:"text-2xl font-semibold",children:o+l})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Critical"}),i.jsx("div",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:o})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Confidence"}),i.jsx("div",{className:`text-2xl font-semibold ${u==="High"?"text-green-600 dark:text-green-400":u==="Medium"?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:u})]})]})]})]})},Nz=({allianceValidation:e,onRescoutAlliance:t})=>{const n=e.alliance==="red",r=n?"bg-red-100 dark:bg-red-950":"bg-blue-100 dark:bg-blue-950",a=n?"border-red-300 dark:border-red-800":"border-blue-300 dark:border-blue-800",s=n?"text-red-900 dark:text-red-100":"text-blue-900 dark:text-blue-100",o=l=>{switch(l){case"critical":return"destructive";case"warning":return"default";case"minor":return"secondary";default:return"outline"}};return i.jsxs(_e,{className:`${a} border-2`,children:[i.jsx(Ge,{className:r,children:i.jsxs(We,{className:`flex items-center justify-between ${s} pt-1`,children:[i.jsxs("span",{className:"capitalize",children:[e.alliance," Alliance"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qO,{status:e.status,size:"sm"}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>t(e.alliance),className:"bg-white/50 dark:bg-gray-900/50 hover:bg-white dark:hover:bg-gray-900",children:[i.jsx(Ul,{className:"h-3 w-3 mr-1"}),"Re-Scout Alliance"]})]})]})}),i.jsxs($e,{className:"pt-4",children:[i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Scouted Score:"}),i.jsx("span",{className:"font-bold text-lg",children:e.totalScoutedPoints})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"TBA Score:"}),i.jsx("span",{className:"font-bold text-lg",children:e.totalTBAPoints})]}),i.jsx(Fr,{}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Difference:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`font-bold ${Math.abs(e.scoreDifference)>10?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[e.scoreDifference>0?"+":"",e.scoreDifference]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",e.scorePercentDiff.toFixed(1),"%)"]})]})]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Confidence:"}),i.jsx(Oe,{variant:e.confidence==="high"?"default":e.confidence==="medium"?"secondary":"destructive",children:e.confidence.toUpperCase()})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-sm font-medium",children:"Discrepancies:"}),e.discrepancies.length===0?i.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[i.jsx(nm,{className:"h-4 w-4"}),i.jsx("span",{children:"No discrepancies found"})]}):i.jsx("div",{className:"space-y-1",children:["critical","warning","minor"].map(l=>{const c=e.discrepancies.filter(u=>u.severity===l).length;return c===0?null:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"capitalize",children:[l,":"]}),i.jsx(Oe,{variant:o(l),className:"text-xs",children:c})]},l)})})]})]})]})},ctt=({match:e})=>i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-base",children:"Match Summary"})}),i.jsxs($e,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Discrepancies"}),i.jsx("div",{className:"text-2xl font-bold",children:e.totalDiscrepancies})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),i.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.criticalDiscrepancies})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Warnings"}),i.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:e.warningDiscrepancies})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"}),i.jsx(Oe,{variant:e.confidence==="high"?"default":e.confidence==="medium"?"secondary":"destructive",className:"text-lg",children:e.confidence.toUpperCase()})]})]}),e.flaggedForReview&&i.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-900 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-300",children:[i.jsx(Ln,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Flagged for Review"})]})}),e.requiresReScout&&i.jsx("div",{className:"mt-2 p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-800 dark:text-red-300",children:[i.jsx(Ln,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Requires Re-Scouting"})]})})]})]}),utt=({discrepancies:e,getSeverityVariant:t})=>e.length===0?null:i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"text-base flex items-center gap-2",children:[i.jsx(Ln,{className:"h-4 w-4"}),"Detailed Discrepancies (",e.length,")"]})}),i.jsx($e,{children:i.jsx("div",{className:"space-y-3",children:e.map((n,r)=>i.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Oe,{variant:"outline",className:n.alliance==="red"?"bg-red-100 dark:bg-red-950 border-red-300 dark:border-red-800":"bg-blue-100 dark:bg-blue-950 border-blue-300 dark:border-blue-800",children:n.alliance.toUpperCase()}),i.jsx(Oe,{variant:t(n.severity),children:n.severity.toUpperCase()}),i.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:n.category.replace("-"," ")})]}),i.jsx("div",{className:"font-medium text-sm mb-1",children:n.message}),i.jsx("div",{className:"text-xs text-muted-foreground",children:n.field})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"text-muted-foreground",children:"Scouted:"}),i.jsx("div",{className:"font-bold",children:n.scoutedValue})]}),i.jsxs("div",{className:"text-sm mt-1",children:[i.jsx("div",{className:"text-muted-foreground",children:"TBA:"}),i.jsx("div",{className:"font-bold",children:n.tbaValue})]}),i.jsxs("div",{className:"text-xs mt-1 text-muted-foreground",children:[" ",n.difference," (",n.percentDiff.toFixed(1),"%)"]})]})]})},`${n.alliance}-${n.field}-${r}`))})})]}),dtt=({teams:e,onRescoutTeam:t})=>!e||e.length===0?null:i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-base",children:"Team Breakdown"})}),i.jsx($e,{children:i.jsx("div",{className:"space-y-4",children:e.map(n=>i.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx(Oe,{variant:"outline",className:`shrink-0 ${n.alliance==="red"?"bg-red-100 dark:bg-red-950":"bg-blue-100 dark:bg-blue-950"}`,children:n.teamNumber}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("div",{className:"text-sm font-medium flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"truncate",children:n.hasScoutedData?n.scoutName:"No Data"}),n.isCorrected&&i.jsx(Oe,{variant:"secondary",className:"text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 shrink-0",children:"Corrected"})]}),n.notes.length>0&&i.jsx("div",{className:"text-xs text-muted-foreground",children:n.notes.join(", ")}),n.isCorrected&&n.correctionCount&&n.correctionCount>0&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.correctionCount," ",n.correctionCount===1?"correction":"corrections",n.lastCorrectedBy&&` by ${n.lastCorrectedBy}`,n.lastCorrectedAt&&`  ${new Date(n.lastCorrectedAt).toLocaleString()}`]}),n.correctionNotes&&i.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-400 italic mt-1",children:["Note: ",n.correctionNotes]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap shrink-0",children:[n.flagForReview&&i.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Review"}),i.jsx(Oe,{variant:n.confidence==="high"?"default":n.confidence==="medium"?"secondary":"destructive",className:"text-xs",children:n.confidence}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>t(n.teamNumber,n.alliance),children:[i.jsx(Ul,{className:"h-3 w-3 mr-1"}),"Re-Scout"]})]})]})},n.teamNumber))})})]}),ftt=({match:e,isOpen:t,onClose:n,onReValidate:r,formatMatchLabel:a})=>{const s=zo(),o=e.validationResult,l=a?a({...e,matchNumber:e.matchNumber.toString()}):e.displayName,c=()=>e.matchKey?`https://www.thebluealliance.com/match/${e.matchKey}`:null,u=(g,v)=>{s("/game-start",{state:{rescout:{isRescout:!0,matchNumber:e.matchNumber.toString(),teamNumber:g,alliance:v,eventKey:e.matchKey.split("_")[0]}}})},d=g=>{var y;const v=((y=o==null?void 0:o.teams)==null?void 0:y.filter(x=>x.alliance===g).map(x=>x.teamNumber))||[];if(v.length===0){console.warn("No teams found for alliance:",g);return}const b={isRescout:!0,matchNumber:e.matchNumber.toString(),alliance:g,eventKey:e.matchKey.split("_")[0],teams:v,currentTeamIndex:0};s("/game-start",{state:{rescout:b}})},f=g=>{switch(g){case"critical":return"destructive";case"warning":return"default";case"minor":return"secondary";default:return"outline"}},h=o?[...o.redAlliance.discrepancies.map(g=>({...g,alliance:"red"})),...o.blueAlliance.discrepancies.map(g=>({...g,alliance:"blue"}))].sort((g,v)=>{const b={critical:0,warning:1,minor:2,none:3};return b[g.severity]-b[v.severity]}):[],m=(o==null?void 0:o.status)??(e.hasScouting?"pending":"no-scouting");return i.jsx(Jm,{open:t,onOpenChange:n,children:i.jsxs(Xm,{side:"right",className:"w-full sm:max-w-3xl overflow-y-auto p-4",children:[i.jsx(ep,{className:"pt-4 px-0 pb-0",children:i.jsxs(tp,{className:"flex flex-col gap-3 py-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{children:l}),i.jsx(qO,{status:m})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c()&&i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.open(c(),"_blank"),className:"p-4",children:[i.jsx(xg,{className:"h-4 w-4 mr-2"}),"View in TBA"]}),r&&o&&i.jsxs(X,{variant:"outline",size:"sm",onClick:r,className:"p-4",children:[i.jsx(Ul,{className:"h-4 w-4"}),"Re-validate"]})]})]})}),i.jsx("div",{className:"space-y-6",children:o?i.jsxs(i.Fragment,{children:[i.jsx(ctt,{match:o}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Alliance Comparison"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Nz,{allianceValidation:o.redAlliance,onRescoutAlliance:d}),i.jsx(Nz,{allianceValidation:o.blueAlliance,onRescoutAlliance:d})]})]}),i.jsx(utt,{discrepancies:h,getSeverityVariant:f}),i.jsx(dtt,{teams:o.teams||[],onRescoutTeam:u}),i.jsxs("div",{className:"text-xs text-muted-foreground text-center pb-4",children:["Validated: ",new Date(o.validatedAt).toLocaleString(),o.validatedBy&&`  By: ${o.validatedBy}`]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(sr,{children:[i.jsx(Iy,{className:"h-4 w-4"}),i.jsx(gr,{children:e.hasScouting?'This match has scouting data but has not been validated yet. Click "Validate Event" on the main page to run validation.':"This match has not been scouted yet. TBA data is shown below."})]}),e.hasTBAResults&&e.redScore!==void 0&&e.blueScore!==void 0?i.jsxs(i.Fragment,{children:[i.jsx(_e,{children:i.jsxs($e,{className:"pt-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"TBA Match Results"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"border-2 border-red-300 dark:border-red-800 rounded-lg p-4 bg-red-50 dark:bg-red-950/30",children:[i.jsx("div",{className:"text-sm text-red-700 dark:text-red-300 font-medium mb-2",children:"Red Alliance"}),i.jsx("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100 mb-2",children:e.redScore}),i.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:e.redTeams.map(g=>i.jsx("div",{children:g},g))}),e.redAutoScore!==void 0&&e.redTeleopScore!==void 0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200 dark:border-red-800 text-xs space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Auto:"}),i.jsx("span",{className:"font-medium",children:e.redAutoScore})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Teleop:"}),i.jsx("span",{className:"font-medium",children:e.redTeleopScore})]})]})]}),i.jsxs("div",{className:"border-2 border-blue-300 dark:border-blue-800 rounded-lg p-4 bg-blue-50 dark:bg-blue-950/30",children:[i.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-2",children:"Blue Alliance"}),i.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mb-2",children:e.blueScore}),i.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:e.blueTeams.map(g=>i.jsx("div",{children:g},g))}),e.blueAutoScore!==void 0&&e.blueTeleopScore!==void 0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-800 text-xs space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Auto:"}),i.jsx("span",{className:"font-medium",children:e.blueAutoScore})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Teleop:"}),i.jsx("span",{className:"font-medium",children:e.blueTeleopScore})]})]})]})]}),i.jsx("div",{className:"space-y-2 text-sm",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Scouting Status:"}),i.jsx("span",{className:"font-medium",children:e.scoutingComplete?"Complete":e.hasScouting?`Partial (${e.redTeamsScouted+e.blueTeamsScouted}/6 teams)`:"Not Scouted"})]})})]})}),!e.hasScouting&&i.jsxs(sr,{children:[i.jsx(Ln,{className:"h-4 w-4"}),i.jsx(gr,{children:"To validate this match, scout all 6 teams using the Game Start page."})]})]}):i.jsx(_e,{children:i.jsx($e,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:l})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"TBA Results:"}),i.jsx("span",{className:"font-medium",children:"Not Available"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Red Alliance:"}),i.jsx("span",{className:"font-medium",children:e.redTeams.join(", ")})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Blue Alliance:"}),i.jsx("span",{className:"font-medium",children:e.blueTeams.join(", ")})]})]})})})]})})]})})},htt=({filters:e,onFiltersChange:t,matchCount:n,filteredCount:r})=>{const a=(s,o)=>{t({...e,[s]:o})};return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{children:"Filters & Sorting"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{htmlFor:"search",className:"flex items-center gap-2",children:[i.jsx(sD,{className:"h-4 w-4"}),"Search"]}),i.jsx(en,{id:"search",placeholder:"Match number or team...",value:e.searchQuery,onChange:s=>a("searchQuery",s.target.value),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-0 lg:max-w-5xl",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{htmlFor:"matchType",className:"flex items-center gap-2",children:[i.jsx(Bw,{className:"h-4 w-4"}),"Match Type"]}),i.jsxs(Br,{value:e.matchType,onValueChange:s=>a("matchType",s),children:[i.jsx(Vr,{id:"matchType",children:i.jsx(oa,{})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"all",children:"All Matches"}),i.jsx(ot,{value:"qm",children:"Qualifications"}),i.jsx(ot,{value:"sf",children:"Eliminations"}),i.jsx(ot,{value:"f",children:"Finals"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"status",children:"Status"}),i.jsxs(Br,{value:e.status,onValueChange:s=>a("status",s),children:[i.jsx(Vr,{id:"status",children:i.jsx(oa,{})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"all",children:"All Status"}),i.jsx(ot,{value:"passed",children:" Passed"}),i.jsx(ot,{value:"flagged",children:" Flagged"}),i.jsx(ot,{value:"failed",children:" Failed"}),i.jsx(ot,{value:"pending",children:" Pending"}),i.jsx(ot,{value:"no-tba-data",children:" No TBA Data"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{htmlFor:"sortBy",className:"flex items-center gap-2",children:[i.jsx(mG,{className:"h-4 w-4"}),"Sort By"]}),i.jsxs(Br,{value:e.sortBy,onValueChange:s=>a("sortBy",s),children:[i.jsx(Vr,{id:"sortBy",children:i.jsx(oa,{})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"match",children:"Match Number"}),i.jsx(ot,{value:"status",children:"Status"}),i.jsx(ot,{value:"discrepancies",children:"Discrepancies"}),i.jsx(ot,{value:"confidence",children:"Confidence"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ft,{htmlFor:"sortOrder",children:"Order"}),i.jsxs(Br,{value:e.sortOrder,onValueChange:s=>a("sortOrder",s),children:[i.jsx(Vr,{id:"sortOrder",children:i.jsx(oa,{})}),i.jsxs(zr,{children:[i.jsx(ot,{value:"desc",children:"Descending"}),i.jsx(ot,{value:"asc",children:"Ascending"})]})]})]})]}),i.jsx("div",{className:"text-sm text-muted-foreground pt-2 border-t",children:r===n?i.jsxs("span",{children:["Showing all ",n," matches"]}):i.jsxs("span",{children:["Showing ",r," of ",n," matches"]})})]})})]})};function mtt({className:e,...t}){return i.jsx(tJ,{"data-slot":"tabs",className:De("flex flex-col gap-2",e),...t})}function ptt({className:e,...t}){return i.jsx(nJ,{"data-slot":"tabs-list",className:De("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function kz({className:e,...t}){return i.jsx(rJ,{"data-slot":"tabs-trigger",className:De("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Az({className:e,...t}){return i.jsx(aJ,{"data-slot":"tabs-content",className:De("flex-1 outline-none",e),...t})}const wie=({thresholds:e,onChange:t,compact:n})=>{const r=(a,s)=>{const o=s===""||s==="-"?0:Number(s);t({...e,[a]:o})};return n?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ft,{className:"text-xs flex items-center gap-1",children:[i.jsx(Oe,{variant:"destructive",className:"text-xs px-1",children:"Critical"}),i.jsx("span",{children:"%"})]}),i.jsx(en,{type:"number",min:"0",max:"100",value:e.critical||"",onChange:a=>r("critical",a.target.value),className:"h-8 text-xs",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ft,{className:"text-xs flex items-center gap-1",children:[i.jsx(Oe,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0 text-xs px-1",children:"Warning"}),i.jsx("span",{children:"%"})]}),i.jsx(en,{type:"number",min:"0",max:"100",value:e.warning||"",onChange:a=>r("warning",a.target.value),className:"h-8 text-xs",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ft,{className:"text-xs flex items-center gap-1",children:[i.jsx(Oe,{variant:"secondary",className:"text-xs px-1",children:"Minor"}),i.jsx("span",{children:"%"})]}),i.jsx(en,{type:"number",min:"0",max:"100",value:e.minor||"",onChange:a=>r("minor",a.target.value),className:"h-8 text-xs",placeholder:"0"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ft,{className:"text-xs flex items-center gap-1",children:[i.jsx(Oe,{variant:"destructive",className:"text-xs px-1",children:"Critical"}),i.jsx("span",{children:"pcs"})]}),i.jsx(en,{type:"number",min:"0",value:e.criticalAbsolute||"",onChange:a=>r("criticalAbsolute",a.target.value),className:"h-8 text-xs",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ft,{className:"text-xs flex items-center gap-1",children:[i.jsx(Oe,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0 text-xs px-1",children:"Warning"}),i.jsx("span",{children:"pcs"})]}),i.jsx(en,{type:"number",min:"0",value:e.warningAbsolute||"",onChange:a=>r("warningAbsolute",a.target.value),className:"h-8 text-xs",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ft,{className:"text-xs flex items-center gap-1",children:[i.jsx(Oe,{variant:"secondary",className:"text-xs px-1",children:"Minor"}),i.jsx("span",{children:"pcs"})]}),i.jsx(en,{type:"number",min:"0",value:e.minorAbsolute||"",onChange:a=>r("minorAbsolute",a.target.value),className:"h-8 text-xs",placeholder:"0"})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Critical"}),i.jsx("span",{className:"text-xs",children:"%"})]}),i.jsx(en,{type:"number",min:"0",max:"100",value:e.critical||"",onChange:a=>r("critical",a.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{className:"flex items-center gap-2",children:[i.jsx(Oe,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0 text-xs",children:"Warning"}),i.jsx("span",{className:"text-xs",children:"%"})]}),i.jsx(en,{type:"number",min:"0",max:"100",value:e.warning||"",onChange:a=>r("warning",a.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Minor"}),i.jsx("span",{className:"text-xs",children:"%"})]}),i.jsx(en,{type:"number",min:"0",max:"100",value:e.minor||"",onChange:a=>r("minor",a.target.value),placeholder:"0"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"destructive",className:"text-xs",children:"Critical"}),i.jsx("span",{className:"text-xs",children:"pcs"})]}),i.jsx(en,{type:"number",min:"0",value:e.criticalAbsolute||"",onChange:a=>r("criticalAbsolute",a.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{className:"flex items-center gap-2",children:[i.jsx(Oe,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0 text-xs",children:"Warning"}),i.jsx("span",{className:"text-xs",children:"pcs"})]}),i.jsx(en,{type:"number",min:"0",value:e.warningAbsolute||"",onChange:a=>r("warningAbsolute",a.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ft,{className:"flex items-center gap-2",children:[i.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Minor"}),i.jsx("span",{className:"text-xs",children:"pcs"})]}),i.jsx(en,{type:"number",min:"0",value:e.minorAbsolute||"",onChange:a=>r("minorAbsolute",a.target.value),placeholder:"0"})]})]})]})},gtt=({categories:e,expandedCategories:t,onToggleCategory:n,getCategoryThresholds:r,hasCategoryOverride:a,onUpdateCategoryThresholds:s})=>i.jsxs("div",{className:"space-y-3 mt-4",children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Click a category to customize its thresholds. Leave empty to use defaults."}),e.map(o=>{const l=t.has(o.key),c=a(o.key),u=r(o.key);return i.jsxs(_e,{children:[i.jsx(Ge,{className:"cursor-pointer hover:bg-muted/50 transition-colors p-4",onClick:()=>n(o.key),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(We,{className:"text-sm",children:o.label}),c&&i.jsx(Oe,{variant:"outline",className:"text-xs",children:"Custom"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description})]}),l?i.jsx(eD,{className:"h-4 w-4"}):i.jsx(Ry,{className:"h-4 w-4"})]})}),l&&i.jsx($e,{className:"pt-0 pb-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(wie,{thresholds:u,onChange:d=>{s(o.key,d)},compact:!0}),i.jsx("div",{className:"flex gap-2 pt-2",children:c?i.jsx(X,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>s(o.key,void 0),children:"Use Defaults"}):i.jsx("div",{className:"text-xs text-muted-foreground",children:"Currently using default thresholds"})})]})})]},o.key)})]});function vtt(){return zNe()}const ytt=({isOpen:e,onClose:t,currentConfig:n,onSave:r})=>{const[a,s]=p.useState(n),[o,l]=p.useState(!1),[c,u]=p.useState(new Set),d=vtt();p.useEffect(()=>{s(n),l(!1)},[n,e]);const f=w=>{s(S=>({...S,thresholds:w})),l(!0)},h=(w,S)=>{s(j=>({...j,categoryThresholds:{...j.categoryThresholds,[w]:S}})),l(!0)},m=w=>{const S=new Set(c);S.has(w)?S.delete(w):S.add(w),u(S)},g=w=>{var S;return((S=a.categoryThresholds)==null?void 0:S[w])||a.thresholds},v=w=>{var S;return!!((S=a.categoryThresholds)!=null&&S[w])},b=()=>{r(a),l(!1),t()},y=()=>{s(ES),l(!0)},x=()=>{s(n),l(!1),t()};return i.jsx(Jm,{open:e,onOpenChange:w=>{w||x()},children:i.jsxs(Xm,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto p-4 flex flex-col",children:[i.jsxs(ep,{className:"pt-4 px-0 pb-0",children:[i.jsxs(tp,{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5"}),"Validation Settings"]}),i.jsx(Z7,{children:"Customize thresholds globally or per-category. Category overrides take precedence over defaults."})]}),i.jsxs(mtt,{defaultValue:"default",className:"mt-6 flex-1 flex flex-col",children:[i.jsxs(ptt,{className:"grid w-full grid-cols-2",children:[i.jsx(kz,{value:"default",children:"Default Thresholds"}),i.jsx(kz,{value:"categories",children:"Per-Category"})]}),i.jsxs(Az,{value:"default",className:"space-y-4 mt-4",children:[i.jsxs(_e,{children:[i.jsxs(Ge,{children:[i.jsx(We,{className:"text-base",children:"Global Defaults"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"These thresholds apply to all categories unless overridden"})]}),i.jsx($e,{children:i.jsx(wie,{thresholds:a.thresholds,onChange:f})})]}),i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsx(We,{className:"text-sm",children:"How It Works"})}),i.jsxs($e,{className:"text-xs text-muted-foreground space-y-2",children:[i.jsx("p",{children:i.jsx("strong",{children:"Absolute thresholds checked first:"})}),i.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[i.jsx("li",{children:"If difference  critical absolute  Critical"}),i.jsx("li",{children:"If difference  warning absolute  Warning"}),i.jsx("li",{children:"If difference < warning absolute  Check percentage"})]}),i.jsx("p",{className:"mt-2",children:i.jsx("strong",{children:"Prevents false positives:"})}),i.jsx("p",{className:"ml-2",children:`Small counts like "0 vs 1" won't be critical despite 100% difference`})]})]})]}),i.jsx(Az,{value:"categories",className:"space-y-3 mt-4",children:i.jsx(gtt,{categories:d,expandedCategories:c,onToggleCategory:m,getCategoryThresholds:g,hasCategoryOverride:v,onUpdateCategoryThresholds:h})})]}),i.jsxs(jke,{className:"gap-2 pb-4 pt-6 px-0",children:[i.jsxs(X,{variant:"outline",onClick:y,className:"gap-2",children:[i.jsx(jfe,{className:"h-4 w-4"}),"Reset All"]}),i.jsx(X,{variant:"outline",onClick:x,children:"Cancel"}),i.jsxs(X,{onClick:b,disabled:!o,className:"gap-2",children:[i.jsx(aD,{className:"h-4 w-4"}),"Save Settings"]})]})]})})},xtt=({results:e,filteredResults:t,onMatchClick:n})=>i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5"}),"Matches (",t.length,")"]})}),i.jsx($e,{children:e.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("p",{children:"No matches loaded yet."}),i.jsx("p",{className:"text-sm mt-2",children:"Select an event to load matches."})]}):t.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("p",{children:"No matches found with the current filters."}),i.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search criteria."})]}):i.jsx("div",{className:"space-y-2",children:t.map(r=>{const a=r.validationResult,s=(a==null?void 0:a.status)??(r.hasScouting?"pending":"no-scouting");return i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors",onClick:()=>n(r),children:[i.jsxs("div",{className:"flex items-center gap-3 justify-between lg:justify-normal",children:[i.jsx("span",{className:"font-medium text-lg min-w-[100px]",children:r.displayName}),i.jsx(qO,{status:s})]}),i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 lg:gap-6",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.criticalDiscrepancies>0&&i.jsxs(Oe,{variant:"destructive",children:[a.criticalDiscrepancies," critical"]}),a.warningDiscrepancies>0&&i.jsxs(Oe,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0",children:[a.warningDiscrepancies," warnings"]}),a.criticalDiscrepancies===0&&a.warningDiscrepancies===0&&i.jsx("span",{className:"text-sm text-muted-foreground",children:"No issues"})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:text-right",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Confidence:"}),i.jsx("span",{className:`font-medium ${a.confidence==="high"?"text-green-600 dark:text-green-400":a.confidence==="medium"?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:a.confidence.charAt(0).toUpperCase()+a.confidence.slice(1)})]})]}):i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm text-muted-foreground",children:r.hasScouting?`Scouted: ${r.redTeamsScouted+r.blueTeamsScouted}/6 teams`:"Not scouted"})})})]},r.matchKey)})})})]}),Pz="validationConfig",btt=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(null),[a,s]=p.useState(!1),[o,l]=p.useState(ES);p.useEffect(()=>{const x=localStorage.getItem("eventKey")||"";t(x);const w=localStorage.getItem(Pz);if(w)try{l(JSON.parse(w))}catch{l(ES)}},[]);const{isValidating:c,matchList:u,filteredMatchList:d,filters:f,setFilters:h,validateEvent:m,refreshResults:g,scalingEnabled:v}=ott({eventKey:e,autoLoad:!0,config:o,enableScaling:!0});p.useEffect(()=>{if(n&&u.length>0){const x=u.find(w=>w.matchKey===n.matchKey);x&&x.validationResult!==n.validationResult&&r(x)}},[u,n]);const b=x=>{t(x),localStorage.setItem("eventKey",x)},y=x=>{l(x),localStorage.setItem(Pz,JSON.stringify(x))};return i.jsxs("div",{className:"container min-h-screen mx-auto px-4 pt-12 pb-24 space-y-6 mt-safe",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"shrink-0",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Match Validation"}),i.jsxs("p",{className:"text-muted-foreground",children:["Verify scouting data against official TBA results",v&&i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"  Fuel scaling enabled"})]})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap z-50 relative",children:[i.jsx(X,{type:"button",onClick:()=>{s(!0)},variant:"outline",size:"icon",title:"Validation Settings","aria-label":"Open validation settings",children:i.jsx(iD,{className:"h-4 w-4"})}),i.jsxs(X,{onClick:()=>g(),disabled:c,variant:"outline",children:[i.jsx(Ul,{className:`h - 4 w - 4 mr - 2 ${c?"animate-spin":""} `}),"Refresh"]}),i.jsx(X,{onClick:()=>m(),disabled:c||!e,className:"p-4",children:c?"Validating...":"Validate Event"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"font-medium shrink-0",children:"Event:"}),i.jsx(LC,{currentEventKey:e,onEventKeyChange:b})]}),!e&&i.jsx("p",{className:"text-sm text-muted-foreground wrap-break-word",children:"Please select an event to view validation results"})]})]}),!e&&i.jsx(_e,{children:i.jsx($e,{className:"py-12",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx("p",{className:"text-lg font-medium",children:"No Event Selected"}),i.jsx("p",{className:"text-sm mt-2",children:"Please select an event from the dropdown above to view validation results."})]})})}),u.length>0&&i.jsx(ltt,{results:u}),u.length>0&&i.jsx(htt,{filters:f,onFiltersChange:h,matchCount:u.length,filteredCount:d.length}),i.jsx(xtt,{results:u,filteredResults:d,onMatchClick:r}),n&&i.jsx(ftt,{match:n,isOpen:!!n,onClose:()=>r(null),onReValidate:()=>{r(null),m()},formatMatchLabel:vie}),i.jsx(ytt,{isOpen:a,onClose:()=>s(!1),currentConfig:o,onSave:y})]})};function Sie(){const[e,t]=p.useState(""),[n,r]=p.useState(0),[a,s]=p.useState([]),o=p.useCallback(async()=>{const f=localStorage.getItem("scoutsList"),h=localStorage.getItem("currentScout");let m=[];if(f)try{m=JSON.parse(f)}catch{m=[]}s(m);try{for(const g of m)await bl(g)}catch(g){console.error("Error ensuring scouts exist in database:",g)}if(h){t(h);try{const g=await bl(h);r(g.stakes)}catch(g){console.error("Error creating current scout in database:",g)}}},[]),l=async f=>{if(!f){r(0);return}try{const h=await vR(f);r((h==null?void 0:h.stakes)||0)}catch(h){console.error("Error fetching scout stakes:",h),r(0)}},c=async f=>{if(!f.trim())return;const h=f.trim(),m=a.includes(h)?a:[...a,h].sort();s(m),t(h),localStorage.setItem("scoutsList",JSON.stringify(m)),localStorage.setItem("currentScout",h);try{const g=await bl(h);r(g.stakes)}catch(g){console.error("Error creating scout in database:",g),le.error(`Failed to save scout to database: ${g}`)}le.success(`Switched to scout: ${h}`)},u=async f=>{const h=a.filter(m=>m!==f);s(h),localStorage.setItem("scoutsList",JSON.stringify(h));try{await xR(f)}catch(m){console.error("Error removing scout from database:",m)}e===f&&(t(""),r(0),localStorage.removeItem("currentScout"),localStorage.removeItem("scoutName")),le.success(`Removed scout: ${f}`)},d=()=>{t(""),r(0),s([])};return p.useEffect(()=>{const f=()=>{d()},h=async()=>{await o();const g=localStorage.getItem("currentScout");g&&await l(g)},m=async()=>{await o()};return o(),window.addEventListener("scoutDataCleared",f),window.addEventListener("scoutDataUpdated",h),window.addEventListener("scoutChanged",m),()=>{window.removeEventListener("scoutDataCleared",f),window.removeEventListener("scoutDataUpdated",h),window.removeEventListener("scoutChanged",m)}},[o]),p.useEffect(()=>{if(!e)return;const f=async()=>{await l(e)};f();const h=setInterval(f,3e4);return()=>clearInterval(h)},[e]),{currentScout:e,currentScoutStakes:n,scoutsList:a,saveScout:c,removeScout:u,loadScouts:o}}const Ez="tba_event_teams_",wtt=()=>{const e={};for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith(Ez))try{const r=localStorage.getItem(n);if(r){const a=JSON.parse(r),s=n.replace(Ez,"");a.teamNumbers?e[s]=a.teamNumbers:a.teams&&(e[s]=a.teams.map(o=>o.team_number).sort((o,l)=>o-l))}}catch(r){console.error(`Failed to parse stored teams for key ${n}:`,r)}}return e},Stt=()=>{const{scoutsList:e,saveScout:t,removeScout:n}=Sie(),[r,a]=p.useState(""),[s,o]=p.useState(!1),l=async()=>{if(!r.trim()){le.error("Please enter a scout name");return}if(e.includes(r.trim())){le.error("Scout already exists");return}o(!0);try{await t(r.trim()),a(""),le.success(`Added scout: ${r.trim()}`)}catch(d){console.error("Error adding scout:",d),le.error("Failed to add scout")}finally{o(!1)}},c=async d=>{try{await n(d),le.success(`Removed scout: ${d}`)}catch(f){console.error("Error removing scout:",f),le.error("Failed to remove scout")}},u=d=>{d.key==="Enter"&&l()};return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Scout Management"]})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(en,{placeholder:"Enter scout name or initials...",value:r,onChange:d=>a(d.target.value),onKeyPress:u,className:"flex-1"}),i.jsxs(X,{onClick:l,disabled:s||!r.trim(),className:"flex items-center gap-2",children:[i.jsx(sm,{className:"h-4 w-4"}),"Add"]})]}),e.length===0?i.jsxs(sr,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsxs(gr,{children:["No scouts added yet. Add scouts above to create pit assignments.",i.jsx("br",{}),i.jsx("span",{className:"text-xs text-muted-foreground mt-1 block",children:"Since pit scouting happens before competition, you can add temporary names/initials here."})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm font-medium",children:["Available Scouts (",e.length,"):"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(d=>i.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-800 rounded-lg px-3 py-2 border",children:[i.jsx("span",{className:"text-sm font-medium",children:d}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>c(d),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/20",children:i.jsx(Vs,{className:"h-3 w-3"})})]},d))})]}),e.length>0&&i.jsx("div",{className:"text-xs text-muted-foreground",children:" Tip: Teams will be divided into blocks among scouts. More scouts = smaller blocks per person."})]})})]})},DS=[{name:"blue",bg:"#3b82f6",border:"#1d4ed8",css:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800"},{name:"green",bg:"#10b981",border:"#047857",css:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800"},{name:"purple",bg:"#8b5cf6",border:"#7c3aed",css:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-300 dark:border-purple-800"},{name:"orange",bg:"#f97316",border:"#ea580c",css:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800"},{name:"pink",bg:"#ec4899",border:"#db2777",css:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/20 dark:text-pink-300 dark:border-pink-800"},{name:"indigo",bg:"#6366f1",border:"#4f46e5",css:"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-300 dark:border-indigo-800"},{name:"cyan",bg:"#06b6d4",border:"#0891b2",css:"bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/20 dark:text-cyan-300 dark:border-cyan-800"},{name:"emerald",bg:"#059669",border:"#047857",css:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-300 dark:border-emerald-800"}],jy=e=>{const t=DS[e%DS.length];return(t==null?void 0:t.css)||""},Ctt=e=>{const t=DS[e%DS.length];return t?{bg:t.bg,border:t.border}:{bg:"#e5e7eb",border:"#9ca3af"}},jtt=e=>{const t={};return e.forEach((n,r)=>{t[n]=Ctt(r)}),t},Ntt=({scoutsList:e,assignments:t,assignmentMode:n,assignmentsConfirmed:r,selectedScoutForAssignment:a,onScoutSelectionChange:s,hasAssignments:o})=>{const l=u=>{a===u?s==null||s(null):s==null||s(u)},c=n==="manual"&&!r;return i.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((u,d)=>{const f=t.filter(v=>v.scoutName===u),h=f.filter(v=>v.completed).length,m=f.length,g=c&&a===u;return i.jsx(X,{variant:g?"default":"outline",size:"default",className:`${jy(d)} px-2 ${c?`transition-all hover:scale-105 active:scale-95 ${g?"ring-2 ring-blue-500 shadow-md":"hover:shadow-sm"}`:"cursor-default"}`,title:c?`${u} - ${m} teams assigned - Click to select for assignment`:`${h}/${m} teams completed`,onClick:c?()=>l(u):void 0,disabled:!1,children:i.jsxs("div",{className:"flex items-center gap-1",children:[c&&i.jsx(Gc,{className:"h-3 w-3"}),i.jsxs("span",{children:[u," (",o?m:0,")"]})]})},u)})})},Cie=({assignments:e,className:t=""})=>{const n=e.filter(s=>s.completed).length,r=e.length,a=r>0?Math.round(n/r*100):0;return i.jsxs("div",{className:t,children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[i.jsx("span",{className:"font-medium",children:"Progress:"}),i.jsxs("span",{children:[n," of ",r," completed (",a,"%)"]})]}),i.jsx(sp,{value:r>0?n/r*100:0,className:"w-full"})]})},HO=({assignmentMode:e,assignmentsConfirmed:t,assignmentsLength:n,onClearAllAssignments:r,onConfirmAssignments:a,isMobile:s=!1})=>{const o=s?"flex flex-col items-center justify-center gap-4":"flex items-center justify-center gap-2",l=s?"text-sm w-full p-4 max-w-sm":"text-sm w-full p-4";return i.jsxs("div",{className:o,children:[i.jsx("div",{className:"flex w-full items-center justify-center",children:i.jsx(X,{variant:"outline",onClick:()=>{r&&r()},disabled:n===0&&!t,className:l,children:n>0?"Clear All Assignments":t?"Reset Assignments":"Clear Selection"})}),e==="manual"&&a&&!t&&i.jsx("div",{className:"flex justify-center w-full",children:i.jsxs(X,{onClick:a,className:"flex items-center gap-2 w-full max-w-sm",variant:"default",children:[s?i.jsx(Xa,{className:"h-4 w-4"}):i.jsx(Ur,{className:"h-4 w-4"}),"Confirm Assignments (",n," teams)"]})})]})},RS=({scoutsList:e,assignments:t,assignmentMode:n,assignmentsConfirmed:r,selectedScoutForAssignment:a,onScoutSelectionChange:s,onClearAllAssignments:o,onConfirmAssignments:l,hasAssignments:c,showMobileActions:u=!1,helpText:d})=>i.jsxs("div",{className:"mb-4 p-4 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"text-sm font-medium",children:n==="manual"&&!r?"Scouts (Click to Select):":"Assignment Legend:"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.length," scouts"]})]}),i.jsx("div",{className:"mb-3",children:i.jsx(Ntt,{scoutsList:e,assignments:t,assignmentMode:n,assignmentsConfirmed:r,selectedScoutForAssignment:a,onScoutSelectionChange:s,hasAssignments:c})}),c&&i.jsxs("div",{className:"mt-3 p-3",children:[i.jsx(Cie,{assignments:t}),u&&i.jsx("div",{className:"md:hidden mt-3",children:i.jsx(HO,{assignmentMode:n,assignmentsConfirmed:r,assignmentsLength:t.length,onClearAllAssignments:o,onConfirmAssignments:l,isMobile:!0})})]}),d&&i.jsx("div",{className:"text-xs text-muted-foreground pt-4",children:d})]}),ktt=({selectedEvent:e,pitMapData:t,pitAddresses:n,assignments:r,scoutsList:a,assignmentMode:s,assignmentsConfirmed:o,selectedScoutForAssignment:l,onScoutSelectionChange:c,onClearAllAssignments:u,onConfirmAssignments:d,onManualAssignment:f,onToggleCompleted:h})=>{const m=qe.useMemo(()=>jtt(a),[a]),g=()=>{let y=0,x=0,w=800,S=600;const j=50,k=[];if(t.pits&&Object.values(t.pits).forEach(N=>{var P,E,R,O;((P=N.position)==null?void 0:P.x)!==void 0&&((E=N.position)==null?void 0:E.y)!==void 0&&(k.push({x:N.position.x,y:N.position.y}),((R=N.size)==null?void 0:R.x)!==void 0&&((O=N.size)==null?void 0:O.y)!==void 0&&k.push({x:N.position.x+N.size.x,y:N.position.y+N.size.y}))}),t.areas&&Object.values(t.areas).forEach(N=>{var P,E,R,O;((P=N.position)==null?void 0:P.x)!==void 0&&((E=N.position)==null?void 0:E.y)!==void 0&&(k.push({x:N.position.x,y:N.position.y}),((R=N.size)==null?void 0:R.x)!==void 0&&((O=N.size)==null?void 0:O.y)!==void 0&&k.push({x:N.position.x+N.size.x,y:N.position.y+N.size.y}))}),k.length>0){const N=k.map(E=>E.x),P=k.map(E=>E.y);y=Math.min(...N)-j,x=Math.min(...P)-j,w=Math.max(...N)+j,S=Math.max(...P)+j}return`${y} ${x} ${w-y} ${S-x}`},v=()=>r.some((y,x)=>{var M,F,W,Z;if(x===0)return!1;const w=r[x],S=r[x-1];if(!w||!S)return!1;const j=w.teamNumber,k=S.teamNumber,N=n==null?void 0:n[j.toString()],P=n==null?void 0:n[k.toString()];if(!N||!P||!(t!=null&&t.pits))return!1;const E=t.pits[N],R=t.pits[P];if(!E||!R)return!1;const O=E,G=R,te=((M=O.position)==null?void 0:M.x)||O.x||0,V=((F=O.position)==null?void 0:F.y)||O.y||0,z=((W=G.position)==null?void 0:W.x)||G.x||0,$=((Z=G.position)==null?void 0:Z.y)||G.y||0;return Math.sqrt(Math.pow(te-z,2)+Math.pow(V-$,2))<100}),b=g();return i.jsxs(_e,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(rD,{className:"h-5 w-5"}),"Pit Map - ",e]}),i.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[r.length>0&&i.jsx(X,{onClick:u,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Clear All Assignments"}),s==="manual"&&!o&&r.length>0&&i.jsxs(X,{onClick:d,size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ur,{className:"h-4 w-4"}),"Confirm Assignments (",r.length," teams)"]})]})]})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Interactive pit map showing team locations from Nexus data"}),i.jsxs("div",{className:"flex items-center gap-4",children:[t.pits&&i.jsxs("span",{className:"text-sm",children:[Object.keys(t.pits).length," pit locations"]}),n&&i.jsxs("span",{className:"text-sm text-blue-600",children:[Object.keys(n).length," teams assigned"]})]})]}),i.jsxs("div",{className:"md:hidden flex flex-wrap gap-2 items-center",children:[r.length>0&&i.jsx(X,{onClick:u,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Clear All Assignments"}),s==="manual"&&!o&&r.length>0&&i.jsxs(X,{onClick:d,size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ur,{className:"h-4 w-4"}),"Confirm Assignments (",r.length," teams)"]})]}),s==="manual"&&!o&&i.jsx(RS,{scoutsList:a,assignments:r,assignmentMode:s,assignmentsConfirmed:o,selectedScoutForAssignment:l,onScoutSelectionChange:c,onClearAllAssignments:u,onConfirmAssignments:d,hasAssignments:r.length>0,showMobileActions:!0,helpText:"Click on pit locations to assign teams to the selected scout"}),r.length>0&&o&&i.jsx(RS,{scoutsList:a,assignments:r,assignmentMode:s,assignmentsConfirmed:o,hasAssignments:!0,onClearAllAssignments:u,showMobileActions:!0,helpText:"Assignments confirmed. Click on pit locations to mark them as completed/incomplete."}),i.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:i.jsxs("svg",{viewBox:b,className:"w-full border rounded",style:{height:"auto",minHeight:"600px",maxHeight:"800px"},preserveAspectRatio:"xMidYMid meet",children:[i.jsx("rect",{x:b.split(" ")[0],y:b.split(" ")[1],width:b.split(" ")[2],height:b.split(" ")[3],fill:"white",stroke:"#e5e7eb",strokeWidth:"1"}),t.areas&&Object.entries(t.areas).map(([y,x])=>{var N,P,E,R;const w=((N=x.position)==null?void 0:N.x)||x.x||0,S=((P=x.position)==null?void 0:P.y)||x.y||0,j=((E=x.size)==null?void 0:E.x)||x.width||50,k=((R=x.size)==null?void 0:R.y)||x.height||50;return i.jsxs("g",{children:[i.jsx("rect",{x:w,y:S,width:j,height:k,fill:"#f3f4f6",stroke:"#9ca3af",strokeWidth:"2",rx:"3"}),i.jsx("text",{x:w+j/2,y:S+k/2,textAnchor:"middle",fontSize:"12",fill:"#374151",fontWeight:"500",children:x.label||""})]},y)}),t.pits&&Object.entries(t.pits).map(([y,x])=>{var $,U,M,F;const w=x.team?typeof x.team=="string"?parseInt(x.team):x.team:null,S=(($=x.position)==null?void 0:$.x)||0,j=((U=x.position)==null?void 0:U.y)||0,k=((M=x.size)==null?void 0:M.x)||100,N=((F=x.size)==null?void 0:F.y)||100,P=w?r.find(W=>W.teamNumber===w):null,E=!!P,R=(P==null?void 0:P.completed)||!1,O=s==="manual"&&!o&&l&&w,G=o&&E&&w,te=O||G;let V="rgba(229, 231, 235, 0.3)",z="#9ca3af";if(w)if(E&&P.scoutName){const W=m[P.scoutName];W&&(V=W.bg,z=W.border,R||(V=W.bg+"dd"))}else V="#374151",z="#1f2937";return te&&(O?z="#10b981":G&&(z="#f59e0b")),i.jsxs("g",{children:[i.jsx("rect",{x:S,y:j,width:k,height:N,fill:V,stroke:z,strokeWidth:te?"3":"2",strokeDasharray:O?"5,5":"0",rx:"4",className:te?"cursor-pointer":"",onClick:()=>{O&&l?f(w,l):G&&P&&h(P.id)}}),w&&i.jsxs(i.Fragment,{children:[i.jsx("text",{x:S+k/2,y:j+N/2-5,textAnchor:"middle",fontSize:"18",fill:"white",fontWeight:"bold",className:te?"cursor-pointer":"",onClick:()=>{O&&l?f(w,l):G&&P&&h(P.id)},children:w}),E&&i.jsx("text",{x:S+k/2,y:j+N/2+12,textAnchor:"middle",fontSize:"10",fill:"white",fontWeight:"500",children:P.scoutName}),R&&i.jsxs(i.Fragment,{children:[i.jsx("circle",{cx:S+k-15,cy:j+15,r:"10",fill:"#10b981",stroke:"white",strokeWidth:"2"}),i.jsx("text",{x:S+k-15,y:j+20,textAnchor:"middle",fontSize:"12",fill:"white",fontWeight:"bold",children:""})]})]}),!w&&i.jsx("text",{x:S+k/2,y:j+N/2,textAnchor:"middle",fontSize:"12",fill:"#6b7280",children:y})]},y)}),t.labels&&Object.entries(t.labels).map(([y,x])=>{var k,N;const w=((k=x.position)==null?void 0:k.x)??x.x??0,S=((N=x.position)==null?void 0:N.y)??x.y??0,j=x.label??x.text??"";return i.jsx("text",{x:w,y:S,fontSize:"16",fill:"#374151",fontWeight:"bold",textAnchor:"middle",children:j},y)}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#f59e0b"})})})]})}),i.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-gray-200 border border-gray-400 rounded"}),i.jsx("span",{children:"Empty pits"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-gray-700 border border-gray-900 rounded"}),i.jsx("span",{children:"Unassigned teams"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-600 border border-green-800 rounded"}),i.jsx("span",{children:"Completed"})]}),o&&r.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-amber-500 border-2 border-amber-600 rounded"}),i.jsx("span",{children:"Click to toggle completion"})]})]}),o&&r.length>0&&i.jsx("div",{className:"text-center text-xs text-muted-foreground mt-2",children:v()?" Teams assigned using spatial proximity for optimal scouting routes":" Teams assigned in numerical sequence"})]})})]})},Att=({eventKey:e,teams:t,assignments:n=[],scoutsList:r=[],onToggleCompleted:a,assignmentMode:s="sequential",onManualAssignment:o,onRemoveAssignment:l,selectedScoutForAssignment:c,onScoutSelectionChange:u,onConfirmAssignments:d,onClearAllAssignments:f,assignmentsConfirmed:h=!1,pitAddresses:m=null,pitMapData:g=null,teamDataSource:v})=>{if(t.length===0)return null;if(v==="nexus"&&g&&m)return i.jsx(ktt,{selectedEvent:e,pitMapData:g,pitAddresses:m,assignments:n,scoutsList:r,assignmentMode:s,assignmentsConfirmed:h,selectedScoutForAssignment:c||null,onScoutSelectionChange:u||(()=>{}),onClearAllAssignments:f||(()=>{}),onConfirmAssignments:d||(()=>{}),onManualAssignment:o||(()=>{}),onToggleCompleted:a||(()=>{})});const y=new Map,x=new Map;n.forEach(k=>{y.set(k.teamNumber,k.scoutName),x.set(k.teamNumber,k)});const w=n.length>0,S=k=>{if(s==="manual")if(h){const N=x.get(k);N&&a&&a(N.id)}else c&&o&&o(k,c);else if(w&&a){const N=x.get(k);N&&a(N.id)}},j=k=>{l&&l(k)};return i.jsxs(_e,{className:"h-full",children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex w-full items-center gap-2 justify-between ",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Teams for ",e," (",t.length,")"]}),i.jsx("div",{className:"hidden md:flex items-center justify-center gap-2",children:i.jsx(HO,{assignmentMode:s,assignmentsConfirmed:h,assignmentsLength:n.length,onClearAllAssignments:f,onConfirmAssignments:d,isMobile:!1})})]})}),i.jsxs($e,{className:"flex flex-col h-full",children:[r.length>0?i.jsx(RS,{scoutsList:r,assignments:n,assignmentMode:s,assignmentsConfirmed:h,selectedScoutForAssignment:c,onScoutSelectionChange:u,onClearAllAssignments:f,onConfirmAssignments:d,hasAssignments:w,showMobileActions:!0,helpText:s==="manual"?c?` Selected: ${c} - Click team cards to assign  Right-click to remove assignment`:w?" Click a scout above, then click team cards to assign them  Right-click to remove assignment":"Click a scout above, then click team cards to assign them to that scout":" Click team cards to mark as completed  Gray with  = completed  Auto-marked when pit data exists"}):i.jsxs("div",{className:"mb-4 p-3 rounded-lg border flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:s==="manual"?"Ready for Manual Assignment":"Ready for Assignment"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.length," teams waiting"]})]}),i.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:s==="manual"?'Click "Start Manual Assignment" above, then select a scout and click team cards to assign them.':'These teams are available for pit scouting assignments. Add scouts above and click "Generate Assignments" to distribute teams.'})]}),"        ",i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-2 sm:gap-3",children:t.sort((k,N)=>k-N).map(k=>{const N=y.get(k),P=x.get(k),E=N?r.indexOf(N):-1,R=(P==null?void 0:P.completed)||!1,O=!!N;let G=!1;s==="manual"?h&&O?G=!!a:G=!!c||O:G=w&&!!a;let te="";return s==="manual"?O&&E>=0?te=jy(E):c?te="bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-800/50 dark:text-gray-200 dark:border-gray-600":te="bg-yellow-50 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800":w&&E>=0?(te=jy(E),R&&(te="bg-slate-200 text-slate-700 border-slate-400 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-500 opacity-75")):te="bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700",i.jsxs("div",{className:`relative flex items-center justify-center p-2 sm:p-3 rounded-lg border transition-all duration-300 ${te} ${G?"cursor-pointer hover:ring-2 hover:ring-blue-500/20 hover:scale-105 active:scale-95":""} ${R?"transform rotate-1":""}`,onClick:()=>S(k),onContextMenu:V=>{s==="manual"&&O&&!h&&(V.preventDefault(),j(k))},title:s==="manual"?O?h?`Team ${k} - Assigned to ${N} - Confirmed`:`Team ${k} - Assigned to ${N} - Right-click to remove`:c?`Team ${k} - Click to assign to ${c}`:`Team ${k} - Select a scout above first`:w?`${N||"Unassigned"} - ${R?"Completed ":"Pending"} - Click to toggle`:`Team ${k}`,children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("span",{className:`font-semibold text-sm text-center transition-all duration-300 ${R?"line-through text-lg":""}`,children:[R?" ":"",k]}),m&&m[k.toString()]&&i.jsxs("span",{className:"text-xs text-muted-foreground bg-blue-100 px-1 rounded mt-1",children:["Pit ",m[k.toString()]]})]}),s==="manual"&&!O&&c&&i.jsx(sm,{className:"absolute top-0 right-0 h-3 w-3 text-green-600"}),s==="manual"&&O&&!h&&i.jsx(X,{variant:"ghost",size:"sm",className:"absolute top-0 right-0 h-4 w-4 p-0 bg-red-100 hover:bg-red-200 text-red-600 rounded-full",onClick:V=>{V.stopPropagation(),j(k)},children:i.jsx(Wa,{className:"h-3 w-3"})})]},k)})}),i.jsx("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:w?(()=>{const k=n.filter(P=>P.completed).length,N=n.length;return`${k}/${N} teams completed (${t.length} total)`})():`${t.length} teams total`})]})]})]})},Ptt=({assignments:e,onToggleCompleted:t,onClearAllAssignments:n,assignmentMode:r="sequential",scoutsList:a=[],onManualAssignment:s,onRemoveAssignment:o,selectedScoutForAssignment:l,onScoutSelectionChange:c,assignmentsConfirmed:u=!1,allTeams:d=[],onConfirmAssignments:f,pitAddresses:h=null})=>{const[m,g]=p.useState(""),[v,b]=p.useState("all"),[y,x]=p.useState("team"),[w,S]=p.useState("asc"),k=(()=>{const z=new Map(e.map(U=>[U.teamNumber,U])),$=new Set([...d,...e.map(U=>U.teamNumber)]);return Array.from($).map(U=>{const M=z.get(U);return{teamNumber:U,assignment:M,scoutName:(M==null?void 0:M.scoutName)||null,completed:(M==null?void 0:M.completed)||!1,assigned:!!M}})})(),N=k.filter(z=>{const $=m===""||z.teamNumber.toString().includes(m)||z.scoutName&&z.scoutName.toLowerCase().includes(m.toLowerCase()),U=v==="all"||v==="completed"&&z.completed||v==="pending"&&!z.completed;return $&&U}).sort((z,$)=>{let U=0;switch(y){case"team":U=z.teamNumber-$.teamNumber;break;case"scout":{const M=z.scoutName||"",F=$.scoutName||"";U=M.localeCompare(F);break}case"status":U=Number(z.completed)-Number($.completed);break;case"assigned":U=Number(z.assigned)-Number($.assigned);break}return w==="asc"?U:-U}),P=e.filter(z=>z.completed).length,E=e.length-P,R=z=>{y===z?S(w==="asc"?"desc":"asc"):(x(z),S("asc"))},O=z=>{r==="manual"&&l&&s&&s(z,l)},G=z=>{o&&o(z)},te=()=>{const $=[["Team Number","Scout","Status","Assigned At"],...e.map(W=>[W.teamNumber.toString(),W.scoutName,W.completed?"Completed":"Pending",new Date(W.assignedAt).toLocaleDateString()])].map(W=>W.join(",")).join(`
`),U=new Blob([$],{type:"text/csv"}),M=window.URL.createObjectURL(U),F=document.createElement("a");F.href=M,F.download="pit-assignments.csv",document.body.appendChild(F),F.click(),document.body.removeChild(F),window.URL.revokeObjectURL(M)},V=z=>y!==z?null:w==="asc"?i.jsx(pG,{className:"h-3 w-3"}):i.jsx($ue,{className:"h-3 w-3"});return i.jsxs(_e,{children:[i.jsxs(Ge,{children:[i.jsxs(We,{className:"flex w-full items-center gap-2 justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ur,{className:"h-5 w-5"}),"Assignment Results (",k.length," teams)"]}),i.jsxs("div",{className:"hidden md:flex items-center justify-center gap-2",children:[i.jsx(HO,{assignmentMode:r,assignmentsConfirmed:u,assignmentsLength:e.length,onClearAllAssignments:n,onConfirmAssignments:f,isMobile:!1}),i.jsxs(X,{onClick:te,variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:e.length===0,children:[i.jsx(No,{className:"h-4 w-4"}),"Export CSV"]})]})]}),i.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Oe,{variant:"secondary",children:P}),i.jsx("span",{className:"text-muted-foreground",children:"Completed"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Oe,{variant:"outline",children:E}),i.jsx("span",{className:"text-muted-foreground",children:"Pending"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Oe,{variant:"outline",children:k.length-e.length}),i.jsx("span",{className:"text-muted-foreground",children:"Unassigned"})]})]})]}),i.jsxs($e,{children:[r==="manual"&&a.length>0&&i.jsx(RS,{scoutsList:a,assignments:e,assignmentMode:r,assignmentsConfirmed:u,selectedScoutForAssignment:l,onScoutSelectionChange:c,onClearAllAssignments:n,onConfirmAssignments:f,hasAssignments:e.length>0,showMobileActions:!0,helpText:u?" Click team rows to mark as completed  Auto-marked when pit data exists":l?` Selected: ${l} - Click team rows below to assign`:"Select a scout above, then click team rows to assign them to that scout"}),(r!=="manual"||a.length===0)&&e.length>0&&i.jsx("div",{className:"mb-4 p-4 rounded-lg",children:i.jsx(Cie,{assignments:e})}),i.jsxs("div",{className:"flex flex-col gap-4 mb-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(sD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(en,{placeholder:"Search teams or scouts...",value:m,onChange:z=>g(z.target.value),className:"pl-10 w-full"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(X,{variant:v==="all"?"default":"outline",size:"sm",onClick:()=>b("all"),children:"All"}),i.jsx(X,{variant:v==="pending"?"default":"outline",size:"sm",onClick:()=>b("pending"),children:"Pending"}),i.jsx(X,{variant:v==="completed"?"default":"outline",size:"sm",onClick:()=>b("completed"),children:"Completed"})]})]}),i.jsxs("div",{className:"rounded-md border",children:[i.jsx("div",{className:"hidden md:block bg-muted/50 px-4 py-3 font-medium text-sm border-b",children:i.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>R("team"),className:"justify-start h-auto p-0 font-medium",children:["Team ",V("team")]}),i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>R("scout"),className:"justify-start h-auto p-0 font-medium",children:["Scout ",V("scout")]}),i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>R("status"),className:"justify-start h-auto p-0 font-medium",children:["Status ",V("status")]}),i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>R("assigned"),className:"justify-start h-auto p-0 font-medium",children:["Assigned ",V("assigned")]}),i.jsx("span",{children:"Action"})]})}),i.jsx("div",{className:"md:hidden bg-muted/50 px-3 py-2 font-medium text-sm border-b",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>R("team"),className:"justify-start h-auto p-0 font-medium",children:["Team ",V("team")]}),i.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>R("status"),className:"justify-start h-auto p-0 font-medium",children:["Status ",V("status")]})]})}),i.jsx("div",{className:"divide-y",children:N.map(z=>{const $=z.scoutName?a.indexOf(z.scoutName):-1,U=r==="manual"&&l&&!z.assigned&&!u,M=r==="manual"&&z.assigned&&!u,F=z.assigned&&(u||r==="sequential");return i.jsxs("div",{className:`px-3 md:px-4 py-4 md:py-3 ${U?"hover:bg-muted/50 cursor-pointer":""}`,onClick:()=>U&&O(z.teamNumber),children:[i.jsxs("div",{className:"hidden md:grid grid-cols-5 gap-4 items-center",children:[i.jsxs("div",{className:"font-medium flex items-center gap-2",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{children:["Team ",z.teamNumber]}),h&&h[z.teamNumber.toString()]&&i.jsxs("span",{className:"text-xs text-blue-600 bg-blue-50 px-1 rounded",children:["Pit ",h[z.teamNumber.toString()]]})]}),U&&i.jsx(sm,{className:"h-3 w-3 text-green-600"})]}),i.jsxs("div",{className:"text-sm flex items-center gap-2",children:[z.scoutName?i.jsx(Oe,{variant:"outline",className:$>=0?jy($):"",children:z.scoutName}):i.jsx("span",{className:"text-muted-foreground italic",children:"Not assigned"}),M&&i.jsx(X,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 bg-red-100 hover:bg-red-200 text-red-600 rounded-full",onClick:W=>{W.stopPropagation(),G(z.teamNumber)},children:i.jsx(Wa,{className:"h-3 w-3"})})]}),i.jsx("div",{children:z.assigned?z.completed?i.jsxs(Oe,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[i.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Completed"]}):i.jsxs(Oe,{variant:"outline",children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Pending"]}):i.jsxs(Oe,{variant:"outline",className:"text-muted-foreground",children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Unassigned"]})}),i.jsx("div",{className:"text-xs text-muted-foreground",children:z.assigned?u?"Confirmed":"Draft":U?"Click to assign":"-"}),i.jsx("div",{children:F&&i.jsx(Ud,{checked:z.completed,onCheckedChange:()=>z.assignment&&t(z.assignment.id)})})]}),i.jsxs("div",{className:"md:hidden space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:"font-medium text-base",children:["Team ",z.teamNumber]}),h&&h[z.teamNumber.toString()]&&i.jsxs("span",{className:"text-xs text-blue-600 bg-blue-50 px-1 rounded",children:["Pit ",h[z.teamNumber.toString()]]})]}),U&&i.jsx(sm,{className:"h-4 w-4 text-green-600"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[z.assigned?z.completed?i.jsxs(Oe,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[i.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Completed"]}):i.jsxs(Oe,{variant:"outline",children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Pending"]}):i.jsxs(Oe,{variant:"outline",className:"text-muted-foreground",children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Unassigned"]}),F&&i.jsx(Ud,{checked:z.completed,onCheckedChange:()=>z.assignment&&t(z.assignment.id)})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Scout:"}),z.scoutName?i.jsx(Oe,{variant:"outline",className:`text-xs ${$>=0?jy($):""}`,children:z.scoutName}):i.jsx("span",{className:"text-muted-foreground italic text-sm",children:"Not assigned"}),M&&i.jsx(X,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 bg-red-100 hover:bg-red-200 text-red-600 rounded-full",onClick:W=>{W.stopPropagation(),G(z.teamNumber)},children:i.jsx(Wa,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:z.assigned?u?"Confirmed":"Draft":U?"Click to assign":"-"})]})]})]},z.teamNumber)})})]}),N.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No teams match your current filters."})]})]})},Ett=({selectedEvent:e,teamDataSource:t,currentTeams:n,pitAddresses:r,hasTeamData:a})=>i.jsxs(_e,{className:"flex-1",children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(pde,{className:"h-5 w-5"}),"Event Information"]})}),i.jsx($e,{children:a?i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Current Event:"}),i.jsx("span",{className:"text-lg font-semibold text-primary",children:e})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Teams to Scout:"}),i.jsx("span",{className:"text-lg font-semibold",children:n.length})]}),r&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"With Pit Locations:"}),i.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Object.keys(r).length," teams"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Data Source:"}),i.jsx("span",{className:"text-sm font-medium capitalize",children:t==="nexus"?i.jsxs("span",{className:"text-blue-600 flex items-center gap-1",children:[i.jsx("span",{children:"Nexus"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"(with pit locations)"})]}):i.jsx("span",{className:"text-orange-600",children:"TBA"})})]}),i.jsx("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:t==="nexus"?"Teams extracted from Nexus pit addresses. Pit locations available for enhanced assignments.":"Teams imported from The Blue Alliance. Import new data on the TBA Data page to change events."})]})}):i.jsxs(sr,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsx(gr,{children:"No team data found. Please import team lists from the TBA Data page or load demo data from the home page."})]})})]});function $g(e){if(e.length<=1)return 0;let t=0;for(let n=0;n<e.length;n++){const r=e[n];if(r)for(let a=n+1;a<e.length;a++){const s=e[a];if(!s)continue;const o=Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2));t=Math.max(t,o)}}return t}function Ttt(e,t){if(e.length===0||t===0)return[];if(t===1)return[e];const n=[],r=[...e].sort((b,y)=>b.x-y.x),a=[...e].sort((b,y)=>b.y-y.y);if(r.length===0||a.length===0)return[];const s=r[0],o=r[r.length-1],l=a[0],c=a[a.length-1];if(!s||!o||!l||!c)return[];const u=s.x,d=o.x,f=l.y,h=c.y,m=Math.ceil(Math.sqrt(t)),g=Math.ceil(t/m),v=[];for(let b=0;b<t;b++){const y=Math.floor(b/m),x=b%m,w=u+x/(m-1||1)*(d-u),S=f+y/(g-1||1)*(h-f);v.push({x:w,y:S})}for(let b=0;b<10;b++){for(let y=0;y<t;y++)n[y]=[];e.forEach(y=>{let x=1/0,w=0;v.forEach((j,k)=>{const N=Math.sqrt(Math.pow(y.x-j.x,2)+Math.pow(y.y-j.y,2));N<x&&(x=N,w=k)});const S=n[w];S&&S.push(y)}),v.forEach((y,x)=>{const w=n[x];w&&w.length>0&&(y.x=w.reduce((S,j)=>S+j.x,0)/w.length,y.y=w.reduce((S,j)=>S+j.y,0)/w.length)})}return n.forEach(b=>{if(b.length<=1)return;const y=[],x=[...b];let w=x.reduce((S,j)=>j.x<S.x?j:S);for(y.push(w),x.splice(x.indexOf(w),1);x.length>0;){let S=0,j=1/0;x.forEach((N,P)=>{const E=Math.sqrt(Math.pow(w.x-N.x,2)+Math.pow(w.y-N.y,2));E<j&&(j=E,S=P)});const k=x[S];if(k)y.push(k),x.splice(S,1),w=k;else break}b.splice(0,b.length,...y)}),_tt(n,e),Dtt(n),n.filter(b=>b.length>0)}function _tt(e,t){const n=e.length,r=Math.floor(t.length/n),a=t.length%n;let s=!0,o=0;for(console.log("=== Starting Proximity-Based Reassignment ==="),console.log("Initial cluster sizes:",e.map(l=>l.length)),console.log("Target sizes:",e.map((l,c)=>c<a?r+1:r));s&&o<5;){s=!1,o++,console.log(`
--- Proximity Check Iteration ${o} ---`);for(let l=0;l<n;l++){const c=e[l];if(c)for(let u=c.length-1;u>=0;u--){const d=c[u];if(!d)continue;let f=1/0,h=l;for(let b=0;b<n;b++){const y=e[b];if(b===l||!y||y.length===0)continue;let x=1/0;y.forEach(w=>{const S=Math.sqrt(Math.pow(d.x-w.x,2)+Math.pow(d.y-w.y,2));x=Math.min(x,S)}),x<f&&(f=x,h=b)}let m=1/0;c.forEach((b,y)=>{if(y!==u){const x=Math.sqrt(Math.pow(d.x-b.x,2)+Math.pow(d.y-b.y,2));m=Math.min(m,x)}}),(d.teamNumber===9977||d.teamNumber===9990)&&console.log(`Team ${d.teamNumber}:`,{currentCluster:l,closestOtherCluster:h,distanceToClosestOther:f,distanceToCurrentCluster:m,ratio:f/m});const g=f<=150;if(h!==l&&f<m*(g?1.5:1.1)){const b=l<a?r+1:r,y=h<a?r+1:r,x=e[h];if(!x)continue;const w=[...x,d],S=$g(w),j=g?800:600;if(x.length<y+2&&c.length>Math.max(1,b-2)&&S<=j)c.splice(u,1),x.push(d),s=!0,console.log(` Moved team ${d.teamNumber} from cluster ${l} to cluster ${h} for better proximity`),console.log(`  Distance improvement: ${m.toFixed(1)}  ${f.toFixed(1)}`),console.log(`  Cluster spread after move: ${S.toFixed(1)}`);else{const k=[];x.length>=y+2&&k.push("target cluster too large"),c.length<=Math.max(1,b-2)&&k.push("source cluster too small"),S>j&&k.push(`spread too large (${S.toFixed(1)} > ${j})`),console.log(` Cannot move team ${d.teamNumber} due to constraints: ${k.join(", ")}`)}}}}console.log(`Iteration ${o} complete. Changed: ${s}`),console.log("Updated cluster sizes:",e.map(l=>l.length))}}function Dtt(e){const t=e.length;let n=!0,r=0;for(console.log(`
=== Geographic Coherence Optimization ===`);n&&r<3;){n=!1,r++;let a=null;for(let s=0;s<t;s++)for(let o=s+1;o<t;o++){const l=e[s],c=e[o];if(!(!l||!c))for(let u=0;u<l.length;u++)for(let d=0;d<c.length;d++){const f=l[u],h=c[d];if(!f||!h)continue;const m=$g(l),g=$g(c),v=m+g,b=[...l],y=[...c];b[u]=h,y[d]=f;const x=$g(b),w=$g(y),S=x+w,j=v-S;j>0&&(!a||j>a.improvement)&&(a={clusterI:s,clusterJ:o,teamI:u,teamJ:d,improvement:j,teamFromI:f,teamFromJ:h},(f.teamNumber===8876||h.teamNumber===8876||f.teamNumber===9991||h.teamNumber===9991)&&console.log(`  Considering swap: ${f.teamNumber}  ${h.teamNumber}, improvement: ${j.toFixed(1)}`))}}if(a&&a.improvement>10){console.log(` Swapping team ${a.teamFromI.teamNumber} (cluster ${a.clusterI}) with team ${a.teamFromJ.teamNumber} (cluster ${a.clusterJ}) for better geography`),console.log(`  Spread improvement: ${a.improvement.toFixed(1)} units`);const s=e[a.clusterI],o=e[a.clusterJ];s&&o&&(s[a.teamI]=a.teamFromJ,o[a.teamJ]=a.teamFromI,n=!0)}n&&(console.log(`Geographic optimization iteration ${r} complete`),console.log("Updated cluster sizes:",e.map(s=>s.length)))}}const Rtt=({assignmentMode:e,pitMapData:t,pitAddresses:n,currentTeams:r,scoutsList:a,selectedEvent:s,hasAssignments:o,onAssignmentModeChange:l,onAssignmentsGenerated:c})=>{const u=f=>{l(f)},d=()=>{if(a.length===0)return;const f=[];if(e==="sequential"){const h=[...r].sort((x,w)=>x-w),m=h.length,g=a.length,v=Math.floor(m/g),b=m%g;let y=0;a.forEach((x,w)=>{const S=w<b?v+1:v;for(let j=0;j<S&&y<m;j++){const k=h[y];if(k===void 0){y++;continue}f.push({id:`${s}-${k}`,eventKey:s,teamNumber:k,scoutName:x,assignedAt:Date.now(),completed:!1}),y++}}),c(f,!0)}else if(e==="spatial"){if(!(t!=null&&t.pits))return;const h=[];if(n?r.forEach(g=>{var b,y;const v=n[g.toString()];if(v&&t.pits[v]){const x=t.pits[v],w=((b=x.position)==null?void 0:b.x)||x.x||0,S=((y=x.position)==null?void 0:y.y)||x.y||0;(w!==0||S!==0)&&h.push({teamNumber:g,x:w,y:S})}}):Object.entries(t.pits).forEach(([,g])=>{var y,x;const v=g,b=v.team?typeof v.team=="string"?parseInt(v.team):v.team:null;if(b&&r.includes(b)){const w=((y=v.position)==null?void 0:y.x)||v.x||0,S=((x=v.position)==null?void 0:x.y)||v.y||0;(w!==0||S!==0)&&h.push({teamNumber:b,x:w,y:S})}}),h.length===0)return;h.sort((g,v)=>Math.abs(g.y-v.y)>50?g.y-v.y:g.x-v.x),Ttt(h,a.length).forEach((g,v)=>{const b=a[v%a.length];b&&g.forEach(y=>{f.push({id:`${s}-${y.teamNumber}`,eventKey:s,teamNumber:y.teamNumber,scoutName:b,assignedAt:Date.now(),completed:!1})})}),c(f,!0)}else e==="manual"&&c([],!1)};return i.jsxs(_e,{className:"flex-1",children:[i.jsx(Ge,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(O4,{className:"h-5 w-5"}),"Assignment Controls"]})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Assignment Mode:"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx(X,{variant:e==="sequential"?"default":"outline",size:"sm",onClick:()=>u("sequential"),children:"Block Assignment"}),t&&i.jsx(X,{variant:e==="spatial"?"default":"outline",size:"sm",onClick:()=>u("spatial"),children:"Spatial Assignment"}),i.jsx(X,{variant:e==="manual"?"default":"outline",size:"sm",onClick:()=>u("manual"),children:"Manual Assignment"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e==="sequential"?`Block Assignment: Teams are divided into consecutive blocks, with each scout getting ~${Math.ceil(r.length/a.length)} teams in sequence`:e==="spatial"?"Spatial Assignment: Teams are assigned based on their physical proximity in the pit map, creating geographic zones for each scout":"Manual Assignment: Click on team cards to assign them to specific scouts one by one"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(X,{disabled:o||e!=="sequential"&&e!=="spatial",onClick:d,className:"flex items-center gap-2",children:[i.jsx(O4,{className:"h-4 w-4"}),"Generate Assignments"]})})]})})]})},Mtt=()=>{const{scoutsList:e}=Sie(),[t,n]=p.useState(""),[r,a]=p.useState([]),[s,o]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState([]),[m,g]=p.useState("sequential"),[v,b]=p.useState("teams"),[y,x]=p.useState(null),[w,S]=p.useState(!1);p.useEffect(()=>{if(t&&f.length>0){const $=`pit_assignments_${t}`;localStorage.setItem($,JSON.stringify(f))}},[f,t]),p.useEffect(()=>{if(t){const $=`pit_assignments_${t}`,U=localStorage.getItem($);if(U)try{const M=JSON.parse(U);h(M)}catch(M){console.warn("Error loading saved assignments:",M)}}},[t]),p.useEffect(()=>{const $=()=>{const U=wtt();let M="",F=[],W="tba";for(let Z=0;Z<localStorage.length;Z++){const H=localStorage.key(Z);if(H&&H.startsWith("nexus_event_teams_")){const ae=H.replace("nexus_event_teams_",""),fe=GX(ae);if(fe&&fe.length>0){const we=fe.map(Pe=>Pe.startsWith("frc")?parseInt(Pe.substring(3)):parseInt(Pe)).filter(Pe=>!isNaN(Pe)).sort((Pe,me)=>Pe-me);if(we.length>0){M=ae,F=we,W="nexus";break}}}}if(!M){const Z=Object.keys(U);if(Z.length>0){const H=Z[0];if(H){const ae=U[H];ae&&ae.length>0&&(M=H,F=ae,W="tba")}}}n(M),a(F),o(W)};return $(),window.addEventListener("focus",$),()=>{window.removeEventListener("focus",$)}},[]),p.useEffect(()=>{if(t&&s==="nexus"){const $=KX(t),U=LOe(t);c($),d(U.map)}else c(null),d(null)},[t,s]),p.useEffect(()=>{if(!t||r.length===0)return;(async()=>{const U=t,M=[];for(const F of r)try{await eh(F,U)&&M.push(F)}catch(W){console.warn(`Error checking pit data for team ${F}:`,W)}M.length>0&&h(F=>F.map(W=>M.includes(W.teamNumber)?{...W,completed:!0}:W))})()},[t,r]),p.useEffect(()=>{if(!t||f.length===0)return;const $=async()=>{const M=t;let F=!1;const W=await Promise.all(f.map(async Z=>{try{const ae=!!await eh(Z.teamNumber,M);if(Z.completed!==ae)return F=!0,{...Z,completed:ae}}catch(H){console.warn(`Error checking pit data for team ${Z.teamNumber}:`,H)}return Z}));F&&h(W)},U=()=>{$()};return window.addEventListener("focus",U),()=>{window.removeEventListener("focus",U)}},[t,f]);const[j,k]=p.useState("");p.useEffect(()=>{if(!t||f.length===0)return;const $=`${t}_${f.length}_${f.map(F=>F.id).sort().join("_")}`;if(j===$)return;const M=setTimeout(async()=>{const F=t;let W=!1;const Z=await Promise.all(f.map(async H=>{try{const fe=!!await eh(H.teamNumber,F);if(H.completed!==fe)return W=!0,{...H,completed:fe}}catch(ae){console.warn(`Error checking pit data for team ${H.teamNumber}:`,ae)}return H}));W&&h(Z),k($)},100);return()=>clearTimeout(M)},[t,f,j]);const N=r.length>0&&e.length>0,P=f.length>0,E=$=>{g($),x(null),S(!1)},R=async($,U)=>{if(t&&$.length>0){const M=t,F=await Promise.all($.map(async W=>{try{if(await eh(W.teamNumber,M))return{...W,completed:!0}}catch(Z){console.warn(`Error checking pit data for team ${W.teamNumber}:`,Z)}return W}));h(F)}else h($);S(U)},O=async($,U)=>{const M=`${t}-${$}`;let F=!1;if(t)try{F=!!await eh($,t)}catch(W){console.warn(`Error checking pit data for team ${$}:`,W)}h(W=>[...W.filter(H=>H.teamNumber!==$),{id:M,eventKey:t,teamNumber:$,scoutName:U,assignedAt:Date.now(),completed:F}])},G=$=>{h(U=>U.filter(M=>M.teamNumber!==$))},te=()=>{if(h([]),S(!1),x(null),t){const $=`pit_assignments_${t}`;localStorage.removeItem($)}},V=()=>{S(!0),x(null)},z=$=>{h(U=>U.map(M=>M.id===$?{...M,completed:!M.completed}:M))};return i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6 max-w-7xl",children:[i.jsxs("div",{className:"text-start",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Pit Assignments"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage scouts and assign teams for pit scouting"})]}),i.jsx("div",{className:"hidden md:block",children:i.jsx(Zc,{sources:s?[s]:["tba","nexus"],variant:"full"})})]}),i.jsx("div",{className:"md:hidden mt-2",children:i.jsx(Zc,{sources:s?[s]:["tba","nexus"],variant:"compact"})})]}),i.jsx(Stt,{}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsx(Ett,{selectedEvent:t,teamDataSource:s,currentTeams:r,pitAddresses:l,hasTeamData:r.length>0}),N&&i.jsx(Rtt,{assignmentMode:m,pitMapData:u,pitAddresses:l,currentTeams:r,scoutsList:e,selectedEvent:t,hasAssignments:P,onAssignmentModeChange:E,onAssignmentsGenerated:R})]}),t&&r.length>0&&i.jsxs(pu,{value:v,onValueChange:b,enableSwipe:!0,className:"w-full",children:[i.jsxs(gu,{className:"grid w-full grid-cols-2",children:[i.jsxs(gn,{value:"teams",className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-4 w-4"}),"Team Cards"]}),i.jsxs(gn,{value:"assignments",className:"flex items-center gap-2",children:[i.jsx(vG,{className:"h-4 w-4"}),"Table View"]})]}),i.jsx(In,{value:"teams",children:i.jsx("div",{className:"min-h-[600px]",children:i.jsx(Att,{eventKey:t,teams:r,assignments:f,scoutsList:e,onToggleCompleted:z,assignmentMode:m,onManualAssignment:O,onRemoveAssignment:G,selectedScoutForAssignment:y,onScoutSelectionChange:x,onConfirmAssignments:m==="manual"&&!w?V:void 0,onClearAllAssignments:te,assignmentsConfirmed:w,pitAddresses:l,pitMapData:u,teamDataSource:s||void 0})})}),i.jsx(In,{value:"assignments",children:i.jsx("div",{className:"min-h-[600px] max-h-[600px] overflow-y-auto",children:i.jsx(Ptt,{assignments:f,onToggleCompleted:z,onClearAllAssignments:te,assignmentMode:m,scoutsList:e,onManualAssignment:O,onRemoveAssignment:G,selectedScoutForAssignment:y,onScoutSelectionChange:x,assignmentsConfirmed:w,allTeams:r,onConfirmAssignments:m==="manual"&&!w?V:void 0,pitAddresses:l})})})]}),!N&&i.jsxs(sr,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsxs(gr,{children:[r.length===0&&"No team data found. Please load demo data from the home page or import teams from the TBA Data page.",e.length===0&&" Please add scouts to create assignments."]})]})]})};function Itt(){return i.jsx("div",{className:"w-full bg-background",style:{height:"env(safe-area-inset-top)",paddingTop:"env(safe-area-inset-top)"}})}const jie="/Maneuver-2026/assets/Maneuver%20Wordmark%20Vertical-OhGzj9lT.png";function Ott({onComplete:e}){const[t,n]=p.useState(!0);return p.useEffect(()=>{const r=setTimeout(()=>{n(!1),setTimeout(e,300)},1e3);return()=>clearTimeout(r)},[e]),i.jsx("div",{className:De("fixed inset-0 z-50 bg-background flex items-center justify-center transition-opacity duration-300",t?"opacity-100":"opacity-0 pointer-events-none"),children:i.jsxs("div",{className:"flex flex-col items-center gap-4 animate-pulse",children:[i.jsx("img",{src:jie,width:"200",height:"80",alt:"Maneuver Logo",className:"dark:invert"}),i.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})]})})}function Ltt({children:e}){const[t,n]=p.useState(!1);return i.jsx(rie.Provider,{value:{isFullscreen:t,setIsFullscreen:n},children:e})}function $tt(){const e=ff(),{dataRequested:t,setDataRequested:n,sendData:r,requestFilters:a,requestDataType:s}=e,[o,l]=p.useState(""),c=h=>{switch(h){case"scouting":return"Scouting Data";case"pit-scouting":return"Pit Scouting Data";case"match":return"Match Schedule";case"scout":return"Scout Profiles";case"combined":return"Combined Data";default:return"Data"}},u=async()=>{var h;l(`Loading ${c(s)}...`);try{let m,g=0;switch(s){case"scouting":{let b=await Yi();g=b.length,a&&(console.log(" Applying filters to scouting data:",a),l(`Filtering ${g} entries...`),b=y5({entries:b,exportedAt:Date.now(),version:"1.0"},a).entries,console.log(` Filtered: ${g} entries  ${b.length} entries`)),m={entries:b};break}case"pit-scouting":{const b=await Zm();g=((h=b.entries)==null?void 0:h.length)||0,m=b,console.log(" Loaded pit scouting data:",g,"entries");break}case"match":{const b=localStorage.getItem("matchData"),y=b?JSON.parse(b):[];g=Array.isArray(y)?y.length:0,m={matches:y},console.log(" Loaded match data:",g,"matches");break}case"scout":{const b=await st.scouts.toArray(),y=await st.predictions.toArray(),x=await st.scoutAchievements.toArray();g=b.length,m={scouts:b,predictions:y,achievements:x},console.log(" Loaded scout profiles:",b.length,"scouts,",y.length,"predictions");break}case"combined":{let b=await Yi();const y=await st.scouts.toArray(),x=await st.predictions.toArray();if(a){const w=b.length;console.log(" Applying filters to combined scouting data:",a),b=y5({entries:b,exportedAt:Date.now(),version:"1.0"},a).entries,console.log(` Filtered scouting: ${w}  ${b.length} entries`)}m={entries:b,metadata:{exportedAt:new Date().toISOString(),version:"1.0",scoutingEntriesCount:b.length,scoutsCount:y.length,predictionsCount:x.length},scoutProfiles:{scouts:y,predictions:x}},g=b.length+y.length+x.length,console.log(" Loaded combined data");break}default:throw new Error(`Unknown data type: ${s}`)}const v=JSON.stringify(m).length;console.log("Scout sending data:",m),console.log("Data size:",v,"characters"),l(`Sending ${c(s)}...`),r(m,s),l(` Sent ${c(s)}`),setTimeout(()=>{l(""),n(!1)},3e3)}catch(m){const g=m instanceof Error?m.message:String(m);console.error("Failed to load/send data:",m),l(` Error: ${g}`),setTimeout(()=>{l(""),n(!1)},5e3)}},d=()=>{e.sendControlMessage({type:"request-declined"}),n(!1),l("")},f=()=>{if(!a)return"All data";const h=[];if(a.matchRange.type==="preset"&&a.matchRange.preset!=="all"){const m={last10:"Last 10 matches",last15:"Last 15 matches",last30:"Last 30 matches",fromLastExport:"From last export"};h.push(m[a.matchRange.preset]||"Custom range")}else if(a.matchRange.type==="custom"){const m=a.matchRange.customStart||"?",g=a.matchRange.customEnd||"?";h.push(`Matches ${m}-${g}`)}return!a.teams.includeAll&&a.teams.selectedTeams.length>0&&h.push(`${a.teams.selectedTeams.length} teams`),h.length>0?h.join("  "):"All data"};return i.jsxs(i.Fragment,{children:[i.jsx(oy,{open:t&&!o,children:i.jsxs(xm,{className:"max-w-[calc(100vw-2rem)] mx-4",children:[i.jsxs(bm,{children:[i.jsxs(wm,{className:"flex items-center gap-2",children:[i.jsx(No,{className:"h-5 w-5"}),"Data Request from Lead Scout"]}),i.jsxs(Sm,{className:"space-y-3",children:[i.jsx("p",{children:"The lead scout is requesting data from you."}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Iy,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100 text-sm",children:c(s)}),s==="combined"&&i.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300 mt-0.5",children:"Includes scouting data and scout profiles"})]})]})}),a&&i.jsxs("div",{className:"flex items-center gap-2 text-sm bg-amber-50 dark:bg-amber-950 p-3 rounded border border-amber-200 dark:border-amber-800",children:[i.jsx(Bw,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-amber-900 dark:text-amber-100",children:"Filter Request"}),i.jsx("span",{className:"text-xs text-amber-700 dark:text-amber-300",children:f()})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send your data to the lead scout?"})]})]}),i.jsxs(oj,{children:[i.jsx(DM,{onClick:d,className:"p-2",children:"Decline"}),i.jsx(lj,{onClick:u,className:"p-2",children:"Send Data"})]})]})}),i.jsx(oy,{open:!!o,children:i.jsx(xm,{className:"max-w-[calc(100vw-2rem)]",children:i.jsxs(bm,{children:[i.jsxs(wm,{className:"flex items-center gap-2",children:[i.jsx(No,{className:"h-5 w-5"}),"Sending Data"]}),i.jsxs(Sm,{className:"space-y-2",children:[i.jsx("div",{className:"text-center py-2 text-lg",children:o}),a&&o.includes("Loading")&&i.jsxs("div",{className:"text-xs bg-muted p-2 rounded",children:[i.jsx(Bw,{className:"h-3 w-3 inline mr-1"}),"Filtering: ",f()]})]})]})})})]})}function Ftt(){const e=ff(),{dataPushed:t,setDataPushed:n,pushedData:r,pushedDataType:a,sendControlMessage:s}=e,[o,l]=p.useState(""),c=h=>{switch(h){case"scouting":return"Scouting Data";case"pit-scouting":return"Pit Scouting Data";case"match":return"Match Schedule";case"scout":return"Scout Profiles";case"combined":return"Combined Data";default:return"Data"}},u=()=>{var h,m;if(!r)return"No data";try{const g=r,v=[];return a==="combined"?(g.entries&&v.push(`${g.entries.length} scouting entries`),(h=g.scoutProfiles)!=null&&h.scouts&&v.push(`${g.scoutProfiles.scouts.length} scouts`),(m=g.scoutProfiles)!=null&&m.predictions&&v.push(`${g.scoutProfiles.predictions.length} predictions`)):a==="scouting"||a==="pit-scouting"?g.entries&&Array.isArray(g.entries)&&v.push(`${g.entries.length} entries`):a==="match"?g.matches&&v.push(`${Array.isArray(g.matches)?g.matches.length:0} matches`):a==="scout"&&(g.scouts&&v.push(`${Array.isArray(g.scouts)?g.scouts.length:0} scouts`),g.predictions&&v.push(`${Array.isArray(g.predictions)?g.predictions.length:0} predictions`)),v.length>0?v.join(", "):"Unknown data structure"}catch(g){return console.error("Error parsing pushed data:",g),"Error reading data"}},d=async()=>{var h;l("Importing data...");try{let m=0;if(console.log(" Pushed data type:",a),console.log(" Pushed data:",r),a==="combined"){const g=r;if(console.log(" Combined data structure:",{hasEntries:!!g.entries,entriesIsArray:Array.isArray(g.entries),entriesLength:(h=g.entries)==null?void 0:h.length,hasScoutProfiles:!!g.scoutProfiles}),g.entries&&Array.isArray(g.entries)?(await VE(g.entries),m+=g.entries.length,console.log(" Imported",g.entries.length,"scouting entries")):console.warn(" No scouting entries to import or entries is not an array"),g.scoutProfiles){if(g.scoutProfiles.scouts&&Array.isArray(g.scoutProfiles.scouts)){for(const v of g.scoutProfiles.scouts)await st.scouts.put(v);m+=g.scoutProfiles.scouts.length,console.log(" Imported",g.scoutProfiles.scouts.length,"scout profiles")}if(g.scoutProfiles.predictions&&Array.isArray(g.scoutProfiles.predictions)){for(const v of g.scoutProfiles.predictions)await st.predictions.put(v);console.log(" Imported",g.scoutProfiles.predictions.length,"predictions")}}}else if(a==="scouting"){const g=r,v=g.entries;if(!v||!Array.isArray(v))throw console.error(" No entries array in scouting data:",g),new Error("Scouting data must contain entries array");if(v.length===0)console.warn(" No scouting entries to import (empty array)"),le.info("No scouting data to import");else{console.log(" Saving",v.length,"scouting entries...");for(let b=0;b<v.length;b++){const y=v[b];if(!y)throw new Error(`Entry at index ${b} is null or undefined`);if(!y.id)throw new Error(`Entry at index ${b} missing id: ${JSON.stringify(y).substring(0,100)}`);if(!y.gameData)throw new Error(`Entry at index ${b} missing gameData property: ${JSON.stringify(y).substring(0,100)}`)}await VE(v),m=v.length,console.log(" Imported",m,"scouting entries")}}else if(a==="pit-scouting"){const v=r.entries;if(v&&Array.isArray(v)){for(const b of v)await Hs.pitScoutingData.put(b);m=v.length,console.log(" Imported",m,"pit scouting entries")}}else if(a==="match"){const g=r;g.matches&&Array.isArray(g.matches)&&(localStorage.setItem("matchData",JSON.stringify(g.matches)),m=g.matches.length,console.log(" Imported",m,"matches"))}else if(a==="scout"){const g=r;if(g.scouts&&Array.isArray(g.scouts)){for(const v of g.scouts)await st.scouts.put(v);m=g.scouts.length,console.log(" Imported",m,"scout profiles")}if(g.predictions&&Array.isArray(g.predictions)){for(const v of g.predictions)await st.predictions.put(v);console.log(" Imported",g.predictions.length,"predictions")}if(g.achievements&&Array.isArray(g.achievements)){for(const v of g.achievements)await st.scoutAchievements.put(v);console.log(" Imported",g.achievements.length,"achievements")}}l(` Successfully imported ${c(a)}`),le.success(`Imported ${c(a)}`),setTimeout(()=>{l(""),n(!1)},2e3)}catch(m){const g=m instanceof Error?m.message:String(m);console.error("Failed to import pushed data:",m),l(` Error: ${g}`),le.error(`Failed to import: ${g}`),setTimeout(()=>{l(""),n(!1)},5e3)}},f=()=>{console.log("Scout declined pushed data"),s({type:"push-declined",dataType:a}),le.info("Declined data from lead"),n(!1),l("")};return i.jsxs(i.Fragment,{children:[i.jsx(oy,{open:t&&!o,children:i.jsxs(xm,{className:"max-w-[calc(100vw-2rem)]",children:[i.jsxs(bm,{children:[i.jsxs(wm,{className:"flex items-center gap-2",children:[i.jsx(am,{className:"h-5 w-5"}),"Lead Scout is Pushing Data"]}),i.jsxs(Sm,{className:"space-y-3",children:[i.jsx("p",{children:"The lead scout wants to send you data."}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Iy,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:c(a)}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:u()})]})]})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Accepting will merge this data with your existing data. Any conflicts will use the newest data."})]})]}),i.jsxs(oj,{children:[i.jsx(DM,{onClick:f,className:"p-2",children:"Decline"}),i.jsx(lj,{onClick:d,className:"p-2",children:"Accept & Import"})]})]})}),i.jsx(oy,{open:!!o,children:i.jsx(xm,{className:"max-w-[calc(100vw-2rem)]",children:i.jsxs(bm,{children:[i.jsxs(wm,{className:"flex items-center gap-2",children:[i.jsx(am,{className:"h-5 w-5"}),"Importing Data"]}),i.jsx(Sm,{className:"space-y-2",children:i.jsx("div",{className:"text-center py-2 text-lg",children:o})})]})})})]})}function Btt(){const{mode:e,connectionStatus:t}=ff(),n=p.useRef(t);return p.useEffect(()=>{const r=n.current.includes("Connected"),a=t.includes("Connected");e==="scout"&&(r&&!a?(console.log(" Notification: Connection lost"),le.error("Connection to lead lost")):!r&&a&&(console.log(" Notification: Connection established"),le.success("Connected to lead scout"))),n.current=t},[t,e]),null}const Vtt={year:2026,gameName:"REBUILT",scoring:{auto:{},teleop:{},endgame:{}}},ztt={getDataCategories:()=>[],calculateAllianceStats:()=>({}),calculateAllianceScore:()=>({auto:0,teleop:0,endgame:0,total:0}),validateMatch:async()=>({}),getDefaultConfig:()=>({})},Utt={GameStartScreen:()=>null,AutoScoringScreen:()=>null,TeleopScoringScreen:()=>null},xo="demo2026",Ktt=async()=>{console.log(" Loading demo data..."),await pie({eventKey:xo,clearExisting:!0,gameDataGenerator:gie,includePlayoffs:!0}),localStorage.setItem("eventName",xo);const e=JSON.parse(localStorage.getItem("eventsList")||"[]");e.includes(xo)||(e.push(xo),localStorage.setItem("eventsList",JSON.stringify(e)));const n=(await st.scouts.toArray()).map(r=>r.name).sort();localStorage.setItem("scoutsList",JSON.stringify(n)),console.log(" Demo data loaded successfully!")},Gtt=async()=>{console.log(" Clearing demo data..."),await Gr.scoutingData.where("eventKey").equals(xo).delete(),await Hs.pitScoutingData.where("eventKey").equals(xo).delete(),await st.scouts.clear(),await st.predictions.where("eventKey").equals(xo).delete(),await st.scoutAchievements.clear();const t=JSON.parse(localStorage.getItem("eventsList")||"[]").filter(n=>n!==xo);localStorage.setItem("eventsList",JSON.stringify(t)),localStorage.getItem("eventName")===xo&&localStorage.removeItem("eventName"),console.log(" Demo data cleared successfully!")},Wtt=async()=>{const e=await Gr.scoutingData.where("eventKey").equals(xo).count(),t=await st.scouts.count();return e>0||t>0};function qtt(){const e=gue(YP(i.jsxs(Wn,{element:i.jsx(nke,{config:Vtt,scoring:nn,validation:ztt,analysis:B7,transformation:WO,ui:{...Utt,StatusToggles:uZ,PitScoutingQuestions:PTe},children:i.jsx(PNe,{})}),children:[i.jsx(Wn,{index:!0,element:i.jsx(_Ne,{logo:jie,appName:"Maneuver 2026",version:"2026.0.1",onLoadDemoData:Ktt,onClearData:Gtt,checkExistingData:Wtt,demoDataDescription:"Load sample data for 30 teams, 60 matches, 8 scouts with predictions, and pit scouting to explore all features",demoDataStats:"Demo data loaded! 30 teams, 60 matches, 8 scouts"})}),i.jsx(Wn,{path:"/game-start",element:i.jsx(KNe,{})}),i.jsx(Wn,{path:"/auto-start",element:i.jsx(ETe,{})}),i.jsx(Wn,{path:"/auto-scoring",element:i.jsx(TTe,{})}),i.jsx(Wn,{path:"/teleop-scoring",element:i.jsx(_Te,{})}),i.jsx(Wn,{path:"/endgame",element:i.jsx(DTe,{})}),i.jsx(Wn,{path:"/clear-data",element:i.jsx(QNe,{})}),i.jsx(Wn,{path:"/pit-scouting",element:i.jsx(FTe,{})}),i.jsx(Wn,{path:"/api-data",element:i.jsx(GOe,{})}),i.jsx(Wn,{path:"/json-transfer",element:i.jsx(ZOe,{})}),i.jsx(Wn,{path:"/peer-transfer",element:i.jsx(xLe,{})}),i.jsx(Wn,{path:"/qr-transfer",element:i.jsx(bLe,{})}),i.jsx(Wn,{path:"/team-stats",element:i.jsx(xYe,{})}),i.jsx(Wn,{path:"/strategy-overview",element:i.jsx(AXe,{})}),i.jsx(Wn,{path:"/match-strategy",element:i.jsx(qXe,{})}),i.jsx(Wn,{path:"/pick-list",element:i.jsx(met,{})}),i.jsx(Wn,{path:"/scout-management",element:i.jsx(jet,{})}),i.jsx(Wn,{path:"/pit-assignments",element:i.jsx(Mtt,{})}),i.jsx(Wn,{path:"/achievements",element:i.jsx(ket,{})}),i.jsx(Wn,{path:"/match-validation",element:i.jsx(btt,{})}),i.jsx(Wn,{path:"/dev-utilities",element:i.jsx(Bet,{})}),i.jsx(Wn,{path:"*",element:i.jsx(TNe,{})})]})),{basename:"/Maneuver-2026"}),[t,n]=p.useState(!0);return p.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js"),window.addEventListener("beforeinstallprompt",()=>{Lh.trackEvent("pwa_install_prompt_shown")}),window.matchMedia("(display-mode: standalone)").matches&&Lh.trackPWALaunched()},[]),t?i.jsx(Ott,{onComplete:()=>n(!1)}):i.jsx(Eue,{defaultTheme:"system",storageKey:"vite-ui-theme",children:i.jsx(wCe,{children:i.jsx(Ltt,{children:i.jsx(XOe,{children:i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Nue,{router:e}),i.jsx(Wke,{}),i.jsx(qke,{}),i.jsx(Itt,{}),i.jsx($tt,{}),i.jsx(Ftt,{}),i.jsx(Btt,{})]})})})})})}HK(document.getElementById("root")).render(i.jsx(p.StrictMode,{children:i.jsx(qtt,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&window.dispatchEvent(new CustomEvent("sw-update-available",{detail:{waiting:t}}))})})}).catch(e=>{console.log("SW registration failed: ",e)})});
