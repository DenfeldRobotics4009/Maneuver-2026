var kie=Object.defineProperty;var Aie=(e,t,n)=>t in e?kie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fn=(e,t,n)=>Aie(e,typeof t!="symbol"?t+"":t,n);function t_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var XO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lz={exports:{}},IS={},$z={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=Symbol.for("react.element"),Pie=Symbol.for("react.portal"),Eie=Symbol.for("react.fragment"),Tie=Symbol.for("react.strict_mode"),_ie=Symbol.for("react.profiler"),Die=Symbol.for("react.provider"),Rie=Symbol.for("react.context"),Mie=Symbol.for("react.forward_ref"),Iie=Symbol.for("react.suspense"),Oie=Symbol.for("react.memo"),Lie=Symbol.for("react.lazy"),eL=Symbol.iterator;function $ie(e){return e===null||typeof e!="object"?null:(e=eL&&e[eL]||e["@@iterator"],typeof e=="function"?e:null)}var Fz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bz=Object.assign,Vz={};function Lm(e,t,n){this.props=e,this.context=t,this.refs=Vz,this.updater=n||Fz}Lm.prototype.isReactComponent={};Lm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zz(){}zz.prototype=Lm.prototype;function n_(e,t,n){this.props=e,this.context=t,this.refs=Vz,this.updater=n||Fz}var r_=n_.prototype=new zz;r_.constructor=n_;Bz(r_,Lm.prototype);r_.isPureReactComponent=!0;var tL=Array.isArray,Uz=Object.prototype.hasOwnProperty,a_={current:null},Kz={key:!0,ref:!0,__self:!0,__source:!0};function Gz(e,t,n){var r,a={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Uz.call(t,r)&&!Kz.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Ay,type:e,key:s,ref:o,props:a,_owner:a_.current}}function Fie(e,t){return{$$typeof:Ay,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function s_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ay}function Bie(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nL=/\/+/g;function DN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bie(""+e.key):t.toString(36)}function jb(e,t,n,r,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ay:case Pie:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+DN(o,0):r,tL(a)?(n="",e!=null&&(n=e.replace(nL,"$&/")+"/"),jb(a,t,n,"",function(u){return u})):a!=null&&(s_(a)&&(a=Fie(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(nL,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",tL(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+DN(s,l);o+=jb(s,t,n,c,a)}else if(c=$ie(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+DN(s,l++),o+=jb(s,t,n,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function c0(e,t,n){if(e==null)return e;var r=[],a=0;return jb(e,r,"","",function(s){return t.call(n,s,a++)}),r}function Vie(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qa={current:null},Nb={transition:null},zie={ReactCurrentDispatcher:Qa,ReactCurrentBatchConfig:Nb,ReactCurrentOwner:a_};function Wz(){throw Error("act(...) is not supported in production builds of React.")}Zt.Children={map:c0,forEach:function(e,t,n){c0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return c0(e,function(){t++}),t},toArray:function(e){return c0(e,function(t){return t})||[]},only:function(e){if(!s_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zt.Component=Lm;Zt.Fragment=Eie;Zt.Profiler=_ie;Zt.PureComponent=n_;Zt.StrictMode=Tie;Zt.Suspense=Iie;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zie;Zt.act=Wz;Zt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bz({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=a_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Uz.call(t,c)&&!Kz.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ay,type:e.type,key:a,ref:s,props:r,_owner:o}};Zt.createContext=function(e){return e={$$typeof:Rie,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Die,_context:e},e.Consumer=e};Zt.createElement=Gz;Zt.createFactory=function(e){var t=Gz.bind(null,e);return t.type=e,t};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(e){return{$$typeof:Mie,render:e}};Zt.isValidElement=s_;Zt.lazy=function(e){return{$$typeof:Lie,_payload:{_status:-1,_result:e},_init:Vie}};Zt.memo=function(e,t){return{$$typeof:Oie,type:e,compare:t===void 0?null:t}};Zt.startTransition=function(e){var t=Nb.transition;Nb.transition={};try{e()}finally{Nb.transition=t}};Zt.unstable_act=Wz;Zt.useCallback=function(e,t){return Qa.current.useCallback(e,t)};Zt.useContext=function(e){return Qa.current.useContext(e)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(e){return Qa.current.useDeferredValue(e)};Zt.useEffect=function(e,t){return Qa.current.useEffect(e,t)};Zt.useId=function(){return Qa.current.useId()};Zt.useImperativeHandle=function(e,t,n){return Qa.current.useImperativeHandle(e,t,n)};Zt.useInsertionEffect=function(e,t){return Qa.current.useInsertionEffect(e,t)};Zt.useLayoutEffect=function(e,t){return Qa.current.useLayoutEffect(e,t)};Zt.useMemo=function(e,t){return Qa.current.useMemo(e,t)};Zt.useReducer=function(e,t,n){return Qa.current.useReducer(e,t,n)};Zt.useRef=function(e){return Qa.current.useRef(e)};Zt.useState=function(e){return Qa.current.useState(e)};Zt.useSyncExternalStore=function(e,t,n){return Qa.current.useSyncExternalStore(e,t,n)};Zt.useTransition=function(){return Qa.current.useTransition()};Zt.version="18.3.1";$z.exports=Zt;var p=$z.exports;const qe=yi(p),Py=t_({__proto__:null,default:qe},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uie=p,Kie=Symbol.for("react.element"),Gie=Symbol.for("react.fragment"),Wie=Object.prototype.hasOwnProperty,qie=Uie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hie={key:!0,ref:!0,__self:!0,__source:!0};function qz(e,t,n){var r,a={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Wie.call(t,r)&&!Hie.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Kie,type:e,key:s,ref:o,props:a,_owner:qie.current}}IS.Fragment=Gie;IS.jsx=qz;IS.jsxs=qz;Lz.exports=IS;var i=Lz.exports,Hz={exports:{}},Gs={},Yz={exports:{}},Qz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,$){var B=M.length;M.push($);e:for(;0<B;){var te=B-1>>>1,q=M[te];if(0<a(q,$))M[te]=$,M[B]=q,B=te;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var $=M[0],B=M.pop();if(B!==$){M[0]=B;e:for(var te=0,q=M.length,ae=q>>>1;te<ae;){var he=2*(te+1)-1,je=M[he],Ee=he+1,me=M[Ee];if(0>a(je,B))Ee<q&&0>a(me,je)?(M[te]=me,M[Ee]=B,te=Ee):(M[te]=je,M[he]=B,te=he);else if(Ee<q&&0>a(me,B))M[te]=me,M[Ee]=B,te=Ee;else break e}}return $}function a(M,$){var B=M.sortIndex-$.sortIndex;return B!==0?B:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=M)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function S(M){if(v=!1,w(M),!g)if(n(c)!==null)g=!0,z(C);else{var $=n(u);$!==null&&U(S,$.startTime-M)}}function C(M,$){g=!1,v&&(v=!1,x(P),P=-1),m=!0;var B=h;try{for(w($),f=n(c);f!==null&&(!(f.expirationTime>$)||M&&!O());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var q=te(f.expirationTime<=$);$=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(c)&&r(c),w($)}else r(c);f=n(c)}if(f!==null)var ae=!0;else{var he=n(u);he!==null&&U(S,he.startTime-$),ae=!1}return ae}finally{f=null,h=B,m=!1}}var k=!1,N=null,P=-1,E=5,R=-1;function O(){return!(e.unstable_now()-R<E)}function K(){if(N!==null){var M=e.unstable_now();R=M;var $=!0;try{$=N(!0,M)}finally{$?J():(k=!1,N=null)}}else k=!1}var J;if(typeof y=="function")J=function(){y(K)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,G=Q.port2;Q.port1.onmessage=K,J=function(){G.postMessage(null)}}else J=function(){b(K,0)};function z(M){N=M,k||(k=!0,J())}function U(M,$){P=b(function(){M(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,z(C))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var B=h;h=$;try{return M()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=h;h=M;try{return $()}finally{h=B}},e.unstable_scheduleCallback=function(M,$,B){var te=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,M={id:d++,callback:$,priorityLevel:M,startTime:B,expirationTime:q,sortIndex:-1},B>te?(M.sortIndex=B,t(u,M),n(c)===null&&M===n(u)&&(v?(x(P),P=-1):v=!0,U(S,B-te))):(M.sortIndex=q,t(c,M),g||m||(g=!0,z(C))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var $=h;return function(){var B=h;h=$;try{return M.apply(this,arguments)}finally{h=B}}}})(Qz);Yz.exports=Qz;var Yie=Yz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qie=p,Fs=Yie;function et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zz=new Set,mv={};function tf(e,t){Qh(e,t),Qh(e+"Capture",t)}function Qh(e,t){for(mv[e]=t,e=0;e<t.length;e++)Zz.add(t[e])}var Cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tP=Object.prototype.hasOwnProperty,Zie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rL={},aL={};function Jie(e){return tP.call(aL,e)?!0:tP.call(rL,e)?!1:Zie.test(e)?aL[e]=!0:(rL[e]=!0,!1)}function Xie(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eoe(e,t,n,r){if(t===null||typeof t>"u"||Xie(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Za(e,t,n,r,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Sa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sa[e]=new Za(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sa[t]=new Za(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sa[e]=new Za(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sa[e]=new Za(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sa[e]=new Za(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sa[e]=new Za(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sa[e]=new Za(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sa[e]=new Za(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sa[e]=new Za(e,5,!1,e.toLowerCase(),null,!1,!1)});var i_=/[\-:]([a-z])/g;function o_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(i_,o_);Sa[t]=new Za(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(i_,o_);Sa[t]=new Za(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(i_,o_);Sa[t]=new Za(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sa[e]=new Za(e,1,!1,e.toLowerCase(),null,!1,!1)});Sa.xlinkHref=new Za("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sa[e]=new Za(e,1,!1,e.toLowerCase(),null,!0,!0)});function l_(e,t,n,r){var a=Sa.hasOwnProperty(t)?Sa[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eoe(t,n,a,r)&&(n=null),r||a===null?Jie(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zl=Qie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u0=Symbol.for("react.element"),rh=Symbol.for("react.portal"),ah=Symbol.for("react.fragment"),c_=Symbol.for("react.strict_mode"),nP=Symbol.for("react.profiler"),Jz=Symbol.for("react.provider"),Xz=Symbol.for("react.context"),u_=Symbol.for("react.forward_ref"),rP=Symbol.for("react.suspense"),aP=Symbol.for("react.suspense_list"),d_=Symbol.for("react.memo"),hc=Symbol.for("react.lazy"),eU=Symbol.for("react.offscreen"),sL=Symbol.iterator;function Fp(e){return e===null||typeof e!="object"?null:(e=sL&&e[sL]||e["@@iterator"],typeof e=="function"?e:null)}var sr=Object.assign,RN;function gg(e){if(RN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);RN=t&&t[1]||""}return`
`+RN+e}var MN=!1;function IN(e,t){if(!e||MN)return"";MN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=r.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{MN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gg(e):""}function toe(e){switch(e.tag){case 5:return gg(e.type);case 16:return gg("Lazy");case 13:return gg("Suspense");case 19:return gg("SuspenseList");case 0:case 2:case 15:return e=IN(e.type,!1),e;case 11:return e=IN(e.type.render,!1),e;case 1:return e=IN(e.type,!0),e;default:return""}}function sP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ah:return"Fragment";case rh:return"Portal";case nP:return"Profiler";case c_:return"StrictMode";case rP:return"Suspense";case aP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xz:return(e.displayName||"Context")+".Consumer";case Jz:return(e._context.displayName||"Context")+".Provider";case u_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case d_:return t=e.displayName||null,t!==null?t:sP(e.type)||"Memo";case hc:t=e._payload,e=e._init;try{return sP(e(t))}catch{}}return null}function noe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sP(t);case 8:return t===c_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function roe(e){var t=tU(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function d0(e){e._valueTracker||(e._valueTracker=roe(e))}function nU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tU(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function iP(e,t){var n=t.checked;return sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function iL(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Uc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rU(e,t){t=t.checked,t!=null&&l_(e,"checked",t,!1)}function oP(e,t){rU(e,t);var n=Uc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lP(e,t.type,n):t.hasOwnProperty("defaultValue")&&lP(e,t.type,Uc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oL(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lP(e,t,n){(t!=="number"||hw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vg=Array.isArray;function Dh(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Uc(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function cP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(et(91));return sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lL(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(et(92));if(vg(n)){if(1<n.length)throw Error(et(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uc(n)}}function aU(e,t){var n=Uc(t.value),r=Uc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sU(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sU(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var f0,iU=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(f0=f0||document.createElement("div"),f0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=f0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aoe=["Webkit","ms","Moz","O"];Object.keys(Vg).forEach(function(e){aoe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vg[t]=Vg[e]})});function oU(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vg.hasOwnProperty(e)&&Vg[e]?(""+t).trim():t+"px"}function lU(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=oU(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var soe=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dP(e,t){if(t){if(soe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(et(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(et(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(et(61))}if(t.style!=null&&typeof t.style!="object")throw Error(et(62))}}function fP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hP=null;function f_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mP=null,Rh=null,Mh=null;function uL(e){if(e=_y(e)){if(typeof mP!="function")throw Error(et(280));var t=e.stateNode;t&&(t=BS(t),mP(e.stateNode,e.type,t))}}function cU(e){Rh?Mh?Mh.push(e):Mh=[e]:Rh=e}function uU(){if(Rh){var e=Rh,t=Mh;if(Mh=Rh=null,uL(e),t)for(e=0;e<t.length;e++)uL(t[e])}}function dU(e,t){return e(t)}function fU(){}var ON=!1;function hU(e,t,n){if(ON)return e(t,n);ON=!0;try{return dU(e,t,n)}finally{ON=!1,(Rh!==null||Mh!==null)&&(fU(),uU())}}function gv(e,t){var n=e.stateNode;if(n===null)return null;var r=BS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(et(231,t,typeof n));return n}var pP=!1;if(Cl)try{var Bp={};Object.defineProperty(Bp,"passive",{get:function(){pP=!0}}),window.addEventListener("test",Bp,Bp),window.removeEventListener("test",Bp,Bp)}catch{pP=!1}function ioe(e,t,n,r,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zg=!1,mw=null,pw=!1,gP=null,ooe={onError:function(e){zg=!0,mw=e}};function loe(e,t,n,r,a,s,o,l,c){zg=!1,mw=null,ioe.apply(ooe,arguments)}function coe(e,t,n,r,a,s,o,l,c){if(loe.apply(this,arguments),zg){if(zg){var u=mw;zg=!1,mw=null}else throw Error(et(198));pw||(pw=!0,gP=u)}}function nf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dL(e){if(nf(e)!==e)throw Error(et(188))}function uoe(e){var t=e.alternate;if(!t){if(t=nf(e),t===null)throw Error(et(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return dL(a),e;if(s===r)return dL(a),t;s=s.sibling}throw Error(et(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?e:t}function pU(e){return e=uoe(e),e!==null?gU(e):null}function gU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gU(e);if(t!==null)return t;e=e.sibling}return null}var vU=Fs.unstable_scheduleCallback,fL=Fs.unstable_cancelCallback,doe=Fs.unstable_shouldYield,foe=Fs.unstable_requestPaint,xr=Fs.unstable_now,hoe=Fs.unstable_getCurrentPriorityLevel,h_=Fs.unstable_ImmediatePriority,yU=Fs.unstable_UserBlockingPriority,gw=Fs.unstable_NormalPriority,moe=Fs.unstable_LowPriority,xU=Fs.unstable_IdlePriority,OS=null,Co=null;function poe(e){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(OS,e,void 0,(e.current.flags&128)===128)}catch{}}var zi=Math.clz32?Math.clz32:yoe,goe=Math.log,voe=Math.LN2;function yoe(e){return e>>>=0,e===0?32:31-(goe(e)/voe|0)|0}var h0=64,m0=4194304;function yg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=yg(l):(s&=o,s!==0&&(r=yg(s)))}else o=n&~a,o!==0?r=yg(o):s!==0&&(r=yg(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zi(t),a=1<<n,r|=e[n],t&=~a;return r}function xoe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function boe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-zi(s),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=xoe(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function vP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bU(){var e=h0;return h0<<=1,!(h0&4194240)&&(h0=64),e}function LN(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ey(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zi(t),e[t]=n}function woe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-zi(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}function m_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zi(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xn=0;function wU(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SU,p_,CU,jU,NU,yP=!1,p0=[],Pc=null,Ec=null,Tc=null,vv=new Map,yv=new Map,vc=[],Soe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hL(e,t){switch(e){case"focusin":case"focusout":Pc=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Tc=null;break;case"pointerover":case"pointerout":vv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yv.delete(t.pointerId)}}function Vp(e,t,n,r,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},t!==null&&(t=_y(t),t!==null&&p_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Coe(e,t,n,r,a){switch(t){case"focusin":return Pc=Vp(Pc,e,t,n,r,a),!0;case"dragenter":return Ec=Vp(Ec,e,t,n,r,a),!0;case"mouseover":return Tc=Vp(Tc,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return vv.set(s,Vp(vv.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,yv.set(s,Vp(yv.get(s)||null,e,t,n,r,a)),!0}return!1}function kU(e){var t=Uu(e.target);if(t!==null){var n=nf(t);if(n!==null){if(t=n.tag,t===13){if(t=mU(n),t!==null){e.blockedOn=t,NU(e.priority,function(){CU(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hP=r,n.target.dispatchEvent(r),hP=null}else return t=_y(n),t!==null&&p_(t),e.blockedOn=n,!1;t.shift()}return!0}function mL(e,t,n){kb(e)&&n.delete(t)}function joe(){yP=!1,Pc!==null&&kb(Pc)&&(Pc=null),Ec!==null&&kb(Ec)&&(Ec=null),Tc!==null&&kb(Tc)&&(Tc=null),vv.forEach(mL),yv.forEach(mL)}function zp(e,t){e.blockedOn===t&&(e.blockedOn=null,yP||(yP=!0,Fs.unstable_scheduleCallback(Fs.unstable_NormalPriority,joe)))}function xv(e){function t(a){return zp(a,e)}if(0<p0.length){zp(p0[0],e);for(var n=1;n<p0.length;n++){var r=p0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pc!==null&&zp(Pc,e),Ec!==null&&zp(Ec,e),Tc!==null&&zp(Tc,e),vv.forEach(t),yv.forEach(t),n=0;n<vc.length;n++)r=vc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vc.length&&(n=vc[0],n.blockedOn===null);)kU(n),n.blockedOn===null&&vc.shift()}var Ih=zl.ReactCurrentBatchConfig,yw=!0;function Noe(e,t,n,r){var a=xn,s=Ih.transition;Ih.transition=null;try{xn=1,g_(e,t,n,r)}finally{xn=a,Ih.transition=s}}function koe(e,t,n,r){var a=xn,s=Ih.transition;Ih.transition=null;try{xn=4,g_(e,t,n,r)}finally{xn=a,Ih.transition=s}}function g_(e,t,n,r){if(yw){var a=xP(e,t,n,r);if(a===null)qN(e,t,r,xw,n),hL(e,r);else if(Coe(a,e,t,n,r))r.stopPropagation();else if(hL(e,r),t&4&&-1<Soe.indexOf(e)){for(;a!==null;){var s=_y(a);if(s!==null&&SU(s),s=xP(e,t,n,r),s===null&&qN(e,t,r,xw,n),s===a)break;a=s}a!==null&&r.stopPropagation()}else qN(e,t,r,null,n)}}var xw=null;function xP(e,t,n,r){if(xw=null,e=f_(r),e=Uu(e),e!==null)if(t=nf(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mU(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xw=e,null}function AU(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hoe()){case h_:return 1;case yU:return 4;case gw:case moe:return 16;case xU:return 536870912;default:return 16}default:return 16}}var wc=null,v_=null,Ab=null;function PU(){if(Ab)return Ab;var e,t=v_,n=t.length,r,a="value"in wc?wc.value:wc.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[s-r];r++);return Ab=a.slice(e,1<r?1-r:void 0)}function Pb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function g0(){return!0}function pL(){return!1}function Ws(e){function t(n,r,a,s,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?g0:pL,this.isPropagationStopped=pL,this}return sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=g0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=g0)},persist:function(){},isPersistent:g0}),t}var $m={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y_=Ws($m),Ty=sr({},$m,{view:0,detail:0}),Aoe=Ws(Ty),$N,FN,Up,LS=sr({},Ty,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Up&&(Up&&e.type==="mousemove"?($N=e.screenX-Up.screenX,FN=e.screenY-Up.screenY):FN=$N=0,Up=e),$N)},movementY:function(e){return"movementY"in e?e.movementY:FN}}),gL=Ws(LS),Poe=sr({},LS,{dataTransfer:0}),Eoe=Ws(Poe),Toe=sr({},Ty,{relatedTarget:0}),BN=Ws(Toe),_oe=sr({},$m,{animationName:0,elapsedTime:0,pseudoElement:0}),Doe=Ws(_oe),Roe=sr({},$m,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Moe=Ws(Roe),Ioe=sr({},$m,{data:0}),vL=Ws(Ioe),Ooe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Loe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$oe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Foe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$oe[e])?!!t[e]:!1}function x_(){return Foe}var Boe=sr({},Ty,{key:function(e){if(e.key){var t=Ooe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Loe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x_,charCode:function(e){return e.type==="keypress"?Pb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Voe=Ws(Boe),zoe=sr({},LS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yL=Ws(zoe),Uoe=sr({},Ty,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x_}),Koe=Ws(Uoe),Goe=sr({},$m,{propertyName:0,elapsedTime:0,pseudoElement:0}),Woe=Ws(Goe),qoe=sr({},LS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hoe=Ws(qoe),Yoe=[9,13,27,32],b_=Cl&&"CompositionEvent"in window,Ug=null;Cl&&"documentMode"in document&&(Ug=document.documentMode);var Qoe=Cl&&"TextEvent"in window&&!Ug,EU=Cl&&(!b_||Ug&&8<Ug&&11>=Ug),xL=" ",bL=!1;function TU(e,t){switch(e){case"keyup":return Yoe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _U(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sh=!1;function Zoe(e,t){switch(e){case"compositionend":return _U(t);case"keypress":return t.which!==32?null:(bL=!0,xL);case"textInput":return e=t.data,e===xL&&bL?null:e;default:return null}}function Joe(e,t){if(sh)return e==="compositionend"||!b_&&TU(e,t)?(e=PU(),Ab=v_=wc=null,sh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EU&&t.locale!=="ko"?null:t.data;default:return null}}var Xoe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xoe[e.type]:t==="textarea"}function DU(e,t,n,r){cU(r),t=bw(t,"onChange"),0<t.length&&(n=new y_("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kg=null,bv=null;function ele(e){UU(e,0)}function $S(e){var t=lh(e);if(nU(t))return e}function tle(e,t){if(e==="change")return t}var RU=!1;if(Cl){var VN;if(Cl){var zN="oninput"in document;if(!zN){var SL=document.createElement("div");SL.setAttribute("oninput","return;"),zN=typeof SL.oninput=="function"}VN=zN}else VN=!1;RU=VN&&(!document.documentMode||9<document.documentMode)}function CL(){Kg&&(Kg.detachEvent("onpropertychange",MU),bv=Kg=null)}function MU(e){if(e.propertyName==="value"&&$S(bv)){var t=[];DU(t,bv,e,f_(e)),hU(ele,t)}}function nle(e,t,n){e==="focusin"?(CL(),Kg=t,bv=n,Kg.attachEvent("onpropertychange",MU)):e==="focusout"&&CL()}function rle(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $S(bv)}function ale(e,t){if(e==="click")return $S(t)}function sle(e,t){if(e==="input"||e==="change")return $S(t)}function ile(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wi=typeof Object.is=="function"?Object.is:ile;function wv(e,t){if(Wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!tP.call(t,a)||!Wi(e[a],t[a]))return!1}return!0}function jL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function NL(e,t){var n=jL(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jL(n)}}function IU(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?IU(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function OU(){for(var e=window,t=hw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hw(e.document)}return t}function w_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ole(e){var t=OU(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&IU(n.ownerDocument.documentElement,n)){if(r!==null&&w_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=r.end===void 0?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=NL(n,s);var o=NL(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lle=Cl&&"documentMode"in document&&11>=document.documentMode,ih=null,bP=null,Gg=null,wP=!1;function kL(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wP||ih==null||ih!==hw(r)||(r=ih,"selectionStart"in r&&w_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gg&&wv(Gg,r)||(Gg=r,r=bw(bP,"onSelect"),0<r.length&&(t=new y_("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ih)))}function v0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var oh={animationend:v0("Animation","AnimationEnd"),animationiteration:v0("Animation","AnimationIteration"),animationstart:v0("Animation","AnimationStart"),transitionend:v0("Transition","TransitionEnd")},UN={},LU={};Cl&&(LU=document.createElement("div").style,"AnimationEvent"in window||(delete oh.animationend.animation,delete oh.animationiteration.animation,delete oh.animationstart.animation),"TransitionEvent"in window||delete oh.transitionend.transition);function FS(e){if(UN[e])return UN[e];if(!oh[e])return e;var t=oh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in LU)return UN[e]=t[n];return e}var $U=FS("animationend"),FU=FS("animationiteration"),BU=FS("animationstart"),VU=FS("transitionend"),zU=new Map,AL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function au(e,t){zU.set(e,t),tf(t,[e])}for(var KN=0;KN<AL.length;KN++){var GN=AL[KN],cle=GN.toLowerCase(),ule=GN[0].toUpperCase()+GN.slice(1);au(cle,"on"+ule)}au($U,"onAnimationEnd");au(FU,"onAnimationIteration");au(BU,"onAnimationStart");au("dblclick","onDoubleClick");au("focusin","onFocus");au("focusout","onBlur");au(VU,"onTransitionEnd");Qh("onMouseEnter",["mouseout","mouseover"]);Qh("onMouseLeave",["mouseout","mouseover"]);Qh("onPointerEnter",["pointerout","pointerover"]);Qh("onPointerLeave",["pointerout","pointerover"]);tf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tf("onBeforeInput",["compositionend","keypress","textInput","paste"]);tf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dle=new Set("cancel close invalid load scroll toggle".split(" ").concat(xg));function PL(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,coe(r,t,void 0,e),e.currentTarget=null}function UU(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;PL(a,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;PL(a,l,u),s=c}}}if(pw)throw e=gP,pw=!1,gP=null,e}function On(e,t){var n=t[kP];n===void 0&&(n=t[kP]=new Set);var r=e+"__bubble";n.has(r)||(KU(t,e,2,!1),n.add(r))}function WN(e,t,n){var r=0;t&&(r|=4),KU(n,e,r,t)}var y0="_reactListening"+Math.random().toString(36).slice(2);function Sv(e){if(!e[y0]){e[y0]=!0,Zz.forEach(function(n){n!=="selectionchange"&&(dle.has(n)||WN(n,!1,e),WN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[y0]||(t[y0]=!0,WN("selectionchange",!1,t))}}function KU(e,t,n,r){switch(AU(t)){case 1:var a=Noe;break;case 4:a=koe;break;default:a=g_}n=a.bind(null,t,n,e),a=void 0,!pP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qN(e,t,n,r,a){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Uu(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}hU(function(){var u=s,d=f_(n),f=[];e:{var h=zU.get(e);if(h!==void 0){var m=y_,g=e;switch(e){case"keypress":if(Pb(n)===0)break e;case"keydown":case"keyup":m=Voe;break;case"focusin":g="focus",m=BN;break;case"focusout":g="blur",m=BN;break;case"beforeblur":case"afterblur":m=BN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Eoe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Koe;break;case $U:case FU:case BU:m=Doe;break;case VU:m=Woe;break;case"scroll":m=Aoe;break;case"wheel":m=Hoe;break;case"copy":case"cut":case"paste":m=Moe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yL}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=gv(y,x),S!=null&&v.push(Cv(y,S,w)))),b)break;y=y.return}0<v.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==hP&&(g=n.relatedTarget||n.fromElement)&&(Uu(g)||g[jl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Uu(g):null,g!==null&&(b=nf(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=gL,S="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=yL,S="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?h:lh(m),w=g==null?h:lh(g),h=new v(S,y+"leave",m,n,d),h.target=b,h.relatedTarget=w,S=null,Uu(d)===u&&(v=new v(x,y+"enter",g,n,d),v.target=w,v.relatedTarget=b,S=v),b=S,m&&g)t:{for(v=m,x=g,y=0,w=v;w;w=Ff(w))y++;for(w=0,S=x;S;S=Ff(S))w++;for(;0<y-w;)v=Ff(v),y--;for(;0<w-y;)x=Ff(x),w--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Ff(v),x=Ff(x)}v=null}else v=null;m!==null&&EL(f,h,m,v,!1),g!==null&&b!==null&&EL(f,b,g,v,!0)}}e:{if(h=u?lh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=tle;else if(wL(h))if(RU)C=sle;else{C=rle;var k=nle}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=ale);if(C&&(C=C(e,u))){DU(f,C,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&lP(h,"number",h.value)}switch(k=u?lh(u):window,e){case"focusin":(wL(k)||k.contentEditable==="true")&&(ih=k,bP=u,Gg=null);break;case"focusout":Gg=bP=ih=null;break;case"mousedown":wP=!0;break;case"contextmenu":case"mouseup":case"dragend":wP=!1,kL(f,n,d);break;case"selectionchange":if(lle)break;case"keydown":case"keyup":kL(f,n,d)}var N;if(b_)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else sh?TU(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(EU&&n.locale!=="ko"&&(sh||P!=="onCompositionStart"?P==="onCompositionEnd"&&sh&&(N=PU()):(wc=d,v_="value"in wc?wc.value:wc.textContent,sh=!0)),k=bw(u,P),0<k.length&&(P=new vL(P,e,null,n,d),f.push({event:P,listeners:k}),N?P.data=N:(N=_U(n),N!==null&&(P.data=N)))),(N=Qoe?Zoe(e,n):Joe(e,n))&&(u=bw(u,"onBeforeInput"),0<u.length&&(d=new vL("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}UU(f,t)})}function Cv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bw(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=gv(e,n),s!=null&&r.unshift(Cv(e,s,a)),s=gv(e,t),s!=null&&r.push(Cv(e,s,a))),e=e.return}return r}function Ff(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function EL(e,t,n,r,a){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=gv(n,s),c!=null&&o.unshift(Cv(n,c,l))):a||(c=gv(n,s),c!=null&&o.push(Cv(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var fle=/\r\n?/g,hle=/\u0000|\uFFFD/g;function TL(e){return(typeof e=="string"?e:""+e).replace(fle,`
`).replace(hle,"")}function x0(e,t,n){if(t=TL(t),TL(e)!==t&&n)throw Error(et(425))}function ww(){}var SP=null,CP=null;function jP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var NP=typeof setTimeout=="function"?setTimeout:void 0,mle=typeof clearTimeout=="function"?clearTimeout:void 0,_L=typeof Promise=="function"?Promise:void 0,ple=typeof queueMicrotask=="function"?queueMicrotask:typeof _L<"u"?function(e){return _L.resolve(null).then(e).catch(gle)}:NP;function gle(e){setTimeout(function(){throw e})}function HN(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),xv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);xv(t)}function _c(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function DL(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fm=Math.random().toString(36).slice(2),go="__reactFiber$"+Fm,jv="__reactProps$"+Fm,jl="__reactContainer$"+Fm,kP="__reactEvents$"+Fm,vle="__reactListeners$"+Fm,yle="__reactHandles$"+Fm;function Uu(e){var t=e[go];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jl]||n[go]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=DL(e);e!==null;){if(n=e[go])return n;e=DL(e)}return t}e=n,n=e.parentNode}return null}function _y(e){return e=e[go]||e[jl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(et(33))}function BS(e){return e[jv]||null}var AP=[],ch=-1;function su(e){return{current:e}}function $n(e){0>ch||(e.current=AP[ch],AP[ch]=null,ch--)}function Tn(e,t){ch++,AP[ch]=e.current,e.current=t}var Kc={},Ma=su(Kc),vs=su(!1),wd=Kc;function Zh(e,t){var n=e.type.contextTypes;if(!n)return Kc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in n)a[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ys(e){return e=e.childContextTypes,e!=null}function Sw(){$n(vs),$n(Ma)}function RL(e,t,n){if(Ma.current!==Kc)throw Error(et(168));Tn(Ma,t),Tn(vs,n)}function GU(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(et(108,noe(e)||"Unknown",a));return sr({},n,r)}function Cw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kc,wd=Ma.current,Tn(Ma,e),Tn(vs,vs.current),!0}function ML(e,t,n){var r=e.stateNode;if(!r)throw Error(et(169));n?(e=GU(e,t,wd),r.__reactInternalMemoizedMergedChildContext=e,$n(vs),$n(Ma),Tn(Ma,e)):$n(vs),Tn(vs,n)}var sl=null,VS=!1,YN=!1;function WU(e){sl===null?sl=[e]:sl.push(e)}function xle(e){VS=!0,WU(e)}function iu(){if(!YN&&sl!==null){YN=!0;var e=0,t=xn;try{var n=sl;for(xn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sl=null,VS=!1}catch(a){throw sl!==null&&(sl=sl.slice(e+1)),vU(h_,iu),a}finally{xn=t,YN=!1}}return null}var uh=[],dh=0,jw=null,Nw=0,ai=[],si=0,Sd=null,fl=1,hl="";function Du(e,t){uh[dh++]=Nw,uh[dh++]=jw,jw=e,Nw=t}function qU(e,t,n){ai[si++]=fl,ai[si++]=hl,ai[si++]=Sd,Sd=e;var r=fl;e=hl;var a=32-zi(r)-1;r&=~(1<<a),n+=1;var s=32-zi(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,fl=1<<32-zi(t)+a|n<<a|r,hl=s+e}else fl=1<<s|n<<a|r,hl=e}function S_(e){e.return!==null&&(Du(e,1),qU(e,1,0))}function C_(e){for(;e===jw;)jw=uh[--dh],uh[dh]=null,Nw=uh[--dh],uh[dh]=null;for(;e===Sd;)Sd=ai[--si],ai[si]=null,hl=ai[--si],ai[si]=null,fl=ai[--si],ai[si]=null}var Is=null,Ds=null,qn=!1,Oi=null;function HU(e,t){var n=oi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function IL(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Is=e,Ds=_c(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Is=e,Ds=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sd!==null?{id:fl,overflow:hl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=oi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Is=e,Ds=null,!0):!1;default:return!1}}function PP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function EP(e){if(qn){var t=Ds;if(t){var n=t;if(!IL(e,t)){if(PP(e))throw Error(et(418));t=_c(n.nextSibling);var r=Is;t&&IL(e,t)?HU(r,n):(e.flags=e.flags&-4097|2,qn=!1,Is=e)}}else{if(PP(e))throw Error(et(418));e.flags=e.flags&-4097|2,qn=!1,Is=e}}}function OL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Is=e}function b0(e){if(e!==Is)return!1;if(!qn)return OL(e),qn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jP(e.type,e.memoizedProps)),t&&(t=Ds)){if(PP(e))throw YU(),Error(et(418));for(;t;)HU(e,t),t=_c(t.nextSibling)}if(OL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(et(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ds=_c(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ds=null}}else Ds=Is?_c(e.stateNode.nextSibling):null;return!0}function YU(){for(var e=Ds;e;)e=_c(e.nextSibling)}function Jh(){Ds=Is=null,qn=!1}function j_(e){Oi===null?Oi=[e]:Oi.push(e)}var ble=zl.ReactCurrentBatchConfig;function Kp(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,e));var a=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(et(284));if(!n._owner)throw Error(et(290,e))}return e}function w0(e,t){throw e=Object.prototype.toString.call(t),Error(et(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function LL(e){var t=e._init;return t(e._payload)}function QU(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Ic(x,y),x.index=0,x.sibling=null,x}function s(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,S){return y===null||y.tag!==6?(y=nk(w,x.mode,S),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,S){var C=w.type;return C===ah?d(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hc&&LL(C)===y.type)?(S=a(y,w.props),S.ref=Kp(x,y,w),S.return=x,S):(S=Ib(w.type,w.key,w.props,null,x.mode,S),S.ref=Kp(x,y,w),S.return=x,S)}function u(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=rk(w,x.mode,S),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function d(x,y,w,S,C){return y===null||y.tag!==7?(y=id(w,x.mode,S,C),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=nk(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case u0:return w=Ib(y.type,y.key,y.props,null,x.mode,w),w.ref=Kp(x,null,y),w.return=x,w;case rh:return y=rk(y,x.mode,w),y.return=x,y;case hc:var S=y._init;return f(x,S(y._payload),w)}if(vg(y)||Fp(y))return y=id(y,x.mode,w,null),y.return=x,y;w0(x,y)}return null}function h(x,y,w,S){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case u0:return w.key===C?c(x,y,w,S):null;case rh:return w.key===C?u(x,y,w,S):null;case hc:return C=w._init,h(x,y,C(w._payload),S)}if(vg(w)||Fp(w))return C!==null?null:d(x,y,w,S,null);w0(x,w)}return null}function m(x,y,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(y,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case u0:return x=x.get(S.key===null?w:S.key)||null,c(y,x,S,C);case rh:return x=x.get(S.key===null?w:S.key)||null,u(y,x,S,C);case hc:var k=S._init;return m(x,y,w,k(S._payload),C)}if(vg(S)||Fp(S))return x=x.get(w)||null,d(y,x,S,C,null);w0(y,S)}return null}function g(x,y,w,S){for(var C=null,k=null,N=y,P=y=0,E=null;N!==null&&P<w.length;P++){N.index>P?(E=N,N=null):E=N.sibling;var R=h(x,N,w[P],S);if(R===null){N===null&&(N=E);break}e&&N&&R.alternate===null&&t(x,N),y=s(R,y,P),k===null?C=R:k.sibling=R,k=R,N=E}if(P===w.length)return n(x,N),qn&&Du(x,P),C;if(N===null){for(;P<w.length;P++)N=f(x,w[P],S),N!==null&&(y=s(N,y,P),k===null?C=N:k.sibling=N,k=N);return qn&&Du(x,P),C}for(N=r(x,N);P<w.length;P++)E=m(N,x,P,w[P],S),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?P:E.key),y=s(E,y,P),k===null?C=E:k.sibling=E,k=E);return e&&N.forEach(function(O){return t(x,O)}),qn&&Du(x,P),C}function v(x,y,w,S){var C=Fp(w);if(typeof C!="function")throw Error(et(150));if(w=C.call(w),w==null)throw Error(et(151));for(var k=C=null,N=y,P=y=0,E=null,R=w.next();N!==null&&!R.done;P++,R=w.next()){N.index>P?(E=N,N=null):E=N.sibling;var O=h(x,N,R.value,S);if(O===null){N===null&&(N=E);break}e&&N&&O.alternate===null&&t(x,N),y=s(O,y,P),k===null?C=O:k.sibling=O,k=O,N=E}if(R.done)return n(x,N),qn&&Du(x,P),C;if(N===null){for(;!R.done;P++,R=w.next())R=f(x,R.value,S),R!==null&&(y=s(R,y,P),k===null?C=R:k.sibling=R,k=R);return qn&&Du(x,P),C}for(N=r(x,N);!R.done;P++,R=w.next())R=m(N,x,P,R.value,S),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?P:R.key),y=s(R,y,P),k===null?C=R:k.sibling=R,k=R);return e&&N.forEach(function(K){return t(x,K)}),qn&&Du(x,P),C}function b(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===ah&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case u0:e:{for(var C=w.key,k=y;k!==null;){if(k.key===C){if(C=w.type,C===ah){if(k.tag===7){n(x,k.sibling),y=a(k,w.props.children),y.return=x,x=y;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hc&&LL(C)===k.type){n(x,k.sibling),y=a(k,w.props),y.ref=Kp(x,k,w),y.return=x,x=y;break e}n(x,k);break}else t(x,k);k=k.sibling}w.type===ah?(y=id(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=Ib(w.type,w.key,w.props,null,x.mode,S),S.ref=Kp(x,y,w),S.return=x,x=S)}return o(x);case rh:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=rk(w,x.mode,S),y.return=x,x=y}return o(x);case hc:return k=w._init,b(x,y,k(w._payload),S)}if(vg(w))return g(x,y,w,S);if(Fp(w))return v(x,y,w,S);w0(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=a(y,w),y.return=x,x=y):(n(x,y),y=nk(w,x.mode,S),y.return=x,x=y),o(x)):n(x,y)}return b}var Xh=QU(!0),ZU=QU(!1),kw=su(null),Aw=null,fh=null,N_=null;function k_(){N_=fh=Aw=null}function A_(e){var t=kw.current;$n(kw),e._currentValue=t}function TP(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oh(e,t){Aw=e,N_=fh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ds=!0),e.firstContext=null)}function hi(e){var t=e._currentValue;if(N_!==e)if(e={context:e,memoizedValue:t,next:null},fh===null){if(Aw===null)throw Error(et(308));fh=e,Aw.dependencies={lanes:0,firstContext:e}}else fh=fh.next=e;return t}var Ku=null;function P_(e){Ku===null?Ku=[e]:Ku.push(e)}function JU(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,P_(t)):(n.next=a.next,a.next=n),t.interleaved=n,Nl(e,r)}function Nl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mc=!1;function E_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XU(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,rn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Nl(e,n)}return a=r.interleaved,a===null?(t.next=t,P_(r)):(t.next=a.next,a.next=t),r.interleaved=t,Nl(e,n)}function Eb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,m_(e,n)}}function $L(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?a=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pw(e,t,n,r){var a=e.updateQueue;mc=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(h=t,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=sr({},f,h);break e;case 2:mc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);jd|=o,e.lanes=o,e.memoizedState=f}}function FL(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(et(191,a));a.call(r)}}}var Dy={},jo=su(Dy),Nv=su(Dy),kv=su(Dy);function Gu(e){if(e===Dy)throw Error(et(174));return e}function T_(e,t){switch(Tn(kv,t),Tn(Nv,e),Tn(jo,Dy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uP(t,e)}$n(jo),Tn(jo,t)}function em(){$n(jo),$n(Nv),$n(kv)}function eK(e){Gu(kv.current);var t=Gu(jo.current),n=uP(t,e.type);t!==n&&(Tn(Nv,e),Tn(jo,n))}function __(e){Nv.current===e&&($n(jo),$n(Nv))}var tr=su(0);function Ew(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var QN=[];function D_(){for(var e=0;e<QN.length;e++)QN[e]._workInProgressVersionPrimary=null;QN.length=0}var Tb=zl.ReactCurrentDispatcher,ZN=zl.ReactCurrentBatchConfig,Cd=0,rr=null,Rr=null,aa=null,Tw=!1,Wg=!1,Av=0,wle=0;function ka(){throw Error(et(321))}function R_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wi(e[n],t[n]))return!1;return!0}function M_(e,t,n,r,a,s){if(Cd=s,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tb.current=e===null||e.memoizedState===null?Nle:kle,e=n(r,a),Wg){s=0;do{if(Wg=!1,Av=0,25<=s)throw Error(et(301));s+=1,aa=Rr=null,t.updateQueue=null,Tb.current=Ale,e=n(r,a)}while(Wg)}if(Tb.current=_w,t=Rr!==null&&Rr.next!==null,Cd=0,aa=Rr=rr=null,Tw=!1,t)throw Error(et(300));return e}function I_(){var e=Av!==0;return Av=0,e}function mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return aa===null?rr.memoizedState=aa=e:aa=aa.next=e,aa}function mi(){if(Rr===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Rr.next;var t=aa===null?rr.memoizedState:aa.next;if(t!==null)aa=t,Rr=e;else{if(e===null)throw Error(et(310));Rr=e,e={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},aa===null?rr.memoizedState=aa=e:aa=aa.next=e}return aa}function Pv(e,t){return typeof t=="function"?t(e):t}function JN(e){var t=mi(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=Rr,a=r.baseQueue,s=n.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(a!==null){s=a.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Cd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,rr.lanes|=d,jd|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Wi(r,t.memoizedState)||(ds=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do s=a.lane,rr.lanes|=s,jd|=s,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function XN(e){var t=mi(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Wi(s,t.memoizedState)||(ds=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function tK(){}function nK(e,t){var n=rr,r=mi(),a=t(),s=!Wi(r.memoizedState,a);if(s&&(r.memoizedState=a,ds=!0),r=r.queue,O_(sK.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||aa!==null&&aa.memoizedState.tag&1){if(n.flags|=2048,Ev(9,aK.bind(null,n,r,a,t),void 0,null),oa===null)throw Error(et(349));Cd&30||rK(n,t,a)}return a}function rK(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function aK(e,t,n,r){t.value=n,t.getSnapshot=r,iK(t)&&oK(e)}function sK(e,t,n){return n(function(){iK(t)&&oK(e)})}function iK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wi(e,n)}catch{return!0}}function oK(e){var t=Nl(e,1);t!==null&&Ui(t,e,1,-1)}function BL(e){var t=mo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pv,lastRenderedState:e},t.queue=e,e=e.dispatch=jle.bind(null,rr,e),[t.memoizedState,e]}function Ev(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lK(){return mi().memoizedState}function _b(e,t,n,r){var a=mo();rr.flags|=e,a.memoizedState=Ev(1|t,n,void 0,r===void 0?null:r)}function zS(e,t,n,r){var a=mi();r=r===void 0?null:r;var s=void 0;if(Rr!==null){var o=Rr.memoizedState;if(s=o.destroy,r!==null&&R_(r,o.deps)){a.memoizedState=Ev(t,n,s,r);return}}rr.flags|=e,a.memoizedState=Ev(1|t,n,s,r)}function VL(e,t){return _b(8390656,8,e,t)}function O_(e,t){return zS(2048,8,e,t)}function cK(e,t){return zS(4,2,e,t)}function uK(e,t){return zS(4,4,e,t)}function dK(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fK(e,t,n){return n=n!=null?n.concat([e]):null,zS(4,4,dK.bind(null,t,e),n)}function L_(){}function hK(e,t){var n=mi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&R_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mK(e,t){var n=mi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&R_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pK(e,t,n){return Cd&21?(Wi(n,t)||(n=bU(),rr.lanes|=n,jd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ds=!0),e.memoizedState=n)}function Sle(e,t){var n=xn;xn=n!==0&&4>n?n:4,e(!0);var r=ZN.transition;ZN.transition={};try{e(!1),t()}finally{xn=n,ZN.transition=r}}function gK(){return mi().memoizedState}function Cle(e,t,n){var r=Mc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vK(e))yK(t,n);else if(n=JU(e,t,n,r),n!==null){var a=Ka();Ui(n,e,r,a),xK(n,t,r)}}function jle(e,t,n){var r=Mc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vK(e))yK(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(a.hasEagerState=!0,a.eagerState=l,Wi(l,o)){var c=t.interleaved;c===null?(a.next=a,P_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=JU(e,t,a,r),n!==null&&(a=Ka(),Ui(n,e,r,a),xK(n,t,r))}}function vK(e){var t=e.alternate;return e===rr||t!==null&&t===rr}function yK(e,t){Wg=Tw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xK(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,m_(e,n)}}var _w={readContext:hi,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},Nle={readContext:hi,useCallback:function(e,t){return mo().memoizedState=[e,t===void 0?null:t],e},useContext:hi,useEffect:VL,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_b(4194308,4,dK.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _b(4194308,4,e,t)},useInsertionEffect:function(e,t){return _b(4,2,e,t)},useMemo:function(e,t){var n=mo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cle.bind(null,rr,e),[r.memoizedState,e]},useRef:function(e){var t=mo();return e={current:e},t.memoizedState=e},useState:BL,useDebugValue:L_,useDeferredValue:function(e){return mo().memoizedState=e},useTransition:function(){var e=BL(!1),t=e[0];return e=Sle.bind(null,e[1]),mo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=rr,a=mo();if(qn){if(n===void 0)throw Error(et(407));n=n()}else{if(n=t(),oa===null)throw Error(et(349));Cd&30||rK(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,VL(sK.bind(null,r,s,e),[e]),r.flags|=2048,Ev(9,aK.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=mo(),t=oa.identifierPrefix;if(qn){var n=hl,r=fl;n=(r&~(1<<32-zi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Av++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wle++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kle={readContext:hi,useCallback:hK,useContext:hi,useEffect:O_,useImperativeHandle:fK,useInsertionEffect:cK,useLayoutEffect:uK,useMemo:mK,useReducer:JN,useRef:lK,useState:function(){return JN(Pv)},useDebugValue:L_,useDeferredValue:function(e){var t=mi();return pK(t,Rr.memoizedState,e)},useTransition:function(){var e=JN(Pv)[0],t=mi().memoizedState;return[e,t]},useMutableSource:tK,useSyncExternalStore:nK,useId:gK,unstable_isNewReconciler:!1},Ale={readContext:hi,useCallback:hK,useContext:hi,useEffect:O_,useImperativeHandle:fK,useInsertionEffect:cK,useLayoutEffect:uK,useMemo:mK,useReducer:XN,useRef:lK,useState:function(){return XN(Pv)},useDebugValue:L_,useDeferredValue:function(e){var t=mi();return Rr===null?t.memoizedState=e:pK(t,Rr.memoizedState,e)},useTransition:function(){var e=XN(Pv)[0],t=mi().memoizedState;return[e,t]},useMutableSource:tK,useSyncExternalStore:nK,useId:gK,unstable_isNewReconciler:!1};function Di(e,t){if(e&&e.defaultProps){t=sr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _P(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:sr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var US={isMounted:function(e){return(e=e._reactInternals)?nf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ka(),a=Mc(e),s=vl(r,a);s.payload=t,n!=null&&(s.callback=n),t=Dc(e,s,a),t!==null&&(Ui(t,e,a,r),Eb(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ka(),a=Mc(e),s=vl(r,a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Dc(e,s,a),t!==null&&(Ui(t,e,a,r),Eb(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ka(),r=Mc(e),a=vl(n,r);a.tag=2,t!=null&&(a.callback=t),t=Dc(e,a,r),t!==null&&(Ui(t,e,r,n),Eb(t,e,r))}};function zL(e,t,n,r,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!wv(n,r)||!wv(a,s):!0}function bK(e,t,n){var r=!1,a=Kc,s=t.contextType;return typeof s=="object"&&s!==null?s=hi(s):(a=ys(t)?wd:Ma.current,r=t.contextTypes,s=(r=r!=null)?Zh(e,a):Kc),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=US,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function UL(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&US.enqueueReplaceState(t,t.state,null)}function DP(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},E_(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=hi(s):(s=ys(t)?wd:Ma.current,a.context=Zh(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_P(e,t,s,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&US.enqueueReplaceState(a,a.state,null),Pw(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function tm(e,t){try{var n="",r=t;do n+=toe(r),r=r.return;while(r);var a=n}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function ek(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function RP(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ple=typeof WeakMap=="function"?WeakMap:Map;function wK(e,t,n){n=vl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rw||(Rw=!0,UP=r),RP(e,t)},n}function SK(e,t,n){n=vl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){RP(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){RP(e,t),typeof r!="function"&&(Rc===null?Rc=new Set([this]):Rc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function KL(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ple;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=zle.bind(null,e,t,n),t.then(e,e))}function GL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function WL(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vl(-1,1),t.tag=2,Dc(n,t,1))),n.lanes|=1),e)}var Ele=zl.ReactCurrentOwner,ds=!1;function La(e,t,n,r){t.child=e===null?ZU(t,null,n,r):Xh(t,e.child,n,r)}function qL(e,t,n,r,a){n=n.render;var s=t.ref;return Oh(t,a),r=M_(e,t,n,r,s,a),n=I_(),e!==null&&!ds?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kl(e,t,a)):(qn&&n&&S_(t),t.flags|=1,La(e,t,r,a),t.child)}function HL(e,t,n,r,a){if(e===null){var s=n.type;return typeof s=="function"&&!G_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,CK(e,t,s,r,a)):(e=Ib(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wv,n(o,r)&&e.ref===t.ref)return kl(e,t,a)}return t.flags|=1,e=Ic(s,r),e.ref=t.ref,e.return=t,t.child=e}function CK(e,t,n,r,a){if(e!==null){var s=e.memoizedProps;if(wv(s,r)&&e.ref===t.ref)if(ds=!1,t.pendingProps=r=s,(e.lanes&a)!==0)e.flags&131072&&(ds=!0);else return t.lanes=e.lanes,kl(e,t,a)}return MP(e,t,n,r,a)}function jK(e,t,n){var r=t.pendingProps,a=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(mh,As),As|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tn(mh,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Tn(mh,As),As|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Tn(mh,As),As|=r;return La(e,t,a,n),t.child}function NK(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function MP(e,t,n,r,a){var s=ys(n)?wd:Ma.current;return s=Zh(t,s),Oh(t,a),n=M_(e,t,n,r,s,a),r=I_(),e!==null&&!ds?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kl(e,t,a)):(qn&&r&&S_(t),t.flags|=1,La(e,t,n,a),t.child)}function YL(e,t,n,r,a){if(ys(n)){var s=!0;Cw(t)}else s=!1;if(Oh(t,a),t.stateNode===null)Db(e,t),bK(t,n,r),DP(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=hi(u):(u=ys(n)?wd:Ma.current,u=Zh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&UL(t,o,r,u),mc=!1;var h=t.memoizedState;o.state=h,Pw(t,r,o,a),c=t.memoizedState,l!==r||h!==c||vs.current||mc?(typeof d=="function"&&(_P(t,n,d,r),c=t.memoizedState),(l=mc||zL(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,XU(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Di(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=hi(c):(c=ys(n)?wd:Ma.current,c=Zh(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&UL(t,o,r,c),mc=!1,h=t.memoizedState,o.state=h,Pw(t,r,o,a);var g=t.memoizedState;l!==f||h!==g||vs.current||mc?(typeof m=="function"&&(_P(t,n,m,r),g=t.memoizedState),(u=mc||zL(t,n,u,r,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return IP(e,t,n,r,s,a)}function IP(e,t,n,r,a,s){NK(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&ML(t,n,!1),kl(e,t,s);r=t.stateNode,Ele.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Xh(t,e.child,null,s),t.child=Xh(t,null,l,s)):La(e,t,l,s),t.memoizedState=r.state,a&&ML(t,n,!0),t.child}function kK(e){var t=e.stateNode;t.pendingContext?RL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&RL(e,t.context,!1),T_(e,t.containerInfo)}function QL(e,t,n,r,a){return Jh(),j_(a),t.flags|=256,La(e,t,n,r),t.child}var OP={dehydrated:null,treeContext:null,retryLane:0};function LP(e){return{baseLanes:e,cachePool:null,transitions:null}}function AK(e,t,n){var r=t.pendingProps,a=tr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Tn(tr,a&1),e===null)return EP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=WS(o,r,0,null),e=id(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=LP(n),t.memoizedState=OP,e):$_(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Tle(e,t,o,r,l,a,n);if(s){s=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ic(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Ic(l,s):(s=id(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?LP(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=OP,r}return s=e.child,e=s.sibling,r=Ic(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $_(e,t){return t=WS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function S0(e,t,n,r){return r!==null&&j_(r),Xh(t,e.child,null,n),e=$_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tle(e,t,n,r,a,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ek(Error(et(422))),S0(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=WS({mode:"visible",children:r.children},a,0,null),s=id(s,a,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Xh(t,e.child,null,o),t.child.memoizedState=LP(o),t.memoizedState=OP,s);if(!(t.mode&1))return S0(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(et(419)),r=ek(s,r,void 0),S0(e,t,o,r)}if(l=(o&e.childLanes)!==0,ds||l){if(r=oa,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Nl(e,a),Ui(r,e,a,-1))}return K_(),r=ek(Error(et(421))),S0(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Ule.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ds=_c(a.nextSibling),Is=t,qn=!0,Oi=null,e!==null&&(ai[si++]=fl,ai[si++]=hl,ai[si++]=Sd,fl=e.id,hl=e.overflow,Sd=t),t=$_(t,r.children),t.flags|=4096,t)}function ZL(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),TP(e.return,t,n)}function tk(e,t,n,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function PK(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(La(e,t,r.children,n),r=tr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ZL(e,n,t);else if(e.tag===19)ZL(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Tn(tr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ew(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),tk(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ew(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}tk(t,!0,n,null,s);break;case"together":tk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Db(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(et(153));if(t.child!==null){for(e=t.child,n=Ic(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ic(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _le(e,t,n){switch(t.tag){case 3:kK(t),Jh();break;case 5:eK(t);break;case 1:ys(t.type)&&Cw(t);break;case 4:T_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Tn(kw,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Tn(tr,tr.current&1),t.flags|=128,null):n&t.child.childLanes?AK(e,t,n):(Tn(tr,tr.current&1),e=kl(e,t,n),e!==null?e.sibling:null);Tn(tr,tr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return PK(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Tn(tr,tr.current),r)break;return null;case 22:case 23:return t.lanes=0,jK(e,t,n)}return kl(e,t,n)}var EK,$P,TK,_K;EK=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$P=function(){};TK=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gu(jo.current);var s=null;switch(n){case"input":a=iP(e,a),r=iP(e,r),s=[];break;case"select":a=sr({},a,{value:void 0}),r=sr({},r,{value:void 0}),s=[];break;case"textarea":a=cP(e,a),r=cP(e,r),s=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ww)}dP(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mv.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&On("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};_K=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gp(e,t){if(!qn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Aa(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Dle(e,t,n){var r=t.pendingProps;switch(C_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Aa(t),null;case 1:return ys(t.type)&&Sw(),Aa(t),null;case 3:return r=t.stateNode,em(),$n(vs),$n(Ma),D_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(b0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Oi!==null&&(WP(Oi),Oi=null))),$P(e,t),Aa(t),null;case 5:__(t);var a=Gu(kv.current);if(n=t.type,e!==null&&t.stateNode!=null)TK(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(et(166));return Aa(t),null}if(e=Gu(jo.current),b0(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[go]=t,r[jv]=s,e=(t.mode&1)!==0,n){case"dialog":On("cancel",r),On("close",r);break;case"iframe":case"object":case"embed":On("load",r);break;case"video":case"audio":for(a=0;a<xg.length;a++)On(xg[a],r);break;case"source":On("error",r);break;case"img":case"image":case"link":On("error",r),On("load",r);break;case"details":On("toggle",r);break;case"input":iL(r,s),On("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},On("invalid",r);break;case"textarea":lL(r,s),On("invalid",r)}dP(n,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&x0(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&x0(r.textContent,l,e),a=["children",""+l]):mv.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&On("scroll",r)}switch(n){case"input":d0(r),oL(r,s,!0);break;case"textarea":d0(r),cL(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ww)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sU(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[go]=t,e[jv]=r,EK(e,t,!1,!1),t.stateNode=e;e:{switch(o=fP(n,r),n){case"dialog":On("cancel",e),On("close",e),a=r;break;case"iframe":case"object":case"embed":On("load",e),a=r;break;case"video":case"audio":for(a=0;a<xg.length;a++)On(xg[a],e);a=r;break;case"source":On("error",e),a=r;break;case"img":case"image":case"link":On("error",e),On("load",e),a=r;break;case"details":On("toggle",e),a=r;break;case"input":iL(e,r),a=iP(e,r),On("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=sr({},r,{value:void 0}),On("invalid",e);break;case"textarea":lL(e,r),a=cP(e,r),On("invalid",e);break;default:a=r}dP(n,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?lU(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iU(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pv(e,c):typeof c=="number"&&pv(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mv.hasOwnProperty(s)?c!=null&&s==="onScroll"&&On("scroll",e):c!=null&&l_(e,s,c,o))}switch(n){case"input":d0(e),oL(e,r,!1);break;case"textarea":d0(e),cL(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Uc(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Dh(e,!!r.multiple,s,!1):r.defaultValue!=null&&Dh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ww)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Aa(t),null;case 6:if(e&&t.stateNode!=null)_K(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(et(166));if(n=Gu(kv.current),Gu(jo.current),b0(t)){if(r=t.stateNode,n=t.memoizedProps,r[go]=t,(s=r.nodeValue!==n)&&(e=Is,e!==null))switch(e.tag){case 3:x0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&x0(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[go]=t,t.stateNode=r}return Aa(t),null;case 13:if($n(tr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qn&&Ds!==null&&t.mode&1&&!(t.flags&128))YU(),Jh(),t.flags|=98560,s=!1;else if(s=b0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(et(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(et(317));s[go]=t}else Jh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Aa(t),s=!1}else Oi!==null&&(WP(Oi),Oi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||tr.current&1?Ir===0&&(Ir=3):K_())),t.updateQueue!==null&&(t.flags|=4),Aa(t),null);case 4:return em(),$P(e,t),e===null&&Sv(t.stateNode.containerInfo),Aa(t),null;case 10:return A_(t.type._context),Aa(t),null;case 17:return ys(t.type)&&Sw(),Aa(t),null;case 19:if($n(tr),s=t.memoizedState,s===null)return Aa(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Gp(s,!1);else{if(Ir!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ew(e),o!==null){for(t.flags|=128,Gp(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Tn(tr,tr.current&1|2),t.child}e=e.sibling}s.tail!==null&&xr()>nm&&(t.flags|=128,r=!0,Gp(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ew(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qn)return Aa(t),null}else 2*xr()-s.renderingStartTime>nm&&n!==1073741824&&(t.flags|=128,r=!0,Gp(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xr(),t.sibling=null,n=tr.current,Tn(tr,r?n&1|2:n&1),t):(Aa(t),null);case 22:case 23:return U_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?As&1073741824&&(Aa(t),t.subtreeFlags&6&&(t.flags|=8192)):Aa(t),null;case 24:return null;case 25:return null}throw Error(et(156,t.tag))}function Rle(e,t){switch(C_(t),t.tag){case 1:return ys(t.type)&&Sw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return em(),$n(vs),$n(Ma),D_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return __(t),null;case 13:if($n(tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(et(340));Jh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $n(tr),null;case 4:return em(),null;case 10:return A_(t.type._context),null;case 22:case 23:return U_(),null;case 24:return null;default:return null}}var C0=!1,_a=!1,Mle=typeof WeakSet=="function"?WeakSet:Set,ht=null;function hh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hr(e,t,r)}else n.current=null}function FP(e,t,n){try{n()}catch(r){hr(e,t,r)}}var JL=!1;function Ile(e,t){if(SP=yw,e=OU(),w_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=o),h===s&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(CP={focusedElem:e,selectionRange:n},yw=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){t=ht;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Di(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(S){hr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}return g=JL,JL=!1,g}function qg(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&FP(t,n,s)}a=a.next}while(a!==r)}}function KS(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function BP(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function DK(e){var t=e.alternate;t!==null&&(e.alternate=null,DK(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[go],delete t[jv],delete t[kP],delete t[vle],delete t[yle])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function RK(e){return e.tag===5||e.tag===3||e.tag===4}function XL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||RK(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function VP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ww));else if(r!==4&&(e=e.child,e!==null))for(VP(e,t,n),e=e.sibling;e!==null;)VP(e,t,n),e=e.sibling}function zP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zP(e,t,n),e=e.sibling;e!==null;)zP(e,t,n),e=e.sibling}var ha=null,Ri=!1;function sc(e,t,n){for(n=n.child;n!==null;)MK(e,t,n),n=n.sibling}function MK(e,t,n){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(OS,n)}catch{}switch(n.tag){case 5:_a||hh(n,t);case 6:var r=ha,a=Ri;ha=null,sc(e,t,n),ha=r,Ri=a,ha!==null&&(Ri?(e=ha,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ha.removeChild(n.stateNode));break;case 18:ha!==null&&(Ri?(e=ha,n=n.stateNode,e.nodeType===8?HN(e.parentNode,n):e.nodeType===1&&HN(e,n),xv(e)):HN(ha,n.stateNode));break;case 4:r=ha,a=Ri,ha=n.stateNode.containerInfo,Ri=!0,sc(e,t,n),ha=r,Ri=a;break;case 0:case 11:case 14:case 15:if(!_a&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&FP(n,t,o),a=a.next}while(a!==r)}sc(e,t,n);break;case 1:if(!_a&&(hh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){hr(n,t,l)}sc(e,t,n);break;case 21:sc(e,t,n);break;case 22:n.mode&1?(_a=(r=_a)||n.memoizedState!==null,sc(e,t,n),_a=r):sc(e,t,n);break;default:sc(e,t,n)}}function e4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mle),t.forEach(function(r){var a=Kle.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ki(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ha=l.stateNode,Ri=!1;break e;case 3:ha=l.stateNode.containerInfo,Ri=!0;break e;case 4:ha=l.stateNode.containerInfo,Ri=!0;break e}l=l.return}if(ha===null)throw Error(et(160));MK(s,o,a),ha=null,Ri=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){hr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IK(t,e),t=t.sibling}function IK(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ki(t,e),co(e),r&4){try{qg(3,e,e.return),KS(3,e)}catch(v){hr(e,e.return,v)}try{qg(5,e,e.return)}catch(v){hr(e,e.return,v)}}break;case 1:ki(t,e),co(e),r&512&&n!==null&&hh(n,n.return);break;case 5:if(ki(t,e),co(e),r&512&&n!==null&&hh(n,n.return),e.flags&32){var a=e.stateNode;try{pv(a,"")}catch(v){hr(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&rU(a,s),fP(l,o);var u=fP(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?lU(a,f):d==="dangerouslySetInnerHTML"?iU(a,f):d==="children"?pv(a,f):l_(a,d,f,u)}switch(l){case"input":oP(a,s);break;case"textarea":aU(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Dh(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Dh(a,!!s.multiple,s.defaultValue,!0):Dh(a,!!s.multiple,s.multiple?[]:"",!1))}a[jv]=s}catch(v){hr(e,e.return,v)}}break;case 6:if(ki(t,e),co(e),r&4){if(e.stateNode===null)throw Error(et(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){hr(e,e.return,v)}}break;case 3:if(ki(t,e),co(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xv(t.containerInfo)}catch(v){hr(e,e.return,v)}break;case 4:ki(t,e),co(e);break;case 13:ki(t,e),co(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(V_=xr())),r&4&&e4(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_a=(u=_a)||d,ki(t,e),_a=u):ki(t,e),co(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ht=e,d=e.child;d!==null;){for(f=ht=d;ht!==null;){switch(h=ht,m=h.child,h.tag){case 0:case 11:case 14:case 15:qg(4,h,h.return);break;case 1:hh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){hr(r,n,v)}}break;case 5:hh(h,h.return);break;case 22:if(h.memoizedState!==null){n4(f);continue}}m!==null?(m.return=h,ht=m):n4(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=oU("display",o))}catch(v){hr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){hr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ki(t,e),co(e),r&4&&e4(e);break;case 21:break;default:ki(t,e),co(e)}}function co(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(RK(n)){var r=n;break e}n=n.return}throw Error(et(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(pv(a,""),r.flags&=-33);var s=XL(e);zP(e,s,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=XL(e);VP(e,l,o);break;default:throw Error(et(161))}}catch(c){hr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ole(e,t,n){ht=e,OK(e)}function OK(e,t,n){for(var r=(e.mode&1)!==0;ht!==null;){var a=ht,s=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||C0;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||_a;l=C0;var u=_a;if(C0=o,(_a=c)&&!u)for(ht=a;ht!==null;)o=ht,c=o.child,o.tag===22&&o.memoizedState!==null?r4(a):c!==null?(c.return=o,ht=c):r4(a);for(;s!==null;)ht=s,OK(s),s=s.sibling;ht=a,C0=l,_a=u}t4(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ht=s):t4(e)}}function t4(e){for(;ht!==null;){var t=ht;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_a||KS(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_a)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Di(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&FL(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}FL(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}_a||t.flags&512&&BP(t)}catch(h){hr(t,t.return,h)}}if(t===e){ht=null;break}if(n=t.sibling,n!==null){n.return=t.return,ht=n;break}ht=t.return}}function n4(e){for(;ht!==null;){var t=ht;if(t===e){ht=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ht=n;break}ht=t.return}}function r4(e){for(;ht!==null;){var t=ht;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{KS(4,t)}catch(c){hr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){hr(t,a,c)}}var s=t.return;try{BP(t)}catch(c){hr(t,s,c)}break;case 5:var o=t.return;try{BP(t)}catch(c){hr(t,o,c)}}}catch(c){hr(t,t.return,c)}if(t===e){ht=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ht=l;break}ht=t.return}}var Lle=Math.ceil,Dw=zl.ReactCurrentDispatcher,F_=zl.ReactCurrentOwner,ui=zl.ReactCurrentBatchConfig,rn=0,oa=null,Ar=null,wa=0,As=0,mh=su(0),Ir=0,Tv=null,jd=0,GS=0,B_=0,Hg=null,us=null,V_=0,nm=1/0,rl=null,Rw=!1,UP=null,Rc=null,j0=!1,Sc=null,Mw=0,Yg=0,KP=null,Rb=-1,Mb=0;function Ka(){return rn&6?xr():Rb!==-1?Rb:Rb=xr()}function Mc(e){return e.mode&1?rn&2&&wa!==0?wa&-wa:ble.transition!==null?(Mb===0&&(Mb=bU()),Mb):(e=xn,e!==0||(e=window.event,e=e===void 0?16:AU(e.type)),e):1}function Ui(e,t,n,r){if(50<Yg)throw Yg=0,KP=null,Error(et(185));Ey(e,n,r),(!(rn&2)||e!==oa)&&(e===oa&&(!(rn&2)&&(GS|=n),Ir===4&&yc(e,wa)),xs(e,r),n===1&&rn===0&&!(t.mode&1)&&(nm=xr()+500,VS&&iu()))}function xs(e,t){var n=e.callbackNode;boe(e,t);var r=vw(e,e===oa?wa:0);if(r===0)n!==null&&fL(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fL(n),t===1)e.tag===0?xle(a4.bind(null,e)):WU(a4.bind(null,e)),ple(function(){!(rn&6)&&iu()}),n=null;else{switch(wU(r)){case 1:n=h_;break;case 4:n=yU;break;case 16:n=gw;break;case 536870912:n=xU;break;default:n=gw}n=KK(n,LK.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function LK(e,t){if(Rb=-1,Mb=0,rn&6)throw Error(et(327));var n=e.callbackNode;if(Lh()&&e.callbackNode!==n)return null;var r=vw(e,e===oa?wa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Iw(e,r);else{t=r;var a=rn;rn|=2;var s=FK();(oa!==e||wa!==t)&&(rl=null,nm=xr()+500,sd(e,t));do try{Ble();break}catch(l){$K(e,l)}while(!0);k_(),Dw.current=s,rn=a,Ar!==null?t=0:(oa=null,wa=0,t=Ir)}if(t!==0){if(t===2&&(a=vP(e),a!==0&&(r=a,t=GP(e,a))),t===1)throw n=Tv,sd(e,0),yc(e,r),xs(e,xr()),n;if(t===6)yc(e,r);else{if(a=e.current.alternate,!(r&30)&&!$le(a)&&(t=Iw(e,r),t===2&&(s=vP(e),s!==0&&(r=s,t=GP(e,s))),t===1))throw n=Tv,sd(e,0),yc(e,r),xs(e,xr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(et(345));case 2:Ru(e,us,rl);break;case 3:if(yc(e,r),(r&130023424)===r&&(t=V_+500-xr(),10<t)){if(vw(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ka(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=NP(Ru.bind(null,e,us,rl),t);break}Ru(e,us,rl);break;case 4:if(yc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-zi(r);s=1<<o,o=t[o],o>a&&(a=o),r&=~s}if(r=a,r=xr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lle(r/1960))-r,10<r){e.timeoutHandle=NP(Ru.bind(null,e,us,rl),r);break}Ru(e,us,rl);break;case 5:Ru(e,us,rl);break;default:throw Error(et(329))}}}return xs(e,xr()),e.callbackNode===n?LK.bind(null,e):null}function GP(e,t){var n=Hg;return e.current.memoizedState.isDehydrated&&(sd(e,t).flags|=256),e=Iw(e,t),e!==2&&(t=us,us=n,t!==null&&WP(t)),e}function WP(e){us===null?us=e:us.push.apply(us,e)}function $le(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Wi(s(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yc(e,t){for(t&=~B_,t&=~GS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zi(t),r=1<<n;e[n]=-1,t&=~r}}function a4(e){if(rn&6)throw Error(et(327));Lh();var t=vw(e,0);if(!(t&1))return xs(e,xr()),null;var n=Iw(e,t);if(e.tag!==0&&n===2){var r=vP(e);r!==0&&(t=r,n=GP(e,r))}if(n===1)throw n=Tv,sd(e,0),yc(e,t),xs(e,xr()),n;if(n===6)throw Error(et(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e,us,rl),xs(e,xr()),null}function z_(e,t){var n=rn;rn|=1;try{return e(t)}finally{rn=n,rn===0&&(nm=xr()+500,VS&&iu())}}function Nd(e){Sc!==null&&Sc.tag===0&&!(rn&6)&&Lh();var t=rn;rn|=1;var n=ui.transition,r=xn;try{if(ui.transition=null,xn=1,e)return e()}finally{xn=r,ui.transition=n,rn=t,!(rn&6)&&iu()}}function U_(){As=mh.current,$n(mh)}function sd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mle(n)),Ar!==null)for(n=Ar.return;n!==null;){var r=n;switch(C_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sw();break;case 3:em(),$n(vs),$n(Ma),D_();break;case 5:__(r);break;case 4:em();break;case 13:$n(tr);break;case 19:$n(tr);break;case 10:A_(r.type._context);break;case 22:case 23:U_()}n=n.return}if(oa=e,Ar=e=Ic(e.current,null),wa=As=t,Ir=0,Tv=null,B_=GS=jd=0,us=Hg=null,Ku!==null){for(t=0;t<Ku.length;t++)if(n=Ku[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=a,r.next=o}n.pending=r}Ku=null}return e}function $K(e,t){do{var n=Ar;try{if(k_(),Tb.current=_w,Tw){for(var r=rr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Tw=!1}if(Cd=0,aa=Rr=rr=null,Wg=!1,Av=0,F_.current=null,n===null||n.return===null){Ir=1,Tv=t,Ar=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=wa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=GL(o);if(m!==null){m.flags&=-257,WL(m,o,l,s,t),m.mode&1&&KL(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){KL(s,u,t),K_();break e}c=Error(et(426))}}else if(qn&&l.mode&1){var b=GL(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),WL(b,o,l,s,t),j_(tm(c,l));break e}}s=c=tm(c,l),Ir!==4&&(Ir=2),Hg===null?Hg=[s]:Hg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=wK(s,c,t);$L(s,x);break e;case 1:l=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Rc===null||!Rc.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=SK(s,l,t);$L(s,S);break e}}s=s.return}while(s!==null)}VK(n)}catch(C){t=C,Ar===n&&n!==null&&(Ar=n=n.return);continue}break}while(!0)}function FK(){var e=Dw.current;return Dw.current=_w,e===null?_w:e}function K_(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),oa===null||!(jd&268435455)&&!(GS&268435455)||yc(oa,wa)}function Iw(e,t){var n=rn;rn|=2;var r=FK();(oa!==e||wa!==t)&&(rl=null,sd(e,t));do try{Fle();break}catch(a){$K(e,a)}while(!0);if(k_(),rn=n,Dw.current=r,Ar!==null)throw Error(et(261));return oa=null,wa=0,Ir}function Fle(){for(;Ar!==null;)BK(Ar)}function Ble(){for(;Ar!==null&&!doe();)BK(Ar)}function BK(e){var t=UK(e.alternate,e,As);e.memoizedProps=e.pendingProps,t===null?VK(e):Ar=t,F_.current=null}function VK(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rle(n,t),n!==null){n.flags&=32767,Ar=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ir=6,Ar=null;return}}else if(n=Dle(n,t,As),n!==null){Ar=n;return}if(t=t.sibling,t!==null){Ar=t;return}Ar=t=e}while(t!==null);Ir===0&&(Ir=5)}function Ru(e,t,n){var r=xn,a=ui.transition;try{ui.transition=null,xn=1,Vle(e,t,n,r)}finally{ui.transition=a,xn=r}return null}function Vle(e,t,n,r){do Lh();while(Sc!==null);if(rn&6)throw Error(et(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(et(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(woe(e,s),e===oa&&(Ar=oa=null,wa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||j0||(j0=!0,KK(gw,function(){return Lh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ui.transition,ui.transition=null;var o=xn;xn=1;var l=rn;rn|=4,F_.current=null,Ile(e,n),IK(n,e),ole(CP),yw=!!SP,CP=SP=null,e.current=n,Ole(n),foe(),rn=l,xn=o,ui.transition=s}else e.current=n;if(j0&&(j0=!1,Sc=e,Mw=a),s=e.pendingLanes,s===0&&(Rc=null),poe(n.stateNode),xs(e,xr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Rw)throw Rw=!1,e=UP,UP=null,e;return Mw&1&&e.tag!==0&&Lh(),s=e.pendingLanes,s&1?e===KP?Yg++:(Yg=0,KP=e):Yg=0,iu(),null}function Lh(){if(Sc!==null){var e=wU(Mw),t=ui.transition,n=xn;try{if(ui.transition=null,xn=16>e?16:e,Sc===null)var r=!1;else{if(e=Sc,Sc=null,Mw=0,rn&6)throw Error(et(331));var a=rn;for(rn|=4,ht=e.current;ht!==null;){var s=ht,o=s.child;if(ht.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ht=u;ht!==null;){var d=ht;switch(d.tag){case 0:case 11:case 15:qg(8,d,s)}var f=d.child;if(f!==null)f.return=d,ht=f;else for(;ht!==null;){d=ht;var h=d.sibling,m=d.return;if(DK(d),d===u){ht=null;break}if(h!==null){h.return=m,ht=h;break}ht=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ht=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ht=o;else e:for(;ht!==null;){if(s=ht,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qg(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ht=x;break e}ht=s.return}}var y=e.current;for(ht=y;ht!==null;){o=ht;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ht=w;else e:for(o=y;ht!==null;){if(l=ht,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:KS(9,l)}}catch(C){hr(l,l.return,C)}if(l===o){ht=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ht=S;break e}ht=l.return}}if(rn=a,iu(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(OS,e)}catch{}r=!0}return r}finally{xn=n,ui.transition=t}}return!1}function s4(e,t,n){t=tm(n,t),t=wK(e,t,1),e=Dc(e,t,1),t=Ka(),e!==null&&(Ey(e,1,t),xs(e,t))}function hr(e,t,n){if(e.tag===3)s4(e,e,n);else for(;t!==null;){if(t.tag===3){s4(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rc===null||!Rc.has(r))){e=tm(n,e),e=SK(t,e,1),t=Dc(t,e,1),e=Ka(),t!==null&&(Ey(t,1,e),xs(t,e));break}}t=t.return}}function zle(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ka(),e.pingedLanes|=e.suspendedLanes&n,oa===e&&(wa&n)===n&&(Ir===4||Ir===3&&(wa&130023424)===wa&&500>xr()-V_?sd(e,0):B_|=n),xs(e,t)}function zK(e,t){t===0&&(e.mode&1?(t=m0,m0<<=1,!(m0&130023424)&&(m0=4194304)):t=1);var n=Ka();e=Nl(e,t),e!==null&&(Ey(e,t,n),xs(e,n))}function Ule(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zK(e,n)}function Kle(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(t),zK(e,n)}var UK;UK=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vs.current)ds=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ds=!1,_le(e,t,n);ds=!!(e.flags&131072)}else ds=!1,qn&&t.flags&1048576&&qU(t,Nw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Db(e,t),e=t.pendingProps;var a=Zh(t,Ma.current);Oh(t,n),a=M_(null,t,r,e,a,n);var s=I_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ys(r)?(s=!0,Cw(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,E_(t),a.updater=US,t.stateNode=a,a._reactInternals=t,DP(t,r,e,n),t=IP(null,t,r,!0,s,n)):(t.tag=0,qn&&s&&S_(t),La(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Db(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Wle(r),e=Di(r,e),a){case 0:t=MP(null,t,r,e,n);break e;case 1:t=YL(null,t,r,e,n);break e;case 11:t=qL(null,t,r,e,n);break e;case 14:t=HL(null,t,r,Di(r.type,e),n);break e}throw Error(et(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Di(r,a),MP(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Di(r,a),YL(e,t,r,a,n);case 3:e:{if(kK(t),e===null)throw Error(et(387));r=t.pendingProps,s=t.memoizedState,a=s.element,XU(e,t),Pw(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=tm(Error(et(423)),t),t=QL(e,t,r,n,a);break e}else if(r!==a){a=tm(Error(et(424)),t),t=QL(e,t,r,n,a);break e}else for(Ds=_c(t.stateNode.containerInfo.firstChild),Is=t,qn=!0,Oi=null,n=ZU(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jh(),r===a){t=kl(e,t,n);break e}La(e,t,r,n)}t=t.child}return t;case 5:return eK(t),e===null&&EP(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,jP(r,a)?o=null:s!==null&&jP(r,s)&&(t.flags|=32),NK(e,t),La(e,t,o,n),t.child;case 6:return e===null&&EP(t),null;case 13:return AK(e,t,n);case 4:return T_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xh(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Di(r,a),qL(e,t,r,a,n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:return La(e,t,t.pendingProps.children,n),t.child;case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Tn(kw,r._currentValue),r._currentValue=o,s!==null)if(Wi(s.value,o)){if(s.children===a.children&&!vs.current){t=kl(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=vl(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),TP(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(et(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),TP(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}La(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Oh(t,n),a=hi(a),r=r(a),t.flags|=1,La(e,t,r,n),t.child;case 14:return r=t.type,a=Di(r,t.pendingProps),a=Di(r.type,a),HL(e,t,r,a,n);case 15:return CK(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Di(r,a),Db(e,t),t.tag=1,ys(r)?(e=!0,Cw(t)):e=!1,Oh(t,n),bK(t,r,a),DP(t,r,a,n),IP(null,t,r,!0,e,n);case 19:return PK(e,t,n);case 22:return jK(e,t,n)}throw Error(et(156,t.tag))};function KK(e,t){return vU(e,t)}function Gle(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,t,n,r){return new Gle(e,t,n,r)}function G_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wle(e){if(typeof e=="function")return G_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===u_)return 11;if(e===d_)return 14}return 2}function Ic(e,t){var n=e.alternate;return n===null?(n=oi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ib(e,t,n,r,a,s){var o=2;if(r=e,typeof e=="function")G_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ah:return id(n.children,a,s,t);case c_:o=8,a|=8;break;case nP:return e=oi(12,n,t,a|2),e.elementType=nP,e.lanes=s,e;case rP:return e=oi(13,n,t,a),e.elementType=rP,e.lanes=s,e;case aP:return e=oi(19,n,t,a),e.elementType=aP,e.lanes=s,e;case eU:return WS(n,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jz:o=10;break e;case Xz:o=9;break e;case u_:o=11;break e;case d_:o=14;break e;case hc:o=16,r=null;break e}throw Error(et(130,e==null?e:typeof e,""))}return t=oi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=s,t}function id(e,t,n,r){return e=oi(7,e,r,t),e.lanes=n,e}function WS(e,t,n,r){return e=oi(22,e,r,t),e.elementType=eU,e.lanes=n,e.stateNode={isHidden:!1},e}function nk(e,t,n){return e=oi(6,e,null,t),e.lanes=n,e}function rk(e,t,n){return t=oi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qle(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=LN(0),this.expirationTimes=LN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=LN(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function W_(e,t,n,r,a,s,o,l,c){return e=new qle(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=oi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E_(s),e}function Hle(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function GK(e){if(!e)return Kc;e=e._reactInternals;e:{if(nf(e)!==e||e.tag!==1)throw Error(et(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ys(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(et(171))}if(e.tag===1){var n=e.type;if(ys(n))return GU(e,n,t)}return t}function WK(e,t,n,r,a,s,o,l,c){return e=W_(n,r,!0,e,a,s,o,l,c),e.context=GK(null),n=e.current,r=Ka(),a=Mc(n),s=vl(r,a),s.callback=t??null,Dc(n,s,a),e.current.lanes=a,Ey(e,a,r),xs(e,r),e}function qS(e,t,n,r){var a=t.current,s=Ka(),o=Mc(a);return n=GK(n),t.context===null?t.context=n:t.pendingContext=n,t=vl(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dc(a,t,o),e!==null&&(Ui(e,a,o,s),Eb(e,a,o)),o}function Ow(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function i4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function q_(e,t){i4(e,t),(e=e.alternate)&&i4(e,t)}function Yle(){return null}var qK=typeof reportError=="function"?reportError:function(e){console.error(e)};function H_(e){this._internalRoot=e}HS.prototype.render=H_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(et(409));qS(e,t,null,null)};HS.prototype.unmount=H_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nd(function(){qS(null,e,null,null)}),t[jl]=null}};function HS(e){this._internalRoot=e}HS.prototype.unstable_scheduleHydration=function(e){if(e){var t=jU();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vc.length&&t!==0&&t<vc[n].priority;n++);vc.splice(n,0,e),n===0&&kU(e)}};function Y_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function YS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function o4(){}function Qle(e,t,n,r,a){if(a){if(typeof r=="function"){var s=r;r=function(){var u=Ow(o);s.call(u)}}var o=WK(t,r,e,0,null,!1,!1,"",o4);return e._reactRootContainer=o,e[jl]=o.current,Sv(e.nodeType===8?e.parentNode:e),Nd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=Ow(c);l.call(u)}}var c=W_(e,0,!1,null,null,!1,!1,"",o4);return e._reactRootContainer=c,e[jl]=c.current,Sv(e.nodeType===8?e.parentNode:e),Nd(function(){qS(t,c,n,r)}),c}function QS(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=Ow(o);l.call(c)}}qS(t,o,e,a)}else o=Qle(n,t,e,a,r);return Ow(o)}SU=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yg(t.pendingLanes);n!==0&&(m_(t,n|1),xs(t,xr()),!(rn&6)&&(nm=xr()+500,iu()))}break;case 13:Nd(function(){var r=Nl(e,1);if(r!==null){var a=Ka();Ui(r,e,1,a)}}),q_(e,1)}};p_=function(e){if(e.tag===13){var t=Nl(e,134217728);if(t!==null){var n=Ka();Ui(t,e,134217728,n)}q_(e,134217728)}};CU=function(e){if(e.tag===13){var t=Mc(e),n=Nl(e,t);if(n!==null){var r=Ka();Ui(n,e,t,r)}q_(e,t)}};jU=function(){return xn};NU=function(e,t){var n=xn;try{return xn=e,t()}finally{xn=n}};mP=function(e,t,n){switch(t){case"input":if(oP(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=BS(r);if(!a)throw Error(et(90));nU(r),oP(r,a)}}}break;case"textarea":aU(e,n);break;case"select":t=n.value,t!=null&&Dh(e,!!n.multiple,t,!1)}};dU=z_;fU=Nd;var Zle={usingClientEntryPoint:!1,Events:[_y,lh,BS,cU,uU,z_]},Wp={findFiberByHostInstance:Uu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jle={bundleType:Wp.bundleType,version:Wp.version,rendererPackageName:Wp.rendererPackageName,rendererConfig:Wp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pU(e),e===null?null:e.stateNode},findFiberByHostInstance:Wp.findFiberByHostInstance||Yle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N0.isDisabled&&N0.supportsFiber)try{OS=N0.inject(Jle),Co=N0}catch{}}Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zle;Gs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y_(t))throw Error(et(200));return Hle(e,t,null,n)};Gs.createRoot=function(e,t){if(!Y_(e))throw Error(et(299));var n=!1,r="",a=qK;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=W_(e,1,!1,null,null,n,!1,r,a),e[jl]=t.current,Sv(e.nodeType===8?e.parentNode:e),new H_(t)};Gs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(et(188)):(e=Object.keys(e).join(","),Error(et(268,e)));return e=pU(t),e=e===null?null:e.stateNode,e};Gs.flushSync=function(e){return Nd(e)};Gs.hydrate=function(e,t,n){if(!YS(t))throw Error(et(200));return QS(null,e,t,!0,n)};Gs.hydrateRoot=function(e,t,n){if(!Y_(e))throw Error(et(405));var r=n!=null&&n.hydratedSources||null,a=!1,s="",o=qK;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=WK(t,null,e,1,n??null,a,!1,s,o),e[jl]=t.current,Sv(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new HS(t)};Gs.render=function(e,t,n){if(!YS(t))throw Error(et(200));return QS(null,e,t,!1,n)};Gs.unmountComponentAtNode=function(e){if(!YS(e))throw Error(et(40));return e._reactRootContainer?(Nd(function(){QS(null,null,e,!1,function(){e._reactRootContainer=null,e[jl]=null})}),!0):!1};Gs.unstable_batchedUpdates=z_;Gs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!YS(n))throw Error(et(200));if(e==null||e._reactInternals===void 0)throw Error(et(38));return QS(e,t,n,!1,r)};Gs.version="18.3.1-next-f1338f8080-20240426";function HK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HK)}catch(e){console.error(e)}}HK(),Hz.exports=Gs;var Vo=Hz.exports;const Q_=yi(Vo),Xle=t_({__proto__:null,default:Q_},[Vo]);var YK,l4=Vo;YK=l4.createRoot,l4.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gn.apply(this,arguments)}var jr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jr||(jr={}));const c4="popstate";function ece(e){e===void 0&&(e={});function t(r,a){let{pathname:s,search:o,hash:l}=r.location;return _v("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Ry(a)}return nce(t,n,null,e)}function qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tce(){return Math.random().toString(36).substr(2,8)}function u4(e,t){return{usr:e.state,key:e.key,idx:t}}function _v(e,t,n,r){return n===void 0&&(n=null),Gn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ou(t):t,{state:n,key:t&&t.key||r||tce()})}function Ry(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ou(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nce(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:s=!1}=r,o=a.history,l=jr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Gn({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=jr.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:x})}function h(b,x){l=jr.Push;let y=_v(v.location,b,x);u=d()+1;let w=u4(y,u),S=v.createHref(y);try{o.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}s&&c&&c({action:l,location:v.location,delta:1})}function m(b,x){l=jr.Replace;let y=_v(v.location,b,x);u=d();let w=u4(y,u),S=v.createHref(y);o.replaceState(w,"",S),s&&c&&c({action:l,location:v.location,delta:0})}function g(b){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof b=="string"?b:Ry(b);return y=y.replace(/ $/,"%20"),qt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(c4,f),c=b,()=>{a.removeEventListener(c4,f),c=null}},createHref(b){return t(a,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(b){return o.go(b)}};return v}var gn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gn||(gn={}));const rce=new Set(["lazy","caseSensitive","path","id","index","children"]);function ace(e){return e.index===!0}function Lw(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((a,s)=>{let o=[...n,String(s)],l=typeof a.id=="string"?a.id:o.join("-");if(qt(a.index!==!0||!a.children,"Cannot specify children on an index route"),qt(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),ace(a)){let c=Gn({},a,t(a),{id:l});return r[l]=c,c}else{let c=Gn({},a,t(a),{id:l,children:void 0});return r[l]=c,a.children&&(c.children=Lw(a.children,t,o,r)),c}})}function Vu(e,t,n){return n===void 0&&(n="/"),Ob(e,t,n,!1)}function Ob(e,t,n,r){let a=typeof t=="string"?ou(t):t,s=My(a.pathname||"/",n);if(s==null)return null;let o=QK(e);ice(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=vce(s);l=pce(o[c],u,r)}return l}function sce(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function QK(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(qt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Oc([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(qt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QK(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:hce(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of ZK(s.path))a(s,o,c)}),t}function ZK(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let o=ZK(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ice(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mce(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oce=/^:[\w-]+$/,lce=3,cce=2,uce=1,dce=10,fce=-2,d4=e=>e==="*";function hce(e,t){let n=e.split("/"),r=n.length;return n.some(d4)&&(r+=fce),t&&(r+=cce),n.filter(a=>!d4(a)).reduce((a,s)=>a+(oce.test(s)?lce:s===""?uce:dce),r)}function mce(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function pce(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=f4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=f4({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Oc([s,f.pathname]),pathnameBase:wce(Oc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Oc([s,f.pathnameBase]))}return o}function f4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gce(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=l[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function gce(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),kd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function vce(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function My(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const yce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xce=e=>yce.test(e);function bce(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ou(e):e,s;if(n)if(xce(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),kd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=h4(n.substring(1),"/"):s=h4(n,t)}else s=t;return{pathname:s,search:Sce(r),hash:Cce(a)}}function h4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ak(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function XK(e,t){let n=JK(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function eG(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=ou(e):(a=Gn({},e),qt(!a.pathname||!a.pathname.includes("?"),ak("?","pathname","search",a)),qt(!a.pathname||!a.pathname.includes("#"),ak("#","pathname","hash",a)),qt(!a.search||!a.search.includes("#"),ak("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=bce(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Oc=e=>e.join("/").replace(/\/\/+/g,"/"),wce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sce=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cce=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class $w{constructor(t,n,r,a){a===void 0&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Dv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tG=["post","put","patch","delete"],jce=new Set(tG),Nce=["get",...tG],kce=new Set(Nce),Ace=new Set([301,302,303,307,308]),Pce=new Set([307,308]),sk={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ece={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tce=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),nG="remix-router-transitions";function _ce(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;qt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let ce=e.detectErrorBoundary;a=fe=>({hasErrorBoundary:ce(fe)})}else a=Tce;let s={},o=Lw(e.routes,a,void 0,s),l,c=e.basename||"/",u=e.dataStrategy||Ice,d=e.patchRoutesOnNavigation,f=Gn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,m=new Set,g=null,v=null,b=null,x=e.hydrationData!=null,y=Vu(o,e.history.location,c),w=!1,S=null;if(y==null&&!d){let ce=ls(404,{pathname:e.history.location.pathname}),{matches:fe,route:Te}=j4(o);y=fe,S={[Te.id]:ce}}y&&!e.hydrationData&&Xt(y,o,e.history.location.pathname).active&&(y=null);let C;if(y)if(y.some(ce=>ce.route.lazy))C=!1;else if(!y.some(ce=>ce.route.loader))C=!0;else if(f.v7_partialHydration){let ce=e.hydrationData?e.hydrationData.loaderData:null,fe=e.hydrationData?e.hydrationData.errors:null;if(fe){let Te=y.findIndex(Qe=>fe[Qe.route.id]!==void 0);C=y.slice(0,Te+1).every(Qe=>!HP(Qe.route,ce,fe))}else C=y.every(Te=>!HP(Te.route,ce,fe))}else C=e.hydrationData!=null;else if(C=!1,y=[],f.v7_partialHydration){let ce=Xt(null,o,e.history.location.pathname);ce.active&&ce.matches&&(w=!0,y=ce.matches)}let k,N={historyAction:e.history.action,location:e.history.location,matches:y,initialized:C,navigation:sk,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},P=jr.Pop,E=!1,R,O=!1,K=new Map,J=null,Q=!1,G=!1,z=[],U=new Set,M=new Map,$=0,B=-1,te=new Map,q=new Set,ae=new Map,he=new Map,je=new Set,Ee=new Map,me=new Map,Ve;function ne(){if(h=e.history.listen(ce=>{let{action:fe,location:Te,delta:Qe}=ce;if(Ve){Ve(),Ve=void 0;return}kd(me.size===0||Qe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let tt=ze({currentLocation:N.location,nextLocation:Te,historyAction:fe});if(tt&&Qe!=null){let gt=new Promise(At=>{Ve=At});e.history.go(Qe*-1),St(tt,{state:"blocked",location:Te,proceed(){St(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),gt.then(()=>e.history.go(Qe))},reset(){let At=new Map(N.blockers);At.set(tt,qp),re({blockers:At})}});return}return Fe(fe,Te)}),n){Yce(t,K);let ce=()=>Qce(t,K);t.addEventListener("pagehide",ce),J=()=>t.removeEventListener("pagehide",ce)}return N.initialized||Fe(jr.Pop,N.location,{initialHydration:!0}),k}function ke(){h&&h(),J&&J(),m.clear(),R&&R.abort(),N.fetchers.forEach((ce,fe)=>ee(fe)),N.blockers.forEach((ce,fe)=>wt(fe))}function we(ce){return m.add(ce),()=>m.delete(ce)}function re(ce,fe){fe===void 0&&(fe={}),N=Gn({},N,ce);let Te=[],Qe=[];f.v7_fetcherPersist&&N.fetchers.forEach((tt,gt)=>{tt.state==="idle"&&(je.has(gt)?Qe.push(gt):Te.push(gt))}),je.forEach(tt=>{!N.fetchers.has(tt)&&!M.has(tt)&&Qe.push(tt)}),[...m].forEach(tt=>tt(N,{deletedFetchers:Qe,viewTransitionOpts:fe.viewTransitionOpts,flushSync:fe.flushSync===!0})),f.v7_fetcherPersist?(Te.forEach(tt=>N.fetchers.delete(tt)),Qe.forEach(tt=>ee(tt))):Qe.forEach(tt=>je.delete(tt))}function He(ce,fe,Te){var Qe,tt;let{flushSync:gt}=Te===void 0?{}:Te,At=N.actionData!=null&&N.navigation.formMethod!=null&&Mi(N.navigation.formMethod)&&N.navigation.state==="loading"&&((Qe=ce.state)==null?void 0:Qe._isRedirect)!==!0,ft;fe.actionData?Object.keys(fe.actionData).length>0?ft=fe.actionData:ft=null:At?ft=N.actionData:ft=null;let ot=fe.loaderData?S4(N.loaderData,fe.loaderData,fe.matches||[],fe.errors):N.loaderData,it=N.blockers;it.size>0&&(it=new Map(it),it.forEach((Kt,dn)=>it.set(dn,qp)));let ut=E===!0||N.navigation.formMethod!=null&&Mi(N.navigation.formMethod)&&((tt=ce.state)==null?void 0:tt._isRedirect)!==!0;l&&(o=l,l=void 0),Q||P===jr.Pop||(P===jr.Push?e.history.push(ce,ce.state):P===jr.Replace&&e.history.replace(ce,ce.state));let It;if(P===jr.Pop){let Kt=K.get(N.location.pathname);Kt&&Kt.has(ce.pathname)?It={currentLocation:N.location,nextLocation:ce}:K.has(ce.pathname)&&(It={currentLocation:ce,nextLocation:N.location})}else if(O){let Kt=K.get(N.location.pathname);Kt?Kt.add(ce.pathname):(Kt=new Set([ce.pathname]),K.set(N.location.pathname,Kt)),It={currentLocation:N.location,nextLocation:ce}}re(Gn({},fe,{actionData:ft,loaderData:ot,historyAction:P,location:ce,initialized:!0,navigation:sk,revalidation:"idle",restoreScrollPosition:Jt(ce,fe.matches||N.matches),preventScrollReset:ut,blockers:it}),{viewTransitionOpts:It,flushSync:gt===!0}),P=jr.Pop,E=!1,O=!1,Q=!1,G=!1,z=[]}async function Oe(ce,fe){if(typeof ce=="number"){e.history.go(ce);return}let Te=qP(N.location,N.matches,c,f.v7_prependBasename,ce,f.v7_relativeSplatPath,fe==null?void 0:fe.fromRouteId,fe==null?void 0:fe.relative),{path:Qe,submission:tt,error:gt}=m4(f.v7_normalizeFormMethod,!1,Te,fe),At=N.location,ft=_v(N.location,Qe,fe&&fe.state);ft=Gn({},ft,e.history.encodeLocation(ft));let ot=fe&&fe.replace!=null?fe.replace:void 0,it=jr.Push;ot===!0?it=jr.Replace:ot===!1||tt!=null&&Mi(tt.formMethod)&&tt.formAction===N.location.pathname+N.location.search&&(it=jr.Replace);let ut=fe&&"preventScrollReset"in fe?fe.preventScrollReset===!0:void 0,It=(fe&&fe.flushSync)===!0,Kt=ze({currentLocation:At,nextLocation:ft,historyAction:it});if(Kt){St(Kt,{state:"blocked",location:ft,proceed(){St(Kt,{state:"proceeding",proceed:void 0,reset:void 0,location:ft}),Oe(ce,fe)},reset(){let dn=new Map(N.blockers);dn.set(Kt,qp),re({blockers:dn})}});return}return await Fe(it,ft,{submission:tt,pendingError:gt,preventScrollReset:ut,replace:fe&&fe.replace,enableViewTransition:fe&&fe.viewTransition,flushSync:It})}function Xe(){if(Lt(),re({revalidation:"loading"}),N.navigation.state!=="submitting"){if(N.navigation.state==="idle"){Fe(N.historyAction,N.location,{startUninterruptedRevalidation:!0});return}Fe(P||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:O===!0})}}async function Fe(ce,fe,Te){R&&R.abort(),R=null,P=ce,Q=(Te&&Te.startUninterruptedRevalidation)===!0,Pt(N.location,N.matches),E=(Te&&Te.preventScrollReset)===!0,O=(Te&&Te.enableViewTransition)===!0;let Qe=l||o,tt=Te&&Te.overrideNavigation,gt=Te!=null&&Te.initialHydration&&N.matches&&N.matches.length>0&&!w?N.matches:Vu(Qe,fe,c),At=(Te&&Te.flushSync)===!0;if(gt&&N.initialized&&!G&&Vce(N.location,fe)&&!(Te&&Te.submission&&Mi(Te.submission.formMethod))){He(fe,{matches:gt},{flushSync:At});return}let ft=Xt(gt,Qe,fe.pathname);if(ft.active&&ft.matches&&(gt=ft.matches),!gt){let{error:ln,notFoundMatches:zt,route:Cn}=Vn(fe.pathname);He(fe,{matches:zt,loaderData:{},errors:{[Cn.id]:ln}},{flushSync:At});return}R=new AbortController;let ot=Bf(e.history,fe,R.signal,Te&&Te.submission),it;if(Te&&Te.pendingError)it=[zu(gt).route.id,{type:gn.error,error:Te.pendingError}];else if(Te&&Te.submission&&Mi(Te.submission.formMethod)){let ln=await Se(ot,fe,Te.submission,gt,ft.active,{replace:Te.replace,flushSync:At});if(ln.shortCircuited)return;if(ln.pendingActionResult){let[zt,Cn]=ln.pendingActionResult;if(Ps(Cn)&&Dv(Cn.error)&&Cn.error.status===404){R=null,He(fe,{matches:ln.matches,loaderData:{},errors:{[zt]:Cn.error}});return}}gt=ln.matches||gt,it=ln.pendingActionResult,tt=ik(fe,Te.submission),At=!1,ft.active=!1,ot=Bf(e.history,ot.url,ot.signal)}let{shortCircuited:ut,matches:It,loaderData:Kt,errors:dn}=await de(ot,fe,gt,ft.active,tt,Te&&Te.submission,Te&&Te.fetcherSubmission,Te&&Te.replace,Te&&Te.initialHydration===!0,At,it);ut||(R=null,He(fe,Gn({matches:It||gt},C4(it),{loaderData:Kt,errors:dn})))}async function Se(ce,fe,Te,Qe,tt,gt){gt===void 0&&(gt={}),Lt();let At=qce(fe,Te);if(re({navigation:At},{flushSync:gt.flushSync===!0}),tt){let it=await Sn(Qe,fe.pathname,ce.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){let ut=zu(it.partialMatches).route.id;return{matches:it.partialMatches,pendingActionResult:[ut,{type:gn.error,error:it.error}]}}else if(it.matches)Qe=it.matches;else{let{notFoundMatches:ut,error:It,route:Kt}=Vn(fe.pathname);return{matches:ut,pendingActionResult:[Kt.id,{type:gn.error,error:It}]}}}let ft,ot=bg(Qe,fe);if(!ot.route.action&&!ot.route.lazy)ft={type:gn.error,error:ls(405,{method:ce.method,pathname:fe.pathname,routeId:ot.route.id})};else if(ft=(await nn("action",N,ce,[ot],Qe,null))[ot.route.id],ce.signal.aborted)return{shortCircuited:!0};if(Wu(ft)){let it;return gt&&gt.replace!=null?it=gt.replace:it=x4(ft.response.headers.get("Location"),new URL(ce.url),c)===N.location.pathname+N.location.search,await Ft(ce,ft,!0,{submission:Te,replace:it}),{shortCircuited:!0}}if(Cc(ft))throw ls(400,{type:"defer-action"});if(Ps(ft)){let it=zu(Qe,ot.route.id);return(gt&&gt.replace)!==!0&&(P=jr.Push),{matches:Qe,pendingActionResult:[it.route.id,ft]}}return{matches:Qe,pendingActionResult:[ot.route.id,ft]}}async function de(ce,fe,Te,Qe,tt,gt,At,ft,ot,it,ut){let It=tt||ik(fe,gt),Kt=gt||At||k4(It),dn=!Q&&(!f.v7_partialHydration||!ot);if(Qe){if(dn){let jn=ve(ut);re(Gn({navigation:It},jn!==void 0?{actionData:jn}:{}),{flushSync:it})}let _t=await Sn(Te,fe.pathname,ce.signal);if(_t.type==="aborted")return{shortCircuited:!0};if(_t.type==="error"){let jn=zu(_t.partialMatches).route.id;return{matches:_t.partialMatches,loaderData:{},errors:{[jn]:_t.error}}}else if(_t.matches)Te=_t.matches;else{let{error:jn,notFoundMatches:as,route:$t}=Vn(fe.pathname);return{matches:as,loaderData:{},errors:{[$t.id]:jn}}}}let ln=l||o,[zt,Cn]=g4(e.history,N,Te,Kt,fe,f.v7_partialHydration&&ot===!0,f.v7_skipActionErrorRevalidation,G,z,U,je,ae,q,ln,c,ut);if(jt(_t=>!(Te&&Te.some(jn=>jn.route.id===_t))||zt&&zt.some(jn=>jn.route.id===_t)),B=++$,zt.length===0&&Cn.length===0){let _t=st();return He(fe,Gn({matches:Te,loaderData:{},errors:ut&&Ps(ut[1])?{[ut[0]]:ut[1].error}:null},C4(ut),_t?{fetchers:new Map(N.fetchers)}:{}),{flushSync:it}),{shortCircuited:!0}}if(dn){let _t={};if(!Qe){_t.navigation=It;let jn=ve(ut);jn!==void 0&&(_t.actionData=jn)}Cn.length>0&&(_t.fetchers=Nt(Cn)),re(_t,{flushSync:it})}Cn.forEach(_t=>{ge(_t.key),_t.controller&&M.set(_t.key,_t.controller)});let Cs=()=>Cn.forEach(_t=>ge(_t.key));R&&R.signal.addEventListener("abort",Cs);let{loaderResults:pn,fetcherResults:Tr}=await Et(N,Te,zt,Cn,ce);if(ce.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Cs),Cn.forEach(_t=>M.delete(_t.key));let lr=k0(pn);if(lr)return await Ft(ce,lr.result,!0,{replace:ft}),{shortCircuited:!0};if(lr=k0(Tr),lr)return q.add(lr.key),await Ft(ce,lr.result,!0,{replace:ft}),{shortCircuited:!0};let{loaderData:Si,errors:ns}=w4(N,Te,pn,ut,Cn,Tr,Ee);Ee.forEach((_t,jn)=>{_t.subscribe(as=>{(as||_t.done)&&Ee.delete(jn)})}),f.v7_partialHydration&&ot&&N.errors&&(ns=Gn({},N.errors,ns));let rs=st(),js=Ye(B),Ci=rs||js||Cn.length>0;return Gn({matches:Te,loaderData:Si,errors:ns},Ci?{fetchers:new Map(N.fetchers)}:{})}function ve(ce){if(ce&&!Ps(ce[1]))return{[ce[0]]:ce[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Nt(ce){return ce.forEach(fe=>{let Te=N.fetchers.get(fe.key),Qe=Hp(void 0,Te?Te.data:void 0);N.fetchers.set(fe.key,Qe)}),new Map(N.fetchers)}function We(ce,fe,Te,Qe){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ge(ce);let tt=(Qe&&Qe.flushSync)===!0,gt=l||o,At=qP(N.location,N.matches,c,f.v7_prependBasename,Te,f.v7_relativeSplatPath,fe,Qe==null?void 0:Qe.relative),ft=Vu(gt,At,c),ot=Xt(ft,gt,At);if(ot.active&&ot.matches&&(ft=ot.matches),!ft){mn(ce,fe,ls(404,{pathname:At}),{flushSync:tt});return}let{path:it,submission:ut,error:It}=m4(f.v7_normalizeFormMethod,!0,At,Qe);if(It){mn(ce,fe,It,{flushSync:tt});return}let Kt=bg(ft,it),dn=(Qe&&Qe.preventScrollReset)===!0;if(ut&&Mi(ut.formMethod)){kt(ce,fe,it,Kt,ft,ot.active,tt,dn,ut);return}ae.set(ce,{routeId:fe,path:it}),ct(ce,fe,it,Kt,ft,ot.active,tt,dn,ut)}async function kt(ce,fe,Te,Qe,tt,gt,At,ft,ot){Lt(),ae.delete(ce);function it(Ct){if(!Ct.route.action&&!Ct.route.lazy){let ji=ls(405,{method:ot.formMethod,pathname:Te,routeId:fe});return mn(ce,fe,ji,{flushSync:At}),!0}return!1}if(!gt&&it(Qe))return;let ut=N.fetchers.get(ce);An(ce,Hce(ot,ut),{flushSync:At});let It=new AbortController,Kt=Bf(e.history,Te,It.signal,ot);if(gt){let Ct=await Sn(tt,new URL(Kt.url).pathname,Kt.signal,ce);if(Ct.type==="aborted")return;if(Ct.type==="error"){mn(ce,fe,Ct.error,{flushSync:At});return}else if(Ct.matches){if(tt=Ct.matches,Qe=bg(tt,Te),it(Qe))return}else{mn(ce,fe,ls(404,{pathname:Te}),{flushSync:At});return}}M.set(ce,It);let dn=$,zt=(await nn("action",N,Kt,[Qe],tt,ce))[Qe.route.id];if(Kt.signal.aborted){M.get(ce)===It&&M.delete(ce);return}if(f.v7_fetcherPersist&&je.has(ce)){if(Wu(zt)||Ps(zt)){An(ce,cc(void 0));return}}else{if(Wu(zt))if(M.delete(ce),B>dn){An(ce,cc(void 0));return}else return q.add(ce),An(ce,Hp(ot)),Ft(Kt,zt,!1,{fetcherSubmission:ot,preventScrollReset:ft});if(Ps(zt)){mn(ce,fe,zt.error);return}}if(Cc(zt))throw ls(400,{type:"defer-action"});let Cn=N.navigation.location||N.location,Cs=Bf(e.history,Cn,It.signal),pn=l||o,Tr=N.navigation.state!=="idle"?Vu(pn,N.navigation.location,c):N.matches;qt(Tr,"Didn't find any matches after fetcher action");let lr=++$;te.set(ce,lr);let Si=Hp(ot,zt.data);N.fetchers.set(ce,Si);let[ns,rs]=g4(e.history,N,Tr,ot,Cn,!1,f.v7_skipActionErrorRevalidation,G,z,U,je,ae,q,pn,c,[Qe.route.id,zt]);rs.filter(Ct=>Ct.key!==ce).forEach(Ct=>{let ji=Ct.key,da=N.fetchers.get(ji),Jl=Hp(void 0,da?da.data:void 0);N.fetchers.set(ji,Jl),ge(ji),Ct.controller&&M.set(ji,Ct.controller)}),re({fetchers:new Map(N.fetchers)});let js=()=>rs.forEach(Ct=>ge(Ct.key));It.signal.addEventListener("abort",js);let{loaderResults:Ci,fetcherResults:_t}=await Et(N,Tr,ns,rs,Cs);if(It.signal.aborted)return;It.signal.removeEventListener("abort",js),te.delete(ce),M.delete(ce),rs.forEach(Ct=>M.delete(Ct.key));let jn=k0(Ci);if(jn)return Ft(Cs,jn.result,!1,{preventScrollReset:ft});if(jn=k0(_t),jn)return q.add(jn.key),Ft(Cs,jn.result,!1,{preventScrollReset:ft});let{loaderData:as,errors:$t}=w4(N,Tr,Ci,void 0,rs,_t,Ee);if(N.fetchers.has(ce)){let Ct=cc(zt.data);N.fetchers.set(ce,Ct)}Ye(lr),N.navigation.state==="loading"&&lr>B?(qt(P,"Expected pending action"),R&&R.abort(),He(N.navigation.location,{matches:Tr,loaderData:as,errors:$t,fetchers:new Map(N.fetchers)})):(re({errors:$t,loaderData:S4(N.loaderData,as,Tr,$t),fetchers:new Map(N.fetchers)}),G=!1)}async function ct(ce,fe,Te,Qe,tt,gt,At,ft,ot){let it=N.fetchers.get(ce);An(ce,Hp(ot,it?it.data:void 0),{flushSync:At});let ut=new AbortController,It=Bf(e.history,Te,ut.signal);if(gt){let zt=await Sn(tt,new URL(It.url).pathname,It.signal,ce);if(zt.type==="aborted")return;if(zt.type==="error"){mn(ce,fe,zt.error,{flushSync:At});return}else if(zt.matches)tt=zt.matches,Qe=bg(tt,Te);else{mn(ce,fe,ls(404,{pathname:Te}),{flushSync:At});return}}M.set(ce,ut);let Kt=$,ln=(await nn("loader",N,It,[Qe],tt,ce))[Qe.route.id];if(Cc(ln)&&(ln=await J_(ln,It.signal,!0)||ln),M.get(ce)===ut&&M.delete(ce),!It.signal.aborted){if(je.has(ce)){An(ce,cc(void 0));return}if(Wu(ln))if(B>Kt){An(ce,cc(void 0));return}else{q.add(ce),await Ft(It,ln,!1,{preventScrollReset:ft});return}if(Ps(ln)){mn(ce,fe,ln.error);return}qt(!Cc(ln),"Unhandled fetcher deferred data"),An(ce,cc(ln.data))}}async function Ft(ce,fe,Te,Qe){let{submission:tt,fetcherSubmission:gt,preventScrollReset:At,replace:ft}=Qe===void 0?{}:Qe;fe.response.headers.has("X-Remix-Revalidate")&&(G=!0);let ot=fe.response.headers.get("Location");qt(ot,"Expected a Location header on the redirect Response"),ot=x4(ot,new URL(ce.url),c);let it=_v(N.location,ot,{_isRedirect:!0});if(n){let zt=!1;if(fe.response.headers.has("X-Remix-Reload-Document"))zt=!0;else if(Z_.test(ot)){const Cn=e.history.createURL(ot);zt=Cn.origin!==t.location.origin||My(Cn.pathname,c)==null}if(zt){ft?t.location.replace(ot):t.location.assign(ot);return}}R=null;let ut=ft===!0||fe.response.headers.has("X-Remix-Replace")?jr.Replace:jr.Push,{formMethod:It,formAction:Kt,formEncType:dn}=N.navigation;!tt&&!gt&&It&&Kt&&dn&&(tt=k4(N.navigation));let ln=tt||gt;if(Pce.has(fe.response.status)&&ln&&Mi(ln.formMethod))await Fe(ut,it,{submission:Gn({},ln,{formAction:ot}),preventScrollReset:At||E,enableViewTransition:Te?O:void 0});else{let zt=ik(it,tt);await Fe(ut,it,{overrideNavigation:zt,fetcherSubmission:gt,preventScrollReset:At||E,enableViewTransition:Te?O:void 0})}}async function nn(ce,fe,Te,Qe,tt,gt){let At,ft={};try{At=await Oce(u,ce,fe,Te,Qe,tt,gt,s,a)}catch(ot){return Qe.forEach(it=>{ft[it.route.id]={type:gn.error,error:ot}}),ft}for(let[ot,it]of Object.entries(At))if(zce(it)){let ut=it.result;ft[ot]={type:gn.redirect,response:Fce(ut,Te,ot,tt,c,f.v7_relativeSplatPath)}}else ft[ot]=await $ce(it);return ft}async function Et(ce,fe,Te,Qe,tt){let gt=ce.matches,At=nn("loader",ce,tt,Te,fe,null),ft=Promise.all(Qe.map(async ut=>{if(ut.matches&&ut.match&&ut.controller){let Kt=(await nn("loader",ce,Bf(e.history,ut.path,ut.controller.signal),[ut.match],ut.matches,ut.key))[ut.match.route.id];return{[ut.key]:Kt}}else return Promise.resolve({[ut.key]:{type:gn.error,error:ls(404,{pathname:ut.path})}})})),ot=await At,it=(await ft).reduce((ut,It)=>Object.assign(ut,It),{});return await Promise.all([Gce(fe,ot,tt.signal,gt,ce.loaderData),Wce(fe,it,Qe)]),{loaderResults:ot,fetcherResults:it}}function Lt(){G=!0,z.push(...jt()),ae.forEach((ce,fe)=>{M.has(fe)&&U.add(fe),ge(fe)})}function An(ce,fe,Te){Te===void 0&&(Te={}),N.fetchers.set(ce,fe),re({fetchers:new Map(N.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function mn(ce,fe,Te,Qe){Qe===void 0&&(Qe={});let tt=zu(N.matches,fe);ee(ce),re({errors:{[tt.route.id]:Te},fetchers:new Map(N.fetchers)},{flushSync:(Qe&&Qe.flushSync)===!0})}function Zn(ce){return he.set(ce,(he.get(ce)||0)+1),je.has(ce)&&je.delete(ce),N.fetchers.get(ce)||Ece}function ee(ce){let fe=N.fetchers.get(ce);M.has(ce)&&!(fe&&fe.state==="loading"&&te.has(ce))&&ge(ce),ae.delete(ce),te.delete(ce),q.delete(ce),f.v7_fetcherPersist&&je.delete(ce),U.delete(ce),N.fetchers.delete(ce)}function Ne(ce){let fe=(he.get(ce)||0)-1;fe<=0?(he.delete(ce),je.add(ce),f.v7_fetcherPersist||ee(ce)):he.set(ce,fe),re({fetchers:new Map(N.fetchers)})}function ge(ce){let fe=M.get(ce);fe&&(fe.abort(),M.delete(ce))}function Ue(ce){for(let fe of ce){let Te=Zn(fe),Qe=cc(Te.data);N.fetchers.set(fe,Qe)}}function st(){let ce=[],fe=!1;for(let Te of q){let Qe=N.fetchers.get(Te);qt(Qe,"Expected fetcher: "+Te),Qe.state==="loading"&&(q.delete(Te),ce.push(Te),fe=!0)}return Ue(ce),fe}function Ye(ce){let fe=[];for(let[Te,Qe]of te)if(Qe<ce){let tt=N.fetchers.get(Te);qt(tt,"Expected fetcher: "+Te),tt.state==="loading"&&(ge(Te),te.delete(Te),fe.push(Te))}return Ue(fe),fe.length>0}function Ht(ce,fe){let Te=N.blockers.get(ce)||qp;return me.get(ce)!==fe&&me.set(ce,fe),Te}function wt(ce){N.blockers.delete(ce),me.delete(ce)}function St(ce,fe){let Te=N.blockers.get(ce)||qp;qt(Te.state==="unblocked"&&fe.state==="blocked"||Te.state==="blocked"&&fe.state==="blocked"||Te.state==="blocked"&&fe.state==="proceeding"||Te.state==="blocked"&&fe.state==="unblocked"||Te.state==="proceeding"&&fe.state==="unblocked","Invalid blocker state transition: "+Te.state+" -> "+fe.state);let Qe=new Map(N.blockers);Qe.set(ce,fe),re({blockers:Qe})}function ze(ce){let{currentLocation:fe,nextLocation:Te,historyAction:Qe}=ce;if(me.size===0)return;me.size>1&&kd(!1,"A router only supports one blocker at a time");let tt=Array.from(me.entries()),[gt,At]=tt[tt.length-1],ft=N.blockers.get(gt);if(!(ft&&ft.state==="proceeding")&&At({currentLocation:fe,nextLocation:Te,historyAction:Qe}))return gt}function Vn(ce){let fe=ls(404,{pathname:ce}),Te=l||o,{matches:Qe,route:tt}=j4(Te);return jt(),{notFoundMatches:Qe,route:tt,error:fe}}function jt(ce){let fe=[];return Ee.forEach((Te,Qe)=>{(!ce||ce(Qe))&&(Te.cancel(),fe.push(Qe),Ee.delete(Qe))}),fe}function Yr(ce,fe,Te){if(g=ce,b=fe,v=Te||null,!x&&N.navigation===sk){x=!0;let Qe=Jt(N.location,N.matches);Qe!=null&&re({restoreScrollPosition:Qe})}return()=>{g=null,b=null,v=null}}function Qr(ce,fe){return v&&v(ce,fe.map(Qe=>sce(Qe,N.loaderData)))||ce.key}function Pt(ce,fe){if(g&&b){let Te=Qr(ce,fe);g[Te]=b()}}function Jt(ce,fe){if(g){let Te=Qr(ce,fe),Qe=g[Te];if(typeof Qe=="number")return Qe}return null}function Xt(ce,fe,Te){if(d)if(ce){if(Object.keys(ce[0].params).length>0)return{active:!0,matches:Ob(fe,Te,c,!0)}}else return{active:!0,matches:Ob(fe,Te,c,!0)||[]};return{active:!1,matches:null}}async function Sn(ce,fe,Te,Qe){if(!d)return{type:"success",matches:ce};let tt=ce;for(;;){let gt=l==null,At=l||o,ft=s;try{await d({signal:Te,path:fe,matches:tt,fetcherKey:Qe,patch:(ut,It)=>{Te.aborted||y4(ut,It,At,ft,a)}})}catch(ut){return{type:"error",error:ut,partialMatches:tt}}finally{gt&&!Te.aborted&&(o=[...o])}if(Te.aborted)return{type:"aborted"};let ot=Vu(At,fe,c);if(ot)return{type:"success",matches:ot};let it=Ob(At,fe,c,!0);if(!it||tt.length===it.length&&tt.every((ut,It)=>ut.route.id===it[It].route.id))return{type:"success",matches:null};tt=it}}function Jn(ce){s={},l=Lw(ce,a,void 0,s)}function ja(ce,fe){let Te=l==null;y4(ce,fe,l||o,s,a),Te&&(o=[...o],re({}))}return k={get basename(){return c},get future(){return f},get state(){return N},get routes(){return o},get window(){return t},initialize:ne,subscribe:we,enableScrollRestoration:Yr,navigate:Oe,fetch:We,revalidate:Xe,createHref:ce=>e.history.createHref(ce),encodeLocation:ce=>e.history.encodeLocation(ce),getFetcher:Zn,deleteFetcher:Ne,dispose:ke,getBlocker:Ht,deleteBlocker:wt,patchRoutes:ja,_internalFetchControllers:M,_internalActiveDeferreds:Ee,_internalSetRoutes:Jn},k}function Dce(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function qP(e,t,n,r,a,s,o,l){let c,u;if(o){c=[];for(let f of t)if(c.push(f),f.route.id===o){u=f;break}}else c=t,u=t[t.length-1];let d=eG(a||".",XK(c,s),My(e.pathname,n)||e.pathname,l==="path");if(a==null&&(d.search=e.search,d.hash=e.hash),(a==null||a===""||a===".")&&u){let f=X_(d.search);if(u.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let h=new URLSearchParams(d.search),m=h.getAll("index");h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();d.search=g?"?"+g:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Oc([n,d.pathname])),Ry(d)}function m4(e,t,n,r){if(!r||!Dce(r))return{path:n};if(r.formMethod&&!Kce(r.formMethod))return{path:n,error:ls(405,{method:r.formMethod})};let a=()=>({path:n,error:ls(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),l=sG(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Mi(o))return a();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[v,b]=g;return""+m+v+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Mi(o))return a();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return a()}}}qt(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=YP(r.formData),u=r.formData;else if(r.body instanceof FormData)c=YP(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=b4(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=b4(c)}catch{return a()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Mi(d.formMethod))return{path:n,submission:d};let f=ou(n);return t&&f.search&&X_(f.search)&&c.append("index",""),f.search="?"+c,{path:Ry(f),submission:d}}function p4(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(a=>a.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function g4(e,t,n,r,a,s,o,l,c,u,d,f,h,m,g,v){let b=v?Ps(v[1])?v[1].error:v[1].data:void 0,x=e.createURL(t.location),y=e.createURL(a),w=n;s&&t.errors?w=p4(n,Object.keys(t.errors)[0],!0):v&&Ps(v[1])&&(w=p4(n,v[0]));let S=v?v[1].statusCode:void 0,C=o&&S&&S>=400,k=w.filter((P,E)=>{let{route:R}=P;if(R.lazy)return!0;if(R.loader==null)return!1;if(s)return HP(R,t.loaderData,t.errors);if(Rce(t.loaderData,t.matches[E],P)||c.some(J=>J===P.route.id))return!0;let O=t.matches[E],K=P;return v4(P,Gn({currentUrl:x,currentParams:O.params,nextUrl:y,nextParams:K.params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:C?!1:l||x.pathname+x.search===y.pathname+y.search||x.search!==y.search||rG(O,K)}))}),N=[];return f.forEach((P,E)=>{if(s||!n.some(Q=>Q.route.id===P.routeId)||d.has(E))return;let R=Vu(m,P.path,g);if(!R){N.push({key:E,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let O=t.fetchers.get(E),K=bg(R,P.path),J=!1;h.has(E)?J=!1:u.has(E)?(u.delete(E),J=!0):O&&O.state!=="idle"&&O.data===void 0?J=l:J=v4(K,Gn({currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:C?!1:l})),J&&N.push({key:E,routeId:P.routeId,path:P.path,matches:R,match:K,controller:new AbortController})}),[k,N]}function HP(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function Rce(e,t,n){let r=!t||n.route.id!==t.route.id,a=e[n.route.id]===void 0;return r||a}function rG(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function v4(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function y4(e,t,n,r,a){var s;let o;if(e){let u=r[e];qt(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),o=u.children}else o=n;let l=t.filter(u=>!o.some(d=>aG(u,d))),c=Lw(l,a,[e||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...c)}function aG(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var a;return(a=t.children)==null?void 0:a.some(s=>aG(n,s))}):!1}async function Mce(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let a=n[e.id];qt(a,"No route found in manifest");let s={};for(let o in r){let c=a[o]!==void 0&&o!=="hasErrorBoundary";kd(!c,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!rce.has(o)&&(s[o]=r[o])}Object.assign(a,s),Object.assign(a,Gn({},t(a),{lazy:void 0}))}async function Ice(e){let{matches:t}=e,n=t.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,s,o)=>Object.assign(a,{[n[o].route.id]:s}),{})}async function Oce(e,t,n,r,a,s,o,l,c,u){let d=s.map(m=>m.route.lazy?Mce(m.route,c,l):void 0),f=s.map((m,g)=>{let v=d[g],b=a.some(y=>y.route.id===m.route.id);return Gn({},m,{shouldLoad:b,resolve:async y=>(y&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(b=!0),b?Lce(t,r,m,v,y,u):Promise.resolve({type:gn.data,result:void 0}))})}),h=await e({matches:f,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return h}async function Lce(e,t,n,r,a,s){let o,l,c=u=>{let d,f=new Promise((g,v)=>d=v);l=()=>d(),t.signal.addEventListener("abort",l);let h=g=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:s},...g!==void 0?[g]:[]),m=(async()=>{try{return{type:"data",result:await(a?a(v=>h(v)):h())}}catch(g){return{type:"error",result:g}}})();return Promise.race([m,f])};try{let u=n.route[e];if(r)if(u){let d,[f]=await Promise.all([c(u).catch(h=>{d=h}),r]);if(d!==void 0)throw d;o=f}else if(await r,u=n.route[e],u)o=await c(u);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw ls(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:gn.data,result:void 0};else if(u)o=await c(u);else{let d=new URL(t.url),f=d.pathname+d.search;throw ls(404,{pathname:f})}qt(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:gn.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return o}async function $ce(e){let{result:t,type:n}=e;if(iG(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:gn.error,error:h}}return n===gn.error?{type:gn.error,error:new $w(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:gn.data,data:f,statusCode:t.status,headers:t.headers}}if(n===gn.error){if(N4(t)){var r,a;if(t.data instanceof Error){var s,o;return{type:gn.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:gn.error,error:new $w(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Dv(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:gn.error,error:t,statusCode:Dv(t)?t.status:void 0}}if(Uce(t)){var l,c;return{type:gn.deferred,deferredData:t,statusCode:(l=t.init)==null?void 0:l.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if(N4(t)){var u,d;return{type:gn.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:gn.data,data:t}}function Fce(e,t,n,r,a,s){let o=e.headers.get("Location");if(qt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Z_.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=qP(new URL(t.url),l,a,!0,o,s),e.headers.set("Location",o)}return e}function x4(e,t,n){if(Z_.test(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=My(a.pathname,n)!=null;if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function Bf(e,t,n,r){let a=e.createURL(sG(t)).toString(),s={signal:n};if(r&&Mi(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=YP(r.formData):s.body=r.formData}return new Request(a,s)}function YP(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function b4(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Bce(e,t,n,r,a){let s={},o=null,l,c=!1,u={},d=n&&Ps(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,m=t[h];if(qt(!Wu(m),"Cannot handle redirect results in processLoaderData"),Ps(m)){let g=m.error;d!==void 0&&(g=d,d=void 0),o=o||{};{let v=zu(e,h);o[v.route.id]==null&&(o[v.route.id]=g)}s[h]=void 0,c||(c=!0,l=Dv(m.error)?m.error.status:500),m.headers&&(u[h]=m.headers)}else Cc(m)?(r.set(h,m.deferredData),s[h]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(u[h]=m.headers)):(s[h]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(l=m.statusCode),m.headers&&(u[h]=m.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function w4(e,t,n,r,a,s,o){let{loaderData:l,errors:c}=Bce(t,n,r,o);return a.forEach(u=>{let{key:d,match:f,controller:h}=u,m=s[d];if(qt(m,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Ps(m)){let g=zu(e.matches,f==null?void 0:f.route.id);c&&c[g.route.id]||(c=Gn({},c,{[g.route.id]:m.error})),e.fetchers.delete(d)}else if(Wu(m))qt(!1,"Unhandled fetcher revalidation redirect");else if(Cc(m))qt(!1,"Unhandled fetcher deferred data");else{let g=cc(m.data);e.fetchers.set(d,g)}}),{loaderData:l,errors:c}}function S4(e,t,n,r){let a=Gn({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(a[o]=t[o]):e[o]!==void 0&&s.route.loader&&(a[o]=e[o]),r&&r.hasOwnProperty(o))break}return a}function C4(e){return e?Ps(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function zu(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function j4(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ls(e,t){let{pathname:n,routeId:r,method:a,type:s,message:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",a&&n&&r?c="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):e===404?(l="Not Found",c='No route matches URL "'+n+'"'):e===405&&(l="Method Not Allowed",a&&n&&r?c="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(c='Invalid request method "'+a.toUpperCase()+'"')),new $w(e||500,l,new Error(c),!0)}function k0(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(Wu(a))return{key:r,result:a}}}function sG(e){let t=typeof e=="string"?ou(e):e;return Ry(Gn({},t,{hash:""}))}function Vce(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function zce(e){return iG(e.result)&&Ace.has(e.result.status)}function Cc(e){return e.type===gn.deferred}function Ps(e){return e.type===gn.error}function Wu(e){return(e&&e.type)===gn.redirect}function N4(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Uce(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function iG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Kce(e){return kce.has(e.toLowerCase())}function Mi(e){return jce.has(e.toLowerCase())}async function Gce(e,t,n,r,a){let s=Object.entries(t);for(let o=0;o<s.length;o++){let[l,c]=s[o],u=e.find(h=>(h==null?void 0:h.route.id)===l);if(!u)continue;let d=r.find(h=>h.route.id===u.route.id),f=d!=null&&!rG(d,u)&&(a&&a[u.route.id])!==void 0;Cc(c)&&f&&await J_(c,n,!1).then(h=>{h&&(t[l]=h)})}}async function Wce(e,t,n){for(let r=0;r<n.length;r++){let{key:a,routeId:s,controller:o}=n[r],l=t[a];e.find(u=>(u==null?void 0:u.route.id)===s)&&Cc(l)&&(qt(o,"Expected an AbortController for revalidating fetcher deferred result"),await J_(l,o.signal,!0).then(u=>{u&&(t[a]=u)}))}}async function J_(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:gn.data,data:e.deferredData.unwrappedData}}catch(a){return{type:gn.error,error:a}}return{type:gn.data,data:e.deferredData.data}}}function X_(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function bg(e,t){let n=typeof t=="string"?ou(t).search:t.search;if(e[e.length-1].route.index&&X_(n||""))return e[e.length-1];let r=JK(e);return r[r.length-1]}function k4(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:s,json:o}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ik(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qce(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Hp(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Hce(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function cc(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Yce(e,t){try{let n=e.sessionStorage.getItem(nG);if(n){let r=JSON.parse(n);for(let[a,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function Qce(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(nG,JSON.stringify(n))}catch(r){kd(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fw.apply(this,arguments)}const ZS=p.createContext(null),oG=p.createContext(null),JS=p.createContext(null),eD=p.createContext(null),rf=p.createContext({outlet:null,matches:[],isDataRoute:!1}),lG=p.createContext(null);function XS(){return p.useContext(eD)!=null}function Ja(){return XS()||qt(!1),p.useContext(eD).location}function cG(e){p.useContext(JS).static||p.useLayoutEffect(e)}function zo(){let{isDataRoute:e}=p.useContext(rf);return e?uue():Zce()}function Zce(){XS()||qt(!1);let e=p.useContext(ZS),{basename:t,future:n,navigator:r}=p.useContext(JS),{matches:a}=p.useContext(rf),{pathname:s}=Ja(),o=JSON.stringify(XK(a,n.v7_relativeSplatPath)),l=p.useRef(!1);return cG(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=eG(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Oc([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,s,e])}const Jce=p.createContext(null);function Xce(e){let t=p.useContext(rf).outlet;return t&&p.createElement(Jce.Provider,{value:e},t)}function eue(e,t,n,r){XS()||qt(!1);let{navigator:a}=p.useContext(JS),{matches:s}=p.useContext(rf),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ja(),d;d=u;let f=d.pathname||"/",h=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=Vu(e,{pathname:h});return sue(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Oc([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Oc([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r)}function tue(){let e=cue(),t=Dv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,null)}const nue=p.createElement(tue,null);class rue extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(rf.Provider,{value:this.props.routeContext},p.createElement(lG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aue(e){let{routeContext:t,match:n,children:r}=e,a=p.useContext(ZS);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(rf.Provider,{value:t},r)}function sue(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||qt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,v=null,b=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||nue,c&&(u<0&&h===0?(due("route-fallback"),g=!0,b=null):u===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=v:g?w=b:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(aue,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(rue,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var uG=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uG||{}),dG=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dG||{});function iue(e){let t=p.useContext(ZS);return t||qt(!1),t}function oue(e){let t=p.useContext(oG);return t||qt(!1),t}function lue(e){let t=p.useContext(rf);return t||qt(!1),t}function fG(e){let t=lue(),n=t.matches[t.matches.length-1];return n.route.id||qt(!1),n.route.id}function cue(){var e;let t=p.useContext(lG),n=oue(),r=fG();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function uue(){let{router:e}=iue(uG.UseNavigateStable),t=fG(dG.UseNavigateStable),n=p.useRef(!1);return cG(()=>{n.current=!0}),p.useCallback(function(a,s){s===void 0&&(s={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Fw({fromRouteId:t},s)))},[e,t])}const A4={};function due(e,t,n){A4[e]||(A4[e]=!0)}function fue(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function hue(e){return Xce(e.context)}function Kn(e){qt(!1)}function mue(e){let{basename:t="/",children:n=null,location:r,navigationType:a=jr.Pop,navigator:s,static:o=!1,future:l}=e;XS()&&qt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:s,static:o,future:Fw({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=ou(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,v=p.useMemo(()=>{let b=My(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return v==null?null:p.createElement(JS.Provider,{value:u},p.createElement(eD.Provider,{children:n,value:v}))}new Promise(()=>{});function QP(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let s=[...t,a];if(r.type===p.Fragment){n.push.apply(n,QP(r.props.children,s));return}r.type!==Kn&&qt(!1),!r.props.index||!r.props.children||qt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=QP(r.props.children,s)),n.push(o)}),n}function pue(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:p.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:p.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:p.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw.apply(this,arguments)}const gue="6";try{window.__reactRouterVersion=gue}catch{}function vue(e,t){return _ce({basename:t==null?void 0:t.basename,future:Bw({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:ece({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||yue(),routes:e,mapRouteProperties:pue,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function yue(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Bw({},t,{errors:xue(t.errors)})),t}function xue(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new $w(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let o=new s(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(a.message);s.stack="",n[r]=s}}else n[r]=a;return n}const bue=p.createContext({isTransitioning:!1}),wue=p.createContext(new Map),Sue="startTransition",P4=Py[Sue],Cue="flushSync",E4=Xle[Cue];function jue(e){P4?P4(e):e()}function Yp(e){E4?E4(e):e()}class Nue{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function kue(e){let{fallbackElement:t,router:n,future:r}=e,[a,s]=p.useState(n.state),[o,l]=p.useState(),[c,u]=p.useState({isTransitioning:!1}),[d,f]=p.useState(),[h,m]=p.useState(),[g,v]=p.useState(),b=p.useRef(new Map),{v7_startTransition:x}=r||{},y=p.useCallback(P=>{x?jue(P):P()},[x]),w=p.useCallback((P,E)=>{let{deletedFetchers:R,flushSync:O,viewTransitionOpts:K}=E;P.fetchers.forEach((Q,G)=>{Q.data!==void 0&&b.current.set(G,Q.data)}),R.forEach(Q=>b.current.delete(Q));let J=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!K||J){O?Yp(()=>s(P)):y(()=>s(P));return}if(O){Yp(()=>{h&&(d&&d.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let Q=n.window.document.startViewTransition(()=>{Yp(()=>s(P))});Q.finished.finally(()=>{Yp(()=>{f(void 0),m(void 0),l(void 0),u({isTransitioning:!1})})}),Yp(()=>m(Q));return}h?(d&&d.resolve(),h.skipTransition(),v({state:P,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(l(P),u({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[n.window,h,d,b,y]);p.useLayoutEffect(()=>n.subscribe(w),[n,w]),p.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new Nue)},[c]),p.useEffect(()=>{if(d&&o&&n.window){let P=o,E=d.promise,R=n.window.document.startViewTransition(async()=>{y(()=>s(P)),await E});R.finished.finally(()=>{f(void 0),m(void 0),l(void 0),u({isTransitioning:!1})}),m(R)}},[y,o,d,n.window]),p.useEffect(()=>{d&&o&&a.location.key===o.location.key&&d.resolve()},[d,h,a.location,o]),p.useEffect(()=>{!c.isTransitioning&&g&&(l(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[c.isTransitioning,g]),p.useEffect(()=>{},[]);let S=p.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,E,R)=>n.navigate(P,{state:E,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(P,E,R)=>n.navigate(P,{replace:!0,state:E,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),C=n.basename||"/",k=p.useMemo(()=>({router:n,navigator:S,static:!1,basename:C}),[n,S,C]),N=p.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return p.useEffect(()=>fue(r,n.future),[r,n.future]),p.createElement(p.Fragment,null,p.createElement(ZS.Provider,{value:k},p.createElement(oG.Provider,{value:a},p.createElement(wue.Provider,{value:b.current},p.createElement(bue.Provider,{value:c},p.createElement(mue,{basename:C,location:a.location,navigationType:a.historyAction,navigator:S,future:N},a.initialized||n.future.v7_partialHydration?p.createElement(Aue,{routes:n.routes,future:n.future,state:a}):t))))),null)}const Aue=p.memo(Pue);function Pue(e){let{routes:t,future:n,state:r}=e;return eue(t,void 0,r,n)}var T4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(T4||(T4={}));var _4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_4||(_4={}));const Eue={theme:"system",setTheme:()=>null},hG=p.createContext(Eue);function Tue({children:e,defaultTheme:t="system",storageKey:n="maneuver-ui-theme",...r}){const[a,s]=p.useState(()=>localStorage.getItem(n)||t);p.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(n,l),s(l)}};return i.jsx(hG.Provider,{...r,value:o,children:e})}const _ue=()=>{const e=p.useContext(hG);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};class Due{constructor(){fn(this,"measurementId","G-QC65PEFPDJ");fn(this,"initialized",!1);this.initializeGA4()}initializeGA4(){if(!this.initialized)try{const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${this.measurementId}`,t.onload=()=>{this.setupGtag()},t.onerror=n=>{console.error(" Failed to load GA4 script:",n)},document.head.appendChild(t)}catch(t){console.error(" Error initializing GA4:",t)}}setupGtag(){try{let t=function(...n){window.dataLayer.push(n)};window.dataLayer=window.dataLayer||[],window.gtag=t,t("js",new Date),t("config",this.measurementId,{page_title:document.title,page_location:window.location.href,app_name:"Maneuver Scouting App",app_version:"2025.1.0",debug_mode:!1}),this.initialized=!0,this.trackPageView()}catch(t){console.error(" Error setting up gtag:",t)}}trackPageView(t,n){if(!this.isReady())return;const r=t||window.location.pathname,a=n||document.title;try{window.gtag("config",this.measurementId,{page_path:r,page_title:a})}catch(s){console.error(" Error tracking page view:",s)}}trackEvent(t,n={}){if(!this.isReady()){console.log(" GA4 not ready, skipping event:",t);return}try{window.gtag("event",t,{app_name:"Maneuver Scouting App",app_version:"2025.1.0",...n})}catch(r){console.error(" Error tracking event:",r)}}isReady(){return this.initialized&&!!window.gtag&&navigator.onLine}trackDemoDataLoad(){this.trackEvent("demo_data_load",{event_category:"engagement",event_label:"demo_data"})}trackDemoDataClear(){this.trackEvent("demo_data_clear",{event_category:"engagement",event_label:"demo_data"})}trackPWAInstall(){this.trackEvent("pwa_install",{event_category:"app",event_label:"install"})}trackPWAUpdate(){this.trackEvent("pwa_update",{event_category:"app",event_label:"update"})}trackPWALaunched(){this.trackEvent("pwa_launched",{event_category:"app",event_label:"launch"})}trackPageNavigation(t){this.trackEvent("page_navigation",{event_category:"navigation",event_label:t})}trackDataExport(t){this.trackEvent("data_export",{event_category:"data",event_label:t})}trackDataImport(t){this.trackEvent("data_import",{event_category:"data",event_label:t})}trackScoutingComplete(t){this.trackEvent("scouting_complete",{event_category:"scouting",event_label:t})}debug(){}testTracking(){console.log(" Testing analytics tracking..."),this.debug(),this.trackEvent("test_event",{test_parameter:"test_value",timestamp:new Date().toISOString()}),this.trackPageView("/test-page","Test Page"),console.log(" Test events sent")}}const $h=new Due;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mue=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),D4=e=>{const t=Mue(e);return t.charAt(0).toUpperCase()+t.slice(1)},mG=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Iue=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...Oue,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:mG("lucide",a),...!s&&!Iue(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const n=p.forwardRef(({className:r,...a},s)=>p.createElement(Lue,{ref:s,iconNode:t,className:mG(`lucide-${Rue(D4(e))}`,`lucide-${e}`,r),...a}));return n.displayName=D4(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],Fue=Ze("arrow-down-wide-narrow",$ue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vue=Ze("arrow-left",Bue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ad=Ze("arrow-right",zue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],pG=Ze("arrow-up-down",Uue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],gG=Ze("arrow-up-narrow-wide",Kue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Fh=Ze("award",Gue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M19 7V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3",key:"3apit1"}],["path",{d:"M20 21a2 2 0 0 0 2-2v-3.851c0-1.39-2-2.962-2-4.829V8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2z",key:"rhpgnw"}],["path",{d:"M 22 16 L 2 16",key:"14lkq7"}],["path",{d:"M4 21a2 2 0 0 1-2-2v-3.851c0-1.39 2-2.962 2-4.829V8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2z",key:"104b3k"}],["path",{d:"M9 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3",key:"14fczp"}]],vG=Ze("binoculars",Wue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],R4=Ze("book-open",que);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],ZP=Ze("bug",Hue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lc=Ze("calendar",Yue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],A0=Ze("camera",Que);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Jue=Ze("car",Zue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],yG=Ze("chart-column",Xue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Al=Ze("check",ede);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Iy=Ze("chevron-down",tde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],eC=Ze("chevron-left",nde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Oy=Ze("chevron-right",rde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tD=Ze("chevron-up",ade);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sde=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ide=Ze("chevrons-left",sde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],lde=Ze("chevrons-right",ode);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],JP=Ze("chevrons-up-down",cde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uo=Ze("circle-alert",ude);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Br=Ze("circle-check-big",dde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rm=Ze("circle-check",fde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],M4=Ze("circle-question-mark",hde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vw=Ze("circle-x",mde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],gde=Ze("clipboard-list",pde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jc=Ze("clock",vde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],xG=Ze("code",yde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],bde=Ze("columns-3",xde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Sde=Ze("copy",wde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bo=Ze("database",Cde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],No=Ze("download",jde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],kde=Ze("ellipsis-vertical",Nde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],wg=Ze("external-link",Ade);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nD=Ze("eye-off",Pde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],am=Ze("eye",Ede);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],_de=Ze("file-stack",Tde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rde=Ze("file-text",Dde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Ide=Ze("flame",Mde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Lde=Ze("folder-open",Ode);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],Fde=Ze("fuel",$de);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zw=Ze("funnel",Bde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],zde=Ze("hand-coins",Vde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["path",{d:"M18 11.5V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1.4",key:"edstyy"}],["path",{d:"M14 10V8a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"19wdwo"}],["path",{d:"M10 9.9V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v5",key:"1lugqo"}],["path",{d:"M6 14a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1hbeus"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-4a8 8 0 0 1-8-8 2 2 0 1 1 4 0",key:"1etffm"}]],Kde=Ze("hand-grab",Ude);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Wde=Ze("hash",Gde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],bG=Ze("history",qde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Yde=Ze("house",Hde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Zde=Ze("image",Qde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Xde=Ze("inbox",Jde);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ly=Ze("info",efe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],nfe=Ze("layout-dashboard",tfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],rD=Ze("list",rfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ba=Ze("loader-circle",afe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],I4=Ze("lock",sfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pd=Ze("map-pin",ife);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],aD=Ze("map",ofe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Rv=Ze("maximize-2",lfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],XP=Ze("minimize-2",cfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dfe=Ze("moon",ufe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],hfe=Ze("panel-left",ffe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],pfe=Ze("panels-top-left",mfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],vfe=Ze("pause",gfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xfe=Ze("play",yfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gc=Ze("plus",bfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Sfe=Ze("qr-code",wfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ul=Ze("refresh-cw",Cfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Nfe=Ze("rotate-ccw",jfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],O4=Ze("rotate-cw",kfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sD=Ze("save",Afe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],iD=Ze("search",Pfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oD=Ze("settings",Efe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_fe=Ze("shield-check",Tfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rfe=Ze("shield",Dfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],L4=Ze("shuffle",Mfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2",key:"wuwx1p"}]],Ofe=Ze("sigma",Ife);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],$fe=Ze("skip-back",Lfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Bfe=Ze("skip-forward",Ffe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zfe=Ze("square-pen",Vfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Mv=Ze("star",Ufe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Gfe=Ze("sun",Kfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ed=Ze("target",Wfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=[["path",{d:"M2 22V12a10 10 0 1 1 20 0v10",key:"o0fyp0"}],["path",{d:"M15 6.8v1.4a3 2.8 0 1 1-6 0V6.8",key:"m8q3n9"}],["path",{d:"M10 15h.01",key:"44in9x"}],["path",{d:"M14 15h.01",key:"5mohn5"}],["path",{d:"M10 19a4 4 0 0 1-4-4v-3a6 6 0 1 1 12 0v3a4 4 0 0 1-4 4Z",key:"hckbmu"}],["path",{d:"m9 19-2 3",key:"iij7hm"}],["path",{d:"m15 19 2 3",key:"npx8sa"}]],Hfe=Ze("train-front-tunnel",qfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bs=Ze("trash-2",Yfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zfe=Ze("trash",Qfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"M14.828 14.828 21 21",key:"ar5fw7"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"m21 3-9 9-4-4-6 6",key:"1h02xo"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}]],Xfe=Ze("trending-up-down",Jfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Td=Ze("trending-up",ehe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mn=Ze("triangle-alert",the);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],rhe=Ze("triangle",nhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],mr=Ze("trophy",ahe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],eE=Ze("undo-2",she);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sm=Ze("upload",ihe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lhe=Ze("user-check",ohe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],im=Ze("user-plus",che);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],$4=Ze("user-x",uhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Uw=Ze("user",dhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xa=Ze("users",fhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],mhe=Ze("warehouse",hhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],ghe=Ze("weight",phe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F4=Ze("wifi-off",vhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],tE=Ze("wifi",yhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wa=Ze("x",xhe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],whe=Ze("zap",bhe);function rt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function She(e,t){const n=p.createContext(t),r=s=>{const{children:o,...l}=s,c=p.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(s){const o=p.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,a]}function bs(e,t=[]){let n=[];function r(s,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,v=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=p.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:b,children:m})};u.displayName=s+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Che(a,...t)]}function Che(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var wr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},jhe=Py[" useInsertionEffect ".trim().toString()]||wr;function Mo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,s,o]=Nhe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var f;if(l){const h=khe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function Nhe({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),a=p.useRef(n),s=p.useRef(t);return jhe(()=>{s.current=t},[t]),p.useEffect(()=>{var o;a.current!==n&&((o=s.current)==null||o.call(s,n),a.current=n)},[n,a]),[n,r,s]}function khe(e){return typeof e=="function"}function B4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qa(...e){return t=>{let n=!1;const r=e.map(a=>{const s=B4(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():B4(e[a],null)}}}}function Vt(...e){return p.useCallback(qa(...e),e)}function Ahe(e){const t=Phe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(The);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function Phe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=Dhe(a),l=_he(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ehe=Symbol("radix.slottable");function The(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ehe}function _he(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function Dhe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bt=Rhe.reduce((e,t)=>{const n=Ahe(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wG(e,t){e&&Vo.flushSync(()=>e.dispatchEvent(t))}function Mhe(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Ur=e=>{const{present:t,children:n}=e,r=Ihe(t),a=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=Vt(r.ref,Ohe(a));return typeof n=="function"||r.isPresent?p.cloneElement(a,{ref:s}):null};Ur.displayName="Presence";function Ihe(e){const[t,n]=p.useState(),r=p.useRef(null),a=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Mhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=P0(r.current);s.current=l==="mounted"?u:"none"},[l]),wr(()=>{const u=r.current,d=a.current;if(d!==e){const h=s.current,m=P0(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),wr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=P0(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&v&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=m=>{m.target===t&&(s.current=P0(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function P0(e){return(e==null?void 0:e.animationName)||"none"}function Ohe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Lhe=Py[" useId ".trim().toString()]||(()=>{}),$he=0;function Vr(e){const[t,n]=p.useState(Lhe());return wr(()=>{n(r=>r??String($he++))},[e]),t?`radix-${t}`:""}var tC="Collapsible",[Fhe]=bs(tC),[Bhe,lD]=Fhe(tC),SG=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c,u]=Mo({prop:r,defaultProp:a??!1,onChange:o,caller:tC});return i.jsx(Bhe,{scope:n,disabled:s,contentId:Vr(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(bt.div,{"data-state":uD(c),"data-disabled":s?"":void 0,...l,ref:t})})});SG.displayName=tC;var CG="CollapsibleTrigger",jG=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=lD(CG,n);return i.jsx(bt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":uD(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:rt(e.onClick,a.onOpenToggle)})});jG.displayName=CG;var cD="CollapsibleContent",NG=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=lD(cD,e.__scopeCollapsible);return i.jsx(Ur,{present:n||a.open,children:({present:s})=>i.jsx(Vhe,{...r,ref:t,present:s})})});NG.displayName=cD;var Vhe=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...s}=e,o=lD(cD,n),[l,c]=p.useState(r),u=p.useRef(null),d=Vt(t,u),f=p.useRef(0),h=f.current,m=p.useRef(0),g=m.current,v=o.open||l,b=p.useRef(v),x=p.useRef(void 0);return p.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),wr(()=>{const y=u.current;if(y){x.current=x.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,m.current=w.width,b.current||(y.style.transitionDuration=x.current.transitionDuration,y.style.animationName=x.current.animationName),c(r)}},[o.open,r]),i.jsx(bt.div,{"data-state":uD(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:v&&a})});function uD(e){return e?"open":"closed"}var zhe=SG;function Uhe({...e}){return i.jsx(zhe,{"data-slot":"collapsible",...e})}function Khe({...e}){return i.jsx(jG,{"data-slot":"collapsible-trigger",...e})}function Ghe({...e}){return i.jsx(NG,{"data-slot":"collapsible-content",...e})}function kG(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=kG(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function sn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=kG(e))&&(r&&(r+=" "),r+=t);return r}const dD="-",Whe=e=>{const t=Hhe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(dD);return l[0]===""&&l.length!==1&&l.shift(),AG(l,t)||qhe(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},AG=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?AG(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(dD);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},V4=/^\[(.+)\]$/,qhe=e=>{if(V4.test(e)){const t=V4.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Hhe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Qhe(Object.entries(e.classGroups),n).forEach(([s,o])=>{nE(o,r,s,t)}),r},nE=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:z4(t,a);s.classGroupId=n;return}if(typeof a=="function"){if(Yhe(a)){nE(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([s,o])=>{nE(o,z4(t,s),n,r)})})},z4=(e,t)=>{let n=e;return t.split(dD).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Yhe=e=>e.isThemeGetter,Qhe=(e,t)=>t?e.map(([n,r])=>{const a=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[n,a]}):e,Zhe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return a(s,o),o},set(s,o){n.has(s)?n.set(s,o):a(s,o)}}},PG="!",Jhe=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===a&&(r||l.slice(b,b+s)===t)){c.push(l.slice(d,b)),d=b+s;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(PG),g=m?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},Xhe=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},eme=e=>({cache:Zhe(e.cacheSize),parseClassName:Jhe(e),...Whe(e)}),tme=/\s+/,nme=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(tme);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let g=!!m,v=r(g?h.substring(0,m):h);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=r(h),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const b=Xhe(d).join(":"),x=f?b+PG:b,y=x+v;if(s.includes(y))continue;s.push(y);const w=a(v,g);for(let S=0;S<w.length;++S){const C=w[S];s.push(x+C)}l=u+(l.length>0?" "+l:l)}return l};function rme(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=EG(t))&&(r&&(r+=" "),r+=n);return r}const EG=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=EG(e[r]))&&(n&&(n+=" "),n+=t);return n};function ame(e,...t){let n,r,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=eme(u),r=n.cache.get,a=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=nme(c,n);return a(c,d),d}return function(){return s(rme.apply(null,arguments))}}const In=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},TG=/^\[(?:([a-z-]+):)?(.+)\]$/i,sme=/^\d+\/\d+$/,ime=new Set(["px","full","screen"]),ome=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lme=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cme=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ume=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dme=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=e=>Bh(e)||ime.has(e)||sme.test(e),ic=e=>Bm(e,"length",xme),Bh=e=>!!e&&!Number.isNaN(Number(e)),ok=e=>Bm(e,"number",Bh),Qp=e=>!!e&&Number.isInteger(Number(e)),fme=e=>e.endsWith("%")&&Bh(e.slice(0,-1)),Ut=e=>TG.test(e),oc=e=>ome.test(e),hme=new Set(["length","size","percentage"]),mme=e=>Bm(e,hme,_G),pme=e=>Bm(e,"position",_G),gme=new Set(["image","url"]),vme=e=>Bm(e,gme,wme),yme=e=>Bm(e,"",bme),Zp=()=>!0,Bm=(e,t,n)=>{const r=TG.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},xme=e=>lme.test(e)&&!cme.test(e),_G=()=>!1,bme=e=>ume.test(e),wme=e=>dme.test(e),Sme=()=>{const e=In("colors"),t=In("spacing"),n=In("blur"),r=In("brightness"),a=In("borderColor"),s=In("borderRadius"),o=In("borderSpacing"),l=In("borderWidth"),c=In("contrast"),u=In("grayscale"),d=In("hueRotate"),f=In("invert"),h=In("gap"),m=In("gradientColorStops"),g=In("gradientColorStopPositions"),v=In("inset"),b=In("margin"),x=In("opacity"),y=In("padding"),w=In("saturate"),S=In("scale"),C=In("sepia"),k=In("skew"),N=In("space"),P=In("translate"),E=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ut,t],K=()=>[Ut,t],J=()=>["",el,ic],Q=()=>["auto",Bh,Ut],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ut],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Bh,Ut];return{cacheSize:500,separator:":",theme:{colors:[Zp],spacing:[el,ic],blur:["none","",oc,Ut],brightness:te(),borderColor:[e],borderRadius:["none","","full",oc,Ut],borderSpacing:K(),borderWidth:J(),contrast:te(),grayscale:$(),hueRotate:te(),invert:$(),gap:K(),gradientColorStops:[e],gradientColorStopPositions:[fme,ic],inset:O(),margin:O(),opacity:te(),padding:K(),saturate:te(),scale:te(),sepia:$(),skew:te(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",Ut]}],container:["container"],columns:[{columns:[oc]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Ut]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qp,Ut]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ut]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Qp,Ut]}],"grid-cols":[{"grid-cols":[Zp]}],"col-start-end":[{col:["auto",{span:["full",Qp,Ut]},Ut]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Zp]}],"row-start-end":[{row:["auto",{span:[Qp,Ut]},Ut]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ut]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ut,t]}],"min-w":[{"min-w":[Ut,t,"min","max","fit"]}],"max-w":[{"max-w":[Ut,t,"none","full","min","max","fit","prose",{screen:[oc]},oc]}],h:[{h:[Ut,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ut,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ut,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ut,t,"auto","min","max","fit"]}],"font-size":[{text:["base",oc,ic]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ok]}],"font-family":[{font:[Zp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ut]}],"line-clamp":[{"line-clamp":["none",Bh,ok]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",el,Ut]}],"list-image":[{"list-image":["none",Ut]}],"list-style-type":[{list:["none","disc","decimal",Ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",el,ic]}],"underline-offset":[{"underline-offset":["auto",el,Ut]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),pme]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mme]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vme]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:z()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[el,Ut]}],"outline-w":[{outline:[el,ic]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[el,ic]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",oc,yme]}],"shadow-color":[{shadow:[Zp]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",oc,Ut]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ut]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Ut]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Qp,Ut]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ut]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[el,ic,ok]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cme=ame(Sme);function Re(...e){return Cme(sn(e))}function U4(e){return e.map(t=>t.map(n=>typeof n=="string"?`"${n.replace(/"/g,'""')}"`:n).join(",")).join(`
`)}const fD=e=>{switch(e){case"lead":return"Lead";case"red-1":return"Red 1";case"red-2":return"Red 2";case"red-3":return"Red 3";case"blue-1":return"Blue 1";case"blue-2":return"Blue 2";case"blue-3":return"Blue 3"}return"Role"};function rE(){localStorage.removeItem("autoStateStack"),localStorage.removeItem("teleopStateStack"),localStorage.removeItem("autoRobotStatus"),localStorage.removeItem("teleopRobotStatus"),localStorage.removeItem("endgameRobotStatus"),localStorage.removeItem("autoUndoHistory"),localStorage.removeItem("teleopUndoHistory")}const DG=p.createContext(null);function af(){const e=p.useContext(DG);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const jme="sidebar:state",Nme=60*60*24*7,kme="18rem",RG="18rem",Ame="3rem",Pme="b";function Eme({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:a,...s}){const{isMobile:o,state:l,openMobile:c}=af();return n==="none"?i.jsx("div",{"data-slot":"sidebar",className:Re("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...s,children:a}):o?i.jsx("div",{"data-slot":"sidebar",className:Re("bg-sidebar text-sidebar-foreground fixed inset-y-0 z-50 flex h-full w-(--sidebar-width) flex-col transition-transform duration-300 ease-in-out",e==="left"?"left-0":"right-0",e==="left"?c?"translate-x-0":"-translate-x-full":c?"translate-x-0":"translate-x-full",r),style:{"--sidebar-width":RG},...s,children:a}):i.jsxs("div",{className:"group peer text-sidebar-foreground hidden 2xl:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[i.jsx("div",{"data-slot":"sidebar-gap",className:Re("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),i.jsx("div",{"data-slot":"sidebar-container",className:Re("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear 2xl:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:i.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function Tme({className:e,...t}){const{openMobile:n}=af(),[r,a]=p.useState(!1);return p.useEffect(()=>{const s=()=>{a(window.innerWidth<1536)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),i.jsx("main",{"data-slot":"sidebar-inset",className:Re("bg-background relative flex w-full overflow-auto flex-col transition-transform duration-300 ease-in-out","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",r&&n&&"translate-x-72",r&&n&&"pointer-events-none",e),style:{"--sidebar-width-mobile":RG},...t})}function sa(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function _me(e,t=globalThis==null?void 0:globalThis.document){const n=sa(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Dme="DismissableLayer",aE="dismissableLayer.update",Rme="dismissableLayer.pointerDownOutside",Mme="dismissableLayer.focusOutside",K4,MG=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vm=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(MG),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),g=Vt(t,N=>f(N)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(b),y=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=x,C=Lme(N=>{const P=N.target,E=[...u.branches].some(R=>R.contains(P));!S||E||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),k=$me(N=>{const P=N.target;[...u.branches].some(R=>R.contains(P))||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return _me(N=>{y===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(K4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),G4(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=K4)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),G4())},[d,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(aE,N),()=>document.removeEventListener(aE,N)},[]),i.jsx(bt.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:rt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:rt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:rt(e.onPointerDownCapture,C.onPointerDownCapture)})});Vm.displayName=Dme;var Ime="DismissableLayerBranch",Ome=p.forwardRef((e,t)=>{const n=p.useContext(MG),r=p.useRef(null),a=Vt(t,r);return p.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),i.jsx(bt.div,{...e,ref:a})});Ome.displayName=Ime;function Lme(e,t=globalThis==null?void 0:globalThis.document){const n=sa(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){IG(Rme,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $me(e,t=globalThis==null?void 0:globalThis.document){const n=sa(e),r=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!r.current&&IG(Mme,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G4(){const e=new CustomEvent(aE);document.dispatchEvent(e)}function IG(e,t,n,{discrete:r}){const a=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?wG(a,s):a.dispatchEvent(s)}const Fme=["top","right","bottom","left"],Wc=Math.min,Ts=Math.max,Kw=Math.round,E0=Math.floor,ko=e=>({x:e,y:e}),Bme={left:"right",right:"left",bottom:"top",top:"bottom"},Vme={start:"end",end:"start"};function sE(e,t,n){return Ts(e,Wc(t,n))}function Pl(e,t){return typeof e=="function"?e(t):e}function El(e){return e.split("-")[0]}function zm(e){return e.split("-")[1]}function hD(e){return e==="x"?"y":"x"}function mD(e){return e==="y"?"height":"width"}const zme=new Set(["top","bottom"]);function wo(e){return zme.has(El(e))?"y":"x"}function pD(e){return hD(wo(e))}function Ume(e,t,n){n===void 0&&(n=!1);const r=zm(e),a=pD(e),s=mD(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Gw(o)),[o,Gw(o)]}function Kme(e){const t=Gw(e);return[iE(e),t,iE(t)]}function iE(e){return e.replace(/start|end/g,t=>Vme[t])}const W4=["left","right"],q4=["right","left"],Gme=["top","bottom"],Wme=["bottom","top"];function qme(e,t,n){switch(e){case"top":case"bottom":return n?t?q4:W4:t?W4:q4;case"left":case"right":return t?Gme:Wme;default:return[]}}function Hme(e,t,n,r){const a=zm(e);let s=qme(El(e),n==="start",r);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(iE)))),s}function Gw(e){return e.replace(/left|right|bottom|top/g,t=>Bme[t])}function Yme(e){return{top:0,right:0,bottom:0,left:0,...e}}function OG(e){return typeof e!="number"?Yme(e):{top:e,right:e,bottom:e,left:e}}function Ww(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function H4(e,t,n){let{reference:r,floating:a}=e;const s=wo(t),o=pD(t),l=mD(o),c=El(t),u=s==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-a.width,y:f};break;default:m={x:r.x,y:r.y}}switch(zm(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const Qme=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=H4(u,r,c),h=r,m={},g=0;for(let v=0;v<l.length;v++){const{name:b,fn:x}=l[v],{x:y,y:w,data:S,reset:C}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[b]:{...m[b],...S}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:d,y:f}=H4(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Iv(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Pl(t,e),g=OG(m),b=l[h?f==="floating"?"reference":"floating":f],x=Ww(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Ww(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-C.top+g.top)/S.y,bottom:(C.bottom-x.bottom+g.bottom)/S.y,left:(x.left-C.left+g.left)/S.x,right:(C.right-x.right+g.right)/S.x}}const Zme=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Pl(e,t)||{};if(u==null)return{};const f=OG(d),h={x:n,y:r},m=pD(a),g=mD(m),v=await o.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[m]-h[m]-s.floating[g],C=h[m]-s.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=k?k[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(k)))&&(N=l.floating[w]||s.floating[g]);const P=S/2-C/2,E=N/2-v[g]/2-1,R=Wc(f[x],E),O=Wc(f[y],E),K=R,J=N-v[g]-O,Q=N/2-v[g]/2+P,G=sE(K,Q,J),z=!c.arrow&&zm(a)!=null&&Q!==G&&s.reference[g]/2-(Q<K?R:O)-v[g]/2<0,U=z?Q<K?Q-K:Q-J:0;return{[m]:h[m]+U,data:{[m]:G,centerOffset:Q-G-U,...z&&{alignmentOffset:U}},reset:z}}}),Jme=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=Pl(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=El(a),y=wo(l),w=El(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(w||!v?[Gw(l)]:Kme(l)),k=g!=="none";!h&&k&&C.push(...Hme(l,v,g,S));const N=[l,...C],P=await Iv(t,b),E=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&E.push(P[x]),f){const Q=Ume(a,o,S);E.push(P[Q[0]],P[Q[1]])}if(R=[...R,{placement:a,overflows:E}],!E.every(Q=>Q<=0)){var O,K;const Q=(((O=s.flip)==null?void 0:O.index)||0)+1,G=N[Q];if(G&&(!(f==="alignment"?y!==wo(G):!1)||R.every(M=>wo(M.placement)===y?M.overflows[0]>0:!0)))return{data:{index:Q,overflows:R},reset:{placement:G}};let z=(K=R.filter(U=>U.overflows[0]<=0).sort((U,M)=>U.overflows[1]-M.overflows[1])[0])==null?void 0:K.placement;if(!z)switch(m){case"bestFit":{var J;const U=(J=R.filter(M=>{if(k){const $=wo(M.placement);return $===y||$==="y"}return!0}).map(M=>[M.placement,M.overflows.filter($=>$>0).reduce(($,B)=>$+B,0)]).sort((M,$)=>M[1]-$[1])[0])==null?void 0:J[0];U&&(z=U);break}case"initialPlacement":z=l;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function Y4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Q4(e){return Fme.some(t=>e[t]>=0)}const Xme=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Pl(e,t);switch(r){case"referenceHidden":{const s=await Iv(t,{...a,elementContext:"reference"}),o=Y4(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Q4(o)}}}case"escaped":{const s=await Iv(t,{...a,altBoundary:!0}),o=Y4(s,n.floating);return{data:{escapedOffsets:o,escaped:Q4(o)}}}default:return{}}}}},LG=new Set(["left","top"]);async function epe(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=El(n),l=zm(n),c=wo(n)==="y",u=LG.has(o)?-1:1,d=s&&c?-1:1,f=Pl(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const tpe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await epe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},npe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y}=b;return{x,y}}},...c}=Pl(e,t),u={x:n,y:r},d=await Iv(t,c),f=wo(El(a)),h=hD(f);let m=u[h],g=u[f];if(s){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=m+d[b],w=m-d[x];m=sE(y,m,w)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=g+d[b],w=g-d[x];g=sE(y,g,w)}const v=l.fn({...t,[h]:m,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:s,[f]:o}}}}}},rpe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Pl(e,t),d={x:n,y:r},f=wo(a),h=hD(f);let m=d[h],g=d[f];const v=Pl(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=h==="y"?"height":"width",S=s.reference[h]-s.floating[w]+b.mainAxis,C=s.reference[h]+s.reference[w]-b.mainAxis;m<S?m=S:m>C&&(m=C)}if(u){var x,y;const w=h==="y"?"width":"height",S=LG.has(El(a)),C=s.reference[f]-s.floating[w]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:b.crossAxis),k=s.reference[f]+s.reference[w]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?b.crossAxis:0);g<C?g=C:g>k&&(g=k)}return{[h]:m,[f]:g}}}},ape=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Pl(e,t),d=await Iv(t,u),f=El(a),h=zm(a),m=wo(a)==="y",{width:g,height:v}=s.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,w=g-d.left-d.right,S=Wc(v-d[b],y),C=Wc(g-d[x],w),k=!t.middlewareData.shift;let N=S,P=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=y),k&&!h){const R=Ts(d.left,0),O=Ts(d.right,0),K=Ts(d.top,0),J=Ts(d.bottom,0);m?P=g-2*(R!==0||O!==0?R+O:Ts(d.left,d.right)):N=v-2*(K!==0||J!==0?K+J:Ts(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:N});const E=await o.getDimensions(l.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function nC(){return typeof window<"u"}function Um(e){return $G(e)?(e.nodeName||"").toLowerCase():"#document"}function Os(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ko(e){var t;return(t=($G(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $G(e){return nC()?e instanceof Node||e instanceof Os(e).Node:!1}function qi(e){return nC()?e instanceof Element||e instanceof Os(e).Element:!1}function Io(e){return nC()?e instanceof HTMLElement||e instanceof Os(e).HTMLElement:!1}function Z4(e){return!nC()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Os(e).ShadowRoot}const spe=new Set(["inline","contents"]);function $y(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!spe.has(a)}const ipe=new Set(["table","td","th"]);function ope(e){return ipe.has(Um(e))}const lpe=[":popover-open",":modal"];function rC(e){return lpe.some(t=>{try{return e.matches(t)}catch{return!1}})}const cpe=["transform","translate","scale","rotate","perspective"],upe=["transform","translate","scale","rotate","perspective","filter"],dpe=["paint","layout","strict","content"];function gD(e){const t=vD(),n=qi(e)?Hi(e):e;return cpe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||upe.some(r=>(n.willChange||"").includes(r))||dpe.some(r=>(n.contain||"").includes(r))}function fpe(e){let t=qc(e);for(;Io(t)&&!om(t);){if(gD(t))return t;if(rC(t))return null;t=qc(t)}return null}function vD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hpe=new Set(["html","body","#document"]);function om(e){return hpe.has(Um(e))}function Hi(e){return Os(e).getComputedStyle(e)}function aC(e){return qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qc(e){if(Um(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Z4(e)&&e.host||Ko(e);return Z4(t)?t.host:t}function FG(e){const t=qc(e);return om(t)?e.ownerDocument?e.ownerDocument.body:e.body:Io(t)&&$y(t)?t:FG(t)}function Ov(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=FG(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),o=Os(a);if(s){const l=oE(o);return t.concat(o,o.visualViewport||[],$y(a)?a:[],l&&n?Ov(l):[])}return t.concat(a,Ov(a,[],n))}function oE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BG(e){const t=Hi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Io(e),s=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=Kw(n)!==s||Kw(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function yD(e){return qi(e)?e:e.contextElement}function Vh(e){const t=yD(e);if(!Io(t))return ko(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=BG(t);let o=(s?Kw(n.width):n.width)/r,l=(s?Kw(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const mpe=ko(0);function VG(e){const t=Os(e);return!vD()||!t.visualViewport?mpe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ppe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Os(e)?!1:t}function _d(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=yD(e);let o=ko(1);t&&(r?qi(r)&&(o=Vh(r)):o=Vh(e));const l=ppe(s,n,r)?VG(s):ko(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=Os(s),m=r&&qi(r)?Os(r):r;let g=h,v=oE(g);for(;v&&r&&m!==g;){const b=Vh(v),x=v.getBoundingClientRect(),y=Hi(v),w=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,S=x.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=S,g=Os(v),v=oE(g)}}return Ww({width:d,height:f,x:c,y:u})}function sC(e,t){const n=aC(e).scrollLeft;return t?t.left+n:_d(Ko(e)).left+n}function zG(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-sC(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function gpe(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",o=Ko(r),l=t?rC(t.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=ko(1);const d=ko(0),f=Io(r);if((f||!f&&!s)&&((Um(r)!=="body"||$y(o))&&(c=aC(r)),Io(r))){const m=_d(r);u=Vh(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!s?zG(o,c):ko(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function vpe(e){return Array.from(e.getClientRects())}function ype(e){const t=Ko(e),n=aC(e),r=e.ownerDocument.body,a=Ts(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ts(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+sC(e);const l=-n.scrollTop;return Hi(r).direction==="rtl"&&(o+=Ts(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:o,y:l}}const J4=25;function xpe(e,t){const n=Os(e),r=Ko(e),a=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const d=vD();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=sC(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-m);g<=J4&&(s-=g)}else u<=J4&&(s+=u);return{width:s,height:o,x:l,y:c}}const bpe=new Set(["absolute","fixed"]);function wpe(e,t){const n=_d(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=Io(e)?Vh(e):ko(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function X4(e,t,n){let r;if(t==="viewport")r=xpe(e,n);else if(t==="document")r=ype(Ko(e));else if(qi(t))r=wpe(t,n);else{const a=VG(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ww(r)}function UG(e,t){const n=qc(e);return n===t||!qi(n)||om(n)?!1:Hi(n).position==="fixed"||UG(n,t)}function Spe(e,t){const n=t.get(e);if(n)return n;let r=Ov(e,[],!1).filter(l=>qi(l)&&Um(l)!=="body"),a=null;const s=Hi(e).position==="fixed";let o=s?qc(e):e;for(;qi(o)&&!om(o);){const l=Hi(o),c=gD(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&bpe.has(a.position)||$y(o)&&!c&&UG(e,o))?r=r.filter(d=>d!==o):a=l,o=qc(o)}return t.set(e,r),r}function Cpe(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?rC(t)?[]:Spe(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=X4(t,d,a);return u.top=Ts(f.top,u.top),u.right=Wc(f.right,u.right),u.bottom=Wc(f.bottom,u.bottom),u.left=Ts(f.left,u.left),u},X4(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function jpe(e){const{width:t,height:n}=BG(e);return{width:t,height:n}}function Npe(e,t,n){const r=Io(t),a=Ko(t),s=n==="fixed",o=_d(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=ko(0);function u(){c.x=sC(a)}if(r||!r&&!s)if((Um(t)!=="body"||$y(a))&&(l=aC(t)),r){const m=_d(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!r&&a&&u();const d=a&&!r&&!s?zG(a,l):ko(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function lk(e){return Hi(e).position==="static"}function e$(e,t){if(!Io(e)||Hi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ko(e)===n&&(n=n.ownerDocument.body),n}function KG(e,t){const n=Os(e);if(rC(e))return n;if(!Io(e)){let a=qc(e);for(;a&&!om(a);){if(qi(a)&&!lk(a))return a;a=qc(a)}return n}let r=e$(e,t);for(;r&&ope(r)&&lk(r);)r=e$(r,t);return r&&om(r)&&lk(r)&&!gD(r)?n:r||fpe(e)||n}const kpe=async function(e){const t=this.getOffsetParent||KG,n=this.getDimensions,r=await n(e.floating);return{reference:Npe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ape(e){return Hi(e).direction==="rtl"}const Ppe={convertOffsetParentRelativeRectToViewportRelativeRect:gpe,getDocumentElement:Ko,getClippingRect:Cpe,getOffsetParent:KG,getElementRects:kpe,getClientRects:vpe,getDimensions:jpe,getScale:Vh,isElement:qi,isRTL:Ape};function GG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Epe(e,t){let n=null,r;const a=Ko(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=E0(f),v=E0(a.clientWidth-(d+h)),b=E0(a.clientHeight-(f+m)),x=E0(d),w={rootMargin:-g+"px "+-v+"px "+-b+"px "+-x+"px",threshold:Ts(0,Wc(1,c))||1};let S=!0;function C(k){const N=k[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!GG(u,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(C,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return o(!0),s}function Tpe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=yD(e),d=a||s?[...u?Ov(u):[],...Ov(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=u&&l?Epe(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,v=c?_d(e):null;c&&b();function b(){const x=_d(e);v&&!GG(v,x)&&n(),v=x,g=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const _pe=tpe,Dpe=npe,Rpe=Jme,Mpe=ape,Ipe=Xme,t$=Zme,Ope=rpe,Lpe=(e,t,n)=>{const r=new Map,a={platform:Ppe,...n},s={...a.platform,_c:r};return Qme(e,t,{...a,platform:s})};var $pe=typeof document<"u",Fpe=function(){},Lb=$pe?p.useLayoutEffect:Fpe;function qw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qw(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!qw(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function WG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function n$(e,t){const n=WG(e);return Math.round(t*n)/n}function ck(e){const t=p.useRef(e);return Lb(()=>{t.current=e}),t}function Bpe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);qw(h,r)||m(r);const[g,v]=p.useState(null),[b,x]=p.useState(null),y=p.useCallback(M=>{M!==k.current&&(k.current=M,v(M))},[]),w=p.useCallback(M=>{M!==N.current&&(N.current=M,x(M))},[]),S=s||g,C=o||b,k=p.useRef(null),N=p.useRef(null),P=p.useRef(d),E=c!=null,R=ck(c),O=ck(a),K=ck(u),J=p.useCallback(()=>{if(!k.current||!N.current)return;const M={placement:t,strategy:n,middleware:h};O.current&&(M.platform=O.current),Lpe(k.current,N.current,M).then($=>{const B={...$,isPositioned:K.current!==!1};Q.current&&!qw(P.current,B)&&(P.current=B,Vo.flushSync(()=>{f(B)}))})},[h,t,n,O,K]);Lb(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const Q=p.useRef(!1);Lb(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Lb(()=>{if(S&&(k.current=S),C&&(N.current=C),S&&C){if(R.current)return R.current(S,C,J);J()}},[S,C,J,R,E]);const G=p.useMemo(()=>({reference:k,floating:N,setReference:y,setFloating:w}),[y,w]),z=p.useMemo(()=>({reference:S,floating:C}),[S,C]),U=p.useMemo(()=>{const M={position:n,left:0,top:0};if(!z.floating)return M;const $=n$(z.floating,d.x),B=n$(z.floating,d.y);return l?{...M,transform:"translate("+$+"px, "+B+"px)",...WG(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:B}},[n,l,z.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:J,refs:G,elements:z,floatingStyles:U}),[d,J,G,z,U])}const Vpe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?t$({element:r.current,padding:a}).fn(n):{}:r?t$({element:r,padding:a}).fn(n):{}}}},zpe=(e,t)=>({..._pe(e),options:[e,t]}),Upe=(e,t)=>({...Dpe(e),options:[e,t]}),Kpe=(e,t)=>({...Ope(e),options:[e,t]}),Gpe=(e,t)=>({...Rpe(e),options:[e,t]}),Wpe=(e,t)=>({...Mpe(e),options:[e,t]}),qpe=(e,t)=>({...Ipe(e),options:[e,t]}),Hpe=(e,t)=>({...Vpe(e),options:[e,t]});var Ype="Arrow",qG=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...s}=e;return i.jsx(bt.svg,{...s,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});qG.displayName=Ype;var Qpe=qG;function HG(e){const[t,n]=p.useState(void 0);return wr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var xD="Popper",[YG,lu]=bs(xD),[Zpe,QG]=YG(xD),ZG=e=>{const{__scopePopper:t,children:n}=e,[r,a]=p.useState(null);return i.jsx(Zpe,{scope:t,anchor:r,onAnchorChange:a,children:n})};ZG.displayName=xD;var JG="PopperAnchor",XG=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,s=QG(JG,n),o=p.useRef(null),l=Vt(t,o),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:i.jsx(bt.div,{...a,ref:l})});XG.displayName=JG;var bD="PopperContent",[Jpe,Xpe]=YG(bD),e9=p.forwardRef((e,t)=>{var me,Ve,ne,ke,we,re;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=e,b=QG(bD,n),[x,y]=p.useState(null),w=Vt(t,He=>y(He)),[S,C]=p.useState(null),k=HG(S),N=(k==null?void 0:k.width)??0,P=(k==null?void 0:k.height)??0,E=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],K=O.length>0,J={padding:R,boundary:O.filter(tge),altBoundary:K},{refs:Q,floatingStyles:G,placement:z,isPositioned:U,middlewareData:M}=Bpe({strategy:"fixed",placement:E,whileElementsMounted:(...He)=>Tpe(...He,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[zpe({mainAxis:a+P,alignmentAxis:o}),c&&Upe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Kpe():void 0,...J}),c&&Gpe({...J}),Wpe({...J,apply:({elements:He,rects:Oe,availableWidth:Xe,availableHeight:Fe})=>{const{width:Se,height:de}=Oe.reference,ve=He.floating.style;ve.setProperty("--radix-popper-available-width",`${Xe}px`),ve.setProperty("--radix-popper-available-height",`${Fe}px`),ve.setProperty("--radix-popper-anchor-width",`${Se}px`),ve.setProperty("--radix-popper-anchor-height",`${de}px`)}}),S&&Hpe({element:S,padding:l}),nge({arrowWidth:N,arrowHeight:P}),h&&qpe({strategy:"referenceHidden",...J})]}),[$,B]=r9(z),te=sa(g);wr(()=>{U&&(te==null||te())},[U,te]);const q=(me=M.arrow)==null?void 0:me.x,ae=(Ve=M.arrow)==null?void 0:Ve.y,he=((ne=M.arrow)==null?void 0:ne.centerOffset)!==0,[je,Ee]=p.useState();return wr(()=>{x&&Ee(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:U?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(ke=M.transformOrigin)==null?void 0:ke.x,(we=M.transformOrigin)==null?void 0:we.y].join(" "),...((re=M.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Jpe,{scope:n,placedSide:$,onArrowChange:C,arrowX:q,arrowY:ae,shouldHideArrow:he,children:i.jsx(bt.div,{"data-side":$,"data-align":B,...v,ref:w,style:{...v.style,animation:U?void 0:"none"}})})})});e9.displayName=bD;var t9="PopperArrow",ege={top:"bottom",right:"left",bottom:"top",left:"right"},n9=p.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,s=Xpe(t9,r),o=ege[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Qpe,{...a,ref:n,style:{...a.style,display:"block"}})})});n9.displayName=t9;function tge(e){return e!==null}var nge=e=>({name:"transformOrigin",options:e,fn(t){var b,x,y;const{placement:n,rects:r,middlewareData:a}=t,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=r9(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=o?f:`${h}px`,v=`${-c}px`):u==="top"?(g=o?f:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=o?f:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,v=o?f:`${m}px`),{data:{x:g,y:v}}}});function r9(e){const[t,n="center"]=e.split("-");return[t,n]}var iC=ZG,Fy=XG,oC=e9,lC=n9,rge="Portal",Km=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,s]=p.useState(!1);wr(()=>s(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Q_.createPortal(i.jsx(bt.div,{...r,ref:t}),o):null});Km.displayName=rge;var age=Symbol("radix.slottable");function sge(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=age,t}var a9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ige="VisuallyHidden",s9=p.forwardRef((e,t)=>i.jsx(bt.span,{...e,ref:t,style:{...a9,...e.style}}));s9.displayName=ige;var oge=s9,[cC]=bs("Tooltip",[lu]),uC=lu(),i9="TooltipProvider",lge=700,lE="tooltip.open",[cge,wD]=cC(i9),o9=e=>{const{__scopeTooltip:t,delayDuration:n=lge,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:s}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(cge,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};o9.displayName=i9;var Lv="Tooltip",[uge,By]=cC(Lv),l9=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=wD(Lv,e.__scopeTooltip),u=uC(t),[d,f]=p.useState(null),h=Vr(),m=p.useRef(0),g=o??c.disableHoverableContent,v=l??c.delayDuration,b=p.useRef(!1),[x,y]=Mo({prop:r,defaultProp:a??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(lE))):c.onClose(),s==null||s(N)},caller:Lv}),w=p.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,y(!0)},[y]),C=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),k=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,y(!0),m.current=0},v)},[v,y]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),i.jsx(iC,{...u,children:i.jsx(uge,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?k():S()},[c.isOpenDelayedRef,k,S]),onTriggerLeave:p.useCallback(()=>{g?C():(window.clearTimeout(m.current),m.current=0)},[C,g]),onOpen:S,onClose:C,disableHoverableContent:g,children:n})})};l9.displayName=Lv;var cE="TooltipTrigger",c9=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=By(cE,n),s=wD(cE,n),o=uC(n),l=p.useRef(null),c=Vt(t,l,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Fy,{asChild:!0,...o,children:i.jsx(bt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:rt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:rt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:rt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:rt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:rt(e.onBlur,a.onClose),onClick:rt(e.onClick,a.onClose)})})});c9.displayName=cE;var SD="TooltipPortal",[dge,fge]=cC(SD,{forceMount:void 0}),u9=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:a}=e,s=By(SD,t);return i.jsx(dge,{scope:t,forceMount:n,children:i.jsx(Ur,{present:n||s.open,children:i.jsx(Km,{asChild:!0,container:a,children:r})})})};u9.displayName=SD;var lm="TooltipContent",d9=p.forwardRef((e,t)=>{const n=fge(lm,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...s}=e,o=By(lm,e.__scopeTooltip);return i.jsx(Ur,{present:r||o.open,children:o.disableHoverableContent?i.jsx(f9,{side:a,...s,ref:t}):i.jsx(hge,{side:a,...s,ref:t})})}),hge=p.forwardRef((e,t)=>{const n=By(lm,e.__scopeTooltip),r=wD(lm,e.__scopeTooltip),a=p.useRef(null),s=Vt(t,a),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((g,v)=>{const b=g.currentTarget,x={x:g.clientX,y:g.clientY},y=yge(x,b.getBoundingClientRect()),w=xge(x,y),S=bge(v.getBoundingClientRect()),C=Sge([...w,...S]);l(C),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const g=b=>m(b,d),v=b=>m(b,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",v)}}},[c,d,m,h]),p.useEffect(()=>{if(o){const g=v=>{const b=v.target,x={x:v.clientX,y:v.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!wge(x,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(f9,{...e,ref:s})}),[mge,pge]=cC(Lv,{isInside:!1}),gge=sge("TooltipContent"),f9=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=By(lm,n),u=uC(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(lE,d),()=>document.removeEventListener(lE,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Vm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(oC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(gge,{children:r}),i.jsx(mge,{scope:n,isInside:!0,children:i.jsx(oge,{id:c.contentId,role:"tooltip",children:a||r})})]})})});d9.displayName=lm;var h9="TooltipArrow",vge=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=uC(n);return pge(h9,n).isInside?null:i.jsx(lC,{...a,...r,ref:t})});vge.displayName=h9;function yge(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,a,s)){case s:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function xge(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function bge(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function wge(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function Sge(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Cge(t)}function Cge(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var jge=o9,Nge=l9,kge=c9,Age=u9,Pge=d9;function CD({delayDuration:e=0,...t}){return i.jsx(jge,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function m9({...e}){return i.jsx(CD,{children:i.jsx(Nge,{"data-slot":"tooltip",...e})})}function p9({...e}){return i.jsx(kge,{"data-slot":"tooltip-trigger",...e})}function g9({className:e,sideOffset:t=0,children:n,...r}){return i.jsx(Age,{children:i.jsx(Pge,{"data-slot":"tooltip-content",sideOffset:t,className:Re("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:n})})}const uk=1536;function Gm(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${uk-1}px)`),r=()=>{t(window.innerWidth<uk)};return n.addEventListener("change",r),t(window.innerWidth<uk),()=>n.removeEventListener("change",r)},[]),!!e}function Ege({onOpen:e}){return p.useEffect(()=>{const t=n=>{var s;const r=(s=n.touches)==null?void 0:s[0];if(r&&r.clientX<=30){const o=r.clientX,l=Date.now(),c=f=>{var b;const h=(b=f.touches)==null?void 0:b[0];if(!h)return;const m=h.clientX-o,g=Date.now()-l,v=m/g;m>50&&v>.3&&(e(),d())},u=()=>{d()},d=()=>{document.removeEventListener("touchmove",c),document.removeEventListener("touchend",u)};document.addEventListener("touchmove",c,{passive:!0}),document.addEventListener("touchend",u,{passive:!0})}};return document.addEventListener("touchstart",t,{passive:!0}),()=>{document.removeEventListener("touchstart",t)}},[e]),null}function Tge({onClose:e}){const t=p.useRef(null),n=a=>{var o;const s=(o=a.touches)==null?void 0:o[0];s&&(t.current={x:s.clientX,y:s.clientY})},r=a=>{var u;if(!t.current)return;const s=(u=a.changedTouches)==null?void 0:u[0];if(!s)return;const o=s.clientX-t.current.x,l=s.clientY-t.current.y,c=60;Math.abs(o)>Math.abs(l)&&Math.abs(o)>c&&o<-c&&(a.preventDefault(),e()),t.current=null};return i.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 2xl:hidden",onClick:e,onTouchStart:n,onTouchEnd:r})}function _ge({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:s,...o}){const l=Gm(),[c,u]=p.useState(!1),[d,f]=p.useState(e),h=t??d,m=p.useCallback(x=>{const y=typeof x=="function"?x(h):x;n?n(y):f(y),document.cookie=`${jme}=${y}; path=/; max-age=${Nme}`},[n,h]);p.useEffect(()=>{const x=()=>{if(window.innerWidth<1536&&c){const C=document.body.style.overflow,k=document.body.style.touchAction,N=document.body.style.position;return document.body.style.overflow="hidden",document.body.style.touchAction="none",document.body.style.position="fixed",document.body.style.width="100%",()=>{document.body.style.overflow=C,document.body.style.touchAction=k,document.body.style.position=N,document.body.style.width=""}}},y=x(),w=()=>{y&&y(),x()};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),y&&y()}},[c]);const g=p.useCallback(()=>l?u(x=>!x):m(x=>!x),[l,m,u]);p.useEffect(()=>{const x=y=>{y.key===Pme&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),g())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[g]);const v=h?"expanded":"collapsed",b=p.useMemo(()=>({state:v,open:h,setOpen:m,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:g}),[v,h,m,l,c,u,g]);return i.jsx(DG.Provider,{value:b,children:i.jsx(CD,{delayDuration:0,children:i.jsxs("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":kme,"--sidebar-width-icon":Ame,...a},className:Re("group/sidebar-wrapper h-full has-data-[variant=inset]:bg-sidebar flex min-h-auto overflow-auto w-full",r),...o,children:[!c&&i.jsx(Ege,{onOpen:()=>u(!0)}),c&&i.jsx(Tge,{onClose:()=>u(!1)}),s]})})})}var Dge=Symbol.for("react.lazy"),Hw=Py[" use ".trim().toString()];function Rge(e){return typeof e=="object"&&e!==null&&"then"in e}function v9(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Dge&&"_payload"in e&&Rge(e._payload)}function Vy(e){const t=Mge(e),n=p.forwardRef((r,a)=>{let{children:s,...o}=r;v9(s)&&typeof Hw=="function"&&(s=Hw(s._payload));const l=p.Children.toArray(s),c=l.find(Oge);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}var zy=Vy("Slot");function Mge(e){const t=p.forwardRef((n,r)=>{let{children:a,...s}=n;if(v9(a)&&typeof Hw=="function"&&(a=Hw(a._payload)),p.isValidElement(a)){const o=$ge(a),l=Lge(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ige=Symbol("radix.slottable");function Oge(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ige}function Lge(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function $ge(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const r$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,a$=sn,dC=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return a$(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=r$(d)||r$(f);return a[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[v,b]=g;return Array.isArray(b)?b.includes({...s,...l}[v]):{...s,...l}[v]===b})?[...u,f,h]:u},[]);return a$(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},y9=p.createContext({});function Fge(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const jD=p.createContext(null),x9=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Bge(e=!0){const t=p.useContext(jD);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,s=p.useId();p.useEffect(()=>{e&&a(s)},[e]);const o=p.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const ND=typeof window<"u",Vge=ND?p.useLayoutEffect:p.useEffect,Ls=e=>e;let b9=Ls;function kD(e){let t;return()=>(t===void 0&&(t=e()),t)}const cm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},yl=e=>e*1e3,xl=e=>e/1e3,zge={useManualTiming:!1};function Uge(e){let t=new Set,n=new Set,r=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&r?t:n;return d&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){a=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,a&&(a=!1,c.process(u))}};return c}const T0=["read","resolveKeyframes","update","preRender","render","postRender"],Kge=40;function w9(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=T0.reduce((x,y)=>(x[y]=Uge(s),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,m=()=>{const x=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(x-a.timestamp,Kge),1),a.timestamp=x,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,a.isProcessing||e(m)};return{schedule:T0.reduce((x,y)=>{const w=o[y];return x[y]=(S,C=!1,k=!1)=>(n||g(),w.schedule(S,C,k)),x},{}),cancel:x=>{for(let y=0;y<T0.length;y++)o[T0[y]].cancel(x)},state:a,steps:o}}const{schedule:Bn,cancel:Hc,state:pa,steps:dk}=w9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ls,!0),S9=p.createContext({strict:!1}),s$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},um={};for(const e in s$)um[e]={isEnabled:t=>s$[e].some(n=>!!t[n])};function Gge(e){for(const t in e)um[t]={...um[t],...e[t]}}const Wge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wge.has(e)}let C9=e=>!Yw(e);function qge(e){e&&(C9=t=>t.startsWith("on")?!Yw(t):e(t))}try{qge(require("@emotion/is-prop-valid").default)}catch{}function Hge(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(C9(a)||n===!0&&Yw(a)||!t&&!Yw(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function Yge(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const fC=p.createContext({});function $v(e){return typeof e=="string"||Array.isArray(e)}function hC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const AD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PD=["initial",...AD];function mC(e){return hC(e.animate)||PD.some(t=>$v(e[t]))}function j9(e){return!!(mC(e)||e.variants)}function Qge(e,t){if(mC(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$v(n)?n:void 0,animate:$v(r)?r:void 0}}return e.inherit!==!1?t:{}}function Zge(e){const{initial:t,animate:n}=Qge(e,p.useContext(fC));return p.useMemo(()=>({initial:t,animate:n}),[i$(t),i$(n)])}function i$(e){return Array.isArray(e)?e.join(" "):e}const Jge=Symbol.for("motionComponentSymbol");function ph(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xge(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ph(n)&&(n.current=r))},[t])}const ED=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eve="framerAppearId",N9="data-"+ED(eve),{schedule:TD}=w9(queueMicrotask,!1),k9=p.createContext({});function tve(e,t,n,r,a){var s,o;const{visualElement:l}=p.useContext(fC),c=p.useContext(S9),u=p.useContext(jD),d=p.useContext(x9).reducedMotion,f=p.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=p.useContext(k9);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&nve(f.current,n,a,m);const g=p.useRef(!1);p.useInsertionEffect(()=>{h&&g.current&&h.update(n,u)});const v=n[N9],b=p.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return Vge(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),TD.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),p.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,v)}),b.current=!1))}),h}function nve(e,t,n,r){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:A9(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&ph(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function A9(e){if(e)return e.options.allowProjection!==!1?e.projection:A9(e.parent)}function rve({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){var s,o;e&&Gge(e);function l(u,d){let f;const h={...p.useContext(x9),...u,layoutId:ave(u)},{isStatic:m}=h,g=Zge(u),v=r(u,m);if(!m&&ND){sve();const b=ive(h);f=b.MeasureLayout,g.visualElement=tve(a,v,h,t,b.ProjectionNode)}return i.jsxs(fC.Provider,{value:g,children:[f&&g.visualElement?i.jsx(f,{visualElement:g.visualElement,...h}):null,n(a,u,Xge(v,g.visualElement,d),v,m,g.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(s=a.displayName)!==null&&s!==void 0?s:a.name)!==null&&o!==void 0?o:""})`}`;const c=p.forwardRef(l);return c[Jge]=a,c}function ave({layoutId:e}){const t=p.useContext(y9).id;return t&&e!==void 0?t+"-"+e:e}function sve(e,t){p.useContext(S9).strict}function ive(e){const{drag:t,layout:n}=um;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ove=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _D(e){return typeof e!="string"||e.includes("-")?!1:!!(ove.indexOf(e)>-1||/[A-Z]/u.test(e))}function o$(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function DD(e,t,n,r){if(typeof t=="function"){const[a,s]=o$(r);t=t(n!==void 0?n:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=o$(r);t=t(n!==void 0?n:e.custom,a,s)}return t}const uE=e=>Array.isArray(e),lve=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),cve=e=>uE(e)?e[e.length-1]||0:e,Ra=e=>!!(e&&e.getVelocity);function $b(e){const t=Ra(e)?e.get():e;return lve(t)?t.toValue():t}function uve({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,s){const o={latestValues:dve(r,a,s,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const P9=e=>(t,n)=>{const r=p.useContext(fC),a=p.useContext(jD),s=()=>uve(e,t,r,a);return n?s():Fge(s)};function dve(e,t,n,r){const a={},s=r(e,{});for(const h in s)a[h]=$b(s[h]);let{initial:o,animate:l}=e;const c=mC(e),u=j9(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!hC(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=DD(e,h[m]);if(g){const{transitionEnd:v,transition:b,...x}=g;for(const y in x){let w=x[y];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(a[y]=w)}for(const y in v)a[y]=v[y]}}}return a}const Wm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sf=new Set(Wm),E9=e=>t=>typeof t=="string"&&t.startsWith(e),T9=E9("--"),fve=E9("var(--"),RD=e=>fve(e)?hve.test(e.split("/*")[0].trim()):!1,hve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_9=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Tl=(e,t,n)=>n>t?t:n<e?e:n,qm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fv={...qm,transform:e=>Tl(0,1,e)},_0={...qm,default:1},Uy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),uc=Uy("deg"),Ao=Uy("%"),Tt=Uy("px"),mve=Uy("vh"),pve=Uy("vw"),l$={...Ao,parse:e=>Ao.parse(e)/100,transform:e=>Ao.transform(e*100)},gve={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt},vve={rotate:uc,rotateX:uc,rotateY:uc,rotateZ:uc,scale:_0,scaleX:_0,scaleY:_0,scaleZ:_0,skew:uc,skewX:uc,skewY:uc,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Fv,originX:l$,originY:l$,originZ:Tt},c$={...qm,transform:Math.round},MD={...gve,...vve,zIndex:c$,size:Tt,fillOpacity:Fv,strokeOpacity:Fv,numOctaves:c$},yve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xve=Wm.length;function bve(e,t,n){let r="",a=!0;for(let s=0;s<xve;s++){const o=Wm[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=_9(l,MD[o]);if(!c){a=!1;const d=yve[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function ID(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(sf.has(c)){o=!0;continue}else if(T9(c)){a[c]=u;continue}else{const d=_9(u,MD[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=bve(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const wve={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sve={offset:"strokeDashoffset",array:"strokeDasharray"};function Cve(e,t,n=1,r=0,a=!0){e.pathLength=1;const s=a?wve:Sve;e[s.offset]=Tt.transform(-r);const o=Tt.transform(t),l=Tt.transform(n);e[s.array]=`${o} ${l}`}function u$(e,t,n){return typeof e=="string"?e:Tt.transform(t+n*e)}function jve(e,t,n){const r=u$(t,e.x,e.width),a=u$(n,e.y,e.height);return`${r} ${a}`}function OD(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(ID(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:g}=e;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(a!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=jve(g,a!==void 0?a:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&Cve(h,o,l,c,!1)}const LD=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),D9=()=>({...LD(),attrs:{}}),$D=e=>typeof e=="string"&&e.toLowerCase()==="svg";function R9(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const M9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I9(e,t,n,r){R9(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(M9.has(a)?a:ED(a),t.attrs[a])}const Qw={};function Nve(e){Object.assign(Qw,e)}function O9(e,{layout:t,layoutId:n}){return sf.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Qw[e]||e==="opacity")}function FD(e,t,n){var r;const{style:a}=e,s={};for(const o in a)(Ra(a[o])||t.style&&Ra(t.style[o])||O9(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=a[o]);return s}function L9(e,t,n){const r=FD(e,t,n);for(const a in e)if(Ra(e[a])||Ra(t[a])){const s=Wm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[s]=e[a]}return r}function kve(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const d$=["x","y","width","height","cx","cy","r"],Ave={useVisualState:P9({scrapeMotionValuesFromProps:L9,createRenderState:D9,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let s=!!e.drag;if(!s){for(const l in a)if(sf.has(l)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let l=0;l<d$.length;l++){const c=d$[l];e[c]!==t[c]&&(o=!0)}o&&Bn.read(()=>{kve(n,r),Bn.render(()=>{OD(r,a,$D(n.tagName),e.transformTemplate),I9(n,r)})})}})},Pve={useVisualState:P9({scrapeMotionValuesFromProps:FD,createRenderState:LD})};function $9(e,t,n){for(const r in t)!Ra(t[r])&&!O9(r,n)&&(e[r]=t[r])}function Eve({transformTemplate:e},t){return p.useMemo(()=>{const n=LD();return ID(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Tve(e,t){const n=e.style||{},r={};return $9(r,n,e),Object.assign(r,Eve(e,t)),r}function _ve(e,t){const n={},r=Tve(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function Dve(e,t,n,r){const a=p.useMemo(()=>{const s=D9();return OD(s,t,$D(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};$9(s,e.style,e),a.style={...s,...a.style}}return a}function Rve(e=!1){return(n,r,a,{latestValues:s},o)=>{const c=(_D(n)?Dve:_ve)(r,s,o,n),u=Hge(r,typeof n=="string",e),d=n!==p.Fragment?{...u,...c,ref:a}:{},{children:f}=r,h=p.useMemo(()=>Ra(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function Mve(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={..._D(r)?Ave:Pve,preloadedFeatures:e,useRender:Rve(a),createVisualElement:t,Component:r};return rve(o)}}function F9(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function pC(e,t,n){const r=e.getProps();return DD(r,t,n!==void 0?n:r.custom,e)}const Ive=kD(()=>window.ScrollTimeline!==void 0);class Ove{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>{if(Ive()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,s)=>{a&&a(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Lve extends Ove{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function BD(e,t){return e?e[t]||e.default||e:void 0}const dE=2e4;function B9(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<dE;)t+=n,r=e.next(t);return t>=dE?1/0:t}function VD(e){return typeof e=="function"}function f$(e,t){e.timeline=t,e.onfinish=null}const zD=e=>Array.isArray(e)&&typeof e[0]=="number",$ve={linearEasing:void 0};function Fve(e,t){const n=kD(e);return()=>{var r;return(r=$ve[t])!==null&&r!==void 0?r:n()}}const Zw=Fve(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),V9=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let s=0;s<a;s++)r+=e(cm(0,a-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function z9(e){return!!(typeof e=="function"&&Zw()||!e||typeof e=="string"&&(e in fE||Zw())||zD(e)||Array.isArray(e)&&e.every(z9))}const Sg=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,fE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sg([0,.65,.55,1]),circOut:Sg([.55,0,1,.45]),backIn:Sg([.31,.01,.66,-.59]),backOut:Sg([.33,1.53,.69,.99])};function U9(e,t){if(e)return typeof e=="function"&&Zw()?V9(e,t):zD(e)?Sg(e):Array.isArray(e)?e.map(n=>U9(n,t)||fE.easeOut):fE[e]}const Ei={x:!1,y:!1};function K9(){return Ei.x||Ei.y}function Bve(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const s=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function G9(e,t){const n=Bve(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function h$(e){return t=>{t.pointerType==="touch"||K9()||e(t)}}function Vve(e,t,n={}){const[r,a,s]=G9(e,n),o=h$(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=h$(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,a)});return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),s}const W9=(e,t)=>t?e===t?!0:W9(e,t.parentElement):!1,UD=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,zve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Uve(e){return zve.has(e.tagName)||e.tabIndex!==-1}const Cg=new WeakSet;function m$(e){return t=>{t.key==="Enter"&&e(t)}}function fk(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Kve=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=m$(()=>{if(Cg.has(n))return;fk(n,"down");const a=m$(()=>{fk(n,"up")}),s=()=>fk(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function p$(e){return UD(e)&&!K9()}function Gve(e,t,n={}){const[r,a,s]=G9(e,n),o=l=>{const c=l.currentTarget;if(!p$(l)||Cg.has(c))return;Cg.add(c);const u=t(l),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!p$(m)||!Cg.has(c))&&(Cg.delete(c),typeof u=="function"&&u(m,{success:g}))},f=m=>{d(m,n.useGlobalTarget||W9(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return r.forEach(l=>{!Uve(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",u=>Kve(u,a),a)}),s}function Wve(e){return e==="x"||e==="y"?Ei[e]?null:(Ei[e]=!0,()=>{Ei[e]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}const q9=new Set(["width","height","top","left","right","bottom",...Wm]);let Fb;function qve(){Fb=void 0}const Po={now:()=>(Fb===void 0&&Po.set(pa.isProcessing||zge.useManualTiming?pa.timestamp:performance.now()),Fb),set:e=>{Fb=e,queueMicrotask(qve)}};function KD(e,t){e.indexOf(t)===-1&&e.push(t)}function GD(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let WD=class{constructor(){this.subscriptions=[]}add(t){return KD(this.subscriptions,t),()=>GD(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function H9(e,t){return t?e*(1e3/t):0}const g$=30,Hve=e=>!isNaN(parseFloat(e));let Yve=class{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const s=Po.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Po.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Hve(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new WD);const r=this.events[t].add(n);return t==="change"?()=>{r(),Bn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Po.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>g$)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,g$);return H9(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Bv(e,t){return new Yve(e,t)}function Qve(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bv(n))}function Zve(e,t){const n=pC(e,t);let{transitionEnd:r={},transition:a={},...s}=n||{};s={...s,...r};for(const o in s){const l=cve(s[o]);Qve(e,o,l)}}function Jve(e){return!!(Ra(e)&&e.add)}function hE(e,t){const n=e.getValue("willChange");if(Jve(n))return n.add(t)}function Y9(e){return e.props[N9]}const Q9=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Xve=1e-7,eye=12;function tye(e,t,n,r,a){let s,o,l=0;do o=t+(n-t)/2,s=Q9(o,r,a)-e,s>0?n=o:t=o;while(Math.abs(s)>Xve&&++l<eye);return o}function Ky(e,t,n,r){if(e===t&&n===r)return Ls;const a=s=>tye(s,0,1,e,n);return s=>s===0||s===1?s:Q9(a(s),t,r)}const Z9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,J9=e=>t=>1-e(1-t),X9=Ky(.33,1.53,.69,.99),qD=J9(X9),eW=Z9(qD),tW=e=>(e*=2)<1?.5*qD(e):.5*(2-Math.pow(2,-10*(e-1))),HD=e=>1-Math.sin(Math.acos(e)),nW=J9(HD),rW=Z9(HD),aW=e=>/^0[^.\s]+$/u.test(e);function nye(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aW(e):!0}const Qg=e=>Math.round(e*1e5)/1e5,YD=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rye(e){return e==null}const aye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,QD=(e,t)=>n=>!!(typeof n=="string"&&aye.test(n)&&n.startsWith(e)||t&&!rye(n)&&Object.prototype.hasOwnProperty.call(n,t)),sW=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,s,o,l]=r.match(YD);return{[e]:parseFloat(a),[t]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},sye=e=>Tl(0,255,e),hk={...qm,transform:e=>Math.round(sye(e))},qu={test:QD("rgb","red"),parse:sW("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+hk.transform(e)+", "+hk.transform(t)+", "+hk.transform(n)+", "+Qg(Fv.transform(r))+")"};function iye(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const mE={test:QD("#"),parse:iye,transform:qu.transform},gh={test:QD("hsl","hue"),parse:sW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ao.transform(Qg(t))+", "+Ao.transform(Qg(n))+", "+Qg(Fv.transform(r))+")"},Ea={test:e=>qu.test(e)||mE.test(e)||gh.test(e),parse:e=>qu.test(e)?qu.parse(e):gh.test(e)?gh.parse(e):mE.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qu.transform(e):gh.transform(e)},oye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lye(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(YD))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(oye))===null||n===void 0?void 0:n.length)||0)>0}const iW="number",oW="color",cye="var",uye="var(",v$="${}",dye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(dye,c=>(Ea.test(c)?(r.color.push(s),a.push(oW),n.push(Ea.parse(c))):c.startsWith(uye)?(r.var.push(s),a.push(cye),n.push(c)):(r.number.push(s),a.push(iW),n.push(parseFloat(c))),++s,v$)).split(v$);return{values:n,split:l,indexes:r,types:a}}function lW(e){return Vv(e).values}function cW(e){const{split:t,types:n}=Vv(e),r=t.length;return a=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],a[o]!==void 0){const l=n[o];l===iW?s+=Qg(a[o]):l===oW?s+=Ea.transform(a[o]):s+=a[o]}return s}}const fye=e=>typeof e=="number"?0:e;function hye(e){const t=lW(e);return cW(e)(t.map(fye))}const Yc={test:lye,parse:lW,createTransformer:cW,getAnimatableNone:hye},mye=new Set(["brightness","contrast","saturate","opacity"]);function pye(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(YD)||[];if(!r)return e;const a=n.replace(r,"");let s=mye.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+a+")"}const gye=/\b([a-z-]*)\(.*?\)/gu,pE={...Yc,getAnimatableNone:e=>{const t=e.match(gye);return t?t.map(pye).join(" "):e}},vye={...MD,color:Ea,backgroundColor:Ea,outlineColor:Ea,fill:Ea,stroke:Ea,borderColor:Ea,borderTopColor:Ea,borderRightColor:Ea,borderBottomColor:Ea,borderLeftColor:Ea,filter:pE,WebkitFilter:pE},ZD=e=>vye[e];function uW(e,t){let n=ZD(e);return n!==pE&&(n=Yc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yye=new Set(["auto","none","0"]);function xye(e,t,n){let r=0,a;for(;r<e.length&&!a;){const s=e[r];typeof s=="string"&&!yye.has(s)&&Vv(s).values.length&&(a=e[r]),r++}if(a&&n)for(const s of t)e[s]=uW(n,a)}const y$=e=>e===qm||e===Tt,x$=(e,t)=>parseFloat(e.split(", ")[t]),b$=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return x$(a[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?x$(s[1],e):0}},bye=new Set(["x","y","z"]),wye=Wm.filter(e=>!bye.has(e));function Sye(e){const t=[];return wye.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const dm={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:b$(4,13),y:b$(5,14)};dm.translateX=dm.x;dm.translateY=dm.y;const od=new Set;let gE=!1,vE=!1;function dW(){if(vE){const e=Array.from(od).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=Sye(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([s,o])=>{var l;(l=r.getValue(s))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vE=!1,gE=!1,od.forEach(e=>e.complete()),od.clear()}function fW(){od.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vE=!0)})}function Cye(){fW(),dW()}let JD=class{constructor(t,n,r,a,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(od.add(this),gE||(gE=!0,Bn.read(fW),Bn.resolveKeyframes(dW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),od.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,od.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const hW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),jye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nye(e){const t=jye.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function mW(e,t,n=1){const[r,a]=Nye(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return hW(o)?parseFloat(o):o}return RD(a)?mW(a,t,n+1):a}const pW=e=>t=>t.test(e),kye={test:e=>e==="auto",parse:e=>e},gW=[qm,Tt,Ao,uc,pve,mve,kye],w$=e=>gW.find(pW(e));let vW=class extends JD{constructor(t,n,r,a,s){super(t,n,r,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),RD(u))){const d=mW(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!q9.has(r)||t.length!==2)return;const[a,s]=t,o=w$(a),l=w$(s);if(o!==l)if(y$(o)&&y$(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)nye(t[a])&&r.push(a);r.length&&xye(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dm[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=dm[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}};const S$=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yc.test(e)||e==="0")&&!e.startsWith("url("));function Aye(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Pye(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=S$(a,t),l=S$(s,t);return!o||!l?!1:Aye(e)||(n==="spring"||VD(n))&&r}const Eye=e=>e!==null;function gC(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(Eye),s=t&&n!=="loop"&&t%2===1?0:a.length-1;return!s||r===void 0?a[s]:r}const Tye=40;class yW{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Po.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Tye?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Cye(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Po.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Pye(t,r,a,s))if(o)this.options.duration=0;else{c&&c(gC(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const nr=(e,t,n)=>e+(t-e)*n;function mk(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _ye({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,s=0,o=0;if(!t)a=s=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=mk(c,l,e+1/3),s=mk(c,l,e),o=mk(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Jw(e,t){return n=>n>0?t:e}const pk=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Dye=[mE,qu,gh],Rye=e=>Dye.find(t=>t.test(e));function C$(e){const t=Rye(e);if(!t)return!1;let n=t.parse(e);return t===gh&&(n=_ye(n)),n}const j$=(e,t)=>{const n=C$(e),r=C$(t);if(!n||!r)return Jw(e,t);const a={...n};return s=>(a.red=pk(n.red,r.red,s),a.green=pk(n.green,r.green,s),a.blue=pk(n.blue,r.blue,s),a.alpha=nr(n.alpha,r.alpha,s),qu.transform(a))},Mye=(e,t)=>n=>t(e(n)),Gy=(...e)=>e.reduce(Mye),yE=new Set(["none","hidden"]);function Iye(e,t){return yE.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Oye(e,t){return n=>nr(e,t,n)}function XD(e){return typeof e=="number"?Oye:typeof e=="string"?RD(e)?Jw:Ea.test(e)?j$:Fye:Array.isArray(e)?xW:typeof e=="object"?Ea.test(e)?j$:Lye:Jw}function xW(e,t){const n=[...e],r=n.length,a=e.map((s,o)=>XD(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=a[o](s);return n}}function Lye(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=XD(e[a])(e[a],t[a]));return a=>{for(const s in r)n[s]=r[s](a);return n}}function $ye(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][a[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[s]=c,a[o]++}return r}const Fye=(e,t)=>{const n=Yc.createTransformer(t),r=Vv(e),a=Vv(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?yE.has(e)&&!a.values.length||yE.has(t)&&!r.values.length?Iye(e,t):Gy(xW($ye(r,a),a.values),n):Jw(e,t)};function bW(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?nr(e,t,n):XD(e)(e,t)}const Bye=5;function wW(e,t,n){const r=Math.max(t-Bye,0);return H9(n-e(r),t-r)}const ur={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gk=.001;function Vye({duration:e=ur.duration,bounce:t=ur.bounce,velocity:n=ur.velocity,mass:r=ur.mass}){let a,s,o=1-t;o=Tl(ur.minDamping,ur.maxDamping,o),e=Tl(ur.minDuration,ur.maxDuration,xl(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-n,m=xE(u,o),g=Math.exp(-f);return gk-h/m*g},s=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),v=xE(Math.pow(u,2),o);return(-a(u)+gk>0?-1:1)*((h-m)*g)/v}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-gk+d*f},s=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=Uye(a,s,l);if(e=yl(e),isNaN(c))return{stiffness:ur.stiffness,damping:ur.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const zye=12;function Uye(e,t,n){let r=n;for(let a=1;a<zye;a++)r=r-e(r)/t(r);return r}function xE(e,t){return e*Math.sqrt(1-t*t)}const Kye=["duration","bounce"],Gye=["stiffness","damping","mass"];function N$(e,t){return t.some(n=>e[n]!==void 0)}function Wye(e){let t={velocity:ur.velocity,stiffness:ur.stiffness,damping:ur.damping,mass:ur.mass,isResolvedFromDuration:!1,...e};if(!N$(e,Gye)&&N$(e,Kye))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,s=2*Tl(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ur.mass,stiffness:a,damping:s}}else{const n=Vye(e);t={...t,...n,mass:ur.mass},t.isResolvedFromDuration=!0}return t}function SW(e=ur.visualDuration,t=ur.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=Wye({...n,velocity:-xl(n.velocity||0)}),g=h||0,v=u/(2*Math.sqrt(c*d)),b=o-s,x=xl(Math.sqrt(c/d)),y=Math.abs(b)<5;r||(r=y?ur.restSpeed.granular:ur.restSpeed.default),a||(a=y?ur.restDelta.granular:ur.restDelta.default);let w;if(v<1){const C=xE(x,v);w=k=>{const N=Math.exp(-v*x*k);return o-N*((g+v*x*b)/C*Math.sin(C*k)+b*Math.cos(C*k))}}else if(v===1)w=C=>o-Math.exp(-x*C)*(b+(g+x*b)*C);else{const C=x*Math.sqrt(v*v-1);w=k=>{const N=Math.exp(-v*x*k),P=Math.min(C*k,300);return o-N*((g+v*x*b)*Math.sinh(P)+C*b*Math.cosh(P))/C}}const S={calculatedDuration:m&&f||null,next:C=>{const k=w(C);if(m)l.done=C>=f;else{let N=0;v<1&&(N=C===0?yl(g):wW(w,C,k));const P=Math.abs(N)<=r,E=Math.abs(o-k)<=a;l.done=P&&E}return l.value=l.done?o:k,l},toString:()=>{const C=Math.min(B9(S),dE),k=V9(N=>S.next(C*N).value,C,30);return C+"ms "+k}};return S}function k$({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let v=n*t;const b=f+v,x=o===void 0?b:o(b);x!==b&&(v=x-f);const y=P=>-v*Math.exp(-P/r),w=P=>x+y(P),S=P=>{const E=y(P),R=w(P);h.done=Math.abs(E)<=u,h.value=h.done?x:R};let C,k;const N=P=>{m(h.value)&&(C=P,k=SW({keyframes:[h.value,g(h.value)],velocity:wW(w,P,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let E=!1;return!k&&C===void 0&&(E=!0,S(P),N(P)),C!==void 0&&P>=C?k.next(P-C):(!E&&S(P),h)}}}const qye=Ky(.42,0,1,1),Hye=Ky(0,0,.58,1),CW=Ky(.42,0,.58,1),Yye=e=>Array.isArray(e)&&typeof e[0]!="number",Qye={linear:Ls,easeIn:qye,easeInOut:CW,easeOut:Hye,circIn:HD,circInOut:rW,circOut:nW,backIn:qD,backInOut:eW,backOut:X9,anticipate:tW},A$=e=>{if(zD(e)){b9(e.length===4);const[t,n,r,a]=e;return Ky(t,n,r,a)}else if(typeof e=="string")return Qye[e];return e};function Zye(e,t,n){const r=[],a=n||bW,s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ls:t;l=Gy(c,l)}r.push(l)}return r}function Jye(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const s=e.length;if(b9(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Zye(t,r,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=cm(e[f],e[f+1],d);return l[f](h)};return n?d=>u(Tl(e[0],e[s-1],d)):u}function Xye(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=cm(0,t,r);e.push(nr(n,1,a))}}function exe(e){const t=[0];return Xye(t,e.length-1),t}function txe(e,t){return e.map(n=>n*t)}function nxe(e,t){return e.map(()=>t||CW).splice(0,e.length-1)}function Xw({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Yye(r)?r.map(A$):A$(r),s={done:!1,value:t[0]},o=txe(n&&n.length===t.length?n:exe(t),e),l=Jye(o,t,{ease:Array.isArray(a)?a:nxe(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const rxe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Bn.update(t,!0),stop:()=>Hc(t),now:()=>pa.isProcessing?pa.timestamp:Po.now()}},axe={decay:k$,inertia:k$,tween:Xw,keyframes:Xw,spring:SW},sxe=e=>e/100;class eR extends yW{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:a,keyframes:s}=this.options,o=(a==null?void 0:a.KeyframeResolver)||JD,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=this.options,l=VD(n)?n:axe[n]||Xw;let c,u;l!==Xw&&typeof t[0]!="number"&&(c=Gy(sxe,bW(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});s==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=B9(d));const{calculatedDuration:f}=d,h=f+a,m=h*(r+1)-a;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:a,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:m,repeatType:g,repeatDelay:v,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,S=s;if(m){const P=Math.min(this.currentTime,d)/f;let E=Math.floor(P),R=P%1;!R&&P>=1&&(R=1),R===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(g==="reverse"?(R=1-R,v&&(R-=v/f)):g==="mirror"&&(S=o)),w=Tl(0,1,R)*f}const C=y?{done:!1,value:c[0]}:S.next(w);l&&(C.value=l(C.value));let{done:k}=C;!y&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return N&&a!==void 0&&(C.value=gC(c,this.options,a)),b&&b(C.value),N&&this.finish(),C}get duration(){const{resolved:t}=this;return t?xl(t.calculatedDuration):0}get time(){return xl(this.currentTime)}set time(t){t=yl(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=rxe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const ixe=new Set(["opacity","clipPath","filter","transform"]);function oxe(e,t,n,{delay:r=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=U9(l,a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const lxe=kD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),e1=10,cxe=2e4;function uxe(e){return VD(e.type)||e.type==="spring"||!z9(e.ease)}function dxe(e,t){const n=new eR({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let s=0;for(;!r.done&&s<cxe;)r=n.sample(s),a.push(r.value),s+=e1;return{times:void 0,keyframes:a,duration:s-e1,ease:"linear"}}const jW={anticipate:tW,backInOut:eW,circInOut:rW};function fxe(e){return e in jW}class P$ extends yW{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:s}=this.options;this.resolver=new vW(s,(o,l)=>this.onKeyframesResolved(o,l),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:a,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&Zw()&&fxe(s)&&(s=jW[s]),uxe(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:g,...v}=this.options,b=dxe(t,v);t=b.keyframes,t.length===1&&(t[1]=t[0]),r=b.duration,a=b.times,s=b.ease,o="keyframes"}const d=oxe(l.owner.current,c,t,{...this.options,duration:r,times:a,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(f$(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(gC(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:a,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return xl(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return xl(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=yl(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Ls;const{animation:r}=n;f$(r,t)}return Ls}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:s,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,g=new eR({...m,keyframes:r,duration:a,type:s,ease:o,times:l,isGenerator:!0}),v=yl(this.time);u.setWithVelocity(g.sample(v-e1).value,g.sample(v).value,e1)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:s,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return lxe()&&r&&ixe.has(r)&&!c&&!u&&!a&&s!=="mirror"&&o!==0&&l!=="inertia"}}const hxe={type:"spring",stiffness:500,damping:25,restSpeed:10},mxe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),pxe={type:"keyframes",duration:.8},gxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vxe=(e,{keyframes:t})=>t.length>2?pxe:sf.has(e)?e.startsWith("scale")?mxe(t[1]):hxe:gxe;function yxe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const tR=(e,t,n,r={},a,s)=>o=>{const l=BD(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-yl(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};yxe(l)||(d={...d,...vxe(e,d)}),d.duration&&(d.duration=yl(d.duration)),d.repeatDelay&&(d.repeatDelay=yl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const h=gC(d.keyframes,l);if(h!==void 0)return Bn.update(()=>{d.onUpdate(h),d.onComplete()}),new Lve([])}return!s&&P$.supports(d)?new P$(d):new eR(d)};function xxe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function NW(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const h=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),m=c[f];if(m===void 0||d&&xxe(d,f))continue;const g={delay:n,...BD(o||{},f)};let v=!1;if(window.MotionHandoffAnimation){const x=Y9(e);if(x){const y=window.MotionHandoffAnimation(x,f,Bn);y!==null&&(g.startTime=y,v=!0)}}hE(e,f),h.start(tR(f,h,m,e.shouldReduceMotion&&q9.has(f)?{type:!1}:g,e,v));const b=h.animation;b&&u.push(b)}return l&&Promise.all(u).then(()=>{Bn.update(()=>{l&&Zve(e,l)})}),u}function bE(e,t,n={}){var r;const a=pC(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const o=a?()=>Promise.all(NW(e,a,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return bxe(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function bxe(e,t,n=0,r=0,a=1,s){const o=[],l=(e.variantChildren.size-1)*r,c=a===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(wxe).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(bE(u,t,{...s,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function wxe(e,t){return e.sortNodePosition(t)}function Sxe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(s=>bE(e,s,n));r=Promise.all(a)}else if(typeof t=="string")r=bE(e,t,n);else{const a=typeof t=="function"?pC(e,t,n.custom):t;r=Promise.all(NW(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Cxe=PD.length;function kW(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?kW(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Cxe;n++){const r=PD[n],a=e.props[r];($v(a)||a===!1)&&(t[r]=a)}return t}const jxe=[...AD].reverse(),Nxe=AD.length;function kxe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Sxe(e,n,r)))}function Axe(e){let t=kxe(e),n=E$(),r=!0;const a=c=>(u,d)=>{var f;const h=pC(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...v}=h;u={...u,...v,...g}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=kW(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let b=0;b<Nxe;b++){const x=jxe[b],y=n[x],w=u[x]!==void 0?u[x]:d[x],S=$v(w),C=x===c?y.isActive:null;C===!1&&(g=b);let k=w===d[x]&&w!==u[x]&&S;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...m},!y.isActive&&C===null||!w&&!y.prevProp||hC(w)||typeof w=="boolean")continue;const N=Pxe(y.prevProp,w);let P=N||x===c&&y.isActive&&!k&&S||b>g&&S,E=!1;const R=Array.isArray(w)?w:[w];let O=R.reduce(a(x),{});C===!1&&(O={});const{prevResolvedValues:K={}}=y,J={...K,...O},Q=U=>{P=!0,h.has(U)&&(E=!0,h.delete(U)),y.needsAnimating[U]=!0;const M=e.getValue(U);M&&(M.liveStyle=!1)};for(const U in J){const M=O[U],$=K[U];if(m.hasOwnProperty(U))continue;let B=!1;uE(M)&&uE($)?B=!F9(M,$):B=M!==$,B?M!=null?Q(U):h.add(U):M!==void 0&&h.has(U)?Q(U):y.protectedKeys[U]=!0}y.prevProp=w,y.prevResolvedValues=O,y.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(k&&N)||E)&&f.push(...R.map(U=>({animation:U,options:{type:x}})))}if(h.size){const b={};h.forEach(x=>{const y=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),b[x]=y??null}),f.push({animation:b})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=E$(),r=!0}}}function Pxe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!F9(t,e):!1}function Eu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E$(){return{animate:Eu(!0),whileInView:Eu(),whileHover:Eu(),whileTap:Eu(),whileDrag:Eu(),whileFocus:Eu(),exit:Eu()}}let cu=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},Exe=class extends cu{constructor(t){super(t),t.animationState||(t.animationState=Axe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}},Txe=0,_xe=class extends cu{constructor(){super(...arguments),this.id=Txe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}};const Dxe={animation:{Feature:Exe},exit:{Feature:_xe}};function zv(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Wy(e){return{point:{x:e.pageX,y:e.pageY}}}const Rxe=e=>t=>UD(t)&&e(t,Wy(t));function Zg(e,t,n,r){return zv(e,t,Rxe(n),r)}const T$=(e,t)=>Math.abs(e-t);function Mxe(e,t){const n=T$(e.x,t.x),r=T$(e.y,t.y);return Math.sqrt(n**2+r**2)}let AW=class{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=yk(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Mxe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:v}=pa;this.history.push({...g,timestamp:v});const{onStart:b,onMove:x}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=vk(h,this.transformPagePoint),Bn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=yk(f.type==="pointercancel"?this.lastMoveEventInfo:vk(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),g&&g(f,b)},!UD(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=Wy(t),l=vk(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=pa;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,yk(l,this.history)),this.removeListeners=Gy(Zg(this.contextWindow,"pointermove",this.handlePointerMove),Zg(this.contextWindow,"pointerup",this.handlePointerUp),Zg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hc(this.updatePoint)}};function vk(e,t){return t?{point:t(e.point)}:e}function _$(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yk({point:e},t){return{point:e,delta:_$(e,PW(t)),offset:_$(e,Ixe(t)),velocity:Oxe(t,.1)}}function Ixe(e){return e[0]}function PW(e){return e[e.length-1]}function Oxe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=PW(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>yl(t)));)n--;if(!r)return{x:0,y:0};const s=xl(a.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const EW=1e-4,Lxe=1-EW,$xe=1+EW,TW=.01,Fxe=0-TW,Bxe=0+TW;function Vs(e){return e.max-e.min}function Vxe(e,t,n){return Math.abs(e-t)<=n}function D$(e,t,n,r=.5){e.origin=r,e.originPoint=nr(t.min,t.max,e.origin),e.scale=Vs(n)/Vs(t),e.translate=nr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Lxe&&e.scale<=$xe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Fxe&&e.translate<=Bxe||isNaN(e.translate))&&(e.translate=0)}function Jg(e,t,n,r){D$(e.x,t.x,n.x,r?r.originX:void 0),D$(e.y,t.y,n.y,r?r.originY:void 0)}function R$(e,t,n){e.min=n.min+t.min,e.max=e.min+Vs(t)}function zxe(e,t,n){R$(e.x,t.x,n.x),R$(e.y,t.y,n.y)}function M$(e,t,n){e.min=t.min-n.min,e.max=e.min+Vs(t)}function Xg(e,t,n){M$(e.x,t.x,n.x),M$(e.y,t.y,n.y)}function Uxe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?nr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?nr(n,e,r.max):Math.min(e,n)),e}function I$(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Kxe(e,{top:t,left:n,bottom:r,right:a}){return{x:I$(e.x,n,a),y:I$(e.y,t,r)}}function O$(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Gxe(e,t){return{x:O$(e.x,t.x),y:O$(e.y,t.y)}}function Wxe(e,t){let n=.5;const r=Vs(e),a=Vs(t);return a>r?n=cm(t.min,t.max-r,e.min):r>a&&(n=cm(e.min,e.max-a,t.min)),Tl(0,1,n)}function qxe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wE=.35;function Hxe(e=wE){return e===!1?e=0:e===!0&&(e=wE),{x:L$(e,"left","right"),y:L$(e,"top","bottom")}}function L$(e,t,n){return{min:$$(e,t),max:$$(e,n)}}function $$(e,t){return typeof e=="number"?e:e[t]||0}const F$=()=>({translate:0,scale:1,origin:0,originPoint:0}),vh=()=>({x:F$(),y:F$()}),B$=()=>({min:0,max:0}),yr=()=>({x:B$(),y:B$()});function ei(e){return[e("x"),e("y")]}function _W({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Yxe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Qxe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xk(e){return e===void 0||e===1}function SE({scale:e,scaleX:t,scaleY:n}){return!xk(e)||!xk(t)||!xk(n)}function Mu(e){return SE(e)||DW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function DW(e){return V$(e.x)||V$(e.y)}function V$(e){return e&&e!=="0%"}function t1(e,t,n){const r=e-n,a=t*r;return n+a}function z$(e,t,n,r,a){return a!==void 0&&(e=t1(e,a,r)),t1(e,n,r)+t}function CE(e,t=0,n=1,r,a){e.min=z$(e.min,t,n,r,a),e.max=z$(e.max,t,n,r,a)}function RW(e,{x:t,y:n}){CE(e.x,t.translate,t.scale,t.originPoint),CE(e.y,n.translate,n.scale,n.originPoint)}const U$=.999999999999,K$=1.0000000000001;function Zxe(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,RW(e,o)),r&&Mu(s.latestValues)&&xh(e,s.latestValues))}t.x<K$&&t.x>U$&&(t.x=1),t.y<K$&&t.y>U$&&(t.y=1)}function yh(e,t){e.min=e.min+t,e.max=e.max+t}function G$(e,t,n,r,a=.5){const s=nr(e.min,e.max,a);CE(e,t,n,s,r)}function xh(e,t){G$(e.x,t.x,t.scaleX,t.scale,t.originX),G$(e.y,t.y,t.scaleY,t.scale,t.originY)}function MW(e,t){return _W(Qxe(e.getBoundingClientRect(),t))}function Jxe(e,t,n){const r=MW(e,n),{scroll:a}=t;return a&&(yh(r.x,a.offset.x),yh(r.y,a.offset.y)),r}const IW=({current:e})=>e?e.ownerDocument.defaultView:null,Xxe=new WeakMap;let e0e=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wy(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wve(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ei(b=>{let x=this.getAxisMotionValue(b).get()||0;if(Ao.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[b];w&&(x=Vs(w)*(parseFloat(x)/100))}}this.originPoint[b]=x}),g&&Bn.postRender(()=>g(d,f)),hE(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=t0e(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>ei(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new AW(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:IW(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&Bn.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!D0(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Uxe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&ph(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Kxe(a.layoutBox,n):this.constraints=!1,this.elastic=Hxe(r),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ei(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qxe(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ph(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=Jxe(r,a.root,this.visualElement.getTransformPagePoint());let o=Gxe(a.layout.layoutBox,s);if(n){const l=n(Yxe(o));this.hasMutatedConstraints=!!l,l&&(o=_W(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ei(d=>{if(!D0(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return hE(this.visualElement,t),r.start(tR(t,r,0,n,this.visualElement,!1))}stopAnimation(){ei(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ei(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ei(n=>{const{drag:r}=this.getProps();if(!D0(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];s.set(t[n]-nr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ph(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ei(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Wxe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ei(o=>{if(!D0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(nr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Xxe.set(this.visualElement,this);const t=this.visualElement.current,n=Zg(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ph(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Bn.read(r);const o=zv(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ei(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=wE,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}};function D0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function t0e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}let n0e=class extends cu{constructor(t){super(t),this.removeGroupControls=Ls,this.removeListeners=Ls,this.controls=new e0e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ls}unmount(){this.removeGroupControls(),this.removeListeners()}};const W$=e=>(t,n)=>{e&&Bn.postRender(()=>e(t,n))};let r0e=class extends cu{constructor(){super(...arguments),this.removePointerDownListener=Ls}onPointerDown(t){this.session=new AW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:W$(t),onStart:W$(n),onMove:r,onEnd:(s,o)=>{delete this.session,a&&Bn.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=Zg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Bb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function q$(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const n=q$(e,t.target.x),r=q$(e,t.target.y);return`${n}% ${r}%`}},a0e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Yc.parse(e);if(a.length>5)return r;const s=Yc.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=nr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}};let s0e=class extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:s}=t;Nve(i0e),s&&(n.group&&n.group.add(s),r&&r.register&&a&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Bb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Bn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),TD.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function OW(e){const[t,n]=Bge(),r=p.useContext(y9);return i.jsx(s0e,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(k9),isPresent:t,safeToRemove:n})}const i0e={borderRadius:{...Jp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jp,borderTopRightRadius:Jp,borderBottomLeftRadius:Jp,borderBottomRightRadius:Jp,boxShadow:a0e};function o0e(e,t,n){const r=Ra(e)?e:Bv(e);return r.start(tR("",r,t,n)),r.animation}function l0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}const c0e=(e,t)=>e.depth-t.depth;let u0e=class{constructor(){this.children=[],this.isDirty=!1}add(t){KD(this.children,t),this.isDirty=!0}remove(t){GD(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(c0e),this.isDirty=!1,this.children.forEach(t)}};function d0e(e,t){const n=Po.now(),r=({timestamp:a})=>{const s=a-n;s>=t&&(Hc(r),e(s-t))};return Bn.read(r,!0),()=>Hc(r)}const LW=["TopLeft","TopRight","BottomLeft","BottomRight"],f0e=LW.length,H$=e=>typeof e=="string"?parseFloat(e):e,Y$=e=>typeof e=="number"||Tt.test(e);function h0e(e,t,n,r,a,s){a?(e.opacity=nr(0,n.opacity!==void 0?n.opacity:1,m0e(r)),e.opacityExit=nr(t.opacity!==void 0?t.opacity:1,0,p0e(r))):s&&(e.opacity=nr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<f0e;o++){const l=`border${LW[o]}Radius`;let c=Q$(t,l),u=Q$(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Y$(c)===Y$(u)?(e[l]=Math.max(nr(H$(c),H$(u),r),0),(Ao.test(u)||Ao.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=nr(t.rotate||0,n.rotate||0,r))}function Q$(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const m0e=$W(0,.5,nW),p0e=$W(.5,.95,Ls);function $W(e,t,n){return r=>r<e?0:r>t?1:n(cm(e,t,r))}function Z$(e,t){e.min=t.min,e.max=t.max}function Qs(e,t){Z$(e.x,t.x),Z$(e.y,t.y)}function J$(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function X$(e,t,n,r,a){return e-=t,e=t1(e,1/n,r),a!==void 0&&(e=t1(e,1/a,r)),e}function g0e(e,t=0,n=1,r=.5,a,s=e,o=e){if(Ao.test(t)&&(t=parseFloat(t),t=nr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=nr(s.min,s.max,r);e===s&&(l-=t),e.min=X$(e.min,t,n,l,a),e.max=X$(e.max,t,n,l,a)}function eF(e,t,[n,r,a],s,o){g0e(e,t[n],t[r],t[a],t.scale,s,o)}const v0e=["x","scaleX","originX"],y0e=["y","scaleY","originY"];function tF(e,t,n,r){eF(e.x,t,v0e,n?n.x:void 0,r?r.x:void 0),eF(e.y,t,y0e,n?n.y:void 0,r?r.y:void 0)}function nF(e){return e.translate===0&&e.scale===1}function FW(e){return nF(e.x)&&nF(e.y)}function rF(e,t){return e.min===t.min&&e.max===t.max}function x0e(e,t){return rF(e.x,t.x)&&rF(e.y,t.y)}function aF(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function BW(e,t){return aF(e.x,t.x)&&aF(e.y,t.y)}function sF(e){return Vs(e.x)/Vs(e.y)}function iF(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}let b0e=class{constructor(){this.members=[]}add(t){KD(this.members,t),t.scheduleRender()}remove(t){if(GD(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function w0e(e,t,n){let r="";const a=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||s||o)&&(r=`translate3d(${a}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Iu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},jg=typeof window<"u"&&window.MotionDebug!==void 0,bk=["","X","Y","Z"],S0e={visibility:"hidden"},oF=1e3;let C0e=0;function wk(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function VW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Y9(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Bn,!(a||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&VW(r)}function zW({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=C0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,jg&&(Iu.totalNodes=Iu.resolvedTargetDeltas=Iu.recalculatedProjection=0),this.nodes.forEach(k0e),this.nodes.forEach(_0e),this.nodes.forEach(D0e),this.nodes.forEach(A0e),jg&&window.MotionDebug.record(Iu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new u0e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new WD),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=l0e(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=d0e(h,250),Bb.hasAnimatedSinceResize&&(Bb.hasAnimatedSinceResize=!1,this.nodes.forEach(cF))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||L0e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!BW(this.targetLayout,g)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...BD(v,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||cF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R0e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lF);return}this.isUpdating||this.nodes.forEach(E0e),this.isUpdating=!1,this.nodes.forEach(T0e),this.nodes.forEach(j0e),this.nodes.forEach(N0e),this.clearAllSnapshots();const l=Po.now();pa.delta=Tl(0,1e3/60,l-pa.timestamp),pa.timestamp=l,pa.isProcessing=!0,dk.update.process(pa),dk.preRender.process(pa),dk.render.process(pa),pa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,TD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P0e),this.sharedNodes.forEach(M0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!FW(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Mu(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),$0e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return yr();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(F0e))){const{scroll:d}=this.root;d&&(yh(c.x,d.offset.x),yh(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=yr();if(Qs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Qs(c,o),yh(c.x,f.offset.x),yh(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=yr();Qs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mu(d.latestValues)&&xh(c,d.latestValues)}return Mu(this.latestValues)&&xh(c,this.latestValues),c}removeTransform(o){const l=yr();Qs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mu(u.latestValues))continue;SE(u.latestValues)&&u.updateSnapshot();const d=yr(),f=u.measurePageBox();Qs(d,f),tF(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mu(this.latestValues)&&tF(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=pa.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yr(),this.relativeTargetOrigin=yr(),Xg(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yr(),this.targetWithTransforms=yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),RW(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yr(),this.relativeTargetOrigin=yr(),Xg(this.relativeTargetOrigin,this.target,m.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}jg&&Iu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||SE(this.parent.latestValues)||DW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===pa.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Qs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Zxe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=yr());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(J$(this.prevProjectionDelta.x,this.projectionDelta.x),J$(this.prevProjectionDelta.y,this.projectionDelta.y)),Jg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!iF(this.projectionDelta.x,this.prevProjectionDelta.x)||!iF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),jg&&Iu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vh(),this.projectionDelta=vh(),this.projectionDeltaWithTransform=vh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=vh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=yr(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,b=this.getStack(),x=!b||b.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(O0e));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;uF(f.x,o.x,C),uF(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),I0e(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&x0e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=yr()),Qs(w,this.relativeTarget)),v&&(this.animationValues=d,h0e(d,u,this.latestValues,C,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bn.update(()=>{Bb.hasAnimatedSinceResize=!0,this.currentAnimation=o0e(0,oF,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&UW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||yr();const f=Vs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Vs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Qs(l,c),xh(l,d),Jg(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new b0e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&wk("z",o,u,this.animationValues);for(let d=0;d<bk.length;d++)wk(`rotate${bk[d]}`,o,u,this.animationValues),wk(`skew${bk[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return S0e;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$b(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=$b(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mu(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=w0e(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Qw){if(h[v]===void 0)continue;const{correct:b,applyTo:x}=Qw[v],y=u.transform==="none"?h[v]:b(h[v],f);if(x){const w=x.length;for(let S=0;S<w;S++)u[x[S]]=y}else u[v]=y}return this.options.layoutId&&(u.pointerEvents=f===this?$b(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(lF),this.root.sharedNodes.clear()}}}function j0e(e){e.updateLayout()}function N0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?ei(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Vs(h);h.min=r[f].min,h.max=h.min+m}):UW(s,n.layoutBox,r)&&ei(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Vs(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=vh();Jg(l,r,n.layoutBox);const c=vh();o?Jg(c,e.applyTransform(a,!0),n.measuredBox):Jg(c,r,n.layoutBox);const u=!FW(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=yr();Xg(g,n.layoutBox,h.layoutBox);const v=yr();Xg(v,r,m.layoutBox),BW(g,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function k0e(e){jg&&Iu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function A0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function P0e(e){e.clearSnapshot()}function lF(e){e.clearMeasurements()}function E0e(e){e.isLayoutDirty=!1}function T0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _0e(e){e.resolveTargetDelta()}function D0e(e){e.calcProjection()}function R0e(e){e.resetSkewAndRotation()}function M0e(e){e.removeLeadSnapshot()}function uF(e,t,n){e.translate=nr(t.translate,0,n),e.scale=nr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function dF(e,t,n,r){e.min=nr(t.min,n.min,r),e.max=nr(t.max,n.max,r)}function I0e(e,t,n,r){dF(e.x,t.x,n.x,r),dF(e.y,t.y,n.y,r)}function O0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const L0e={duration:.45,ease:[.4,0,.1,1]},fF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hF=fF("applewebkit/")&&!fF("chrome/")?Math.round:Ls;function mF(e){e.min=hF(e.min),e.max=hF(e.max)}function $0e(e){mF(e.x),mF(e.y)}function UW(e,t,n){return e==="position"||e==="preserve-aspect"&&!Vxe(sF(t),sF(n),.2)}function F0e(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const B0e=zW({attachResizeListener:(e,t)=>zv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sk={current:void 0},KW=zW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sk.current){const e=new B0e({});e.mount(window),e.setOptions({layoutScroll:!0}),Sk.current=e}return Sk.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),V0e={pan:{Feature:r0e},drag:{Feature:n0e,ProjectionNode:KW,MeasureLayout:OW}};function pF(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,s=r[a];s&&Bn.postRender(()=>s(t,Wy(t)))}let z0e=class extends cu{mount(){const{current:t}=this.node;t&&(this.unmount=Vve(t,n=>(pF(this.node,n,"Start"),r=>pF(this.node,r,"End"))))}unmount(){}},U0e=class extends cu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gy(zv(this.node.current,"focus",()=>this.onFocus()),zv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function gF(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),s=r[a];s&&Bn.postRender(()=>s(t,Wy(t)))}let K0e=class extends cu{mount(){const{current:t}=this.node;t&&(this.unmount=Gve(t,n=>(gF(this.node,n,"Start"),(r,{success:a})=>gF(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const jE=new WeakMap,Ck=new WeakMap,G0e=e=>{const t=jE.get(e.target);t&&t(e)},W0e=e=>{e.forEach(G0e)};function q0e({root:e,...t}){const n=e||document;Ck.has(n)||Ck.set(n,{});const r=Ck.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(W0e,{root:e,...t})),r[a]}function H0e(e,t,n){const r=q0e(t);return jE.set(e,n),r.observe(e),()=>{jE.delete(e),r.unobserve(e)}}const Y0e={some:0,all:1};let Q0e=class extends cu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Y0e[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return H0e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Z0e(t,n))&&this.startObserver()}unmount(){}};function Z0e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const J0e={inView:{Feature:Q0e},tap:{Feature:K0e},focus:{Feature:U0e},hover:{Feature:z0e}},X0e={layout:{ProjectionNode:KW,MeasureLayout:OW}},NE={current:null},GW={current:!1};function ebe(){if(GW.current=!0,!!ND)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>NE.current=e.matches;e.addListener(t),t()}else NE.current=!1}const tbe=[...gW,Ea,Yc],nbe=e=>tbe.find(pW(e)),vF=new WeakMap;function rbe(e,t,n){for(const r in t){const a=t[r],s=n[r];if(Ra(a))e.addValue(r,a);else if(Ra(s))e.addValue(r,Bv(a,{owner:e}));else if(s!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,Bv(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const yF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let abe=class{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=JD,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Po.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Bn.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=mC(n),this.isVariantNode=j9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&Ra(g)&&g.set(c[m],!1)}}mount(t){this.current=t,vF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),GW.current||ebe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vF.delete(this.current),this.projection&&this.projection.unmount(),Hc(this.notifyUpdate),Hc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=sf.has(t),a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Bn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in um){const n=um[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yF.length;r++){const a=yF[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=t[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=rbe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Bv(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(hW(a)||aW(a))?a=parseFloat(a):!nbe(a)&&Yc.test(n)&&(a=uW(t,n)),this.setBaseTarget(t,Ra(a)?a.get():a)),Ra(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=DD(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ra(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new WD),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}},WW=class extends abe{constructor(){super(...arguments),this.KeyframeResolver=vW}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ra(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function sbe(e){return window.getComputedStyle(e)}let ibe=class extends WW{constructor(){super(...arguments),this.type="html",this.renderInstance=R9}readValueFromInstance(t,n){if(sf.has(n)){const r=ZD(n);return r&&r.default||0}else{const r=sbe(t),a=(T9(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return MW(t,n)}build(t,n,r){ID(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return FD(t,n,r)}},obe=class extends WW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(sf.has(n)){const r=ZD(n);return r&&r.default||0}return n=M9.has(n)?n:ED(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return L9(t,n,r)}build(t,n,r){OD(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){I9(t,n,r,a)}mount(t){this.isSVGTag=$D(t.tagName),super.mount(t)}};const lbe=(e,t)=>_D(e)?new obe(t):new ibe(t,{allowProjection:e!==p.Fragment}),cbe=Mve({...Dxe,...J0e,...V0e,...X0e},lbe),ube=Yge(cbe),n1=dC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),Z=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},s)=>{const o=typeof window<"u"&&window.matchMedia("(hover: hover)").matches;return r?i.jsx(zy,{"data-slot":"button",className:Re(n1({variant:t,size:n}),e),ref:s,...a}):i.jsx(ube.button,{"data-slot":"button",className:Re(n1({variant:t,size:n}),e),ref:s,whileHover:o?{scale:1.02}:void 0,whileTap:{scale:.95},...a})});Z.displayName="Button";function Qt({className:e,type:t,...n}){return i.jsx("input",{type:t,"data-slot":"input",className:Re("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var dbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fbe=dbe.reduce((e,t)=>{const n=Vy(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),hbe="Separator",xF="horizontal",mbe=["horizontal","vertical"],qW=p.forwardRef((e,t)=>{const{decorative:n,orientation:r=xF,...a}=e,s=pbe(r)?r:xF,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(fbe.div,{"data-orientation":s,...l,...a,ref:t})});qW.displayName=hbe;function pbe(e){return mbe.includes(e)}var gbe=qW;function Or({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return i.jsx(gbe,{"data-slot":"separator",decorative:n,orientation:t,className:Re("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function vbe({className:e,onClick:t,...n}){const{toggleSidebar:r}=af();return i.jsxs(Z,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Re("size-7",e),onClick:a=>{t==null||t(a),r()},...n,children:[i.jsx(hfe,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function ybe({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Re("flex flex-col gap-2 p-2",e),...t})}function xbe({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Re("flex flex-col gap-2 p-2",e),...t})}function bbe({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Re("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function wbe({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Re("relative flex w-full min-w-0 flex-col p-2",e),...t})}function Sbe({className:e,asChild:t=!1,...n}){const r=t?zy:"div";return i.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Re("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-base font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})}function ta({className:e,...t}){return i.jsx("div",{"data-slot":"skeleton",className:Re("bg-accent animate-pulse rounded-md",e),...t})}function nR({className:e,...t}){return i.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Re("flex w-full min-w-0 flex-col gap-1",e),...t})}function bh({className:e,...t}){return i.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Re("group/menu-item relative",e),...t})}const Cbe=dC("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-base outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-base",sm:"h-7 text-xs",lg:"h-12 text-base group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}}),ld=p.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:a,className:s,...o},l)=>{const c=e?zy:"button",{isMobile:u,state:d}=af(),f=i.jsx(c,{ref:l,"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:Re(Cbe({variant:n,size:r}),s),...o});return a?(typeof a=="string"&&(a={children:a}),i.jsxs(m9,{children:[i.jsx(p9,{asChild:!0,children:f}),i.jsx(g9,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):f});ld.displayName="SidebarMenuButton";function jbe({className:e,...t}){return i.jsx("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:Re("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t})}function Nbe({className:e,...t}){return i.jsx("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:Re("group/menu-sub-item relative",e),...t})}function kbe({asChild:e=!1,size:t="md",isActive:n=!1,className:r,...a}){const s=e?zy:"a";return i.jsx(s,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:Re("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-base","group-data-[collapsible=icon]:hidden",r),...a})}function bF(e){const t=Abe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(Ebe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function Abe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=_be(a),l=Tbe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pbe=Symbol("radix.slottable");function Ebe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Pbe}function Tbe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function _be(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rR(e){const t=e+"CollectionProvider",[n,r]=bs(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:x}=v,y=qe.useRef(null),w=qe.useRef(new Map).current;return i.jsx(a,{scope:b,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=bF(l),u=qe.forwardRef((v,b)=>{const{scope:x,children:y}=v,w=s(l,x),S=Vt(b,w.collectionRef);return i.jsx(c,{ref:S,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=bF(d),m=qe.forwardRef((v,b)=>{const{scope:x,children:y,...w}=v,S=qe.useRef(null),C=Vt(b,S),k=s(d,x);return qe.useEffect(()=>(k.itemMap.set(S,{ref:S,...w}),()=>void k.itemMap.delete(S))),i.jsx(h,{[f]:"",ref:C,children:y})});m.displayName=d;function g(v){const b=s(e+"CollectionConsumer",v);return qe.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,N)=>w.indexOf(k.ref.current)-w.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,r]}var Dbe=p.createContext(void 0);function qy(e){const t=p.useContext(Dbe);return e||t||"ltr"}var jk=0;function vC(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wF()),document.body.insertAdjacentElement("beforeend",e[1]??wF()),jk++,()=>{jk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jk--}},[])}function wF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nk="focusScope.autoFocusOnMount",kk="focusScope.autoFocusOnUnmount",SF={bubbles:!1,cancelable:!0},Rbe="FocusScope",Hy=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=p.useState(null),u=sa(a),d=sa(s),f=p.useRef(null),h=Vt(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(w){if(m.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:dc(f.current,{select:!0})},b=function(w){if(m.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||dc(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&dc(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),y.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){jF.add(m);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(Nk,SF);l.addEventListener(Nk,u),l.dispatchEvent(x),x.defaultPrevented||(Mbe(Fbe(HW(l)),{select:!0}),document.activeElement===v&&dc(l))}return()=>{l.removeEventListener(Nk,u),setTimeout(()=>{const x=new CustomEvent(kk,SF);l.addEventListener(kk,d),l.dispatchEvent(x),x.defaultPrevented||dc(v??document.body,{select:!0}),l.removeEventListener(kk,d),jF.remove(m)},0)}}},[l,u,d,m]);const g=p.useCallback(v=>{if(!n&&!r||m.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const y=v.currentTarget,[w,S]=Ibe(y);w&&S?!v.shiftKey&&x===S?(v.preventDefault(),n&&dc(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),n&&dc(S,{select:!0})):x===y&&v.preventDefault()}},[n,r,m.paused]);return i.jsx(bt.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Hy.displayName=Rbe;function Mbe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(dc(r,{select:t}),document.activeElement!==n)return}function Ibe(e){const t=HW(e),n=CF(t,e),r=CF(t.reverse(),e);return[n,r]}function HW(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function CF(e,t){for(const n of e)if(!Obe(n,{upTo:t}))return n}function Obe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Lbe(e){return e instanceof HTMLInputElement&&"select"in e}function dc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Lbe(e)&&t&&e.select()}}var jF=$be();function $be(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=NF(e,t),e.unshift(t)},remove(t){var n;e=NF(e,t),(n=e[0])==null||n.resume()}}}function NF(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Fbe(e){return e.filter(t=>t.tagName!=="A")}var Ak="rovingFocusGroup.onEntryFocus",Bbe={bubbles:!1,cancelable:!0},Yy="RovingFocusGroup",[kE,YW,Vbe]=rR(Yy),[zbe,yC]=bs(Yy,[Vbe]),[Ube,Kbe]=zbe(Yy),QW=p.forwardRef((e,t)=>i.jsx(kE.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(kE.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Gbe,{...e,ref:t})})}));QW.displayName=Yy;var Gbe=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Vt(t,h),g=qy(s),[v,b]=Mo({prop:o,defaultProp:l??null,onChange:c,caller:Yy}),[x,y]=p.useState(!1),w=sa(u),S=YW(n),C=p.useRef(!1),[k,N]=p.useState(0);return p.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(Ak,w),()=>P.removeEventListener(Ak,w)},[w]),i.jsx(Ube,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:v,onItemFocus:p.useCallback(P=>b(P),[b]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(P=>P+1),[]),onFocusableItemRemove:p.useCallback(()=>N(P=>P-1),[]),children:i.jsx(bt.div,{tabIndex:x||k===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:rt(e.onMouseDown,()=>{C.current=!0}),onFocus:rt(e.onFocus,P=>{const E=!C.current;if(P.target===P.currentTarget&&E&&!x){const R=new CustomEvent(Ak,Bbe);if(P.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=S().filter(z=>z.focusable),K=O.find(z=>z.active),J=O.find(z=>z.id===v),G=[K,J,...O].filter(Boolean).map(z=>z.ref.current);XW(G,d)}}C.current=!1}),onBlur:rt(e.onBlur,()=>y(!1))})})}),ZW="RovingFocusGroupItem",JW=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=Vr(),u=s||c,d=Kbe(ZW,n),f=d.currentTabStopId===u,h=YW(n),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),i.jsx(kE.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:i.jsx(bt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:rt(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:rt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:rt(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=Hbe(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const S=w.indexOf(b.currentTarget);w=d.loop?Ybe(w,S+1):w.slice(S+1)}setTimeout(()=>XW(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});JW.displayName=ZW;var Wbe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qbe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Hbe(e,t,n){const r=qbe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Wbe[r]}function XW(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ybe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var eq=QW,tq=JW;function Qbe(e){const t=Zbe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(Xbe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function Zbe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=twe(a),l=ewe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jbe=Symbol("radix.slottable");function Xbe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jbe}function ewe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function twe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var nwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vf=new WeakMap,R0=new WeakMap,M0={},Pk=0,nq=function(e){return e&&(e.host||nq(e.parentNode))},rwe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=nq(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},awe=function(e,t,n,r){var a=rwe(t,Array.isArray(e)?e:[e]);M0[n]||(M0[n]=new WeakMap);var s=M0[n],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),g=m!==null&&m!=="false",v=(Vf.get(h)||0)+1,b=(s.get(h)||0)+1;Vf.set(h,v),s.set(h,b),o.push(h),v===1&&g&&R0.set(h,!0),b===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Pk++,function(){o.forEach(function(f){var h=Vf.get(f)-1,m=s.get(f)-1;Vf.set(f,h),s.set(f,m),h||(R0.has(f)||f.removeAttribute(r),R0.delete(f)),m||f.removeAttribute(n)}),Pk--,Pk||(Vf=new WeakMap,Vf=new WeakMap,R0=new WeakMap,M0={})}},xC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=nwe(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),awe(r,a,n,"aria-hidden")):function(){return null}},vo=function(){return vo=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},vo.apply(this,arguments)};function rq(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function swe(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Vb="right-scroll-bar-position",zb="width-before-scroll-bar",iwe="with-scroll-bars-hidden",owe="--removed-body-scroll-bar-size";function Ek(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lwe(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var cwe=typeof window<"u"?p.useLayoutEffect:p.useEffect,kF=new WeakMap;function uwe(e,t){var n=lwe(null,function(r){return e.forEach(function(a){return Ek(a,r)})});return cwe(function(){var r=kF.get(n);if(r){var a=new Set(r),s=new Set(e),o=n.current;a.forEach(function(l){s.has(l)||Ek(l,null)}),s.forEach(function(l){a.has(l)||Ek(l,o)})}kF.set(n,e)},[e]),n}function dwe(e){return e}function fwe(e,t){t===void 0&&(t=dwe);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function hwe(e){e===void 0&&(e={});var t=fwe(null);return t.options=vo({async:!0,ssr:!1},e),t}var aq=function(e){var t=e.sideCar,n=rq(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,vo({},n))};aq.isSideCarExport=!0;function mwe(e,t){return e.useMedium(t),aq}var sq=hwe(),Tk=function(){},bC=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Tk,onWheelCapture:Tk,onTouchMoveCapture:Tk}),a=r[0],s=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,v=e.inert,b=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,S=rq(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,k=uwe([n,t]),N=vo(vo({},S),a);return p.createElement(p.Fragment,null,d&&p.createElement(C,{sideCar:sq,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:w}),o?p.cloneElement(p.Children.only(l),vo(vo({},N),{ref:k})):p.createElement(y,vo({},N,{className:c,ref:k}),l))});bC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bC.classNames={fullWidth:zb,zeroRight:Vb};var pwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gwe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=pwe();return t&&e.setAttribute("nonce",t),e}function vwe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ywe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xwe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=gwe())&&(vwe(t,n),ywe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bwe=function(){var e=xwe();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},iq=function(){var e=bwe(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},wwe={left:0,top:0,right:0,gap:0},_k=function(e){return parseInt(e||"",10)||0},Swe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[_k(n),_k(r),_k(a)]},Cwe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wwe;var t=Swe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},jwe=iq(),zh="data-scroll-locked",Nwe=function(e,t,n,r){var a=e.left,s=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(iwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(zh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vb,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(zb,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Vb," .").concat(Vb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zb," .").concat(zb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zh,`] {
    `).concat(owe,": ").concat(l,`px;
  }
`)},AF=function(){var e=parseInt(document.body.getAttribute(zh)||"0",10);return isFinite(e)?e:0},kwe=function(){p.useEffect(function(){return document.body.setAttribute(zh,(AF()+1).toString()),function(){var e=AF()-1;e<=0?document.body.removeAttribute(zh):document.body.setAttribute(zh,e.toString())}},[])},Awe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;kwe();var s=p.useMemo(function(){return Cwe(a)},[a]);return p.createElement(jwe,{styles:Nwe(s,!t,a,n?"":"!important")})},AE=!1;if(typeof window<"u")try{var I0=Object.defineProperty({},"passive",{get:function(){return AE=!0,!0}});window.addEventListener("test",I0,I0),window.removeEventListener("test",I0,I0)}catch{AE=!1}var zf=AE?{passive:!1}:!1,Pwe=function(e){return e.tagName==="TEXTAREA"},oq=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Pwe(e)&&n[t]==="visible")},Ewe=function(e){return oq(e,"overflowY")},Twe=function(e){return oq(e,"overflowX")},PF=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=lq(e,r);if(a){var s=cq(e,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_we=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Dwe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},lq=function(e,t){return e==="v"?Ewe(t):Twe(t)},cq=function(e,t){return e==="v"?_we(t):Dwe(t)},Rwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Mwe=function(e,t,n,r,a){var s=Rwe(e,window.getComputedStyle(t).direction),o=s*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=cq(e,l),g=m[0],v=m[1],b=m[2],x=v-b-s*g;(g||x)&&lq(e,l)&&(f+=x,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},O0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},EF=function(e){return[e.deltaX,e.deltaY]},TF=function(e){return e&&"current"in e?e.current:e},Iwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Owe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Lwe=0,Uf=[];function $we(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),a=p.useState(Lwe++)[0],s=p.useState(iq)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=swe([e.lockRef.current],(e.shards||[]).map(TF),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=O0(v),y=n.current,w="deltaX"in v?v.deltaX:y[0]-x[0],S="deltaY"in v?v.deltaY:y[1]-x[1],C,k=v.target,N=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in v&&N==="h"&&k.type==="range")return!1;var P=window.getSelection(),E=P&&P.anchorNode,R=E?E===k||E.contains(k):!1;if(R)return!1;var O=PF(N,k);if(!O)return!0;if(O?C=N:(C=N==="v"?"h":"v",O=PF(N,k)),!O)return!1;if(!r.current&&"changedTouches"in v&&(w||S)&&(r.current=C),!C)return!0;var K=r.current||C;return Mwe(K,b,v,K==="h"?w:S)},[]),c=p.useCallback(function(v){var b=v;if(!(!Uf.length||Uf[Uf.length-1]!==s)){var x="deltaY"in b?EF(b):O0(b),y=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&Iwe(C.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(TF).filter(Boolean).filter(function(C){return C.contains(b.target)}),S=w.length>0?l(b,w[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(v,b,x,y){var w={name:v,delta:b,target:x,should:y,shadowParent:Fwe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=p.useCallback(function(v){n.current=O0(v),r.current=void 0},[]),f=p.useCallback(function(v){u(v.type,EF(v),v.target,l(v,e.lockRef.current))},[]),h=p.useCallback(function(v){u(v.type,O0(v),v.target,l(v,e.lockRef.current))},[]);p.useEffect(function(){return Uf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,zf),document.addEventListener("touchmove",c,zf),document.addEventListener("touchstart",d,zf),function(){Uf=Uf.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,zf),document.removeEventListener("touchmove",c,zf),document.removeEventListener("touchstart",d,zf)}},[]);var m=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(s,{styles:Owe(a)}):null,m?p.createElement(Awe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Fwe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Bwe=mwe(sq,$we);var Qy=p.forwardRef(function(e,t){return p.createElement(bC,vo({},e,{ref:t,sideCar:Bwe}))});Qy.classNames=bC.classNames;var PE=["Enter"," "],Vwe=["ArrowDown","PageUp","Home"],uq=["ArrowUp","PageDown","End"],zwe=[...Vwe,...uq],Uwe={ltr:[...PE,"ArrowRight"],rtl:[...PE,"ArrowLeft"]},Kwe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zy="Menu",[Uv,Gwe,Wwe]=rR(Zy),[of,dq]=bs(Zy,[Wwe,lu,yC]),wC=lu(),fq=yC(),[qwe,lf]=of(Zy),[Hwe,Jy]=of(Zy),hq=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:s,modal:o=!0}=e,l=wC(t),[c,u]=p.useState(null),d=p.useRef(!1),f=sa(s),h=qy(a);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(iC,{...l,children:i.jsx(qwe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(Hwe,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};hq.displayName=Zy;var Ywe="MenuAnchor",aR=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=wC(n);return i.jsx(Fy,{...a,...r,ref:t})});aR.displayName=Ywe;var sR="MenuPortal",[Qwe,mq]=of(sR,{forceMount:void 0}),pq=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,s=lf(sR,t);return i.jsx(Qwe,{scope:t,forceMount:n,children:i.jsx(Ur,{present:n||s.open,children:i.jsx(Km,{asChild:!0,container:a,children:r})})})};pq.displayName=sR;var di="MenuContent",[Zwe,iR]=of(di),gq=p.forwardRef((e,t)=>{const n=mq(di,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=lf(di,e.__scopeMenu),o=Jy(di,e.__scopeMenu);return i.jsx(Uv.Provider,{scope:e.__scopeMenu,children:i.jsx(Ur,{present:r||s.open,children:i.jsx(Uv.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(Jwe,{...a,ref:t}):i.jsx(Xwe,{...a,ref:t})})})})}),Jwe=p.forwardRef((e,t)=>{const n=lf(di,e.__scopeMenu),r=p.useRef(null),a=Vt(t,r);return p.useEffect(()=>{const s=r.current;if(s)return xC(s)},[]),i.jsx(oR,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:rt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Xwe=p.forwardRef((e,t)=>{const n=lf(di,e.__scopeMenu);return i.jsx(oR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),e1e=Qbe("MenuContent.ScrollLock"),oR=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...v}=e,b=lf(di,n),x=Jy(di,n),y=wC(n),w=fq(n),S=Gwe(n),[C,k]=p.useState(null),N=p.useRef(null),P=Vt(t,N,b.onContentChange),E=p.useRef(0),R=p.useRef(""),O=p.useRef(0),K=p.useRef(null),J=p.useRef("right"),Q=p.useRef(0),G=g?Qy:p.Fragment,z=g?{as:e1e,allowPinchZoom:!0}:void 0,U=$=>{var me,Ve;const B=R.current+$,te=S().filter(ne=>!ne.disabled),q=document.activeElement,ae=(me=te.find(ne=>ne.ref.current===q))==null?void 0:me.textValue,he=te.map(ne=>ne.textValue),je=f1e(he,B,ae),Ee=(Ve=te.find(ne=>ne.textValue===je))==null?void 0:Ve.ref.current;(function ne(ke){R.current=ke,window.clearTimeout(E.current),ke!==""&&(E.current=window.setTimeout(()=>ne(""),1e3))})(B),Ee&&setTimeout(()=>Ee.focus())};p.useEffect(()=>()=>window.clearTimeout(E.current),[]),vC();const M=p.useCallback($=>{var te,q;return J.current===((te=K.current)==null?void 0:te.side)&&m1e($,(q=K.current)==null?void 0:q.area)},[]);return i.jsx(Zwe,{scope:n,searchRef:R,onItemEnter:p.useCallback($=>{M($)&&$.preventDefault()},[M]),onItemLeave:p.useCallback($=>{var B;M($)||((B=N.current)==null||B.focus(),k(null))},[M]),onTriggerLeave:p.useCallback($=>{M($)&&$.preventDefault()},[M]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback($=>{K.current=$},[]),children:i.jsx(G,{...z,children:i.jsx(Hy,{asChild:!0,trapped:a,onMountAutoFocus:rt(s,$=>{var B;$.preventDefault(),(B=N.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Vm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(eq,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:k,onEntryFocus:rt(c,$=>{x.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(oC,{role:"menu","aria-orientation":"vertical","data-state":Dq(b.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:P,style:{outline:"none",...v.style},onKeyDown:rt(v.onKeyDown,$=>{const te=$.target.closest("[data-radix-menu-content]")===$.currentTarget,q=$.ctrlKey||$.altKey||$.metaKey,ae=$.key.length===1;te&&($.key==="Tab"&&$.preventDefault(),!q&&ae&&U($.key));const he=N.current;if($.target!==he||!zwe.includes($.key))return;$.preventDefault();const Ee=S().filter(me=>!me.disabled).map(me=>me.ref.current);uq.includes($.key)&&Ee.reverse(),u1e(Ee)}),onBlur:rt(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(E.current),R.current="")}),onPointerMove:rt(e.onPointerMove,Kv($=>{const B=$.target,te=Q.current!==$.clientX;if($.currentTarget.contains(B)&&te){const q=$.clientX>Q.current?"right":"left";J.current=q,Q.current=$.clientX}}))})})})})})})});gq.displayName=di;var t1e="MenuGroup",lR=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(bt.div,{role:"group",...r,ref:t})});lR.displayName=t1e;var n1e="MenuLabel",vq=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(bt.div,{...r,ref:t})});vq.displayName=n1e;var r1="MenuItem",_F="menu.itemSelect",SC=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,s=p.useRef(null),o=Jy(r1,e.__scopeMenu),l=iR(r1,e.__scopeMenu),c=Vt(t,s),u=p.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(_F,{bubbles:!0,cancelable:!0});f.addEventListener(_F,m=>r==null?void 0:r(m),{once:!0}),wG(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(yq,{...a,ref:c,disabled:n,onClick:rt(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:rt(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:rt(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||PE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});SC.displayName=r1;var yq=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...s}=e,o=iR(r1,n),l=fq(n),c=p.useRef(null),u=Vt(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),i.jsx(Uv.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:i.jsx(tq,{asChild:!0,...l,focusable:!r,children:i.jsx(bt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:rt(e.onPointerMove,Kv(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:rt(e.onPointerLeave,Kv(g=>o.onItemLeave(g))),onFocus:rt(e.onFocus,()=>f(!0)),onBlur:rt(e.onBlur,()=>f(!1))})})})}),r1e="MenuCheckboxItem",xq=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return i.jsx(jq,{scope:e.__scopeMenu,checked:n,children:i.jsx(SC,{role:"menuitemcheckbox","aria-checked":a1(n)?"mixed":n,...a,ref:t,"data-state":uR(n),onSelect:rt(a.onSelect,()=>r==null?void 0:r(a1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});xq.displayName=r1e;var bq="MenuRadioGroup",[a1e,s1e]=of(bq,{value:void 0,onValueChange:()=>{}}),wq=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,s=sa(r);return i.jsx(a1e,{scope:e.__scopeMenu,value:n,onValueChange:s,children:i.jsx(lR,{...a,ref:t})})});wq.displayName=bq;var Sq="MenuRadioItem",Cq=p.forwardRef((e,t)=>{const{value:n,...r}=e,a=s1e(Sq,e.__scopeMenu),s=n===a.value;return i.jsx(jq,{scope:e.__scopeMenu,checked:s,children:i.jsx(SC,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":uR(s),onSelect:rt(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});Cq.displayName=Sq;var cR="MenuItemIndicator",[jq,i1e]=of(cR,{checked:!1}),Nq=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,s=i1e(cR,n);return i.jsx(Ur,{present:r||a1(s.checked)||s.checked===!0,children:i.jsx(bt.span,{...a,ref:t,"data-state":uR(s.checked)})})});Nq.displayName=cR;var o1e="MenuSeparator",kq=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(bt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});kq.displayName=o1e;var l1e="MenuArrow",Aq=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=wC(n);return i.jsx(lC,{...a,...r,ref:t})});Aq.displayName=l1e;var c1e="MenuSub",[vnt,Pq]=of(c1e),Ng="MenuSubTrigger",Eq=p.forwardRef((e,t)=>{const n=lf(Ng,e.__scopeMenu),r=Jy(Ng,e.__scopeMenu),a=Pq(Ng,e.__scopeMenu),s=iR(Ng,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(aR,{asChild:!0,...u,children:i.jsx(yq,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Dq(n.open),...e,ref:qa(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:rt(e.onPointerMove,Kv(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:rt(e.onPointerLeave,Kv(f=>{var m,g;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(g=n.content)==null?void 0:g.dataset.side,b=v==="right",x=b?-5:5,y=h[b?"left":"right"],w=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:rt(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||Uwe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});Eq.displayName=Ng;var Tq="MenuSubContent",_q=p.forwardRef((e,t)=>{const n=mq(di,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=lf(di,e.__scopeMenu),o=Jy(di,e.__scopeMenu),l=Pq(Tq,e.__scopeMenu),c=p.useRef(null),u=Vt(t,c);return i.jsx(Uv.Provider,{scope:e.__scopeMenu,children:i.jsx(Ur,{present:r||s.open,children:i.jsx(Uv.Slot,{scope:e.__scopeMenu,children:i.jsx(oR,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:rt(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:rt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:rt(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Kwe[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});_q.displayName=Tq;function Dq(e){return e?"open":"closed"}function a1(e){return e==="indeterminate"}function uR(e){return a1(e)?"indeterminate":e?"checked":"unchecked"}function u1e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function d1e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function f1e(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=d1e(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function h1e(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function m1e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return h1e(n,t)}function Kv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var p1e=hq,g1e=aR,v1e=pq,y1e=gq,x1e=lR,b1e=vq,w1e=SC,S1e=xq,C1e=wq,j1e=Cq,N1e=Nq,k1e=kq,A1e=Aq,P1e=Eq,E1e=_q,CC="DropdownMenu",[T1e]=bs(CC,[dq]),es=dq(),[_1e,Rq]=T1e(CC),Mq=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=es(t),u=p.useRef(null),[d,f]=Mo({prop:a,defaultProp:s??!1,onChange:o,caller:CC});return i.jsx(_1e,{scope:t,triggerId:Vr(),triggerRef:u,contentId:Vr(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(p1e,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Mq.displayName=CC;var Iq="DropdownMenuTrigger",Oq=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,s=Rq(Iq,n),o=es(n);return i.jsx(g1e,{asChild:!0,...o,children:i.jsx(bt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:qa(t,s.triggerRef),onPointerDown:rt(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:rt(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Oq.displayName=Iq;var D1e="DropdownMenuPortal",Lq=e=>{const{__scopeDropdownMenu:t,...n}=e,r=es(t);return i.jsx(v1e,{...r,...n})};Lq.displayName=D1e;var $q="DropdownMenuContent",Fq=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rq($q,n),s=es(n),o=p.useRef(!1);return i.jsx(y1e,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...r,ref:t,onCloseAutoFocus:rt(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:rt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fq.displayName=$q;var R1e="DropdownMenuGroup",M1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(x1e,{...a,...r,ref:t})});M1e.displayName=R1e;var I1e="DropdownMenuLabel",O1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(b1e,{...a,...r,ref:t})});O1e.displayName=I1e;var L1e="DropdownMenuItem",Bq=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(w1e,{...a,...r,ref:t})});Bq.displayName=L1e;var $1e="DropdownMenuCheckboxItem",F1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(S1e,{...a,...r,ref:t})});F1e.displayName=$1e;var B1e="DropdownMenuRadioGroup",V1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(C1e,{...a,...r,ref:t})});V1e.displayName=B1e;var z1e="DropdownMenuRadioItem",U1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(j1e,{...a,...r,ref:t})});U1e.displayName=z1e;var K1e="DropdownMenuItemIndicator",G1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(N1e,{...a,...r,ref:t})});G1e.displayName=K1e;var W1e="DropdownMenuSeparator",Vq=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(k1e,{...a,...r,ref:t})});Vq.displayName=W1e;var q1e="DropdownMenuArrow",H1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(A1e,{...a,...r,ref:t})});H1e.displayName=q1e;var Y1e="DropdownMenuSubTrigger",Q1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(P1e,{...a,...r,ref:t})});Q1e.displayName=Y1e;var Z1e="DropdownMenuSubContent",J1e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=es(n);return i.jsx(E1e,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});J1e.displayName=Z1e;var X1e=Mq,eSe=Oq,tSe=Lq,nSe=Fq,rSe=Bq,aSe=Vq;function zq({...e}){return i.jsx(X1e,{"data-slot":"dropdown-menu",...e})}function Uq({...e}){return i.jsx(eSe,{"data-slot":"dropdown-menu-trigger",...e})}function Kq({className:e,sideOffset:t=4,...n}){return i.jsx(tSe,{children:i.jsx(nSe,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Re("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-32 origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function Hu({className:e,inset:t,variant:n="default",...r}){return i.jsx(rSe,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Re("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive! [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 data-inset:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function DF({className:e,...t}){return i.jsx(aSe,{"data-slot":"dropdown-menu-separator",className:Re("bg-border -mx-1 my-1 h-px",e),...t})}function sSe(){const{setTheme:e}=_ue();return i.jsxs(zq,{children:[i.jsx(Uq,{asChild:!0,children:i.jsxs(Z,{variant:"outline",className:"h-12 w-12",children:[i.jsx(Gfe,{className:"h-10 w-10 scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),i.jsx(dfe,{className:"absolute h-10 w-10 scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),i.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),i.jsxs(Kq,{align:"end",children:[i.jsx(Hu,{onClick:()=>e("light"),children:"Light"}),i.jsx(Hu,{onClick:()=>e("dark"),children:"Dark"}),i.jsx(Hu,{onClick:()=>e("system"),children:"System"})]})]})}function EE(e,[t,n]){return Math.min(n,Math.max(t,e))}function iSe(e){const t=oSe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(cSe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function oSe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=dSe(a),l=uSe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lSe=Symbol("radix.slottable");function cSe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lSe}function uSe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function dSe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Gq(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fSe=[" ","Enter","ArrowUp","ArrowDown"],hSe=[" ","Enter"],Dd="Select",[jC,NC,mSe]=rR(Dd),[Hm]=bs(Dd,[mSe,lu]),kC=lu(),[pSe,uu]=Hm(Dd),[gSe,vSe]=Hm(Dd),Wq=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,v=kC(t),[b,x]=p.useState(null),[y,w]=p.useState(null),[S,C]=p.useState(!1),k=qy(u),[N,P]=Mo({prop:r,defaultProp:a??!1,onChange:s,caller:Dd}),[E,R]=Mo({prop:o,defaultProp:l,onChange:c,caller:Dd}),O=p.useRef(null),K=b?g||!!b.closest("form"):!0,[J,Q]=p.useState(new Set),G=Array.from(J).map(z=>z.props.value).join(";");return i.jsx(iC,{...v,children:i.jsxs(pSe,{required:m,scope:t,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:Vr(),value:E,onValueChange:R,open:N,onOpenChange:P,dir:k,triggerPointerDownPosRef:O,disabled:h,children:[i.jsx(jC.Provider,{scope:t,children:i.jsx(gSe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{Q(U=>new Set(U).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{Q(U=>{const M=new Set(U);return M.delete(z),M})},[]),children:n})}),K?i.jsxs(mH,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:z=>R(z.target.value),disabled:h,form:g,children:[E===void 0?i.jsx("option",{value:""}):null,Array.from(J)]},G):null]})})};Wq.displayName=Dd;var qq="SelectTrigger",Hq=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,s=kC(n),o=uu(qq,n),l=o.disabled||r,c=Vt(t,o.onTriggerChange),u=NC(n),d=p.useRef("touch"),[f,h,m]=gH(v=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===o.value),y=vH(b,v,x);y!==void 0&&o.onValueChange(y.value)}),g=v=>{l||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(Fy,{asChild:!0,...s,children:i.jsx(bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pH(o.value)?"":void 0,...a,ref:c,onClick:rt(a.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&g(v)}),onPointerDown:rt(a.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:rt(a.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(b&&v.key===" ")&&fSe.includes(v.key)&&(g(),v.preventDefault())})})})});Hq.displayName=qq;var Yq="SelectValue",Qq=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:s,placeholder:o="",...l}=e,c=uu(Yq,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Vt(t,c.onValueNodeChange);return wr(()=>{u(d)},[u,d]),i.jsx(bt.span,{...l,ref:f,style:{pointerEvents:"none"},children:pH(c.value)?i.jsx(i.Fragment,{children:o}):s})});Qq.displayName=Yq;var ySe="SelectIcon",Zq=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return i.jsx(bt.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});Zq.displayName=ySe;var xSe="SelectPortal",Jq=e=>i.jsx(Km,{asChild:!0,...e});Jq.displayName=xSe;var Rd="SelectContent",Xq=p.forwardRef((e,t)=>{const n=uu(Rd,e.__scopeSelect),[r,a]=p.useState();if(wr(()=>{a(new DocumentFragment)},[]),!n.open){const s=r;return s?Vo.createPortal(i.jsx(eH,{scope:e.__scopeSelect,children:i.jsx(jC.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(tH,{...e,ref:t})});Xq.displayName=Rd;var Ti=10,[eH,du]=Hm(Rd),bSe="SelectContentImpl",wSe=iSe("SelectContent.RemoveScroll"),tH=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:b,...x}=e,y=uu(Rd,n),[w,S]=p.useState(null),[C,k]=p.useState(null),N=Vt(t,me=>S(me)),[P,E]=p.useState(null),[R,O]=p.useState(null),K=NC(n),[J,Q]=p.useState(!1),G=p.useRef(!1);p.useEffect(()=>{if(w)return xC(w)},[w]),vC();const z=p.useCallback(me=>{const[Ve,...ne]=K().map(re=>re.ref.current),[ke]=ne.slice(-1),we=document.activeElement;for(const re of me)if(re===we||(re==null||re.scrollIntoView({block:"nearest"}),re===Ve&&C&&(C.scrollTop=0),re===ke&&C&&(C.scrollTop=C.scrollHeight),re==null||re.focus(),document.activeElement!==we))return},[K,C]),U=p.useCallback(()=>z([P,w]),[z,P,w]);p.useEffect(()=>{J&&U()},[J,U]);const{onOpenChange:M,triggerPointerDownPosRef:$}=y;p.useEffect(()=>{if(w){let me={x:0,y:0};const Ve=ke=>{var we,re;me={x:Math.abs(Math.round(ke.pageX)-(((we=$.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((re=$.current)==null?void 0:re.y)??0))}},ne=ke=>{me.x<=10&&me.y<=10?ke.preventDefault():w.contains(ke.target)||M(!1),document.removeEventListener("pointermove",Ve),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,M,$]),p.useEffect(()=>{const me=()=>M(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[M]);const[B,te]=gH(me=>{const Ve=K().filter(we=>!we.disabled),ne=Ve.find(we=>we.ref.current===document.activeElement),ke=vH(Ve,me,ne);ke&&setTimeout(()=>ke.ref.current.focus())}),q=p.useCallback((me,Ve,ne)=>{const ke=!G.current&&!ne;(y.value!==void 0&&y.value===Ve||ke)&&(E(me),ke&&(G.current=!0))},[y.value]),ae=p.useCallback(()=>w==null?void 0:w.focus(),[w]),he=p.useCallback((me,Ve,ne)=>{const ke=!G.current&&!ne;(y.value!==void 0&&y.value===Ve||ke)&&O(me)},[y.value]),je=r==="popper"?TE:nH,Ee=je===TE?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:b}:{};return i.jsx(eH,{scope:n,content:w,viewport:C,onViewportChange:k,itemRefCallback:q,selectedItem:P,onItemLeave:ae,itemTextRefCallback:he,focusSelectedItem:U,selectedItemText:R,position:r,isPositioned:J,searchRef:B,children:i.jsx(Qy,{as:wSe,allowPinchZoom:!0,children:i.jsx(Hy,{asChild:!0,trapped:y.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:rt(a,me=>{var Ve;(Ve=y.trigger)==null||Ve.focus({preventScroll:!0}),me.preventDefault()}),children:i.jsx(Vm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(je,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:me=>me.preventDefault(),...x,...Ee,onPlaced:()=>Q(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:rt(x.onKeyDown,me=>{const Ve=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Ve&&me.key.length===1&&te(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let ke=K().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(me.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const we=me.target,re=ke.indexOf(we);ke=ke.slice(re+1)}setTimeout(()=>z(ke)),me.preventDefault()}})})})})})})});tH.displayName=bSe;var SSe="SelectItemAlignedPosition",nH=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,s=uu(Rd,n),o=du(Rd,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=Vt(t,N=>d(N)),h=NC(n),m=p.useRef(!1),g=p.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=o,w=p.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&v&&b&&x){const N=s.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(s.dir!=="rtl"){const we=R.left-P.left,re=E.left-we,He=N.left-re,Oe=N.width+He,Xe=Math.max(Oe,P.width),Fe=window.innerWidth-Ti,Se=EE(re,[Ti,Math.max(Ti,Fe-Xe)]);l.style.minWidth=Oe+"px",l.style.left=Se+"px"}else{const we=P.right-R.right,re=window.innerWidth-E.right-we,He=window.innerWidth-N.right-re,Oe=N.width+He,Xe=Math.max(Oe,P.width),Fe=window.innerWidth-Ti,Se=EE(re,[Ti,Math.max(Ti,Fe-Xe)]);l.style.minWidth=Oe+"px",l.style.right=Se+"px"}const O=h(),K=window.innerHeight-Ti*2,J=v.scrollHeight,Q=window.getComputedStyle(u),G=parseInt(Q.borderTopWidth,10),z=parseInt(Q.paddingTop,10),U=parseInt(Q.borderBottomWidth,10),M=parseInt(Q.paddingBottom,10),$=G+z+J+M+U,B=Math.min(b.offsetHeight*5,$),te=window.getComputedStyle(v),q=parseInt(te.paddingTop,10),ae=parseInt(te.paddingBottom,10),he=N.top+N.height/2-Ti,je=K-he,Ee=b.offsetHeight/2,me=b.offsetTop+Ee,Ve=G+z+me,ne=$-Ve;if(Ve<=he){const we=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const re=u.clientHeight-v.offsetTop-v.offsetHeight,He=Math.max(je,Ee+(we?ae:0)+re+U),Oe=Ve+He;l.style.height=Oe+"px"}else{const we=O.length>0&&b===O[0].ref.current;l.style.top="0px";const He=Math.max(he,G+v.offsetTop+(we?q:0)+Ee)+ne;l.style.height=He+"px",v.scrollTop=Ve-he+v.offsetTop}l.style.margin=`${Ti}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=K+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,v,b,x,s.dir,r]);wr(()=>w(),[w]);const[S,C]=p.useState();wr(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const k=p.useCallback(N=>{N&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return i.jsx(jSe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(bt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});nH.displayName=SSe;var CSe="SelectPopperPosition",TE=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ti,...s}=e,o=kC(n);return i.jsx(oC,{...o,...s,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});TE.displayName=CSe;var[jSe,dR]=Hm(Rd,{}),_E="SelectViewport",rH=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,s=du(_E,n),o=dR(_E,n),l=Vt(t,s.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(jC.Slot,{scope:n,children:i.jsx(bt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:rt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Ti*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(v,b);if(x<g){const y=x+m,w=Math.min(g,y),S=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});rH.displayName=_E;var aH="SelectGroup",[NSe,kSe]=Hm(aH),ASe=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Vr();return i.jsx(NSe,{scope:n,id:a,children:i.jsx(bt.div,{role:"group","aria-labelledby":a,...r,ref:t})})});ASe.displayName=aH;var sH="SelectLabel",PSe=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=kSe(sH,n);return i.jsx(bt.div,{id:a.id,...r,ref:t})});PSe.displayName=sH;var s1="SelectItem",[ESe,iH]=Hm(s1),oH=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:s,...o}=e,l=uu(s1,n),c=du(s1,n),u=l.value===r,[d,f]=p.useState(s??""),[h,m]=p.useState(!1),g=Vt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,r,a)}),v=Vr(),b=p.useRef("touch"),x=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(ESe,{scope:n,value:r,disabled:a,textId:v,isSelected:u,onItemTextChange:p.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(jC.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:i.jsx(bt.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:rt(o.onFocus,()=>m(!0)),onBlur:rt(o.onBlur,()=>m(!1)),onClick:rt(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:rt(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:rt(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:rt(o.onPointerMove,y=>{var w;b.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rt(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:rt(o.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(hSe.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});oH.displayName=s1;var kg="SelectItemText",lH=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...s}=e,o=uu(kg,n),l=du(kg,n),c=iH(kg,n),u=vSe(kg,n),[d,f]=p.useState(null),h=Vt(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return wr(()=>(v(g),()=>b(g)),[v,b,g]),i.jsxs(i.Fragment,{children:[i.jsx(bt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vo.createPortal(s.children,o.valueNode):null]})});lH.displayName=kg;var cH="SelectItemIndicator",uH=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return iH(cH,n).isSelected?i.jsx(bt.span,{"aria-hidden":!0,...r,ref:t}):null});uH.displayName=cH;var DE="SelectScrollUpButton",dH=p.forwardRef((e,t)=>{const n=du(DE,e.__scopeSelect),r=dR(DE,e.__scopeSelect),[a,s]=p.useState(!1),o=Vt(t,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?i.jsx(hH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dH.displayName=DE;var RE="SelectScrollDownButton",fH=p.forwardRef((e,t)=>{const n=du(RE,e.__scopeSelect),r=dR(RE,e.__scopeSelect),[a,s]=p.useState(!1),o=Vt(t,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?i.jsx(hH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fH.displayName=RE;var hH=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,s=du("SelectScrollButton",n),o=p.useRef(null),l=NC(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),wr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(bt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:rt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:rt(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:rt(a.onPointerLeave,()=>{c()})})}),TSe="SelectSeparator",_Se=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(bt.div,{"aria-hidden":!0,...r,ref:t})});_Se.displayName=TSe;var ME="SelectArrow",DSe=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=kC(n),s=uu(ME,n),o=du(ME,n);return s.open&&o.position==="popper"?i.jsx(lC,{...a,...r,ref:t}):null});DSe.displayName=ME;var RSe="SelectBubbleInput",mH=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=p.useRef(null),s=Vt(r,a),o=Gq(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(bt.select,{...n,style:{...a9,...n.style},ref:s,defaultValue:t})});mH.displayName=RSe;function pH(e){return e===""||e===void 0}function gH(e){const t=sa(e),n=p.useRef(""),r=p.useRef(0),a=p.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,s]}function vH(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=MSe(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function MSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ISe=Wq,OSe=Hq,LSe=Qq,$Se=Zq,FSe=Jq,BSe=Xq,VSe=rH,zSe=oH,USe=lH,KSe=uH,GSe=dH,WSe=fH;function Lr({...e}){return i.jsx(ISe,{"data-slot":"select",...e})}function ia({...e}){return i.jsx(LSe,{"data-slot":"select-value",...e})}function $r({className:e,children:t,style:n,size:r="default",...a}){const s={touchAction:"manipulation",userSelect:"none",WebkitUserSelect:"none",WebkitTapHighlightColor:"transparent",...r==="sm"?{height:"2rem",minHeight:"2rem",maxHeight:"2rem"}:{},...n};return i.jsxs(OSe,{"data-slot":"select-trigger","data-size":r,className:Re("border-input data-placeholder:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 box-border",r==="sm"?"h-8 min-h-8 max-h-8 text-sm shrink-0":"h-9 py-2 text-sm",e),style:s,...a,children:[t,i.jsx($Se,{asChild:!0,children:i.jsx(Iy,{className:"size-4 opacity-50"})})]})}function Fr({className:e,children:t,position:n="popper",style:r,...a}){const s={touchAction:"manipulation",userSelect:"none",WebkitUserSelect:"none",...r};return i.jsx(FSe,{children:i.jsxs(BSe,{"data-slot":"select-content",className:Re("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-32 origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,style:s,...a,children:[i.jsx(qSe,{}),i.jsx(VSe,{className:Re("p-1",n==="popper"&&"h-(--radix-select-trigger-height) w-full min-w-(--radix-select-trigger-width) scroll-my-1"),children:t}),i.jsx(HSe,{})]})})}function at({className:e,children:t,style:n,onClick:r,onPointerDown:a,onTouchStart:s,onTouchEnd:o,...l}){const c=p.useRef(null),u=p.useCallback(v=>{if(v.stopPropagation(),"pointerId"in v&&v.pointerType==="pen"){const b=v.currentTarget;b.focus(),setTimeout(()=>{const x=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(x)},10)}},[]),d=p.useCallback(v=>{a&&a(v),u(v)},[a,u]),f=p.useCallback(v=>{s&&s(v),u(v)},[s,u]),h=p.useCallback(v=>{o&&o(v);const b=v.currentTarget;b.focus(),setTimeout(()=>{const x=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(x)},50)},[o]),m=p.useCallback(v=>{r&&r(v),v.currentTarget.focus()},[r]),g={touchAction:"manipulation",cursor:"pointer",WebkitTapHighlightColor:"rgba(0,0,0,0.2)",WebkitUserSelect:"none",userSelect:"none",minHeight:"44px",...n};return i.jsxs(zSe,{ref:c,"data-slot":"select-item",className:Re("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-2 pr-8 pl-2 text-sm outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2","hover:bg-accent hover:text-accent-foreground","active:bg-accent/80",e),style:g,onClick:m,onPointerDown:d,onTouchStart:f,onTouchEnd:h,...l,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(KSe,{children:i.jsx(Al,{className:"size-4"})})}),i.jsx(USe,{children:t})]})}function qSe({className:e,...t}){return i.jsx(GSe,{"data-slot":"select-scroll-up-button",className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(tD,{className:"size-4"})})}function HSe({className:e,...t}){return i.jsx(WSe,{"data-slot":"select-scroll-down-button",className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Iy,{className:"size-4"})})}function YSe(){const e=Ja(),n=["/auto-start","/auto-scoring","/teleop-scoring","/endgame"].includes(e.pathname);return{isInScoutingSession:n,hasUnsavedData:n&&(()=>{try{const a=localStorage.getItem("autoStateStack"),s=localStorage.getItem("teleopStateStack"),o=a?JSON.parse(a):[],l=s?JSON.parse(s):[],c=e.state&&e.state.inputs&&(e.state.inputs.matchNumber||e.state.inputs.selectTeam);return o.length>0||l.length>0||n&&c}catch{return n}})()}}function yH(e={}){const t=zo(),{hasUnsavedData:n}=YSe(),[r,a]=p.useState(null),s=p.useMemo(()=>e.shouldBlock||(()=>n),[e.shouldBlock,n]),o=p.useCallback((u,d)=>s()?(a({destination:u,label:d}),!1):(t(u),!0),[s,t]),l=p.useCallback(()=>{r&&(rE(),t(r.destination),a(null))},[r,t]),c=p.useCallback(()=>{a(null)},[]);return{confirmNavigation:o,handleConfirm:l,handleCancel:c,isConfirmDialogOpen:r!==null,pendingDestinationLabel:(r==null?void 0:r.label)||"this page"}}function QSe(e){const t=ZSe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(XSe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function ZSe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=tCe(a),l=eCe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JSe=Symbol("radix.slottable");function XSe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JSe}function eCe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function tCe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var AC="Dialog",[xH,bH]=bs(AC),[nCe,eo]=xH(AC),wH=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Mo({prop:r,defaultProp:a??!1,onChange:s,caller:AC});return i.jsx(nCe,{scope:t,triggerRef:l,contentRef:c,contentId:Vr(),titleId:Vr(),descriptionId:Vr(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};wH.displayName=AC;var SH="DialogTrigger",CH=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(SH,n),s=Vt(t,a.triggerRef);return i.jsx(bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":mR(a.open),...r,ref:s,onClick:rt(e.onClick,a.onOpenToggle)})});CH.displayName=SH;var fR="DialogPortal",[rCe,jH]=xH(fR,{forceMount:void 0}),NH=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,s=eo(fR,t);return i.jsx(rCe,{scope:t,forceMount:n,children:p.Children.map(r,o=>i.jsx(Ur,{present:n||s.open,children:i.jsx(Km,{asChild:!0,container:a,children:o})}))})};NH.displayName=fR;var i1="DialogOverlay",kH=p.forwardRef((e,t)=>{const n=jH(i1,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=eo(i1,e.__scopeDialog);return s.modal?i.jsx(Ur,{present:r||s.open,children:i.jsx(sCe,{...a,ref:t})}):null});kH.displayName=i1;var aCe=QSe("DialogOverlay.RemoveScroll"),sCe=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(i1,n);return i.jsx(Qy,{as:aCe,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(bt.div,{"data-state":mR(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Md="DialogContent",AH=p.forwardRef((e,t)=>{const n=jH(Md,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=eo(Md,e.__scopeDialog);return i.jsx(Ur,{present:r||s.open,children:s.modal?i.jsx(iCe,{...a,ref:t}):i.jsx(oCe,{...a,ref:t})})});AH.displayName=Md;var iCe=p.forwardRef((e,t)=>{const n=eo(Md,e.__scopeDialog),r=p.useRef(null),a=Vt(t,n.contentRef,r);return p.useEffect(()=>{const s=r.current;if(s)return xC(s)},[]),i.jsx(PH,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:rt(e.onFocusOutside,s=>s.preventDefault())})}),oCe=p.forwardRef((e,t)=>{const n=eo(Md,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return i.jsx(PH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),PH=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=eo(Md,n),c=p.useRef(null),u=Vt(t,c);return vC(),i.jsxs(i.Fragment,{children:[i.jsx(Hy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Vm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":mR(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(cCe,{titleId:l.titleId}),i.jsx(dCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hR="DialogTitle",EH=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(hR,n);return i.jsx(bt.h2,{id:a.titleId,...r,ref:t})});EH.displayName=hR;var TH="DialogDescription",_H=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(TH,n);return i.jsx(bt.p,{id:a.descriptionId,...r,ref:t})});_H.displayName=TH;var DH="DialogClose",RH=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(DH,n);return i.jsx(bt.button,{type:"button",...r,ref:t,onClick:rt(e.onClick,()=>a.onOpenChange(!1))})});RH.displayName=DH;function mR(e){return e?"open":"closed"}var MH="DialogTitleWarning",[lCe,IH]=She(MH,{contentName:Md,titleName:hR,docsSlug:"dialog"}),cCe=({titleId:e})=>{const t=IH(MH),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},uCe="DialogDescriptionWarning",dCe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IH(uCe).contentName}}.`;return p.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},PC=wH,pR=CH,EC=NH,TC=kH,_C=AH,gR=EH,vR=_H,Xy=RH;function to({...e}){return i.jsx(PC,{"data-slot":"dialog",...e})}function DC({...e}){return i.jsx(pR,{"data-slot":"dialog-trigger",...e})}function fCe({...e}){return i.jsx(EC,{"data-slot":"dialog-portal",...e})}function hCe({className:e,...t}){return i.jsx(TC,{"data-slot":"dialog-overlay",className:Re("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}function no({className:e,children:t,showCloseButton:n=!0,...r}){return i.jsxs(fCe,{children:[i.jsx(hCe,{}),i.jsxs(_C,{"data-slot":"dialog-content",className:Re("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed top-[50%] left-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 sm:rounded-lg",e),...r,children:[t,n&&i.jsxs(Xy,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-3 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Wa,{className:"size-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Go({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-header",className:Re("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Ym({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-footer",className:Re("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ro({className:e,...t}){return i.jsx(gR,{"data-slot":"dialog-title",className:Re("text-lg leading-none font-semibold",e),...t})}function cf({className:e,...t}){return i.jsx(vR,{"data-slot":"dialog-description",className:Re("text-muted-foreground text-sm",e),...t})}function OH({open:e,onConfirm:t,onCancel:n,destinationLabel:r="this page"}){return i.jsx(to,{open:e,onOpenChange:a=>!a&&n(),children:i.jsxs(no,{children:[i.jsxs(Go,{children:[i.jsxs(ro,{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-5 w-5 text-orange-500"}),"Leave Scouting Session?"]}),i.jsx(cf,{asChild:!0,children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{children:["You are currently in the middle of scouting a match. If you navigate to"," ",i.jsx("span",{className:"font-medium",children:r}),", all unsaved match data will be lost."]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"This includes any autonomous actions, teleop scoring, and other data you've recorded for this match."})]})})]}),i.jsxs(Ym,{children:[i.jsx(Z,{variant:"outline",onClick:n,className:"p-2",children:"Continue Scouting"}),i.jsx(Z,{variant:"destructive",onClick:t,className:"p-2 text-white",children:"Leave and Lose Data"})]})]})})}const mCe="modulepreload",pCe=function(e){return"/Maneuver-2026/"+e},RF={},_n=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=pCe(c),c in RF)return;RF[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":mCe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};var LH={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(XO,function(){var n=function(j,A){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,I){D.__proto__=I}||function(D,I){for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(D[F]=I[F])})(j,A)},r=function(){return(r=Object.assign||function(j){for(var A,D=1,I=arguments.length;D<I;D++)for(var F in A=arguments[D])Object.prototype.hasOwnProperty.call(A,F)&&(j[F]=A[F]);return j}).apply(this,arguments)};function a(j,A,D){for(var I,F=0,W=A.length;F<W;F++)!I&&F in A||((I=I||Array.prototype.slice.call(A,0,F))[F]=A[F]);return j.concat(I||Array.prototype.slice.call(A))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:XO,o=Object.keys,l=Array.isArray;function c(j,A){return typeof A!="object"||o(A).forEach(function(D){j[D]=A[D]}),j}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var u=Object.getPrototypeOf,d={}.hasOwnProperty;function f(j,A){return d.call(j,A)}function h(j,A){typeof A=="function"&&(A=A(u(j))),(typeof Reflect>"u"?o:Reflect.ownKeys)(A).forEach(function(D){g(j,D,A[D])})}var m=Object.defineProperty;function g(j,A,D,I){m(j,A,c(D&&f(D,"get")&&typeof D.get=="function"?{get:D.get,set:D.set,configurable:!0}:{value:D,configurable:!0,writable:!0},I))}function v(j){return{from:function(A){return j.prototype=Object.create(A.prototype),g(j.prototype,"constructor",j),{extend:h.bind(null,j.prototype)}}}}var b=Object.getOwnPropertyDescriptor,x=[].slice;function y(j,A,D){return x.call(j,A,D)}function w(j,A){return A(j)}function S(j){if(!j)throw new Error("Assertion Failed")}function C(j){s.setImmediate?setImmediate(j):setTimeout(j,0)}function k(j,A){if(typeof A=="string"&&f(j,A))return j[A];if(!A)return j;if(typeof A!="string"){for(var D=[],I=0,F=A.length;I<F;++I){var W=k(j,A[I]);D.push(W)}return D}var X=A.indexOf(".");if(X!==-1){var se=j[A.substr(0,X)];return se==null?void 0:k(se,A.substr(X+1))}}function N(j,A,D){if(j&&A!==void 0&&!("isFrozen"in Object&&Object.isFrozen(j)))if(typeof A!="string"&&"length"in A){S(typeof D!="string"&&"length"in D);for(var I=0,F=A.length;I<F;++I)N(j,A[I],D[I])}else{var W,X,se=A.indexOf(".");se!==-1?(W=A.substr(0,se),(X=A.substr(se+1))===""?D===void 0?l(j)&&!isNaN(parseInt(W))?j.splice(W,1):delete j[W]:j[W]=D:N(se=!(se=j[W])||!f(j,W)?j[W]={}:se,X,D)):D===void 0?l(j)&&!isNaN(parseInt(A))?j.splice(A,1):delete j[A]:j[A]=D}}function P(j){var A,D={};for(A in j)f(j,A)&&(D[A]=j[A]);return D}var E=[].concat;function R(j){return E.apply([],j)}var Et="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(R([8,16,32,64].map(function(j){return["Int","Uint","Float"].map(function(A){return A+j+"Array"})}))).filter(function(j){return s[j]}),O=new Set(Et.map(function(j){return s[j]})),K=null;function J(j){return K=new WeakMap,j=function A(D){if(!D||typeof D!="object")return D;var I=K.get(D);if(I)return I;if(l(D)){I=[],K.set(D,I);for(var F=0,W=D.length;F<W;++F)I.push(A(D[F]))}else if(O.has(D.constructor))I=D;else{var X,se=u(D);for(X in I=se===Object.prototype?{}:Object.create(se),K.set(D,I),D)f(D,X)&&(I[X]=A(D[X]))}return I}(j),K=null,j}var Q={}.toString;function G(j){return Q.call(j).slice(8,-1)}var z=typeof Symbol<"u"?Symbol.iterator:"@@iterator",U=typeof z=="symbol"?function(j){var A;return j!=null&&(A=j[z])&&A.apply(j)}:function(){return null};function M(j,A){return A=j.indexOf(A),0<=A&&j.splice(A,1),0<=A}var $={};function B(j){var A,D,I,F;if(arguments.length===1){if(l(j))return j.slice();if(this===$&&typeof j=="string")return[j];if(F=U(j)){for(D=[];!(I=F.next()).done;)D.push(I.value);return D}if(j==null)return[j];if(typeof(A=j.length)!="number")return[j];for(D=new Array(A);A--;)D[A]=j[A];return D}for(A=arguments.length,D=new Array(A);A--;)D[A]=arguments[A];return D}var te=typeof Symbol<"u"?function(j){return j[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},nn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ss=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(nn),q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ae(j,A){this.name=j,this.message=A}function he(j,A){return j+". Errors: "+Object.keys(A).map(function(D){return A[D].toString()}).filter(function(D,I,F){return F.indexOf(D)===I}).join(`
`)}function je(j,A,D,I){this.failures=A,this.failedKeys=I,this.successCount=D,this.message=he(j,A)}function Ee(j,A){this.name="BulkError",this.failures=Object.keys(A).map(function(D){return A[D]}),this.failuresByPos=A,this.message=he(j,this.failures)}v(ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(je).from(ae),v(Ee).from(ae);var me=ss.reduce(function(j,A){return j[A]=A+"Error",j},{}),Ve=ae,ne=ss.reduce(function(j,A){var D=A+"Error";function I(F,W){this.name=D,F?typeof F=="string"?(this.message="".concat(F).concat(W?`
 `+W:""),this.inner=W||null):typeof F=="object"&&(this.message="".concat(F.name," ").concat(F.message),this.inner=F):(this.message=q[A]||D,this.inner=null)}return v(I).from(Ve),j[A]=I,j},{});ne.Syntax=SyntaxError,ne.Type=TypeError,ne.Range=RangeError;var ke=nn.reduce(function(j,A){return j[A+"Error"]=ne[A],j},{}),we=ss.reduce(function(j,A){return["Syntax","Type","Range"].indexOf(A)===-1&&(j[A+"Error"]=ne[A]),j},{});function re(){}function He(j){return j}function Oe(j,A){return j==null||j===He?A:function(D){return A(j(D))}}function Xe(j,A){return function(){j.apply(this,arguments),A.apply(this,arguments)}}function Fe(j,A){return j===re?A:function(){var D=j.apply(this,arguments);D!==void 0&&(arguments[0]=D);var I=this.onsuccess,F=this.onerror;this.onsuccess=null,this.onerror=null;var W=A.apply(this,arguments);return I&&(this.onsuccess=this.onsuccess?Xe(I,this.onsuccess):I),F&&(this.onerror=this.onerror?Xe(F,this.onerror):F),W!==void 0?W:D}}function Se(j,A){return j===re?A:function(){j.apply(this,arguments);var D=this.onsuccess,I=this.onerror;this.onsuccess=this.onerror=null,A.apply(this,arguments),D&&(this.onsuccess=this.onsuccess?Xe(D,this.onsuccess):D),I&&(this.onerror=this.onerror?Xe(I,this.onerror):I)}}function de(j,A){return j===re?A:function(D){var I=j.apply(this,arguments);c(D,I);var F=this.onsuccess,W=this.onerror;return this.onsuccess=null,this.onerror=null,D=A.apply(this,arguments),F&&(this.onsuccess=this.onsuccess?Xe(F,this.onsuccess):F),W&&(this.onerror=this.onerror?Xe(W,this.onerror):W),I===void 0?D===void 0?void 0:D:c(I,D)}}function ve(j,A){return j===re?A:function(){return A.apply(this,arguments)!==!1&&j.apply(this,arguments)}}function Nt(j,A){return j===re?A:function(){var D=j.apply(this,arguments);if(D&&typeof D.then=="function"){for(var I=this,F=arguments.length,W=new Array(F);F--;)W[F]=arguments[F];return D.then(function(){return A.apply(I,W)})}return A.apply(this,arguments)}}we.ModifyError=je,we.DexieError=ae,we.BulkError=Ee;var We=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function kt(j){We=j}var ct={},Ft=100,Et=typeof Promise>"u"?[]:function(){var j=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[j,u(j),j];var A=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[A,u(A),j]}(),nn=Et[0],ss=Et[1],Et=Et[2],ss=ss&&ss.then,Lt=nn&&nn.constructor,An=!!Et,mn=function(j,A){Ht.push([j,A]),ee&&(queueMicrotask(Xt),ee=!1)},Zn=!0,ee=!0,Ne=[],ge=[],Ue=He,st={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:re,pgp:!1,env:{},finalize:re},Ye=st,Ht=[],wt=0,St=[];function ze(j){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var A=this._PSD=Ye;if(typeof j!="function"){if(j!==ct)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Yr(this,this._value))}this._state=null,this._value=null,++A.ref,function D(I,F){try{F(function(W){if(I._state===null){if(W===I)throw new TypeError("A promise cannot be resolved with itself.");var X=I._lib&&Sn();W&&typeof W.then=="function"?D(I,function(se,pe){W instanceof ze?W._then(se,pe):W.then(se,pe)}):(I._state=!0,I._value=W,Qr(I)),X&&Jn()}},Yr.bind(null,I))}catch(W){Yr(I,W)}}(this,j)}var Vn={get:function(){var j=Ye,A=At;function D(I,F){var W=this,X=!j.global&&(j!==Ye||A!==At),se=X&&!ut(),pe=new ze(function(ye,Ae){Pt(W,new jt(Cn(I,j,X,se),Cn(F,j,X,se),ye,Ae,j))});return this._consoleTask&&(pe._consoleTask=this._consoleTask),pe}return D.prototype=ct,D},set:function(j){g(this,"then",j&&j.prototype===ct?Vn:{get:function(){return j},set:Vn.set})}};function jt(j,A,D,I,F){this.onFulfilled=typeof j=="function"?j:null,this.onRejected=typeof A=="function"?A:null,this.resolve=D,this.reject=I,this.psd=F}function Yr(j,A){var D,I;ge.push(A),j._state===null&&(D=j._lib&&Sn(),A=Ue(A),j._state=!1,j._value=A,I=j,Ne.some(function(F){return F._value===I._value})||Ne.push(I),Qr(j),D&&Jn())}function Qr(j){var A=j._listeners;j._listeners=[];for(var D=0,I=A.length;D<I;++D)Pt(j,A[D]);var F=j._PSD;--F.ref||F.finalize(),wt===0&&(++wt,mn(function(){--wt==0&&ja()},[]))}function Pt(j,A){if(j._state!==null){var D=j._state?A.onFulfilled:A.onRejected;if(D===null)return(j._state?A.resolve:A.reject)(j._value);++A.psd.ref,++wt,mn(Jt,[D,j,A])}else j._listeners.push(A)}function Jt(j,A,D){try{var I,F=A._value;!A._state&&ge.length&&(ge=[]),I=We&&A._consoleTask?A._consoleTask.run(function(){return j(F)}):j(F),A._state||ge.indexOf(F)!==-1||function(W){for(var X=Ne.length;X;)if(Ne[--X]._value===W._value)return Ne.splice(X,1)}(A),D.resolve(I)}catch(W){D.reject(W)}finally{--wt==0&&ja(),--D.psd.ref||D.psd.finalize()}}function Xt(){zt(st,function(){Sn()&&Jn()})}function Sn(){var j=Zn;return ee=Zn=!1,j}function Jn(){var j,A,D;do for(;0<Ht.length;)for(j=Ht,Ht=[],D=j.length,A=0;A<D;++A){var I=j[A];I[0].apply(null,I[1])}while(0<Ht.length);ee=Zn=!0}function ja(){var j=Ne;Ne=[],j.forEach(function(I){I._PSD.onunhandled.call(null,I._value,I)});for(var A=St.slice(0),D=A.length;D;)A[--D]()}function ce(j){return new ze(ct,!1,j)}function fe(j,A){var D=Ye;return function(){var I=Sn(),F=Ye;try{return dn(D,!0),j.apply(this,arguments)}catch(W){A&&A(W)}finally{dn(F,!1),I&&Jn()}}}h(ze.prototype,{then:Vn,_then:function(j,A){Pt(this,new jt(null,null,j,A,Ye))},catch:function(j){if(arguments.length===1)return this.then(null,j);var A=j,D=arguments[1];return typeof A=="function"?this.then(null,function(I){return(I instanceof A?D:ce)(I)}):this.then(null,function(I){return(I&&I.name===A?D:ce)(I)})},finally:function(j){return this.then(function(A){return ze.resolve(j()).then(function(){return A})},function(A){return ze.resolve(j()).then(function(){return ce(A)})})},timeout:function(j,A){var D=this;return j<1/0?new ze(function(I,F){var W=setTimeout(function(){return F(new ne.Timeout(A))},j);D.then(I,F).finally(clearTimeout.bind(null,W))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&g(ze.prototype,Symbol.toStringTag,"Dexie.Promise"),st.env=ln(),h(ze,{all:function(){var j=B.apply(null,arguments).map(It);return new ze(function(A,D){j.length===0&&A([]);var I=j.length;j.forEach(function(F,W){return ze.resolve(F).then(function(X){j[W]=X,--I||A(j)},D)})})},resolve:function(j){return j instanceof ze?j:j&&typeof j.then=="function"?new ze(function(A,D){j.then(A,D)}):new ze(ct,!0,j)},reject:ce,race:function(){var j=B.apply(null,arguments).map(It);return new ze(function(A,D){j.map(function(I){return ze.resolve(I).then(A,D)})})},PSD:{get:function(){return Ye},set:function(j){return Ye=j}},totalEchoes:{get:function(){return At}},newPSD:ot,usePSD:zt,scheduler:{get:function(){return mn},set:function(j){mn=j}},rejectionMapper:{get:function(){return Ue},set:function(j){Ue=j}},follow:function(j,A){return new ze(function(D,I){return ot(function(F,W){var X=Ye;X.unhandleds=[],X.onunhandled=W,X.finalize=Xe(function(){var se,pe=this;se=function(){pe.unhandleds.length===0?F():W(pe.unhandleds[0])},St.push(function ye(){se(),St.splice(St.indexOf(ye),1)}),++wt,mn(function(){--wt==0&&ja()},[])},X.finalize),j()},A,D,I)})}}),Lt&&(Lt.allSettled&&g(ze,"allSettled",function(){var j=B.apply(null,arguments).map(It);return new ze(function(A){j.length===0&&A([]);var D=j.length,I=new Array(D);j.forEach(function(F,W){return ze.resolve(F).then(function(X){return I[W]={status:"fulfilled",value:X}},function(X){return I[W]={status:"rejected",reason:X}}).then(function(){return--D||A(I)})})})}),Lt.any&&typeof AggregateError<"u"&&g(ze,"any",function(){var j=B.apply(null,arguments).map(It);return new ze(function(A,D){j.length===0&&D(new AggregateError([]));var I=j.length,F=new Array(I);j.forEach(function(W,X){return ze.resolve(W).then(function(se){return A(se)},function(se){F[X]=se,--I||D(new AggregateError(F))})})})}),Lt.withResolvers&&(ze.withResolvers=Lt.withResolvers));var Te={awaits:0,echoes:0,id:0},Qe=0,tt=[],gt=0,At=0,ft=0;function ot(j,A,D,I){var F=Ye,W=Object.create(F);return W.parent=F,W.ref=0,W.global=!1,W.id=++ft,st.env,W.env=An?{Promise:ze,PromiseProp:{value:ze,configurable:!0,writable:!0},all:ze.all,race:ze.race,allSettled:ze.allSettled,any:ze.any,resolve:ze.resolve,reject:ze.reject}:{},A&&c(W,A),++F.ref,W.finalize=function(){--this.parent.ref||this.parent.finalize()},I=zt(W,j,D,I),W.ref===0&&W.finalize(),I}function it(){return Te.id||(Te.id=++Qe),++Te.awaits,Te.echoes+=Ft,Te.id}function ut(){return!!Te.awaits&&(--Te.awaits==0&&(Te.id=0),Te.echoes=Te.awaits*Ft,!0)}function It(j){return Te.echoes&&j&&j.constructor===Lt?(it(),j.then(function(A){return ut(),A},function(A){return ut(),pn(A)})):j}function Kt(){var j=tt[tt.length-1];tt.pop(),dn(j,!1)}function dn(j,A){var D,I=Ye;(A?!Te.echoes||gt++&&j===Ye:!gt||--gt&&j===Ye)||queueMicrotask(A?(function(F){++At,Te.echoes&&--Te.echoes!=0||(Te.echoes=Te.awaits=Te.id=0),tt.push(Ye),dn(F,!0)}).bind(null,j):Kt),j!==Ye&&(Ye=j,I===st&&(st.env=ln()),An&&(D=st.env.Promise,A=j.env,(I.global||j.global)&&(Object.defineProperty(s,"Promise",A.PromiseProp),D.all=A.all,D.race=A.race,D.resolve=A.resolve,D.reject=A.reject,A.allSettled&&(D.allSettled=A.allSettled),A.any&&(D.any=A.any))))}function ln(){var j=s.Promise;return An?{Promise:j,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:j.all,race:j.race,allSettled:j.allSettled,any:j.any,resolve:j.resolve,reject:j.reject}:{}}function zt(j,A,D,I,F){var W=Ye;try{return dn(j,!0),A(D,I,F)}finally{dn(W,!1)}}function Cn(j,A,D,I){return typeof j!="function"?j:function(){var F=Ye;D&&it(),dn(A,!0);try{return j.apply(this,arguments)}finally{dn(F,!1),I&&queueMicrotask(ut)}}}function Cs(j){Promise===Lt&&Te.echoes===0?gt===0?j():enqueueNativeMicroTask(j):setTimeout(j,0)}(""+ss).indexOf("[native code]")===-1&&(it=ut=re);var pn=ze.reject,Tr="",lr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Si="String expected.",ns=[],rs="__dbnames",js="readonly",Ci="readwrite";function _t(j,A){return j?A?function(){return j.apply(this,arguments)&&A.apply(this,arguments)}:j:A}var jn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function as(j){return typeof j!="string"||/\./.test(j)?function(A){return A}:function(A){return A[j]===void 0&&j in A&&delete(A=J(A))[j],A}}function $t(){throw ne.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ct(j,A){try{var D=ji(j),I=ji(A);if(D!==I)return D==="Array"?1:I==="Array"?-1:D==="binary"?1:I==="binary"?-1:D==="string"?1:I==="string"?-1:D==="Date"?1:I!=="Date"?NaN:-1;switch(D){case"number":case"Date":case"string":return A<j?1:j<A?-1:0;case"binary":return function(F,W){for(var X=F.length,se=W.length,pe=X<se?X:se,ye=0;ye<pe;++ye)if(F[ye]!==W[ye])return F[ye]<W[ye]?-1:1;return X===se?0:X<se?-1:1}(da(j),da(A));case"Array":return function(F,W){for(var X=F.length,se=W.length,pe=X<se?X:se,ye=0;ye<pe;++ye){var Ae=Ct(F[ye],W[ye]);if(Ae!==0)return Ae}return X===se?0:X<se?-1:1}(j,A)}}catch{}return NaN}function ji(j){var A=typeof j;return A!="object"?A:ArrayBuffer.isView(j)?"binary":(j=G(j),j==="ArrayBuffer"?"binary":j)}function da(j){return j instanceof Uint8Array?j:ArrayBuffer.isView(j)?new Uint8Array(j.buffer,j.byteOffset,j.byteLength):new Uint8Array(j)}function Jl(j,A,D){var I=j.schema.yProps;return I?(A&&0<D.numFailures&&(A=A.filter(function(F,W){return!D.failures[W]})),Promise.all(I.map(function(F){return F=F.updatesTable,A?j.db.table(F).where("k").anyOf(A).delete():j.db.table(F).clear()})).then(function(){return D})):D}var Xl=(bu.prototype.execute=function(j){var A=this["@@propmod"];if(A.add!==void 0){var D=A.add;if(l(D))return a(a([],l(j)?j:[],!0),D).sort();if(typeof D=="number")return(Number(j)||0)+D;if(typeof D=="bigint")try{return BigInt(j)+D}catch{return BigInt(0)+D}throw new TypeError("Invalid term ".concat(D))}if(A.remove!==void 0){var I=A.remove;if(l(I))return l(j)?j.filter(function(F){return!I.includes(F)}).sort():[];if(typeof I=="number")return Number(j)-I;if(typeof I=="bigint")try{return BigInt(j)-I}catch{return BigInt(0)-I}throw new TypeError("Invalid subtrahend ".concat(I))}return D=(D=A.replacePrefix)===null||D===void 0?void 0:D[0],D&&typeof j=="string"&&j.startsWith(D)?A.replacePrefix[1]+j.substring(D.length):j},bu);function bu(j){this["@@propmod"]=j}function Bx(j,A){for(var D=o(A),I=D.length,F=!1,W=0;W<I;++W){var X=D[W],se=A[X],pe=k(j,X);se instanceof Xl?(N(j,X,se.execute(pe)),F=!0):pe!==se&&(N(j,X,se),F=!0)}return F}var yf=(bn.prototype._trans=function(j,A,D){var I=this._tx||Ye.trans,F=this.name,W=We&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(j==="readonly"?"read":"write"," ").concat(this.name));function X(ye,Ae,le){if(!le.schema[F])throw new ne.NotFound("Table "+F+" not part of transaction");return A(le.idbtrans,le)}var se=Sn();try{var pe=I&&I.db._novip===this.db._novip?I===Ye.trans?I._promise(j,X,D):ot(function(){return I._promise(j,X,D)},{trans:I,transless:Ye.transless||Ye}):function ye(Ae,le,Pe,xe){if(Ae.idbdb&&(Ae._state.openComplete||Ye.letThrough||Ae._vip)){var Ce=Ae._createTransaction(le,Pe,Ae._dbSchema);try{Ce.create(),Ae._state.PR1398_maxLoop=3}catch(T){return T.name===me.InvalidState&&Ae.isOpen()&&0<--Ae._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ae.close({disableAutoOpen:!1}),Ae.open().then(function(){return ye(Ae,le,Pe,xe)})):pn(T)}return Ce._promise(le,function(T,_){return ot(function(){return Ye.trans=Ce,xe(T,_,Ce)})}).then(function(T){if(le==="readwrite")try{Ce.idbtrans.commit()}catch{}return le==="readonly"?T:Ce._completion.then(function(){return T})})}if(Ae._state.openComplete)return pn(new ne.DatabaseClosed(Ae._state.dbOpenError));if(!Ae._state.isBeingOpened){if(!Ae._state.autoOpen)return pn(new ne.DatabaseClosed);Ae.open().catch(re)}return Ae._state.dbReadyPromise.then(function(){return ye(Ae,le,Pe,xe)})}(this.db,j,[this.name],X);return W&&(pe._consoleTask=W,pe=pe.catch(function(ye){return console.trace(ye),pn(ye)})),pe}finally{se&&Jn()}},bn.prototype.get=function(j,A){var D=this;return j&&j.constructor===Object?this.where(j).first(A):j==null?pn(new ne.Type("Invalid argument to Table.get()")):this._trans("readonly",function(I){return D.core.get({trans:I,key:j}).then(function(F){return D.hook.reading.fire(F)})}).then(A)},bn.prototype.where=function(j){if(typeof j=="string")return new this.db.WhereClause(this,j);if(l(j))return new this.db.WhereClause(this,"[".concat(j.join("+"),"]"));var A=o(j);if(A.length===1)return this.where(A[0]).equals(j[A[0]]);var D=this.schema.indexes.concat(this.schema.primKey).filter(function(se){if(se.compound&&A.every(function(ye){return 0<=se.keyPath.indexOf(ye)})){for(var pe=0;pe<A.length;++pe)if(A.indexOf(se.keyPath[pe])===-1)return!1;return!0}return!1}).sort(function(se,pe){return se.keyPath.length-pe.keyPath.length})[0];if(D&&this.db._maxKey!==Tr){var W=D.keyPath.slice(0,A.length);return this.where(W).equals(W.map(function(pe){return j[pe]}))}!D&&We&&console.warn("The query ".concat(JSON.stringify(j)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(A.join("+"),"]"));var I=this.schema.idxByName;function F(se,pe){return Ct(se,pe)===0}var X=A.reduce(function(le,pe){var ye=le[0],Ae=le[1],le=I[pe],Pe=j[pe];return[ye||le,ye||!le?_t(Ae,le&&le.multi?function(xe){return xe=k(xe,pe),l(xe)&&xe.some(function(Ce){return F(Pe,Ce)})}:function(xe){return F(Pe,k(xe,pe))}):Ae]},[null,null]),W=X[0],X=X[1];return W?this.where(W.name).equals(j[W.keyPath]).filter(X):D?this.filter(X):this.where(A).equals("")},bn.prototype.filter=function(j){return this.toCollection().and(j)},bn.prototype.count=function(j){return this.toCollection().count(j)},bn.prototype.offset=function(j){return this.toCollection().offset(j)},bn.prototype.limit=function(j){return this.toCollection().limit(j)},bn.prototype.each=function(j){return this.toCollection().each(j)},bn.prototype.toArray=function(j){return this.toCollection().toArray(j)},bn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},bn.prototype.orderBy=function(j){return new this.db.Collection(new this.db.WhereClause(this,l(j)?"[".concat(j.join("+"),"]"):j))},bn.prototype.reverse=function(){return this.toCollection().reverse()},bn.prototype.mapToClass=function(j){var A,D=this.db,I=this.name;function F(){return A!==null&&A.apply(this,arguments)||this}(this.schema.mappedClass=j).prototype instanceof $t&&(function(pe,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");function Ae(){this.constructor=pe}n(pe,ye),pe.prototype=ye===null?Object.create(ye):(Ae.prototype=ye.prototype,new Ae)}(F,A=j),Object.defineProperty(F.prototype,"db",{get:function(){return D},enumerable:!1,configurable:!0}),F.prototype.table=function(){return I},j=F);for(var W=new Set,X=j.prototype;X;X=u(X))Object.getOwnPropertyNames(X).forEach(function(pe){return W.add(pe)});function se(pe){if(!pe)return pe;var ye,Ae=Object.create(j.prototype);for(ye in pe)if(!W.has(ye))try{Ae[ye]=pe[ye]}catch{}return Ae}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=se,this.hook("reading",se),j},bn.prototype.defineClass=function(){return this.mapToClass(function(j){c(this,j)})},bn.prototype.add=function(j,A){var D=this,I=this.schema.primKey,F=I.auto,W=I.keyPath,X=j;return W&&F&&(X=as(W)(j)),this._trans("readwrite",function(se){return D.core.mutate({trans:se,type:"add",keys:A!=null?[A]:null,values:[X]})}).then(function(se){return se.numFailures?ze.reject(se.failures[0]):se.lastResult}).then(function(se){if(W)try{N(j,W,se)}catch{}return se})},bn.prototype.upsert=function(j,A){var D=this,I=this.schema.primKey.keyPath;return this._trans("readwrite",function(F){return D.core.get({trans:F,key:j}).then(function(W){var X=W??{};return Bx(X,A),I&&N(X,I,j),D.core.mutate({trans:F,type:"put",values:[X],keys:[j],upsert:!0,updates:{keys:[j],changeSpecs:[A]}}).then(function(se){return se.numFailures?ze.reject(se.failures[0]):!!W})})})},bn.prototype.update=function(j,A){return typeof j!="object"||l(j)?this.where(":id").equals(j).modify(A):(j=k(j,this.schema.primKey.keyPath),j===void 0?pn(new ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(j).modify(A))},bn.prototype.put=function(j,A){var D=this,I=this.schema.primKey,F=I.auto,W=I.keyPath,X=j;return W&&F&&(X=as(W)(j)),this._trans("readwrite",function(se){return D.core.mutate({trans:se,type:"put",values:[X],keys:A!=null?[A]:null})}).then(function(se){return se.numFailures?ze.reject(se.failures[0]):se.lastResult}).then(function(se){if(W)try{N(j,W,se)}catch{}return se})},bn.prototype.delete=function(j){var A=this;return this._trans("readwrite",function(D){return A.core.mutate({trans:D,type:"delete",keys:[j]}).then(function(I){return Jl(A,[j],I)}).then(function(I){return I.numFailures?ze.reject(I.failures[0]):void 0})})},bn.prototype.clear=function(){var j=this;return this._trans("readwrite",function(A){return j.core.mutate({trans:A,type:"deleteRange",range:jn}).then(function(D){return Jl(j,null,D)})}).then(function(A){return A.numFailures?ze.reject(A.failures[0]):void 0})},bn.prototype.bulkGet=function(j){var A=this;return this._trans("readonly",function(D){return A.core.getMany({keys:j,trans:D}).then(function(I){return I.map(function(F){return A.hook.reading.fire(F)})})})},bn.prototype.bulkAdd=function(j,A,D){var I=this,F=Array.isArray(A)?A:void 0,W=(D=D||(F?void 0:A))?D.allKeys:void 0;return this._trans("readwrite",function(X){var ye=I.schema.primKey,se=ye.auto,ye=ye.keyPath;if(ye&&F)throw new ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(F&&F.length!==j.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var pe=j.length,ye=ye&&se?j.map(as(ye)):j;return I.core.mutate({trans:X,type:"add",keys:F,values:ye,wantResults:W}).then(function(Ce){var le=Ce.numFailures,Pe=Ce.results,xe=Ce.lastResult,Ce=Ce.failures;if(le===0)return W?Pe:xe;throw new Ee("".concat(I.name,".bulkAdd(): ").concat(le," of ").concat(pe," operations failed"),Ce)})})},bn.prototype.bulkPut=function(j,A,D){var I=this,F=Array.isArray(A)?A:void 0,W=(D=D||(F?void 0:A))?D.allKeys:void 0;return this._trans("readwrite",function(X){var ye=I.schema.primKey,se=ye.auto,ye=ye.keyPath;if(ye&&F)throw new ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(F&&F.length!==j.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var pe=j.length,ye=ye&&se?j.map(as(ye)):j;return I.core.mutate({trans:X,type:"put",keys:F,values:ye,wantResults:W}).then(function(Ce){var le=Ce.numFailures,Pe=Ce.results,xe=Ce.lastResult,Ce=Ce.failures;if(le===0)return W?Pe:xe;throw new Ee("".concat(I.name,".bulkPut(): ").concat(le," of ").concat(pe," operations failed"),Ce)})})},bn.prototype.bulkUpdate=function(j){var A=this,D=this.core,I=j.map(function(X){return X.key}),F=j.map(function(X){return X.changes}),W=[];return this._trans("readwrite",function(X){return D.getMany({trans:X,keys:I,cache:"clone"}).then(function(se){var pe=[],ye=[];j.forEach(function(le,Pe){var xe=le.key,Ce=le.changes,T=se[Pe];if(T){for(var _=0,L=Object.keys(Ce);_<L.length;_++){var V=L[_],H=Ce[V];if(V===A.schema.primKey.keyPath){if(Ct(H,xe)!==0)throw new ne.Constraint("Cannot update primary key in bulkUpdate()")}else N(T,V,H)}W.push(Pe),pe.push(xe),ye.push(T)}});var Ae=pe.length;return D.mutate({trans:X,type:"put",keys:pe,values:ye,updates:{keys:I,changeSpecs:F}}).then(function(le){var Pe=le.numFailures,xe=le.failures;if(Pe===0)return Ae;for(var Ce=0,T=Object.keys(xe);Ce<T.length;Ce++){var _,L=T[Ce],V=W[Number(L)];V!=null&&(_=xe[L],delete xe[L],xe[V]=_)}throw new Ee("".concat(A.name,".bulkUpdate(): ").concat(Pe," of ").concat(Ae," operations failed"),xe)})})})},bn.prototype.bulkDelete=function(j){var A=this,D=j.length;return this._trans("readwrite",function(I){return A.core.mutate({trans:I,type:"delete",keys:j}).then(function(F){return Jl(A,j,F)})}).then(function(X){var F=X.numFailures,W=X.lastResult,X=X.failures;if(F===0)return W;throw new Ee("".concat(A.name,".bulkDelete(): ").concat(F," of ").concat(D," operations failed"),X)})},bn);function bn(){}function Ho(j){function A(X,se){if(se){for(var pe=arguments.length,ye=new Array(pe-1);--pe;)ye[pe-1]=arguments[pe];return D[X].subscribe.apply(null,ye),j}if(typeof X=="string")return D[X]}var D={};A.addEventType=W;for(var I=1,F=arguments.length;I<F;++I)W(arguments[I]);return A;function W(X,se,pe){if(typeof X!="object"){var ye;se=se||ve;var Ae={subscribers:[],fire:pe=pe||re,subscribe:function(le){Ae.subscribers.indexOf(le)===-1&&(Ae.subscribers.push(le),Ae.fire=se(Ae.fire,le))},unsubscribe:function(le){Ae.subscribers=Ae.subscribers.filter(function(Pe){return Pe!==le}),Ae.fire=Ae.subscribers.reduce(se,pe)}};return D[X]=A[X]=Ae}o(ye=X).forEach(function(le){var Pe=ye[le];if(l(Pe))W(le,ye[le][0],ye[le][1]);else{if(Pe!=="asap")throw new ne.InvalidArgument("Invalid event config");var xe=W(le,He,function(){for(var Ce=arguments.length,T=new Array(Ce);Ce--;)T[Ce]=arguments[Ce];xe.subscribers.forEach(function(_){C(function(){_.apply(null,T)})})})}})}}function wu(j,A){return v(A).from({prototype:j}),A}function Yo(j,A){return!(j.filter||j.algorithm||j.or)&&(A?j.justLimit:!j.replayFilter)}function Sp(j,A){j.filter=_t(j.filter,A)}function xf(j,A,D){var I=j.replayFilter;j.replayFilter=I?function(){return _t(I(),A())}:A,j.justLimit=D&&!I}function Hs(j,A){if(j.isPrimKey)return A.primaryKey;var D=A.getIndexByKeyPath(j.index);if(!D)throw new ne.Schema("KeyPath "+j.index+" on object store "+A.name+" is not indexed");return D}function bf(j,A,D){var I=Hs(j,A.schema);return A.openCursor({trans:D,values:!j.keysOnly,reverse:j.dir==="prev",unique:!!j.unique,query:{index:I,range:j.range}})}function Ia(j,A,D,I){var F=j.replayFilter?_t(j.filter,j.replayFilter()):j.filter;if(j.or){var W={},X=function(se,pe,ye){var Ae,le;F&&!F(pe,ye,function(Pe){return pe.stop(Pe)},function(Pe){return pe.fail(Pe)})||((le=""+(Ae=pe.primaryKey))=="[object ArrayBuffer]"&&(le=""+new Uint8Array(Ae)),f(W,le)||(W[le]=!0,A(se,pe,ye)))};return Promise.all([j.or._iterate(X,D),Cp(bf(j,I,D),j.algorithm,X,!j.keysOnly&&j.valueMapper)])}return Cp(bf(j,I,D),_t(j.algorithm,F),A,!j.keysOnly&&j.valueMapper)}function Cp(j,A,D,I){var F=fe(I?function(W,X,se){return D(I(W),X,se)}:D);return j.then(function(W){if(W)return W.start(function(){var X=function(){return W.continue()};A&&!A(W,function(se){return X=se},function(se){W.stop(se),X=re},function(se){W.fail(se),X=re})||F(W.value,W,function(se){return X=se}),X()})})}var yN=(tn.prototype._read=function(j,A){var D=this._ctx;return D.error?D.table._trans(null,pn.bind(null,D.error)):D.table._trans("readonly",j).then(A)},tn.prototype._write=function(j){var A=this._ctx;return A.error?A.table._trans(null,pn.bind(null,A.error)):A.table._trans("readwrite",j,"locked")},tn.prototype._addAlgorithm=function(j){var A=this._ctx;A.algorithm=_t(A.algorithm,j)},tn.prototype._iterate=function(j,A){return Ia(this._ctx,j,A,this._ctx.table.core)},tn.prototype.clone=function(j){var A=Object.create(this.constructor.prototype),D=Object.create(this._ctx);return j&&c(D,j),A._ctx=D,A},tn.prototype.raw=function(){return this._ctx.valueMapper=null,this},tn.prototype.each=function(j){var A=this._ctx;return this._read(function(D){return Ia(A,j,D,A.table.core)})},tn.prototype.count=function(j){var A=this;return this._read(function(D){var I=A._ctx,F=I.table.core;if(Yo(I,!0))return F.count({trans:D,query:{index:Hs(I,F.schema),range:I.range}}).then(function(X){return Math.min(X,I.limit)});var W=0;return Ia(I,function(){return++W,!1},D,F).then(function(){return W})}).then(j)},tn.prototype.sortBy=function(j,A){var D=j.split(".").reverse(),I=D[0],F=D.length-1;function W(pe,ye){return ye?W(pe[D[ye]],ye-1):pe[I]}var X=this._ctx.dir==="next"?1:-1;function se(pe,ye){return Ct(W(pe,F),W(ye,F))*X}return this.toArray(function(pe){return pe.sort(se)}).then(A)},tn.prototype.toArray=function(j){var A=this;return this._read(function(D){var I=A._ctx;if(I.dir==="next"&&Yo(I,!0)&&0<I.limit){var F=I.valueMapper,W=Hs(I,I.table.core.schema);return I.table.core.query({trans:D,limit:I.limit,values:!0,query:{index:W,range:I.range}}).then(function(se){return se=se.result,F?se.map(F):se})}var X=[];return Ia(I,function(se){return X.push(se)},D,I.table.core).then(function(){return X})},j)},tn.prototype.offset=function(j){var A=this._ctx;return j<=0||(A.offset+=j,Yo(A)?xf(A,function(){var D=j;return function(I,F){return D===0||(D===1?--D:F(function(){I.advance(D),D=0}),!1)}}):xf(A,function(){var D=j;return function(){return--D<0}})),this},tn.prototype.limit=function(j){return this._ctx.limit=Math.min(this._ctx.limit,j),xf(this._ctx,function(){var A=j;return function(D,I,F){return--A<=0&&I(F),0<=A}},!0),this},tn.prototype.until=function(j,A){return Sp(this._ctx,function(D,I,F){return!j(D.value)||(I(F),A)}),this},tn.prototype.first=function(j){return this.limit(1).toArray(function(A){return A[0]}).then(j)},tn.prototype.last=function(j){return this.reverse().first(j)},tn.prototype.filter=function(j){var A;return Sp(this._ctx,function(D){return j(D.value)}),(A=this._ctx).isMatch=_t(A.isMatch,j),this},tn.prototype.and=function(j){return this.filter(j)},tn.prototype.or=function(j){return new this.db.WhereClause(this._ctx.table,j,this)},tn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tn.prototype.desc=function(){return this.reverse()},tn.prototype.eachKey=function(j){var A=this._ctx;return A.keysOnly=!A.isMatch,this.each(function(D,I){j(I.key,I)})},tn.prototype.eachUniqueKey=function(j){return this._ctx.unique="unique",this.eachKey(j)},tn.prototype.eachPrimaryKey=function(j){var A=this._ctx;return A.keysOnly=!A.isMatch,this.each(function(D,I){j(I.primaryKey,I)})},tn.prototype.keys=function(j){var A=this._ctx;A.keysOnly=!A.isMatch;var D=[];return this.each(function(I,F){D.push(F.key)}).then(function(){return D}).then(j)},tn.prototype.primaryKeys=function(j){var A=this._ctx;if(A.dir==="next"&&Yo(A,!0)&&0<A.limit)return this._read(function(I){var F=Hs(A,A.table.core.schema);return A.table.core.query({trans:I,values:!1,limit:A.limit,query:{index:F,range:A.range}})}).then(function(I){return I.result}).then(j);A.keysOnly=!A.isMatch;var D=[];return this.each(function(I,F){D.push(F.primaryKey)}).then(function(){return D}).then(j)},tn.prototype.uniqueKeys=function(j){return this._ctx.unique="unique",this.keys(j)},tn.prototype.firstKey=function(j){return this.limit(1).keys(function(A){return A[0]}).then(j)},tn.prototype.lastKey=function(j){return this.reverse().firstKey(j)},tn.prototype.distinct=function(){var j=this._ctx,j=j.index&&j.table.schema.idxByName[j.index];if(!j||!j.multi)return this;var A={};return Sp(this._ctx,function(F){var I=F.primaryKey.toString(),F=f(A,I);return A[I]=!0,!F}),this},tn.prototype.modify=function(j){var A=this,D=this._ctx;return this._write(function(I){var F=typeof j=="function"?j:function(T){return Bx(T,j)},W=D.table.core,ye=W.schema.primaryKey,X=ye.outbound,se=ye.extractKey,pe=200,ye=A.db._options.modifyChunkSize;ye&&(pe=typeof ye=="object"?ye[W.name]||ye["*"]||200:ye);function Ae(T,V){var L=V.failures,V=V.numFailures;Pe+=T-V;for(var H=0,Y=o(L);H<Y.length;H++){var ie=Y[H];le.push(L[ie])}}var le=[],Pe=0,xe=[],Ce=j===Vx;return A.clone().primaryKeys().then(function(T){function _(V){var H=Math.min(pe,T.length-V),Y=T.slice(V,V+H);return(Ce?Promise.resolve([]):W.getMany({trans:I,keys:Y,cache:"immutable"})).then(function(ie){var ue=[],be=[],_e=X?[]:null,Ie=Ce?Y:[];if(!Ce)for(var Be=0;Be<H;++Be){var Je=ie[Be],dt={value:J(Je),primKey:T[V+Be]};F.call(dt,dt.value,dt)!==!1&&(dt.value==null?Ie.push(T[V+Be]):X||Ct(se(Je),se(dt.value))===0?(be.push(dt.value),X&&_e.push(T[V+Be])):(Ie.push(T[V+Be]),ue.push(dt.value)))}return Promise.resolve(0<ue.length&&W.mutate({trans:I,type:"add",values:ue}).then(function(vt){for(var yt in vt.failures)Ie.splice(parseInt(yt),1);Ae(ue.length,vt)})).then(function(){return(0<be.length||L&&typeof j=="object")&&W.mutate({trans:I,type:"put",keys:_e,values:be,criteria:L,changeSpec:typeof j!="function"&&j,isAdditionalChunk:0<V}).then(function(vt){return Ae(be.length,vt)})}).then(function(){return(0<Ie.length||L&&Ce)&&W.mutate({trans:I,type:"delete",keys:Ie,criteria:L,isAdditionalChunk:0<V}).then(function(vt){return Jl(D.table,Ie,vt)}).then(function(vt){return Ae(Ie.length,vt)})}).then(function(){return T.length>V+H&&_(V+pe)})})}var L=Yo(D)&&D.limit===1/0&&(typeof j!="function"||Ce)&&{index:D.index,range:D.range};return _(0).then(function(){if(0<le.length)throw new je("Error modifying one or more objects",le,Pe,xe);return T.length})})})},tn.prototype.delete=function(){var j=this._ctx,A=j.range;return!Yo(j)||j.table.schema.yProps||!j.isPrimKey&&A.type!==3?this.modify(Vx):this._write(function(D){var I=j.table.core.schema.primaryKey,F=A;return j.table.core.count({trans:D,query:{index:I,range:F}}).then(function(W){return j.table.core.mutate({trans:D,type:"deleteRange",range:F}).then(function(pe){var se=pe.failures,pe=pe.numFailures;if(pe)throw new je("Could not delete some values",Object.keys(se).map(function(ye){return se[ye]}),W-pe);return W-pe})})})},tn);function tn(){}var Vx=function(j,A){return A.value=null};function xN(j,A){return j<A?-1:j===A?0:1}function bN(j,A){return A<j?-1:j===A?0:1}function Oa(j,A,D){return j=j instanceof Qo?new j.Collection(j):j,j._ctx.error=new(D||TypeError)(A),j}function ec(j){return new j.Collection(j,function(){return zx("")}).limit(0)}function wf(j,A,D,I){var F,W,X,se,pe,ye,Ae,le=D.length;if(!D.every(function(Ce){return typeof Ce=="string"}))return Oa(j,Si);function Pe(Ce){F=Ce==="next"?function(_){return _.toUpperCase()}:function(_){return _.toLowerCase()},W=Ce==="next"?function(_){return _.toLowerCase()}:function(_){return _.toUpperCase()},X=Ce==="next"?xN:bN;var T=D.map(function(_){return{lower:W(_),upper:F(_)}}).sort(function(_,L){return X(_.lower,L.lower)});se=T.map(function(_){return _.upper}),pe=T.map(function(_){return _.lower}),Ae=(ye=Ce)==="next"?"":I}Pe("next"),j=new j.Collection(j,function(){return io(se[0],pe[le-1]+I)}),j._ondirectionchange=function(Ce){Pe(Ce)};var xe=0;return j._addAlgorithm(function(Ce,T,_){var L=Ce.key;if(typeof L!="string")return!1;var V=W(L);if(A(V,pe,xe))return!0;for(var H=null,Y=xe;Y<le;++Y){var ie=function(ue,be,_e,Ie,Be,Je){for(var dt=Math.min(ue.length,Ie.length),vt=-1,yt=0;yt<dt;++yt){var Wt=be[yt];if(Wt!==Ie[yt])return Be(ue[yt],_e[yt])<0?ue.substr(0,yt)+_e[yt]+_e.substr(yt+1):Be(ue[yt],Ie[yt])<0?ue.substr(0,yt)+Ie[yt]+_e.substr(yt+1):0<=vt?ue.substr(0,vt)+be[vt]+_e.substr(vt+1):null;Be(ue[yt],Wt)<0&&(vt=yt)}return dt<Ie.length&&Je==="next"?ue+_e.substr(ue.length):dt<ue.length&&Je==="prev"?ue.substr(0,_e.length):vt<0?null:ue.substr(0,vt)+Ie[vt]+_e.substr(vt+1)}(L,V,se[Y],pe[Y],X,ye);ie===null&&H===null?xe=Y+1:(H===null||0<X(H,ie))&&(H=ie)}return T(H!==null?function(){Ce.continue(H+Ae)}:_),!1}),j}function io(j,A,D,I){return{type:2,lower:j,upper:A,lowerOpen:D,upperOpen:I}}function zx(j){return{type:1,lower:j,upper:j}}var Qo=(Object.defineProperty(gr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),gr.prototype.between=function(j,A,D,I){D=D!==!1,I=I===!0;try{return 0<this._cmp(j,A)||this._cmp(j,A)===0&&(D||I)&&(!D||!I)?ec(this):new this.Collection(this,function(){return io(j,A,!D,!I)})}catch{return Oa(this,lr)}},gr.prototype.equals=function(j){return j==null?Oa(this,lr):new this.Collection(this,function(){return zx(j)})},gr.prototype.above=function(j){return j==null?Oa(this,lr):new this.Collection(this,function(){return io(j,void 0,!0)})},gr.prototype.aboveOrEqual=function(j){return j==null?Oa(this,lr):new this.Collection(this,function(){return io(j,void 0,!1)})},gr.prototype.below=function(j){return j==null?Oa(this,lr):new this.Collection(this,function(){return io(void 0,j,!1,!0)})},gr.prototype.belowOrEqual=function(j){return j==null?Oa(this,lr):new this.Collection(this,function(){return io(void 0,j)})},gr.prototype.startsWith=function(j){return typeof j!="string"?Oa(this,Si):this.between(j,j+Tr,!0,!0)},gr.prototype.startsWithIgnoreCase=function(j){return j===""?this.startsWith(j):wf(this,function(A,D){return A.indexOf(D[0])===0},[j],Tr)},gr.prototype.equalsIgnoreCase=function(j){return wf(this,function(A,D){return A===D[0]},[j],"")},gr.prototype.anyOfIgnoreCase=function(){var j=B.apply($,arguments);return j.length===0?ec(this):wf(this,function(A,D){return D.indexOf(A)!==-1},j,"")},gr.prototype.startsWithAnyOfIgnoreCase=function(){var j=B.apply($,arguments);return j.length===0?ec(this):wf(this,function(A,D){return D.some(function(I){return A.indexOf(I)===0})},j,Tr)},gr.prototype.anyOf=function(){var j=this,A=B.apply($,arguments),D=this._cmp;try{A.sort(D)}catch{return Oa(this,lr)}if(A.length===0)return ec(this);var I=new this.Collection(this,function(){return io(A[0],A[A.length-1])});I._ondirectionchange=function(W){D=W==="next"?j._ascending:j._descending,A.sort(D)};var F=0;return I._addAlgorithm(function(W,X,se){for(var pe=W.key;0<D(pe,A[F]);)if(++F===A.length)return X(se),!1;return D(pe,A[F])===0||(X(function(){W.continue(A[F])}),!1)}),I},gr.prototype.notEqual=function(j){return this.inAnyRange([[-1/0,j],[j,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},gr.prototype.noneOf=function(){var j=B.apply($,arguments);if(j.length===0)return new this.Collection(this);try{j.sort(this._ascending)}catch{return Oa(this,lr)}var A=j.reduce(function(D,I){return D?D.concat([[D[D.length-1][1],I]]):[[-1/0,I]]},null);return A.push([j[j.length-1],this.db._maxKey]),this.inAnyRange(A,{includeLowers:!1,includeUppers:!1})},gr.prototype.inAnyRange=function(L,A){var D=this,I=this._cmp,F=this._ascending,W=this._descending,X=this._min,se=this._max;if(L.length===0)return ec(this);if(!L.every(function(V){return V[0]!==void 0&&V[1]!==void 0&&F(V[0],V[1])<=0}))return Oa(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ne.InvalidArgument);var pe=!A||A.includeLowers!==!1,ye=A&&A.includeUppers===!0,Ae,le=F;function Pe(V,H){return le(V[0],H[0])}try{(Ae=L.reduce(function(V,H){for(var Y=0,ie=V.length;Y<ie;++Y){var ue=V[Y];if(I(H[0],ue[1])<0&&0<I(H[1],ue[0])){ue[0]=X(ue[0],H[0]),ue[1]=se(ue[1],H[1]);break}}return Y===ie&&V.push(H),V},[])).sort(Pe)}catch{return Oa(this,lr)}var xe=0,Ce=ye?function(V){return 0<F(V,Ae[xe][1])}:function(V){return 0<=F(V,Ae[xe][1])},T=pe?function(V){return 0<W(V,Ae[xe][0])}:function(V){return 0<=W(V,Ae[xe][0])},_=Ce,L=new this.Collection(this,function(){return io(Ae[0][0],Ae[Ae.length-1][1],!pe,!ye)});return L._ondirectionchange=function(V){le=V==="next"?(_=Ce,F):(_=T,W),Ae.sort(Pe)},L._addAlgorithm(function(V,H,Y){for(var ie,ue=V.key;_(ue);)if(++xe===Ae.length)return H(Y),!1;return!Ce(ie=ue)&&!T(ie)||(D._cmp(ue,Ae[xe][1])===0||D._cmp(ue,Ae[xe][0])===0||H(function(){le===F?V.continue(Ae[xe][0]):V.continue(Ae[xe][1])}),!1)}),L},gr.prototype.startsWithAnyOf=function(){var j=B.apply($,arguments);return j.every(function(A){return typeof A=="string"})?j.length===0?ec(this):this.inAnyRange(j.map(function(A){return[A,A+Tr]})):Oa(this,"startsWithAnyOf() only works with strings")},gr);function gr(){}function Ns(j){return fe(function(A){return tc(A),j(A.target.error),!1})}function tc(j){j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault()}var nc="storagemutated",jp="x-storagemutated-1",oo=Ho(null,nc),Ux=(Ys.prototype._lock=function(){return S(!Ye.global),++this._reculock,this._reculock!==1||Ye.global||(Ye.lockOwnerFor=this),this},Ys.prototype._unlock=function(){if(S(!Ye.global),--this._reculock==0)for(Ye.global||(Ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var j=this._blockedFuncs.shift();try{zt(j[1],j[0])}catch{}}return this},Ys.prototype._locked=function(){return this._reculock&&Ye.lockOwnerFor!==this},Ys.prototype.create=function(j){var A=this;if(!this.mode)return this;var D=this.db.idbdb,I=this.db._state.dbOpenError;if(S(!this.idbtrans),!j&&!D)switch(I&&I.name){case"DatabaseClosedError":throw new ne.DatabaseClosed(I);case"MissingAPIError":throw new ne.MissingAPI(I.message,I);default:throw new ne.OpenFailed(I)}if(!this.active)throw new ne.TransactionInactive;return S(this._completion._state===null),(j=this.idbtrans=j||(this.db.core||D).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=fe(function(F){tc(F),A._reject(j.error)}),j.onabort=fe(function(F){tc(F),A.active&&A._reject(new ne.Abort(j.error)),A.active=!1,A.on("abort").fire(F)}),j.oncomplete=fe(function(){A.active=!1,A._resolve(),"mutatedParts"in j&&oo.storagemutated.fire(j.mutatedParts)}),this},Ys.prototype._promise=function(j,A,D){var I=this;if(j==="readwrite"&&this.mode!=="readwrite")return pn(new ne.ReadOnly("Transaction is readonly"));if(!this.active)return pn(new ne.TransactionInactive);if(this._locked())return new ze(function(W,X){I._blockedFuncs.push([function(){I._promise(j,A,D).then(W,X)},Ye])});if(D)return ot(function(){var W=new ze(function(X,se){I._lock();var pe=A(X,se,I);pe&&pe.then&&pe.then(X,se)});return W.finally(function(){return I._unlock()}),W._lib=!0,W});var F=new ze(function(W,X){var se=A(W,X,I);se&&se.then&&se.then(W,X)});return F._lib=!0,F},Ys.prototype._root=function(){return this.parent?this.parent._root():this},Ys.prototype.waitFor=function(j){var A,D=this._root(),I=ze.resolve(j);D._waitingFor?D._waitingFor=D._waitingFor.then(function(){return I}):(D._waitingFor=I,D._waitingQueue=[],A=D.idbtrans.objectStore(D.storeNames[0]),function W(){for(++D._spinCount;D._waitingQueue.length;)D._waitingQueue.shift()();D._waitingFor&&(A.get(-1/0).onsuccess=W)}());var F=D._waitingFor;return new ze(function(W,X){I.then(function(se){return D._waitingQueue.push(fe(W.bind(null,se)))},function(se){return D._waitingQueue.push(fe(X.bind(null,se)))}).finally(function(){D._waitingFor===F&&(D._waitingFor=null)})})},Ys.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ne.Abort))},Ys.prototype.table=function(j){var A=this._memoizedTables||(this._memoizedTables={});if(f(A,j))return A[j];var D=this.schema[j];if(!D)throw new ne.NotFound("Table "+j+" not part of transaction");return D=new this.db.Table(j,D,this),D.core=this.db.core.table(j),A[j]=D},Ys);function Ys(){}function Np(j,A,D,I,F,W,X,se){return{name:j,keyPath:A,unique:D,multi:I,auto:F,compound:W,src:(D&&!X?"&":"")+(I?"*":"")+(F?"++":"")+Kx(A),type:se}}function Kx(j){return typeof j=="string"?j:j?"["+[].join.call(j,"+")+"]":""}function kp(j,A,D){return{name:j,primKey:A,indexes:D,mappedClass:null,idxByName:(I=function(F){return[F.name,F]},D.reduce(function(F,W,X){return X=I(W,X),X&&(F[X[0]]=X[1]),F},{}))};var I}var Su=function(j){try{return j.only([[]]),Su=function(){return[[]]},[[]]}catch{return Su=function(){return Tr},Tr}};function Ap(j){return j==null?function(){}:typeof j=="string"?(A=j).split(".").length===1?function(D){return D[A]}:function(D){return k(D,A)}:function(D){return k(D,j)};var A}function Gx(j){return[].slice.call(j)}var wN=0;function Cu(j){return j==null?":id":typeof j=="string"?j:"[".concat(j.join("+"),"]")}function SN(j,A,pe){function I(_){if(_.type===3)return null;if(_.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var xe=_.lower,Ce=_.upper,T=_.lowerOpen,_=_.upperOpen;return xe===void 0?Ce===void 0?null:A.upperBound(Ce,!!_):Ce===void 0?A.lowerBound(xe,!!T):A.bound(xe,Ce,!!T,!!_)}function F(Pe){var xe,Ce=Pe.name;return{name:Ce,schema:Pe,mutate:function(T){var _=T.trans,L=T.type,V=T.keys,H=T.values,Y=T.range;return new Promise(function(ie,ue){ie=fe(ie);var be=_.objectStore(Ce),_e=be.keyPath==null,Ie=L==="put"||L==="add";if(!Ie&&L!=="delete"&&L!=="deleteRange")throw new Error("Invalid operation type: "+L);var Be,Je=(V||H||{length:1}).length;if(V&&H&&V.length!==H.length)throw new Error("Given keys array must have same length as given values array.");if(Je===0)return ie({numFailures:0,failures:{},results:[],lastResult:void 0});function dt(Sr){++Wt,tc(Sr)}var vt=[],yt=[],Wt=0;if(L==="deleteRange"){if(Y.type===4)return ie({numFailures:Wt,failures:yt,results:[],lastResult:void 0});Y.type===3?vt.push(Be=be.clear()):vt.push(Be=be.delete(I(Y)))}else{var _e=Ie?_e?[H,V]:[H,null]:[V,null],lt=_e[0],zn=_e[1];if(Ie)for(var an=0;an<Je;++an)vt.push(Be=zn&&zn[an]!==void 0?be[L](lt[an],zn[an]):be[L](lt[an])),Be.onerror=dt;else for(an=0;an<Je;++an)vt.push(Be=be[L](lt[an])),Be.onerror=dt}function is(Sr){Sr=Sr.target.result,vt.forEach(function(Xo,$f){return Xo.error!=null&&(yt[$f]=Xo.error)}),ie({numFailures:Wt,failures:yt,results:L==="delete"?V:vt.map(function(Xo){return Xo.result}),lastResult:Sr})}Be.onerror=function(Sr){dt(Sr),is(Sr)},Be.onsuccess=is})},getMany:function(T){var _=T.trans,L=T.keys;return new Promise(function(V,H){V=fe(V);for(var Y,ie=_.objectStore(Ce),ue=L.length,be=new Array(ue),_e=0,Ie=0,Be=function(vt){vt=vt.target,be[vt._pos]=vt.result,++Ie===_e&&V(be)},Je=Ns(H),dt=0;dt<ue;++dt)L[dt]!=null&&((Y=ie.get(L[dt]))._pos=dt,Y.onsuccess=Be,Y.onerror=Je,++_e);_e===0&&V(be)})},get:function(T){var _=T.trans,L=T.key;return new Promise(function(V,H){V=fe(V);var Y=_.objectStore(Ce).get(L);Y.onsuccess=function(ie){return V(ie.target.result)},Y.onerror=Ns(H)})},query:(xe=ye,function(T){return new Promise(function(_,L){_=fe(_);var V,H,Y,_e=T.trans,ie=T.values,ue=T.limit,Be=T.query,be=ue===1/0?void 0:ue,Ie=Be.index,Be=Be.range,_e=_e.objectStore(Ce),Ie=Ie.isPrimaryKey?_e:_e.index(Ie.name),Be=I(Be);if(ue===0)return _({result:[]});xe?((be=ie?Ie.getAll(Be,be):Ie.getAllKeys(Be,be)).onsuccess=function(Je){return _({result:Je.target.result})},be.onerror=Ns(L)):(V=0,H=!ie&&"openKeyCursor"in Ie?Ie.openKeyCursor(Be):Ie.openCursor(Be),Y=[],H.onsuccess=function(Je){var dt=H.result;return dt?(Y.push(ie?dt.value:dt.primaryKey),++V===ue?_({result:Y}):void dt.continue()):_({result:Y})},H.onerror=Ns(L))})}),openCursor:function(T){var _=T.trans,L=T.values,V=T.query,H=T.reverse,Y=T.unique;return new Promise(function(ie,ue){ie=fe(ie);var Ie=V.index,be=V.range,_e=_.objectStore(Ce),_e=Ie.isPrimaryKey?_e:_e.index(Ie.name),Ie=H?Y?"prevunique":"prev":Y?"nextunique":"next",Be=!L&&"openKeyCursor"in _e?_e.openKeyCursor(I(be),Ie):_e.openCursor(I(be),Ie);Be.onerror=Ns(ue),Be.onsuccess=fe(function(Je){var dt,vt,yt,Wt,lt=Be.result;lt?(lt.___id=++wN,lt.done=!1,dt=lt.continue.bind(lt),vt=(vt=lt.continuePrimaryKey)&&vt.bind(lt),yt=lt.advance.bind(lt),Wt=function(){throw new Error("Cursor not stopped")},lt.trans=_,lt.stop=lt.continue=lt.continuePrimaryKey=lt.advance=function(){throw new Error("Cursor not started")},lt.fail=fe(ue),lt.next=function(){var zn=this,an=1;return this.start(function(){return an--?zn.continue():zn.stop()}).then(function(){return zn})},lt.start=function(zn){function an(){if(Be.result)try{zn()}catch(Sr){lt.fail(Sr)}else lt.done=!0,lt.start=function(){throw new Error("Cursor behind last entry")},lt.stop()}var is=new Promise(function(Sr,Xo){Sr=fe(Sr),Be.onerror=Ns(Xo),lt.fail=Xo,lt.stop=function($f){lt.stop=lt.continue=lt.continuePrimaryKey=lt.advance=Wt,Sr($f)}});return Be.onsuccess=fe(function(Sr){Be.onsuccess=an,an()}),lt.continue=dt,lt.continuePrimaryKey=vt,lt.advance=yt,an(),is},ie(lt)):ie(null)},ue)})},count:function(T){var _=T.query,L=T.trans,V=_.index,H=_.range;return new Promise(function(Y,ie){var ue=L.objectStore(Ce),be=V.isPrimaryKey?ue:ue.index(V.name),ue=I(H),be=ue?be.count(ue):be.count();be.onsuccess=fe(function(_e){return Y(_e.target.result)}),be.onerror=Ns(ie)})}}}var W,X,se,Ae=(X=pe,se=Gx((W=j).objectStoreNames),{schema:{name:W.name,tables:se.map(function(Pe){return X.objectStore(Pe)}).map(function(Pe){var xe=Pe.keyPath,_=Pe.autoIncrement,Ce=l(xe),T={},_={name:Pe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:xe==null,compound:Ce,keyPath:xe,autoIncrement:_,unique:!0,extractKey:Ap(xe)},indexes:Gx(Pe.indexNames).map(function(L){return Pe.index(L)}).map(function(Y){var V=Y.name,H=Y.unique,ie=Y.multiEntry,Y=Y.keyPath,ie={name:V,compound:l(Y),keyPath:Y,unique:H,multiEntry:ie,extractKey:Ap(Y)};return T[Cu(Y)]=ie}),getIndexByKeyPath:function(L){return T[Cu(L)]}};return T[":id"]=_.primaryKey,xe!=null&&(T[Cu(xe)]=_.primaryKey),_})},hasGetAll:0<se.length&&"getAll"in X.objectStore(se[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),pe=Ae.schema,ye=Ae.hasGetAll,Ae=pe.tables.map(F),le={};return Ae.forEach(function(Pe){return le[Pe.name]=Pe}),{stack:"dbcore",transaction:j.transaction.bind(j),table:function(Pe){if(!le[Pe])throw new Error("Table '".concat(Pe,"' not found"));return le[Pe]},MIN_KEY:-1/0,MAX_KEY:Su(A),schema:pe}}function Pp(j,A,D,I){var F=D.IDBKeyRange;return D.indexedDB,{dbcore:(I=SN(A,F,I),j.dbcore.reduce(function(W,X){return X=X.create,r(r({},W),X(W))},I))}}function Sf(j,I){var D=I.db,I=Pp(j._middlewares,D,j._deps,I);j.core=I.dbcore,j.tables.forEach(function(F){var W=F.name;j.core.schema.tables.some(function(X){return X.name===W})&&(F.core=j.core.table(W),j[W]instanceof j.Table&&(j[W].core=F.core))})}function Cf(j,A,D,I){D.forEach(function(F){var W=I[F];A.forEach(function(X){var se=function pe(ye,Ae){return b(ye,Ae)||(ye=u(ye))&&pe(ye,Ae)}(X,F);(!se||"value"in se&&se.value===void 0)&&(X===j.Transaction.prototype||X instanceof j.Transaction?g(X,F,{get:function(){return this.table(F)},set:function(pe){m(this,F,{value:pe,writable:!0,configurable:!0,enumerable:!0})}}):X[F]=new j.Table(F,W))})})}function Ep(j,A){A.forEach(function(D){for(var I in D)D[I]instanceof j.Table&&delete D[I]})}function CN(j,A){return j._cfg.version-A._cfg.version}function jN(j,A,D,I){var F=j._dbSchema;D.objectStoreNames.contains("$meta")&&!F.$meta&&(F.$meta=kp("$meta",Hx("")[0],[]),j._storeNames.push("$meta"));var W=j._createTransaction("readwrite",j._storeNames,F);W.create(D),W._completion.catch(I);var X=W._reject.bind(W),se=Ye.transless||Ye;ot(function(){return Ye.trans=W,Ye.transless=se,A!==0?(Sf(j,D),ye=A,((pe=W).storeNames.includes("$meta")?pe.table("$meta").get("version").then(function(Ae){return Ae??ye}):ze.resolve(ye)).then(function(Ae){return Pe=Ae,xe=W,Ce=D,T=[],Ae=(le=j)._versions,_=le._dbSchema=Nf(0,le.idbdb,Ce),(Ae=Ae.filter(function(L){return L._cfg.version>=Pe})).length!==0?(Ae.forEach(function(L){T.push(function(){var V=_,H=L._cfg.dbschema;kf(le,V,Ce),kf(le,H,Ce),_=le._dbSchema=H;var Y=Tp(V,H);Y.add.forEach(function(Ie){_p(Ce,Ie[0],Ie[1].primKey,Ie[1].indexes)}),Y.change.forEach(function(Ie){if(Ie.recreate)throw new ne.Upgrade("Not yet support for changing primary key");var Be=Ce.objectStore(Ie.name);Ie.add.forEach(function(Je){return jf(Be,Je)}),Ie.change.forEach(function(Je){Be.deleteIndex(Je.name),jf(Be,Je)}),Ie.del.forEach(function(Je){return Be.deleteIndex(Je)})});var ie=L._cfg.contentUpgrade;if(ie&&L._cfg.version>Pe){Sf(le,Ce),xe._memoizedTables={};var ue=P(H);Y.del.forEach(function(Ie){ue[Ie]=V[Ie]}),Ep(le,[le.Transaction.prototype]),Cf(le,[le.Transaction.prototype],o(ue),ue),xe.schema=ue;var be,_e=te(ie);return _e&&it(),Y=ze.follow(function(){var Ie;(be=ie(xe))&&_e&&(Ie=ut.bind(null,null),be.then(Ie,Ie))}),be&&typeof be.then=="function"?ze.resolve(be):Y.then(function(){return be})}}),T.push(function(V){var H,Y,ie=L._cfg.dbschema;H=ie,Y=V,[].slice.call(Y.db.objectStoreNames).forEach(function(ue){return H[ue]==null&&Y.db.deleteObjectStore(ue)}),Ep(le,[le.Transaction.prototype]),Cf(le,[le.Transaction.prototype],le._storeNames,le._dbSchema),xe.schema=le._dbSchema}),T.push(function(V){le.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(le.idbdb.version/10)===L._cfg.version?(le.idbdb.deleteObjectStore("$meta"),delete le._dbSchema.$meta,le._storeNames=le._storeNames.filter(function(H){return H!=="$meta"})):V.objectStore("$meta").put(L._cfg.version,"version"))})}),function L(){return T.length?ze.resolve(T.shift()(xe.idbtrans)).then(L):ze.resolve()}().then(function(){qx(_,Ce)})):ze.resolve();var le,Pe,xe,Ce,T,_}).catch(X)):(o(F).forEach(function(Ae){_p(D,Ae,F[Ae].primKey,F[Ae].indexes)}),Sf(j,D),void ze.follow(function(){return j.on.populate.fire(W)}).catch(X));var pe,ye})}function Wx(j,A){qx(j._dbSchema,A),A.db.version%10!=0||A.objectStoreNames.contains("$meta")||A.db.createObjectStore("$meta").add(Math.ceil(A.db.version/10-1),"version");var D=Nf(0,j.idbdb,A);kf(j,j._dbSchema,A);for(var I=0,F=Tp(D,j._dbSchema).change;I<F.length;I++){var W=function(X){if(X.change.length||X.recreate)return console.warn("Unable to patch indexes of table ".concat(X.name," because it has changes on the type of index or primary key.")),{value:void 0};var se=A.objectStore(X.name);X.add.forEach(function(pe){We&&console.debug("Dexie upgrade patch: Creating missing index ".concat(X.name,".").concat(pe.src)),jf(se,pe)})}(F[I]);if(typeof W=="object")return W.value}}function Tp(j,A){var D,I={del:[],add:[],change:[]};for(D in j)A[D]||I.del.push(D);for(D in A){var F=j[D],W=A[D];if(F){var X={name:D,def:W,recreate:!1,del:[],add:[],change:[]};if(""+(F.primKey.keyPath||"")!=""+(W.primKey.keyPath||"")||F.primKey.auto!==W.primKey.auto)X.recreate=!0,I.change.push(X);else{var se=F.idxByName,pe=W.idxByName,ye=void 0;for(ye in se)pe[ye]||X.del.push(ye);for(ye in pe){var Ae=se[ye],le=pe[ye];Ae?Ae.src!==le.src&&X.change.push(le):X.add.push(le)}(0<X.del.length||0<X.add.length||0<X.change.length)&&I.change.push(X)}}else I.add.push([D,W])}return I}function _p(j,A,D,I){var F=j.db.createObjectStore(A,D.keyPath?{keyPath:D.keyPath,autoIncrement:D.auto}:{autoIncrement:D.auto});return I.forEach(function(W){return jf(F,W)}),F}function qx(j,A){o(j).forEach(function(D){A.db.objectStoreNames.contains(D)||(We&&console.debug("Dexie: Creating missing table",D),_p(A,D,j[D].primKey,j[D].indexes))})}function jf(j,A){j.createIndex(A.name,A.keyPath,{unique:A.unique,multiEntry:A.multi})}function Nf(j,A,D){var I={};return y(A.objectStoreNames,0).forEach(function(F){for(var W=D.objectStore(F),X=Np(Kx(ye=W.keyPath),ye||"",!0,!1,!!W.autoIncrement,ye&&typeof ye!="string",!0),se=[],pe=0;pe<W.indexNames.length;++pe){var Ae=W.index(W.indexNames[pe]),ye=Ae.keyPath,Ae=Np(Ae.name,ye,!!Ae.unique,!!Ae.multiEntry,!1,ye&&typeof ye!="string",!1);se.push(Ae)}I[F]=kp(F,X,se)}),I}function kf(j,A,D){for(var I=D.db.objectStoreNames,F=0;F<I.length;++F){var W=I[F],X=D.objectStore(W);j._hasGetAll="getAll"in X;for(var se=0;se<X.indexNames.length;++se){var pe=X.indexNames[se],ye=X.index(pe).keyPath,Ae=typeof ye=="string"?ye:"["+y(ye).join("+")+"]";!A[W]||(ye=A[W].idxByName[Ae])&&(ye.name=pe,delete A[W].idxByName[Ae],A[W].idxByName[pe]=ye)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(j._hasGetAll=!1)}function Hx(j){return j.split(",").map(function(A,D){var W=A.split(":"),I=(F=W[1])===null||F===void 0?void 0:F.trim(),F=(A=W[0].trim()).replace(/([&*]|\+\+)/g,""),W=/^\[/.test(F)?F.match(/^\[(.*)\]$/)[1].split("+"):F;return Np(F,W||null,/\&/.test(A),/\*/.test(A),/\+\+/.test(A),l(W),D===0,I)})}var NN=(rc.prototype._createTableSchema=kp,rc.prototype._parseIndexSyntax=Hx,rc.prototype._parseStoresSpec=function(j,A){var D=this;o(j).forEach(function(I){if(j[I]!==null){var F=D._parseIndexSyntax(j[I]),W=F.shift();if(!W)throw new ne.Schema("Invalid schema for table "+I+": "+j[I]);if(W.unique=!0,W.multi)throw new ne.Schema("Primary key cannot be multiEntry*");F.forEach(function(X){if(X.auto)throw new ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!X.keyPath)throw new ne.Schema("Index must have a name and cannot be an empty string")}),F=D._createTableSchema(I,W,F),A[I]=F}})},rc.prototype.stores=function(D){var A=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,D):D;var D=A._versions,I={},F={};return D.forEach(function(W){c(I,W._cfg.storesSource),F=W._cfg.dbschema={},W._parseStoresSpec(I,F)}),A._dbSchema=F,Ep(A,[A._allTables,A,A.Transaction.prototype]),Cf(A,[A._allTables,A,A.Transaction.prototype,this._cfg.tables],o(F),F),A._storeNames=o(F),this},rc.prototype.upgrade=function(j){return this._cfg.contentUpgrade=Nt(this._cfg.contentUpgrade||re,j),this},rc);function rc(){}function Dp(j,A){var D=j._dbNamesDB;return D||(D=j._dbNamesDB=new Ni(rs,{addons:[],indexedDB:j,IDBKeyRange:A})).version(1).stores({dbnames:"name"}),D.table("dbnames")}function ju(j){return j&&typeof j.databases=="function"}function Rp(j){return ot(function(){return Ye.letThrough=!0,j()})}function Zo(j){return!("from"in j)}var Zr=function(j,A){if(!this){var D=new Zr;return j&&"d"in j&&c(D,j),D}c(this,arguments.length?{d:1,from:j,to:1<arguments.length?A:j}:{d:0})};function Nu(j,A,D){var I=Ct(A,D);if(!isNaN(I)){if(0<I)throw RangeError();if(Zo(j))return c(j,{from:A,to:D,d:1});var F=j.l,I=j.r;if(Ct(D,j.from)<0)return F?Nu(F,A,D):j.l={from:A,to:D,d:1,l:null,r:null},Qx(j);if(0<Ct(A,j.to))return I?Nu(I,A,D):j.r={from:A,to:D,d:1,l:null,r:null},Qx(j);Ct(A,j.from)<0&&(j.from=A,j.l=null,j.d=I?I.d+1:1),0<Ct(D,j.to)&&(j.to=D,j.r=null,j.d=j.l?j.l.d+1:1),D=!j.r,F&&!j.l&&ku(j,F),I&&D&&ku(j,I)}}function ku(j,A){Zo(A)||function D(I,pe){var W=pe.from,X=pe.to,se=pe.l,pe=pe.r;Nu(I,W,X),se&&D(I,se),pe&&D(I,pe)}(j,A)}function Yx(j,A){var D=Af(A),I=D.next();if(I.done)return!1;for(var F=I.value,W=Af(j),X=W.next(F.from),se=X.value;!I.done&&!X.done;){if(Ct(se.from,F.to)<=0&&0<=Ct(se.to,F.from))return!0;Ct(F.from,se.from)<0?F=(I=D.next(se.from)).value:se=(X=W.next(F.from)).value}return!1}function Af(j){var A=Zo(j)?null:{s:0,n:j};return{next:function(D){for(var I=0<arguments.length;A;)switch(A.s){case 0:if(A.s=1,I)for(;A.n.l&&Ct(D,A.n.from)<0;)A={up:A,n:A.n.l,s:1};else for(;A.n.l;)A={up:A,n:A.n.l,s:1};case 1:if(A.s=2,!I||Ct(D,A.n.to)<=0)return{value:A.n,done:!1};case 2:if(A.n.r){A.s=3,A={up:A,n:A.n.r,s:0};continue}case 3:A=A.up}return{done:!0}}}}function Qx(j){var A,D,I=(((A=j.r)===null||A===void 0?void 0:A.d)||0)-(((D=j.l)===null||D===void 0?void 0:D.d)||0),F=1<I?"r":I<-1?"l":"";F&&(A=F=="r"?"l":"r",D=r({},j),I=j[F],j.from=I.from,j.to=I.to,j[F]=I[F],D[F]=I[A],(j[A]=D).d=Zx(D)),j.d=Zx(j)}function Zx(D){var A=D.r,D=D.l;return(A?D?Math.max(A.d,D.d):A.d:D?D.d:0)+1}function Pf(j,A){return o(A).forEach(function(D){j[D]?ku(j[D],A[D]):j[D]=function I(F){var W,X,se={};for(W in F)f(F,W)&&(X=F[W],se[W]=!X||typeof X!="object"||O.has(X.constructor)?X:I(X));return se}(A[D])}),j}function Ef(j,A){return j.all||A.all||Object.keys(j).some(function(D){return A[D]&&Yx(A[D],j[D])})}h(Zr.prototype,((ss={add:function(j){return ku(this,j),this},addKey:function(j){return Nu(this,j,j),this},addKeys:function(j){var A=this;return j.forEach(function(D){return Nu(A,D,D)}),this},hasKey:function(j){var A=Af(this).next(j).value;return A&&Ct(A.from,j)<=0&&0<=Ct(A.to,j)}})[z]=function(){return Af(this)},ss));var Na={},Au={},Tf=!1;function Bt(j){Pf(Au,j),Tf||(Tf=!0,setTimeout(function(){Tf=!1,_f(Au,!(Au={}))},0))}function _f(j,A){A===void 0&&(A=!1);var D=new Set;if(j.all)for(var I=0,F=Object.values(Na);I<F.length;I++)Mp(X=F[I],j,D,A);else for(var W in j){var X,se=/^idb\:\/\/(.*)\/(.*)\//.exec(W);se&&(W=se[1],se=se[2],(X=Na["idb://".concat(W,"/").concat(se)])&&Mp(X,j,D,A))}D.forEach(function(pe){return pe()})}function Mp(j,A,D,I){for(var F=[],W=0,X=Object.entries(j.queries.query);W<X.length;W++){for(var se=X[W],pe=se[0],ye=[],Ae=0,le=se[1];Ae<le.length;Ae++){var Pe=le[Ae];Ef(A,Pe.obsSet)?Pe.subscribers.forEach(function(_){return D.add(_)}):I&&ye.push(Pe)}I&&F.push([pe,ye])}if(I)for(var xe=0,Ce=F;xe<Ce.length;xe++){var T=Ce[xe],pe=T[0],ye=T[1];j.queries.query[pe]=ye}}function Jx(j){var A=j._state,D=j._deps.indexedDB;if(A.isBeingOpened||j.idbdb)return A.dbReadyPromise.then(function(){return A.dbOpenError?pn(A.dbOpenError):j});A.isBeingOpened=!0,A.dbOpenError=null,A.openComplete=!1;var I=A.openCanceller,F=Math.round(10*j.verno),W=!1;function X(){if(A.openCanceller!==I)throw new ne.DatabaseClosed("db.open() was cancelled")}function se(){return new ze(function(Pe,xe){if(X(),!D)throw new ne.MissingAPI;var Ce=j.name,T=A.autoSchema||!F?D.open(Ce):D.open(Ce,F);if(!T)throw new ne.MissingAPI;T.onerror=Ns(xe),T.onblocked=fe(j._fireOnBlocked),T.onupgradeneeded=fe(function(_){var L;Ae=T.transaction,A.autoSchema&&!j._options.allowEmptyDB?(T.onerror=tc,Ae.abort(),T.result.close(),(L=D.deleteDatabase(Ce)).onsuccess=L.onerror=fe(function(){xe(new ne.NoSuchDatabase("Database ".concat(Ce," doesnt exist")))})):(Ae.onerror=Ns(xe),_=_.oldVersion>Math.pow(2,62)?0:_.oldVersion,le=_<1,j.idbdb=T.result,W&&Wx(j,Ae),jN(j,_/10,Ae,xe))},xe),T.onsuccess=fe(function(){Ae=null;var _,L,V,H,Y,ie=j.idbdb=T.result,ue=y(ie.objectStoreNames);if(0<ue.length)try{var be=ie.transaction((H=ue).length===1?H[0]:H,"readonly");if(A.autoSchema)L=ie,V=be,(_=j).verno=L.version/10,V=_._dbSchema=Nf(0,L,V),_._storeNames=y(L.objectStoreNames,0),Cf(_,[_._allTables],o(V),V);else if(kf(j,j._dbSchema,be),((Y=Tp(Nf(0,(Y=j).idbdb,be),Y._dbSchema)).add.length||Y.change.some(function(_e){return _e.add.length||_e.change.length}))&&!W)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ie.close(),F=ie.version+1,W=!0,Pe(se());Sf(j,be)}catch{}ns.push(j),ie.onversionchange=fe(function(_e){A.vcFired=!0,j.on("versionchange").fire(_e)}),ie.onclose=fe(function(){j.close({disableAutoOpen:!1})}),le&&(Y=j._deps,be=Ce,ie=Y.indexedDB,Y=Y.IDBKeyRange,ju(ie)||be===rs||Dp(ie,Y).put({name:be}).catch(re)),Pe()},xe)}).catch(function(Pe){switch(Pe==null?void 0:Pe.name){case"UnknownError":if(0<A.PR1398_maxLoop)return A.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),se();break;case"VersionError":if(0<F)return F=0,se()}return ze.reject(Pe)})}var pe,ye=A.dbReadyResolve,Ae=null,le=!1;return ze.race([I,(typeof navigator>"u"?ze.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Pe){function xe(){return indexedDB.databases().finally(Pe)}pe=setInterval(xe,100),xe()}).finally(function(){return clearInterval(pe)}):Promise.resolve()).then(se)]).then(function(){return X(),A.onReadyBeingFired=[],ze.resolve(Rp(function(){return j.on.ready.fire(j.vip)})).then(function Pe(){if(0<A.onReadyBeingFired.length){var xe=A.onReadyBeingFired.reduce(Nt,re);return A.onReadyBeingFired=[],ze.resolve(Rp(function(){return xe(j.vip)})).then(Pe)}})}).finally(function(){A.openCanceller===I&&(A.onReadyBeingFired=null,A.isBeingOpened=!1)}).catch(function(Pe){A.dbOpenError=Pe;try{Ae&&Ae.abort()}catch{}return I===A.openCanceller&&j._close(),pn(Pe)}).finally(function(){A.openComplete=!0,ye()}).then(function(){var Pe;return le&&(Pe={},j.tables.forEach(function(xe){xe.schema.indexes.forEach(function(Ce){Ce.name&&(Pe["idb://".concat(j.name,"/").concat(xe.name,"/").concat(Ce.name)]=new Zr(-1/0,[[[]]]))}),Pe["idb://".concat(j.name,"/").concat(xe.name,"/")]=Pe["idb://".concat(j.name,"/").concat(xe.name,"/:dels")]=new Zr(-1/0,[[[]]])}),oo(nc).fire(Pe),_f(Pe,!0)),j})}function Df(j){function A(W){return j.next(W)}var D=F(A),I=F(function(W){return j.throw(W)});function F(W){return function(pe){var se=W(pe),pe=se.value;return se.done?pe:pe&&typeof pe.then=="function"?pe.then(D,I):l(pe)?Promise.all(pe).then(D,I):D(pe)}}return F(A)()}function Pu(j,A,D){for(var I=l(j)?j.slice():[j],F=0;F<D;++F)I.push(A);return I}var Xx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(j){return r(r({},j),{table:function(A){var D=j.table(A),I=D.schema,F={},W=[];function X(le,Pe,xe){var Ce=Cu(le),T=F[Ce]=F[Ce]||[],_=le==null?0:typeof le=="string"?1:le.length,L=0<Pe,L=r(r({},xe),{name:L?"".concat(Ce,"(virtual-from:").concat(xe.name,")"):xe.name,lowLevelIndex:xe,isVirtual:L,keyTail:Pe,keyLength:_,extractKey:Ap(le),unique:!L&&xe.unique});return T.push(L),L.isPrimaryKey||W.push(L),1<_&&X(_===2?le[0]:le.slice(0,_-1),Pe+1,xe),T.sort(function(V,H){return V.keyTail-H.keyTail}),L}A=X(I.primaryKey.keyPath,0,I.primaryKey),F[":id"]=[A];for(var se=0,pe=I.indexes;se<pe.length;se++){var ye=pe[se];X(ye.keyPath,0,ye)}function Ae(le){var Pe,xe=le.query.index;return xe.isVirtual?r(r({},le),{query:{index:xe.lowLevelIndex,range:(Pe=le.query.range,xe=xe.keyTail,{type:Pe.type===1?2:Pe.type,lower:Pu(Pe.lower,Pe.lowerOpen?j.MAX_KEY:j.MIN_KEY,xe),lowerOpen:!0,upper:Pu(Pe.upper,Pe.upperOpen?j.MIN_KEY:j.MAX_KEY,xe),upperOpen:!0})}}):le}return r(r({},D),{schema:r(r({},I),{primaryKey:A,indexes:W,getIndexByKeyPath:function(le){return(le=F[Cu(le)])&&le[0]}}),count:function(le){return D.count(Ae(le))},query:function(le){return D.query(Ae(le))},openCursor:function(le){var Pe=le.query.index,xe=Pe.keyTail,Ce=Pe.isVirtual,T=Pe.keyLength;return Ce?D.openCursor(Ae(le)).then(function(L){return L&&_(L)}):D.openCursor(le);function _(L){return Object.create(L,{continue:{value:function(V){V!=null?L.continue(Pu(V,le.reverse?j.MAX_KEY:j.MIN_KEY,xe)):le.unique?L.continue(L.key.slice(0,T).concat(le.reverse?j.MIN_KEY:j.MAX_KEY,xe)):L.continue()}},continuePrimaryKey:{value:function(V,H){L.continuePrimaryKey(Pu(V,j.MAX_KEY,xe),H)}},primaryKey:{get:function(){return L.primaryKey}},key:{get:function(){var V=L.key;return T===1?V[0]:V.slice(0,T)}},value:{get:function(){return L.value}}})}}})}})}};function Rf(j,A,D,I){return D=D||{},I=I||"",o(j).forEach(function(F){var W,X,se;f(A,F)?(W=j[F],X=A[F],typeof W=="object"&&typeof X=="object"&&W&&X?(se=G(W))!==G(X)?D[I+F]=A[F]:se==="Object"?Rf(W,X,D,I+F+"."):W!==X&&(D[I+F]=A[F]):W!==X&&(D[I+F]=A[F])):D[I+F]=void 0}),o(A).forEach(function(F){f(j,F)||(D[I+F]=A[F])}),D}function Mf(j,A){return A.type==="delete"?A.keys:A.keys||A.values.map(j.extractKey)}var If={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(j){return r(r({},j),{table:function(A){var D=j.table(A),I=D.schema.primaryKey;return r(r({},D),{mutate:function(F){var W=Ye.trans,X=W.table(A).hook,se=X.deleting,pe=X.creating,ye=X.updating;switch(F.type){case"add":if(pe.fire===re)break;return W._promise("readwrite",function(){return Ae(F)},!0);case"put":if(pe.fire===re&&ye.fire===re)break;return W._promise("readwrite",function(){return Ae(F)},!0);case"delete":if(se.fire===re)break;return W._promise("readwrite",function(){return Ae(F)},!0);case"deleteRange":if(se.fire===re)break;return W._promise("readwrite",function(){return function le(Pe,xe,Ce){return D.query({trans:Pe,values:!1,query:{index:I,range:xe},limit:Ce}).then(function(T){var _=T.result;return Ae({type:"delete",keys:_,trans:Pe}).then(function(L){return 0<L.numFailures?Promise.reject(L.failures[0]):_.length<Ce?{failures:[],numFailures:0,lastResult:void 0}:le(Pe,r(r({},xe),{lower:_[_.length-1],lowerOpen:!0}),Ce)})})}(F.trans,F.range,1e4)},!0)}return D.mutate(F);function Ae(le){var Pe,xe,Ce,T=Ye.trans,_=le.keys||Mf(I,le);if(!_)throw new Error("Keys missing");return(le=le.type==="add"||le.type==="put"?r(r({},le),{keys:_}):r({},le)).type!=="delete"&&(le.values=a([],le.values)),le.keys&&(le.keys=a([],le.keys)),Pe=D,Ce=_,((xe=le).type==="add"?Promise.resolve([]):Pe.getMany({trans:xe.trans,keys:Ce,cache:"immutable"})).then(function(L){var V=_.map(function(H,Y){var ie,ue,be,_e=L[Y],Ie={onerror:null,onsuccess:null};return le.type==="delete"?se.fire.call(Ie,H,_e,T):le.type==="add"||_e===void 0?(ie=pe.fire.call(Ie,H,le.values[Y],T),H==null&&ie!=null&&(le.keys[Y]=H=ie,I.outbound||N(le.values[Y],I.keyPath,H))):(ie=Rf(_e,le.values[Y]),(ue=ye.fire.call(Ie,ie,H,_e,T))&&(be=le.values[Y],Object.keys(ue).forEach(function(Be){f(be,Be)?be[Be]=ue[Be]:N(be,Be,ue[Be])}))),Ie});return D.mutate(le).then(function(H){for(var Y=H.failures,ie=H.results,ue=H.numFailures,H=H.lastResult,be=0;be<_.length;++be){var _e=(ie||_)[be],Ie=V[be];_e==null?Ie.onerror&&Ie.onerror(Y[be]):Ie.onsuccess&&Ie.onsuccess(le.type==="put"&&L[be]?le.values[be]:_e)}return{failures:Y,results:ie,numFailures:ue,lastResult:H}}).catch(function(H){return V.forEach(function(Y){return Y.onerror&&Y.onerror(H)}),Promise.reject(H)})})}}})}})}};function Ip(j,A,D){try{if(!A||A.keys.length<j.length)return null;for(var I=[],F=0,W=0;F<A.keys.length&&W<j.length;++F)Ct(A.keys[F],j[W])===0&&(I.push(D?J(A.values[F]):A.values[F]),++W);return I.length===j.length?I:null}catch{return null}}var kN={stack:"dbcore",level:-1,create:function(j){return{table:function(A){var D=j.table(A);return r(r({},D),{getMany:function(I){if(!I.cache)return D.getMany(I);var F=Ip(I.keys,I.trans._cache,I.cache==="clone");return F?ze.resolve(F):D.getMany(I).then(function(W){return I.trans._cache={keys:I.keys,values:I.cache==="clone"?J(W):W},W})},mutate:function(I){return I.type!=="add"&&(I.trans._cache=null),D.mutate(I)}})}}}};function e0(j,A){return j.trans.mode==="readonly"&&!!j.subscr&&!j.trans.explicit&&j.trans.db._options.cache!=="disabled"&&!A.schema.primaryKey.outbound}function t0(j,A){switch(j){case"query":return A.values&&!A.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var AN={stack:"dbcore",level:0,name:"Observability",create:function(j){var A=j.schema.name,D=new Zr(j.MIN_KEY,j.MAX_KEY);return r(r({},j),{transaction:function(I,F,W){if(Ye.subscr&&F!=="readonly")throw new ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ye.querier));return j.transaction(I,F,W)},table:function(I){var F=j.table(I),W=F.schema,X=W.primaryKey,le=W.indexes,se=X.extractKey,pe=X.outbound,ye=X.autoIncrement&&le.filter(function(xe){return xe.compound&&xe.keyPath.includes(X.keyPath)}),Ae=r(r({},F),{mutate:function(xe){function Ce(Be){return Be="idb://".concat(A,"/").concat(I,"/").concat(Be),H[Be]||(H[Be]=new Zr)}var T,_,L,V=xe.trans,H=xe.mutatedParts||(xe.mutatedParts={}),Y=Ce(""),ie=Ce(":dels"),ue=xe.type,Ie=xe.type==="deleteRange"?[xe.range]:xe.type==="delete"?[xe.keys]:xe.values.length<50?[Mf(X,xe).filter(function(Be){return Be}),xe.values]:[],be=Ie[0],_e=Ie[1],Ie=xe.trans._cache;return l(be)?(Y.addKeys(be),(Ie=ue==="delete"||be.length===_e.length?Ip(be,Ie):null)||ie.addKeys(be),(Ie||_e)&&(T=Ce,_=Ie,L=_e,W.indexes.forEach(function(Be){var Je=T(Be.name||"");function dt(yt){return yt!=null?Be.extractKey(yt):null}function vt(yt){return Be.multiEntry&&l(yt)?yt.forEach(function(Wt){return Je.addKey(Wt)}):Je.addKey(yt)}(_||L).forEach(function(yt,zn){var lt=_&&dt(_[zn]),zn=L&&dt(L[zn]);Ct(lt,zn)!==0&&(lt!=null&&vt(lt),zn!=null&&vt(zn))})}))):be?(_e={from:(_e=be.lower)!==null&&_e!==void 0?_e:j.MIN_KEY,to:(_e=be.upper)!==null&&_e!==void 0?_e:j.MAX_KEY},ie.add(_e),Y.add(_e)):(Y.add(D),ie.add(D),W.indexes.forEach(function(Be){return Ce(Be.name).add(D)})),F.mutate(xe).then(function(Be){return!be||xe.type!=="add"&&xe.type!=="put"||(Y.addKeys(Be.results),ye&&ye.forEach(function(Je){for(var dt=xe.values.map(function(lt){return Je.extractKey(lt)}),vt=Je.keyPath.findIndex(function(lt){return lt===X.keyPath}),yt=0,Wt=Be.results.length;yt<Wt;++yt)dt[yt][vt]=Be.results[yt];Ce(Je.name).addKeys(dt)})),V.mutatedParts=Pf(V.mutatedParts||{},H),Be})}}),le=function(Ce){var T=Ce.query,Ce=T.index,T=T.range;return[Ce,new Zr((Ce=T.lower)!==null&&Ce!==void 0?Ce:j.MIN_KEY,(T=T.upper)!==null&&T!==void 0?T:j.MAX_KEY)]},Pe={get:function(xe){return[X,new Zr(xe.key)]},getMany:function(xe){return[X,new Zr().addKeys(xe.keys)]},count:le,query:le,openCursor:le};return o(Pe).forEach(function(xe){Ae[xe]=function(Ce){var T=Ye.subscr,_=!!T,L=e0(Ye,F)&&t0(xe,Ce)?Ce.obsSet={}:T;if(_){var V=function(_e){return _e="idb://".concat(A,"/").concat(I,"/").concat(_e),L[_e]||(L[_e]=new Zr)},H=V(""),Y=V(":dels"),T=Pe[xe](Ce),_=T[0],T=T[1];if((xe==="query"&&_.isPrimaryKey&&!Ce.values?Y:V(_.name||"")).add(T),!_.isPrimaryKey){if(xe!=="count"){var ie=xe==="query"&&pe&&Ce.values&&F.query(r(r({},Ce),{values:!1}));return F[xe].apply(this,arguments).then(function(_e){if(xe==="query"){if(pe&&Ce.values)return ie.then(function(dt){return dt=dt.result,H.addKeys(dt),_e});var Ie=Ce.values?_e.result.map(se):_e.result;(Ce.values?H:Y).addKeys(Ie)}else if(xe==="openCursor"){var Be=_e,Je=Ce.values;return Be&&Object.create(Be,{key:{get:function(){return Y.addKey(Be.primaryKey),Be.key}},primaryKey:{get:function(){var dt=Be.primaryKey;return Y.addKey(dt),dt}},value:{get:function(){return Je&&H.addKey(Be.primaryKey),Be.value}}})}return _e})}Y.add(D)}}return F[xe].apply(this,arguments)}}),Ae}})}};function n0(j,A,D){if(D.numFailures===0)return A;if(A.type==="deleteRange")return null;var I=A.keys?A.keys.length:"values"in A&&A.values?A.values.length:1;return D.numFailures===I?null:(A=r({},A),l(A.keys)&&(A.keys=A.keys.filter(function(F,W){return!(W in D.failures)})),"values"in A&&l(A.values)&&(A.values=A.values.filter(function(F,W){return!(W in D.failures)})),A)}function Op(j,A){return D=j,((I=A).lower===void 0||(I.lowerOpen?0<Ct(D,I.lower):0<=Ct(D,I.lower)))&&(j=j,(A=A).upper===void 0||(A.upperOpen?Ct(j,A.upper)<0:Ct(j,A.upper)<=0));var D,I}function r0(j,A,Pe,I,F,W){if(!Pe||Pe.length===0)return j;var X=A.query.index,se=X.multiEntry,pe=A.query.range,ye=I.schema.primaryKey.extractKey,Ae=X.extractKey,le=(X.lowLevelIndex||X).extractKey,Pe=Pe.reduce(function(xe,Ce){var T=xe,_=[];if(Ce.type==="add"||Ce.type==="put")for(var L=new Zr,V=Ce.values.length-1;0<=V;--V){var H,Y=Ce.values[V],ie=ye(Y);L.hasKey(ie)||(H=Ae(Y),(se&&l(H)?H.some(function(Be){return Op(Be,pe)}):Op(H,pe))&&(L.addKey(ie),_.push(Y)))}switch(Ce.type){case"add":var ue=new Zr().addKeys(A.values?xe.map(function(Je){return ye(Je)}):xe),T=xe.concat(A.values?_.filter(function(Je){return Je=ye(Je),!ue.hasKey(Je)&&(ue.addKey(Je),!0)}):_.map(function(Je){return ye(Je)}).filter(function(Je){return!ue.hasKey(Je)&&(ue.addKey(Je),!0)}));break;case"put":var be=new Zr().addKeys(Ce.values.map(function(Je){return ye(Je)}));T=xe.filter(function(Je){return!be.hasKey(A.values?ye(Je):Je)}).concat(A.values?_:_.map(function(Je){return ye(Je)}));break;case"delete":var _e=new Zr().addKeys(Ce.keys);T=xe.filter(function(Je){return!_e.hasKey(A.values?ye(Je):Je)});break;case"deleteRange":var Ie=Ce.range;T=xe.filter(function(Je){return!Op(ye(Je),Ie)})}return T},j);return Pe===j?j:(Pe.sort(function(xe,Ce){return Ct(le(xe),le(Ce))||Ct(ye(xe),ye(Ce))}),A.limit&&A.limit<1/0&&(Pe.length>A.limit?Pe.length=A.limit:j.length===A.limit&&Pe.length<A.limit&&(F.dirty=!0)),W?Object.freeze(Pe):Pe)}function a0(j,A){return Ct(j.lower,A.lower)===0&&Ct(j.upper,A.upper)===0&&!!j.lowerOpen==!!A.lowerOpen&&!!j.upperOpen==!!A.upperOpen}function PN(j,A){return function(D,I,F,W){if(D===void 0)return I!==void 0?-1:0;if(I===void 0)return 1;if((I=Ct(D,I))===0){if(F&&W)return 0;if(F)return 1;if(W)return-1}return I}(j.lower,A.lower,j.lowerOpen,A.lowerOpen)<=0&&0<=function(D,I,F,W){if(D===void 0)return I!==void 0?1:0;if(I===void 0)return-1;if((I=Ct(D,I))===0){if(F&&W)return 0;if(F)return-1;if(W)return 1}return I}(j.upper,A.upper,j.upperOpen,A.upperOpen)}function EN(j,A,D,I){j.subscribers.add(D),I.addEventListener("abort",function(){var F,W;j.subscribers.delete(D),j.subscribers.size===0&&(F=j,W=A,setTimeout(function(){F.subscribers.size===0&&M(W,F)},3e3))})}var TN={stack:"dbcore",level:0,name:"Cache",create:function(j){var A=j.schema.name;return r(r({},j),{transaction:function(D,I,F){var W,X,se=j.transaction(D,I,F);return I==="readwrite"&&(X=(W=new AbortController).signal,F=function(pe){return function(){if(W.abort(),I==="readwrite"){for(var ye=new Set,Ae=0,le=D;Ae<le.length;Ae++){var Pe=le[Ae],xe=Na["idb://".concat(A,"/").concat(Pe)];if(xe){var Ce=j.table(Pe),T=xe.optimisticOps.filter(function(Je){return Je.trans===se});if(se._explicit&&pe&&se.mutatedParts)for(var _=0,L=Object.values(xe.queries.query);_<L.length;_++)for(var V=0,H=(ue=L[_]).slice();V<H.length;V++)Ef((be=H[V]).obsSet,se.mutatedParts)&&(M(ue,be),be.subscribers.forEach(function(Je){return ye.add(Je)}));else if(0<T.length){xe.optimisticOps=xe.optimisticOps.filter(function(Je){return Je.trans!==se});for(var Y=0,ie=Object.values(xe.queries.query);Y<ie.length;Y++)for(var ue,be,_e,Ie=0,Be=(ue=ie[Y]).slice();Ie<Be.length;Ie++)(be=Be[Ie]).res!=null&&se.mutatedParts&&(pe&&!be.dirty?(_e=Object.isFrozen(be.res),_e=r0(be.res,be.req,T,Ce,be,_e),be.dirty?(M(ue,be),be.subscribers.forEach(function(Je){return ye.add(Je)})):_e!==be.res&&(be.res=_e,be.promise=ze.resolve({result:_e}))):(be.dirty&&M(ue,be),be.subscribers.forEach(function(Je){return ye.add(Je)})))}}}ye.forEach(function(Je){return Je()})}}},se.addEventListener("abort",F(!1),{signal:X}),se.addEventListener("error",F(!1),{signal:X}),se.addEventListener("complete",F(!0),{signal:X})),se},table:function(D){var I=j.table(D),F=I.schema.primaryKey;return r(r({},I),{mutate:function(W){var X=Ye.trans;if(F.outbound||X.db._options.cache==="disabled"||X.explicit||X.idbtrans.mode!=="readwrite")return I.mutate(W);var se=Na["idb://".concat(A,"/").concat(D)];return se?(X=I.mutate(W),W.type!=="add"&&W.type!=="put"||!(50<=W.values.length||Mf(F,W).some(function(pe){return pe==null}))?(se.optimisticOps.push(W),W.mutatedParts&&Bt(W.mutatedParts),X.then(function(pe){0<pe.numFailures&&(M(se.optimisticOps,W),(pe=n0(0,W,pe))&&se.optimisticOps.push(pe),W.mutatedParts&&Bt(W.mutatedParts))}),X.catch(function(){M(se.optimisticOps,W),W.mutatedParts&&Bt(W.mutatedParts)})):X.then(function(pe){var ye=n0(0,r(r({},W),{values:W.values.map(function(Ae,le){var Pe;return pe.failures[le]?Ae:(Ae=(Pe=F.keyPath)!==null&&Pe!==void 0&&Pe.includes(".")?J(Ae):r({},Ae),N(Ae,F.keyPath,pe.results[le]),Ae)})}),pe);se.optimisticOps.push(ye),queueMicrotask(function(){return W.mutatedParts&&Bt(W.mutatedParts)})}),X):I.mutate(W)},query:function(W){if(!e0(Ye,I)||!t0("query",W))return I.query(W);var X=((ye=Ye.trans)===null||ye===void 0?void 0:ye.db._options.cache)==="immutable",le=Ye,se=le.requery,pe=le.signal,ye=function(Ce,T,_,L){var V=Na["idb://".concat(Ce,"/").concat(T)];if(!V)return[];if(!(T=V.queries[_]))return[null,!1,V,null];var H=T[(L.query?L.query.index.name:null)||""];if(!H)return[null,!1,V,null];switch(_){case"query":var Y=H.find(function(ie){return ie.req.limit===L.limit&&ie.req.values===L.values&&a0(ie.req.query.range,L.query.range)});return Y?[Y,!0,V,H]:[H.find(function(ie){return("limit"in ie.req?ie.req.limit:1/0)>=L.limit&&(!L.values||ie.req.values)&&PN(ie.req.query.range,L.query.range)}),!1,V,H];case"count":return Y=H.find(function(ie){return a0(ie.req.query.range,L.query.range)}),[Y,!!Y,V,H]}}(A,D,"query",W),Ae=ye[0],le=ye[1],Pe=ye[2],xe=ye[3];return Ae&&le?Ae.obsSet=W.obsSet:(le=I.query(W).then(function(Ce){var T=Ce.result;if(Ae&&(Ae.res=T),X){for(var _=0,L=T.length;_<L;++_)Object.freeze(T[_]);Object.freeze(T)}else Ce.result=J(T);return Ce}).catch(function(Ce){return xe&&Ae&&M(xe,Ae),Promise.reject(Ce)}),Ae={obsSet:W.obsSet,promise:le,subscribers:new Set,type:"query",req:W,dirty:!1},xe?xe.push(Ae):(xe=[Ae],(Pe=Pe||(Na["idb://".concat(A,"/").concat(D)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[W.query.index.name||""]=xe)),EN(Ae,xe,se,pe),Ae.promise.then(function(Ce){return{result:r0(Ce.result,W,Pe==null?void 0:Pe.optimisticOps,I,Ae,X)}})}})}})}};function Of(j,A){return new Proxy(j,{get:function(D,I,F){return I==="db"?A:Reflect.get(D,I,F)}})}var Ni=(Xn.prototype.version=function(j){if(isNaN(j)||j<.1)throw new ne.Type("Given version is not a positive number");if(j=Math.round(10*j)/10,this.idbdb||this._state.isBeingOpened)throw new ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,j);var A=this._versions,D=A.filter(function(I){return I._cfg.version===j})[0];return D||(D=new this.Version(j),A.push(D),A.sort(CN),D.stores({}),this._state.autoSchema=!1,D)},Xn.prototype._whenReady=function(j){var A=this;return this.idbdb&&(this._state.openComplete||Ye.letThrough||this._vip)?j():new ze(function(D,I){if(A._state.openComplete)return I(new ne.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return void I(new ne.DatabaseClosed);A.open().catch(re)}A._state.dbReadyPromise.then(D,I)}).then(j)},Xn.prototype.use=function(j){var A=j.stack,D=j.create,I=j.level,F=j.name;return F&&this.unuse({stack:A,name:F}),j=this._middlewares[A]||(this._middlewares[A]=[]),j.push({stack:A,create:D,level:I??10,name:F}),j.sort(function(W,X){return W.level-X.level}),this},Xn.prototype.unuse=function(j){var A=j.stack,D=j.name,I=j.create;return A&&this._middlewares[A]&&(this._middlewares[A]=this._middlewares[A].filter(function(F){return I?F.create!==I:!!D&&F.name!==D})),this},Xn.prototype.open=function(){var j=this;return zt(st,function(){return Jx(j)})},Xn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var j=this._state,A=ns.indexOf(this);if(0<=A&&ns.splice(A,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}j.isBeingOpened||(j.dbReadyPromise=new ze(function(D){j.dbReadyResolve=D}),j.openCanceller=new ze(function(D,I){j.cancelOpen=I}))},Xn.prototype.close=function(D){var A=(D===void 0?{disableAutoOpen:!0}:D).disableAutoOpen,D=this._state;A?(D.isBeingOpened&&D.cancelOpen(new ne.DatabaseClosed),this._close(),D.autoOpen=!1,D.dbOpenError=new ne.DatabaseClosed):(this._close(),D.autoOpen=this._options.autoOpen||D.isBeingOpened,D.openComplete=!1,D.dbOpenError=null)},Xn.prototype.delete=function(j){var A=this;j===void 0&&(j={disableAutoOpen:!0});var D=0<arguments.length&&typeof arguments[0]!="object",I=this._state;return new ze(function(F,W){function X(){A.close(j);var se=A._deps.indexedDB.deleteDatabase(A.name);se.onsuccess=fe(function(){var pe,ye,Ae;pe=A._deps,ye=A.name,Ae=pe.indexedDB,pe=pe.IDBKeyRange,ju(Ae)||ye===rs||Dp(Ae,pe).delete(ye).catch(re),F()}),se.onerror=Ns(W),se.onblocked=A._fireOnBlocked}if(D)throw new ne.InvalidArgument("Invalid closeOptions argument to db.delete()");I.isBeingOpened?I.dbReadyPromise.then(X):X()})},Xn.prototype.backendDB=function(){return this.idbdb},Xn.prototype.isOpen=function(){return this.idbdb!==null},Xn.prototype.hasBeenClosed=function(){var j=this._state.dbOpenError;return j&&j.name==="DatabaseClosed"},Xn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Xn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Xn.prototype,"tables",{get:function(){var j=this;return o(this._allTables).map(function(A){return j._allTables[A]})},enumerable:!1,configurable:!0}),Xn.prototype.transaction=function(){var j=(function(A,D,I){var F=arguments.length;if(F<2)throw new ne.InvalidArgument("Too few arguments");for(var W=new Array(F-1);--F;)W[F-1]=arguments[F];return I=W.pop(),[A,R(W),I]}).apply(this,arguments);return this._transaction.apply(this,j)},Xn.prototype._transaction=function(j,A,D){var I=this,F=Ye.trans;F&&F.db===this&&j.indexOf("!")===-1||(F=null);var W,X,se=j.indexOf("?")!==-1;j=j.replace("!","").replace("?","");try{if(X=A.map(function(ye){if(ye=ye instanceof I.Table?ye.name:ye,typeof ye!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ye}),j=="r"||j===js)W=js;else{if(j!="rw"&&j!=Ci)throw new ne.InvalidArgument("Invalid transaction mode: "+j);W=Ci}if(F){if(F.mode===js&&W===Ci){if(!se)throw new ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");F=null}F&&X.forEach(function(ye){if(F&&F.storeNames.indexOf(ye)===-1){if(!se)throw new ne.SubTransaction("Table "+ye+" not included in parent transaction.");F=null}}),se&&F&&!F.active&&(F=null)}}catch(ye){return F?F._promise(null,function(Ae,le){le(ye)}):pn(ye)}var pe=(function ye(Ae,le,Pe,xe,Ce){return ze.resolve().then(function(){var T=Ye.transless||Ye,_=Ae._createTransaction(le,Pe,Ae._dbSchema,xe);if(_.explicit=!0,T={trans:_,transless:T},xe)_.idbtrans=xe.idbtrans;else try{_.create(),_.idbtrans._explicit=!0,Ae._state.PR1398_maxLoop=3}catch(H){return H.name===me.InvalidState&&Ae.isOpen()&&0<--Ae._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ae.close({disableAutoOpen:!1}),Ae.open().then(function(){return ye(Ae,le,Pe,null,Ce)})):pn(H)}var L,V=te(Ce);return V&&it(),T=ze.follow(function(){var H;(L=Ce.call(_,_))&&(V?(H=ut.bind(null,null),L.then(H,H)):typeof L.next=="function"&&typeof L.throw=="function"&&(L=Df(L)))},T),(L&&typeof L.then=="function"?ze.resolve(L).then(function(H){return _.active?H:pn(new ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):T.then(function(){return L})).then(function(H){return xe&&_._resolve(),_._completion.then(function(){return H})}).catch(function(H){return _._reject(H),pn(H)})})}).bind(null,this,W,X,F,D);return F?F._promise(W,pe,"lock"):Ye.trans?zt(Ye.transless,function(){return I._whenReady(pe)}):this._whenReady(pe)},Xn.prototype.table=function(j){if(!f(this._allTables,j))throw new ne.InvalidTable("Table ".concat(j," does not exist"));return this._allTables[j]},Xn);function Xn(j,A){var D=this;this._middlewares={},this.verno=0;var I=Xn.dependencies;this._options=A=r({addons:Xn.addons,autoOpen:!0,indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange,cache:"cloned"},A),this._deps={indexedDB:A.indexedDB,IDBKeyRange:A.IDBKeyRange},I=A.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var F,W,X,se,pe,ye={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:re,dbReadyPromise:null,cancelOpen:re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:A.autoOpen};ye.dbReadyPromise=new ze(function(le){ye.dbReadyResolve=le}),ye.openCanceller=new ze(function(le,Pe){ye.cancelOpen=Pe}),this._state=ye,this.name=j,this.on=Ho(this,"populate","blocked","versionchange","close",{ready:[Nt,re]}),this.once=function(le,Pe){var xe=function(){for(var Ce=[],T=0;T<arguments.length;T++)Ce[T]=arguments[T];D.on(le).unsubscribe(xe),Pe.apply(D,Ce)};return D.on(le,xe)},this.on.ready.subscribe=w(this.on.ready.subscribe,function(le){return function(Pe,xe){Xn.vip(function(){var Ce,T=D._state;T.openComplete?(T.dbOpenError||ze.resolve().then(Pe),xe&&le(Pe)):T.onReadyBeingFired?(T.onReadyBeingFired.push(Pe),xe&&le(Pe)):(le(Pe),Ce=D,xe||le(function _(){Ce.on.ready.unsubscribe(Pe),Ce.on.ready.unsubscribe(_)}))})}}),this.Collection=(F=this,wu(yN.prototype,function(L,_){this.db=F;var xe=jn,Ce=null;if(_)try{xe=_()}catch(V){Ce=V}var T=L._ctx,_=T.table,L=_.hook.reading.fire;this._ctx={table:_,index:T.index,isPrimKey:!T.index||_.schema.primKey.keyPath&&T.index===_.schema.primKey.name,range:xe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Ce,or:T.or,valueMapper:L!==He?L:null}})),this.Table=(W=this,wu(yf.prototype,function(le,Pe,xe){this.db=W,this._tx=xe,this.name=le,this.schema=Pe,this.hook=W._allTables[le]?W._allTables[le].hook:Ho(null,{creating:[Fe,re],reading:[Oe,He],updating:[de,re],deleting:[Se,re]})})),this.Transaction=(X=this,wu(Ux.prototype,function(le,Pe,xe,Ce,T){var _=this;le!=="readonly"&&Pe.forEach(function(L){L=(L=xe[L])===null||L===void 0?void 0:L.yProps,L&&(Pe=Pe.concat(L.map(function(V){return V.updatesTable})))}),this.db=X,this.mode=le,this.storeNames=Pe,this.schema=xe,this.chromeTransactionDurability=Ce,this.idbtrans=null,this.on=Ho(this,"complete","error","abort"),this.parent=T||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ze(function(L,V){_._resolve=L,_._reject=V}),this._completion.then(function(){_.active=!1,_.on.complete.fire()},function(L){var V=_.active;return _.active=!1,_.on.error.fire(L),_.parent?_.parent._reject(L):V&&_.idbtrans&&_.idbtrans.abort(),pn(L)})})),this.Version=(se=this,wu(NN.prototype,function(le){this.db=se,this._cfg={version:le,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(pe=this,wu(Qo.prototype,function(le,Pe,xe){if(this.db=pe,this._ctx={table:le,index:Pe===":id"?null:Pe,or:xe},this._cmp=this._ascending=Ct,this._descending=function(Ce,T){return Ct(T,Ce)},this._max=function(Ce,T){return 0<Ct(Ce,T)?Ce:T},this._min=function(Ce,T){return Ct(Ce,T)<0?Ce:T},this._IDBKeyRange=pe._deps.IDBKeyRange,!this._IDBKeyRange)throw new ne.MissingAPI})),this.on("versionchange",function(le){0<le.newVersion?console.warn("Another connection wants to upgrade database '".concat(D.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(D.name,"'. Closing db now to resume the delete request.")),D.close({disableAutoOpen:!1})}),this.on("blocked",function(le){!le.newVersion||le.newVersion<le.oldVersion?console.warn("Dexie.delete('".concat(D.name,"') was blocked")):console.warn("Upgrade '".concat(D.name,"' blocked by other connection holding version ").concat(le.oldVersion/10))}),this._maxKey=Su(A.IDBKeyRange),this._createTransaction=function(le,Pe,xe,Ce){return new D.Transaction(le,Pe,xe,D._options.chromeTransactionDurability,Ce)},this._fireOnBlocked=function(le){D.on("blocked").fire(le),ns.filter(function(Pe){return Pe.name===D.name&&Pe!==D&&!Pe._state.vcFired}).map(function(Pe){return Pe.on("versionchange").fire(le)})},this.use(kN),this.use(TN),this.use(AN),this.use(Xx),this.use(If);var Ae=new Proxy(this,{get:function(le,Pe,xe){if(Pe==="_vip")return!0;if(Pe==="table")return function(T){return Of(D.table(T),Ae)};var Ce=Reflect.get(le,Pe,xe);return Ce instanceof yf?Of(Ce,Ae):Pe==="tables"?Ce.map(function(T){return Of(T,Ae)}):Pe==="_createTransaction"?function(){return Of(Ce.apply(this,arguments),Ae)}:Ce}});this.vip=Ae,I.forEach(function(le){return le(D)})}var Lf,ss=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",_N=(Lp.prototype.subscribe=function(j,A,D){return this._subscribe(j&&typeof j!="function"?j:{next:j,error:A,complete:D})},Lp.prototype[ss]=function(){return this},Lp);function Lp(j){this._subscribe=j}try{Lf={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Lf={indexedDB:null,IDBKeyRange:null}}function s0(j){var A,D=!1,I=new _N(function(F){var W=te(j),X,se=!1,pe={},ye={},Ae={get closed(){return se},unsubscribe:function(){se||(se=!0,X&&X.abort(),le&&oo.storagemutated.unsubscribe(xe))}};F.start&&F.start(Ae);var le=!1,Pe=function(){return Cs(Ce)},xe=function(T){Pf(pe,T),Ef(ye,pe)&&Pe()},Ce=function(){var T,_,L;!se&&Lf.indexedDB&&(pe={},T={},X&&X.abort(),X=new AbortController,L=function(V){var H=Sn();try{W&&it();var Y=ot(j,V);return Y=W?Y.finally(ut):Y}finally{H&&Jn()}}(_={subscr:T,signal:X.signal,requery:Pe,querier:j,trans:null}),Promise.resolve(L).then(function(V){D=!0,A=V,se||_.signal.aborted||(pe={},function(H){for(var Y in H)if(f(H,Y))return;return 1}(ye=T)||le||(oo(nc,xe),le=!0),Cs(function(){return!se&&F.next&&F.next(V)}))},function(V){D=!1,["DatabaseClosedError","AbortError"].includes(V==null?void 0:V.name)||se||Cs(function(){se||F.error&&F.error(V)})}))};return setTimeout(Pe,0),Ae});return I.hasValue=function(){return D},I.getValue=function(){return A},I}var Jo=Ni;function $p(j){var A=lo;try{lo=!0,oo.storagemutated.fire(j),_f(j,!0)}finally{lo=A}}h(Jo,r(r({},we),{delete:function(j){return new Jo(j,{addons:[]}).delete()},exists:function(j){return new Jo(j,{addons:[]}).open().then(function(A){return A.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(j){try{return A=Jo.dependencies,D=A.indexedDB,A=A.IDBKeyRange,(ju(D)?Promise.resolve(D.databases()).then(function(I){return I.map(function(F){return F.name}).filter(function(F){return F!==rs})}):Dp(D,A).toCollection().primaryKeys()).then(j)}catch{return pn(new ne.MissingAPI)}var A,D},defineClass:function(){return function(j){c(this,j)}},ignoreTransaction:function(j){return Ye.trans?zt(Ye.transless,j):j()},vip:Rp,async:function(j){return function(){try{var A=Df(j.apply(this,arguments));return A&&typeof A.then=="function"?A:ze.resolve(A)}catch(D){return pn(D)}}},spawn:function(j,A,D){try{var I=Df(j.apply(D,A||[]));return I&&typeof I.then=="function"?I:ze.resolve(I)}catch(F){return pn(F)}},currentTransaction:{get:function(){return Ye.trans||null}},waitFor:function(j,A){return A=ze.resolve(typeof j=="function"?Jo.ignoreTransaction(j):j).timeout(A||6e4),Ye.trans?Ye.trans.waitFor(A):A},Promise:ze,debug:{get:function(){return We},set:function(j){kt(j)}},derive:v,extend:c,props:h,override:w,Events:Ho,on:oo,liveQuery:s0,extendObservabilitySet:Pf,getByKeyPath:k,setByKeyPath:N,delByKeyPath:function(j,A){typeof A=="string"?N(j,A,void 0):"length"in A&&[].map.call(A,function(D){N(j,D,void 0)})},shallowClone:P,deepClone:J,getObjectDiff:Rf,cmp:Ct,asap:C,minKey:-1/0,addons:[],connections:ns,errnames:me,dependencies:Lf,cache:Na,semVer:"4.2.1",version:"4.2.1".split(".").map(function(j){return parseInt(j)}).reduce(function(j,A,D){return j+A/Math.pow(10,2*D)})})),Jo.maxKey=Su(Jo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(oo(nc,function(j){lo||(j=new CustomEvent(jp,{detail:j}),lo=!0,dispatchEvent(j),lo=!1)}),addEventListener(jp,function(j){j=j.detail,lo||$p(j)}));var ac,lo=!1,i0=function(){};return typeof BroadcastChannel<"u"&&((i0=function(){(ac=new BroadcastChannel(jp)).onmessage=function(j){return j.data&&$p(j.data)}})(),typeof ac.unref=="function"&&ac.unref(),oo(nc,function(j){lo||ac.postMessage(j)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(j){if(!Ni.disableBfCache&&j.persisted){We&&console.debug("Dexie: handling persisted pagehide"),ac!=null&&ac.close();for(var A=0,D=ns;A<D.length;A++)D[A].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(j){!Ni.disableBfCache&&j.persisted&&(We&&console.debug("Dexie: handling persisted pageshow"),i0(),$p({all:new Zr(-1/0,[[]])}))})),ze.rejectionMapper=function(j,A){return!j||j instanceof ae||j instanceof TypeError||j instanceof SyntaxError||!j.name||!ke[j.name]?j:(A=new ke[j.name](A||j.message,j),"stack"in j&&g(A,"stack",{get:function(){return this.inner.stack}}),A)},kt(We),r(Ni,Object.freeze({__proto__:null,Dexie:Ni,liveQuery:s0,Entity:$t,cmp:Ct,PropModification:Xl,replacePrefix:function(j,A){return new Xl({replacePrefix:[j,A]})},add:function(j){return new Xl({add:j})},remove:function(j){return new Xl({remove:j})},default:Ni,RangeSet:Zr,mergeRanges:ku,rangesOverlap:Yx}),{default:Ni}),Ni})})(LH);var gCe=LH.exports;const IE=yi(gCe),MF=Symbol.for("Dexie"),Id=globalThis[MF]||(globalThis[MF]=IE);if(IE.semVer!==Id.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${IE.semVer} and ${Id.semVer}`);const{liveQuery:ynt,mergeRanges:xnt,rangesOverlap:bnt,RangeSet:wnt,cmp:Snt,Entity:Cnt,PropModification:jnt,replacePrefix:Nnt,add:knt,remove:Ant,DexieYProvider:Pnt}=Id;class $H extends Id{constructor(){super("ScoutGamificationDB");fn(this,"scouts");fn(this,"predictions");fn(this,"scoutAchievements");this.version(1).stores({scouts:"name, stakes, totalPredictions, correctPredictions, currentStreak, longestStreak, lastUpdated",predictions:"id, scoutName, eventKey, matchNumber, predictedWinner, timestamp, verified, [scoutName+eventKey+matchNumber]",scoutAchievements:"[scoutName+achievementId], scoutName, achievementId, unlockedAt"}),this.version(2).stores({scouts:"name, stakes, stakesFromPredictions, totalPredictions, correctPredictions, currentStreak, longestStreak, lastUpdated",predictions:"id, scoutName, eventKey, matchNumber, predictedWinner, timestamp, verified, [scoutName+eventKey+matchNumber]",scoutAchievements:"[scoutName+achievementId], scoutName, achievementId, unlockedAt"}).upgrade(n=>n.table("scouts").toCollection().modify(r=>{r.stakesFromPredictions=r.stakes||0}))}}const nt=new $H;nt.open().catch(e=>{console.error("Failed to open ScoutGamificationDB:",e)});const RC=async e=>{const t=await nt.scouts.get(e);if(t)return t.lastUpdated=Date.now(),await nt.scouts.put(t),t;const n={name:e.trim(),stakes:0,stakesFromPredictions:0,totalPredictions:0,correctPredictions:0,currentStreak:0,longestStreak:0,createdAt:Date.now(),lastUpdated:Date.now()};return await nt.scouts.put(n),n},yR=async e=>await nt.scouts.get(e),ex=async()=>await nt.scouts.orderBy("stakes").reverse().toArray(),xR=async(e,t)=>{const n=await nt.scouts.get(e);n&&(n.stakes+=t,n.lastUpdated=Date.now(),await nt.scouts.put(n))},MC=async(e,t,n,r,a,s,o=0)=>{const l=await nt.scouts.get(e);l&&(l.stakes=t,l.stakesFromPredictions+=o,l.correctPredictions=n,l.totalPredictions=r,a!==void 0&&(l.currentStreak=a),s!==void 0&&(l.longestStreak=Math.max(l.longestStreak,s)),l.lastUpdated=Date.now(),await nt.scouts.put(l))},bR=async e=>{await nt.scouts.delete(e)},o1=async()=>{await nt.scouts.clear(),await nt.predictions.clear(),await nt.scoutAchievements.clear()},Gv=async(e,t,n,r)=>{const a=await nt.predictions.where("[scoutName+eventKey+matchNumber]").equals([e,t,n]).first();if(a)return a.predictedWinner=r,a.timestamp=Date.now(),await nt.predictions.put(a),a;const s={id:`prediction_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,scoutName:e,eventKey:t,matchNumber:n,predictedWinner:r,timestamp:Date.now(),verified:!1};return await nt.predictions.put(s),await RC(e),s},wR=async(e,t,n)=>await nt.predictions.where("[scoutName+eventKey+matchNumber]").equals([e,t,n]).first(),SR=async(e,t)=>await nt.predictions.where("eventKey").equals(e).and(n=>n.matchNumber===t).toArray(),CR=async e=>{await nt.predictions.update(e,{verified:!0})},Wv=Object.freeze(Object.defineProperty({__proto__:null,ScoutGamificationDB:$H,clearGamificationData:o1,createMatchPrediction:Gv,deleteScout:bR,gamificationDB:nt,getAllPredictionsForMatch:SR,getAllScouts:ex,getOrCreateScout:RC,getPredictionForMatch:wR,getScout:yR,markPredictionAsVerified:CR,updateScoutPoints:xR,updateScoutStats:MC},Symbol.toStringTag,{value:"Module"})),jR={CORRECT_PREDICTION:10,INCORRECT_PREDICTION:0,PARTICIPATION_BONUS:1,STREAK_BONUS_BASE:2},FH=e=>e<2?0:jR.STREAK_BONUS_BASE*(e-1),Qm=e=>e.totalPredictions===0?0:Math.round(e.correctPredictions/e.totalPredictions*100),vCe=async(e,t,n)=>{var o;const r=await nt.predictions.where("scoutName").equals(e).and(l=>l.eventKey===t&&l.verified).reverse().sortBy("timestamp");if(!r||r.length===0)return!0;const a=((o=r[0])==null?void 0:o.matchNumber)||0,s=n-a;return s<=3&&s>0},BH=async(e,t,n,r,a)=>{const s=await nt.scouts.get(e);if(!s)return 0;let o=0,l=s.currentStreak,c=s.longestStreak;const u=await vCe(e,r,a);if(t){if(o=n,u||s.totalPredictions===0?l+=1:l=1,l>c&&(c=l),l>=2){const d=FH(l);o+=d}}else l=0;return await MC(e,s.stakes+o,s.correctPredictions+(t?1:0),s.totalPredictions+1,l,c,o),o},NR={bronze:{color:"#CD7F32",bgColor:"bg-amber-100 dark:bg-amber-950",borderColor:"border-amber-300 dark:border-amber-700",textColor:"text-amber-800 dark:text-amber-200"},silver:{color:"#C0C0C0",bgColor:"bg-gray-100 dark:bg-gray-800",borderColor:"border-gray-300 dark:border-gray-600",textColor:"text-gray-800 dark:text-gray-200"},gold:{color:"#FFD700",bgColor:"bg-yellow-100 dark:bg-yellow-950",borderColor:"border-yellow-300 dark:border-yellow-700",textColor:"text-yellow-800 dark:text-yellow-200"},platinum:{color:"#E5E4E2",bgColor:"bg-blue-100 dark:bg-blue-950",borderColor:"border-blue-300 dark:border-blue-700",textColor:"text-blue-800 dark:text-blue-200"},legendary:{color:"#9932CC",bgColor:"bg-purple-100 dark:bg-purple-950",borderColor:"border-purple-300 dark:border-purple-700",textColor:"text-purple-800 dark:text-purple-200"}},Uh=[{id:"first_prediction",name:"Scout Rookie",description:"Make your first prediction",icon:"",category:"volume",tier:"bronze",requirements:{type:"minimum",value:1,property:"totalPredictions"},stakesReward:5},{id:"predictions_10",name:"Getting Started",description:"Make 10 predictions",icon:"",category:"volume",tier:"bronze",requirements:{type:"minimum",value:10,property:"totalPredictions"},stakesReward:10},{id:"predictions_50",name:"Active Scout",description:"Make 50 predictions",icon:"",category:"volume",tier:"silver",requirements:{type:"minimum",value:50,property:"totalPredictions"},stakesReward:25},{id:"predictions_100",name:"Dedicated Scout",description:"Make 100 predictions",icon:"",category:"volume",tier:"gold",requirements:{type:"minimum",value:100,property:"totalPredictions"},stakesReward:50},{id:"predictions_200",name:"Scout Veteran",description:"Make 200 predictions",icon:"",category:"volume",tier:"platinum",requirements:{type:"minimum",value:200,property:"totalPredictions"},stakesReward:100},{id:"predictions_300",name:"Scout Legend",description:"Make 300 predictions",icon:"",category:"volume",tier:"legendary",requirements:{type:"minimum",value:300,property:"totalPredictions"},stakesReward:200},{id:"accuracy_60",name:"Sharp Eye",description:"Achieve 60% accuracy with at least 10 predictions",icon:"",category:"accuracy",tier:"bronze",requirements:{type:"custom",value:60,customCheck:e=>e.totalPredictions>=10&&e.correctPredictions/e.totalPredictions*100>=60},stakesReward:20},{id:"accuracy_70",name:"Scout Sharpshooter",description:"Achieve 70% accuracy with at least 20 predictions",icon:"",category:"accuracy",tier:"silver",requirements:{type:"custom",value:70,customCheck:e=>e.totalPredictions>=20&&e.correctPredictions/e.totalPredictions*100>=70},stakesReward:40},{id:"accuracy_80",name:"Oracle",description:"Achieve 80% accuracy with at least 30 predictions",icon:"",category:"accuracy",tier:"gold",requirements:{type:"custom",value:80,customCheck:e=>e.totalPredictions>=30&&e.correctPredictions/e.totalPredictions*100>=80},stakesReward:75},{id:"accuracy_85",name:"Prophet",description:"Achieve 85% accuracy with at least 50 predictions",icon:"",category:"accuracy",tier:"platinum",requirements:{type:"custom",value:85,customCheck:e=>e.totalPredictions>=50&&e.correctPredictions/e.totalPredictions*100>=85},stakesReward:150},{id:"streak_3",name:"Hot Streak",description:"Get 3 predictions correct in a row",icon:"",category:"streaks",tier:"bronze",requirements:{type:"minimum",value:3,property:"longestStreak"},stakesReward:15},{id:"streak_5",name:"On Fire",description:"Get 5 predictions correct in a row",icon:"",category:"streaks",tier:"silver",requirements:{type:"minimum",value:5,property:"longestStreak"},stakesReward:30},{id:"streak_10",name:"Unstoppable",description:"Get 10 predictions correct in a row",icon:"",category:"streaks",tier:"gold",requirements:{type:"minimum",value:10,property:"longestStreak"},stakesReward:60},{id:"streak_20",name:"Legendary Streak",description:"Get 20 predictions correct in a row",icon:"",category:"streaks",tier:"platinum",requirements:{type:"minimum",value:20,property:"longestStreak"},stakesReward:120},{id:"streak_50",name:"Godlike",description:"Get 50 predictions correct in a row",icon:"",category:"streaks",tier:"legendary",requirements:{type:"minimum",value:50,property:"longestStreak"},stakesReward:300},{id:"stakes_100",name:"Stake Builder",description:"Earn 100 stakes from predictions",icon:"",category:"volume",tier:"bronze",requirements:{type:"minimum",value:100,property:"stakesFromPredictions"},stakesReward:20},{id:"stakes_300",name:"Stake Master",description:"Earn 300 stakes from predictions",icon:"",category:"volume",tier:"silver",requirements:{type:"minimum",value:300,property:"stakesFromPredictions"},stakesReward:50},{id:"stakes_600",name:"Stake Tycoon",description:"Earn 600 stakes from predictions",icon:"",category:"volume",tier:"gold",requirements:{type:"minimum",value:600,property:"stakesFromPredictions"},stakesReward:100},{id:"stakes_1000",name:"Stake Emperor",description:"Earn 1000 stakes from predictions",icon:"",category:"volume",tier:"platinum",requirements:{type:"minimum",value:1e3,property:"stakesFromPredictions"},stakesReward:200},{id:"perfectionist",name:"Perfectionist",description:"Get 5 consecutive predictions correct",icon:"",category:"special",tier:"gold",requirements:{type:"minimum",value:12,property:"longestStreak"},stakesReward:100,hidden:!0},{id:"high_roller",name:"High Roller",description:"Earn 1000 total stakes (predictions + achievements)",icon:"",category:"special",tier:"platinum",requirements:{type:"minimum",value:1e3,property:"stakesFromPredictions"},stakesReward:200,hidden:!0},{id:"steady_hand",name:"Steady Hand",description:"Maintain 75% accuracy with at least 40 predictions",icon:"",category:"special",tier:"silver",requirements:{type:"custom",value:75,customCheck:e=>e.totalPredictions>=40&&e.correctPredictions/e.totalPredictions*100>=75},stakesReward:75,hidden:!0}],VH=(e,t)=>{const{requirements:n}=e;switch(n.type){case"minimum":return n.property&&n.property in t?t[n.property]>=n.value:!1;case"exact":return n.property&&n.property in t?t[n.property]===n.value:!1;case"percentage":if(n.property&&n.property in t){const r=t[n.property],a=t.totalPredictions;return a>0&&r/a*100>=n.value}return!1;case"custom":return n.customCheck?n.customCheck(t):!1;case"special":return!1;default:return!1}},yCe=(e,t)=>{const{requirements:n}=e;switch(n.type){case"minimum":case"exact":if(n.property&&n.property in t){const r=t[n.property];return Math.min(100,r/n.value*100)}return 0;case"percentage":if(n.property&&n.property in t){const r=t[n.property],a=t.totalPredictions;if(a===0)return 0;const s=r/a*100;return Math.min(100,s/n.value*100)}return 0;case"custom":return VH(e,t)?100:0;default:return 0}},xCe=e=>{var n;const t={};for(const r of e)t[r.category]||(t[r.category]=[]),(n=t[r.category])==null||n.push(r);return t},bCe=async e=>{const t=await nt.scouts.get(e);if(!t)return[];const n=await nt.scoutAchievements.where("scoutName").equals(e).toArray(),r=new Set(n.map(s=>s.achievementId)),a=[];for(const s of Uh)if(!r.has(s.id)&&VH(s,t)){if(s.requirements.type==="special"&&s.id==="early_bird"&&await nt.scouts.count()>5)continue;const o={id:`${e}_${s.id}_${Date.now()}`,scoutName:e,achievementId:s.id,unlockedAt:Date.now(),progress:100};await nt.scoutAchievements.add(o),s.stakesReward>0&&await xR(e,s.stakesReward),a.push(s)}return a.length>0&&console.log(" Total new achievements unlocked for",e,":",a.map(s=>s.name)),a},kR=async()=>{const e=await nt.scouts.toArray();for(const t of e){const n=await bCe(t.name);n.length>0&&console.log(" Backfilled",n.length,"achievements for",t.name)}},qv=async e=>{const t=await nt.scouts.get(e);if(!t)return{unlocked:[],available:[],hidden:[]};const n=await nt.scoutAchievements.where("scoutName").equals(e).toArray(),r=new Set(n.map(c=>c.achievementId)),a=new Map(n.map(c=>[c.achievementId,c])),s=[],o=[],l=[];for(const c of Uh)if(r.has(c.id)){const u=a.get(c.id);s.push({...c,unlockedAt:u.unlockedAt})}else{const u=yCe(c,t),d={...c,progress:u};c.hidden&&u<100?l.push(d):o.push(d)}return s.sort((c,u)=>u.unlockedAt-c.unlockedAt),o.sort((c,u)=>u.progress-c.progress),{unlocked:s,available:o,hidden:l}},Od=async e=>{const{unlocked:t}=await qv(e),n=Uh.filter(s=>!s.hidden),r=t.reduce((s,o)=>s+o.stakesReward,0),a=t.slice(0,3).sort((s,o)=>o.unlockedAt-s.unlockedAt);return{totalAchievements:n.length,unlockedCount:t.filter(s=>{var o;return!((o=Uh.find(l=>l.id===s.id))!=null&&o.hidden)}).length,completionPercentage:Math.round(t.length/Uh.length*100),totalStakesFromAchievements:r,recentAchievements:a}},wCe=async()=>{const e=await nt.scouts.toArray(),t=[];for(const n of e){const r=await Od(n.name),{unlocked:a}=await qv(n.name);t.push({scoutName:n.name,achievementCount:r.unlockedCount,totalStakesFromAchievements:r.totalStakesFromAchievements,recentUnlock:a[0]})}return t.sort((n,r)=>n.achievementCount!==r.achievementCount?r.achievementCount-n.achievementCount:r.totalStakesFromAchievements-n.totalStakesFromAchievements),t},IF=async(e,t=3)=>{const{available:n}=await qv(e),r=n.filter(a=>a.progress>0).sort((a,s)=>s.progress-a.progress).slice(0,t);if(r.length<t){const a=n.filter(s=>s.progress===0).slice(0,t-r.length);r.push(...a)}return r},bl=async e=>await RC(e),zH=Object.freeze(Object.defineProperty({__proto__:null,STAKE_VALUES:jR,calculateAccuracy:Qm,calculateStreakBonus:FH,clearGameData:o1,createMatchPrediction:Gv,deleteScout:bR,getAllPredictionsForMatch:SR,getAllScouts:ex,getOrCreateScout:RC,getOrCreateScoutByName:bl,getPredictionForMatch:wR,getScout:yR,markPredictionAsVerified:CR,updateScoutPoints:xR,updateScoutStats:MC,updateScoutWithPredictionResult:BH},Symbol.toStringTag,{value:"Module"})),UH=p.createContext(void 0),AR=()=>{const e=p.useContext(UH);if(!e)throw new Error("useScout must be used within a ScoutProvider");return e},SCe=({children:e})=>{const[t,n]=p.useState(""),[r,a]=p.useState(0),[s,o]=p.useState([]),[l,c]=p.useState(""),[u,d]=p.useState(!0),f=p.useCallback(async()=>{try{const y=localStorage.getItem("scoutsList"),w=y?JSON.parse(y):[];o(w);const S=localStorage.getItem("currentScout");if(S){n(S);try{const k=await bl(S);a(k.stakes)}catch(k){console.error("Error loading scout stakes:",k),a(0)}}const C=localStorage.getItem("playerStation");C&&c(C)}catch(y){console.error("Error loading scouts:",y)}finally{d(!1)}},[]),h=p.useCallback(async y=>{if(!y.trim())return;const w=y.trim();try{const S=await bl(w);if(n(w),a(S.stakes),localStorage.setItem("currentScout",w),!s.includes(w)){const C=[...s,w].sort();o(C),localStorage.setItem("scoutsList",JSON.stringify(C))}}catch(S){throw console.error("Error setting current scout:",S),S}},[s]),m=p.useCallback(async y=>{if(!y.trim())return;const w=y.trim();if(s.includes(w)){await h(w);return}try{const S=await bl(w),C=[...s,w].sort();o(C),localStorage.setItem("scoutsList",JSON.stringify(C)),n(w),a(S.stakes),localStorage.setItem("currentScout",w),console.log(" ScoutContext: Scout set to",w)}catch(S){throw console.error("Error adding scout:",S),S}},[s,h]),g=p.useCallback(async y=>{const w=s.filter(S=>S!==y);o(w),localStorage.setItem("scoutsList",JSON.stringify(w)),t===y&&(n(""),a(0),localStorage.removeItem("currentScout"))},[s,t]),v=p.useCallback(y=>{c(y),localStorage.setItem("playerStation",y)},[]),b=p.useCallback(async()=>{if(t)try{const{getScout:y}=await _n(async()=>{const{getScout:S}=await Promise.resolve().then(()=>zH);return{getScout:S}},void 0),w=await y(t);w&&a(w.stakes)}catch(y){console.error("Error refreshing scout:",y)}},[t]);p.useEffect(()=>{f()},[f]),p.useEffect(()=>{const y=()=>{f()},w=()=>{n(""),a(0),o([]),c("")},S=()=>{const C=localStorage.getItem("playerStation")||"";c(C)};return window.addEventListener("scoutChanged",y),window.addEventListener("scoutDataCleared",w),window.addEventListener("playerStationChanged",S),()=>{window.removeEventListener("scoutChanged",y),window.removeEventListener("scoutDataCleared",w),window.removeEventListener("playerStationChanged",S)}},[f]);const x={currentScout:t,currentScoutStakes:r,scoutsList:s,playerStation:l,isLoading:u,setCurrentScout:h,setPlayerStation:v,addScout:m,removeScout:g,refreshScout:b};return i.jsx(UH.Provider,{value:x,children:e})};function CCe({items:e}){const{playerStation:t,setPlayerStation:n}=AR(),r=g=>{n(g)},{isMobile:a,setOpenMobile:s}=af(),{confirmNavigation:o,handleConfirm:l,handleCancel:c,isConfirmDialogOpen:u,pendingDestinationLabel:d}=yH(),f=g=>{o(g||"/",g==="/"?"Home":"this page")&&a&&s(!1)},h=g=>{const v=g.split("/").pop()||"this page";o(g,v)&&a&&s(!1)},m=()=>{a&&s(!1),l()};return p.useEffect(()=>{if(t){const g=document.getElementById(t.toLowerCase().replace(" ",""));g&&(g.checked=!0)}},[t]),i.jsxs(i.Fragment,{children:[i.jsxs(wbe,{children:[i.jsx(bh,{className:"flex items-center pb-4",children:i.jsxs("div",{className:"flex w-full gap-2",children:[i.jsxs(Lr,{value:t,onValueChange:r,children:[i.jsx($r,{className:"w-full h-12 text-lg font-bold",id:"scoutRole","aria-label":"Scout Role",children:i.jsx(ia,{placeholder:fD(t)||"Role"})}),i.jsxs(Fr,{children:[i.jsx(at,{className:"text-lg",value:"lead",children:"Lead"}),i.jsx(at,{className:"text-lg",value:"red-1",children:"Red 1"}),i.jsx(at,{className:"text-lg",value:"red-2",children:"Red 2"}),i.jsx(at,{className:"text-lg",value:"red-3",children:"Red 3"}),i.jsx(at,{className:"text-lg",value:"blue-1",children:"Blue 1"}),i.jsx(at,{className:"text-lg",value:"blue-2",children:"Blue 2"}),i.jsx(at,{className:"text-lg",value:"blue-3",children:"Blue 3"})]})]}),i.jsx(sSe,{})]})}),i.jsx(Sbe,{children:"Platform"}),i.jsxs(nR,{children:[i.jsx(bh,{className:"flex items-center gap-2",children:i.jsxs(ld,{tooltip:"Home",onClick:()=>f("/"),children:[i.jsx(Yde,{}),i.jsx("span",{children:"Home"})]})}),i.jsx(bh,{className:"flex items-center gap-2",children:i.jsxs(ld,{tooltip:"Scout",onClick:()=>f("/game-start"),children:[i.jsx(vG,{}),i.jsx("span",{children:"Scout"})]})}),e.map(g=>{var v;return i.jsx(Uhe,{asChild:!0,defaultOpen:g.isActive,className:"group/collapsible",children:i.jsxs(bh,{children:[i.jsx(Khe,{asChild:!0,children:i.jsxs(ld,{tooltip:g.title,children:[g.icon&&i.jsx(g.icon,{}),i.jsx("span",{children:g.title}),i.jsx(Oy,{className:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),i.jsx(Ghe,{children:i.jsx(jbe,{children:(v=g.items)==null?void 0:v.map(b=>i.jsx(Nbe,{children:i.jsx(kbe,{asChild:!0,children:i.jsx("button",{onClick:()=>h(b.url),children:i.jsx("span",{children:b.title})})})},b.title))})})]})},g.title)})]})]}),i.jsx(OH,{open:u,onConfirm:m,onCancel:c,destinationLabel:d})]})}function jCe(e){const t=NCe(e),n=p.forwardRef((r,a)=>{const{children:s,...o}=r,l=p.Children.toArray(s),c=l.find(ACe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function NCe(e){const t=p.forwardRef((n,r)=>{const{children:a,...s}=n;if(p.isValidElement(a)){const o=ECe(a),l=PCe(s,a.props);return a.type!==p.Fragment&&(l.ref=r?qa(r,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kCe=Symbol("radix.slottable");function ACe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kCe}function PCe(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function ECe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var IC="Popover",[KH]=bs(IC,[lu]),tx=lu(),[TCe,fu]=KH(IC),GH=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=tx(t),c=p.useRef(null),[u,d]=p.useState(!1),[f,h]=Mo({prop:r,defaultProp:a??!1,onChange:s,caller:IC});return i.jsx(iC,{...l,children:i.jsx(TCe,{scope:t,contentId:Vr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:n})})};GH.displayName=IC;var WH="PopoverAnchor",_Ce=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=fu(WH,n),s=tx(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Fy,{...s,...r,ref:t})});_Ce.displayName=WH;var qH="PopoverTrigger",HH=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=fu(qH,n),s=tx(n),o=Vt(t,a.triggerRef),l=i.jsx(bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":XH(a.open),...r,ref:o,onClick:rt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(Fy,{asChild:!0,...s,children:l})});HH.displayName=qH;var PR="PopoverPortal",[DCe,RCe]=KH(PR,{forceMount:void 0}),YH=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,s=fu(PR,t);return i.jsx(DCe,{scope:t,forceMount:n,children:i.jsx(Ur,{present:n||s.open,children:i.jsx(Km,{asChild:!0,container:a,children:r})})})};YH.displayName=PR;var fm="PopoverContent",QH=p.forwardRef((e,t)=>{const n=RCe(fm,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,s=fu(fm,e.__scopePopover);return i.jsx(Ur,{present:r||s.open,children:s.modal?i.jsx(ICe,{...a,ref:t}):i.jsx(OCe,{...a,ref:t})})});QH.displayName=fm;var MCe=jCe("PopoverContent.RemoveScroll"),ICe=p.forwardRef((e,t)=>{const n=fu(fm,e.__scopePopover),r=p.useRef(null),a=Vt(t,r),s=p.useRef(!1);return p.useEffect(()=>{const o=r.current;if(o)return xC(o)},[]),i.jsx(Qy,{as:MCe,allowPinchZoom:!0,children:i.jsx(ZH,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:rt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),OCe=p.forwardRef((e,t)=>{const n=fu(fm,e.__scopePopover),r=p.useRef(!1),a=p.useRef(!1);return i.jsx(ZH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),ZH=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=fu(fm,n),m=tx(n);return vC(),i.jsx(Hy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Vm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(oC,{"data-state":XH(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),JH="PopoverClose",LCe=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=fu(JH,n);return i.jsx(bt.button,{type:"button",...r,ref:t,onClick:rt(e.onClick,()=>a.onOpenChange(!1))})});LCe.displayName=JH;var $Ce="PopoverArrow",FCe=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=tx(n);return i.jsx(lC,{...a,...r,ref:t})});FCe.displayName=$Ce;function XH(e){return e?"open":"closed"}var BCe=GH,VCe=HH,zCe=YH,UCe=QH;function l1({...e}){return i.jsx(BCe,{"data-slot":"popover",...e})}function c1({...e}){return i.jsx(VCe,{"data-slot":"popover-trigger",...e})}function u1({className:e,align:t="center",sideOffset:n=4,...r}){return i.jsx(zCe,{children:i.jsx(UCe,{"data-slot":"popover-content",align:t,sideOffset:n,className:Re("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",e),style:{transformOrigin:"var(--radix-popover-content-transform-origin)"},...r})})}function KCe(e,t=[]){let n=[];function r(s,o){const l=p.createContext(o);l.displayName=s+"Context";const c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,v=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=p.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:b,children:m})};u.displayName=s+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,GCe(a,...t)]}function GCe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var WCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ER=WCe.reduce((e,t)=>{const n=Vy(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),e7={exports:{}},t7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=p;function qCe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HCe=typeof Object.is=="function"?Object.is:qCe,YCe=hm.useState,QCe=hm.useEffect,ZCe=hm.useLayoutEffect,JCe=hm.useDebugValue;function XCe(e,t){var n=t(),r=YCe({inst:{value:n,getSnapshot:t}}),a=r[0].inst,s=r[1];return ZCe(function(){a.value=n,a.getSnapshot=t,Dk(a)&&s({inst:a})},[e,n,t]),QCe(function(){return Dk(a)&&s({inst:a}),e(function(){Dk(a)&&s({inst:a})})},[e]),JCe(n),n}function Dk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!HCe(e,n)}catch{return!0}}function eje(e,t){return t()}var tje=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eje:XCe;t7.useSyncExternalStore=hm.useSyncExternalStore!==void 0?hm.useSyncExternalStore:tje;e7.exports=t7;var n7=e7.exports;function nje(){return n7.useSyncExternalStore(rje,()=>!0,()=>!1)}function rje(){return()=>{}}var TR="Avatar",[aje]=KCe(TR),[sje,r7]=aje(TR),a7=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,s]=p.useState("idle");return i.jsx(sje,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(ER.span,{...r,ref:t})})});a7.displayName=TR;var s7="AvatarImage",ije=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...s}=e,o=r7(s7,n),l=oje(r,s),c=sa(u=>{a(u),o.onImageLoadingStatusChange(u)});return wr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ER.img,{...s,ref:t,src:r}):null});ije.displayName=s7;var i7="AvatarFallback",o7=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,s=r7(i7,n),[o,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(ER.span,{...a,ref:t}):null});o7.displayName=i7;function OF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oje(e,{referrerPolicy:t,crossOrigin:n}){const r=nje(),a=p.useRef(null),s=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=p.useState(()=>OF(s,e));return wr(()=>{l(OF(s,e))},[s,e]),wr(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,t]),o}var lje=a7,cje=o7;function l7({className:e,...t}){return i.jsx(lje,{"data-slot":"avatar",className:Re("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function c7({className:e,...t}){return i.jsx(cje,{"data-slot":"avatar-fallback",className:Re("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function LF({currentScout:e,currentScoutStakes:t}){const n=r=>r.split(" ").map(a=>a.charAt(0).toUpperCase()).join("").slice(0,3);return i.jsxs(i.Fragment,{children:[i.jsx(l7,{className:"h-8 w-8 rounded-lg",children:i.jsx(c7,{className:"rounded-lg bg-primary text-primary-foreground",children:e?n(e):i.jsx(Uw,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[i.jsx("span",{className:"truncate font-medium",children:e||"Select Scout"}),i.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"Active Scout"}),i.jsx("span",{className:"text-xs",children:""}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(mr,{className:"h-3 w-3 text-yellow-500"}),i.jsx("span",{children:t})]})]}):"No scout selected"})]})]})}var $F=1,uje=.9,dje=.8,fje=.17,Rk=.1,Mk=.999,hje=.9999,mje=.99,pje=/[\\\/_+.#"@\[\(\{&]/,gje=/[\\\/_+.#"@\[\(\{&]/g,vje=/[\s-]/,u7=/[\s-]/g;function OE(e,t,n,r,a,s,o){if(s===t.length)return a===e.length?$F:mje;var l=`${a},${s}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(s),u=n.indexOf(c,a),d=0,f,h,m,g;u>=0;)f=OE(e,t,n,r,u+1,s+1,o),f>d&&(u===a?f*=$F:pje.test(e.charAt(u-1))?(f*=dje,m=e.slice(a,u-1).match(gje),m&&a>0&&(f*=Math.pow(Mk,m.length))):vje.test(e.charAt(u-1))?(f*=uje,g=e.slice(a,u-1).match(u7),g&&a>0&&(f*=Math.pow(Mk,g.length))):(f*=fje,a>0&&(f*=Math.pow(Mk,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=hje)),(f<Rk&&n.charAt(u-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(u-1)!==r.charAt(s))&&(h=OE(e,t,n,r,u+1,s+2,o),h*Rk>f&&(f=h*Rk)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function FF(e){return e.toLowerCase().replace(u7," ")}function yje(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,OE(e,t,FF(e),FF(t),0,0,{})}var Xp='[cmdk-group=""]',Ik='[cmdk-group-items=""]',xje='[cmdk-group-heading=""]',d7='[cmdk-item=""]',BF=`${d7}:not([aria-disabled="true"])`,LE="cmdk-item-select",Xf="data-value",bje=(e,t,n)=>yje(e,t,n),f7=p.createContext(void 0),nx=()=>p.useContext(f7),h7=p.createContext(void 0),_R=()=>p.useContext(h7),m7=p.createContext(void 0),p7=p.forwardRef((e,t)=>{let n=eh(()=>{var q,ae;return{search:"",value:(ae=(q=e.value)!=null?q:e.defaultValue)!=null?ae:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=eh(()=>new Set),a=eh(()=>new Map),s=eh(()=>new Map),o=eh(()=>new Set),l=g7(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:v=!1,vimBindings:b=!0,...x}=e,y=Vr(),w=Vr(),S=Vr(),C=p.useRef(null),k=_je();Ld(()=>{if(d!==void 0){let q=d.trim();n.current.value=q,N.emit()}},[d]),Ld(()=>{k(6,J)},[]);let N=p.useMemo(()=>({subscribe:q=>(o.current.add(q),()=>o.current.delete(q)),snapshot:()=>n.current,setState:(q,ae,he)=>{var je,Ee,me,Ve;if(!Object.is(n.current[q],ae)){if(n.current[q]=ae,q==="search")K(),R(),k(1,O);else if(q==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ne=document.getElementById(S);ne?ne.focus():(je=document.getElementById(y))==null||je.focus()}if(k(7,()=>{var ne;n.current.selectedItemId=(ne=Q())==null?void 0:ne.id,N.emit()}),he||k(5,J),((Ee=l.current)==null?void 0:Ee.value)!==void 0){let ne=ae??"";(Ve=(me=l.current).onValueChange)==null||Ve.call(me,ne);return}}N.emit()}},emit:()=>{o.current.forEach(q=>q())}}),[]),P=p.useMemo(()=>({value:(q,ae,he)=>{var je;ae!==((je=s.current.get(q))==null?void 0:je.value)&&(s.current.set(q,{value:ae,keywords:he}),n.current.filtered.items.set(q,E(ae,he)),k(2,()=>{R(),N.emit()}))},item:(q,ae)=>(r.current.add(q),ae&&(a.current.has(ae)?a.current.get(ae).add(q):a.current.set(ae,new Set([q]))),k(3,()=>{K(),R(),n.current.value||O(),N.emit()}),()=>{s.current.delete(q),r.current.delete(q),n.current.filtered.items.delete(q);let he=Q();k(4,()=>{K(),(he==null?void 0:he.getAttribute("id"))===q&&O(),N.emit()})}),group:q=>(a.current.has(q)||a.current.set(q,new Set),()=>{s.current.delete(q),a.current.delete(q)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:y,inputId:S,labelId:w,listInnerRef:C}),[]);function E(q,ae){var he,je;let Ee=(je=(he=l.current)==null?void 0:he.filter)!=null?je:bje;return q?Ee(q,n.current.search,ae):0}function R(){if(!n.current.search||l.current.shouldFilter===!1)return;let q=n.current.filtered.items,ae=[];n.current.filtered.groups.forEach(je=>{let Ee=a.current.get(je),me=0;Ee.forEach(Ve=>{let ne=q.get(Ve);me=Math.max(ne,me)}),ae.push([je,me])});let he=C.current;G().sort((je,Ee)=>{var me,Ve;let ne=je.getAttribute("id"),ke=Ee.getAttribute("id");return((me=q.get(ke))!=null?me:0)-((Ve=q.get(ne))!=null?Ve:0)}).forEach(je=>{let Ee=je.closest(Ik);Ee?Ee.appendChild(je.parentElement===Ee?je:je.closest(`${Ik} > *`)):he.appendChild(je.parentElement===he?je:je.closest(`${Ik} > *`))}),ae.sort((je,Ee)=>Ee[1]-je[1]).forEach(je=>{var Ee;let me=(Ee=C.current)==null?void 0:Ee.querySelector(`${Xp}[${Xf}="${encodeURIComponent(je[0])}"]`);me==null||me.parentElement.appendChild(me)})}function O(){let q=G().find(he=>he.getAttribute("aria-disabled")!=="true"),ae=q==null?void 0:q.getAttribute(Xf);N.setState("value",ae||void 0)}function K(){var q,ae,he,je;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Ee=0;for(let me of r.current){let Ve=(ae=(q=s.current.get(me))==null?void 0:q.value)!=null?ae:"",ne=(je=(he=s.current.get(me))==null?void 0:he.keywords)!=null?je:[],ke=E(Ve,ne);n.current.filtered.items.set(me,ke),ke>0&&Ee++}for(let[me,Ve]of a.current)for(let ne of Ve)if(n.current.filtered.items.get(ne)>0){n.current.filtered.groups.add(me);break}n.current.filtered.count=Ee}function J(){var q,ae,he;let je=Q();je&&(((q=je.parentElement)==null?void 0:q.firstChild)===je&&((he=(ae=je.closest(Xp))==null?void 0:ae.querySelector(xje))==null||he.scrollIntoView({block:"nearest"})),je.scrollIntoView({block:"nearest"}))}function Q(){var q;return(q=C.current)==null?void 0:q.querySelector(`${d7}[aria-selected="true"]`)}function G(){var q;return Array.from(((q=C.current)==null?void 0:q.querySelectorAll(BF))||[])}function z(q){let ae=G()[q];ae&&N.setState("value",ae.getAttribute(Xf))}function U(q){var ae;let he=Q(),je=G(),Ee=je.findIndex(Ve=>Ve===he),me=je[Ee+q];(ae=l.current)!=null&&ae.loop&&(me=Ee+q<0?je[je.length-1]:Ee+q===je.length?je[0]:je[Ee+q]),me&&N.setState("value",me.getAttribute(Xf))}function M(q){let ae=Q(),he=ae==null?void 0:ae.closest(Xp),je;for(;he&&!je;)he=q>0?Eje(he,Xp):Tje(he,Xp),je=he==null?void 0:he.querySelector(BF);je?N.setState("value",je.getAttribute(Xf)):U(q)}let $=()=>z(G().length-1),B=q=>{q.preventDefault(),q.metaKey?$():q.altKey?M(1):U(1)},te=q=>{q.preventDefault(),q.metaKey?z(0):q.altKey?M(-1):U(-1)};return p.createElement(bt.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:q=>{var ae;(ae=x.onKeyDown)==null||ae.call(x,q);let he=q.nativeEvent.isComposing||q.keyCode===229;if(!(q.defaultPrevented||he))switch(q.key){case"n":case"j":{b&&q.ctrlKey&&B(q);break}case"ArrowDown":{B(q);break}case"p":case"k":{b&&q.ctrlKey&&te(q);break}case"ArrowUp":{te(q);break}case"Home":{q.preventDefault(),z(0);break}case"End":{q.preventDefault(),$();break}case"Enter":{q.preventDefault();let je=Q();if(je){let Ee=new Event(LE);je.dispatchEvent(Ee)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:Rje},c),OC(e,q=>p.createElement(h7.Provider,{value:N},p.createElement(f7.Provider,{value:P},q))))}),wje=p.forwardRef((e,t)=>{var n,r;let a=Vr(),s=p.useRef(null),o=p.useContext(m7),l=nx(),c=g7(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;Ld(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=v7(a,s,[e.value,e.children,s],e.keywords),f=_R(),h=Qc(k=>k.value&&k.value===d.current),m=Qc(k=>u||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);p.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(LE,g),()=>k.removeEventListener(LE,g)},[m,e.onSelect,e.disabled]);function g(){var k,N;v(),(N=(k=c.current).onSelect)==null||N.call(k,d.current)}function v(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:b,value:x,onSelect:y,forceMount:w,keywords:S,...C}=e;return p.createElement(bt.div,{ref:qa(s,t),...C,id:a,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||l.getDisablePointerSelection()?void 0:v,onClick:b?void 0:g},e.children)}),Sje=p.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:a,...s}=e,o=Vr(),l=p.useRef(null),c=p.useRef(null),u=Vr(),d=nx(),f=Qc(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);Ld(()=>d.group(o),[]),v7(o,l,[e.value,e.heading,c]);let h=p.useMemo(()=>({id:o,forceMount:a}),[a]);return p.createElement(bt.div,{ref:qa(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&p.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),OC(e,m=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},p.createElement(m7.Provider,{value:h},m))))}),Cje=p.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,a=p.useRef(null),s=Qc(o=>!o.search);return!n&&!s?null:p.createElement(bt.div,{ref:qa(a,t),...r,"cmdk-separator":"",role:"separator"})}),jje=p.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,a=e.value!=null,s=_R(),o=Qc(u=>u.search),l=Qc(u=>u.selectedItemId),c=nx();return p.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),p.createElement(bt.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||s.setState("search",u.target.value),n==null||n(u.target.value)}})}),Nje=p.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...a}=e,s=p.useRef(null),o=p.useRef(null),l=Qc(u=>u.selectedItemId),c=nx();return p.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),p.createElement(bt.div,{ref:qa(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},OC(e,u=>p.createElement("div",{ref:qa(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),kje=p.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:s,container:o,...l}=e;return p.createElement(PC,{open:n,onOpenChange:r},p.createElement(EC,{container:o},p.createElement(TC,{"cmdk-overlay":"",className:a}),p.createElement(_C,{"aria-label":e.label,"cmdk-dialog":"",className:s},p.createElement(p7,{ref:t,...l}))))}),Aje=p.forwardRef((e,t)=>Qc(n=>n.filtered.count===0)?p.createElement(bt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Pje=p.forwardRef((e,t)=>{let{progress:n,children:r,label:a="Loading...",...s}=e;return p.createElement(bt.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},OC(e,o=>p.createElement("div",{"aria-hidden":!0},o)))}),Zm=Object.assign(p7,{List:Nje,Item:wje,Input:jje,Group:Sje,Separator:Cje,Dialog:kje,Empty:Aje,Loading:Pje});function Eje(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Tje(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function g7(e){let t=p.useRef(e);return Ld(()=>{t.current=e}),t}var Ld=typeof window>"u"?p.useEffect:p.useLayoutEffect;function eh(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Qc(e){let t=_R(),n=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,n,n)}function v7(e,t,n,r=[]){let a=p.useRef(),s=nx();return Ld(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=r.map(u=>u.trim());s.value(e,l,c),(o=t.current)==null||o.setAttribute(Xf,l),a.current=l}),a}var _je=()=>{let[e,t]=p.useState(),n=eh(()=>new Map);return Ld(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,a)=>{n.current.set(r,a),t({})}};function Dje(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function OC({asChild:e,children:t},n){return e&&p.isValidElement(t)?p.cloneElement(Dje(t),{ref:t.ref},n(t.props.children)):n(t)}var Rje={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function y7({className:e,...t}){return i.jsx(Zm,{"data-slot":"command",className:Re("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function x7({className:e,...t}){return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(iD,{className:"size-4 shrink-0 opacity-50"}),i.jsx(Zm.Input,{"data-slot":"command-input",className:Re("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function b7({className:e,...t}){return i.jsx(Zm.List,{"data-slot":"command-list",className:Re("max-h-75 scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function w7({...e}){return i.jsx(Zm.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function wh({className:e,...t}){return i.jsx(Zm.Group,{"data-slot":"command-group",className:Re("text-foreground **:[[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 **:[[cmdk-group-heading]]:px-2 **:[[cmdk-group-heading]]:py-1.5 **:[[cmdk-group-heading]]:text-xs **:[[cmdk-group-heading]]:font-medium",e),...t})}function Ub({className:e,...t}){return i.jsx(Zm.Item,{"data-slot":"command-item",className:Re("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Mje({onAdd:e,onCancel:t,initialValue:n=""}){const[r,a]=p.useState(n),s=async()=>{r.trim()&&(await e(r.trim()),a(""))},o=async l=>{l.key==="Enter"?await s():l.key==="Escape"&&t()};return i.jsxs("div",{className:"p-2 space-y-2",children:[i.jsx(Qt,{placeholder:"Enter scout name...",value:r,onChange:l=>a(l.target.value),onInput:l=>a(l.target.value),onKeyDown:o,autoFocus:!0,autoComplete:"name"}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Z,{size:"sm",onClick:s,className:"flex-1",children:"Add"}),i.jsx(Z,{size:"sm",variant:"outline",onClick:t,className:"flex-1",children:"Cancel"})]})]})}function VF({currentScout:e,scoutsList:t,onScoutSelect:n,onScoutRemove:r,onClose:a}){const[s,o]=p.useState(!1),[l,c]=p.useState(""),u=m=>m.split(" ").map(g=>g.charAt(0).toUpperCase()).join("").slice(0,3),d=async m=>{await n(m),a==null||a(),o(!1)},f=async m=>{await n(m),a==null||a(),o(!1),c("")},h=()=>{o(!1),c("")};return i.jsx(y7,{shouldFilter:!0,children:s?i.jsx(Mje,{onAdd:f,onCancel:h,initialValue:l}):i.jsxs(i.Fragment,{children:[i.jsx(x7,{placeholder:"Search scouts...",onInput:m=>{const g=m.target;c(g.value)}}),i.jsx(w7,{children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No scouts found"}),i.jsxs(Z,{variant:"outline",size:"sm",onClick:m=>{m.preventDefault(),m.stopPropagation(),o(!0)},className:"w-full",children:[i.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Add New Scout"]})]})}),i.jsxs(b7,{children:[i.jsx(wh,{children:t.map(m=>i.jsxs(Ub,{value:m,onSelect:()=>d(m),className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Al,{className:Re("mr-2 h-4 w-4",e===m?"opacity-100":"opacity-0")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(l7,{className:"h-6 w-6",children:i.jsx(c7,{className:"text-xs bg-muted",children:u(m)})}),m]})]}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:async g=>{g.stopPropagation(),await r(m)},className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:i.jsx(Bs,{className:"h-3 w-3"})})]},m))}),t.length>0&&i.jsx(wh,{children:i.jsxs("div",{onClick:m=>{m.preventDefault(),m.stopPropagation(),o(!0)},className:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",children:[i.jsx(Gc,{className:"mr-2 h-4 w-4"}),"Add New Scout"]})})]})]})})}function Ije(){const{isMobile:e}=af(),[t,n]=p.useState(!1),{currentScout:r,currentScoutStakes:a,scoutsList:s,addScout:o,removeScout:l}=AR(),c=()=>n(!1);return i.jsx(nR,{children:i.jsx(bh,{children:e?i.jsxs(i.Fragment,{children:[i.jsxs(ld,{size:"lg",onClick:()=>n(!0),className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[i.jsx(LF,{currentScout:r,currentScoutStakes:a}),i.jsx(JP,{className:"ml-auto size-4"})]}),i.jsx(to,{open:t,onOpenChange:n,children:i.jsxs(no,{className:"w-[90vw] max-w-md p-0 top-[30%] translate-y-[-30%] sm:top-[50%] sm:translate-y-[-50%]",children:[i.jsx(Go,{className:"p-4 pb-0",children:i.jsx(ro,{children:"Select Scout"})}),i.jsx("div",{className:"p-0",children:i.jsx(VF,{currentScout:r,scoutsList:s,onScoutSelect:o,onScoutRemove:l,onClose:c})})]})})]}):i.jsxs(l1,{open:t,onOpenChange:n,children:[i.jsx(c1,{asChild:!0,children:i.jsxs(ld,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[i.jsx(LF,{currentScout:r,currentScoutStakes:a}),i.jsx(JP,{className:"ml-auto size-4"})]})}),i.jsx(u1,{className:"w-[300px] p-0",side:"right",align:"start",children:i.jsx(VF,{currentScout:r,scoutsList:s,onScoutSelect:o,onScoutRemove:l,onClose:c})})]})})})}const Zc=({sources:e,variant:t="compact",className:n=""})=>{const r=e.includes("tba"),a=e.includes("nexus");if(t==="full")return i.jsxs("div",{className:`space-y-2 text-xs text-muted-foreground ${n}`,children:[r&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"Powered by"}),i.jsxs("a",{href:"https://thebluealliance.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline flex items-center gap-1",children:["The Blue Alliance",i.jsx(wg,{className:"h-3 w-3"})]})]}),a&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"Pit data from"}),i.jsxs("a",{href:"https://frc.nexus",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 underline flex items-center gap-1",children:["Nexus for FRC",i.jsx(wg,{className:"h-3 w-3"})]})]})]});if(t==="inline"){const s=[];return r&&s.push(i.jsx("a",{href:"https://thebluealliance.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"The Blue Alliance"},"tba")),a&&s.push(i.jsx("a",{href:"https://frc.nexus",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 underline",children:"Nexus for FRC"},"nexus")),i.jsxs("span",{className:`text-xs text-muted-foreground ${n}`,children:["Data from ",s.reduce((o,l,c)=>o===null?[l]:[...o,c===s.length-1?" and ":", ",l],null)]})}return i.jsxs("div",{className:`flex flex-wrap items-center gap-2 text-xs text-muted-foreground ${n}`,children:[r&&i.jsxs("a",{href:"https://thebluealliance.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline flex items-center gap-1",title:"Powered by The Blue Alliance",children:[i.jsx("span",{className:"hidden sm:inline",children:"Powered by "}),"The Blue Alliance",i.jsx(wg,{className:"h-3 w-3"})]}),a&&i.jsxs("a",{href:"https://frc.nexus",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 underline flex items-center gap-1",title:"Pit data from FRC Nexus",children:["Nexus",i.jsx("span",{className:"hidden sm:inline",children:" for FRC"}),i.jsx(wg,{className:"h-3 w-3"})]})]})},Oje="/Maneuver-2026/assets/Maneuver%20Wordmark%20Horizontal-CzPC7qce.png";class Lje{constructor(){fn(this,"isIOS");fn(this,"isInstalled");fn(this,"debugInfo");this.isIOS=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),this.isInstalled=typeof window<"u"&&window.matchMedia("(display-mode: standalone)").matches,this.debugInfo={isIOS:this.isIOS,isInstalled:this.isInstalled,userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",displayMode:typeof window<"u"&&window.matchMedia("(display-mode: standalone)").matches,vibrateSupport:typeof navigator<"u"&&"vibrate"in navigator,vibrateFunction:typeof navigator<"u"?typeof navigator.vibrate:"undefined",hostname:typeof location<"u"?location.hostname:"localhost",attempts:[]}}canVibrate(){return!(typeof navigator>"u"||!("vibrate"in navigator)||!navigator.vibrate||this.isIOS)}vibrate(t=50){const n=this.canVibrate();let r=!1;n&&typeof navigator<"u"&&"vibrate"in navigator&&(r=navigator.vibrate(t)),this.debugInfo.attempts.push({pattern:t,result:r,timestamp:new Date().toLocaleTimeString()}),this.isIOS&&!r&&this.visualFeedback()}visualFeedback(){if(typeof document>"u")return;const t=document.body.style.filter;document.body.style.filter="brightness(1.1)",document.body.style.transition="filter 0.05s ease",setTimeout(()=>{document.body.style.filter=t,setTimeout(()=>{document.body.style.transition=""},50)},50)}light(){this.vibrate(25)}medium(){this.vibrate(50)}strong(){this.vibrate(100)}success(){this.vibrate([50,100,50])}error(){this.vibrate([100,50,100,50,100])}notification(){this.vibrate([100,50,100])}selection(){this.vibrate(15)}warning(){this.vibrate([150,100,150])}isSupported(){return this.canVibrate()}getDebugInfo(){return this.debugInfo}}const ml=new Lje,$je=Object.freeze(Object.defineProperty({__proto__:null,haptics:ml},Symbol.toStringTag,{value:"Module"})),Fje={navMain:[{title:"Data Actions",url:"#",icon:oD,items:[{title:"Clear Data",url:"/clear-data"},{title:"JSON Data Transfer",url:"/json-transfer"},{title:"QR Data Transfer",url:"/qr-transfer"},{title:"WiFi Transfer (Beta)",url:"/peer-transfer"},{title:"API Data",url:"/api-data"}]},{title:"Strategy",url:"#",icon:zfe,items:[{title:"Strategy Overview",url:"/strategy-overview"},{title:"Match Strategy",url:"/match-strategy"},{title:"Match Validation",url:"/match-validation"},{title:"Team Stats",url:"/team-stats"},{title:"Pit Scouting",url:"/pit-scouting"},{title:"Pick Lists",url:"/pick-list"}]},{title:"Scout Management",url:"#",icon:nfe,items:[{title:"Scout Dashboard",url:"/scout-management"},{title:"Achievements",url:"/achievements"},{title:"Assign Pit Scouting",url:"/pit-assignments"}]}]};function Bje({...e}){const{setOpenMobile:t}=af(),n=p.useRef(null),r=s=>{const o=s.touches[0];o&&(n.current={x:o.clientX,y:o.clientY})},a=s=>{if(!n.current)return;const o=s.changedTouches[0];if(!o)return;const l=o.clientX-n.current.x,c=o.clientY-n.current.y,u=60;Math.abs(l)>Math.abs(c)&&Math.abs(l)>u&&l<-u&&(s.preventDefault(),ml.light(),t(!1)),n.current=null};return p.useEffect(()=>{const s=l=>{const c=document.querySelector('[data-sidebar="sidebar"]');if(c&&!c.contains(l.target)){const u=l.touches[0];if(!u)return;n.current={x:u.clientX,y:u.clientY}}},o=l=>{if(!n.current)return;const c=document.querySelector('[data-sidebar="sidebar"]');if(c&&!c.contains(l.target)){const u=l.changedTouches[0];if(!u)return;const d=u.clientX-n.current.x,f=u.clientY-n.current.y,h=60;Math.abs(d)>Math.abs(f)&&Math.abs(d)>h&&d<-h&&(l.preventDefault(),ml.light(),t(!1))}n.current=null};return document.addEventListener("touchstart",s,{passive:!0}),document.addEventListener("touchend",o,{passive:!1}),()=>{document.removeEventListener("touchstart",s),document.removeEventListener("touchend",o)}},[t]),i.jsxs(Eme,{variant:"inset",...e,children:[i.jsx(ybe,{onTouchStart:r,onTouchEnd:a,children:i.jsx(nR,{children:i.jsxs(bh,{children:[i.jsx(ld,{asChild:!0,className:"data-[slot=sidebar-menu-button] h-fit",children:i.jsx("img",{src:Oje,className:"row-span-4 scale-75 dark:invert",width:"240",height:"160",alt:"Maneuver Logo Wordmark Horizontal"})}),i.jsx(Or,{className:"my-1"})]})})}),i.jsx(bbe,{onTouchStart:r,onTouchEnd:a,children:i.jsx(CCe,{items:Fje.navMain})}),i.jsxs(xbe,{children:[i.jsx("div",{className:"px-2 py-1",children:i.jsx(Zc,{sources:["tba","nexus"],variant:"compact"})}),i.jsx(Ije,{})]})]})}function De({className:e,...t}){return i.jsx("div",{"data-slot":"card",className:Re("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Ke({className:e,...t}){return i.jsx("div",{"data-slot":"card-header",className:Re("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Ge({className:e,...t}){return i.jsx("div",{"data-slot":"card-title",className:Re("leading-none font-semibold",e),...t})}function Fn({className:e,...t}){return i.jsx("div",{"data-slot":"card-description",className:Re("text-muted-foreground text-sm",e),...t})}function $e({className:e,...t}){return i.jsx("div",{"data-slot":"card-content",className:Re("px-6",e),...t})}function DR({className:e,...t}){return i.jsx("div",{"data-slot":"card-footer",className:Re("flex items-center px-6 [.border-t]:pt-6",e),...t})}const Vje=dC("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,asChild:n=!1,...r}){const a=n?zy:"span";return i.jsx(a,{"data-slot":"badge",className:Re(Vje({variant:t}),e),...r})}const zje={"/":{title:"Welcome to Maneuver!",content:["This is the home page of Maneuver, your comprehensive FRC scouting solution.","To get started, you can load demo data to explore the app's features, or use the sidebar menu to navigate to different sections.","Demo data includes 51 sample matches and 14 teams to help you understand how the scouting system works.","Use the sidebar menu to access scouting forms, data management, and strategy tools.","Each page has detailed help available via tooltips or dialogs.","Click the  icon on each page for quick tips or in-depth tutorials.","Install the Maneuver app on your device for the best experience. On Android, go to the browser settings, enable 'Add to Home Screen', and follow the prompts. On Safari in iOS, use the share button and select 'Add to Home Screen'.","For more information, visit our GitHub repository."]},"/game-start":{title:"Game Start Setup",useDialog:!0,content:["![Game Start Demo](./assets/tutorials/game-start-demo.gif)","This page is where you begin each scouting session by setting up match details.","1. Make sure your scout name is selected in the sidebar first","2. Add or select an event name","3. Enter the match number you're about to scout (match numbers will auto increment)","5. Choose your alliance color (Red/Blue) based on your position","6. Select the team number you'll be watching, enter a team number if match data is not available","7. Double-check all information before proceeding to Auto phase","Pro tip: Selecting your role will auto select alliance color and team slot to make selection faster."]},"/auto-start":{title:"Autonomous Position Setup",useDialog:!0,content:["![Autonomous Demo](./assets/tutorials/auto-phase-demo.gif)","Set up the robot's starting position for the autonomous phase.","1. Look at the field map showing the starting zone positions","2. Click on the field where your robot starts the match","3. Confirm the correct position is selected (you'll see a green badge)","4. Review the match details in the sidebar to ensure accuracy","5. Click 'Continue to Auto Scoring' to begin tracking autonomous performance","The starting position affects autonomous scoring opportunities and strategy analysis."]},"/auto-scoring":{title:"Autonomous Scoring",useDialog:!0,content:["![Auto Scoring Demo](./assets/tutorials/auto-scoring-demo.gif)","Record all scoring activities during the autonomous period (first 15 seconds).","1. Use the Reef Scoring section to track coral placement on different reef levels","2. Click coral pickup buttons when the robot collects coral pieces","3. Record algae collection and processing in the Algae section","4. Toggle 'Passed Starting Line' if the robot only leaves its starting zone","5. Use the 'Undo Last Action' button to correct any mistakes","6. Watch for the flashing 'Ending Soon!' indicator as auto period concludes","The sidebar shows your recent actions and current match info for reference."]},"/teleop-scoring":{title:"Teleoperated Scoring",useDialog:!0,content:["![Teleop Scoring Demo](./assets/tutorials/teleop-scoring-demo.gif)","Record all scoring activities during the teleoperated period (2 minutes 15 seconds).","1. Use the Reef Scoring section to track coral placement at different levels (L1, L2, L3, L4)","2. Click pickup buttons when the robot collects coral or algae pieces","3. Track algae processing and net scoring in the Algae section","4. Toggle 'Played Defense' when the robot actively defends against opponents","5. Monitor the 'Recent Actions' sidebar to verify your entries","6. Use 'Undo Last Action' to correct any recording errors","7. Click 'Continue to Endgame' when your robot heads to perform endgame actions","Pro tip: The current coral/algae counts show what the robot is currently holding."]},"/endgame":{title:"Endgame",useDialog:!0,content:["![Endgame Demo](./assets/tutorials/endgame-demo.gif)","Complete the match by recording endgame activities and final observations.","1. In the Climbing section, select one option: Shallow Climb, Deep Climb, or Park","2. Mark any issues that occurred: 'Climb Failed' or 'Broke Down'","3. Add detailed comments about robot performance, strategy, or notable events","4. Review the match summary to ensure all information is correct","5. Click 'Submit Match Data' to save the complete scouting report","Your data will be saved and you'll return to Game Start for the next match."]},"/team-stats":{title:"Team Statistics",content:["Analyze team performance across all scouted matches.","1. Select a team from the dropdown to view its stats.","2. View key metrics average total points, scoring by location, auto positions, pit scouting data, and comments","3. Use the Compare to feature to analyze performance against other teams.","4. Use the event filter to narrow down stats by specific events.","This data helps with alliance selection and match strategy planning."]},"/match-strategy":{title:"Match Strategy",content:["Plan strategy for upcoming matches using scouted data.","1. Draw on the field to visualize robot paths and scoring zones.","2. Switch tabs to strategize scoring and paths for different phases of the game","3. Enter the teams on each alliance or enter a match number to auto-fill the data.","4. Compare alliance abilities in each phase of the game.","Pro tip: Using the save all button will create an image with all drawings from each phase, team numbers, and match number"]},"/pick-list":{title:"Pick Lists & Alliance Selection",useDialog:!0,content:["Create and manage team ranking lists for alliance selection with integrated alliance management.","","**Pick List Management:**","1. **Create Lists** - Use the 'Create Pick List' section to add new ranking lists with custom names and descriptions","2. **Multiple Lists** - Create specialized lists (e.g., 'Auto Specialists', 'Climb Masters', 'Versatile Teams')","3. **Add Teams** - Click the '+' button next to any team in Available Teams to add them to a pick list","4. **Reorder Teams** - Drag and drop teams within pick lists to adjust their priority ranking","5. **Delete Teams** - Remove teams from lists or delete entire lists when no longer needed","6. **Empty State** - When no pick lists exist, you'll see helpful guidance to create your first list","","**Team Analysis:**"," **Available Teams Panel** - Browse all teams with comprehensive statistics and sorting options"," **Sort Options** - Order teams by number, total coral, algae, auto performance, climb rate, and more"," **Search Filter** - Quickly find specific teams using the search box"," **Performance Stats** - View detailed metrics for each team including averages and match counts","","**Alliance Selection Integration:**"," **Toggle Alliances** - Use 'Show/Hide Alliances' button to enable alliance selection features"," **Quick Assignment** - Add teams directly to alliance positions from the Available Teams panel or pick lists"," **Alliance Table** - Manage 8 alliances with captain and pick positions, plus backup teams"," **Smart Positioning** - Teams are automatically assigned to next available position (Captain  Pick 1  Pick 2  Pick 3)"," **Conflict Prevention** - Teams are automatically removed from pick lists when assigned to alliances"," **Confirm Alliances** - Lock in final alliance selections for use in match strategy","","**Data Management:**"," **Export** - Download your pick lists as JSON files for backup or sharing with team members"," **Import** - Upload previously exported pick lists with enhanced validation and error handling"," **Data Persistence** - All lists and alliances are automatically saved to your device","","**Pro Tips:**","- Create multiple specialized pick lists for different strategic needs","- Use alliance selection during actual alliance selection process at competitions","- Export pick lists before events as backup and for sharing with drive team","- Import team data from TBA Data page first to populate the available teams","- Sort teams by different metrics to identify specialists vs versatile robots","- Use the search function to quickly locate specific teams during alliance selection"]},"/json-transfer":{title:"JSON Data Transfer",useDialog:!0,content:["![JSON Transfer Demo](./assets/tutorials/json-transfer-demo.gif)","Export your scouting data or import data from other devices.","1. 'Download Scouting Data as JSON' - Exports all your data in JSON format for backup or sharing","2. 'Download Scouting Data as CSV' - Creates a spreadsheet-compatible file for analysis in Excel, Google Sheets, etc.","3. 'Upload JSON Data' - Import scouting data from other devices or restore from backup","4. JSON files maintain full data structure while CSV is optimized for spreadsheet analysis","5. Upload will overwrite your current local data, so export first if you want to keep it","Pro tip: Use JSON for device--to-device transfers and CSV for data analysis in spreadsheet tools."]},"/api-data":{title:"API Data Management",useDialog:!0,content:["Unified data management system integrating The Blue Alliance API and Nexus for FRC for comprehensive competition data import.","","**Getting Started:**","1. **TBA API Key** - Get your API key from thebluealliance.com/account (required for TBA operations)","2. **Nexus API Key** - Get your API key from frc.nexus/en/api (required for Nexus operations)","2. **Event Selection** - Enter event key (e.g., '2024chcmp', '2024week0', '2024necmp') for the competition","3. **Session Storage** - Choose 'Remember for session only' to keep credentials for convenience","4. **Data Source Selection** - Choose between The Blue Alliance and Nexus for FRC based on your needs","","**The Blue Alliance Integration:**"," **Match Schedule** - Import team lineups and qualification match schedules","  - Loads all qualification matches with team assignments","  - Populates team dropdowns in scouting forms and match strategy","  - Enables match number validation during scouting",""," **Match Results** - Verify predictions against actual match outcomes","  - Import completed match scores and winning alliances","  - Used for validating scouting predictions and awarding stakes","  - Shows red/blue alliance scores and match winners",""," **Event Teams** - Load complete team lists for pit scouting and analysis","  - Downloads all teams participating in the event","  - Creates local team database for pit assignments and pick lists","  - View teams in organized grid layout with filtering options","","**FRC Nexus Integration:**"," **Enhanced Pit Data** - Import pit data for pit addresses and pit maps for an enhanced pit scouting experience","","**Consolidated Data Management:**"," **Unified Interface** - Single page for all external data import needs"," **Smart Caching** - Reduces API calls and improves performance"," **Data Validation** - Automatic verification and error handling"," **Backup Integration** - Seamless export/import with QR and JSON systems","","**Best Practices:**","- Event keys are found on TBA event pages (URL format: /event/EVENTKEY)","- Import team data early in events for complete pit scouting coverage","- Use match results data to validate and improve your scouting accuracy","- Regular data refresh ensures you have latest competition information","- Export imported data as backup before major competitions"]},"/qr-data-transfer":{title:"QR Data Transfer Hub",useDialog:!0,content:["![QR Data Transfer Demo](./assets/tutorials/qr-scouting-demo.gif)","Comprehensive QR code-based data transfer system for all types of scouting data exchange.","","**Consolidated QR Transfer Features:**"," **Scouting Data Transfer** - Share match scouting data between devices"," **Match Schedule Transfer** - Distribute event schedules across your team"," **Pick List Transfer** - Share alliance selection lists and rankings"," **All Data Types** - Unified interface for any data transfer needs","","**Generate Fountain Codes:**","1. Select the type of data you want to share (scouting data, match schedules, etc.)","2. Choose transfer speed - use slower speeds in poor lighting or for older devices","3. Click 'Generate & Start Auto-Cycling' to begin the QR code sequence","4. Keep the generating device steady and ensure good lighting conditions","5. The QR codes will automatically cycle - let recipients scan at their own pace","","**Scan Fountain Codes:**","1. Position your device camera to clearly see the QR codes being displayed","2. The progress bar shows reconstruction status as you scan multiple codes","3. Continue scanning until 100% completion is reached","4. Use 'Reset Scanner' to clear progress and start over if needed","5. Choose 'Continue to App' when finished or 'Scan More Data' for additional transfers","","**Fountain Code Technology:**"," Breaks large datasets into smaller, manageable QR code segments"," Redundant encoding ensures data integrity even with missed scans"," Works completely offline - perfect when WiFi/internet isn't available"," Automatic error correction and data validation","","**Best Practices:**","- Scouting leads should use this to collect data from scouts throughout events perfect for collecting data in batches so you don't have to collect after every match","- Transfer data to drive teams in the pit for real-time strategy updates","- Share with other teams using Maneuver for collaborative scouting","- Use good lighting and keep devices steady during transfer","- Allow time for complete scanning - rushing can cause data corruption"]},"/strategy-overview":{title:"Strategy Overview",useDialog:!0,content:["![Strategy Overview Demo](./assets/tutorials/strategy-overview-demo.gif)","Comprehensive team performance analysis with advanced filtering and visualization tools.","1. Use the 'Event Filter' to analyze specific competitions or view all data combined","2. Change 'Aggregation Type' (Average, Median, Max, 75th percentile) to see different statistical views","3. 'Chart Section' - Toggle between bar charts for single metrics or scatter plots for correlation analysis","4. 'Column Settings' - Show/hide specific data columns or use quick presets (Essential, Auto, Teleop, etc.)","5. 'Column Filters' - Set numeric filters (>, >=, <, <=, =, !=) to find teams meeting specific criteria","6. 'Data Table' - Sort by any column, view aggregated statistics across all scouted matches","7. Use scatter plots to find correlations between metrics (e.g., coral vs algae scoring)","Perfect for alliance selection, identifying team strengths/weaknesses, and strategic planning."]},"/clear-data":{title:"Clear Data",content:["Manage and clear scouting data when needed.","Use carefully as this action cannot be undone.","Consider exporting important data before clearing.","Useful for starting fresh at new competitions or clearing test data."]},"/scout-management":{title:"Scout Management Dashboard",useDialog:!0,content:["Comprehensive dashboard for monitoring scout performance and managing scout statistics.","1. **View Selector** - Toggle between three visualization modes:","    Bar Chart - Visual ranking of scouts by selected metric","    Line Chart - Track scout performance progression over time","    Table - Detailed statistics with medal rankings for top 3 scouts","2. **Metric Selector** - Choose which performance metric to analyze:","    Stakes - Total stakes earned by the scout","    Total Predictions - Number of predictions made","    Correct Predictions - Number of accurate predictions","    Accuracy % - Percentage of correct predictions","    Current Streak - Active prediction streak","    Best Streak - Longest streak achieved","3. **Individual Scout Profile** - Select any scout to view detailed statistics and performance badges","4. **Summary Statistics** - Overview cards showing total scouts, predictions, stakes, and average accuracy","5. **Medal System** - Table view shows gold , silver , and bronze  rankings for top performers","Perfect for tracking scout engagement, identifying top performers, and managing scout teams during competitions.","Pro tip: Have disengaged scouts? Stakes are a great way to gamify scouting and encourage participation and further analysis of your data."]},"/pit-assignments":{title:"Pit Assignments",useDialog:!0,content:["Organize and manage pit scouting assignments across your team members with comprehensive tracking and assignment tools.","**Getting Started:**","1. **Add Scouts** - Use the Scout Management section to add team members who will conduct pit scouting","2. **Import Team Data** - Teams must be imported from the TBA Data page before creating assignments","3. **Event Information** - View current event details and team count (automatically loaded from TBA data)","","**Assignment Modes:**"," **Block Assignment** - Automatically divides teams into consecutive blocks for each scout","  - Teams are sorted numerically and distributed evenly","  - Each scout gets a sequential block of teams (e.g., Teams 1-10, 11-20, etc.)","  - Perfect for systematic coverage with minimal overlap at events with sequential pit locations",""," **Manual Assignment** - Click-to-assign individual teams to specific scouts","  - Select a scout from the colored buttons, then click team cards to assign","  - Right-click team cards to remove assignments","  - Must confirm assignments before scouts can mark teams as completed","","**Two View Modes:**"," **Team Cards** - Visual grid layout with color-coded assignments","  - Each team shows as a card with scout color coding","  - Easy to see assignment distribution at a glance","  - Interactive assignment and completion tracking",""," **Table View** - Sortable table with search and filtering capabilities","  - Sort by team number, assigned scout, or completion status","  - Search for specific teams or scouts","  - Export assignments to CSV for external sharing","","**Progress Tracking:**"," Visual progress bars show completion percentage"," Color-coded scout legend with assignment counts"," Real-time updates as teams are marked complete"," Clear indicators for unassigned teams","","**Pro Tips:**","- Block assignments work best for large events with consistent coverage needs","- Manual assignments are ideal when you need specific scout-team pairings","- Use the search function in table view to quickly find specific teams","- Export data regularly to backup your assignment progress","- Assignments persist until manually cleared, perfect for multi-day events","- Import new event data from TBA Data page will replace the current event automatically"]},"/peer-transfer":{title:"WiFi Transfer",useDialog:!0,content:["Fast peer--to-peer data transfer over WiFi or cellular networks using room codes. Connections persist across navigation and auto-reconnect on disconnect. Requires all devices to have internet connectivity. For offline environments, use the QR Code transfer method instead.","","**Data Transfer Types:**"," **Scouting Data** - Match scouting entries from scouts to lead"," **Pit Scouting Data** - Pit scouting reports and team observations"," **Match Schedule** - Event schedules and match lineups from lead to scouts"," **Scout Profiles** - Team member profiles"," **Combined Data** - Scouting data + scout profiles in one transfer","","**Lead Scout Features:**"," **Individual Actions** - Request or push data to specific scouts"," **Batch Operations** - Request from all or push to all scouts simultaneously"," **Disconnect Scout** - X button to disconnect individual scouts (notifies scout)"," **Navigate Away** - Connections stay active when you leave the page"," **Auto-Reconnect** - Scouts rejoin automatically when you return","","**Scout Features:**"," **Simple Join** - Enter room code once, stay connected"," **Approve/Decline** - Control what data you send or receive"," **Background Connection** - Use other app features while staying connected"," **Visual Indicators** - Connection status shown clearly"," **Auto-Reconnect** - Reconnects automatically if disconnected","","**Connection Status:**"," **Connected**  - Active WebRTC connection, ready for data transfer"," **Connecting**  - Establishing connection via signaling server"," **Disconnected**  - Connection lost, attempting auto-reconnect"," **Timeout**  - 30-second connection timeout with countdown indicator","","**Transfer History:**"," **Recent Transfers** - View all completed data exchanges"," **Clear History** - Trash button to remove all transfer records"," **Transfer Details** - See data type, scout name, timestamp, and record count","","**Troubleshooting:**","- **Connection Timeout?** Verify all devices have internet access (WiFi or cellular)","- **Scout Not Connecting?** They may need to refresh and re-enter the code","- **Auto-Reconnect Failed?** Try clearing saved room code and generating new one","- **Lead Navigation Issues?** Wait a few seconds after returning for scouts to announce","- **Multiple Scouts Disconnecting?** Check lead's internet connection stability","- **No Internet Available?** Fall back to QR Code transfer method for offline use","","**Best Practices:**"," Share room code clearly - verbal, text message, or screen display"," Keep lead device stable with good internet connection"," Scouts can navigate freely - connections persist globally"," Generate new code for each event or session"," Use 'Push to All' for distributing schedules efficiently"," Monitor scout cards for connection status"," Clear saved room code when starting fresh","","**When to Use QR Instead:**"," No WiFi or cellular data available at venue"," Sharing data between different teams/organizations"," One-time transfers without ongoing connection needs"]}},Uje=e=>zje[e]||null,Kje=({title:e,content:t,useDialog:n=!1})=>{const[r,a]=p.useState(!1),[s,o]=p.useState(!1),l=Ja(),c=Uje(l.pathname),u=e||(c==null?void 0:c.title)||"Page Help",d=t||(c==null?void 0:c.content)||["No help available for this page."],f=Array.isArray(d)?d:[d];return!e&&!t&&!c?null:n||(c==null?void 0:c.useDialog)||f.length>3||f.some(m=>m.length>200)?i.jsxs(to,{open:s,onOpenChange:o,children:[i.jsx(DC,{asChild:!0,children:i.jsxs(Z,{variant:"ghost",size:"sm",className:"h-8 w-fit px-2 mr-0 ",children:[i.jsx("span",{className:"flex items-center justify-center",children:"Page Help"}),i.jsx(M4,{className:"h-4 w-4"})]})}),i.jsxs(no,{className:"max-w-[calc(100vw-2rem)] sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(Go,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ro,{className:"text-xl",children:u}),i.jsx(Le,{variant:"secondary",className:"text-xs",children:"Tutorial"})]}),i.jsxs(cf,{className:"sr-only",children:["Detailed tutorial for ",u]})]}),i.jsx("div",{className:"space-y-4 mt-4",children:f.map((m,g)=>{if(m.includes("![")&&m.includes("](")){const x=m.match(/!\[([^\]]*)\]\(([^)]*)\)/);if(x){const[,y,w]=x;return i.jsx("div",{className:"text-center my-6",children:i.jsx("div",{className:"bg-muted rounded-lg p-6 mb-2",children:i.jsxs("div",{className:"text-muted-foreground text-sm space-y-2",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-muted-foreground/20 rounded-lg flex items-center justify-center mb-4",children:navigator.onLine?i.jsx(R4,{className:"w-8 h-8 text-muted-foreground/40"}):i.jsxs("div",{className:"text-center",children:[i.jsx(R4,{className:"w-8 h-8 text-muted-foreground/40 mx-auto mb-2"}),i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mx-auto",title:"Offline"})]})}),i.jsxs("p",{className:"font-medium",children:[navigator.onLine?"Tutorial Visual":"Offline Mode",": ",y]}),i.jsxs("p",{className:"text-xs",children:[navigator.onLine?"Coming Soon":"Available when online",": ",w]}),i.jsx("p",{className:"text-xs text-muted-foreground/70",children:navigator.onLine?"This will show an interactive demonstration of the process":"Follow the numbered steps below - visuals will load when back online"})]})})},g)}}const v=/^\d+\.||-/.test(m.trim());let b="";if(v){const x=m.trim().match(/^(\d+)\./);b=(x==null?void 0:x[1])??""}return i.jsxs("div",{className:v?"flex gap-3":"",children:[v&&i.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs flex items-center justify-center mt-0.5 shrink-0",children:b}),i.jsx("p",{className:`text-sm ${v?"flex-1":""} ${v?"text-foreground":"text-muted-foreground"}`,children:m.replace(/^\d+\.||-\s*/,"")})]},g)})})]})]}):r?i.jsxs(De,{className:"fixed top-20 right-4 z-50 w-80 max-w-[calc(100vw-2rem)] shadow-lg",children:[i.jsx(Ke,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ge,{className:"text-lg",children:u}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>a(!1),className:"h-6 w-6 p-0",children:i.jsx(Wa,{className:"h-4 w-4"})})]})}),i.jsx($e,{className:"pt-0",children:i.jsx("div",{className:"space-y-3 text-sm",children:f.map((m,g)=>i.jsx("p",{className:"text-muted-foreground",children:m},g))})})]}):i.jsx(CD,{children:i.jsxs(m9,{children:[i.jsx(p9,{asChild:!0,children:i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"h-8 w-8 p-0",children:i.jsx(M4,{className:"h-4 w-4"})})}),i.jsx(g9,{children:i.jsx("p",{children:"How to use this page"})})]})})};function Gje(){const e=Ja(),[t,n]=p.useState(!0),[r,a]=p.useState(!1);return p.useEffect(()=>{const s=()=>{const h=window.innerWidth<1536;if(a(h),!h){n(!0);return}};s();let o=0,l=!1;const c=h=>{l||(requestAnimationFrame(()=>{const g=h.target.scrollTop;g<=50?n(!0):g>o&&g>100?n(!1):g<o&&o-g>10&&n(!0),o=g,l=!1}),l=!0)},u=()=>{setTimeout(()=>{const h=document.querySelector('main[data-slot="sidebar-inset"]');h&&h.addEventListener("scroll",c,{passive:!0})},100)},d=()=>{const h=document.querySelector('main[data-slot="sidebar-inset"]');h&&h.removeEventListener("scroll",c)};r&&u();const f=()=>{d(),s(),window.innerWidth<1536&&u(),n(!0)};return window.addEventListener("resize",f),()=>{d(),window.removeEventListener("resize",f)}},[e.pathname,r]),i.jsx("header",{className:`flex h-(--header-height) items-center bg-popover/95 backdrop-blur-sm gap-2 border-b transition-all duration-300 ease-out group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height) py-2 z-30 ${r?`fixed top-0 left-0 right-0 ${t?"translate-y-0":"-translate-y-full"}`:"sticky top-0"}`,children:i.jsxs("div",{className:"flex w-full items-center gap-1 px-4 lg:gap-2 lg:px-6",children:[i.jsx(vbe,{className:"-ml-1",size:"lg"}),i.jsx(Or,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-12"}),i.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(Kje,{})}),i.jsx(Z,{variant:"ghost",className:"hidden sm:flex w-auto h-auto px-6",children:i.jsx("a",{href:"https://github.com/ShinyShips/Maneuver",rel:"noopener noreferrer",target:"_blank",className:"dark:text-foreground",children:"GitHub"})})]})]})})}function Wje(){const[e,t]=p.useState(!1);return p.useEffect(()=>{const n=()=>{const s=window.matchMedia("(display-mode: standalone)").matches,o="standalone"in window.navigator&&window.navigator.standalone===!0;t(s||o)};n();const r=window.matchMedia("(display-mode: standalone)"),a=()=>n();return r.addEventListener("change",a),()=>{r.removeEventListener("change",a)}},[]),e}const qje=[{icon:vG,label:"Scout",href:"/game-start"},{icon:tE,label:"WiFi Data",href:"/peer-transfer"},{icon:Sfe,label:"QR Data",href:"/qr-transfer"},{icon:Td,label:"Strategy",href:"/strategy-overview"},{icon:aD,label:"Match",href:"/match-strategy"}];function Hje(){const e=Ja(),t=Wje(),n=Gm(),{confirmNavigation:r,handleConfirm:a,handleCancel:s,isConfirmDialogOpen:o,pendingDestinationLabel:l}=yH(),c=!1;if(!(n&&(t||c)))return null;const d=(f,h)=>{ml.light(),r(f,h)};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[c,i.jsx("nav",{className:"flex items-center justify-around py-2 px-4",children:qje.map(f=>{const h=f.icon,m=e.pathname===f.href;return i.jsxs(Z,{variant:"ghost",onClick:()=>d(f.href,f.label),className:Re("flex flex-col items-center gap-1 p-2 rounded-lg transition-colors","min-w-0 flex-1 max-w-16 h-auto",m?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[i.jsx(h,{className:"h-5 w-5 shrink-0"}),i.jsx("span",{className:"text-xs font-medium truncate",children:f.label})]},f.href)})})]}),i.jsx(OH,{open:o,onConfirm:a,onCancel:s,destinationLabel:l})]})}function Yje(){const{pathname:e}=Ja();return p.useEffect(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,document.querySelectorAll("[data-scrollable], .overflow-auto, .overflow-y-auto, .overflow-scroll, .overflow-y-scroll").forEach(r=>{r instanceof HTMLElement&&(r.scrollTop=0)});const n=document.querySelector('main, [role="main"], .main-content');n instanceof HTMLElement&&(n.scrollTop=0)},[e]),null}function Qje(){return i.jsxs(_ge,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:[i.jsx(Bje,{variant:"inset"}),i.jsxs(Tme,{children:[i.jsx(Gje,{}),i.jsx(Yje,{}),i.jsx("div",{className:"2xl:pb-0 !2xl:pt-0",children:i.jsx(hue,{})}),i.jsx(Hje,{})]})]})}var Zje=(e,t,n,r,a,s,o,l)=>{let c=document.documentElement,u=["light","dark"];function d(m){(Array.isArray(e)?e:[e]).forEach(g=>{let v=g==="class",b=v&&s?a.map(x=>s[x]||x):a;v?(c.classList.remove(...b),c.classList.add(s&&s[m]?s[m]:m)):c.setAttribute(g,m)}),f(m)}function f(m){l&&u.includes(m)&&(c.style.colorScheme=m)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let m=localStorage.getItem(t)||n,g=o&&m==="system"?h():m;d(g)}catch{}},Jje=p.createContext(void 0),Xje={setTheme:e=>{},themes:[]},eNe=()=>{var e;return(e=p.useContext(Jje))!=null?e:Xje};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:s,value:o,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([n,t,s,e,l,o,r,a]).slice(1,-1);return p.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Zje.toString()})(${d})`}})});var tNe=e=>{switch(e){case"success":return aNe;case"info":return iNe;case"warning":return sNe;case"error":return oNe;default:return null}},nNe=Array(12).fill(0),rNe=({visible:e,className:t})=>qe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},qe.createElement("div",{className:"sonner-spinner"},nNe.map((n,r)=>qe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),aNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lNe=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},qe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),qe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),cNe=()=>{let[e,t]=qe.useState(document.hidden);return qe.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},$E=1,uNe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:$E++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0,s,o=r.then(async c=>{if(s=["resolve",c],qe.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(fNe(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||$E++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cs=new uNe,dNe=(e,t)=>{let n=(t==null?void 0:t.id)||$E++;return cs.addToast({title:e,...t,id:n}),n},fNe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",hNe=dNe,mNe=()=>cs.toasts,pNe=()=>cs.getActiveToasts(),oe=Object.assign(hNe,{success:cs.success,info:cs.info,warning:cs.warning,error:cs.error,custom:cs.custom,message:cs.message,promise:cs.promise,dismiss:cs.dismiss,loading:cs.loading},{getHistory:mNe,getToasts:pNe});function gNe(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}gNe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function L0(e){return e.label!==void 0}var vNe=3,yNe="32px",xNe="16px",zF=4e3,bNe=356,wNe=14,SNe=20,CNe=200;function Ai(...e){return e.filter(Boolean).join(" ")}function jNe(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var NNe=e=>{var t,n,r,a,s,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:v,setHeights:b,visibleToasts:x,heights:y,index:w,toasts:S,expanded:C,removeToast:k,defaultRichColors:N,closeButton:P,style:E,cancelButtonStyle:R,actionButtonStyle:O,className:K="",descriptionClassName:J="",duration:Q,position:G,gap:z,loadingIcon:U,expandByDefault:M,classNames:$,icons:B,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:q}=e,[ae,he]=qe.useState(null),[je,Ee]=qe.useState(null),[me,Ve]=qe.useState(!1),[ne,ke]=qe.useState(!1),[we,re]=qe.useState(!1),[He,Oe]=qe.useState(!1),[Xe,Fe]=qe.useState(!1),[Se,de]=qe.useState(0),[ve,Nt]=qe.useState(0),We=qe.useRef(m.duration||Q||zF),kt=qe.useRef(null),ct=qe.useRef(null),Ft=w===0,nn=w+1<=x,Et=m.type,Lt=m.dismissible!==!1,An=m.className||"",mn=m.descriptionClassName||"",Zn=qe.useMemo(()=>y.findIndex(Pt=>Pt.toastId===m.id)||0,[y,m.id]),ee=qe.useMemo(()=>{var Pt;return(Pt=m.closeButton)!=null?Pt:P},[m.closeButton,P]),Ne=qe.useMemo(()=>m.duration||Q||zF,[m.duration,Q]),ge=qe.useRef(0),Ue=qe.useRef(0),st=qe.useRef(0),Ye=qe.useRef(null),[Ht,wt]=G.split("-"),St=qe.useMemo(()=>y.reduce((Pt,Jt,Xt)=>Xt>=Zn?Pt:Pt+Jt.height,0),[y,Zn]),ze=cNe(),Vn=m.invert||h,jt=Et==="loading";Ue.current=qe.useMemo(()=>Zn*z+St,[Zn,St]),qe.useEffect(()=>{We.current=Ne},[Ne]),qe.useEffect(()=>{Ve(!0)},[]),qe.useEffect(()=>{let Pt=ct.current;if(Pt){let Jt=Pt.getBoundingClientRect().height;return Nt(Jt),b(Xt=>[{toastId:m.id,height:Jt,position:m.position},...Xt]),()=>b(Xt=>Xt.filter(Sn=>Sn.toastId!==m.id))}},[b,m.id]),qe.useLayoutEffect(()=>{if(!me)return;let Pt=ct.current,Jt=Pt.style.height;Pt.style.height="auto";let Xt=Pt.getBoundingClientRect().height;Pt.style.height=Jt,Nt(Xt),b(Sn=>Sn.find(Jn=>Jn.toastId===m.id)?Sn.map(Jn=>Jn.toastId===m.id?{...Jn,height:Xt}:Jn):[{toastId:m.id,height:Xt,position:m.position},...Sn])},[me,m.title,m.description,b,m.id]);let Yr=qe.useCallback(()=>{ke(!0),de(Ue.current),b(Pt=>Pt.filter(Jt=>Jt.toastId!==m.id)),setTimeout(()=>{k(m)},CNe)},[m,k,b,Ue]);qe.useEffect(()=>{if(m.promise&&Et==="loading"||m.duration===1/0||m.type==="loading")return;let Pt;return C||v||q&&ze?(()=>{if(st.current<ge.current){let Jt=new Date().getTime()-ge.current;We.current=We.current-Jt}st.current=new Date().getTime()})():We.current!==1/0&&(ge.current=new Date().getTime(),Pt=setTimeout(()=>{var Jt;(Jt=m.onAutoClose)==null||Jt.call(m,m),Yr()},We.current)),()=>clearTimeout(Pt)},[C,v,m,Et,q,ze,Yr]),qe.useEffect(()=>{m.delete&&Yr()},[Yr,m.delete]);function Qr(){var Pt,Jt,Xt;return B!=null&&B.loading?qe.createElement("div",{className:Ai($==null?void 0:$.loader,(Pt=m==null?void 0:m.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":Et==="loading"},B.loading):U?qe.createElement("div",{className:Ai($==null?void 0:$.loader,(Jt=m==null?void 0:m.classNames)==null?void 0:Jt.loader,"sonner-loader"),"data-visible":Et==="loading"},U):qe.createElement(rNe,{className:Ai($==null?void 0:$.loader,(Xt=m==null?void 0:m.classNames)==null?void 0:Xt.loader),visible:Et==="loading"})}return qe.createElement("li",{tabIndex:0,ref:ct,className:Ai(K,An,$==null?void 0:$.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[Et],(n=m==null?void 0:m.classNames)==null?void 0:n[Et]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":me,"data-promise":!!m.promise,"data-swiped":Xe,"data-removed":ne,"data-visible":nn,"data-y-position":Ht,"data-x-position":wt,"data-index":w,"data-front":Ft,"data-swiping":we,"data-dismissible":Lt,"data-type":Et,"data-invert":Vn,"data-swipe-out":He,"data-swipe-direction":je,"data-expanded":!!(C||M&&me),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${ne?Se:Ue.current}px`,"--initial-height":M?"auto":`${ve}px`,...E,...m.style},onDragEnd:()=>{re(!1),he(null),Ye.current=null},onPointerDown:Pt=>{jt||!Lt||(kt.current=new Date,de(Ue.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(re(!0),Ye.current={x:Pt.clientX,y:Pt.clientY}))},onPointerUp:()=>{var Pt,Jt,Xt,Sn;if(He||!Lt)return;Ye.current=null;let Jn=Number(((Pt=ct.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ja=Number(((Jt=ct.current)==null?void 0:Jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ce=new Date().getTime()-((Xt=kt.current)==null?void 0:Xt.getTime()),fe=ae==="x"?Jn:ja,Te=Math.abs(fe)/ce;if(Math.abs(fe)>=SNe||Te>.11){de(Ue.current),(Sn=m.onDismiss)==null||Sn.call(m,m),Ee(ae==="x"?Jn>0?"right":"left":ja>0?"down":"up"),Yr(),Oe(!0),Fe(!1);return}re(!1),he(null)},onPointerMove:Pt=>{var Jt,Xt,Sn,Jn;if(!Ye.current||!Lt||((Jt=window.getSelection())==null?void 0:Jt.toString().length)>0)return;let ja=Pt.clientY-Ye.current.y,ce=Pt.clientX-Ye.current.x,fe=(Xt=e.swipeDirections)!=null?Xt:jNe(G);!ae&&(Math.abs(ce)>1||Math.abs(ja)>1)&&he(Math.abs(ce)>Math.abs(ja)?"x":"y");let Te={x:0,y:0};ae==="y"?(fe.includes("top")||fe.includes("bottom"))&&(fe.includes("top")&&ja<0||fe.includes("bottom")&&ja>0)&&(Te.y=ja):ae==="x"&&(fe.includes("left")||fe.includes("right"))&&(fe.includes("left")&&ce<0||fe.includes("right")&&ce>0)&&(Te.x=ce),(Math.abs(Te.x)>0||Math.abs(Te.y)>0)&&Fe(!0),(Sn=ct.current)==null||Sn.style.setProperty("--swipe-amount-x",`${Te.x}px`),(Jn=ct.current)==null||Jn.style.setProperty("--swipe-amount-y",`${Te.y}px`)}},ee&&!m.jsx?qe.createElement("button",{"aria-label":te,"data-disabled":jt,"data-close-button":!0,onClick:jt||!Lt?()=>{}:()=>{var Pt;Yr(),(Pt=m.onDismiss)==null||Pt.call(m,m)},className:Ai($==null?void 0:$.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(s=B==null?void 0:B.close)!=null?s:lNe):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:qe.createElement(qe.Fragment,null,Et||m.icon||m.promise?qe.createElement("div",{"data-icon":"",className:Ai($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Qr():null,m.type!=="loading"?m.icon||(B==null?void 0:B[Et])||tNe(Et):null):null,qe.createElement("div",{"data-content":"",className:Ai($==null?void 0:$.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},qe.createElement("div",{"data-title":"",className:Ai($==null?void 0:$.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?qe.createElement("div",{"data-description":"",className:Ai(J,mn,$==null?void 0:$.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&L0(m.cancel)?qe.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:Pt=>{var Jt,Xt;L0(m.cancel)&&Lt&&((Xt=(Jt=m.cancel).onClick)==null||Xt.call(Jt,Pt),Yr())},className:Ai($==null?void 0:$.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&L0(m.action)?qe.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:Pt=>{var Jt,Xt;L0(m.action)&&((Xt=(Jt=m.action).onClick)==null||Xt.call(Jt,Pt),!Pt.defaultPrevented&&Yr())},className:Ai($==null?void 0:$.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function UF(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kNe(e,t){let n={};return[e,t].forEach((r,a)=>{let s=a===1,o=s?"--mobile-offset":"--offset",l=s?xNe:yNe;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var ANe=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=vNe,toastOptions:v,dir:b=UF(),gap:x=wNe,loadingIcon:y,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:C}=e,[k,N]=qe.useState([]),P=qe.useMemo(()=>Array.from(new Set([r].concat(k.filter(q=>q.position).map(q=>q.position)))),[k,r]),[E,R]=qe.useState([]),[O,K]=qe.useState(!1),[J,Q]=qe.useState(!1),[G,z]=qe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=qe.useRef(null),M=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=qe.useRef(null),B=qe.useRef(!1),te=qe.useCallback(q=>{N(ae=>{var he;return(he=ae.find(je=>je.id===q.id))!=null&&he.delete||cs.dismiss(q.id),ae.filter(({id:je})=>je!==q.id)})},[]);return qe.useEffect(()=>cs.subscribe(q=>{if(q.dismiss){N(ae=>ae.map(he=>he.id===q.id?{...he,delete:!0}:he));return}setTimeout(()=>{Q_.flushSync(()=>{N(ae=>{let he=ae.findIndex(je=>je.id===q.id);return he!==-1?[...ae.slice(0,he),{...ae[he],...q},...ae.slice(he+1)]:[q,...ae]})})})}),[]),qe.useEffect(()=>{if(d!=="system"){z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:ae})=>{z(ae?"dark":"light")})}catch{q.addListener(({matches:he})=>{try{z(he?"dark":"light")}catch(je){console.error(je)}})}},[d]),qe.useEffect(()=>{k.length<=1&&K(!1)},[k]),qe.useEffect(()=>{let q=ae=>{var he,je;a.every(Ee=>ae[Ee]||ae.code===Ee)&&(K(!0),(he=U.current)==null||he.focus()),ae.code==="Escape"&&(document.activeElement===U.current||(je=U.current)!=null&&je.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[a]),qe.useEffect(()=>{if(U.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,B.current=!1)}},[U.current]),qe.createElement("section",{ref:t,"aria-label":`${S} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((q,ae)=>{var he;let[je,Ee]=q.split("-");return k.length?qe.createElement("ol",{key:q,dir:b==="auto"?UF():b,tabIndex:-1,ref:U,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":je,"data-lifted":O&&k.length>1&&!s,"data-x-position":Ee,style:{"--front-toast-height":`${((he=E[0])==null?void 0:he.height)||0}px`,"--width":`${bNe}px`,"--gap":`${x}px`,...m,...kNe(c,u)},onBlur:me=>{B.current&&!me.currentTarget.contains(me.relatedTarget)&&(B.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||B.current||(B.current=!0,$.current=me.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{J||K(!1)},onDragEnd:()=>K(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},k.filter(me=>!me.position&&ae===0||me.position===q).map((me,Ve)=>{var ne,ke;return qe.createElement(NNe,{key:me.id,icons:w,index:Ve,toast:me,defaultRichColors:f,duration:(ne=v==null?void 0:v.duration)!=null?ne:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:(ke=v==null?void 0:v.closeButton)!=null?ke:o,interacting:J,position:q,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:te,toasts:k.filter(we=>we.position==me.position),heights:E.filter(we=>we.position==me.position),setHeights:R,expandByDefault:s,gap:x,loadingIcon:y,expanded:O,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const PNe=({...e})=>{const{theme:t="system"}=eNe();return i.jsx(ANe,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},ENe=()=>i.jsxs("div",{className:"flex bg-background h-screen w-screen flex-col",children:[i.jsx(Qje,{}),i.jsx(PNe,{})]}),TNe="/Maneuver-2026/assets/Investigating-ChGTA_4m.png";function _Ne(){const e=zo();return i.jsxs("div",{className:"flex flex-col items-center min-h-screen w-full px-4 pt-12 pb-24",children:[i.jsx("img",{src:TNe,alt:"Investigating",className:"mb-4 dark:invert"}),i.jsx("h1",{className:"text-5xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-lg text-muted-foreground mb-2",children:"Page Not Found"}),i.jsx("p",{className:"text-base text-muted-foreground mb-6 text-center max-w-xl",children:"Oops! The page youre looking for doesnt exist, was moved, or never existed. If you think this is a mistake, please check the URL or return to the home page."}),i.jsx(Z,{onClick:()=>e("/"),className:"h-12 text-lg font-semibold px-4 w-full max-w-lg",children:"Go Home"})]})}const DNe=({logo:e,appName:t="Maneuver",version:n="1.0.0",onLoadDemoData:r,onClearData:a,checkExistingData:s,demoDataDescription:o="Load sample scouting data to explore the app's features",demoDataStats:l="Demo data loaded successfully!"}={})=>{const[c,u]=p.useState(!1),[d,f]=p.useState(!1);p.useEffect(()=>{(async()=>{if(s)try{const v=await s();f(v)}catch(v){console.error("Error checking existing data:",v)}})()},[s]);const h=async()=>{if(r){ml.medium(),u(!0);try{await r(),f(!0),ml.success(),$h.trackEvent("demo_data_loaded")}catch(g){ml.error(),console.error("HomePage - Error loading demo data:",g),g instanceof Error&&console.error("Error details:",g.message,g.stack)}finally{u(!1)}}},m=async()=>{if(a){ml.medium();try{await a(),f(!1),$h.trackEvent("demo_data_cleared")}catch(g){console.error("Error clearing data:",g),f(!1),$h.trackEvent("demo_data_cleared")}}};return i.jsxs("main",{className:"relative h-screen w-full",children:[i.jsxs("div",{className:Re("flex flex-col h-screen w-full justify-center items-center gap-6 2xl:pb-6","bg-size-[40px_40px]","bg-[linear-gradient(to_right,#e4e4e7_1px,transparent_1px),linear-gradient(to_bottom,#e4e4e7_1px,transparent_1px)]","dark:bg-[linear-gradient(to_right,#262626_1px,transparent_1px),linear-gradient(to_bottom,#262626_1px,transparent_1px)]"),children:[i.jsxs("div",{className:"flex flex-col w-auto justify-center items-center gap-6 scale-75 md:scale-75 lg:scale-100",children:[e?i.jsx("img",{src:e,width:"600",height:"240",alt:`${t} Logo`,className:"dark:invert"}):i.jsx("div",{className:"text-4xl font-bold",children:t}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Version"}),": ",n]}),i.jsx(Zc,{sources:["tba","nexus"],variant:"compact"})]})]}),(r||a)&&i.jsx(De,{className:"w-full max-w-md mx-4 mt-8 scale-75 md:scale-100",children:i.jsx($e,{className:"p-6",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Demo Data"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o}),d?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-600",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l]}),a&&i.jsx(Z,{onClick:m,variant:"outline",size:"sm",className:"w-full",children:"Clear Data"})]}):i.jsx(Z,{onClick:h,disabled:c||!r,className:"w-full",children:c?"Loading...":"Load Demo Data"})]})})})]}),i.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center bg-white mask-[radial-gradient(ellipse_at_center,transparent_70%,black)] dark:bg-black"})]})};var RNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],MNe=RNe.reduce((e,t)=>{const n=Vy(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),INe="Label",S7=p.forwardRef((e,t)=>i.jsx(MNe.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));S7.displayName=INe;var ONe=S7;function Mt({className:e,...t}){return i.jsx(ONe,{"data-slot":"label",className:Re("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const LNe=dC("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ar({className:e,variant:t,...n}){return i.jsx("div",{"data-slot":"alert",role:"alert",className:Re(LNe({variant:t}),e),...n})}function LC({className:e,...t}){return i.jsx("div",{"data-slot":"alert-title",className:Re("font-semibold leading-none tracking-tight",e),...t})}function pr({className:e,...t}){return i.jsx("div",{"data-slot":"alert-description",className:Re("[&_p]:leading-relaxed",e),...t})}const Ok=({currentTeamType:e,currentTeamStatus:t,clickTeam:n,teamName:r="0000 - Team Name",isPreferred:a=!1})=>i.jsx(i.Fragment,{children:i.jsx(Z,{variant:"outline",type:"button",className:Re("w-full h-full flex flex-row items-center text-xl pl-2 active:bg-accent",a&&"ring-2 ring-blue-500 ring-offset-2",t&&"bg-gray-200 dark:bg-neutral-600"),onClick:()=>n(e,t),children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("span",{children:r}),a&&i.jsx("span",{className:"text-blue-500 text-sm font-semibold px-2",children:"(Your Position)"})]})})}),$Ne=({defaultSelectTeam:e,setSelectTeam:t,selectedMatch:n,selectedAlliance:r,preferredTeamPosition:a=0})=>{const s=p.useMemo(()=>{try{const C=localStorage.getItem("matchData"),k=C?JSON.parse(C):[];if(!Array.isArray(k)||k.length===0)return["0001","0002","0003"];let N=parseInt(n)-1;(isNaN(N)||N<0||N>=k.length)&&(N=0);const P=k[N];if(P&&typeof P=="object"){const R=P[r==="red"?"redAlliance":r==="blue"?"blueAlliance":"redAlliance"];if(Array.isArray(R)&&R.length>0)return R}return["0001","0002","0003"]}catch{return["0001","0002","0003"]}},[n,r]),l=e?{team1:e===s[0],team2:e===s[1],team3:e===s[2],custom:e!==s[0]&&e!==s[1]&&e!==s[2]}:a>=1&&a<=3?{team1:a===1,team2:a===2,team3:a===3,custom:!1}:{team1:!1,team2:!1,team3:!1,custom:!1},[c,u]=p.useState(l.team1),[d,f]=p.useState(l.team2),[h,m]=p.useState(l.team3),[g,v]=p.useState(l.custom),[b,x]=p.useState(l.custom&&e?e:"");p.useEffect(()=>{e&&e!==s[0]&&e!==s[1]&&e!==s[2]&&(x(e),v(!0),u(!1),f(!1),m(!1))},[e,s]);const y=(C,k)=>{C==="1"?(u(!k),f(!1),m(!1),v(!1)):C==="2"?(f(!k),u(!1),m(!1),v(!1)):C==="3"?(m(!k),u(!1),f(!1),v(!1)):C==="custom"&&(v(!0),u(!1),f(!1),m(!1))};p.useEffect(()=>{c?t(s[0]):d?t(s[1]):h?t(s[2]):g&&b!=""?t(b):t(null)},[c,d,h,g,b,t,s]),p.useEffect(()=>{!c&&!d&&!h&&!g&&a>=1&&a<=3&&(a===1?u(!0):a===2?f(!0):a===3&&m(!0))},[s,a,c,d,h,g]);const[w,S]=p.useState(!1);return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"w-full h-full",children:[w&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&i.jsx("div",{className:"absolute left-0 top-0 w-full h-full z-1"}),a>0&&i.jsxs("p",{className:"text-sm text-muted-foreground pb-2",children:["Your role suggests position ",a]}),i.jsxs("div",{className:"flex flex-col w-full h-full gap-4",children:[i.jsx("div",{className:"grow",children:i.jsx(Ok,{currentTeamType:"1",currentTeamStatus:c,clickTeam:y,teamName:s[0],isPreferred:a===1})}),i.jsx("div",{className:"grow",children:i.jsx(Ok,{currentTeamType:"2",currentTeamStatus:d,clickTeam:y,teamName:s[1],isPreferred:a===2})}),i.jsx("div",{className:"grow",children:i.jsx(Ok,{currentTeamType:"3",currentTeamStatus:h,clickTeam:y,teamName:s[2],isPreferred:a===3})}),i.jsxs("div",{className:"flex justify-center z-2 items-center",children:[i.jsx("h2",{className:"text-2xl font-semibold grow mr-2 pb-2",children:"Custom:"}),i.jsx(Qt,{className:"w-full h-12 text-xl rounded-lg",type:"number",inputMode:"numeric",placeholder:"Team #",value:b,onChange:C=>x(C.target.value),onFocus:()=>{y("custom",g),S(!0)},onBlur:()=>S(!1)})]})]})]})})},FNe=[{name:"Rocket City Regional",key:"2026alhu",week:5},{name:"Archimedes Division",key:"2026arc",week:null},{name:"Arkansas Regional",key:"2026arli",week:2},{name:"Southern Cross Regional",key:"2026ausc",week:1},{name:"Arizona North Regional",key:"2026azfg",week:1},{name:"Canadian Pacific Regional",key:"2026bcvi",week:0},{name:"Regional Brazil - Festival SESI de Educao",key:"2026brba",week:0},{name:"Regional Brazil - SESI Vila Leopoldina",key:"2026brsp",week:1},{name:"CA District Aerospace Valley Event",key:"2026caasv",week:4},{name:"CA District Contra Costa Event",key:"2026cacac",week:4},{name:"CA District Central Valley Event",key:"2026caclv",week:3},{name:"CA District East Bay Event",key:"2026caetb",week:4},{name:"CA District Glendale Event",key:"2026cagle",week:3},{name:"CA District Half Moon Bay Event",key:"2026cahal",week:0},{name:"CA District Los Angeles Event",key:"2026calas",week:2},{name:"FIRST California Northern State Championship",key:"2026cancmp",week:5},{name:"CA District Orange County Event",key:"2026caoec",week:4},{name:"CA District Pinnacles Event presented by Apple",key:"2026capin",week:3},{name:"CA District Hueneme Port Event",key:"2026capoh",week:0},{name:"CA District Sacramento Event",key:"2026casac",week:2},{name:"FIRST California Southern State Championship presented by Qualcomm",key:"2026cascmp",week:5},{name:"CA District San Gabriel Valley Event",key:"2026casgv",week:3},{name:"CA District San Diego Event presented by Qualcomm",key:"2026casnd",week:2},{name:"CA District San Francisco Event",key:"2026casnf",week:1},{name:"CA District Silicon Valley Event presented by Apple",key:"2026casnv",week:1},{name:"CA District Ventura County Event",key:"2026caven",week:1},{name:"FIRST Chesapeake District Championship",key:"2026chcmp",week:5},{name:"FIRST Championship - FIRST Robotics Competition",key:"2026cmptx",week:null},{name:"Shanghai Regional",key:"2026cnsh",week:1},{name:"Denver Regional",key:"2026code",week:5},{name:"Pikes Peak Regional",key:"2026cosp",week:0},{name:"NE District Hartford Event",key:"2026cthar",week:3},{name:"NE District Waterbury Event",key:"2026ctwat",week:2},{name:"Curie Division",key:"2026cur",week:null},{name:"Daly Division",key:"2026dal",week:null},{name:"Orlando Regional",key:"2026flor",week:2},{name:"Tallahassee Regional",key:"2026flta",week:6},{name:"South Florida Regional",key:"2026flwp",week:5},{name:"PCH District Albany Event presented by Procter & Gamble",key:"2026gaalb",week:3},{name:"Peachtree District Championship presented by Mercer University",key:"2026gacmp",week:5},{name:"PCH District Columbus Event",key:"2026gacol",week:2},{name:"PCH District Dalton Event presented by Shaw Industries",key:"2026gadal",week:0},{name:"PCH District Gainesville Event",key:"2026gagai",week:4},{name:"PCH District Gwinnett Event presented by Gwinnett County Public Schools",key:"2026gagwi",week:1},{name:"Galileo Division",key:"2026gal",week:null},{name:"Hawaii Regional",key:"2026hiho",week:2},{name:"Hopper Division",key:"2026hop",week:null},{name:"Iowa Regional",key:"2026iacf",week:3},{name:"Idaho Regional",key:"2026idbo",week:3},{name:"Midwest Regional Presented by Baxter",key:"2026ilch",week:3},{name:"Central Illinois Regional",key:"2026ilpe",week:2},{name:"FIRST Indiana State Championship",key:"2026incmp",week:6},{name:"FIN District Columbus Event",key:"2026incol",week:2},{name:"FIN District Lafayette Event",key:"2026inlaf",week:3},{name:"FIN District Mishawaka Event",key:"2026inmis",week:0},{name:"FIN District Washington Event presented by Toyota IN & VA CARA",key:"2026inwas",week:4},{name:"FIRST Israel District Championship",key:"2026iscmp",week:3},{name:"ISR District Event #1",key:"2026isde1",week:0},{name:"ISR District Event #2",key:"2026isde2",week:1},{name:"ISR District Event #3",key:"2026isde3",week:1},{name:"ISR District Event #4",key:"2026isde4",week:2},{name:"Johnson Division",key:"2026joh",week:null},{name:"Heartland Regional",key:"2026ksla",week:2},{name:"Bayou Regional",key:"2026lake",week:4},{name:"NE District Minuteman Event",key:"2026mabil",week:0},{name:"NE District Greater Boston Event",key:"2026mabos",week:3},{name:"NE District North Shore Event",key:"2026marea",week:1},{name:"NE District Western NE Event",key:"2026mawne",week:1},{name:"NE District WPI Event",key:"2026mawor",week:4},{name:"FCH District Bethesda MD Event",key:"2026mdbet",week:2},{name:"FCH District Pasadena MD Event",key:"2026mdpas",week:1},{name:"FCH District Severn MD Event",key:"2026mdsev",week:3},{name:"NE District Pine Tree Event",key:"2026mefal",week:0},{name:"FIM District Battle Creek Event",key:"2026mibat",week:3},{name:"FIM District Belleville Event",key:"2026mibel",week:2},{name:"FIM District Berrien Springs Event",key:"2026miber",week:2},{name:"FIM District Ferris State Event",key:"2026mibig",week:5},{name:"FIM District Jackson at Columbia Event",key:"2026mibkn",week:2},{name:"FIM District Woodhaven Event",key:"2026mibro",week:1},{name:"FIM District Chelsea Event",key:"2026miche",week:0},{name:"FIRST in Michigan State Championship",key:"2026micmp",week:6},{name:"FIRST in Michigan State Championship - DTE Energy Foundation Division",key:"2026micmp1",week:6},{name:"FIRST in Michigan State Championship - Hemlock Semiconductor Division",key:"2026micmp2",week:6},{name:"FIRST in Michigan State Championship - Consumers Energy Division",key:"2026micmp3",week:6},{name:"FIRST in Michigan State Championship - Aptiv Division",key:"2026micmp4",week:6},{name:"FIM District Renaissance Event",key:"2026midet",week:5},{name:"FIM District Wayne State Event",key:"2026midtr",week:1},{name:"FIM District Escanaba Event",key:"2026miesc",week:5},{name:"FIM District Fenton Event",key:"2026mifen",week:5},{name:"FIM District Kearsley Event",key:"2026mifli",week:2},{name:"FIM District Kentwood Event",key:"2026miken",week:5},{name:"Milstein Division",key:"2026mil",week:null},{name:"FIM District Lake City Event",key:"2026milac",week:1},{name:"FIM District Lakeview Event",key:"2026milak",week:0},{name:"FIM District Livonia Event",key:"2026miliv",week:4},{name:"FIM District LSSU Event",key:"2026milsu",week:3},{name:"FIM District Marysville Event",key:"2026mimar",week:1},{name:"FIM District Mason Event",key:"2026mimas",week:3},{name:"FIM District Midland Event",key:"2026mimid",week:1},{name:"FIM District Milford Event",key:"2026mimil",week:1},{name:"FIM District Mt Pleasant Event",key:"2026mimtp",week:0},{name:"FIM District Muskegon Event",key:"2026mimus",week:2},{name:"FIM District Saline Event",key:"2026misal",week:3},{name:"FIM District Troy Event",key:"2026mitry",week:3},{name:"FIM District Traverse City Event",key:"2026mitvc",week:2},{name:"FIM District West Michigan Event",key:"2026miwmi",week:3},{name:"Blue Twilight Week Zero",key:"2026mnbt",week:null},{name:"Lake Superior Regional",key:"2026mndu",week:0},{name:"Northern Lights Regional",key:"2026mndu2",week:0},{name:"Minnesota 10,000 Lakes Regional",key:"2026mnmi",week:3},{name:"Minnesota Granite City Regional",key:"2026mnmi2",week:5},{name:"Minnesota North Star Regional",key:"2026mnum",week:4},{name:"Minnesota Bluff Country Regional",key:"2026mnwi",week:0},{name:"Greater Kansas City Regional",key:"2026mokc",week:5},{name:"City of Fountains Regional",key:"2026mose",week:4},{name:"St. Louis Regional",key:"2026mosl",week:3},{name:"FIRST Mid-Atlantic District Championship",key:"2026mrcmp",week:6},{name:"Magnolia Regional",key:"2026mslr",week:2},{name:"Regional Monterrey presented by PrepaTec",key:"2026mxmo",week:1},{name:"Regional Laguna presented by Peoles",key:"2026mxto",week:3},{name:"FNC District UNC Asheville Event",key:"2026ncash",week:1},{name:"FNC District Cabarrus Event",key:"2026nccab",week:0},{name:"FIRST North Carolina State Championship",key:"2026nccmp",week:5},{name:"FNC District Elon University Event",key:"2026ncelo",week:2},{name:"FNC District UNC Pembroke Event",key:"2026ncpem",week:3},{name:"FNC District Wake County Event #1",key:"2026ncwak",week:0},{name:"FNC District Wake County Event #2",key:"2026ncwk2",week:2},{name:"Great Northern Regional",key:"2026ndgf",week:1},{name:"New England FIRST District Championship",key:"2026necmp",week:6},{name:"New England FIRST District Championship - Burns Division",key:"2026necmp1",week:6},{name:"New England FIRST District Championship - Newsom Division",key:"2026necmp2",week:6},{name:"Newton Division",key:"2026new",week:null},{name:"NE District Granite State Event",key:"2026nhbed",week:1},{name:"NE District UNH Event",key:"2026nhdur",week:3},{name:"FMA District Mount Olive Event",key:"2026njfla",week:3},{name:"FMA District Robbinsville Event",key:"2026njrob",week:2},{name:"FMA District Montgomery Event",key:"2026njski",week:5},{name:"FMA District Seneca Event",key:"2026njtab",week:1},{name:"FMA District Warren Hills Event",key:"2026njwas",week:0},{name:"Las Vegas Regional",key:"2026nvlv",week:5},{name:"FIRST Long Island Regional",key:"2026nyli2",week:2},{name:"Gotham Regional",key:"2026nyn2",week:5},{name:"New York City Regional",key:"2026nyny",week:5},{name:"Finger Lakes Regional",key:"2026nyro",week:1},{name:"Hudson Valley Regional",key:"2026nysu",week:2},{name:"New York Tech Valley Regional",key:"2026nytr",week:6},{name:"Buckeye Regional",key:"2026ohcl",week:2},{name:"Miami Valley Regional",key:"2026ohmv",week:4},{name:"Oklahoma Regional",key:"2026okok",week:0},{name:"Green Country Regional",key:"2026oktu",week:4},{name:"ONT District Georgian College Event",key:"2026onbar",week:3},{name:"FIRST Ontario Provincial Championship",key:"2026oncmp",week:6},{name:"FIRST Ontario Provincial Championship - Science Division",key:"2026oncmp1",week:6},{name:"FIRST Ontario Provincial Championship - Technology Division",key:"2026oncmp2",week:6},{name:"ONT District McMaster University Event",key:"2026onham",week:2},{name:"ONT District North Bay Event",key:"2026onnob",week:2},{name:"ONT District Durham College Event",key:"2026onosh",week:1},{name:"ONT District Humber Polytechnic Event",key:"2026ontor",week:1},{name:"ONT District University of Waterloo Event",key:"2026onwat",week:3},{name:"ONT District Niagara College Event",key:"2026onwel",week:5},{name:"ONT District Windsor Essex Great Lake Event",key:"2026onwin",week:5},{name:"PNW District Clackamas Academy Event",key:"2026orore",week:3},{name:"PNW District Oregon State Fair Event",key:"2026orsal",week:0},{name:"PNW District Wilsonville Event",key:"2026orwil",week:1},{name:"FMA District Bensalem Event",key:"2026paben",week:3},{name:"Greater Pittsburgh Regional",key:"2026paca",week:2},{name:"FMA District Hatboro-Horsham Event",key:"2026pahat",week:0},{name:"FMA District Philadelphia Event",key:"2026paphi",week:4},{name:"FMA District Centennial Event",key:"2026pawar",week:2},{name:"Pacific Northwest FIRST District Championship",key:"2026pncmp",week:5},{name:"Festival de Robotique Regional",key:"2026qcmo",week:5},{name:"NE District URI Event",key:"2026rikin",week:2},{name:"FSC District North Charleston Event presented by SCDE & City of North Charleston Recreation",key:"2026sccha",week:0},{name:"FIRST South Carolina State Championship presented by Magna",key:"2026sccmp",week:5},{name:"FSC District Hartsville Event presented by Honda",key:"2026schar",week:3},{name:"FSC District Richland Event presented by Aflac & RCSD1",key:"2026schop",week:1},{name:"Smoky Mountains Regional",key:"2026tnkn",week:2},{name:"Ankara Regional",key:"2026tuak",week:5},{name:"Bakent Regional",key:"2026tuak2",week:5},{name:"Hali Regional",key:"2026tuhc",week:3},{name:"stanbul Regional",key:"2026tuis",week:0},{name:"Bosphorus Regional",key:"2026tuis2",week:0},{name:"Marmara Regional",key:"2026tuis3",week:3},{name:"Yeditepe Regional",key:"2026tuis4",week:1},{name:"Avrasya Regional",key:"2026tuis5",week:4},{name:"FIT District Abilene Event",key:"2026txabi",week:5},{name:"FIT District Amarillo Event",key:"2026txama",week:4},{name:"FIT District Belton Event",key:"2026txbel",week:0},{name:"FIT District Space City @ Friendswood Event #2",key:"2026txcl2",week:4},{name:"FIT District Space City @ Friendswood Event #1",key:"2026txcle",week:0},{name:"FIRST In Texas District Championship",key:"2026txcmp",week:6},{name:"FIRST In Texas District Championship - Mercury Division",key:"2026txcmp1",week:6},{name:"FIRST In Texas District Championship - Apollo Division",key:"2026txcmp2",week:6},{name:"FIT District Dripping Springs Event",key:"2026txdri",week:4},{name:"FIT District Farmersville Event",key:"2026txfar",week:3},{name:"FIT District Fort Worth Event",key:"2026txfor",week:2},{name:"FIT District Houston Event",key:"2026txhou",week:2},{name:"FIT District Manor Event",key:"2026txman",week:3},{name:"FIT District McAllen Event",key:"2026txmca",week:1},{name:"FIT District San Antonio Event",key:"2026txsan",week:1},{name:"FIT District Waco Event",key:"2026txwac",week:2},{name:"Utah Regional",key:"2026utwv",week:6},{name:"FCH District Alexandria VA Event",key:"2026vaale",week:0},{name:"FCH District Blacksburg VA Event",key:"2026vabla",week:3},{name:"FCH District Chesapeake VA Event",key:"2026vache",week:2},{name:"FCH District Glen Allen VA Event",key:"2026vagle",week:1},{name:"NE District UVM Event",key:"2026vtbur",week:4},{name:"PNW District Auburn Event",key:"2026waahs",week:3},{name:"PNW District Bonney Lake Event",key:"2026wabon",week:0},{name:"PNW District Sammamish Event",key:"2026wasam",week:2},{name:"PNW District Glacier Peak Event",key:"2026wasno",week:1},{name:"PNW District SunDome Event",key:"2026wayak",week:2},{name:"WIN District Appleton Event",key:"2026wiapp",week:2},{name:"FIRST Wisconsin State Championship",key:"2026wicmp",week:6},{name:"WIN District Seven Rivers Event",key:"2026wilax",week:4},{name:"WIN District Mukwonago Event",key:"2026wimuk",week:3},{name:"WIN District Lakeland Event",key:"2026wiply",week:0}];function $C({currentEventKey:e,onEventKeyChange:t,showCustomEvents:n=!0}){const a=n||!1,[s,o]=p.useState(!1),[l,c]=p.useState([]),[u,d]=p.useState(""),[f,h]=p.useState(!1),m=FNe;p.useEffect(()=>{const x=localStorage.getItem("customEventsList"),y=localStorage.getItem("eventKey");if(x)try{c(JSON.parse(x))}catch{c([])}y&&!e&&t(y)},[e,t]);const g=(x,y)=>{if(!x.trim())return;const w=x.trim();if(!m.some(k=>k.key===w)&&!l.includes(w)){const k=[...l,w].sort();c(k),localStorage.setItem("customEventsList",JSON.stringify(k))}t(w),localStorage.setItem("eventKey",w),o(!1),h(!1),d("");const C=y||w;oe.success(`Event set to: ${C}`)},v=x=>{const y=l.filter(w=>w!==x);c(y),localStorage.setItem("customEventsList",JSON.stringify(y)),e===x&&(t(""),localStorage.removeItem("eventKey")),oe.success(`Removed custom event: ${x}`)},b=()=>{u.trim()&&g(u)};return i.jsxs(to,{open:s,onOpenChange:o,children:[i.jsx(DC,{asChild:!0,children:i.jsxs("button",{className:"flex h-9 w-full items-center justify-between gap-2 rounded-md border bg-background px-3 py-2 text-sm shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",role:"combobox","aria-expanded":s,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Lc,{className:"h-4 w-4"}),e||"Select event..."]}),i.jsx(JP,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsxs(no,{className:"p-0 max-w-75",children:[i.jsx(ro,{className:"sr-only",children:"Select Event"}),i.jsx(cf,{className:"sr-only",children:"Search and select an official 2026 FRC event or add a custom event"}),i.jsxs(y7,{children:[i.jsx(x7,{placeholder:"Search events..."}),i.jsx(w7,{children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No events found"}),a&&i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"w-full",children:[i.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Add New Event"]})]})}),i.jsxs(b7,{children:[a&&!f&&i.jsx(wh,{children:i.jsxs(Ub,{onSelect:()=>h(!0),children:[i.jsx(Gc,{className:"mr-2 h-4 w-4"}),"Add New Custom Event"]})}),a&&f&&i.jsx(wh,{children:i.jsxs("div",{className:"p-2 space-y-2",children:[i.jsx(Qt,{placeholder:"Enter event key (e.g., 2026practice)...",value:u,onChange:x=>d(x.target.value),onKeyDown:x=>{x.key==="Enter"?b():x.key==="Escape"&&(h(!1),d(""))},autoFocus:!0}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Z,{size:"sm",onClick:b,className:"flex-1",children:"Add"}),i.jsx(Z,{size:"sm",variant:"outline",onClick:()=>{h(!1),d("")},className:"flex-1",children:"Cancel"})]})]})}),i.jsx(wh,{heading:"Official 2026 Events",children:m.map(x=>{const y=`${x.name} (${x.key})${x.week!==null?` - Week ${x.week}`:""}`;return i.jsxs(Ub,{value:y,onSelect:()=>g(x.key,x.name),className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Al,{className:Re("mr-2 h-4 w-4",e===x.key?"opacity-100":"opacity-0")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:x.name})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[x.week!==null&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["W",x.week]}),i.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:x.key})]})]},x.key)})}),a&&l.length>0&&i.jsx(wh,{heading:"Custom Events",children:l.map(x=>i.jsxs(Ub,{value:x,onSelect:()=>g(x),className:"flex items-center justify-between group",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Al,{className:Re("mr-2 h-4 w-4",e===x?"opacity-100":"opacity-0")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),x]})]}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),v(x)},className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:i.jsx(Bs,{className:"h-3 w-3"})})]},x))})]})]})]})]})}const Kb={pages:{autoStart:!1,autoScoring:!0,teleopScoring:!0,endgame:!0,showAutoStatus:!0,showTeleopStatus:!1,showEndgameStatus:!0}},Jr={allianceZone:{bounds:{x:0,y:0,width:198,height:480}},neutralZone:{bounds:{x:198,y:0,width:244,height:480}},opponentZone:{bounds:{x:442,y:0,width:198,height:480}}},Jc={fuelScored:{label:"Fuel Scored",description:"Fuel deposited into alliance HUB",points:{auto:1,teleop:1},pathType:"score"},depotCollect:{label:"Depot Collection",description:"Collected from depot",points:{auto:0,teleop:0},pathType:"collect",pathAction:"depot"},outpostCollect:{label:"Outpost Collection",description:"Collected from outpost",points:{auto:0,teleop:0},pathType:"collect",pathAction:"outpost"},fuelPassed:{label:"Fuel Passed",description:"Fuel passed to alliance zone",points:{auto:0,teleop:0},pathType:"pass"},foulCommitted:{label:"Foul",description:"Crossed mid-line into opponent zone",points:{auto:0,teleop:0},pathType:"foul"},autoClimb:{label:"Auto Climb L1",description:"Climbed to Level 1 during Auto",points:{auto:15,teleop:0},pathType:"climb",pathAction:"climb-success"},climbL1:{label:"Climb Level 1",description:"Off carpet/tower base",points:{auto:0,teleop:10},pathType:"climb",climbLevel:1},climbL2:{label:"Climb Level 2",description:"Bumpers above Low Rung",points:{auto:0,teleop:20},pathType:"climb",climbLevel:2},climbL3:{label:"Climb Level 3",description:"Bumpers above Mid Rung",points:{auto:0,teleop:30},pathType:"climb",climbLevel:3},defense:{label:"Defense",description:"Played defense on opponent",points:{auto:0,teleop:0},pathType:"defense"},steal:{label:"Steal",description:"Stole fuel from opponent zone",points:{auto:0,teleop:0},pathType:"steal"}},cd={auto:{},teleop:{},endgame:{roleActiveCleanUp:{label:"Clean Up",description:"Collected fuel from the Alliance Zone and Scored",group:"roleActive"},roleActivePasser:{label:"Passer",description:"Passed fuel to alliance partners",group:"roleActive"},roleActiveDefense:{label:"Defense",description:"Played defensive role",group:"roleActive"},roleActiveCycler:{label:"Cycler",description:"Scored fuel repeatedly, going from the Neutral Zone to the Alliance Zone",group:"roleActive"},roleActiveThief:{label:"Thief",description:"Stole fuel from opponent zone",group:"roleActive"},roleInactiveCleanUp:{label:"Clean Up",description:"Collected fuel from the Alliance Zone and Scored",group:"roleInactive"},roleInactivePasser:{label:"Passer",description:"Passed fuel to alliance partners",group:"roleInactive"},roleInactiveDefense:{label:"Defense",description:"Played defensive role",group:"roleInactive"},roleInactiveCycler:{label:"Cycler",description:"Scored fuel repeatedly, going from the Neutral Zone to the Alliance Zone",group:"roleInactive"},roleInactiveThief:{label:"Thief",description:"Stole fuel from opponent zone",group:"roleInactive"},passedToAlliance:{label:"Alliance Zone",description:"Passed fuel to alliance zone",group:"passingZone"},passedToNeutral:{label:"Neutral Zone",description:"Passed fuel to neutral zone",group:"passingZone"},accuracyAll:{label:"All (>90%)",description:"Hit almost all shots",group:"accuracy"},accuracyMost:{label:"Most (75%)",description:"Hit most shots",group:"accuracy"},accuracySome:{label:"Some (50%)",description:"Hit about half of shots",group:"accuracy"},accuracyFew:{label:"Few (25%)",description:"Hit few shots",group:"accuracy"},accuracyLittle:{label:"Little (<25%)",description:"Missed most shots",group:"accuracy"},usedCorral:{label:"Used Corral",description:"Robot put fuel into the Corral",group:"Corral"}}},BNe={teamInfo:{teamNumber:{label:"Team",visible:!0,numeric:!1},eventKey:{label:"Event",visible:!0,numeric:!1},matchCount:{label:"Matches",visible:!0,numeric:!0}},points:{"rawValues.totalPoints":{label:"Total Points",visible:!0,numeric:!0},"rawValues.autoPoints":{label:"Auto Points",visible:!0,numeric:!0},"rawValues.teleopPoints":{label:"Teleop Points",visible:!0,numeric:!0},"rawValues.endgamePoints":{label:"Endgame Points",visible:!0,numeric:!0}},overall:{"rawValues.totalFuel":{label:"Fuel Scored",visible:!0,numeric:!0},"rawValues.totalFuelPassed":{label:"Fuel Passed",visible:!1,numeric:!0}},auto:{"rawValues.autoFuel":{label:"Auto Fuel",visible:!0,numeric:!0},autoClimbRate:{label:"Auto Climb %",visible:!0,numeric:!0,percentage:!0}},teleop:{"rawValues.teleopFuel":{label:"Teleop Fuel",visible:!0,numeric:!0},"rawValues.teleopFuelPassed":{label:"Teleop Passed",visible:!1,numeric:!0},"teleop.defenseRate":{label:"Defense %",visible:!1,numeric:!0,percentage:!0}},endgame:{"endgame.climbL1Rate":{label:"L1 Climb %",visible:!1,numeric:!0,percentage:!0},"endgame.climbL2Rate":{label:"L2 Climb %",visible:!0,numeric:!0,percentage:!0},"endgame.climbL3Rate":{label:"L3 Climb %",visible:!0,numeric:!0,percentage:!0},"endgame.climbSuccessRate":{label:"Climb Success %",visible:!0,numeric:!0,percentage:!0}}},VNe={essential:["teamNumber","matchCount","rawValues.totalPoints","rawValues.totalFuel","endgame.climbSuccessRate"],auto:["teamNumber","matchCount","rawValues.autoPoints","rawValues.autoFuel","autoClimbRate"],teleop:["teamNumber","matchCount","rawValues.teleopPoints","rawValues.teleopFuel","rawValues.teleopFuelPassed"],endgame:["teamNumber","matchCount","rawValues.endgamePoints","endgame.climbL1Rate","endgame.climbL2Rate","endgame.climbL3Rate"],basic:["teamNumber","eventKey","matchCount"]},rx={categories:[{key:"auto-fuel",label:"Auto Fuel",phase:"auto"},{key:"teleop-fuel",label:"Teleop Fuel",phase:"teleop"},{key:"endgame",label:"Endgame Climb",phase:"endgame"}],actionMappings:{fuelScored:{tbaPath:"autoFuelPoints",type:"count",category:"auto-fuel"}},toggleMappings:{leftStartZone:{tbaPath:["autoLineRobot1","autoLineRobot2","autoLineRobot3"],type:"countMatching",matchValue:"Yes",category:"mobility"},climbL1:{tbaPath:["endGameRobot1","endGameRobot2","endGameRobot3"],type:"countMatching",matchValue:"Level1",category:"endgame"},climbL2:{tbaPath:["endGameRobot1","endGameRobot2","endGameRobot3"],type:"countMatching",matchValue:"Level2",category:"endgame"},climbL3:{tbaPath:["endGameRobot1","endGameRobot2","endGameRobot3"],type:"countMatching",matchValue:"Level3",category:"endgame"}}};function d1(){return Object.keys(Jc)}function eg(e,t){return Jc[e].points[t]??0}function zNe(){const e=[];return Object.entries(BNe).forEach(([t,n])=>{Object.entries(n).forEach(([r,a])=>{e.push({key:r,label:a.label,category:t.charAt(0).toUpperCase()+t.slice(1),visible:a.visible,numeric:a.numeric,percentage:"percentage"in a?a.percentage:void 0})})}),e}function UNe(){return rx.categories}function C7(e){return rx.actionMappings[e]}function j7(e){return rx.toggleMappings[e]}function RR(){return Object.keys(rx.actionMappings)}function MR(){return Object.keys(rx.toggleMappings)}const Lk={gameStart:"/game-start",autoStart:"/auto-start",autoScoring:"/auto-scoring",teleopScoring:"/teleop-scoring",endgame:"/endgame"},KNe=["gameStart","autoStart","autoScoring","teleopScoring","endgame"];function ax(){const e=Object.values(Kb.pages).some(d=>d),t=p.useMemo(()=>KNe.filter(d=>d==="gameStart"?!0:Kb.pages[d]!==!1),[]),n=p.useCallback(d=>{const f=t.indexOf(d);return f===-1||f===t.length-1?null:t[f+1]??null},[t]),r=p.useCallback(d=>{const f=t.indexOf(d);return f<=0?null:t[f-1]??null},[t]),a=p.useCallback(d=>t.indexOf(d)===t.length-1,[t]),s=p.useCallback(d=>t.indexOf(d)===0,[t]),o=p.useCallback(d=>Lk[d],[]),l=p.useCallback(d=>{const f=n(d);return f?Lk[f]:null},[n]),c=p.useCallback(d=>{const f=r(d);return f?Lk[f]:null},[r]),u=p.useCallback(d=>Kb.pages[d]!==!1,[]);return{enabledPages:t,getNextPage:n,getPrevPage:r,isLastPage:a,isFirstPage:s,getRoute:o,getNextRoute:l,getPrevRoute:c,isPageEnabled:u,isConfigValid:e}}const GNe=()=>{var B,te;const e=Ja(),t=zo(),n=e.state,{getNextRoute:r,isConfigValid:a}=ax(),{currentScout:s}=AR();p.useEffect(()=>{console.log(" GameStartPage: currentScout =",s)},[s]);const o=p.useMemo(()=>n==null?void 0:n.rescout,[n]),l=(o==null?void 0:o.isRescout)||!1,c=o==null?void 0:o.matchNumber,u=o==null?void 0:o.teamNumber,d=o==null?void 0:o.alliance,f=o==null?void 0:o.eventKey,h=p.useMemo(()=>(o==null?void 0:o.teams)||[],[o==null?void 0:o.teams]),m=(o==null?void 0:o.currentTeamIndex)||0,v=(()=>{const q=localStorage.getItem("playerStation");if(!q)return{alliance:"",teamPosition:0};if(q==="lead")return{alliance:"",teamPosition:0};const ae=q.split("-");if(ae.length===2&&ae[1]){const he=ae[0],je=parseInt(ae[1]);return{alliance:he,teamPosition:je}}return{alliance:"",teamPosition:0}})(),b=()=>{var ae;return(ae=n==null?void 0:n.inputs)!=null&&ae.matchNumber?n.inputs.matchNumber:localStorage.getItem("currentMatchNumber")||"1"},[x,y]=p.useState(((B=n==null?void 0:n.inputs)==null?void 0:B.alliance)||v.alliance||""),[w,S]=p.useState(b()),[C,k]=p.useState("qm"),[N,P]=p.useState(w),[E,R]=p.useState(()=>{var q;if(o!=null&&o.teamNumber)return o.teamNumber;if(o!=null&&o.teams&&o.teams.length>0){const ae=o.currentTeamIndex||0;return o.teams[ae]||""}return((q=n==null?void 0:n.inputs)==null?void 0:q.selectTeam)||""}),[O,K]=p.useState(((te=n==null?void 0:n.inputs)==null?void 0:te.eventKey)||localStorage.getItem("eventKey")||""),[J,Q]=p.useState("none");p.useEffect(()=>{const q=setTimeout(()=>{P(w)},500);return()=>clearTimeout(q)},[w]),p.useEffect(()=>{w&&localStorage.setItem("currentMatchNumber",w)},[w]),p.useEffect(()=>{(async()=>{if(s&&O&&w)try{const ae=await wR(s,O,w);Q(ae?ae.predictedWinner:"none")}catch(ae){console.error("Error loading existing prediction:",ae),Q("none")}})()},[w,O]),p.useEffect(()=>{if(l){if(c&&S(c),d&&y(d),f&&K(f),u)R(u);else if(h.length>0&&m<h.length){const q=h[m];R(q)}}},[l,c,u,d,f,h,m]);const G=async q=>{if(Q(q),q!=="none"&&s&&O&&w)try{await Gv(s,O,w,q),oe.success(`Prediction updated: ${q} alliance to win`)}catch(ae){console.error("Error saving prediction:",ae),oe.error("Failed to save prediction")}},z=()=>{if(!a)return oe.error("Workflow configuration error: At least one scouting page must be enabled"),!1;const ae=Object.values({matchNumber:w,alliance:x,selectTeam:E,scoutName:s,eventKey:O}).some(he=>!he||he==="");return s?O?ae?(oe.error("Fill In All Fields To Proceed"),!1):!0:(oe.error("Please set an event name/code first"),!1):(oe.error("Please select a scout from the sidebar first"),!1)},U=async()=>{if(!z())return;if(J!=="none"&&s&&O&&w)try{await Gv(s,O,w,J),oe.success(`Prediction saved: ${J} alliance to win`)}catch(ae){console.error("Error saving prediction:",ae),oe.error("Failed to save prediction")}localStorage.setItem("matchNumber",w),localStorage.setItem("selectTeam",E),localStorage.setItem("alliance",x),localStorage.setItem("autoStateStack",JSON.stringify([])),localStorage.setItem("teleopStateStack",JSON.stringify([]));const q=r("gameStart")||"/auto-scoring";t(q,{state:{inputs:{matchNumber:w,matchType:C,alliance:x,scoutName:s,selectTeam:E,eventKey:O},...l&&{rescout:{isRescout:!0,matchNumber:c,teamNumber:h.length>0?h[m]:u,alliance:d,eventKey:f,teams:h,currentTeamIndex:m}}}})},M=()=>{t("/")},$=q=>{S(q)};return p.useEffect(()=>{if(!w)return;const q=setTimeout(()=>{localStorage.setItem("currentMatchNumber",w)},500);return()=>clearTimeout(q)},[w]),i.jsxs("div",{className:"min-h-screen pt-12 w-full flex flex-col items-center px-4 pb-24 2xl:pb-6",children:[i.jsx("div",{className:"w-full max-w-2xl",children:i.jsx("h1",{className:"text-2xl font-bold pb-4",children:"Game Start"})}),i.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-2xl w-full flex-1 pb-8 md:pb-4",children:[!s&&i.jsx(De,{className:"w-full border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950/20",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-5 w-5 text-orange-500"}),i.jsx("span",{className:"text-sm text-amber-700",children:"Please select a scout from the sidebar before starting"})]})})}),l&&i.jsx(ar,{className:"flex border-amber-500 bg-amber-50 dark:bg-amber-950/20 py-3",children:i.jsxs("div",{className:"flex items-center gap-3 w-full",children:[i.jsx(Ul,{className:"h-4 w-4 text-amber-600 shrink-0"}),i.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[i.jsx("span",{className:"font-semibold",children:"Re-scouting:"})," ",i.jsx("strong",{children:f&&`${f} `})," Match ",i.jsx("strong",{children:c})," for Team ",i.jsx("strong",{children:h.length>0?h[m]:u}),h.length>0&&i.jsxs("span",{className:"ml-2 opacity-75",children:["(",m+1,"/",h.length,")"]})]})]})}),i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsx(Ge,{className:"text-xl",children:"Match Information"}),s&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Scouting as:"," ",i.jsx("span",{className:"font-medium",children:s})]})]}),i.jsxs($e,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{children:"Event Name/Code"}),i.jsx("div",{className:l?"opacity-50 pointer-events-none":"",children:i.jsx($C,{currentEventKey:O,onEventKeyChange:K})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Event name will be included in all scouting data for this session"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Mt,{htmlFor:"match-number",children:"Match Number"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Auto-increments after each match"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Lr,{value:C,onValueChange:q=>k(q),disabled:l,children:[i.jsx($r,{className:"w-24 h-12",children:i.jsx(ia,{})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"qm",children:"Qual"}),i.jsx(at,{value:"sf",children:"Semi"}),i.jsx(at,{value:"f",children:"Final"})]})]}),i.jsx(Qt,{id:"match-number",type:"number",inputMode:"numeric",placeholder:C==="qm"?"e.g., 24":"e.g., 1",value:w,onChange:q=>$(q.target.value),className:`text-lg flex-1 h-12 ${l?"bg-muted cursor-not-allowed":""}`,disabled:l})]}),C==="sf"&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter semifinal # (1-13)  Creates sf#m1"}),C==="f"&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter match # (1-3)  Creates f1m#"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{children:"Alliance"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(Z,{variant:x==="red"?"default":"outline",onClick:()=>y("red"),disabled:l,className:`h-12 text-lg font-semibold ${x==="red"?"bg-red-500 hover:bg-red-600 text-white":"hover:bg-red-50 hover:text-red-600 hover:border-red-300"} ${l?"cursor-not-allowed":""}`,children:[i.jsx(Le,{variant:x==="red"?"secondary":"destructive",className:`w-3 h-3 p-0 mr-2 ${x==="red"?"bg-white":"bg-red-500"}`}),"Red Alliance"]}),i.jsxs(Z,{variant:x==="blue"?"default":"outline",onClick:()=>y("blue"),disabled:l,className:`h-12 text-lg font-semibold ${x==="blue"?"bg-blue-500 hover:bg-blue-600 text-white":"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300"} ${l?"cursor-not-allowed":""}`,children:[i.jsx(Le,{variant:x==="blue"?"secondary":"default",className:`w-3 h-3 p-0 mr-2 ${x==="blue"?"bg-white":"bg-blue-500"}`}),"Blue Alliance"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Mt,{children:"Alliance Prediction (Optional)"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:l?"Locked during re-scout":"Earn points for correct predictions"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsx(Z,{variant:J==="red"?"default":"outline",onClick:()=>G("red"),disabled:l,className:`h-10 text-sm font-medium ${J==="red"?"bg-red-500 hover:bg-red-600 text-white":"hover:bg-red-50 hover:text-red-600 hover:border-red-300"}`,children:"Red Wins"}),i.jsx(Z,{variant:J==="blue"?"default":"outline",onClick:()=>G("blue"),disabled:l,className:`h-10 text-sm font-medium ${J==="blue"?"bg-blue-500 hover:bg-blue-600 text-white":"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300"}`,children:"Blue Wins"}),i.jsx(Z,{variant:J==="none"?"default":"outline",onClick:()=>G("none"),disabled:l,className:"h-10 text-sm font-medium",children:"No Prediction"})]}),J!=="none"&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Predicting ",i.jsxs("span",{className:"font-medium capitalize",children:[J," Alliance"]})," will win this match"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{children:"Team Selection"}),i.jsx("div",{className:l?"opacity-50 pointer-events-none":"",children:i.jsx($Ne,{defaultSelectTeam:E,setSelectTeam:R,selectedMatch:N,selectedAlliance:x,preferredTeamPosition:v.teamPosition})})]})]})]}),i.jsxs("div",{className:"flex gap-4 w-full",children:[i.jsx(Z,{variant:"outline",onClick:M,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsx(Z,{onClick:U,className:"flex-2 h-12 text-lg font-semibold",disabled:l?!1:!w||!x||!E||!s||!O,children:"Start Scouting"})]}),w&&x&&E&&s&&O&&i.jsx(De,{className:"w-full border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/20",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Le,{className:"bg-green-600",children:"Ready"}),i.jsxs("span",{className:"text-sm text-green-700 dark:text-green-300",children:[O,"  Match ",w," "," ",x.charAt(0).toUpperCase()+x.slice(1)," Alliance  Team ",E,"  ",s]})]})})}),i.jsx("div",{className:"h-8 md:h-6"})]})]})},N7=e=>String(e).toLowerCase().trim(),FE=(e,t,n,r)=>{const a=N7(e),s=String(t).toLowerCase().trim(),o=String(n).trim(),l=r.toLowerCase().trim();return`${a}::${s}::${o}::${l}`},BE=e=>{const n=Object.entries(e.gameData||{}).sort(([a],[s])=>a.localeCompare(s)).map(([a,s])=>`${a}:${JSON.stringify(s)}`).join("|");let r=2166136261;for(let a=0;a<n.length;a++)r^=n.charCodeAt(a),r=Math.imul(r,16777619);return(r>>>0).toString(36)},Yi=async()=>{try{const{db:e}=await _n(async()=>{const{db:n}=await Promise.resolve().then(()=>Vi);return{db:n}},void 0);return await e.scoutingData.toArray()}catch(e){return console.error("Error loading scouting data:",e),[]}},VE=async e=>{try{const{db:t}=await _n(async()=>{const{db:n}=await Promise.resolve().then(()=>Vi);return{db:n}},void 0);await t.scoutingData.bulkPut(e)}catch(t){throw console.error("Error saving scouting data:",t),t}},f1=(e,t)=>{const n=[],r=e.gameData||{},a=t.gameData||{},s=(u,d="")=>{const f={};for(const[h,m]of Object.entries(u)){const g=d?`${d}.${h}`:h;m!==null&&typeof m=="object"&&!Array.isArray(m)?Object.assign(f,s(m,g)):f[g]=m}return f},o=s(r),l=s(a),c=new Set([...Object.keys(o),...Object.keys(l)]);for(const u of c){const d=o[u],f=l[u];f!=null&&d!=null&&JSON.stringify(d)!==JSON.stringify(f)&&n.push({field:u,localValue:d,incomingValue:f})}return n},IR=async e=>{const{db:t}=await _n(async()=>{const{db:u}=await Promise.resolve().then(()=>Vi);return{db:u}},void 0),n=[],r=[],a=[],s=[],o=await t.scoutingData.toArray(),l=new Map(o.map(u=>[u.id,u])),c=new Map(o.map(u=>{const d=u;return[FE(d.eventKey,d.matchKey,d.teamNumber,d.allianceColor),d]}));for(const u of e){let d=l.get(u.id);if(!d){const v=FE(u.eventKey,u.matchKey,u.teamNumber,u.allianceColor);d=c.get(v)}if(!d){n.push(u);continue}const f=d.isCorrected||!1,h=!!u.isCorrected,m=BE(d),g=BE(u);if(f&&h){const v=Number(d.lastCorrectedAt||d.timestamp||0),b=Number(u.lastCorrectedAt||u.timestamp||0);if(m===g&&Math.abs(v-b)<=1e3)continue}else if(m===g&&f===h)continue;if(!f&&!h){a.push(u);continue}if(!f&&h){r.push(u);continue}if(f&&!h){const v=f1(d,u);s.push({incoming:u,local:d,conflictType:"corrected-vs-uncorrected",isNewerIncoming:!1,changedFields:v});continue}if(f&&h){const v=d.lastCorrectedAt||d.timestamp,b=Number(u.lastCorrectedAt||u.timestamp||0);if(Math.abs(v-b)<=1e3){r.push(u);continue}const x=f1(d,u);s.push({incoming:u,local:d,conflictType:"corrected-vs-corrected",isNewerIncoming:b>v,changedFields:x})}}return{autoImport:n,autoReplace:r,batchReview:a,conflicts:s}},h1=Object.freeze(Object.defineProperty({__proto__:null,computeChangedFields:f1,detectConflicts:IR,generateDataFingerprint:BE,generateDeterministicEntryId:FE,loadScoutingData:Yi,normalizeEventKey:N7,saveScoutingData:VE},Symbol.toStringTag,{value:"Module"}));class k7 extends Id{constructor(){super("MatchScoutingDB");fn(this,"scoutingData");this.version(1).stores({scoutingData:"id, teamNumber, matchNumber, allianceColor, scoutName, eventKey, matchKey, timestamp, isCorrected, [teamNumber+eventKey], [scoutName+eventKey+matchNumber]"})}}class A7 extends Id{constructor(){super("PitScoutingDB");fn(this,"pitScoutingData");this.version(1).stores({pitScoutingData:"id, teamNumber, eventKey, scoutName, timestamp, [teamNumber+eventKey]"})}}const zr=new k7,qs=new A7;zr.open().catch(e=>{console.error("Failed to open MatchScoutingDB:",e)});qs.open().catch(e=>{console.error("Failed to open PitScoutingDB:",e)});const mm=async e=>{await zr.scoutingData.put(e)},zE=async e=>{await zr.scoutingData.bulkPut(e)},OR=async()=>await zr.scoutingData.toArray(),P7=async e=>await zr.scoutingData.where("teamNumber").equals(e).toArray(),E7=async e=>await zr.scoutingData.where("matchNumber").equals(e).toArray(),T7=async e=>await zr.scoutingData.where("eventKey").equals(e.toLowerCase()).toArray(),_7=async(e,t)=>await zr.scoutingData.where("[teamNumber+eventKey]").equals([e,t.toLowerCase()]).toArray(),UE=async()=>{await zr.scoutingData.clear()},KE=async()=>({entries:await OR(),exportedAt:Date.now(),version:"3.0-maneuver-core"}),pm=async e=>{await qs.pitScoutingData.put(e)},FC=async()=>await qs.pitScoutingData.toArray(),D7=async e=>await qs.pitScoutingData.where("teamNumber").equals(e).toArray(),Jm=async(e,t)=>(await qs.pitScoutingData.where("[teamNumber+eventKey]").equals([e,t]).toArray()).sort((r,a)=>a.timestamp-r.timestamp)[0],R7=async()=>{await qs.pitScoutingData.clear()},M7=async()=>{const e=await qs.pitScoutingData.toArray(),t=[...new Set(e.map(a=>a.teamNumber))].sort((a,s)=>a-s),n=[...new Set(e.map(a=>a.eventKey))].sort(),r=[...new Set(e.map(a=>a.scoutName))].sort();return{totalEntries:e.length,teams:t,events:n,scouts:r}},Vi=Object.freeze(Object.defineProperty({__proto__:null,MatchScoutingDB:k7,PitScoutingDB:A7,clearAllPitScoutingData:R7,clearAllScoutingData:UE,db:zr,exportScoutingData:KE,getPitScoutingStats:M7,loadAllPitScoutingEntries:FC,loadAllScoutingEntries:OR,loadPitScoutingByTeam:D7,loadPitScoutingByTeamAndEvent:Jm,loadScoutingEntriesByEvent:T7,loadScoutingEntriesByMatch:E7,loadScoutingEntriesByTeam:P7,loadScoutingEntriesByTeamAndEvent:_7,pitDB:qs,savePitScoutingEntry:pm,saveScoutingEntries:zE,saveScoutingEntry:mm},Symbol.toStringTag,{value:"Module"})),Xm=async()=>{try{const e=await FC();return{entries:e,lastUpdated:e.length>0?Math.max(...e.map(t=>t.timestamp)):0}}catch(e){return console.error("Error loading pit scouting data:",e),{entries:[],lastUpdated:0}}},th=async(e,t)=>{try{return await Jm(e,t)||null}catch(n){return console.error("Error loading pit scouting entry:",n),null}},m1=async()=>{try{await R7()}catch(e){throw console.error("Error clearing pit scouting data:",e),e}},I7=async()=>{try{return await M7()}catch(e){return console.error("Error getting pit scouting stats:",e),{totalEntries:0,teams:[],events:[],scouts:[]}}},O7=async()=>{try{const e=await Xm();if(e.entries.length===0)throw new Error("No pit scouting data found");const t={type:"pit-scouting-images-only",lastUpdated:e.lastUpdated,entries:e.entries.filter(o=>o.robotPhoto).map(o=>({teamNumber:o.teamNumber,eventKey:o.eventKey,robotPhoto:o.robotPhoto,timestamp:o.timestamp}))};if(t.entries.length===0)throw new Error("No images found in pit scouting data");const n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=`pit-scouting-images-only-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}catch(e){throw console.error("Error downloading pit scouting images:",e),e}},L7=async(e,t="append")=>{try{if(t==="overwrite")return await m1(),await Promise.all(e.entries.map(n=>pm(n))),{imported:e.entries.length,duplicatesSkipped:0};{const n=await FC(),r=new Set(n.map(s=>`${s.teamNumber}-${s.eventKey}`)),a=e.entries.filter(s=>!r.has(`${s.teamNumber}-${s.eventKey}`));return await Promise.all(a.map(s=>pm(s))),{imported:a.length,duplicatesSkipped:e.entries.length-a.length}}}catch(n){throw console.error("Error importing pit scouting data:",n),n}},$7=async()=>{const e=await Xm();if(e.entries.length===0)return"";const t=new Set;e.entries.forEach(l=>{if(l.gameData&&typeof l.gameData=="object"){const c=(u,d="")=>{Object.keys(u).forEach(f=>{const h=u[f],m=d?`${d}.${f}`:f;h&&typeof h=="object"&&!Array.isArray(h)?c(h,m):t.add(m)})};c(l.gameData)}});const n=Array.from(t).sort(),r=["ID","Team Number","Event Key","Scout","Timestamp","Weight (lbs)","Drivetrain","Programming Language","Robot Photo","Notes",...n],a=(l,c)=>c.split(".").reduce((u,d)=>{if(u&&typeof u=="object")return u[d]},l),s=l=>l==null?"":typeof l=="boolean"?l?"Yes":"No":Array.isArray(l)||typeof l=="object"?JSON.stringify(l):String(l),o=e.entries.map(l=>{var d;const c=[l.id,l.teamNumber.toString(),l.eventKey,l.scoutName,new Date(l.timestamp).toISOString(),((d=l.weight)==null?void 0:d.toString())||"",l.drivetrain||"",l.programmingLanguage||"",l.robotPhoto?"Has Image":"No Image",l.notes||""],u=n.map(f=>{if(!l.gameData)return"";const h=a(l.gameData,f);return s(h)});return[...c,...u]});return[r,...o].map(l=>l.map(c=>`"${String(c).replace(/"/g,'""')}"`).join(",")).join(`
`)},F7=async e=>{try{if(e.type!=="pit-scouting-images-only")throw new Error("Invalid images-only data format");const t=await FC();let n=0,r=0;console.log("Images import debug:"),console.log("Existing entries:",t.map(a=>`${a.teamNumber}@${a.eventKey}`)),console.log("Image entries to match:",e.entries.map(a=>`${a.teamNumber}@${a.eventKey}`));for(const a of e.entries){const s=t.find(o=>o.teamNumber===a.teamNumber&&o.eventKey===a.eventKey);if(console.log(`Looking for ${a.teamNumber}@${a.eventKey}: ${s?"FOUND":"NOT FOUND"}`),s){const o={...s,robotPhoto:a.robotPhoto,timestamp:Math.max(s.timestamp,a.timestamp)};await pm(o),n++}else r++}return{updated:n,notFound:r}}catch(t){throw console.error("Error importing pit scouting images:",t),t}},B7=Object.freeze(Object.defineProperty({__proto__:null,clearAllPitScoutingData:m1,downloadPitScoutingImagesOnly:O7,exportPitScoutingToCSV:$7,getPitScoutingStats:I7,importPitScoutingData:L7,importPitScoutingImagesOnly:F7,loadPitScoutingData:Xm,loadPitScoutingEntry:th},Symbol.toStringTag,{value:"Module"})),$0=e=>{if(!e)return"0 B";const t=new Blob([e]).size;return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`},WNe=()=>{const[e,t]=p.useState({scoutingDataCount:0,pitScoutingDataCount:0,matchDataCount:0,scoutGameDataCount:0,apiDataCount:0,scoutingDataSize:"0 B",pitScoutingDataSize:"0 B",matchDataSize:"0 B",scoutGameDataSize:"0 B",apiDataSize:"0 B"}),n=p.useCallback(async()=>{try{const u=await Yi(),d=JSON.stringify(u),f=$0(d);t(h=>({...h,scoutingDataCount:u.length,scoutingDataSize:f}))}catch(u){console.error("Error loading scouting data:",u),t(d=>({...d,scoutingDataCount:0,scoutingDataSize:"0 B"}))}},[]),r=p.useCallback(async()=>{try{const u=await I7(),d=await qs.pitScoutingData.toArray(),f=$0(JSON.stringify(d));t(h=>({...h,pitScoutingDataCount:u.totalEntries,pitScoutingDataSize:f}))}catch(u){console.error("Error loading pit scouting data:",u),t(d=>({...d,pitScoutingDataCount:0,pitScoutingDataSize:"0 B"}))}},[]),a=p.useCallback(async()=>{try{const u=await nt.scouts.count(),d=await nt.predictions.count(),f=u+d,h=await nt.scouts.toArray(),m=await nt.predictions.toArray(),v=$0(JSON.stringify({scouts:h,predictions:m}));t(b=>({...b,scoutGameDataCount:f,scoutGameDataSize:v}))}catch(u){console.error("Error loading scout game data:",u),t(d=>({...d,scoutGameDataCount:0,scoutGameDataSize:"0 B"}))}},[]),s=p.useCallback(()=>{try{const d=Object.keys(localStorage).filter(m=>m.includes("tba_")||m.startsWith("tba_")||m.includes("nexus_")||m.startsWith("nexus_")||m==="matchData"||m==="eventsList"||m==="eventKey"||m.includes("matchResults_")||m.includes("stakesAwarded_")||m.includes("pit_assignments_"));let f=0;d.forEach(m=>{const g=localStorage.getItem(m);g&&(f+=new Blob([g]).size)});let h="0 B";f<1024?h=`${f} B`:f<1024*1024?h=`${(f/1024).toFixed(1)} KB`:h=`${(f/(1024*1024)).toFixed(1)} MB`,t(m=>({...m,apiDataCount:d.length,apiDataSize:h}))}catch(u){console.error("Error loading API data stats:",u),t(d=>({...d,apiDataCount:0,apiDataSize:"0 B"}))}},[]),o=p.useCallback(async()=>{await n(),await r(),await a(),s()},[n,r,a,s]),l=p.useCallback(()=>{t({scoutingDataCount:0,pitScoutingDataCount:0,matchDataCount:0,scoutGameDataCount:0,apiDataCount:0,scoutingDataSize:"0 B",pitScoutingDataSize:"0 B",matchDataSize:"0 B",scoutGameDataSize:"0 B",apiDataSize:"0 B"})},[]),c=p.useCallback(u=>{if(u)try{const d=JSON.parse(u),f=Array.isArray(d)?d.length:0;t(h=>({...h,matchDataCount:f,matchDataSize:$0(u)}))}catch{t(d=>({...d,matchDataCount:0,matchDataSize:"0 B"}))}else t(d=>({...d,matchDataCount:0,matchDataSize:"0 B"}))},[]);return p.useEffect(()=>{const u=localStorage.getItem("matchData");c(u),o()},[o,c]),{stats:e,refreshData:o,resetStats:l,updateMatchData:c}},qNe=(e,t,n)=>{const r=p.useCallback(async()=>{try{await UE(),localStorage.setItem("scoutingData",JSON.stringify({data:[]})),await e(),oe.success("Cleared all scouting data")}catch(u){console.error("Error clearing scouting data:",u),localStorage.setItem("scoutingData",JSON.stringify({data:[]})),await e(),oe.success("Cleared all scouting data")}},[e]),a=p.useCallback(async()=>{try{await m1(),await e(),oe.success("Cleared all pit scouting data")}catch(u){console.error("Error clearing pit scouting data:",u),oe.error("Failed to clear pit scouting data")}},[e]),s=p.useCallback(async()=>{try{await o1(),localStorage.removeItem("scoutsList"),localStorage.removeItem("currentScout"),localStorage.removeItem("scoutName"),window.dispatchEvent(new CustomEvent("scoutDataCleared")),await e(),oe.success("Cleared all scout profile data"),console.log("ClearDataPage - Scout profile data cleared successfully")}catch(u){console.error("Error clearing scout profile data:",u),oe.error("Failed to clear scout profile data")}},[e]),o=p.useCallback(()=>{localStorage.setItem("matchData",""),n&&n(null),oe.success("Cleared match schedule data")},[n]),l=p.useCallback(()=>{try{const d=Object.keys(localStorage).filter(f=>f.includes("tba_")||f.startsWith("tba_")||f.includes("nexus_")||f.startsWith("nexus_")||f==="matchData"||f==="eventsList"||f==="eventKey"||f.includes("matchResults_")||f.includes("stakesAwarded_")||f.includes("pit_assignments_"));console.log("Clearing API data keys:",d),d.forEach(f=>{localStorage.removeItem(f)}),e(),oe.success(`Cleared all API data (${d.length} items)`)}catch(u){console.error("Error clearing API data:",u),oe.error("Failed to clear API data")}},[e]),c=p.useCallback(async()=>{try{console.log("localStorage before clearing:",Object.keys(localStorage)),await UE(),await m1(),await o1(),localStorage.clear(),console.log("localStorage after clearing:",Object.keys(localStorage)),t(),window.dispatchEvent(new CustomEvent("scoutDataCleared")),window.dispatchEvent(new CustomEvent("allDataCleared")),oe.success("Cleared all data - complete clean slate",{description:"All stored data has been permanently removed from this device."})}catch(u){console.error("Error clearing all data:",u),oe.error("Failed to clear all data")}},[t]);return{handleClearScoutingData:r,handleClearPitScoutingData:a,handleClearScoutGameData:s,handleClearMatchData:o,handleClearApiData:l,handleClearAllData:c}},HNe=({playerStation:e})=>i.jsxs(De,{className:"w-full",children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Device Information"})}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Player Station:"})," ",fD(e)]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date().toLocaleDateString()]})]})]}),YNe=({onClearAllClick:e})=>i.jsxs(ar,{children:[i.jsx(LC,{className:"col-start-2 line-clamp-1 min-h-4",children:" Backup Recommendation"}),i.jsxs(pr,{className:"space-y-3 col-start-2 grid justify-items-start gap-1 text-sm ",children:[i.jsx("p",{children:"Consider downloading your data before clearing it. Use the JSON Transfer page to export your data."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" The button below will completely reset this device, clearing ALL stored data including settings."}),i.jsx(Z,{variant:"destructive",size:"sm",onClick:e,className:"w-full",children:" Clear All Data"})]})]}),QNe=({open:e,onOpenChange:t,onConfirm:n,scoutingDataCount:r,pitScoutingDataCount:a,scoutGameDataCount:s,apiDataCount:o,matchDataCount:l})=>{const c=()=>{t(!1),n()};return i.jsx(to,{open:e,onOpenChange:t,children:i.jsxs(no,{children:[i.jsxs(Go,{children:[i.jsxs(ro,{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-5 w-5 text-red-500"}),"Clear All Data - Complete Reset"]}),i.jsx(cf,{asChild:!0,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"font-medium text-foreground",children:"This will permanently delete ALL data from this device:"}),i.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[i.jsxs("li",{children:[" ",r," scouting entries"]}),i.jsxs("li",{children:[" ",a," pit scouting entries"]}),i.jsxs("li",{children:[" ",s," scout profile entries"]}),i.jsxs("li",{children:[" ",o," API data items"]}),i.jsxs("li",{children:[" ",l," match schedule entries"]}),i.jsx("li",{children:" All settings and preferences"}),i.jsx("li",{children:" All cached data"})]}),i.jsx("p",{className:"text-sm text-red-600 font-medium",children:" This action cannot be undone. Make sure you have backed up any important data."})]})})]}),i.jsxs(Ym,{children:[i.jsx(Z,{variant:"outline",onClick:()=>t(!1),className:"p-4",children:"Cancel"}),i.jsx(Z,{variant:"destructive",onClick:c,className:"text-white p-4",children:" Clear Everything"})]})]})})},tg=({title:e,description:t,entryCount:n,entryLabel:r,storageSize:a,onClear:s,disabled:o=!1,warningMessage:l})=>{const[c,u]=p.useState(!1),d=async()=>{try{await s(),u(!1)}catch(m){console.error(`Error clearing ${e}:`,m),u(!1)}},f=n>0,h=o||!f;return i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ge,{className:"text-lg",children:e}),i.jsxs(Le,{variant:f?"default":"secondary",children:[n," ",r]})]}),i.jsx(Fn,{children:t})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium",children:"Storage size:"})," ",a]}),c?i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ar,{children:[i.jsx(Mn,{className:"h-5 w-5",color:"red"}),i.jsx(pr,{children:l||`This will permanently delete ${n} ${r}.`})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{variant:"destructive",size:"sm",className:"flex-1",onClick:d,children:"Yes, Delete All"}),i.jsx(Z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>u(!1),children:"Cancel"})]})]}):i.jsx(Z,{variant:"destructive",className:"w-full",onClick:()=>u(!0),disabled:h,children:f?`Clear ${e}`:`No ${e}`})]})]})},ZNe=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(!1),{stats:a,refreshData:s,resetStats:o,updateMatchData:l}=WNe(),{handleClearScoutingData:c,handleClearPitScoutingData:u,handleClearScoutGameData:d,handleClearMatchData:f,handleClearApiData:h,handleClearAllData:m}=qNe(s,o,l);return p.useEffect(()=>{const g=localStorage.getItem("playerStation")||"Unknown";t(g)},[]),i.jsxs("div",{className:"min-h-screen w-full px-4 pt-12 pb-24",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col items-start gap-4 max-w-2xl mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Clear Data"}),i.jsx("p",{className:"text-muted-foreground",children:"Permanently delete stored data from this device. This action cannot be undone."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[i.jsx(HNe,{playerStation:e}),i.jsx(YNe,{onClearAllClick:()=>r(!0)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[i.jsx(tg,{title:"Scouting Data",description:"Match scouting data collected on this device",entryCount:a.scoutingDataCount,entryLabel:"entries",storageSize:a.scoutingDataSize,onClear:c}),i.jsx(tg,{title:"Pit Scouting Data",description:"Robot pit scouting data collected at events",entryCount:a.pitScoutingDataCount,entryLabel:"entries",storageSize:a.pitScoutingDataSize,onClear:u}),i.jsx(tg,{title:"Scout Profile Data",description:"Scout predictions, stakes, and leaderboard data",entryCount:a.scoutGameDataCount,entryLabel:"entries",storageSize:a.scoutGameDataSize,onClear:d,warningMessage:`This will permanently delete ${a.scoutGameDataCount} scout game entries (scouts and predictions).`}),i.jsx(tg,{title:"TBA & Nexus API Data",description:"Teams, pit data, matches, and event data from APIs",entryCount:a.apiDataCount,entryLabel:"items",storageSize:a.apiDataSize,onClear:h,warningMessage:"This will permanently delete all downloaded API data including teams, pit addresses, pit maps, match results, and event information."}),i.jsx(tg,{title:"Match Schedule Data",description:"Tournament match schedule and team information",entryCount:a.matchDataCount,entryLabel:"matches",storageSize:a.matchDataSize,onClear:f})]})]}),i.jsx(QNe,{open:n,onOpenChange:r,onConfirm:m,scoutingDataCount:a.scoutingDataCount,pitScoutingDataCount:a.pitScoutingDataCount,scoutGameDataCount:a.scoutGameDataCount,apiDataCount:a.apiDataCount,matchDataCount:a.matchDataCount})]})};function JNe({startPositions:e,setStartPositions:t,alliance:n,fieldImageRed:r,fieldImageBlue:a,zones:s}){const o=p.useRef(null),l=p.useRef(null),c=p.useMemo(()=>n==="blue"&&a?a:r,[n,r,a]),u=p.useCallback((f,h,m)=>{f.fillStyle="rgba(0, 0, 0, 0.4)",f.fillRect(0,0,h,m);const g=h/640,v=m/480;s.forEach(b=>{const x=b.x*g,y=b.y*v,w=b.width*g,S=b.height*v,C=e[b.position]===!0;f.globalCompositeOperation="destination-out",f.fillStyle="rgba(0, 0, 0, 0.2)",f.fillRect(x,y,w,S),f.globalCompositeOperation="source-over",C?f.fillStyle="rgba(34, 197, 94, 0.8)":f.fillStyle="rgba(255, 255, 255, 0.7)",f.fillRect(x,y,w,S),f.strokeStyle=C?"#16a34a":"#374151",f.lineWidth=C?4:2,f.setLineDash(C?[]:[5,5]),f.strokeRect(x,y,w,S),f.setLineDash([]),f.fillStyle=C?"#ffffff":"#1f2937",f.font=`bold ${Math.max(20*Math.min(g,v),16)}px Arial`,f.textAlign="center",f.textBaseline="middle",f.shadowColor=C?"#000000":"#ffffff",f.shadowBlur=3,f.shadowOffsetX=1,f.shadowOffsetY=1;const k=b.label??b.position.toString();f.fillText(k,x+w/2,y+S/2),f.shadowColor="transparent",f.shadowBlur=0,f.shadowOffsetX=0,f.shadowOffsetY=0})},[e,s]);p.useEffect(()=>{const f=o.current,h=l.current;if(!f||!h||!c)return;const m=f.getContext("2d");if(!m)return;const g=new Image;g.onload=()=>{const v=h.getBoundingClientRect(),b=v.width,x=v.height,y=g.width/g.height,w=b/x;let S,C;y>w?(S=b,C=b/y):(C=x,S=x*y),f.width=S,f.height=C,f.style.width=`${S}px`,f.style.height=`${C}px`,m.drawImage(g,0,0,S,C),u(m,S,C)},g.src=c},[c,u]);const d=f=>{const h=o.current;if(!h)return;const m=h.getBoundingClientRect(),g=h.width/m.width,v=h.height/m.height,b=(f.clientX-m.left)*g,x=(f.clientY-m.top)*v,y=h.width/640,w=h.height/480;for(const S of s){const C=S.x*y,k=S.y*w,N=S.width*y,P=S.height*w;if(b>=C&&b<=C+N&&x>=k&&x<=k+P){t.forEach((E,R)=>{E(R===S.position)});break}}};return c?i.jsx("div",{ref:l,className:"w-full h-full flex items-center justify-center p-1 lg:p-2 xl:p-3",children:i.jsx("canvas",{ref:o,className:"cursor-pointer max-w-full max-h-full shadow-lg rounded-md xl:shadow-xl 2xl:shadow-2xl",onClick:d})}):i.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No field image configured"})})}const Ii={calculateAutoPoints(e){const t=e.gameData;let n=0;return d1().forEach(r=>{var s;const a=eg(r,"auto");if(a>0){const o=((s=t==null?void 0:t.auto)==null?void 0:s[`${r}Count`])||0;n+=o*a}}),Object.keys(cd.auto).forEach(r=>{}),n},calculateTeleopPoints(e){const t=e.gameData;let n=0;return d1().forEach(r=>{var s;const a=eg(r,"teleop");if(a>0){const o=((s=t==null?void 0:t.teleop)==null?void 0:s[`${r}Count`])||0;n+=o*a}}),n},calculateEndgamePoints(e){var r,a,s;const t=e.gameData;let n=0;return((r=t==null?void 0:t.endgame)==null?void 0:r.climbL1)===!0&&(n+=eg("climbL1","teleop")),((a=t==null?void 0:t.endgame)==null?void 0:a.climbL2)===!0&&(n+=eg("climbL2","teleop")),((s=t==null?void 0:t.endgame)==null?void 0:s.climbL3)===!0&&(n+=eg("climbL3","teleop")),n},calculateTotalPoints(e){return this.calculateAutoPoints(e)+this.calculateTeleopPoints(e)+this.calculateEndgamePoints(e)}},XNe="/Maneuver-2026/assets/2026-field-red-DC0DYBrO.png",eke="/Maneuver-2026/assets/2026-field-blue-NurVif_y.png",V7={calculateBasicStats(e){var x,y;const t=e.length;if(t===0)return{teamNumber:0,eventKey:"",matchCount:0,totalPoints:0,autoPoints:0,teleopPoints:0,endgamePoints:0,overall:{avgTotalPoints:0,totalPiecesScored:0,avgGamePiece1:0,avgGamePiece2:0},auto:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0,mobilityRate:0,startPositions:[]},teleop:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0},endgame:{avgPoints:0,climbRate:0,parkRate:0},matchesPlayed:0,avgTotalPoints:0,avgAutoPoints:0,avgTeleopPoints:0,avgEndgamePoints:0,avgAutoFuel:0,avgTeleopFuel:0,avgAutoFuelPassed:0,avgTeleopFuelPassed:0,avgFuelPassed:0,avgTotalFuel:0,maxAutoFuel:0,maxTeleopFuel:0,maxAutoFuelPassed:0,maxTeleopFuelPassed:0,maxFuelPassed:0,maxTotalFuel:0,mobilityRate:0,autoClimbRate:0,autoClimbAttempts:0,climbL1Rate:0,climbL1Count:0,climbL2Rate:0,climbL2Count:0,climbL3Rate:0,climbL3Count:0,climbSuccessRate:0,defenseRate:0,trenchStuckRate:0,bumpStuckRate:0,brokeDownRate:0,startPositions:{},matchResults:[],primaryActiveRole:"None",primaryInactiveRole:"None",roleActiveCleanUpRate:0,roleActivePasserRate:0,roleActiveDefenseRate:0,roleActiveCyclerRate:0,roleActiveThiefRate:0,roleInactiveCleanUpRate:0,roleInactivePasserRate:0,roleInactiveDefenseRate:0,roleInactiveCyclerRate:0,roleInactiveThiefRate:0};const n=e.reduce((w,S)=>{var N,P,E,R,O,K,J,Q,G,z,U,M,$,B,te,q,ae,he,je,Ee,me,Ve,ne,ke,we,re,He,Oe,Xe;const C=S.gameData;w.autoFuel+=((N=C==null?void 0:C.auto)==null?void 0:N.fuelScoredCount)||0,w.teleopFuel+=((P=C==null?void 0:C.teleop)==null?void 0:P.fuelScoredCount)||0,w.autoFuelPassed+=((E=C==null?void 0:C.auto)==null?void 0:E.fuelPassedCount)||0,w.teleopFuelPassed+=((R=C==null?void 0:C.teleop)==null?void 0:R.fuelPassedCount)||0,w.fuelPassed+=(((O=C==null?void 0:C.auto)==null?void 0:O.fuelPassedCount)||0)+(((K=C==null?void 0:C.teleop)==null?void 0:K.fuelPassedCount)||0),w.mobility+=(J=C==null?void 0:C.auto)!=null&&J.leftStartZone?1:0,w.autoClimb+=(Q=C==null?void 0:C.auto)!=null&&Q.autoClimbL1?1:0,w.climbL1+=(G=C==null?void 0:C.endgame)!=null&&G.climbL1?1:0,w.climbL2+=(z=C==null?void 0:C.endgame)!=null&&z.climbL2?1:0,w.climbL3+=(U=C==null?void 0:C.endgame)!=null&&U.climbL3?1:0,w.defense+=(M=C==null?void 0:C.teleop)!=null&&M.playedDefense?1:0,w.trenchStuck+=((($=C==null?void 0:C.auto)==null?void 0:$.trenchStuckCount)||0)>0||(((B=C==null?void 0:C.teleop)==null?void 0:B.trenchStuckCount)||0)>0?1:0,w.bumpStuck+=(((te=C==null?void 0:C.auto)==null?void 0:te.bumpStuckCount)||0)>0||(((q=C==null?void 0:C.teleop)==null?void 0:q.bumpStuckCount)||0)>0?1:0,w.brokeDown+=(((ae=C==null?void 0:C.auto)==null?void 0:ae.brokenDownCount)||0)>0||(((he=C==null?void 0:C.teleop)==null?void 0:he.brokenDownCount)||0)>0?1:0,w.roleActiveCleanUp+=(je=C==null?void 0:C.endgame)!=null&&je.roleActiveCleanUp?1:0,w.roleActivePasser+=(Ee=C==null?void 0:C.endgame)!=null&&Ee.roleActivePasser?1:0,w.roleActiveDefense+=(me=C==null?void 0:C.endgame)!=null&&me.roleActiveDefense?1:0,w.roleActiveCycler+=(Ve=C==null?void 0:C.endgame)!=null&&Ve.roleActiveCycler?1:0,w.roleActiveThief+=(ne=C==null?void 0:C.endgame)!=null&&ne.roleActiveThief?1:0,w.roleInactiveCleanUp+=(ke=C==null?void 0:C.endgame)!=null&&ke.roleInactiveCleanUp?1:0,w.roleInactivePasser+=(we=C==null?void 0:C.endgame)!=null&&we.roleInactivePasser?1:0,w.roleInactiveDefense+=(re=C==null?void 0:C.endgame)!=null&&re.roleInactiveDefense?1:0,w.roleInactiveCycler+=(He=C==null?void 0:C.endgame)!=null&&He.roleInactiveCycler?1:0,w.roleInactiveThief+=(Oe=C==null?void 0:C.endgame)!=null&&Oe.roleInactiveThief?1:0;const k=(Xe=C==null?void 0:C.auto)==null?void 0:Xe.startPosition;return k!=null&&k>=0&&(w.startPositionCounts[k]=(w.startPositionCounts[k]||0)+1),w},{autoFuel:0,teleopFuel:0,autoFuelPassed:0,teleopFuelPassed:0,fuelPassed:0,mobility:0,autoClimb:0,climbL1:0,climbL2:0,climbL3:0,defense:0,trenchStuck:0,bumpStuck:0,brokeDown:0,startPositionCounts:{},roleActiveCleanUp:0,roleActivePasser:0,roleActiveDefense:0,roleActiveCycler:0,roleActiveThief:0,roleInactiveCleanUp:0,roleInactivePasser:0,roleInactiveDefense:0,roleInactiveCycler:0,roleInactiveThief:0}),r=e.map(w=>{var P,E,R,O,K,J,Q,G,z,U,M,$,B,te,q,ae,he,je,Ee,me,Ve,ne,ke,we,re,He,Oe,Xe,Fe,Se;const S=Ii.calculateAutoPoints(w),C=Ii.calculateTeleopPoints(w),k=Ii.calculateEndgamePoints(w);let N=0;return(E=(P=w.gameData)==null?void 0:P.endgame)!=null&&E.climbL3?N=3:(O=(R=w.gameData)==null?void 0:R.endgame)!=null&&O.climbL2?N=2:(J=(K=w.gameData)==null?void 0:K.endgame)!=null&&J.climbL1&&(N=1),{matchNumber:String(w.matchNumber),teamNumber:w.teamNumber,scoutName:w.scoutName,alliance:w.allianceColor,eventKey:w.eventKey||"",totalPoints:S+C+k,autoPoints:S,teleopPoints:C,endgamePoints:k,endgameSuccess:N>0,climbLevel:N,brokeDown:((G=(Q=w.gameData)==null?void 0:Q.endgame)==null?void 0:G.climbFailed)||!1,startPosition:((U=(z=w.gameData)==null?void 0:z.auto)==null?void 0:U.startPosition)??-1,comment:w.comments||"",autoFuel:(($=(M=w.gameData)==null?void 0:M.auto)==null?void 0:$.fuelScoredCount)||0,teleopFuel:((te=(B=w.gameData)==null?void 0:B.teleop)==null?void 0:te.fuelScoredCount)||0,fuelPassed:(((ae=(q=w.gameData)==null?void 0:q.auto)==null?void 0:ae.fuelPassedCount)||0)+(((je=(he=w.gameData)==null?void 0:he.teleop)==null?void 0:je.fuelPassedCount)||0),autoFuelPassed:((me=(Ee=w.gameData)==null?void 0:Ee.auto)==null?void 0:me.fuelPassedCount)||0,teleopFuelPassed:((ne=(Ve=w.gameData)==null?void 0:Ve.teleop)==null?void 0:ne.fuelPassedCount)||0,autoPath:Array.isArray((we=(ke=w.gameData)==null?void 0:ke.auto)==null?void 0:we.autoPath)?w.gameData.auto.autoPath.filter(de=>de&&de.position):Array.isArray((He=(re=w.gameData)==null?void 0:re.auto)==null?void 0:He.actions)?w.gameData.auto.actions.filter(de=>de&&de.position):[],teleopPath:Array.isArray((Xe=(Oe=w.gameData)==null?void 0:Oe.teleop)==null?void 0:Xe.teleopPath)?w.gameData.teleop.teleopPath.filter(de=>de&&de.position):Array.isArray((Se=(Fe=w.gameData)==null?void 0:Fe.teleop)==null?void 0:Se.actions)?w.gameData.teleop.actions.filter(de=>de&&de.position):[],gameData:w.gameData}}),a={};Object.entries(n.startPositionCounts).forEach(([w,S])=>{a[`position${w}`]=Math.round(S/t*100)});const s=r.reduce((w,S)=>w+S.autoPoints,0)/t,o=r.reduce((w,S)=>w+S.teleopPoints,0)/t,l=r.reduce((w,S)=>w+S.endgamePoints,0)/t,c=n.climbL1+n.climbL2+n.climbL3,u=[{name:"Cycler",count:n.roleActiveCycler},{name:"Clean Up",count:n.roleActiveCleanUp},{name:"Passer",count:n.roleActivePasser},{name:"Thief",count:n.roleActiveThief},{name:"Defense",count:n.roleActiveDefense}],d=Math.max(...u.map(w=>w.count)),f=u.filter(w=>w.count===d&&w.count>0),h=f.length>0?f.map(w=>w.name).join(" / "):"None",m=[{name:"Cycler",count:n.roleInactiveCycler},{name:"Clean Up",count:n.roleInactiveCleanUp},{name:"Passer",count:n.roleInactivePasser},{name:"Thief",count:n.roleInactiveThief},{name:"Defense",count:n.roleInactiveDefense}],g=Math.max(...m.map(w=>w.count)),v=m.filter(w=>w.count===g&&w.count>0),b=v.length>0?v.map(w=>w.name).join(" / "):"None";return{teamNumber:((x=e[0])==null?void 0:x.teamNumber)||0,eventKey:((y=e[0])==null?void 0:y.eventKey)||"",matchCount:t,totalPoints:r.reduce((w,S)=>w+S.totalPoints,0),autoPoints:r.reduce((w,S)=>w+S.autoPoints,0),teleopPoints:r.reduce((w,S)=>w+S.teleopPoints,0),endgamePoints:r.reduce((w,S)=>w+S.endgamePoints,0),overall:{avgTotalPoints:Math.round((s+o+l)*10)/10,totalPiecesScored:Math.round((n.autoFuel+n.teleopFuel)/t*10)/10,avgGamePiece1:Math.round((n.autoFuel+n.teleopFuel)/t*10)/10,avgGamePiece2:Math.round(n.fuelPassed/t*10)/10},auto:{avgPoints:Math.round(s*10)/10,avgGamePiece1:Math.round(n.autoFuel/t*10)/10,avgGamePiece2:0,mobilityRate:Math.round(n.mobility/t*100),startPositions:Object.entries(a).map(([w,S])=>({position:w,percentage:S}))},teleop:{avgPoints:Math.round(o*10)/10,avgGamePiece1:Math.round(n.teleopFuel/t*10)/10,avgGamePiece2:Math.round(n.fuelPassed/t*10)/10},endgame:{avgPoints:Math.round(l*10)/10,climbRate:Math.round(c/t*100),parkRate:0},matchesPlayed:t,avgTotalPoints:Math.round((s+o+l)*10)/10,avgAutoPoints:Math.round(s*10)/10,avgTeleopPoints:Math.round(o*10)/10,avgEndgamePoints:Math.round(l*10)/10,avgAutoFuel:Math.round(n.autoFuel/t*10)/10,avgTeleopFuel:Math.round(n.teleopFuel/t*10)/10,avgAutoFuelPassed:Math.round(n.autoFuelPassed/t*10)/10,avgTeleopFuelPassed:Math.round(n.teleopFuelPassed/t*10)/10,avgFuelPassed:Math.round(n.fuelPassed/t*10)/10,avgTotalFuel:Math.round((n.autoFuel+n.teleopFuel)/t*10)/10,maxAutoFuel:Math.max(...r.map(w=>w.autoFuel||0)),maxTeleopFuel:Math.max(...r.map(w=>w.teleopFuel||0)),maxAutoFuelPassed:Math.max(...r.map(w=>w.autoFuelPassed||0)),maxTeleopFuelPassed:Math.max(...r.map(w=>w.teleopFuelPassed||0)),maxFuelPassed:Math.max(...r.map(w=>(w.autoFuelPassed||0)+(w.teleopFuelPassed||0))),maxTotalFuel:Math.max(...r.map(w=>(w.autoFuel||0)+(w.teleopFuel||0))),mobilityRate:Math.round(n.mobility/t*100),autoClimbRate:Math.round(n.autoClimb/t*100),autoClimbAttempts:n.autoClimb,climbL1Rate:Math.round(n.climbL1/t*100),climbL1Count:n.climbL1,climbL2Rate:Math.round(n.climbL2/t*100),climbL2Count:n.climbL2,climbL3Rate:Math.round(n.climbL3/t*100),climbL3Count:n.climbL3,climbSuccessRate:Math.round(c/t*100),defenseRate:Math.round(n.defense/t*100),trenchStuckRate:Math.round(n.trenchStuck/t*100),bumpStuckRate:Math.round(n.bumpStuck/t*100),brokeDownRate:Math.round(n.brokeDown/t*100),startPositions:a,matchResults:r.sort((w,S)=>parseInt(w.matchNumber)-parseInt(S.matchNumber)),primaryActiveRole:h,primaryInactiveRole:b,roleActiveCleanUpRate:Math.round(n.roleActiveCleanUp/t*100),roleActivePasserRate:Math.round(n.roleActivePasser/t*100),roleActiveDefenseRate:Math.round(n.roleActiveDefense/t*100),roleActiveCyclerRate:Math.round(n.roleActiveCycler/t*100),roleActiveThiefRate:Math.round(n.roleActiveThief/t*100),roleInactiveCleanUpRate:Math.round(n.roleInactiveCleanUp/t*100),roleInactivePasserRate:Math.round(n.roleInactivePasser/t*100),roleInactiveDefenseRate:Math.round(n.roleInactiveDefense/t*100),roleInactiveCyclerRate:Math.round(n.roleInactiveCycler/t*100),roleInactiveThiefRate:Math.round(n.roleInactiveThief/t*100)}},getStatSections(){return[{id:"points-overview",title:"Points Overview",tab:"overview",columns:2,stats:[{key:"avgTotalPoints",label:"Total Points",type:"number",color:"green"},{key:"avgAutoPoints",label:"Auto Points",type:"number",color:"blue"},{key:"avgTeleopPoints",label:"Teleop Points",type:"number",color:"purple"},{key:"avgEndgamePoints",label:"Endgame Points",type:"number",color:"orange"}]},{id:"fuel-overview",title:"Fuel Scoring",tab:"overview",columns:2,stats:[{key:"avgTotalFuel",label:"Total Fuel",type:"number",color:"yellow",subtitle:"avg per match"},{key:"avgFuelPassed",label:"Fuel Passed",type:"number",color:"blue",subtitle:"avg per match"}]},{id:"primary-roles",title:"Primary Roles",tab:"overview",columns:2,stats:[{key:"primaryActiveRole",label:"Active Shift Role",type:"text",color:"green"},{key:"primaryInactiveRole",label:"Inactive Shift Role",type:"text",color:"purple"}]},{id:"auto-scoring",title:"Auto Fuel",tab:"scoring",columns:2,stats:[{key:"avgAutoFuel",label:"Fuel Scored",type:"number",subtitle:"avg per match"},{key:"maxAutoFuel",label:"Max Fuel Scored",type:"number",subtitle:"best match"},{key:"avgAutoFuelPassed",label:"Fuel Passed",type:"number",subtitle:"avg per match"},{key:"maxAutoFuelPassed",label:"Max Fuel Passed",type:"number",subtitle:"best match"}]},{id:"teleop-scoring",title:"Teleop Fuel",tab:"scoring",columns:2,stats:[{key:"avgTeleopFuel",label:"Fuel Scored",type:"number",subtitle:"avg per match"},{key:"maxTeleopFuel",label:"Max Fuel Scored",type:"number",subtitle:"best match"},{key:"avgTeleopFuelPassed",label:"Fuel Passed",type:"number",subtitle:"avg per match"},{key:"maxTeleopFuelPassed",label:"Max Fuel Passed",type:"number",subtitle:"best match"}]},{id:"auto-climbing",title:"Auto Climbing",tab:"scoring",columns:2,stats:[{key:"autoClimbRate",label:"Success Rate",type:"percentage",color:"blue"},{key:"autoClimbAttempts",label:"Total Attempts",type:"number",color:"slate"}]},{id:"teleop-climbing",title:"Teleop Climbing",tab:"scoring",columns:2,stats:[{key:"climbL1Rate",label:"Level 1 Success Rate",type:"percentage",color:"green"},{key:"climbL1Count",label:"Level 1 Climbs",type:"number",color:"slate"},{key:"climbL2Rate",label:"Level 2 Success Rate",type:"percentage",color:"blue"},{key:"climbL2Count",label:"Level 2 Climbs",type:"number",color:"slate"},{key:"climbL3Rate",label:"Level 3 Success Rate",type:"percentage",color:"purple"},{key:"climbL3Count",label:"Level 3 Climbs",type:"number",color:"slate"}]}]},getRateSections(){return[{id:"key-rates",title:"Key Rates",tab:"overview",rates:[{key:"climbSuccessRate",label:"Climb Success Rate"},{key:"autoClimbRate",label:"Auto Climb Rate"}]},{id:"climb-breakdown",title:"Climb Breakdown",tab:"performance",rates:[{key:"climbL1Rate",label:"Level 1 (10 pts)"},{key:"climbL2Rate",label:"Level 2 (20 pts)"},{key:"climbL3Rate",label:"Level 3 (30 pts)"}]},{id:"active-shift-roles",title:"Active Shift Roles",tab:"performance",rates:[{key:"roleActiveCyclerRate",label:"Cycler"},{key:"roleActiveCleanUpRate",label:"Clean Up"},{key:"roleActivePasserRate",label:"Passer"},{key:"roleActiveThiefRate",label:"Thief"},{key:"roleActiveDefenseRate",label:"Defense"}]},{id:"inactive-shift-roles",title:"Inactive Shift Roles",tab:"performance",rates:[{key:"roleInactiveCyclerRate",label:"Cycler"},{key:"roleInactiveCleanUpRate",label:"Clean Up"},{key:"roleInactivePasserRate",label:"Passer"},{key:"roleInactiveThiefRate",label:"Thief"},{key:"roleInactiveDefenseRate",label:"Defense"}]},{id:"other-metrics",title:"Other Metrics",tab:"performance",rates:[{key:"defenseRate",label:"Played Defense (Any Phase)"},{key:"brokeDownRate",label:"Broke Down"},{key:"trenchStuckRate",label:"Got Stuck in Trench"},{key:"bumpStuckRate",label:"Got Stuck on Bump"}]}]},getMatchBadges(){return[{key:"endgameSuccess",label:"Climbed",variant:"secondary",showWhen:!0},{key:"brokeDown",label:"Failed",variant:"destructive",showWhen:!0}]},getStartPositionConfig(){return{positionCount:5,positionLabels:["Left Trench","Left Bump","Hub","Right Bump","Right Trench"],positionColors:["yellow","orange","green","orange","yellow"],fieldImageRed:XNe,fieldImageBlue:eke,zones:[{x:40,y:120,width:90,height:100,position:0,label:"Trench (L)"},{x:130,y:120,width:150,height:100,position:1,label:"Left Bump"},{x:280,y:120,width:80,height:100,position:2,label:"Hub"},{x:360,y:120,width:150,height:100,position:3,label:"Right Bump"},{x:510,y:120,width:90,height:100,position:4,label:"Trench (R)"}]}}};function tke({startPosition:e,setStartPosition:t,alliance:n}){const r=e.findIndex(l=>l===!0),a=e.some(l=>l===!0),s=V7.getStartPositionConfig(),o=t.map(l=>c=>l(c));return i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{className:"pb-3 lg:pb-4",children:[i.jsx(Ge,{className:"text-xl xl:text-2xl",children:"Starting Position"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Click where your robot starts on the field"}),a&&i.jsxs(Le,{className:"w-fit bg-green-600",children:["Position ",r," Selected"]})]}),i.jsx($e,{className:"p-4",children:i.jsx("div",{className:"w-full min-h-80 h-80 lg:h-96 xl:h-112 2xl:h-128 border rounded-lg overflow-hidden bg-green-50 dark:bg-green-950/20",children:i.jsx(JNe,{startPositions:e,setStartPositions:o,alliance:n,fieldImageRed:s.fieldImageRed??"",fieldImageBlue:s.fieldImageBlue,zones:s.zones??[]})})})]})}function KF(e){const t=localStorage.getItem(`${e}StateStack`);return t?JSON.parse(t):[]}function $k(e){const t=localStorage.getItem(`${e}RobotStatus`);return t?JSON.parse(t):{}}function nke(e,t){const n=parseInt(t)||0;return e==="sf"?{matchKey:`sf${t}m1`,numericMatch:n}:e==="f"?{matchKey:`f1m${t}`,numericMatch:n}:{matchKey:`qm${t}`,numericMatch:n}}async function sx({inputs:e,transformation:t,comment:n="",noShow:r=!1,onSuccess:a,onError:s}){try{const{matchKey:o,numericMatch:l}=nke(e.matchType||"qm",e.matchNumber);if(r){const x={id:`${e.eventKey}::${o}::${e.selectTeam}::${e.alliance}`,scoutName:e.scoutName||"",teamNumber:parseInt(e.selectTeam)||0,matchNumber:l,eventKey:e.eventKey,matchKey:o,allianceColor:e.alliance,timestamp:Date.now(),noShow:!0,comments:n||"No Show - Robot did not appear for this match",gameData:{auto:{startPosition:e.startPosition},teleop:{},endgame:{}}};return await zr.scoutingData.put(x),oe.success("No-show match submitted"),rE(),a&&a(),!0}const c=KF("auto"),u=KF("teleop"),d=$k("auto"),f=$k("teleop"),h=$k("endgame"),m=t.transformActionsToCounters({autoActions:c,teleopActions:u,autoRobotStatus:d,teleopRobotStatus:f,endgameRobotStatus:h,startPosition:e.startPosition}),g={id:`${e.eventKey}::${o}::${e.selectTeam}::${e.alliance}`,scoutName:e.scoutName||"",teamNumber:parseInt(e.selectTeam)||0,matchNumber:l,eventKey:e.eventKey,matchKey:o,allianceColor:e.alliance,timestamp:Date.now(),gameData:m,comments:n};await zr.scoutingData.put(g),rE();const v=localStorage.getItem("currentMatchNumber")||"1",b=(parseInt(v)+1).toString();return localStorage.setItem("currentMatchNumber",b),oe.success("Match data saved successfully!"),a==null||a(),!0}catch(o){return console.error("Error saving match data:",o),oe.error("Error saving match data"),s==null||s(o),!1}}const z7=p.createContext(null);function uf(){const e=p.useContext(z7);if(!e)throw new Error("useGame must be used within a GameProvider");return e}function rke({children:e,config:t,scoring:n,validation:r,analysis:a,ui:s,transformation:o}){const l={config:t,scoring:n,validation:r,analysis:a,ui:s,transformation:o};return i.jsx(z7.Provider,{value:l,children:e})}const Xc="/Maneuver-2026/assets/2026-field-DGIUMp9A.png",U7=["shot_hub","shot_outpost_close","shot_outpost_medium","shot_outpost_far","shot_depot_close","shot_depot_medium","shot_depot_far"],cl={shot_hub:{x:.29,y:.5,label:"HUB_ICON",name:"At Hub",scaleWidth:1},shot_outpost_close:{x:.23,y:.6,label:"OUTPOST_ICON",name:"Close",scaleWidth:1},shot_outpost_medium:{x:.17,y:.72,label:"OUTPOST_ICON",name:"Medium",scaleWidth:1},shot_outpost_far:{x:.09,y:.87,label:"OUTPOST_ICON",name:"Far",scaleWidth:1},shot_depot_close:{x:.23,y:.4,label:"DEPOT_ICON",name:"Close",scaleWidth:1},shot_depot_medium:{x:.17,y:.28,label:"DEPOT_ICON",name:"Medium",scaleWidth:1},shot_depot_far:{x:.09,y:.13,label:"DEPOT_ICON",name:"Far",scaleWidth:1},hub:{x:.31,y:.5,label:"HUB_ICON",name:"Hub Score",scaleWidth:1},depot:{x:.09,y:.29,label:"DEPOT_ICON",name:"Depot"},outpost:{x:.09,y:.87,label:"OUTPOST_ICON",name:"Outpost"},tower:{x:.1,y:.53,label:"CLIMB_ICON",name:"Climb"},trench1:{x:.31,y:.13,label:"TRENCH_ICON",name:"Trench"},bump1:{x:.31,y:.32,label:"BUMP_ICON",name:"Bump",scaleHeight:1.4},bump2:{x:.31,y:.68,label:"BUMP_ICON",name:"Bump",scaleHeight:1.4},trench2:{x:.31,y:.87,label:"TRENCH_ICON",name:"Trench"},pass:{x:.5,y:.5,label:"PASS_ICON",name:"Pass"},collect_neutral:{x:.5,y:.7,label:"COLLECT_ICON",name:"Collect"},collect_alliance:{x:.1,y:.7,label:"COLLECT_ICON",name:"Collect"},opponent_foul:{x:.6,y:.5,label:"FOUL_ICON",name:"Foul",scaleWidth:1.5},defense_alliance:{x:.17,y:.15,label:"DEFENSE_ICON",name:"Defense"},defense_neutral:{x:.5,y:.15,label:"DEFENSE_ICON",name:"Defense"},defense_opponent:{x:.83,y:.15,label:"DEFENSE_ICON",name:"Defense"},pass_alliance:{x:.17,y:.85,label:"PASS_ICON",name:"Pass"},pass_opponent:{x:.83,y:.5,label:"PASS_ICON",name:"Pass"},trench_opponent1:{x:.69,y:.13,label:"TRENCH_ICON",name:"Trench"},bump_opponent1:{x:.69,y:.32,label:"BUMP_ICON",name:"Bump",scaleHeight:1.4},bump_opponent2:{x:.69,y:.68,label:"BUMP_ICON",name:"Bump",scaleHeight:1.4},trench_opponent2:{x:.69,y:.87,label:"TRENCH_ICON",name:"Trench"},steal:{x:.83,y:.85,label:"STEAL_ICON",name:"Steal"}},Kf=640,Gf=480,K7={allianceZone:{xMin:Jr.allianceZone.bounds.x/Kf,xMax:(Jr.allianceZone.bounds.x+Jr.allianceZone.bounds.width)/Kf,yMin:Jr.allianceZone.bounds.y/Gf,yMax:(Jr.allianceZone.bounds.y+Jr.allianceZone.bounds.height)/Gf},neutralZone:{xMin:Jr.neutralZone.bounds.x/Kf,xMax:(Jr.neutralZone.bounds.x+Jr.neutralZone.bounds.width)/Kf,yMin:Jr.neutralZone.bounds.y/Gf,yMax:(Jr.neutralZone.bounds.y+Jr.neutralZone.bounds.height)/Gf},opponentZone:{xMin:Jr.opponentZone.bounds.x/Kf,xMax:(Jr.opponentZone.bounds.x+Jr.opponentZone.bounds.width)/Kf,yMin:Jr.opponentZone.bounds.y/Gf,yMax:(Jr.opponentZone.bounds.y+Jr.opponentZone.bounds.height)/Gf}};function ake(e=20){return[{label:"8",value:8},{label:"1/4",value:Math.round(e/4)},{label:"1/2",value:Math.round(e/2)},{label:"3/4",value:Math.round(e*3/4)},{label:"Full",value:e}]}const ske=["L1","L2","L3"],ike=["trench1","bump1","hub","bump2","trench2"],oke={auto:{allianceZone:["hub","depot","outpost","tower","pass","collect_neutral","opponent_foul","trench1","bump1","bump2","trench2"]},teleop:{allianceZone:["hub","tower","defense_alliance","collect_alliance","pass","defense_neutral","collect_neutral","defense_opponent","pass_opponent","steal"],neutralZone:[],opponentZone:[]}},lke={auto:{opponentZone:[]},teleop:{}};function G7(e,t){if(!t)return[];const n=oke[e][t]||[],r=lke[e][t]||[];return[...n,...r]}const er={red:"#ef4444",blue:"#3b82f6",score:"#22c55e",pass:"#9333ea",collect:"#eab308",climb:"#a855f7",traversal:"#06b6d4",foul:"#ef4444",default:"#888888",white:"#ffffff",amber:"#f59e0b"},$d=p.forwardRef(function({actions:t,pendingWaypoint:n,drawingPoints:r=[],alliance:a,isFieldRotated:s=!1,width:o,height:l,isSelectingScore:c=!1,isSelectingPass:u=!1,isSelectingCollect:d=!1,drawConnectedPaths:f=!0,drawingZoneBounds:h,onPointerDown:m,onPointerMove:g,onPointerUp:v},b){const x=p.useRef(null);p.useImperativeHandle(b,()=>({canvas:x.current}));const y=C=>a==="red"?1-C:C,w=C=>a==="red"?1-C:C,S=C=>{switch(C){case"score":return er.score;case"collect":return er.collect;case"climb":return er.climb;case"traversal":return er.traversal;case"pass":return er.pass;case"foul":return er.foul;default:return er.default}};return p.useEffect(()=>{const C=x.current;if(!C||o===0)return;const k=C.getBoundingClientRect();console.log("[FieldCanvas] Drawing waypoints:",{actionsCount:t.length,canvasInternalSize:{width:o,height:l},canvasDisplaySize:{width:k.width,height:k.height},scaleMismatch:{x:o/k.width,y:l/k.height},alliance:a,isFieldRotated:s,actions:t.map(z=>({type:z.type,action:z.action,pos:z.position}))});const N=C.getContext("2d");if(!N)return;N.clearRect(0,0,C.width,C.height);const P=C.width/1e3,E=a==="red"?er.red:er.blue,R=(z,U)=>{const M=S(U.type);if(U.pathPoints&&U.pathPoints.length>0){N.beginPath(),N.strokeStyle=E,N.lineWidth=Math.max(2,4*P),N.moveTo(y(z.x)*C.width,w(z.y)*C.height);const $=U.pathPoints[0];$&&N.lineTo(y($.x)*C.width,w($.y)*C.height),N.stroke(),N.beginPath(),N.strokeStyle=M,N.lineWidth=Math.max(2,4*P),U.pathPoints.forEach((B,te)=>{te===0?N.moveTo(y(B.x)*C.width,w(B.y)*C.height):N.lineTo(y(B.x)*C.width,w(B.y)*C.height)}),N.stroke()}else N.beginPath(),N.strokeStyle=E,N.lineWidth=Math.max(2,4*P),N.moveTo(y(z.x)*C.width,w(z.y)*C.height),N.lineTo(y(U.position.x)*C.width,w(U.position.y)*C.height),N.stroke()},O=z=>{if(!z.pathPoints||z.pathPoints.length===0)return;const U=S(z.type);N.beginPath(),N.strokeStyle=U,N.lineWidth=Math.max(2,4*P),N.lineCap="round",N.lineJoin="round",z.pathPoints.forEach((M,$)=>{$===0?N.moveTo(y(M.x)*C.width,w(M.y)*C.height):N.lineTo(y(M.x)*C.width,w(M.y)*C.height)}),N.stroke()};if(t.length>0){if(N.lineCap="round",N.lineJoin="round",N.setLineDash([]),f)for(let z=1;z<t.length;z++){const U=t[z-1],M=t[z];if(U&&M){const $=U.pathPoints&&U.pathPoints.length>0?U.pathPoints[U.pathPoints.length-1]:U.position;R($,M)}}t.forEach(z=>{z.pathPoints&&z.pathPoints.length>0&&O(z)})}if(h&&(c||u||d)){const z=c?er.score:u?er.pass:er.collect,U=y(h.xMin),M=y(h.xMax),$=w(h.yMin),B=w(h.yMax),te=Math.min(U,M),q=Math.max(U,M),ae=Math.min($,B),he=Math.max($,B),je=te*C.width,Ee=ae*C.height,me=(q-te)*C.width,Ve=(he-ae)*C.height;N.fillStyle=z,N.globalAlpha=.1,N.fillRect(je,Ee,me,Ve),N.beginPath(),N.strokeStyle=z,N.lineWidth=Math.max(2,3*P),N.setLineDash([8*P,4*P]),N.globalAlpha=.8,N.rect(je,Ee,me,Ve),N.stroke(),N.setLineDash([]),N.globalAlpha=1}if(r.length>1){N.beginPath();let z=er.amber;c?z=er.score:u?z=er.pass:d&&(z=er.collect),N.strokeStyle=z,N.lineWidth=Math.max(2,4*P),N.setLineDash([5*P,5*P]);const U=r[0];if(U){N.moveTo(y(U.x)*C.width,w(U.y)*C.height);for(let M=1;M<r.length;M++){const $=r[M];$&&N.lineTo(y($.x)*C.width,w($.y)*C.height)}N.stroke()}N.setLineDash([])}const K=Math.max(8,12*P),J=`bold ${Math.max(8,11*P)}px sans-serif`,Q=`bold ${Math.max(7,10*P)}px sans-serif`,G=K+8*P;if(t.filter(z=>z.position).forEach((z,U)=>{const M=y(z.position.x)*C.width,$=w(z.position.y)*C.height,B=S(z.type);if(N.beginPath(),N.arc(M,$,K,0,Math.PI*2),N.fillStyle=B,N.fill(),N.strokeStyle=er.white,N.lineWidth=Math.max(1,2*P),N.stroke(),N.save(),s&&(N.translate(M,$),N.rotate(Math.PI),N.translate(-M,-$)),N.fillStyle=er.white,N.font=J,N.textAlign="center",N.textBaseline="middle",N.fillText((U+1).toString(),M,$),N.restore(),z.amountLabel){const te=z.amountLabel;N.font=Q;const ae=N.measureText(te).width,he=Math.max(8,11*P),je=6*P,Ee=2*P,me=ae+je*2,Ve=he+Ee*2,ne=s?$+G:$-G,ke=M-me/2,we=ne-Ve/2;N.beginPath(),N.roundRect?N.roundRect(ke,we,me,Ve,4*P):N.rect(ke,we,me,Ve),N.fillStyle=B,N.fill(),N.strokeStyle=er.white,N.lineWidth=Math.max(1,1*P),N.stroke(),N.save(),s&&(N.translate(M,ne),N.rotate(Math.PI),N.translate(-M,-ne)),N.fillStyle=er.white,N.textAlign="center",N.textBaseline="middle",N.fillText(te,M,ne),N.restore()}}),n){const z=y(n.position.x)*C.width,U=w(n.position.y)*C.height,M=n.type==="score"?er.score:er.pass;N.save(),N.globalAlpha=.6,n.pathPoints&&(N.beginPath(),N.strokeStyle=M,N.lineWidth=4,N.setLineDash([5,5]),n.pathPoints.forEach(($,B)=>{B===0?N.moveTo(y($.x)*C.width,w($.y)*C.height):N.lineTo(y($.x)*C.width,w($.y)*C.height)}),N.stroke()),N.beginPath(),N.arc(z,U,15,0,Math.PI*2),N.fillStyle=M,N.fill(),N.strokeStyle=er.white,N.lineWidth=3,N.stroke(),N.beginPath(),N.arc(z,U,15+Math.sin(Date.now()/200)*5,0,Math.PI*2),N.strokeStyle=M,N.lineWidth=2,N.stroke(),N.restore()}},[t,o,l,a,r,n,s,c,u,d,f,h]),i.jsx("canvas",{ref:x,width:o,height:l,className:"absolute inset-0 w-full h-full pointer-events-auto touch-none",style:{touchAction:"none"},onPointerDown:m,onPointerMove:g,onPointerUp:v})}),cke={HUB_ICON:{icon:Ed,className:"text-green-500"},TRENCH_ICON:{icon:Hfe,className:"text-amber-400"},BUMP_ICON:{icon:rhe,className:"fill-slate-400 text-slate-400"},CLIMB_ICON:{icon:gG,className:"text-purple-400"},COLLECT_ICON:{icon:Fde,className:"text-yellow-400"},DEPOT_ICON:{icon:mhe,className:"text-emerald-400"},OUTPOST_ICON:{icon:Xde,className:"text-orange-400"},FOUL_ICON:{icon:Mn,className:"text-red-500"},PASS_ICON:{icon:zde,className:"text-purple-400"},DEFENSE_ICON:{icon:Rfe,className:"text-cyan-400"},STEAL_ICON:{icon:Kde,className:"text-rose-400"}};function ev({elementKey:e,element:t,isVisible:n,isDisabled:r=!1,isStuck:a=!1,isPotentialStuck:s=!1,isSelected:o=!1,count:l,onClick:c,alliance:u,isFieldRotated:d=!1,containerWidth:f,overrideX:h}){const m=h!==void 0?h:t.x,g=t.y,v=u==="red"?1-m:m,b=u==="red"?1-g:g,x=v*100,y=b*100,w=f*.055,S=Math.max(28,Math.min(w,55)),C=S*.45,k=S*.2,N=S*(t.scaleWidth||1),P=S*(t.scaleHeight||1),E=(n||a||s)&&!r,R=cke[t.label],O=R==null?void 0:R.icon;return i.jsx("button",{onClick:()=>c(e),className:Re("absolute transform -translate-x-1/2 -translate-y-1/2 rounded-xl","flex flex-col items-center justify-center","transition-all duration-200","border shadow-lg",E?a?"bg-red-600 border-red-400 animate-pulse hover:bg-red-500 scale-110 z-10":s?"bg-amber-600 border-amber-400 hover:bg-amber-500 animate-in fade-in zoom-in duration-300":"bg-slate-800/90 border-slate-500 hover:bg-slate-700 hover:scale-105 hover:border-white":"bg-slate-900/50 border-slate-700/50 opacity-30 cursor-not-allowed"),style:{left:`${x}%`,top:`${y}%`,width:`${N}px`,height:`${P}px`},disabled:!E,children:i.jsx("div",{className:Re("flex flex-col items-center justify-center",d&&"rotate-180"),children:a?i.jsxs(i.Fragment,{children:[i.jsx(Mn,{style:{width:`${C}px`,height:`${C}px`},className:"text-white mb-0.5"}),i.jsx("span",{style:{fontSize:`${k}px`},className:"font-bold text-white uppercase leading-none",children:"STUCK!"})]}):s?i.jsxs(i.Fragment,{children:[i.jsx(Mn,{style:{width:`${C}px`,height:`${C}px`},className:"text-white mb-0.5"}),i.jsx("span",{style:{fontSize:`${k}px`},className:"font-bold text-white uppercase leading-none",children:"STUCK?"})]}):i.jsxs(i.Fragment,{children:[o&&i.jsx("div",{className:"absolute inset-0 border-2 border-blue-400 rounded-xl animate-pulse"}),l!==void 0&&l>0&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-blue-500 text-white rounded-full font-bold flex items-center justify-center shadow-lg",style:{width:`${S*.35}px`,height:`${S*.35}px`,fontSize:`${S*.2}px`},children:l}),O?i.jsx(O,{style:{width:`${C}px`,height:`${C}px`},className:R.className}):i.jsx("span",{style:{fontSize:`${C}px`},children:t.label}),i.jsx("span",{className:"text-slate-300 font-medium leading-none mt-0.5",style:{fontSize:`${k}px`},children:t.name})]})})},e)}function GF(e,t){const n=e.toString();return!t||t==="qm"?`qm${n}`:t==="sf"?`sf${n}m1`:t==="f"?`f1m${n}`:n}function uke(e){switch(e){case"allianceZone":return"Alliance";case"neutralZone":return"Neutral";case"opponentZone":return"Opponent"}}function dke(e,t){switch(e){case"allianceZone":return t==="red"?"bg-red-500/20 text-red-300":"bg-blue-500/20 text-blue-300";case"neutralZone":return"bg-yellow-500/20 text-yellow-300";case"opponentZone":return t==="red"?"bg-blue-500/20 text-blue-300":"bg-red-500/20 text-red-300"}}function fke(e){switch(e){case"green":return"bg-green-600/20 text-green-400 border-green-500/30";case"purple":return"bg-purple-600/20 text-purple-400 border-purple-500/30";case"yellow":return"bg-yellow-600/20 text-yellow-400 border-yellow-500/30";case"slate":return"bg-slate-800/50 text-slate-300 border-slate-700/50"}}function BC({phase:e,stats:t,currentZone:n,onActionLogOpen:r,isFullscreen:a,onFullscreenToggle:s,actionLogSlot:o,matchNumber:l,matchType:c,teamNumber:u,alliance:d="blue",isFieldRotated:f=!1,canUndo:h=!1,onUndo:m,onBack:g,onProceed:v,toggleFieldOrientation:b,isBrokenDown:x=!1,onBrokenDownToggle:y,onNoShow:w}){const S=e==="auto"?"Autonomous":"Teleop",C=e==="auto"?"Teleop":"Post Match",[k,N]=p.useState(!1);return i.jsxs("div",{className:"flex items-center justify-between px-1",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a&&i.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[g&&i.jsx(Z,{variant:"ghost",size:"icon",onClick:g,className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",children:i.jsx(eC,{className:"h-5 w-5"})}),i.jsx("span",{className:"text-sm mr-2 font-bold text-slate-200",children:S})]}),(l||u)&&i.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-slate-800/50 rounded-md border border-slate-700/50 shrink-0",children:[l&&i.jsx("span",{className:"text-[10px] md:text-xs font-bold text-slate-400",children:GF(l,c)}),l&&u&&i.jsx("div",{className:"w-[1px] h-3 bg-slate-800/50"}),u&&i.jsx("span",{className:"text-[10px] md:text-xs font-bold text-slate-400",children:u})]}),n&&i.jsx("span",{className:Re("px-1.5 py-0.5 rounded text-[10px] md:text-xs font-medium shrink-0",dke(n,d)),children:uke(n)}),i.jsx("div",{className:"flex items-center gap-1 sm:gap-2 ml-auto",children:t.map((P,E)=>i.jsxs(Le,{variant:"secondary",className:Re("text-[10px] md:text-xs px-1.5 py-0",fke(P.color)),children:[P.label,": ",P.value]},E))})]}),i.jsxs("div",{className:"flex items-center gap-1 pl-4",children:[y&&i.jsxs(Z,{variant:x?"destructive":"outline",size:"sm",onClick:y,className:Re("h-8 px-2 md:px-3 text-[10px] md:text-xs font-bold gap-1",x&&"animate-pulse"),title:x?"Robot is broken down - tap to resume":"Mark robot as broken down",children:[i.jsx(Mn,{className:"h-3 w-3 md:h-4 md:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Broken?"})]}),m&&i.jsx(Z,{variant:"ghost",size:"icon",onClick:m,disabled:!h,className:Re("h-8 w-8 hover:bg-slate-800 lg:hidden",h&&"text-red-400 animate-in fade-in zoom-in duration-300"),children:i.jsx(eE,{className:"h-4 w-4"})}),i.jsx("div",{className:"lg:hidden",children:i.jsxs(zq,{children:[i.jsx(Uq,{asChild:!0,children:i.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-slate-800",children:i.jsx(kde,{className:"h-4 w-4"})})}),i.jsxs(Kq,{align:"end",className:"w-48 z-[150]",children:[r&&i.jsxs(i.Fragment,{children:[i.jsxs(Hu,{onClick:r,children:[i.jsx(rD,{className:"h-4 w-4 mr-2"}),"Action History"]}),i.jsx(DF,{})]}),e==="auto"&&w&&i.jsxs(i.Fragment,{children:[i.jsxs(Hu,{onClick:()=>N(!0),className:"text-orange-400",children:[i.jsx($4,{className:"h-4 w-4 mr-2"}),"No Show"]}),i.jsx(DF,{})]}),b&&i.jsxs(Hu,{onClick:b,className:Re(f&&"text-blue-400"),children:[i.jsx(O4,{className:Re("h-4 w-4 mr-2 transition-transform",f&&"rotate-180")}),f?"Reset Rotation":"Rotate 180"]}),i.jsx(Hu,{onClick:s,children:a?i.jsxs(i.Fragment,{children:[i.jsx(XP,{className:"h-4 w-4 mr-2"}),"Exit Fullscreen"]}):i.jsxs(i.Fragment,{children:[i.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Enter Fullscreen"]})})]})]})}),i.jsxs("div",{className:"hidden lg:flex lg:items-center lg:gap-1",children:[e==="auto"&&w&&i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>N(!0),className:"h-8 px-2 lg:px-3 text-[10px] lg:text-xs font-bold gap-1 text-orange-400 hover:text-orange-300 border-orange-500/30",title:"Robot did not show up for this match",children:[i.jsx($4,{className:"h-3 w-3 lg:h-4 lg:w-4"}),i.jsx("span",{children:"No Show"})]}),m&&i.jsx(Z,{variant:"ghost",size:"icon",onClick:m,disabled:!h,className:Re("h-8 w-8 hover:bg-slate-800",h&&"text-red-400 animate-in fade-in zoom-in duration-300"),children:i.jsx(eE,{className:"h-4 w-4"})}),o,b&&i.jsx(Z,{variant:"ghost",size:"icon",onClick:b,className:Re("h-8 w-8 hover:bg-slate-800",f&&"text-blue-400"),title:f?"Reset field orientation":"Rotate field 180",children:i.jsx(O4,{className:Re("h-4 w-4 transition-transform",f&&"rotate-180")})}),i.jsx(Z,{variant:"ghost",size:"icon",onClick:s,className:"h-8 w-8 hover:bg-slate-800",children:a?i.jsx(XP,{className:"h-4 w-4"}):i.jsx(Rv,{className:"h-4 w-4"})})]}),a&&v&&i.jsxs(Z,{onClick:v,className:Re("h-8 px-3 ml-1 text-[11px] font-bold tracking-tight gap-1",e==="teleop"&&"bg-green-600 hover:bg-green-500"),children:[i.jsx("span",{className:"hidden sm:inline",children:C}),i.jsx(Ad,{className:"h-4 w-4"})]})]}),i.jsx(to,{open:k,onOpenChange:N,children:i.jsxs(no,{className:"z-[150]",children:[i.jsxs(Go,{children:[i.jsx(ro,{children:"Confirm No Show"}),i.jsxs(cf,{children:["Are you sure team ",u," did not show up for match ",GF(l||"",c),"?",i.jsx("br",{}),i.jsx("br",{}),"This will immediately submit the match data with a no-show flag."]})]}),i.jsxs(Ym,{children:[i.jsx(Z,{variant:"outline",className:"p-4",onClick:()=>N(!1),children:"Cancel"}),i.jsx(Z,{variant:"destructive",className:"p-4",onClick:()=>{N(!1),w&&w()},children:"Confirm No Show"})]})]})})]})}function W7({pendingWaypoint:e,accumulatedFuel:t,fuelHistory:n,isFieldRotated:r,alliance:a,robotCapacity:s,onFuelSelect:o,onFuelUndo:l,climbResult:c,onClimbResultSelect:u,climbWithLevels:d=!1,climbLevel:f,onClimbLevelSelect:h,onConfirm:m,onCancel:g}){const v=e.type==="climb",b=ake(s),x=p.useRef(!0);p.useEffect(()=>{x.current=!0;const w=setTimeout(()=>{x.current=!1},150);return()=>clearTimeout(w)},[]);const y=v?d?f!==void 0&&c!==null:c!==null:t>0;return i.jsx("div",{className:Re("absolute inset-0 z-40 flex items-center pointer-events-none p-2","justify-center",a==="blue"?"md:justify-end":"md:justify-start"),children:i.jsxs(De,{className:Re("w-full max-w-sm h-fit max-h-[95%] pointer-events-auto shadow-xl flex flex-col border-border/50 bg-background/98 backdrop-blur-sm overflow-hidden gap-2",r&&"rotate-180"),children:[i.jsx(Ke,{className:"pb-1 shrink-0",children:i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx(Le,{variant:"outline",className:Re("font-bold px-2 py-0.5 shrink-0",e.type==="score"?"text-green-500 border-green-500/50":e.type==="climb"?"text-blue-500 border-blue-500/50":"text-purple-500 border-purple-500/50"),children:e.type.toUpperCase()}),i.jsx(Ge,{className:"text-lg font-bold tracking-tight",children:v?d?f?`${f} - Select Outcome`:"Select Level":"Climb Outcome":t>0?`Total: +${t}`:"Select Amount"})]})}),i.jsx($e,{className:"overflow-y-auto px-2 shrink min-h-0",children:v?d&&!f?i.jsx("div",{className:"grid grid-cols-3 gap-3 p-2",children:ske.map(w=>i.jsx(Z,{variant:"outline",onClick:()=>h==null?void 0:h(w),className:"h-16 flex flex-col gap-1 items-center justify-center border-2 transition-all rounded-xl hover:bg-blue-500/20 hover:border-blue-400",children:i.jsx("span",{className:"font-bold text-lg",children:w})},w))}):i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-2",children:[i.jsxs(Z,{variant:c==="success"?"default":"outline",onClick:()=>u("success"),className:Re("h-20 flex flex-col gap-1 items-center justify-center border-2 transition-all rounded-xl",c==="success"&&"bg-blue-600 hover:bg-blue-700 border-blue-400 text-white shadow-lg"),children:[i.jsx(Al,{className:"h-6 w-6 font-bold"}),i.jsx("span",{className:"font-bold text-sm",children:"SUCCESS"})]}),i.jsxs(Z,{variant:c==="fail"?"default":"outline",onClick:()=>u("fail"),className:Re("h-20 flex flex-col gap-1 items-center justify-center border-2 transition-all rounded-xl",c==="fail"&&"bg-red-600 hover:bg-red-700 border-red-400 text-white shadow-lg"),children:[i.jsx(Wa,{className:"h-6 w-6 font-bold"}),i.jsx("span",{className:"font-bold text-sm",children:"FAIL"})]})]}):i.jsx("div",{className:"grid grid-cols-4 gap-2 px-1",children:b.map(w=>i.jsx(Z,{variant:"outline",size:"lg",onClick:S=>{S.stopPropagation(),x.current||o(w.value,w.label)},onPointerDown:S=>S.stopPropagation(),className:"h-10 w-full text-xs md:text-sm rounded-lg font-bold transition-all",children:w.label.includes("/")||w.label==="Full"?w.label:`+${w.label}`},w.label))})}),i.jsxs(DR,{className:"flex flex-row items-center justify-between gap-3 border-t shrink-0 !pt-2",children:[i.jsx(Z,{variant:"outline",size:"icon",className:"h-12 w-12 rounded-full border-2",onClick:g,children:i.jsx(Wa,{className:"h-6 w-6 text-muted-foreground"})}),i.jsxs("div",{className:"flex flex-row gap-3",children:[!v&&i.jsx(Z,{variant:"secondary",size:"icon",className:"h-12 w-12 rounded-full border-2",onClick:w=>{w.stopPropagation(),l()},disabled:n.length===0,children:i.jsx(eE,{className:"h-6 w-6"})}),i.jsx(Z,{size:"icon",onClick:m,disabled:!y,className:"h-12 w-12 rounded-full border-2 bg-green-600 hover:bg-green-500",children:i.jsx(Al,{className:"h-6 w-6"})})]})]})]})})}const q7=p.createContext(null);function H7(){const e=p.useContext(q7);if(!e)throw new Error("useScoring must be used within a ScoringProvider");return e}function Y7({children:e,actions:t,onAddAction:n,onUndo:r,canUndo:a=!1,alliance:s,matchNumber:o,matchType:l,teamNumber:c,onBack:u,onProceed:d}){const[f,h]=p.useState(null),[m,g]=p.useState(0),[v,b]=p.useState([]),x=()=>{const $=localStorage.getItem("teleopStuckStarts");return $?JSON.parse($):{}},[y,w]=p.useState(x),S=p.useCallback($=>{w(B=>{const te=typeof $=="function"?$(B):$;return localStorage.setItem("teleopStuckStarts",JSON.stringify(te)),te})},[]),C=Object.keys(y).length>0,[k,N]=p.useState(()=>localStorage.getItem("fieldRotation")==="true"),P=p.useCallback(()=>{N($=>{const B=!$;return localStorage.setItem("fieldRotation",String(B)),B})},[]),E=p.useCallback(()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,[]),R=p.useCallback(()=>{g(0),b([])},[]),O=p.useCallback(()=>{if(v.length===0)return;const $=v[v.length-1];g(B=>Math.max(0,B-$)),b(B=>B.slice(0,-1))},[v]),K=p.useCallback(($,B,te,q)=>{const ae={id:E(),type:$,action:B,position:te,timestamp:Date.now(),...q};n(ae)},[E,n]),J=p.useMemo(()=>t.filter($=>$.type==="score").reduce(($,B)=>$+Math.abs(B.fuelDelta||0),0),[t]),Q=p.useMemo(()=>t.filter($=>$.type==="pass").reduce(($,B)=>$+Math.abs(B.fuelDelta||0),0),[t]),G=p.useCallback($=>{g(B=>B+$),b(B=>[...B,$])},[]),z=p.useCallback(()=>{if(!f||m===0)return;const $={...f,fuelDelta:f.type==="score"?-m:m,amountLabel:`${m}`};n($),h(null),g(0),b([])},[f,m,n]),U=p.useCallback($=>{h(null),g(0),b([]),$==null||$()},[]),M={actions:t,onAddAction:n,onUndo:r,canUndo:a,pendingWaypoint:f,setPendingWaypoint:h,accumulatedFuel:m,setAccumulatedFuel:g,fuelHistory:v,setFuelHistory:b,resetFuel:R,undoLastFuel:O,stuckStarts:y,setStuckStarts:S,isAnyStuck:C,isFieldRotated:k,toggleFieldOrientation:P,alliance:s,matchNumber:o,matchType:l,teamNumber:c,onBack:u,onProceed:d,generateId:E,addWaypoint:K,totalFuelScored:J,totalFuelPassed:Q,handleFuelSelect:G,handleFuelConfirm:z,handleFuelCancel:U};return i.jsx(q7.Provider,{value:M,children:e})}const Q7=p.createContext(null);function hke(){const e=p.useContext(Q7);if(!e)throw new Error("useAutoPath must be used within an AutoPathProvider");return e}function mke(){const e=H7(),t=hke();return{...e,...t}}function pke({children:e,...t}){return i.jsx(Y7,{...t,children:i.jsx(gke,{children:e})})}function gke({children:e}){const[t,n]=p.useState(null),[r,a]=p.useState(null),[s,o]=p.useState(!1),[l,c]=p.useState(null),u=p.useRef(null),[d,f]=p.useState({width:0,height:0}),[h,m]=p.useState([]),[g,v]=p.useState(!1),[b,x]=p.useState(!1),[y,w]=p.useState(!1),[S,C]=p.useState(!1);p.useEffect(()=>{const N=()=>{u.current&&f({width:u.current.offsetWidth,height:u.current.offsetHeight})};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const k=p.useMemo(()=>({selectedStartKey:t,setSelectedStartKey:n,stuckElementKey:r,setStuckElementKey:a,showPostClimbProceed:s,setShowPostClimbProceed:o,climbResult:l,setClimbResult:c,canvasDimensions:d,containerRef:u,drawingPoints:h,setDrawingPoints:m,isDrawing:g,setIsDrawing:v,isSelectingScore:b,setIsSelectingScore:x,isSelectingPass:y,setIsSelectingPass:w,isSelectingCollect:S,setIsSelectingCollect:C}),[t,r,s,l,d,h,g,b,y,S]);return i.jsx(Q7.Provider,{value:k,children:e})}const Z7=p.createContext(null);function vke(){const e=p.useContext(Z7);if(!e)throw new Error("useTeleopPath must be used within a TeleopPathProvider");return e}function yke(){const e=H7(),t=vke();return{...e,...t}}function xke({children:e,robotStatus:t,onRobotStatusUpdate:n,...r}){return i.jsx(Y7,{...r,children:i.jsx(bke,{robotStatus:t,onRobotStatusUpdate:n,children:e})})}function bke({children:e,robotStatus:t={},onRobotStatusUpdate:n}){const[r,a]=p.useState(null),[s,o]=p.useState(void 0),[l,c]=p.useState("success"),[u,d]=p.useState(!1),f=t,h=n||(()=>{}),m=p.useRef(null),[g,v]=p.useState({width:0,height:0}),[b,x]=p.useState([]),[y,w]=p.useState(!1),[S,C]=p.useState(!1),[k,N]=p.useState(!1);p.useEffect(()=>{const E=()=>{m.current&&v({width:m.current.offsetWidth,height:m.current.offsetHeight})};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const P=p.useMemo(()=>({activeZone:r,setActiveZone:a,climbLevel:s,setClimbLevel:o,climbResult:l,setClimbResult:c,showPostClimbProceed:u,setShowPostClimbProceed:d,robotStatus:f,updateRobotStatus:h,canvasDimensions:g,containerRef:m,drawingPoints:b,setDrawingPoints:x,isSelectingScore:y,setIsSelectingScore:w,isSelectingPass:S,setIsSelectingPass:C,isSelectingCollect:k,setIsSelectingCollect:N}),[r,s,l,u,f,g,b,y,S,k]);return i.jsx(Z7.Provider,{value:P,children:e})}function ep({...e}){return i.jsx(PC,{"data-slot":"sheet",...e})}function VC({...e}){return i.jsx(pR,{"data-slot":"sheet-trigger",...e})}function Fk({...e}){return i.jsx(Xy,{"data-slot":"sheet-close",...e})}function wke({...e}){return i.jsx(EC,{"data-slot":"sheet-portal",...e})}function Ske({className:e,...t}){return i.jsx(TC,{"data-slot":"sheet-overlay",className:Re("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}const Cke={side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}};function tp({className:e,children:t,side:n="right",...r}){return i.jsxs(wke,{children:[i.jsx(Ske,{}),i.jsxs(_C,{"data-slot":"sheet-content",className:Re("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed z-50 gap-4 p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",Cke.side[n],e),...r,children:[t,i.jsxs(Xy,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Wa,{className:"size-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function np({className:e,...t}){return i.jsx("div",{"data-slot":"sheet-header",className:Re("flex flex-col gap-2 text-center sm:text-left",e),...t})}function jke({className:e,...t}){return i.jsx("div",{"data-slot":"sheet-footer",className:Re("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function rp({className:e,...t}){return i.jsx(gR,{"data-slot":"sheet-title",className:Re("text-lg font-semibold text-foreground",e),...t})}function J7({className:e,...t}){return i.jsx(vR,{"data-slot":"sheet-description",className:Re("text-muted-foreground text-sm",e),...t})}function Nke(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var LR="ScrollArea",[X7]=bs(LR),[kke,xi]=X7(LR),eY=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,g]=p.useState(null),[v,b]=p.useState(null),[x,y]=p.useState(0),[w,S]=p.useState(0),[C,k]=p.useState(!1),[N,P]=p.useState(!1),E=Vt(t,O=>c(O)),R=qy(a);return i.jsx(kke,{scope:n,type:r,dir:R,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:P,onCornerWidthChange:y,onCornerHeightChange:S,children:i.jsx(bt.div,{dir:R,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});eY.displayName=LR;var tY="ScrollAreaViewport",nY=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...s}=e,o=xi(tY,n),l=p.useRef(null),c=Vt(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(bt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});nY.displayName=tY;var Wo="ScrollAreaScrollbar",rY=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=xi(Wo,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(Ake,{...r,ref:t,forceMount:n}):a.type==="scroll"?i.jsx(Pke,{...r,ref:t,forceMount:n}):a.type==="auto"?i.jsx(aY,{...r,ref:t,forceMount:n}):a.type==="always"?i.jsx($R,{...r,ref:t}):null});rY.displayName=Wo;var Ake=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=xi(Wo,e.__scopeScrollArea),[s,o]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(Ur,{present:n||s,children:i.jsx(aY,{"data-state":s?"visible":"hidden",...r,ref:t})})}),Pke=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=xi(Wo,e.__scopeScrollArea),s=e.orientation==="horizontal",o=UC(()=>c("SCROLL_END"),100),[l,c]=Nke("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(Ur,{present:n||l!=="hidden",children:i.jsx($R,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:rt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:rt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),aY=p.forwardRef((e,t)=>{const n=xi(Wo,e.__scopeScrollArea),{forceMount:r,...a}=e,[s,o]=p.useState(!1),l=e.orientation==="horizontal",c=UC(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return gm(n.viewport,c),gm(n.content,c),i.jsx(Ur,{present:r||s,children:i.jsx($R,{"data-state":s?"visible":"hidden",...a,ref:t})})}),$R=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=xi(Wo,e.__scopeScrollArea),s=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=cY(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return Mke(h,o.current,l,m)}return n==="horizontal"?i.jsx(Eke,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=WF(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):n==="vertical"?i.jsx(Tke,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=WF(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Eke=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=xi(Wo,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Vt(t,c,s.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(iY,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zC(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),dY(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:g1(o.paddingLeft),paddingEnd:g1(o.paddingRight)}})}})}),Tke=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=xi(Wo,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Vt(t,c,s.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(iY,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zC(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),dY(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:g1(o.paddingTop),paddingEnd:g1(o.paddingBottom)}})}})}),[_ke,sY]=X7(Wo),iY=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=xi(Wo,n),[g,v]=p.useState(null),b=Vt(t,E=>v(E)),x=p.useRef(null),y=p.useRef(""),w=m.viewport,S=r.content-r.viewport,C=sa(d),k=sa(c),N=UC(f,10);function P(E){if(x.current){const R=E.clientX-x.current.left,O=E.clientY-x.current.top;u({x:R,y:O})}}return p.useEffect(()=>{const E=R=>{const O=R.target;(g==null?void 0:g.contains(O))&&C(R,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,g,S,C]),p.useEffect(k,[r,k]),gm(g,N),gm(m.content,N),i.jsx(_ke,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:sa(s),onThumbPointerUp:sa(o),onThumbPositionChange:k,onThumbPointerDown:sa(l),children:i.jsx(bt.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:rt(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(E))}),onPointerMove:rt(e.onPointerMove,P),onPointerUp:rt(e.onPointerUp,E=>{const R=E.target;R.hasPointerCapture(E.pointerId)&&R.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),p1="ScrollAreaThumb",oY=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=sY(p1,e.__scopeScrollArea);return i.jsx(Ur,{present:n||a.hasThumb,children:i.jsx(Dke,{ref:t,...r})})}),Dke=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,s=xi(p1,n),o=sY(p1,n),{onThumbPositionChange:l}=o,c=Vt(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=UC(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=Ike(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(bt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:rt(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,v=f.clientY-m.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:rt(e.onPointerUp,o.onThumbPointerUp)})});oY.displayName=p1;var FR="ScrollAreaCorner",lY=p.forwardRef((e,t)=>{const n=xi(FR,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(Rke,{...e,ref:t}):null});lY.displayName=FR;var Rke=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=xi(FR,n),[s,o]=p.useState(0),[l,c]=p.useState(0),u=!!(s&&l);return gm(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),gm(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(bt.div,{...r,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function g1(e){return e?parseInt(e,10):0}function cY(e,t){const n=e/t;return isNaN(n)?0:n}function zC(e){const t=cY(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Mke(e,t,n,r="ltr"){const a=zC(n),s=a/2,o=t||s,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return uY([c,u],f)(e)}function WF(e,t,n="ltr"){const r=zC(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=EE(e,c);return uY([0,o],[0,l])(u)}function uY(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function dY(e,t){return e>0&&e<t}var Ike=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&t(),n=s,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function UC(e,t){const n=sa(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function gm(e,t){const n=sa(t);wr(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var Oke=eY,Lke=nY,$ke=lY;function BR({className:e,children:t,orientation:n="both",...r}){return i.jsxs(Oke,{"data-slot":"scroll-area",className:Re("relative",e),...r,children:[i.jsx(Lke,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(n==="vertical"||n==="both")&&i.jsx(qF,{orientation:"vertical"}),(n==="horizontal"||n==="both")&&i.jsx(qF,{orientation:"horizontal"}),i.jsx($ke,{})]})}function qF({className:e,orientation:t="vertical",...n}){return i.jsx(rY,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e),...n,children:i.jsx(oY,{className:"bg-border relative flex-1 rounded-full"})})}function Fke(e){const t=Object.entries(Jc).find(([n,r])=>r.pathType!==e.type?!1:e.type==="climb"&&e.action==="climb-success"?n==="autoClimb":e.type==="collect"&&"pathAction"in r&&r.pathAction?r.pathAction===e.action:!0);if(t){const[,n]=t;return{label:n.label,points:n.points.auto||0}}return{label:e.type.charAt(0).toUpperCase()+e.type.slice(1),points:0}}function Bke({actions:e,totalScore:t,open:n,onOpenChange:r}){return i.jsxs(ep,{open:n,onOpenChange:r,children:[i.jsx(VC,{asChild:!0,children:i.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-slate-800",children:i.jsx(rD,{className:"h-4 w-4"})})}),i.jsxs(tp,{side:"right",className:"w-[300px] sm:w-[400px] z-[110]",children:[i.jsx(np,{className:"pb-4",children:i.jsxs(rp,{className:"flex items-center justify-between w-full pr-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(bG,{className:"h-5 w-5"}),i.jsx("span",{children:"History"})]}),i.jsxs(Le,{variant:"outline",className:"text-xs font-mono",children:["Score: ",t]})]})}),i.jsx(BR,{className:"h-[calc(100vh-100px)] pr-4",children:i.jsx("div",{className:"space-y-3",children:e.length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No actions recorded yet."}):[...e].reverse().map((a,s)=>{const o=Fke(a);return i.jsxs("div",{className:"flex flex-col gap-1 p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Le,{variant:"outline",className:"text-[10px] font-mono",children:["#",e.length-s]}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-bold text-sm text-foreground",children:o.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[a.amountLabel&&i.jsx(Le,{variant:"secondary",className:"text-[10px]",children:a.amountLabel}),o.points>0&&i.jsxs(Le,{variant:"default",className:"text-xs",children:["+",o.points]})]})]}),a.action&&i.jsx("div",{className:"text-xs text-muted-foreground italic",children:a.action})]},a.id)})})})]})]})}function Vke({selectedStartKey:e,alliance:t,isFieldRotated:n,startPositionX:r,onConfirm:a,onCancel:s}){const o=cl[e];return o?i.jsx("div",{className:Re("absolute inset-0 z-30 flex items-center pointer-events-none",t==="red"?"justify-start pl-[10%]":"justify-end pr-[10%]",n&&"rotate-180"),children:i.jsxs(De,{className:"w-72 pointer-events-auto shadow-2xl border-primary/20",children:[i.jsx(Ke,{className:"text-center pb-2",children:i.jsx(Ge,{className:"text-2xl font-bold",children:o.name})}),i.jsxs(DR,{className:"flex flex-col gap-2 pt-2",children:[i.jsx(Z,{onClick:()=>{console.log("[AutoStart] Confirming start:",{key:e,elementX:o.x,elementY:o.y,overrideX:r,finalPosition:{x:r,y:o.y}}),a(e,{x:r,y:o.y})},className:"w-full h-12 text-base font-bold",children:"Confirm Start"}),i.jsx(Z,{variant:"ghost",onClick:s,className:"w-full h-10 text-muted-foreground",children:"Cancel"})]})]})}):null}function zke(e){var r,a;const n=((a=(r=Ja().state)==null?void 0:r.inputs)==null?void 0:a.alliance)||"blue";return i.jsx(pke,{actions:e.actions,onAddAction:e.onAddAction,onUndo:e.onUndo,canUndo:e.canUndo,alliance:n,matchNumber:e.matchNumber,matchType:e.matchType,teamNumber:e.teamNumber,onBack:e.onBack,onProceed:e.onProceed,children:i.jsx(Uke,{})})}function Uke(){const{actions:e,onAddAction:t,onUndo:n,canUndo:r,pendingWaypoint:a,setPendingWaypoint:s,accumulatedFuel:o,setAccumulatedFuel:l,fuelHistory:c,setFuelHistory:u,stuckStarts:d,setStuckStarts:f,isAnyStuck:h,isFieldRotated:m,toggleFieldOrientation:g,alliance:v,matchNumber:b,matchType:x,teamNumber:y,onBack:w,onProceed:S,generateId:C,selectedStartKey:k,setSelectedStartKey:N,stuckElementKey:P,setStuckElementKey:E,showPostClimbProceed:R,setShowPostClimbProceed:O,climbResult:K,setClimbResult:J,canvasDimensions:Q,containerRef:G,isSelectingScore:z,setIsSelectingScore:U,isSelectingPass:M,setIsSelectingPass:$,isSelectingCollect:B,setIsSelectingCollect:te}=mke(),q=zo(),ae=Ja(),{transformation:he}=uf(),je=p.useRef(null),Ee=p.useRef(null),[me,Ve]=p.useState(!1),[ne]=p.useState("allianceZone"),[ke,we]=p.useState(),[re,He]=p.useState(!1),[Oe,Xe]=p.useState(()=>{const ee=localStorage.getItem("autoBrokenDownStart");return ee?parseInt(ee,10):null}),[Fe,Se]=p.useState(()=>{const ee=localStorage.getItem("autoBrokenDownTime");return ee?parseInt(ee,10):0}),de=Oe!==null,ve=Gm();p.useEffect(()=>{(async()=>{if(y)try{const Ne=localStorage.getItem("eventKey")||"",ge=await Jm(Number(y),Ne);ge&&ge.gameData&&we(ge.gameData.fuelCapacity)}catch(Ne){console.error("Failed to load pit scouting data:",Ne)}})()},[y]);const Nt=K7[ne];p.useEffect(()=>{ve&&Ve(!0)},[ve]);const We=e.reduce((ee,Ne)=>{const ge=Object.entries(Jc).find(([Ue,st])=>st.pathType!==Ne.type?!1:Ne.type==="climb"&&Ne.action==="climb-success"?Ue==="autoClimb":Ne.type==="collect"&&"pathAction"in st&&st.pathAction?st.pathAction===Ne.action:Ne.type==="score"?Ue==="fuelScored":!0);if(ge){const[,Ue]=ge,st=Ue.points.auto||0;return Ne.type==="score"&&Ne.fuelDelta?ee+st*Math.abs(Ne.fuelDelta):ee+st}return ee},0),kt=e.filter(ee=>ee.type==="score").reduce((ee,Ne)=>ee+Math.abs(Ne.fuelDelta||0),0),ct=e.filter(ee=>ee.type==="pass").reduce((ee,Ne)=>ee+Math.abs(Ne.fuelDelta||0),0),Ft=p.useCallback((ee,Ne,ge,Ue,st)=>{const Ye={id:C(),type:ee,action:Ne,position:ge,fuelDelta:Ue,amountLabel:st,timestamp:Date.now()};t(Ye)},[t,C]),nn=()=>{if(Oe){const ee=Date.now()-Oe,Ne=Fe+ee;Se(Ne),localStorage.setItem("autoBrokenDownTime",String(Ne)),Xe(null),localStorage.removeItem("autoBrokenDownStart")}else{const ee=Date.now();Xe(ee),localStorage.setItem("autoBrokenDownStart",String(ee))}},Et=ee=>{const Ne=cl[ee];if(!Ne)return;const ge={x:Ne.x,y:Ne.y};if(d[ee]){const Ue=d[ee],st=ee.includes("trench")?"trench":"bump",Ye=Date.now()-Ue;Ft("traversal",`${st}-stuck`,ge,void 0,`${Math.round(Ye/1e3)}s`),f(Ht=>{const wt={...Ht};return delete wt[ee],wt});return}if(P===ee){Ee.current&&(clearTimeout(Ee.current),Ee.current=null),E(null),f(Ue=>({...Ue,[ee]:Date.now()}));return}if(z){switch(ee){case"shot_hub":case"shot_outpost_close":case"shot_outpost_medium":case"shot_outpost_far":case"shot_depot_close":case"shot_depot_medium":case"shot_depot_far":Lt(ge,ee);break}return}if(!(a||M||B||k||h||de)){if(e.length===0){["trench1","bump1","hub","bump2","trench2"].includes(ee)&&N(ee);return}switch(ee){case"hub":U(!0);break;case"depot":case"outpost":Ft("collect",ee,ge,8);break;case"tower":{const st={id:C(),type:"climb",action:"attempt",position:ge,timestamp:Date.now()};s(st),J("success");break}case"trench1":case"trench2":case"bump1":case"bump2":const Ue=ee.includes("trench")?"trench":"bump";Ft("traversal",Ue,ge);break;case"pass":case"pass_alliance":$(!0),Lt(ge,ee,!0);break;case"collect_neutral":case"collect_alliance":te(!0),Lt(ge,ee,void 0,!0);break;case"opponent_foul":Ft("foul","mid-line-penalty",ge);break}}},Lt=(ee,Ne,ge,Ue)=>{if(z){const st={id:C(),type:"score",position:ee,action:Ne,fuelDelta:-8,amountLabel:"...",timestamp:Date.now()};l(0),u([]),s(st),U(!1)}else if(M||ge){const st={id:C(),type:"pass",position:ee,action:"partner",fuelDelta:0,amountLabel:"...",timestamp:Date.now()};l(0),u([]),s(st),$(!1)}else(B||Ue)&&(Ft("collect","field",ee,8),te(!1))},An=()=>{Oe&&Xe(null),n&&n()},mn=async()=>{var ee;await sx({inputs:(ee=ae.state)==null?void 0:ee.inputs,transformation:he,noShow:!0,onSuccess:()=>q("/game-start")})},Zn=i.jsxs("div",{className:Re("flex flex-col gap-2",me&&"h-full"),children:[i.jsx(BC,{phase:"auto",stats:[{label:"Scored",value:kt,color:"green"},{label:"Passed",value:ct,color:"purple"}],currentZone:ne,isFullscreen:me,onFullscreenToggle:()=>Ve(!me),actionLogSlot:i.jsx(Bke,{actions:e,totalScore:We,open:re,onOpenChange:He}),onActionLogOpen:()=>He(!0),matchNumber:b,matchType:x,teamNumber:y,alliance:v,isFieldRotated:m,canUndo:r,onUndo:An,onBack:w,onProceed:()=>{if(Oe){const ee=Date.now()-Oe,Ne=Fe+ee;localStorage.setItem("autoBrokenDownTime",String(Ne))}S&&S()},toggleFieldOrientation:g,isBrokenDown:de,onBrokenDownToggle:nn,onNoShow:mn}),i.jsxs("div",{ref:G,className:Re("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none","w-full aspect-[2/1]",me?"max-h-[85vh] m-auto":"h-auto",m&&"rotate-180"),children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx($d,{ref:je,actions:e,pendingWaypoint:a,alliance:v,isFieldRotated:m,width:Q.width,height:Q.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!0,drawingZoneBounds:Nt}),!z&&!M&&!B&&i.jsx("div",{className:"absolute inset-0 z-10",children:e.length===0?i.jsx(i.Fragment,{children:ike.map(ee=>i.jsx(ev,{elementKey:ee,element:cl[ee],isVisible:!0,onClick:Et,alliance:v,isFieldRotated:m,containerWidth:Q.width,overrideX:.28,isDisabled:!!(a||z||M||B||k)},ee))}):i.jsx(i.Fragment,{children:G7("auto",ne).map(ee=>{const Ne=!!d[ee],ge=!!(a||z||M||B||k);return i.jsx(ev,{elementKey:ee,element:cl[ee],isVisible:!0,onClick:Et,alliance:v,isFieldRotated:m,containerWidth:Q.width,isStuck:Ne,isPotentialStuck:P===ee,isDisabled:ge||h&&!Ne},ee)})})}),z&&i.jsx("div",{className:"absolute inset-0 z-20",children:U7.map(ee=>i.jsx(ev,{elementKey:ee,element:cl[ee],isVisible:!0,onClick:Et,alliance:v,isFieldRotated:m,containerWidth:Q.width,isDisabled:!1},ee))}),z&&i.jsx("div",{className:Re("absolute inset-0 z-30 flex items-end justify-center pb-4 pointer-events-none",m&&"rotate-180"),children:i.jsxs(De,{className:"pointer-events-auto bg-background/95 backdrop-blur-sm border-green-500/50 shadow-2xl py-2 px-3 flex flex-row items-center gap-4",children:[i.jsx(Le,{variant:"default",className:"bg-green-600",children:"SCORING MODE"}),i.jsx("span",{className:"text-sm font-medium",children:"Select (approximately) Where They Are"}),i.jsx(Z,{onClick:ee=>{ee.stopPropagation(),U(!1)},variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",children:""})]})}),M&&i.jsx("div",{className:Re("absolute inset-0 z-30 flex items-end justify-center pb-4 pointer-events-none",m&&"rotate-180"),children:i.jsxs(De,{className:"pointer-events-auto bg-background/95 backdrop-blur-sm border-purple-500/50 shadow-2xl py-2 px-3 flex flex-row items-center gap-4",children:[i.jsx(Le,{variant:"default",className:"bg-purple-600",children:"PASSING MODE"}),i.jsx("span",{className:"text-sm font-medium",children:"Tap or draw where the robot passed from"}),i.jsx(Z,{onClick:ee=>{ee.stopPropagation(),$(!1)},variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",children:""})]})}),B&&i.jsx("div",{className:Re("absolute inset-0 z-30 flex items-end justify-center pb-4 pointer-events-none",m&&"rotate-180"),children:i.jsxs(De,{className:"pointer-events-auto bg-background/95 backdrop-blur-sm border-yellow-500/50 shadow-2xl py-2 px-3 flex flex-row items-center gap-4",children:[i.jsx(Le,{variant:"default",className:"bg-yellow-600",children:"COLLECT MODE"}),i.jsx("span",{className:"text-sm font-medium",children:"Tap or draw where the robot collected"}),i.jsx(Z,{onClick:ee=>{ee.stopPropagation(),te(!1)},variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",children:""})]})}),e.length===0&&k&&(()=>{const ee=cl[k],Ne=ee?ee.x:.15;return i.jsx(Vke,{selectedStartKey:k,alliance:v,isFieldRotated:m,startPositionX:Ne,onConfirm:(ge,Ue)=>{Ft("start",ge,Ue),N(null)},onCancel:()=>N(null)})})(),R&&S&&i.jsx(fY,{isFieldRotated:m,onProceed:S,onStay:()=>O(!1),nextPhaseName:"Teleop"}),a&&i.jsx(W7,{pendingWaypoint:a,accumulatedFuel:o,fuelHistory:c,climbResult:K,isFieldRotated:m,alliance:v,robotCapacity:ke,onFuelSelect:ee=>{l(Ne=>Ne+ee),u(Ne=>[...Ne,ee])},onFuelUndo:()=>{if(c.length===0)return;const ee=c[c.length-1];l(Ne=>Math.max(0,Ne-ee)),u(Ne=>Ne.slice(0,-1))},onClimbResultSelect:J,onConfirm:()=>{let ee=0,Ne="",ge=a.action;a.type==="climb"?(ge=K==="success"?"climb-success":"climb-fail",Ne=K==="success"?"Succeeded":"Failed"):(ee=a.type==="score"||a.type==="pass"?-o:0,Ne=a.type==="score"?`+${o}`:`Pass (${o})`);const Ue={...a,fuelDelta:ee,amountLabel:Ne,action:ge};t(Ue),s(null),l(0),u([]),J(null),Ue.type==="climb"&&S&&O(!0)},onCancel:()=>{s(null),l(0),u([])}})]})]});return me?i.jsx("div",{className:"fixed inset-0 z-[100] bg-background p-4 flex flex-col",children:Zn}):Zn}function HF(e){const t=Object.entries(Jc).find(([n,r])=>{if(r.pathType!==e.type)return!1;if(e.type==="climb"&&e.climbResult==="success"){if(e.climbLevel==="L1")return n==="climbL1";if(e.climbLevel==="L2")return n==="climbL2";if(e.climbLevel==="L3")return n==="climbL3"}return!0});if(t){const[,n]=t;return{label:n.label,points:n.points.teleop||0}}return{label:e.type.charAt(0).toUpperCase()+e.type.slice(1),points:0}}function Kke({actions:e,open:t,onOpenChange:n}){const r=e.reduce((a,s)=>{const o=HF(s);return s.type==="score"&&s.fuelDelta?a+o.points*Math.abs(s.fuelDelta):a+o.points},0);return i.jsxs(ep,{open:t,onOpenChange:n,children:[i.jsx(VC,{asChild:!0,children:i.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-slate-800",children:i.jsx(rD,{className:"h-4 w-4"})})}),i.jsxs(tp,{side:"right",className:"w-[300px] sm:w-[400px] z-[110]",children:[i.jsx(np,{className:"pb-4",children:i.jsxs(rp,{className:"flex items-center justify-between w-full pr-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(bG,{className:"h-5 w-5"}),i.jsx("span",{children:"History"})]}),i.jsxs(Le,{variant:"outline",className:"text-xs font-mono",children:["Score: ",r]})]})}),i.jsx(BR,{className:"h-[calc(100vh-100px)] pr-4",children:i.jsx("div",{className:"space-y-3",children:e.length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No actions recorded yet."}):[...e].reverse().map((a,s)=>{const o=HF(a);return i.jsxs("div",{className:"flex flex-col gap-1 p-3 rounded-lg bg-accent/50 border border-border",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Le,{variant:"outline",className:"text-[10px] font-mono",children:["#",e.length-s]}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-bold text-sm text-foreground",children:o.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[a.amountLabel&&i.jsx(Le,{variant:"secondary",className:"text-[10px]",children:a.amountLabel}),o.points>0&&i.jsxs(Le,{variant:"default",className:"text-xs",children:["+",o.points]})]})]}),a.action&&i.jsx("div",{className:"text-xs text-muted-foreground italic",children:a.action})]},a.id)})})})]})]})}function fY({isFieldRotated:e,onProceed:t,onStay:n,nextPhaseName:r="Next Phase"}){return i.jsx("div",{className:Re("absolute inset-0 z-50 flex items-center justify-center backdrop-blur-sm pointer-events-none p-4",e&&"rotate-180"),children:i.jsxs(De,{className:"w-full max-w-sm pointer-events-auto shadow-2xl animate-in zoom-in duration-300",children:[i.jsxs(Ke,{className:"text-center pb-2",children:[i.jsx("div",{className:"mx-auto w-12 h-12 rounded-full flex items-center justify-center mb-2",children:i.jsx(Ad,{className:"h-6 w-6"})}),i.jsx(Ge,{className:"text-xl font-bold",children:"Climb Recorded"}),i.jsx("p",{className:"text-sm",children:"Would you like to move to the next phase?"})]}),i.jsxs(DR,{className:"flex flex-col gap-2 pt-2",children:[i.jsxs(Z,{onClick:t,className:"w-full h-12 text-base font-bold",children:["Proceed to ",r]}),i.jsx(Z,{variant:"ghost",onClick:n,className:"w-full h-10",children:"Stay on Page"})]})]})})}const Gke=!1;function Wke(){const[e,t]=p.useState(null),[n,r]=p.useState(!1);p.useEffect(()=>{const o=l=>{l.preventDefault(),t(l);const u=localStorage.getItem("install-prompt-dismissed"),d=Date.now(),f=u?(d-parseInt(u))/(1e3*60*60*24):999;!u||f>=7?setTimeout(()=>r(!0),5e3):console.log(`Install prompt suppressed. ${Math.ceil(7-f)} days remaining.`)};return window.addEventListener("beforeinstallprompt",o),()=>{window.removeEventListener("beforeinstallprompt",o)}},[]);const a=async()=>{if(!e){const o=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),l=/iPad|iPhone|iPod/.test(navigator.userAgent);let c="";l?c=`To install this app on iOS:

1. Tap the Share button () in Safari
2. Scroll down and tap "Add to Home Screen"
3. Tap "Add" to install`:o?c=`To install this app:

1. Tap the menu () in your browser
2. Look for "Install app" or "Add to Home screen"
3. Tap it to install`:c=`To install this app:

1. Look for the install icon () in your browser's address bar
2. Click it to install
3. Or use your browser menu: Settings > Install App`,alert(c+`

Enjoy offline access!`),r(!1);return}localStorage.removeItem("install-prompt-dismissed");try{e.prompt();const{outcome:o}=await e.userChoice;o==="accepted"?console.log(" PWA installation accepted"):localStorage.setItem("install-prompt-dismissed",Date.now().toString())}catch(o){console.error("Install prompt error:",o)}t(null),r(!1)},s=()=>{localStorage.setItem("install-prompt-dismissed",Date.now().toString()),r(!1)};return n?i.jsx(De,{className:"fixed bottom-20 left-4 right-4 z-50 mx-auto max-w-sm shadow-lg",children:i.jsx($e,{children:i.jsxs("div",{className:"relative",children:[i.jsx(Z,{size:"sm",variant:"ghost",onClick:s,className:"absolute -top-2 -left-2 h-6 w-6 p-0 rounded-full",children:i.jsx(Wa,{className:"h-4 w-4"})}),i.jsx("div",{className:"flex flex-col",children:i.jsxs("div",{className:"flex-1 justify-center items-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 py-1",children:[i.jsx(No,{className:"h-6 w-6 text-blue-600 shrink-0 mt-1"}),i.jsx("p",{className:"font-semibold text-sm",children:"Install App"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center py-1",children:"Install this app for faster access and offline use"}),Gke,i.jsx("div",{className:"flex gap-2 mt-3",children:i.jsx(Z,{size:"sm",onClick:a,className:"flex-1",children:"Install"})})]})})]})})}):null}function qke(){const[e,t]=p.useState(!1),[n,r]=p.useState(null);p.useEffect(()=>{if("serviceWorker"in navigator){const o=c=>{r(c.detail.waiting),t(!0)},l=()=>{t(!1),oe.success("App updated successfully!")};return navigator.serviceWorker.ready.then(c=>{c.waiting&&(r(c.waiting),t(!0)),c.addEventListener("updatefound",()=>{const u=c.installing;u&&u.addEventListener("statechange",()=>{u.state==="installed"&&navigator.serviceWorker.controller&&(r(u),t(!0))})})}),window.addEventListener("sw-update-available",o),window.addEventListener("sw-update-installed",l),()=>{window.removeEventListener("sw-update-available",o),window.removeEventListener("sw-update-installed",l)}}},[]);const a=()=>{n&&(n.postMessage({type:"SKIP_WAITING"}),t(!1),window.location.reload())},s=()=>{t(!1)};return e?i.jsx(De,{className:"fixed bottom-4 right-4 z-50 w-80 shadow-lg",children:i.jsx($e,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"A new version is available!"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Update now to get the latest features and improvements."}),i.jsx("p",{className:"text-xs text-red-400",children:"WARNING: This will refresh the app and apply the update."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{size:"sm",onClick:a,children:"Update Now"}),i.jsx(Z,{size:"sm",variant:"outline",onClick:s,children:"Later"})]})]})})}):null}p.createContext(null);var Hke=Object.defineProperty,v1=Object.getOwnPropertySymbols,hY=Object.prototype.hasOwnProperty,mY=Object.prototype.propertyIsEnumerable,YF=(e,t,n)=>t in e?Hke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GE=(e,t)=>{for(var n in t||(t={}))hY.call(t,n)&&YF(e,n,t[n]);if(v1)for(var n of v1(t))mY.call(t,n)&&YF(e,n,t[n]);return e},WE=(e,t)=>{var n={};for(var r in e)hY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&v1)for(var r of v1(e))t.indexOf(r)<0&&mY.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Fd;(e=>{const t=class Yt{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Yt.MIN_VERSION||c>Yt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),f==-1){let g=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const b=this.getPenaltyScore();b<g&&(f=v,g=b),this.applyMask(v)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Yt.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Yt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,h=-1,m=!0){if(!(Yt.MIN_VERSION<=d&&d<=f&&f<=Yt.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,v;for(g=d;;g++){const w=Yt.getNumDataCodewords(g,u)*8,S=o.getTotalBits(c,g);if(S<=w){v=S;break}if(g>=f)throw new RangeError("Data too long")}for(const w of[Yt.Ecc.MEDIUM,Yt.Ecc.QUARTILE,Yt.Ecc.HIGH])m&&v<=Yt.getNumDataCodewords(g,w)*8&&(u=w);let b=[];for(const w of c){n(w.mode.modeBits,4,b),n(w.numChars,w.mode.numCharCountBits(g),b);for(const S of w.getData())b.push(S)}a(b.length==v);const x=Yt.getNumDataCodewords(g,u)*8;a(b.length<=x),n(0,Math.min(4,x-b.length),b),n(0,(8-b.length%8)%8,b),a(b.length%8==0);for(let w=236;b.length<x;w^=253)n(w,8,b);let y=[];for(;y.length*8<b.length;)y.push(0);return b.forEach((w,S)=>y[S>>>3]|=w<<7-(S&7)),new Yt(g,u,y,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;a(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;a(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),m=c+f,g=u+d;0<=m&&m<this.size&&0<=g&&g<this.size&&this.setFunctionModule(m,g,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Yt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Yt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=Yt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor(Yt.getNumRawDataModules(u)/8),g=f-m%f,v=Math.floor(m/f);let b=[];const x=Yt.reedSolomonComputeDivisor(h);for(let w=0,S=0;w<f;w++){let C=c.slice(S,S+v-h+(w<g?0:1));S+=C.length;const k=Yt.reedSolomonComputeRemainder(C,x);w<g&&C.push(0),b.push(C.concat(k))}let y=[];for(let w=0;w<b[0].length;w++)b.forEach((S,C)=>{(w!=v-h||C>=g)&&y.push(S[w])});return a(y.length==m),y}drawCodewords(c){if(c.length!=Math.floor(Yt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=d-h,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][m]&&u<c.length*8&&(this.modules[v][m]=r(c[u>>>3],7-(u&7)),u++)}}a(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let m=!1,g=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[h][b]==m?(g++,g==5?c+=Yt.PENALTY_N1:g>5&&c++):(this.finderPenaltyAddHistory(g,v),m||(c+=this.finderPenaltyCountPatterns(v)*Yt.PENALTY_N3),m=this.modules[h][b],g=1);c+=this.finderPenaltyTerminateAndCount(m,g,v)*Yt.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,g=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][h]==m?(g++,g==5?c+=Yt.PENALTY_N1:g>5&&c++):(this.finderPenaltyAddHistory(g,v),m||(c+=this.finderPenaltyCountPatterns(v)*Yt.PENALTY_N3),m=this.modules[b][h],g=1);c+=this.finderPenaltyTerminateAndCount(m,g,v)*Yt.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const g=this.modules[h][m];g==this.modules[h][m+1]&&g==this.modules[h+1][m]&&g==this.modules[h+1][m+1]&&(c+=Yt.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,g)=>m+(g?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return a(0<=f&&f<=9),c+=f*Yt.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Yt.MIN_VERSION||c>Yt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Yt.getNumRawDataModules(c)/8)-Yt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Yt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let h=0;h<u.length;h++)u[h]=Yt.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=Yt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const h=f^d.shift();d.push(0),u.forEach((m,g)=>d[g]^=Yt.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return a(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];a(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const s=class cr{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new cr(cr.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!cr.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new cr(cr.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!cr.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=cr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=cr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(cr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new cr(cr.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:cr.isNumeric(c)?[cr.makeNumeric(c)]:cr.isAlphanumeric(c)?[cr.makeAlphanumeric(c)]:[cr.makeBytes(cr.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new cr(cr.Mode.ECI,0,u)}static isNumeric(c){return cr.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return cr.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;e.QrSegment=s})(Fd||(Fd={}));(e=>{(t=>{const n=class{constructor(a,s){this.ordinal=a,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Fd||(Fd={}));(e=>{(t=>{const n=class{constructor(a,s){this.modeBits=a,this.numBitsCharCount=s}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Fd||(Fd={}));var Sh=Fd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Yke={L:Sh.QrCode.Ecc.LOW,M:Sh.QrCode.Ecc.MEDIUM,Q:Sh.QrCode.Ecc.QUARTILE,H:Sh.QrCode.Ecc.HIGH},pY=128,gY="L",vY="#FFFFFF",yY="#000000",xY=!1,bY=1,Qke=4,Zke=0,Jke=.1;function wY(e,t=0){const n=[];return e.forEach(function(r,a){let s=null;r.forEach(function(o,l){if(!o&&s!==null){n.push(`M${s+t} ${a+t}h${l-s}v1H${s+t}z`),s=null;return}if(l===r.length-1){if(!o)return;s===null?n.push(`M${l+t},${a+t} h1v1H${l+t}z`):n.push(`M${s+t},${a+t} h${l+1-s}v1H${s+t}z`);return}o&&s===null&&(s=l)})}),n.join("")}function SY(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((a,s)=>s<t.x||s>=t.x+t.w?a:!1))}function Xke(e,t,n,r){if(r==null)return null;const a=e.length+n*2,s=Math.floor(t*Jke),o=a/t,l=(r.width||s)*o,c=(r.height||s)*o,u=r.x==null?e.length/2-l/2:r.x*o,d=r.y==null?e.length/2-c/2:r.y*o,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let g=Math.floor(u),v=Math.floor(d),b=Math.ceil(l+u-g),x=Math.ceil(c+d-v);h={x:g,y:v,w:b,h:x}}const m=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:f,crossOrigin:m}}function eAe(e,t){return t!=null?Math.max(Math.floor(t),0):e?Qke:Zke}function CY({value:e,level:t,minVersion:n,includeMargin:r,marginSize:a,imageSettings:s,size:o,boostLevel:l}){let c=qe.useMemo(()=>{const g=(Array.isArray(e)?e:[e]).reduce((v,b)=>(v.push(...Sh.QrSegment.makeSegments(b)),v),[]);return Sh.QrCode.encodeSegments(g,Yke[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=qe.useMemo(()=>{let m=c.getModules();const g=eAe(r,a),v=m.length+g*2,b=Xke(m,o,g,s);return{cells:m,margin:g,numCells:v,calculatedImageSettings:b}},[c,o,s,r,a]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var tAe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),nAe=qe.forwardRef(function(t,n){const r=t,{value:a,size:s=pY,level:o=gY,bgColor:l=vY,fgColor:c=yY,includeMargin:u=xY,minVersion:d=bY,boostLevel:f,marginSize:h,imageSettings:m}=r,v=WE(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=v,x=WE(v,["style"]),y=m==null?void 0:m.src,w=qe.useRef(null),S=qe.useRef(null),C=qe.useCallback(Q=>{w.current=Q,typeof n=="function"?n(Q):n&&(n.current=Q)},[n]),[k,N]=qe.useState(!1),{margin:P,cells:E,numCells:R,calculatedImageSettings:O}=CY({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:s});qe.useEffect(()=>{if(w.current!=null){const Q=w.current,G=Q.getContext("2d");if(!G)return;let z=E;const U=S.current,M=O!=null&&U!==null&&U.complete&&U.naturalHeight!==0&&U.naturalWidth!==0;M&&O.excavation!=null&&(z=SY(E,O.excavation));const $=window.devicePixelRatio||1;Q.height=Q.width=s*$;const B=s/R*$;G.scale(B,B),G.fillStyle=l,G.fillRect(0,0,R,R),G.fillStyle=c,tAe?G.fill(new Path2D(wY(z,P))):E.forEach(function(te,q){te.forEach(function(ae,he){ae&&G.fillRect(he+P,q+P,1,1)})}),O&&(G.globalAlpha=O.opacity),M&&G.drawImage(U,O.x+P,O.y+P,O.w,O.h)}}),qe.useEffect(()=>{N(!1)},[y]);const K=GE({height:s,width:s},b);let J=null;return y!=null&&(J=qe.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{N(!0)},ref:S,crossOrigin:O==null?void 0:O.crossOrigin})),qe.createElement(qe.Fragment,null,qe.createElement("canvas",GE({style:K,height:s,width:s,ref:C,role:"img"},x)),J)});nAe.displayName="QRCodeCanvas";var jY=qe.forwardRef(function(t,n){const r=t,{value:a,size:s=pY,level:o=gY,bgColor:l=vY,fgColor:c=yY,includeMargin:u=xY,minVersion:d=bY,boostLevel:f,title:h,marginSize:m,imageSettings:g}=r,v=WE(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:x,numCells:y,calculatedImageSettings:w}=CY({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:s});let S=x,C=null;g!=null&&w!=null&&(w.excavation!=null&&(S=SY(x,w.excavation)),C=qe.createElement("image",{href:g.src,height:w.h,width:w.w,x:w.x+b,y:w.y+b,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const k=wY(S,b);return qe.createElement("svg",GE({height:s,width:s,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},v),!!h&&qe.createElement("title",null,h),qe.createElement("path",{fill:l,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),qe.createElement("path",{fill:c,d:k,shapeRendering:"crispEdges"}),C)});jY.displayName="QRCodeSVG";/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const rAe=4,QF=0,ZF=1,aAe=2;function ap(e){let t=e.length;for(;--t>=0;)e[t]=0}const sAe=0,NY=1,iAe=2,oAe=3,lAe=258,VR=29,ix=256,Hv=ix+1+VR,Kh=30,zR=19,kY=2*Hv+1,Yu=15,Bk=16,cAe=7,UR=256,AY=16,PY=17,EY=18,qE=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Gb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),uAe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),TY=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dAe=512,il=new Array((Hv+2)*2);ap(il);const tv=new Array(Kh*2);ap(tv);const Yv=new Array(dAe);ap(Yv);const Qv=new Array(lAe-oAe+1);ap(Qv);const KR=new Array(VR);ap(KR);const y1=new Array(Kh);ap(y1);function Vk(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let _Y,DY,RY;function zk(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const MY=e=>e<256?Yv[e]:Yv[256+(e>>>7)],Zv=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},fs=(e,t,n)=>{e.bi_valid>Bk-n?(e.bi_buf|=t<<e.bi_valid&65535,Zv(e,e.bi_buf),e.bi_buf=t>>Bk-e.bi_valid,e.bi_valid+=n-Bk):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},yo=(e,t,n)=>{fs(e,n[t*2],n[t*2+1])},IY=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},fAe=e=>{e.bi_valid===16?(Zv(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},hAe=(e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,h,m,g,v=0;for(h=0;h<=Yu;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<kY;u++)d=e.heap[u],h=n[n[d*2+1]*2+1]+1,h>c&&(h=c,v++),n[d*2+1]=h,!(d>r)&&(e.bl_count[h]++,m=0,d>=l&&(m=o[d-l]),g=n[d*2],e.opt_len+=g*(h+m),s&&(e.static_len+=g*(a[d*2+1]+m)));if(v!==0){do{for(h=c-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,v-=2}while(v>0);for(h=c;h!==0;h--)for(d=e.bl_count[h];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==h&&(e.opt_len+=(h-n[f*2+1])*n[f*2],n[f*2+1]=h),d--)}},OY=(e,t,n)=>{const r=new Array(Yu+1);let a=0,s,o;for(s=1;s<=Yu;s++)a=a+n[s-1]<<1,r[s]=a;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=IY(r[l]++,l))}},mAe=()=>{let e,t,n,r,a;const s=new Array(Yu+1);for(n=0,r=0;r<VR-1;r++)for(KR[r]=n,e=0;e<1<<qE[r];e++)Qv[n++]=r;for(Qv[n-1]=r,a=0,r=0;r<16;r++)for(y1[r]=a,e=0;e<1<<Gb[r];e++)Yv[a++]=r;for(a>>=7;r<Kh;r++)for(y1[r]=a<<7,e=0;e<1<<Gb[r]-7;e++)Yv[256+a++]=r;for(t=0;t<=Yu;t++)s[t]=0;for(e=0;e<=143;)il[e*2+1]=8,e++,s[8]++;for(;e<=255;)il[e*2+1]=9,e++,s[9]++;for(;e<=279;)il[e*2+1]=7,e++,s[7]++;for(;e<=287;)il[e*2+1]=8,e++,s[8]++;for(OY(il,Hv+1,s),e=0;e<Kh;e++)tv[e*2+1]=5,tv[e*2]=IY(e,5);_Y=new Vk(il,qE,ix+1,Hv,Yu),DY=new Vk(tv,Gb,0,Kh,Yu),RY=new Vk(new Array(0),uAe,0,zR,cAe)},LY=e=>{let t;for(t=0;t<Hv;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Kh;t++)e.dyn_dtree[t*2]=0;for(t=0;t<zR;t++)e.bl_tree[t*2]=0;e.dyn_ltree[UR*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},$Y=e=>{e.bi_valid>8?Zv(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},JF=(e,t,n,r)=>{const a=t*2,s=n*2;return e[a]<e[s]||e[a]===e[s]&&r[t]<=r[n]},Uk=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&JF(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!JF(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},XF=(e,t,n)=>{let r,a,s=0,o,l;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,a=e.pending_buf[e.sym_buf+s++],r===0?yo(e,a,t):(o=Qv[a],yo(e,o+ix+1,t),l=qE[o],l!==0&&(a-=KR[o],fs(e,a,l)),r--,o=MY(r),yo(e,o,n),l=Gb[o],l!==0&&(r-=y1[o],fs(e,r,l)));while(s<e.sym_next);yo(e,UR,t)},HE=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,l,c=-1,u;for(e.heap_len=0,e.heap_max=kY,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,a&&(e.static_len-=r[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)Uk(e,n,o);u=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Uk(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,n[u*2]=n[o*2]+n[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,n[o*2+1]=n[l*2+1]=u,e.heap[1]=u++,Uk(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],hAe(e,t),OY(n,c,e.bl_count)},eB=(e,t,n)=>{let r,a=-1,s,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++l<c&&s===o)&&(l<u?e.bl_tree[s*2]+=l:s!==0?(s!==a&&e.bl_tree[s*2]++,e.bl_tree[AY*2]++):l<=10?e.bl_tree[PY*2]++:e.bl_tree[EY*2]++,l=0,a=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))},tB=(e,t,n)=>{let r,a=-1,s,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++l<c&&s===o)){if(l<u)do yo(e,s,e.bl_tree);while(--l!==0);else s!==0?(s!==a&&(yo(e,s,e.bl_tree),l--),yo(e,AY,e.bl_tree),fs(e,l-3,2)):l<=10?(yo(e,PY,e.bl_tree),fs(e,l-3,3)):(yo(e,EY,e.bl_tree),fs(e,l-11,7));l=0,a=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}},pAe=e=>{let t;for(eB(e,e.dyn_ltree,e.l_desc.max_code),eB(e,e.dyn_dtree,e.d_desc.max_code),HE(e,e.bl_desc),t=zR-1;t>=3&&e.bl_tree[TY[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},gAe=(e,t,n,r)=>{let a;for(fs(e,t-257,5),fs(e,n-1,5),fs(e,r-4,4),a=0;a<r;a++)fs(e,e.bl_tree[TY[a]*2+1],3);tB(e,e.dyn_ltree,t-1),tB(e,e.dyn_dtree,n-1)},vAe=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return QF;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return ZF;for(n=32;n<ix;n++)if(e.dyn_ltree[n*2]!==0)return ZF;return QF};let nB=!1;const yAe=e=>{nB||(mAe(),nB=!0),e.l_desc=new zk(e.dyn_ltree,_Y),e.d_desc=new zk(e.dyn_dtree,DY),e.bl_desc=new zk(e.bl_tree,RY),e.bi_buf=0,e.bi_valid=0,LY(e)},FY=(e,t,n,r)=>{fs(e,(sAe<<1)+(r?1:0),3),$Y(e),Zv(e,n),Zv(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},xAe=e=>{fs(e,NY<<1,3),yo(e,UR,il),fAe(e)},bAe=(e,t,n,r)=>{let a,s,o=0;e.level>0?(e.strm.data_type===aAe&&(e.strm.data_type=vAe(e)),HE(e,e.l_desc),HE(e,e.d_desc),o=pAe(e),a=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=a&&(a=s)):a=s=n+5,n+4<=a&&t!==-1?FY(e,t,n,r):e.strategy===rAe||s===a?(fs(e,(NY<<1)+(r?1:0),3),XF(e,il,tv)):(fs(e,(iAe<<1)+(r?1:0),3),gAe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),XF(e,e.dyn_ltree,e.dyn_dtree)),LY(e),r&&$Y(e)},wAe=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Qv[n]+ix+1)*2]++,e.dyn_dtree[MY(t)*2]++),e.sym_next===e.sym_end);var SAe=yAe,CAe=FY,jAe=bAe,NAe=wAe,kAe=xAe,AAe={_tr_init:SAe,_tr_stored_block:CAe,_tr_flush_block:jAe,_tr_tally:NAe,_tr_align:kAe};const PAe=(e,t,n,r)=>{let a=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do a=a+t[r++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0};var Jv=PAe;const EAe=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},TAe=new Uint32Array(EAe()),_Ae=(e,t,n,r)=>{const a=TAe,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var na=_Ae,Bd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},KC={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:DAe,_tr_stored_block:YE,_tr_flush_block:RAe,_tr_tally:$c,_tr_align:MAe}=AAe,{Z_NO_FLUSH:Fc,Z_PARTIAL_FLUSH:IAe,Z_FULL_FLUSH:OAe,Z_FINISH:ii,Z_BLOCK:rB,Z_OK:ma,Z_STREAM_END:aB,Z_STREAM_ERROR:Eo,Z_DATA_ERROR:LAe,Z_BUF_ERROR:Kk,Z_DEFAULT_COMPRESSION:$Ae,Z_FILTERED:FAe,Z_HUFFMAN_ONLY:F0,Z_RLE:BAe,Z_FIXED:VAe,Z_DEFAULT_STRATEGY:zAe,Z_UNKNOWN:UAe,Z_DEFLATED:GC}=KC,KAe=9,GAe=15,WAe=8,qAe=29,HAe=256,QE=HAe+1+qAe,YAe=30,QAe=19,ZAe=2*QE+1,JAe=15,en=3,Nc=258,To=Nc+en+1,XAe=32,vm=42,GR=57,ZE=69,JE=73,XE=91,e2=103,Qu=113,Ag=666,Va=1,sp=2,Vd=3,ip=4,ePe=3,Zu=(e,t)=>(e.msg=Bd[t],t),sB=e=>e*2-(e>4?9:0),xc=e=>{let t=e.length;for(;--t>=0;)e[t]=0},tPe=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=a?n-a:0;while(--t);t=a,r=t;do n=e.prev[--r],e.prev[r]=n>=a?n-a:0;while(--t)};let nPe=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Bc=nPe;const ks=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Rs=(e,t)=>{RAe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ks(e.strm)},cn=(e,t)=>{e.pending_buf[e.pending++]=t},ng=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},t2=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),e.state.wrap===1?e.adler=Jv(e.adler,t,a,n):e.state.wrap===2&&(e.adler=na(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},BY=(e,t)=>{let n=e.max_chain_length,r=e.strstart,a,s,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-To?e.strstart-(e.w_size-To):0,u=e.window,d=e.w_mask,f=e.prev,h=e.strstart+Nc;let m=u[r+o-1],g=u[r+o];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=t,!(u[a+o]!==g||u[a+o-1]!==m||u[a]!==u[r]||u[++a]!==u[r+1])){r+=2,a++;do;while(u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&r<h);if(s=Nc-(h-r),r=h-Nc,s>o){if(e.match_start=t,o=s,s>=l)break;m=u[r+o-1],g=u[r+o]}}while((t=f[t&d])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead},ym=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-To)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),tPe(e),r+=t),e.strm.avail_in===0)break;if(n=t2(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=en)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Bc(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Bc(e,e.ins_h,e.window[a+en-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<en)););}while(e.lookahead<To&&e.strm.avail_in!==0)},VY=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,a,s,o=0,l=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,a=e.strstart-e.block_start,r>a+e.strm.avail_in&&(r=a+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==ii||t===Fc||r!==a+e.strm.avail_in)))break;o=t===ii&&r===a+e.strm.avail_in?1:0,YE(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,ks(e.strm),a&&(a>r&&(a=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,r-=a),r&&(t2(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?ip:t!==Fc&&t!==ii&&e.strm.avail_in===0&&e.strstart===e.block_start?sp:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(t2(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,a=e.strstart-e.block_start,(a>=n||(a||t===ii)&&t!==Fc&&e.strm.avail_in===0&&a<=s)&&(r=a>s?s:a,o=t===ii&&e.strm.avail_in===0&&r===a?1:0,YE(e,e.block_start,r,o),e.block_start+=r,ks(e.strm)),o?Vd:Va)},Gk=(e,t)=>{let n,r;for(;;){if(e.lookahead<To){if(ym(e),e.lookahead<To&&t===Fc)return Va;if(e.lookahead===0)break}if(n=0,e.lookahead>=en&&(e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+en-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-To&&(e.match_length=BY(e,n)),e.match_length>=en)if(r=$c(e,e.strstart-e.match_start,e.match_length-en),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=en){e.match_length--;do e.strstart++,e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+en-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+1]);else r=$c(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Rs(e,!1),e.strm.avail_out===0))return Va}return e.insert=e.strstart<en-1?e.strstart:en-1,t===ii?(Rs(e,!0),e.strm.avail_out===0?Vd:ip):e.sym_next&&(Rs(e,!1),e.strm.avail_out===0)?Va:sp},Wf=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<To){if(ym(e),e.lookahead<To&&t===Fc)return Va;if(e.lookahead===0)break}if(n=0,e.lookahead>=en&&(e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+en-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=en-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-To&&(e.match_length=BY(e,n),e.match_length<=5&&(e.strategy===FAe||e.match_length===en&&e.strstart-e.match_start>4096)&&(e.match_length=en-1)),e.prev_length>=en&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-en,r=$c(e,e.strstart-1-e.prev_match,e.prev_length-en),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=Bc(e,e.ins_h,e.window[e.strstart+en-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=en-1,e.strstart++,r&&(Rs(e,!1),e.strm.avail_out===0))return Va}else if(e.match_available){if(r=$c(e,0,e.window[e.strstart-1]),r&&Rs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Va}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=$c(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<en-1?e.strstart:en-1,t===ii?(Rs(e,!0),e.strm.avail_out===0?Vd:ip):e.sym_next&&(Rs(e,!1),e.strm.avail_out===0)?Va:sp},rPe=(e,t)=>{let n,r,a,s;const o=e.window;for(;;){if(e.lookahead<=Nc){if(ym(e),e.lookahead<=Nc&&t===Fc)return Va;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=en&&e.strstart>0&&(a=e.strstart-1,r=o[a],r===o[++a]&&r===o[++a]&&r===o[++a])){s=e.strstart+Nc;do;while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<s);e.match_length=Nc-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=en?(n=$c(e,1,e.match_length-en),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=$c(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Rs(e,!1),e.strm.avail_out===0))return Va}return e.insert=0,t===ii?(Rs(e,!0),e.strm.avail_out===0?Vd:ip):e.sym_next&&(Rs(e,!1),e.strm.avail_out===0)?Va:sp},aPe=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(ym(e),e.lookahead===0)){if(t===Fc)return Va;break}if(e.match_length=0,n=$c(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Rs(e,!1),e.strm.avail_out===0))return Va}return e.insert=0,t===ii?(Rs(e,!0),e.strm.avail_out===0?Vd:ip):e.sym_next&&(Rs(e,!1),e.strm.avail_out===0)?Va:sp};function uo(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const Pg=[new uo(0,0,0,0,VY),new uo(4,4,8,4,Gk),new uo(4,5,16,8,Gk),new uo(4,6,32,32,Gk),new uo(4,4,16,16,Wf),new uo(8,16,32,32,Wf),new uo(8,16,128,128,Wf),new uo(8,32,128,256,Wf),new uo(32,128,258,1024,Wf),new uo(32,258,258,4096,Wf)],sPe=e=>{e.window_size=2*e.w_size,xc(e.head),e.max_lazy_match=Pg[e.level].max_lazy,e.good_match=Pg[e.level].good_length,e.nice_match=Pg[e.level].nice_length,e.max_chain_length=Pg[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=en-1,e.match_available=0,e.ins_h=0};function iPe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=GC,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ZAe*2),this.dyn_dtree=new Uint16Array((2*YAe+1)*2),this.bl_tree=new Uint16Array((2*QAe+1)*2),xc(this.dyn_ltree),xc(this.dyn_dtree),xc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(JAe+1),this.heap=new Uint16Array(2*QE+1),xc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*QE+1),xc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ox=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==vm&&t.status!==GR&&t.status!==ZE&&t.status!==JE&&t.status!==XE&&t.status!==e2&&t.status!==Qu&&t.status!==Ag?1:0},zY=e=>{if(ox(e))return Zu(e,Eo);e.total_in=e.total_out=0,e.data_type=UAe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?GR:t.wrap?vm:Qu,e.adler=t.wrap===2?0:1,t.last_flush=-2,DAe(t),ma},UY=e=>{const t=zY(e);return t===ma&&sPe(e.state),t},oPe=(e,t)=>ox(e)||e.state.wrap!==2?Eo:(e.state.gzhead=t,ma),KY=(e,t,n,r,a,s)=>{if(!e)return Eo;let o=1;if(t===$Ae&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>KAe||n!==GC||r<8||r>15||t<0||t>9||s<0||s>VAe||r===8&&o!==1)return Zu(e,Eo);r===8&&(r=9);const l=new iPe;return e.state=l,l.strm=e,l.status=vm,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+en-1)/en),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=s,l.method=n,UY(e)},lPe=(e,t)=>KY(e,t,GC,GAe,WAe,zAe),cPe=(e,t)=>{if(ox(e)||t>rB||t<0)return e?Zu(e,Eo):Eo;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Ag&&t!==ii)return Zu(e,e.avail_out===0?Kk:Eo);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(ks(e),e.avail_out===0)return n.last_flush=-1,ma}else if(e.avail_in===0&&sB(t)<=sB(r)&&t!==ii)return Zu(e,Kk);if(n.status===Ag&&e.avail_in!==0)return Zu(e,Kk);if(n.status===vm&&n.wrap===0&&(n.status=Qu),n.status===vm){let a=GC+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=F0||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,a|=s<<6,n.strstart!==0&&(a|=XAe),a+=31-a%31,ng(n,a),n.strstart!==0&&(ng(n,e.adler>>>16),ng(n,e.adler&65535)),e.adler=1,n.status=Qu,ks(e),n.pending!==0)return n.last_flush=-1,ma}if(n.status===GR){if(e.adler=0,cn(n,31),cn(n,139),cn(n,8),n.gzhead)cn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),cn(n,n.gzhead.time&255),cn(n,n.gzhead.time>>8&255),cn(n,n.gzhead.time>>16&255),cn(n,n.gzhead.time>>24&255),cn(n,n.level===9?2:n.strategy>=F0||n.level<2?4:0),cn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(cn(n,n.gzhead.extra.length&255),cn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=na(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=ZE;else if(cn(n,0),cn(n,0),cn(n,0),cn(n,0),cn(n,0),cn(n,n.level===9?2:n.strategy>=F0||n.level<2?4:0),cn(n,ePe),n.status=Qu,ks(e),n.pending!==0)return n.last_flush=-1,ma}if(n.status===ZE){if(n.gzhead.extra){let a=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let l=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+l),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>a&&(e.adler=na(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex+=l,ks(e),n.pending!==0)return n.last_flush=-1,ma;a=0,s-=l}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>a&&(e.adler=na(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=JE}if(n.status===JE){if(n.gzhead.name){let a=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=na(e.adler,n.pending_buf,n.pending-a,a)),ks(e),n.pending!==0)return n.last_flush=-1,ma;a=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,cn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=na(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=XE}if(n.status===XE){if(n.gzhead.comment){let a=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=na(e.adler,n.pending_buf,n.pending-a,a)),ks(e),n.pending!==0)return n.last_flush=-1,ma;a=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,cn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=na(e.adler,n.pending_buf,n.pending-a,a))}n.status=e2}if(n.status===e2){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ks(e),n.pending!==0))return n.last_flush=-1,ma;cn(n,e.adler&255),cn(n,e.adler>>8&255),e.adler=0}if(n.status=Qu,ks(e),n.pending!==0)return n.last_flush=-1,ma}if(e.avail_in!==0||n.lookahead!==0||t!==Fc&&n.status!==Ag){let a=n.level===0?VY(n,t):n.strategy===F0?aPe(n,t):n.strategy===BAe?rPe(n,t):Pg[n.level].func(n,t);if((a===Vd||a===ip)&&(n.status=Ag),a===Va||a===Vd)return e.avail_out===0&&(n.last_flush=-1),ma;if(a===sp&&(t===IAe?MAe(n):t!==rB&&(YE(n,0,0,!1),t===OAe&&(xc(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ks(e),e.avail_out===0))return n.last_flush=-1,ma}return t!==ii?ma:n.wrap<=0?aB:(n.wrap===2?(cn(n,e.adler&255),cn(n,e.adler>>8&255),cn(n,e.adler>>16&255),cn(n,e.adler>>24&255),cn(n,e.total_in&255),cn(n,e.total_in>>8&255),cn(n,e.total_in>>16&255),cn(n,e.total_in>>24&255)):(ng(n,e.adler>>>16),ng(n,e.adler&65535)),ks(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ma:aB)},uPe=e=>{if(ox(e))return Eo;const t=e.state.status;return e.state=null,t===Qu?Zu(e,LAe):ma},dPe=(e,t)=>{let n=t.length;if(ox(e))return Eo;const r=e.state,a=r.wrap;if(a===2||a===1&&r.status!==vm||r.lookahead)return Eo;if(a===1&&(e.adler=Jv(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){a===0&&(xc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const s=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,ym(r);r.lookahead>=en;){let c=r.strstart,u=r.lookahead-(en-1);do r.ins_h=Bc(r,r.ins_h,r.window[c+en-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=en-1,ym(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=en-1,r.match_available=0,e.next_in=o,e.input=l,e.avail_in=s,r.wrap=a,ma};var fPe=lPe,hPe=KY,mPe=UY,pPe=zY,gPe=oPe,vPe=cPe,yPe=uPe,xPe=dPe,bPe="pako deflate (from Nodeca project)",nv={deflateInit:fPe,deflateInit2:hPe,deflateReset:mPe,deflateResetKeep:pPe,deflateSetHeader:gPe,deflate:vPe,deflateEnd:yPe,deflateSetDictionary:xPe,deflateInfo:bPe};const wPe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var SPe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)wPe(n,r)&&(e[r]=n[r])}}return e},CPe=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,s=e.length;r<s;r++){let o=e[r];n.set(o,a),a+=o.length}return n},WC={assign:SPe,flattenChunks:CPe};let GY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{GY=!1}const Xv=new Uint8Array(256);for(let e=0;e<256;e++)Xv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Xv[254]=Xv[254]=1;var jPe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,a,s,o=e.length,l=0;for(a=0;a<o;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<o&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),s=0,a=0;s<l;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<o&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const NPe=(e,t)=>{if(t<65534&&e.subarray&&GY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var kPe=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,a;const s=new Array(n*2);for(a=0,r=0;r<n;){let o=e[r++];if(o<128){s[a++]=o;continue}let l=Xv[o];if(l>4){s[a++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<n;)o=o<<6|e[r++]&63,l--;if(l>1){s[a++]=65533;continue}o<65536?s[a++]=o:(o-=65536,s[a++]=55296|o>>10&1023,s[a++]=56320|o&1023)}return NPe(s,a)},APe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Xv[e[n]]>t?n:t},ey={string2buf:jPe,buf2string:kPe,utf8border:APe};function PPe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var WY=PPe;const qY=Object.prototype.toString,{Z_NO_FLUSH:EPe,Z_SYNC_FLUSH:TPe,Z_FULL_FLUSH:_Pe,Z_FINISH:DPe,Z_OK:x1,Z_STREAM_END:RPe,Z_DEFAULT_COMPRESSION:MPe,Z_DEFAULT_STRATEGY:IPe,Z_DEFLATED:OPe}=KC;function qC(e){this.options=WC.assign({level:MPe,method:OPe,chunkSize:16384,windowBits:15,memLevel:8,strategy:IPe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WY,this.strm.avail_out=0;let n=nv.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==x1)throw new Error(Bd[n]);if(t.header&&nv.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=ey.string2buf(t.dictionary):qY.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=nv.deflateSetDictionary(this.strm,r),n!==x1)throw new Error(Bd[n]);this._dict_set=!0}}qC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?DPe:EPe,typeof e=="string"?n.input=ey.string2buf(e):qY.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===TPe||s===_Pe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(a=nv.deflate(n,s),a===RPe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=nv.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===x1;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};qC.prototype.onData=function(e){this.chunks.push(e)};qC.prototype.onEnd=function(e){e===x1&&(this.result=WC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function HY(e,t){const n=new qC(t);if(n.push(e,!0),n.err)throw n.msg||Bd[n.err];return n.result}function LPe(e,t){return t=t||{},t.gzip=!0,HY(e,t)}var $Pe=HY,FPe=LPe,BPe={deflate:$Pe,gzip:FPe};const B0=16209,VPe=16191;var zPe=function(t,n){let r,a,s,o,l,c,u,d,f,h,m,g,v,b,x,y,w,S,C,k,N,P,E,R;const O=t.state;r=t.next_in,E=t.input,a=r+(t.avail_in-5),s=t.next_out,R=t.output,o=s-(n-t.avail_out),l=s+(t.avail_out-257),c=O.dmax,u=O.wsize,d=O.whave,f=O.wnext,h=O.window,m=O.hold,g=O.bits,v=O.lencode,b=O.distcode,x=(1<<O.lenbits)-1,y=(1<<O.distbits)-1;e:do{g<15&&(m+=E[r++]<<g,g+=8,m+=E[r++]<<g,g+=8),w=v[m&x];t:for(;;){if(S=w>>>24,m>>>=S,g-=S,S=w>>>16&255,S===0)R[s++]=w&65535;else if(S&16){C=w&65535,S&=15,S&&(g<S&&(m+=E[r++]<<g,g+=8),C+=m&(1<<S)-1,m>>>=S,g-=S),g<15&&(m+=E[r++]<<g,g+=8,m+=E[r++]<<g,g+=8),w=b[m&y];n:for(;;){if(S=w>>>24,m>>>=S,g-=S,S=w>>>16&255,S&16){if(k=w&65535,S&=15,g<S&&(m+=E[r++]<<g,g+=8,g<S&&(m+=E[r++]<<g,g+=8)),k+=m&(1<<S)-1,k>c){t.msg="invalid distance too far back",O.mode=B0;break e}if(m>>>=S,g-=S,S=s-o,k>S){if(S=k-S,S>d&&O.sane){t.msg="invalid distance too far back",O.mode=B0;break e}if(N=0,P=h,f===0){if(N+=u-S,S<C){C-=S;do R[s++]=h[N++];while(--S);N=s-k,P=R}}else if(f<S){if(N+=u+f-S,S-=f,S<C){C-=S;do R[s++]=h[N++];while(--S);if(N=0,f<C){S=f,C-=S;do R[s++]=h[N++];while(--S);N=s-k,P=R}}}else if(N+=f-S,S<C){C-=S;do R[s++]=h[N++];while(--S);N=s-k,P=R}for(;C>2;)R[s++]=P[N++],R[s++]=P[N++],R[s++]=P[N++],C-=3;C&&(R[s++]=P[N++],C>1&&(R[s++]=P[N++]))}else{N=s-k;do R[s++]=R[N++],R[s++]=R[N++],R[s++]=R[N++],C-=3;while(C>2);C&&(R[s++]=R[N++],C>1&&(R[s++]=R[N++]))}}else if(S&64){t.msg="invalid distance code",O.mode=B0;break e}else{w=b[(w&65535)+(m&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){O.mode=VPe;break e}else{t.msg="invalid literal/length code",O.mode=B0;break e}else{w=v[(w&65535)+(m&(1<<S)-1)];continue t}break}}while(r<a&&s<l);C=g>>3,r-=C,g-=C<<3,m&=(1<<g)-1,t.next_in=r,t.next_out=s,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=s<l?257+(l-s):257-(s-l),O.hold=m,O.bits=g};const qf=15,iB=852,oB=592,lB=0,Wk=1,cB=2,UPe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),KPe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),GPe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),WPe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),qPe=(e,t,n,r,a,s,o,l)=>{const c=l.bits;let u=0,d=0,f=0,h=0,m=0,g=0,v=0,b=0,x=0,y=0,w,S,C,k,N,P=null,E;const R=new Uint16Array(qf+1),O=new Uint16Array(qf+1);let K=null,J,Q,G;for(u=0;u<=qf;u++)R[u]=0;for(d=0;d<r;d++)R[t[n+d]]++;for(m=c,h=qf;h>=1&&R[h]===0;h--);if(m>h&&(m=h),h===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<h&&R[f]===0;f++);for(m<f&&(m=f),b=1,u=1;u<=qf;u++)if(b<<=1,b-=R[u],b<0)return-1;if(b>0&&(e===lB||h!==1))return-1;for(O[1]=0,u=1;u<qf;u++)O[u+1]=O[u]+R[u];for(d=0;d<r;d++)t[n+d]!==0&&(o[O[t[n+d]]++]=d);if(e===lB?(P=K=o,E=20):e===Wk?(P=UPe,K=KPe,E=257):(P=GPe,K=WPe,E=0),y=0,d=0,u=f,N=s,g=m,v=0,C=-1,x=1<<m,k=x-1,e===Wk&&x>iB||e===cB&&x>oB)return 1;for(;;){J=u-v,o[d]+1<E?(Q=0,G=o[d]):o[d]>=E?(Q=K[o[d]-E],G=P[o[d]-E]):(Q=96,G=0),w=1<<u-v,S=1<<g,f=S;do S-=w,a[N+(y>>v)+S]=J<<24|Q<<16|G|0;while(S!==0);for(w=1<<u-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,d++,--R[u]===0){if(u===h)break;u=t[n+o[d]]}if(u>m&&(y&k)!==C){for(v===0&&(v=m),N+=f,g=u-v,b=1<<g;g+v<h&&(b-=R[g+v],!(b<=0));)g++,b<<=1;if(x+=1<<g,e===Wk&&x>iB||e===cB&&x>oB)return 1;C=y&k,a[C]=m<<24|g<<16|N-s|0}}return y!==0&&(a[N+y]=u-v<<24|64<<16|0),l.bits=m,0};var rv=qPe;const HPe=0,YY=1,QY=2,{Z_FINISH:uB,Z_BLOCK:YPe,Z_TREES:V0,Z_OK:zd,Z_STREAM_END:QPe,Z_NEED_DICT:ZPe,Z_STREAM_ERROR:pi,Z_DATA_ERROR:ZY,Z_MEM_ERROR:JY,Z_BUF_ERROR:JPe,Z_DEFLATED:dB}=KC,HC=16180,fB=16181,hB=16182,mB=16183,pB=16184,gB=16185,vB=16186,yB=16187,xB=16188,bB=16189,b1=16190,tl=16191,qk=16192,wB=16193,Hk=16194,SB=16195,CB=16196,jB=16197,NB=16198,z0=16199,U0=16200,kB=16201,AB=16202,PB=16203,EB=16204,TB=16205,Yk=16206,_B=16207,DB=16208,Un=16209,XY=16210,eQ=16211,XPe=852,eEe=592,tEe=15,nEe=tEe,RB=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function rEe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const df=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<HC||t.mode>eQ?1:0},tQ=e=>{if(df(e))return pi;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=HC,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(XPe),t.distcode=t.distdyn=new Int32Array(eEe),t.sane=1,t.back=-1,zd},nQ=e=>{if(df(e))return pi;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,tQ(e)},rQ=(e,t)=>{let n;if(df(e))return pi;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?pi:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,nQ(e))},aQ=(e,t)=>{if(!e)return pi;const n=new rEe;e.state=n,n.strm=e,n.window=null,n.mode=HC;const r=rQ(e,t);return r!==zd&&(e.state=null),r},aEe=e=>aQ(e,nEe);let MB=!0,Qk,Zk;const sEe=e=>{if(MB){Qk=new Int32Array(512),Zk=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(rv(YY,e.lens,0,288,Qk,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;rv(QY,e.lens,0,32,Zk,0,e.work,{bits:5}),MB=!1}e.lencode=Qk,e.lenbits=9,e.distcode=Zk,e.distbits=5},sQ=(e,t,n,r)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>r&&(a=r),s.window.set(t.subarray(n-r,n-r+a),s.wnext),r-=a,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},iEe=(e,t)=>{let n,r,a,s,o,l,c,u,d,f,h,m,g,v,b=0,x,y,w,S,C,k,N,P;const E=new Uint8Array(4);let R,O;const K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(df(e)||!e.output||!e.input&&e.avail_in!==0)return pi;n=e.state,n.mode===tl&&(n.mode=qk),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,u=n.hold,d=n.bits,f=l,h=c,P=zd;e:for(;;)switch(n.mode){case HC:if(n.wrap===0){n.mode=qk;break}for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=u&255,E[1]=u>>>8&255,n.check=na(n.check,E,2,0),u=0,d=0,n.mode=fB;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Un;break}if((u&15)!==dB){e.msg="unknown compression method",n.mode=Un;break}if(u>>>=4,d-=4,N=(u&15)+8,n.wbits===0&&(n.wbits=N),N>15||N>n.wbits){e.msg="invalid window size",n.mode=Un;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?bB:tl,u=0,d=0;break;case fB:for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==dB){e.msg="unknown compression method",n.mode=Un;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Un;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=na(n.check,E,2,0)),u=0,d=0,n.mode=hB;case hB:for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=na(n.check,E,4,0)),u=0,d=0,n.mode=mB;case mB:for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=na(n.check,E,2,0)),u=0,d=0,n.mode=pB;case pB:if(n.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=na(n.check,E,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=gB;case gB:if(n.flags&1024&&(m=n.length,m>l&&(m=l),m&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),N)),n.flags&512&&n.wrap&4&&(n.check=na(n.check,r,m,s)),l-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=vB;case vB:if(n.flags&2048){if(l===0)break e;m=0;do N=r[s+m++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N));while(N&&m<l);if(n.flags&512&&n.wrap&4&&(n.check=na(n.check,r,m,s)),l-=m,s+=m,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=yB;case yB:if(n.flags&4096){if(l===0)break e;m=0;do N=r[s+m++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N));while(N&&m<l);if(n.flags&512&&n.wrap&4&&(n.check=na(n.check,r,m,s)),l-=m,s+=m,N)break e}else n.head&&(n.head.comment=null);n.mode=xB;case xB:if(n.flags&512){for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Un;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=tl;break;case bB:for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}e.adler=n.check=RB(u),u=0,d=0,n.mode=b1;case b1:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=u,n.bits=d,ZPe;e.adler=n.check=1,n.mode=tl;case tl:if(t===YPe||t===V0)break e;case qk:if(n.last){u>>>=d&7,d-=d&7,n.mode=Yk;break}for(;d<3;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=wB;break;case 1:if(sEe(n),n.mode=z0,t===V0){u>>>=2,d-=2;break e}break;case 2:n.mode=CB;break;case 3:e.msg="invalid block type",n.mode=Un}u>>>=2,d-=2;break;case wB:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Un;break}if(n.length=u&65535,u=0,d=0,n.mode=Hk,t===V0)break e;case Hk:n.mode=SB;case SB:if(m=n.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(r.subarray(s,s+m),o),l-=m,s+=m,c-=m,o+=m,n.length-=m;break}n.mode=tl;break;case CB:for(;d<14;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Un;break}n.have=0,n.mode=jB;case jB:for(;n.have<n.ncode;){for(;d<3;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.lens[K[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[K[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},P=rv(HPe,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,P){e.msg="invalid code lengths set",n.mode=Un;break}n.have=0,n.mode=NB;case NB:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(O=x+2;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=Un;break}N=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(O=x+3;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=x,d-=x,N=0,m=3+(u&7),u>>>=3,d-=3}else{for(O=x+7;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=x,d-=x,N=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Un;break}for(;m--;)n.lens[n.have++]=N}}if(n.mode===Un)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Un;break}if(n.lenbits=9,R={bits:n.lenbits},P=rv(YY,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,P){e.msg="invalid literal/lengths set",n.mode=Un;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},P=rv(QY,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,P){e.msg="invalid distances set",n.mode=Un;break}if(n.mode=z0,t===V0)break e;case z0:n.mode=U0;case U0:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=u,n.bits=d,zPe(e,h),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,u=n.hold,d=n.bits,n.mode===tl&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(y&&!(y&240)){for(S=x,C=y,k=w;b=n.lencode[k+((u&(1<<S+C)-1)>>S)],x=b>>>24,y=b>>>16&255,w=b&65535,!(S+x<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=S,d-=S,n.back+=S}if(u>>>=x,d-=x,n.back+=x,n.length=w,y===0){n.mode=TB;break}if(y&32){n.back=-1,n.mode=tl;break}if(y&64){e.msg="invalid literal/length code",n.mode=Un;break}n.extra=y&15,n.mode=kB;case kB:if(n.extra){for(O=n.extra;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=AB;case AB:for(;b=n.distcode[u&(1<<n.distbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(!(y&240)){for(S=x,C=y,k=w;b=n.distcode[k+((u&(1<<S+C)-1)>>S)],x=b>>>24,y=b>>>16&255,w=b&65535,!(S+x<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=S,d-=S,n.back+=S}if(u>>>=x,d-=x,n.back+=x,y&64){e.msg="invalid distance code",n.mode=Un;break}n.offset=w,n.extra=y&15,n.mode=PB;case PB:if(n.extra){for(O=n.extra;d<O;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Un;break}n.mode=EB;case EB:if(c===0)break e;if(m=h-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Un;break}m>n.wnext?(m-=n.wnext,g=n.wsize-m):g=n.wnext-m,m>n.length&&(m=n.length),v=n.window}else v=a,g=o-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do a[o++]=v[g++];while(--m);n.length===0&&(n.mode=U0);break;case TB:if(c===0)break e;a[o++]=n.length,c--,n.mode=U0;break;case Yk:if(n.wrap){for(;d<32;){if(l===0)break e;l--,u|=r[s++]<<d,d+=8}if(h-=c,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?na(n.check,a,h,o-h):Jv(n.check,a,h,o-h)),h=c,n.wrap&4&&(n.flags?u:RB(u))!==n.check){e.msg="incorrect data check",n.mode=Un;break}u=0,d=0}n.mode=_B;case _B:if(n.wrap&&n.flags){for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Un;break}u=0,d=0}n.mode=DB;case DB:P=QPe;break e;case Un:P=ZY;break e;case XY:return JY;case eQ:default:return pi}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=u,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<Un&&(n.mode<Yk||t!==uB))&&sQ(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?na(n.check,a,h,e.next_out-h):Jv(n.check,a,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===tl?128:0)+(n.mode===z0||n.mode===Hk?256:0),(f===0&&h===0||t===uB)&&P===zd&&(P=JPe),P},oEe=e=>{if(df(e))return pi;let t=e.state;return t.window&&(t.window=null),e.state=null,zd},lEe=(e,t)=>{if(df(e))return pi;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,zd):pi},cEe=(e,t)=>{const n=t.length;let r,a,s;return df(e)||(r=e.state,r.wrap!==0&&r.mode!==b1)?pi:r.mode===b1&&(a=1,a=Jv(a,t,n,0),a!==r.check)?ZY:(s=sQ(e,t,n,n),s?(r.mode=XY,JY):(r.havedict=1,zd))};var uEe=nQ,dEe=rQ,fEe=tQ,hEe=aEe,mEe=aQ,pEe=iEe,gEe=oEe,vEe=lEe,yEe=cEe,xEe="pako inflate (from Nodeca project)",ol={inflateReset:uEe,inflateReset2:dEe,inflateResetKeep:fEe,inflateInit:hEe,inflateInit2:mEe,inflate:pEe,inflateEnd:gEe,inflateGetHeader:vEe,inflateSetDictionary:yEe,inflateInfo:xEe};function bEe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wEe=bEe;const iQ=Object.prototype.toString,{Z_NO_FLUSH:SEe,Z_FINISH:CEe,Z_OK:ty,Z_STREAM_END:Jk,Z_NEED_DICT:Xk,Z_STREAM_ERROR:jEe,Z_DATA_ERROR:IB,Z_MEM_ERROR:NEe}=KC;function YC(e){this.options=WC.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WY,this.strm.avail_out=0;let n=ol.inflateInit2(this.strm,t.windowBits);if(n!==ty)throw new Error(Bd[n]);if(this.header=new wEe,ol.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ey.string2buf(t.dictionary):iQ.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ol.inflateSetDictionary(this.strm,t.dictionary),n!==ty)))throw new Error(Bd[n])}YC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?CEe:SEe,iQ.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=ol.inflate(n,o),s===Xk&&a&&(s=ol.inflateSetDictionary(n,a),s===ty?s=ol.inflate(n,o):s===IB&&(s=Xk));n.avail_in>0&&s===Jk&&n.state.wrap>0&&e[n.next_in]!==0;)ol.inflateReset(n),s=ol.inflate(n,o);switch(s){case jEe:case IB:case Xk:case NEe:return this.onEnd(s),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||s===Jk))if(this.options.to==="string"){let c=ey.utf8border(n.output,n.next_out),u=n.next_out-c,d=ey.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===ty&&l===0)){if(s===Jk)return s=ol.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};YC.prototype.onData=function(e){this.chunks.push(e)};YC.prototype.onEnd=function(e){e===ty&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=WC.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function oQ(e,t){const n=new YC(t);if(n.push(e),n.err)throw n.msg||Bd[n.err];return n.result}var kEe=oQ,AEe=oQ,PEe={inflate:kEe,ungzip:AEe};const{deflate:EEe,gzip:TEe}=BPe,{inflate:_Ee,ungzip:DEe}=PEe;var REe=EEe,MEe=TEe,IEe=_Ee,OEe=DEe;function LEe(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let n=t;for(let r=8;r>0;r--)n&1?n=n>>>1^3988292384:n=n>>>1;e[t]=n>>>0}return e}const $Ee=LEe();function n2(e,t){let n=4294967295;for(let r=0;r<e.length;r++){const a=e[r];n=n>>>8^$Ee[(n^a)&255]}return(n^t^4294967295)>>>0}function FEe(e){const{k:t,bytes:n,checksum:r,indices:a,data:s}=e,o=new Uint32Array([a.length,...a,t,n,r]),l=new Uint8Array(o.length*4+s.length);let c=0;return l.set(new Uint8Array(o.buffer),c),c+=o.length*4,l.set(s,c),l}function BEe(e){const t=new Uint32Array(e.buffer,0,4)[0],n=Array.from(new Uint32Array(e.buffer,4,t+3)),r=n.slice(0,t),[a,s,o]=n.slice(t),l=e.slice(4*(t+4));return{k:a,bytes:s,checksum:o,indices:r,data:l}}function eA(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function VEe(e){return new zEe(e)}class zEe{constructor(t){fn(this,"decodedData",[]);fn(this,"decodedCount",0);fn(this,"encodedCount",0);fn(this,"encodedBlocks",new Set);fn(this,"encodedBlockKeyMap",new Map);fn(this,"encodedBlockSubkeyMap",new Map);fn(this,"encodedBlockIndexMap",new Map);fn(this,"disposedEncodedBlocks",new Map);fn(this,"meta");if(t)for(const n of t)this.addBlock(n)}addBlock(t){if(this.meta||(this.meta=t,this.decodedData=Array.from({length:this.meta.k})),t.checksum!==this.meta.checksum)throw new Error("Adding block with different checksum");return this.encodedCount+=1,t.indices=t.indices.sort((n,r)=>n-r),this.propagateDecoded(rg(t.indices),t),this.decodedCount===this.meta.k}propagateDecoded(t,n){var b;const{decodedData:r,encodedBlocks:a,encodedBlockIndexMap:s,encodedBlockKeyMap:o,encodedBlockSubkeyMap:l,disposedEncodedBlocks:c}=this;let u,d,{data:f,indices:h}=n;const m=new Set(h);let g,v;if(!(o.has(t)||h.every(x=>r[x]!=null))){if(h.length>1){for(const x of h)r[x]!=null&&(n.data=f=eA(f,r[x]),m.delete(x));m.size!==h.length&&(n.indices=h=Array.from(m))}if(h.length>2){const x=[];for(const y of h){const w=rg(h.filter(S=>S!==y));if(g=o.get(w)){n.data=f=eA(f,g.data),v=new Set(g.indices);for(const S of v)m.delete(S);n.indices=h=Array.from(m);break}else x.push([y,w])}m.size>1&&x.forEach(([y,w])=>{var C,k;const S=()=>{var N;return(N=l.get(w))==null?void 0:N.delete(n)};((C=l.get(w))==null?void 0:C.add(n))??l.set(w,new Set([n])),((k=c.get(y))==null?void 0:k.push(S))??c.set(y,[S])})}if(h.length>1){n.indices.forEach(y=>{var w;a.add(n),((w=s.get(y))==null?void 0:w.add(n))??s.set(y,new Set([n]))}),o.set(t=rg(h),n);const x=l.get(t);if(x){l.delete(t);for(const y of x){const w=new Set(y.indices);y.data=eA(y.data,f);for(const S of h)w.delete(S);y.indices=Array.from(w),this.propagateDecoded(rg(y.indices),y)}}}else if(r[u=h[0]]==null&&(a.delete(n),(b=c.get(u))==null||b.forEach(x=>x()),r[u]=n.data,this.decodedCount+=1,d=s.get(u))){s.delete(u);for(const x of d)t=rg(x.indices),o.delete(t),this.propagateDecoded(t,x)}}}getDecoded(){if(this.decodedCount!==this.meta.k||this.decodedData.some(a=>a==null))return;const t=this.meta.data.length,n=this.decodedData,r=new Uint8Array(this.meta.bytes);n.forEach((a,s)=>{const o=s*t;if(o+t>r.length)for(let l=0;l<r.length-o;l++)r[o+l]=a[l];else r.set(a,s*t)});try{const a=IEe(r);if(n2(a,this.meta.k)===this.meta.checksum)return a}catch{if(n2(r,this.meta.k)===this.meta.checksum)return r}throw new Error("Checksum mismatch")}}function rg(e){return e.join(",")}function UEe(e,t,n=!0){return new KEe(e,t,n)}class KEe{constructor(t,n,r=!0){fn(this,"k");fn(this,"indices");fn(this,"checksum");fn(this,"bytes");fn(this,"compressed");this.data=t,this.sliceSize=n,this.compress=r,this.compressed=r?REe(t):t,this.indices=GEe(this.compressed,n),this.k=this.indices.length,this.checksum=n2(this.data,this.k),this.bytes=this.compressed.length}createBlock(t){const n=new Uint8Array(this.sliceSize);for(const r of t){const a=this.indices[r];for(let s=0;s<this.sliceSize;s++)n[s]=n[s]^a[s]}return{k:this.k,bytes:this.bytes,checksum:this.checksum,indices:t,data:n}}*fountain(){for(;;){const t=WEe(this.k),n=qEe(this.k,t);yield this.createBlock(n)}}}function GEe(e,t){const n=[];for(let r=0;r<e.length;r+=t){const a=new Uint8Array(t);a.set(e.slice(r,r+t)),n.push(a)}return n}function WEe(e){const t=Array.from({length:e},()=>0);t[0]=1/e;for(let a=2;a<=e;a++)t[a-1]=1/(a*(a-1));const n=t.reduce((a,s,o)=>(a.push(s+(a[o-1]||0)),a),[]),r=Math.random();for(let a=0;a<n.length;a++)if(r<n[a])return a+1;return e}function qEe(e,t){const n=new Set;for(;n.size<t;){const r=Math.floor(Math.random()*e);n.add(r)}return Array.from(n)}const QC=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const HEe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Eg=Array.prototype.slice.call(HEe),K0=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Eg),YEe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Wb=String.fromCharCode.bind(String),OB=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),QEe=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),lQ=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),ZEe=e=>{let t,n,r,a,s="";const o=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(a=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,s+=Eg[t>>18&63]+Eg[t>>12&63]+Eg[t>>6&63]+Eg[t&63]}return o?s.slice(0,o-3)+"===".substring(o):s},JEe=typeof btoa=="function"?e=>btoa(e):QC?e=>Buffer.from(e,"binary").toString("base64"):ZEe,LB=QC?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Wb.apply(null,e.subarray(r,r+4096)));return JEe(n.join(""))},XEe=(e,t=!1)=>t?QEe(LB(e)):LB(e),e2e=e=>{if(e=e.replace(/\s+/g,""),!YEe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n,r,a=[];for(let s=0;s<e.length;)t=K0[e.charAt(s++)]<<18|K0[e.charAt(s++)]<<12|(n=K0[e.charAt(s++)])<<6|(r=K0[e.charAt(s++)]),n===64?a.push(Wb(t>>16&255)):r===64?a.push(Wb(t>>16&255,t>>8&255)):a.push(Wb(t>>16&255,t>>8&255,t&255));return a.join("")},t2e=typeof atob=="function"?e=>atob(lQ(e)):QC?e=>Buffer.from(e,"base64").toString("binary"):e2e,n2e=QC?e=>OB(Buffer.from(e,"base64")):e=>OB(t2e(e).split("").map(t=>t.charCodeAt(0))),r2e=e=>n2e(a2e(e)),a2e=e=>lQ(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),s2e=1e4,G0=50,W0=100,r2=2e3;function q0(e,t){return(t?t.length:JSON.stringify(e).length)>s2e}function i2e(e,t){const n=t||JSON.stringify(e);return MEe(n)}function $B(e,t,n){const r=n?n.length:JSON.stringify(e).length,a=t.length,s=a/r,o=Math.ceil(r/r2),l=Math.ceil(a/r2),c=`~${o}  ${l} codes`;return{originalSize:r,compressedSize:a,compressionRatio:s,estimatedQRReduction:c}}const o2e=({onBack:e,onSwitchToScanner:t,dataType:n,loadData:r,compressData:a,title:s,description:o,noDataMessage:l})=>{var $;const[c,u]=p.useState([]),[d,f]=p.useState(0),[h,m]=p.useState(null),[g,v]=p.useState(500),[b,x]=p.useState(""),[y,w]=p.useState(!1),[S,C]=p.useState(""),k=[{label:"Default (2/sec)",value:500},{label:"Slower (1/sec)",value:1e3}];p.useEffect(()=>{(async()=>{try{const te=await r();m(te)}catch(te){console.error(`Error loading ${n} data:`,te),oe.error(`Error loading ${n} data: `+(te instanceof Error?te.message:String(te))),m(null)}})()},[r,n]);const N=()=>{if(!h){oe.error(`No ${n} data available`);return}let B,te="";const q=JSON.stringify(h);if(a&&q0(h,q)){B=a(h,q);const de=$B(h,B,q);te=`Custom compression: ${de.originalSize}  ${de.compressedSize} bytes (${(100-de.compressionRatio*100).toFixed(1)}% reduction, ${de.estimatedQRReduction})`,oe.success(`Compressed ${n} data: ${(100-de.compressionRatio*100).toFixed(1)}% size reduction!`)}else if(q0(h,q)){B=i2e(h,q);const de=$B(h,B,q);te=`Standard compression: ${de.originalSize}  ${de.compressedSize} bytes (${(100-de.compressionRatio*100).toFixed(1)}% reduction, ${de.estimatedQRReduction})`,oe.success(`Compressed data: ${(100-de.compressionRatio*100).toFixed(1)}% size reduction!`)}else B=new TextEncoder().encode(q),te=`Standard JSON: ${B.length} bytes`;x(te);const he=te.toLowerCase().includes("compress")?G0:W0;if(B.length<he){oe.error(`${n} data is too small (${B.length} bytes). Need at least ${he} bytes for fountain code generation.`),console.warn(`Data too small for fountain codes: ${B.length} bytes (min: ${he})`);return}const je=200,Ee=UEe(B,je),me=`${n}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Ve=[];let ne=0;const ke=new Set;let we=0;const re=Math.ceil(B.length/je),He=re<25?2.5:1.5,Oe=Math.ceil(re*He),Xe=Oe*5;for(const de of Ee.fountain()){if(we++,we>Xe){console.warn(` Reached maximum iterations (${Xe}), stopping generation with ${Ve.length} packets`),console.warn(`Target was ${Oe} packets, achieved ${Math.round(Ve.length/Oe*100)}%`);break}if(Ve.length>=Oe)break;try{const ve=de.indices.sort().join(",");if(ke.has(ve))continue;ke.add(ve);const Nt=FEe(de),We=XEe(Nt),kt={type:`${n}_fountain_packet`,sessionId:me,packetId:ne,k:de.k,bytes:de.bytes,checksum:String(de.checksum),indices:de.indices,data:We},ct=JSON.stringify(kt);if(ct.length>r2*.9){console.warn(` Packet ${ne} too large (${ct.length} chars), skipping`);continue}Ve.push(kt),ne++}catch(ve){console.error(`Error generating packet ${ne}:`,ve);break}}u(Ve),f(0),w(!1),C("");const Fe=k.find(de=>de.value===g),Se=Math.round(Ve.length*g/1e3);oe.success(`Generated ${Ve.length} packets - cycling at ${Fe==null?void 0:Fe.label}! (~${Se}s per cycle)`)};p.useEffect(()=>{if(c.length>0&&!y){const B=setInterval(()=>{f(te=>(te+1)%c.length)},g);return()=>clearInterval(B)}},[c.length,g,y]);const P=()=>{w(!y)},E=()=>{f(B=>(B+1)%c.length)},R=()=>{f(B=>(B-1+c.length)%c.length)},O=()=>{const B=parseInt(S);B>=1&&B<=c.length?(f(B-1),C(""),oe.success(`Jumped to packet ${B}`)):oe.error(`Invalid packet number. Must be between 1 and ${c.length}`)},K=()=>{f(0)},J=()=>{f(c.length-1)},Q=()=>{if(!h)return!1;const B=JSON.stringify(h),q=q0(h,B)?G0:W0;return new TextEncoder().encode(B).length>=q},G=()=>{if(!h)return null;const B=JSON.stringify(h),te=q0(h,B),q=te?G0:W0,ae=new TextEncoder().encode(B);return{size:ae.length,sufficient:ae.length>=q,compressed:te}},z=c[d],U=($=k.find(B=>B.value===g))==null?void 0:$.label,M=G();return i.jsx("div",{className:"min-h-screen w-full flex flex-col items-center gap-6 px-4 pt-16 pb-6",children:i.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md w-full pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx(Z,{onClick:e,variant:"ghost",size:"sm",className:"flex items-center gap-2",children:" Back"}),t&&i.jsx(Z,{onClick:t,variant:"outline",size:"sm",children:"Switch to Scanner"})]}),i.jsx(De,{className:"w-full",children:i.jsxs(Ke,{children:[i.jsx(Ge,{children:s}),i.jsx(Fn,{children:o})]})}),c.length===0?i.jsxs(De,{className:"w-full",children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Generator Settings"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"w-full",children:[i.jsx("p",{className:"text-sm font-medium mb-2 text-center",children:"Cycle Speed:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.map(B=>i.jsx(Z,{variant:g===B.value?"default":"outline",size:"sm",onClick:()=>v(B.value),className:"text-xs",children:B.label},B.value))})]}),i.jsx(Z,{onClick:N,className:"w-full h-12",disabled:!Q(),children:"Generate & Start Auto-Cycling"}),h?h&&!Q()?i.jsx(ar,{variant:"destructive",children:i.jsxs(pr,{className:"col-span-2",children:[n," data is too small (",(M==null?void 0:M.size)||0," bytes). Need at least ",M!=null&&M.compressed?G0:W0," bytes for fountain code generation.",(M==null?void 0:M.compressed)&&" (Compressed data threshold)"]})}):null:i.jsx(ar,{variant:"destructive",children:i.jsx(pr,{children:l})})]})]}):i.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[i.jsxs(ar,{children:[i.jsx(LC,{className:"col-span-2",children:" Scanning Instructions"}),i.jsxs(pr,{className:"col-span-2",children:["Point your scanner at the QR code. Use playback controls to pause, navigate, or jump to specific packets. Estimated time per cycle: ",Math.round(c.length*g/1e3),"s"]})]}),i.jsx(De,{className:"w-full",children:i.jsx($e,{className:"p-4 flex justify-center",children:z&&i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:i.jsx(jY,{value:JSON.stringify(z),size:300,level:"L",includeMargin:!1})})})}),i.jsxs(De,{className:"w-full",children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-sm",children:"Speed & Playback Controls"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"w-full",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Cycle Speed:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.map(B=>i.jsx(Z,{variant:g===B.value?"default":"outline",size:"sm",onClick:()=>v(B.value),className:"text-xs",children:B.label},B.value))})]}),i.jsxs("div",{className:"w-full",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Navigation:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{onClick:K,variant:"outline",size:"sm",className:"flex-1",children:i.jsx(ide,{className:"h-4 w-4"})}),i.jsx(Z,{onClick:R,variant:"outline",size:"sm",className:"flex-1",children:i.jsx($fe,{className:"h-4 w-4"})}),i.jsxs(Z,{onClick:P,variant:y?"default":"secondary",size:"sm",className:"flex-2",children:[y?i.jsx(xfe,{className:"h-4 w-4 mr-1"}):i.jsx(vfe,{className:"h-4 w-4 mr-1"}),y?"Play":"Pause"]}),i.jsx(Z,{onClick:E,variant:"outline",size:"sm",className:"flex-1",children:i.jsx(Bfe,{className:"h-4 w-4"})}),i.jsx(Z,{onClick:J,variant:"outline",size:"sm",className:"flex-1",children:i.jsx(lde,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"w-full",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Jump to Packet:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qt,{type:"number",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Packet #",value:S,onChange:B=>{const te=B.target.value;(te===""||/^\d+$/.test(te))&&C(te)},min:"1",max:c.length,className:"flex-1"}),i.jsx(Z,{onClick:O,variant:"outline",size:"sm",disabled:!S||parseInt(S)<1||parseInt(S)>c.length,children:"Jump"})]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ly,{className:"inline mt-0.5 text-muted-foreground shrink-0",size:16}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"If unable to get final packets, try slowing down the cycle speed or use manual navigation."})]})]})]}),z&&i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ge,{className:"text-lg",children:["Packet #",z.packetId+1]}),i.jsx(Le,{variant:"outline",children:U})]}),i.jsxs(Fn,{children:["Broadcasting ",c.length," fountain packets",b&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:b})]})]}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Indices:"}),i.jsx("span",{className:"ml-1 break-all",children:z.indices.length>20?`[${z.indices.slice(0,20).join(",")}...+${z.indices.length-20} more]`:`[${z.indices.join(",")}]`})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"K:"})," ",z.k," | ",i.jsx("span",{className:"font-medium",children:"Bytes:"})," ",z.bytes]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Checksum:"})," ",String(z.checksum).slice(0,8),"..."]})]}),i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Current cycle:"}),i.jsxs("span",{children:[d+1,"/",c.length]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all ease-linear",style:{width:`${(d+1)/c.length*100}%`,transitionDuration:`${g}ms`}})})]})]})]}),i.jsx(Z,{onClick:()=>{u([]),f(0),w(!1),C("")},variant:"secondary",className:"w-full",children:"Stop & Generate New Packets"})]})]})})};var cQ=e=>{throw TypeError(e)},uQ=(e,t,n)=>t.has(e)||cQ("Cannot "+n),l2e=(e,t,n)=>(uQ(e,t,"read from private field"),n?n.call(e):t.get(e)),c2e=(e,t,n)=>t.has(e)?cQ("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),u2e=(e,t,n,r)=>(uQ(e,t,"write to private field"),t.set(e,n),n);const ZC=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],JC=ZC.map(([e])=>e),d2e=JC.filter((e,t)=>ZC[t][1]==="L"),f2e=JC.filter((e,t)=>ZC[t][1]==="M");function a2(e){switch(e){case"Linear-Codes":return d2e.reduce((t,n)=>t|a2(n),0);case"Matrix-Codes":return f2e.reduce((t,n)=>t|a2(n),0);case"Any":return(1<<ZC.length)-1;case"None":return 0;default:return 1<<JC.indexOf(e)}}function h2e(e){if(e===0)return"None";const t=31-Math.clz32(e);return JC[t]}function m2e(e){return e.reduce((t,n)=>t|a2(n),0)}const p2e=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function g2e(e){return p2e.indexOf(e)}const FB=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function v2e(e){return e==="UnicodeBig"?FB.indexOf("UTF16BE"):FB.indexOf(e)}const y2e=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function x2e(e){return y2e[e]}const b2e=["Ignore","Read","Require"];function w2e(e){return b2e.indexOf(e)}const S2e=["Plain","ECI","HRI","Hex","Escaped"];function C2e(e){return S2e.indexOf(e)}const w1={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function BB(e){return{...e,formats:m2e(e.formats),binarizer:g2e(e.binarizer),eanAddOnSymbol:w2e(e.eanAddOnSymbol),textMode:C2e(e.textMode),characterSet:v2e(e.characterSet)}}function j2e(e){return{...e,format:h2e(e.format),contentType:x2e(e.contentType),eccLevel:e.ecLevel}}const N2e={locateFile:(e,t)=>{const n=e.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.2.4/dist/${n[1]}/${e}`:t+e}},tA=new WeakMap;function k2e(e,t){return Object.is(e,t)||Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>Object.hasOwn(t,n)&&e[n]===t[n])}function dQ(e,{overrides:t,equalityFn:n=k2e,fireImmediately:r=!1}={}){var a;const[s,o]=(a=tA.get(e))!=null?a:[N2e],l=t??s;let c;if(r){if(o&&(c=n(s,l)))return o;const u=e({...l});return tA.set(e,[l,u]),u}(c??n(s,l))||tA.set(e,[l])}async function A2e(e,t,n=w1){const r={...w1,...n},a=await dQ(e,{fireImmediately:!0});let s,o;if("width"in t&&"height"in t&&"data"in t){const{data:c,data:{byteLength:u},width:d,height:f}=t;o=a._malloc(u),a.HEAPU8.set(c,o),s=a.readBarcodesFromPixmap(o,d,f,BB(r))}else{let c,u;if("buffer"in t)[c,u]=[t.byteLength,t];else if("byteLength"in t)[c,u]=[t.byteLength,new Uint8Array(t)];else if("size"in t)[c,u]=[t.size,new Uint8Array(await t.arrayBuffer())];else throw new TypeError("Invalid input type");o=a._malloc(c),a.HEAPU8.set(u,o),s=a.readBarcodesFromImage(o,c,BB(r))}a._free(o);const l=[];for(let c=0;c<s.size();++c)l.push(j2e(s.get(c)));return l}({...w1,formats:[...w1.formats]});async function fQ(e={}){var t,n,r,a=e,s=!!globalThis.window,o=typeof Bun<"u",l=!!globalThis.WorkerGlobalScope;!((n=globalThis.process)===null||n===void 0||(n=n.versions)===null||n===void 0)&&n.node&&((r=globalThis.process)===null||r===void 0?void 0:r.type)!="renderer";var c="./this.program",u,d="";function f(T){return a.locateFile?a.locateFile(T,d):d+T}var h,m;if(s||l||o){try{d=new URL(".",u).href}catch{}l&&(m=T=>{var _=new XMLHttpRequest;return _.open("GET",T,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),h=async T=>{var _=await fetch(T,{credentials:"same-origin"});if(_.ok)return _.arrayBuffer();throw new Error(_.status+" : "+_.url)}}var g=console.log.bind(console),v=console.error.bind(console),b,x=!1,y,w,S,C,k,N,P,E,R,O,K=!1;function J(){var T=If.buffer;S=new Int8Array(T),k=new Int16Array(T),a.HEAPU8=C=new Uint8Array(T),N=new Uint16Array(T),P=new Int32Array(T),E=new Uint32Array(T),R=new Float32Array(T),O=new Float64Array(T)}function Q(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)ke(a.preRun.shift());Ee(ne)}function G(){K=!0,Ce.xa()}function z(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Ve(a.postRun.shift());Ee(me)}function U(T){var _,L;(_=a.onAbort)===null||_===void 0||_.call(a,T),T="Aborted("+T+")",v(T),x=!0,T+=". Build with -sASSERTIONS for more info.";var V=new WebAssembly.RuntimeError(T);throw(L=w)===null||L===void 0||L(V),V}var M;function $(){return f("zxing_reader.wasm")}function B(T){if(T==M&&b)return new Uint8Array(b);if(m)return m(T);throw"both async and sync fetching of the wasm failed"}async function te(T){if(!b)try{var _=await h(T);return new Uint8Array(_)}catch{}return B(T)}async function q(T,_){try{var L=await te(T),V=await WebAssembly.instantiate(L,_);return V}catch(H){v(`failed to asynchronously prepare wasm: ${H}`),U(H)}}async function ae(T,_,L){if(!T&&WebAssembly.instantiateStreaming)try{var V=fetch(_,{credentials:"same-origin"}),H=await WebAssembly.instantiateStreaming(V,L);return H}catch(Y){v(`wasm streaming compile failed: ${Y}`),v("falling back to ArrayBuffer instantiation")}return q(_,L)}function he(){var T={a:e0};return T}async function je(){function T(Y,ie){return Ce=Y.exports,kN(Ce),J(),Ce}function _(Y){return T(Y.instance)}var L=he();if(a.instantiateWasm)return new Promise((Y,ie)=>{a.instantiateWasm(L,(ue,be)=>{Y(T(ue))})});M!=null||(M=$());var V=await ae(b,M,L),H=_(V);return H}var Ee=T=>{for(;T.length>0;)T.shift()(a)},me=[],Ve=T=>me.push(T),ne=[],ke=T=>ne.push(T),we=T=>Mp(T),re=()=>Jx(),He=[],Oe=0,Xe=T=>{var _=new de(T);return _.get_caught()||(_.set_caught(!0),Oe--),_.set_rethrown(!1),He.push(_),Pu(T),Tf(T)},Fe=0,Se=()=>{Bt(0,0);var T=He.pop();Df(T.excPtr),Fe=0};class de{constructor(_){this.excPtr=_,this.ptr=_-24}set_type(_){E[this.ptr+4>>2]=_}get_type(){return E[this.ptr+4>>2]}set_destructor(_){E[this.ptr+8>>2]=_}get_destructor(){return E[this.ptr+8>>2]}set_caught(_){_=_?1:0,S[this.ptr+12]=_}get_caught(){return S[this.ptr+12]!=0}set_rethrown(_){_=_?1:0,S[this.ptr+13]=_}get_rethrown(){return S[this.ptr+13]!=0}init(_,L){this.set_adjusted_ptr(0),this.set_type(_),this.set_destructor(L)}set_adjusted_ptr(_){E[this.ptr+16>>2]=_}get_adjusted_ptr(){return E[this.ptr+16>>2]}}var ve=T=>_f(T),Nt=T=>{var _=Fe;if(!_)return ve(0),0;var L=new de(_);L.set_adjusted_ptr(_);var V=L.get_type();if(!V)return ve(0),_;for(var H of T){if(H===0||H===V)break;var Y=L.ptr+16;if(Xx(H,V,Y))return ve(H),_}return ve(V),_},We=()=>Nt([]),kt=T=>Nt([T]),ct=(T,_)=>Nt([T,_]),Ft=()=>{var T=He.pop();T||U("no exception to throw");var _=T.excPtr;throw T.get_rethrown()||(He.push(T),T.set_rethrown(!0),T.set_caught(!1),Oe++),Fe=_,Fe},nn=(T,_,L)=>{var V=new de(T);throw V.init(_,L),Fe=T,Oe++,Fe},Et=()=>Oe,Lt=T=>{throw Fe||(Fe=T),Fe},An=()=>U(""),mn={},Zn=T=>{for(;T.length;){var _=T.pop(),L=T.pop();L(_)}};function ee(T){return this.fromWireType(E[T>>2])}var Ne={},ge={},Ue={},st=class extends Error{constructor(T){super(T),this.name="InternalError"}},Ye=T=>{throw new st(T)},Ht=(T,_,L)=>{T.forEach(ue=>Ue[ue]=_);function V(ue){var be=L(ue);be.length!==T.length&&Ye("Mismatched type converter count");for(var _e=0;_e<T.length;++_e)Qr(T[_e],be[_e])}var H=new Array(_.length),Y=[],ie=0;{const ue=_;for(let be=0;be<ue.length;++be){const _e=ue[be];ge.hasOwnProperty(_e)?H[be]=ge[_e]:(Y.push(_e),Ne.hasOwnProperty(_e)||(Ne[_e]=[]),Ne[_e].push(()=>{H[be]=ge[_e],++ie,ie===Y.length&&V(H)}))}}Y.length===0&&V(H)},wt=T=>{var _=mn[T];delete mn[T];var L=_.rawConstructor,V=_.rawDestructor,H=_.fields,Y=H.map(ie=>ie.getterReturnType).concat(H.map(ie=>ie.setterArgumentType));Ht([T],Y,ie=>{var ue={};{const be=H;for(let _e=0;_e<be.length;++_e){const Ie=be[_e],Be=ie[_e],Je=Ie.getter,dt=Ie.getterContext,vt=ie[_e+H.length],yt=Ie.setter,Wt=Ie.setterContext;ue[Ie.fieldName]={read:lt=>Be.fromWireType(Je(dt,lt)),write:(lt,zn)=>{var an=[];yt(Wt,lt,vt.toWireType(an,zn)),Zn(an)},optional:Be.optional}}}return[{name:_.name,fromWireType:be=>{var _e={};for(var Ie in ue)_e[Ie]=ue[Ie].read(be);return V(be),_e},toWireType:(be,_e)=>{for(var Ie in ue)if(!(Ie in _e)&&!ue[Ie].optional)throw new TypeError(`Missing field: "${Ie}"`);var Be=L();for(Ie in ue)ue[Ie].write(Be,_e[Ie]);return be!==null&&be.push(V,Be),Be},readValueFromPointer:ee,destructorFunction:V}]})},St=(T,_,L,V,H)=>{},ze=T=>{for(var _="";;){var L=C[T++];if(!L)return _;_+=String.fromCharCode(L)}},Vn=class extends Error{constructor(T){super(T),this.name="BindingError"}},jt=T=>{throw new Vn(T)};function Yr(T,_){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var V=_.name;if(T||jt(`type "${V}" must have a positive integer typeid pointer`),ge.hasOwnProperty(T)){if(L.ignoreDuplicateRegistrations)return;jt(`Cannot register type '${V}' twice`)}if(ge[T]=_,delete Ue[T],Ne.hasOwnProperty(T)){var H=Ne[T];delete Ne[T],H.forEach(Y=>Y())}}function Qr(T,_){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Yr(T,_,L)}var Pt=(T,_,L,V)=>{_=ze(_),Qr(T,{name:_,fromWireType:function(H){return!!H},toWireType:function(H,Y){return Y?L:V},readValueFromPointer:function(H){return this.fromWireType(C[H])},destructorFunction:null})},Jt=T=>({count:T.count,deleteScheduled:T.deleteScheduled,preservePointerOnDelete:T.preservePointerOnDelete,ptr:T.ptr,ptrType:T.ptrType,smartPtr:T.smartPtr,smartPtrType:T.smartPtrType}),Xt=T=>{function _(L){return L.$$.ptrType.registeredClass.name}jt(_(T)+" instance already deleted")},Sn=!1,Jn=T=>{},ja=T=>{T.smartPtr?T.smartPtrType.rawDestructor(T.smartPtr):T.ptrType.registeredClass.rawDestructor(T.ptr)},ce=T=>{T.count.value-=1;var _=T.count.value===0;_&&ja(T)},fe=T=>globalThis.FinalizationRegistry?(Sn=new FinalizationRegistry(_=>{ce(_.$$)}),fe=_=>{var L=_.$$,V=!!L.smartPtr;if(V){var H={$$:L};Sn.register(_,H,_)}return _},Jn=_=>Sn.unregister(_),fe(T)):(fe=_=>_,T),Te=()=>{let T=Qe.prototype;Object.assign(T,{isAliasOf(L){if(!(this instanceof Qe)||!(L instanceof Qe))return!1;var V=this.$$.ptrType.registeredClass,H=this.$$.ptr;L.$$=L.$$;for(var Y=L.$$.ptrType.registeredClass,ie=L.$$.ptr;V.baseClass;)H=V.upcast(H),V=V.baseClass;for(;Y.baseClass;)ie=Y.upcast(ie),Y=Y.baseClass;return V===Y&&H===ie},clone(){if(this.$$.ptr||Xt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var L=fe(Object.create(Object.getPrototypeOf(this),{$$:{value:Jt(this.$$)}}));return L.$$.count.value+=1,L.$$.deleteScheduled=!1,L},delete(){this.$$.ptr||Xt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&jt("Object already scheduled for deletion"),Jn(this),ce(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Xt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&jt("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const _=Symbol.dispose;_&&(T[_]=T.delete)};function Qe(){}var tt=(T,_)=>Object.defineProperty(_,"name",{value:T}),gt={},At=(T,_,L)=>{if(T[_].overloadTable===void 0){var V=T[_];T[_]=function(){for(var H=arguments.length,Y=new Array(H),ie=0;ie<H;ie++)Y[ie]=arguments[ie];return T[_].overloadTable.hasOwnProperty(Y.length)||jt(`Function '${L}' called with an invalid number of arguments (${Y.length}) - expects one of (${T[_].overloadTable})!`),T[_].overloadTable[Y.length].apply(this,Y)},T[_].overloadTable=[],T[_].overloadTable[V.argCount]=V}},ft=(T,_,L)=>{a.hasOwnProperty(T)?((L===void 0||a[T].overloadTable!==void 0&&a[T].overloadTable[L]!==void 0)&&jt(`Cannot register public name '${T}' twice`),At(a,T,T),a[T].overloadTable.hasOwnProperty(L)&&jt(`Cannot register multiple overloads of a function with the same number of arguments (${L})!`),a[T].overloadTable[L]=_):(a[T]=_,a[T].argCount=L)},ot=48,it=57,ut=T=>{T=T.replace(/[^a-zA-Z0-9_]/g,"$");var _=T.charCodeAt(0);return _>=ot&&_<=it?`_${T}`:T};function It(T,_,L,V,H,Y,ie,ue){this.name=T,this.constructor=_,this.instancePrototype=L,this.rawDestructor=V,this.baseClass=H,this.getActualType=Y,this.upcast=ie,this.downcast=ue,this.pureVirtualFunctions=[]}var Kt=(T,_,L)=>{for(;_!==L;)_.upcast||jt(`Expected null or instance of ${L.name}, got an instance of ${_.name}`),T=_.upcast(T),_=_.baseClass;return T},dn=T=>{if(T===null)return"null";var _=typeof T;return _==="object"||_==="array"||_==="function"?T.toString():""+T};function ln(T,_){if(_===null)return this.isReference&&jt(`null is not a valid ${this.name}`),0;_.$$||jt(`Cannot pass "${dn(_)}" as a ${this.name}`),_.$$.ptr||jt(`Cannot pass deleted object as a pointer of type ${this.name}`);var L=_.$$.ptrType.registeredClass,V=Kt(_.$$.ptr,L,this.registeredClass);return V}function zt(T,_){var L;if(_===null)return this.isReference&&jt(`null is not a valid ${this.name}`),this.isSmartPointer?(L=this.rawConstructor(),T!==null&&T.push(this.rawDestructor,L),L):0;(!_||!_.$$)&&jt(`Cannot pass "${dn(_)}" as a ${this.name}`),_.$$.ptr||jt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&_.$$.ptrType.isConst&&jt(`Cannot convert argument of type ${_.$$.smartPtrType?_.$$.smartPtrType.name:_.$$.ptrType.name} to parameter type ${this.name}`);var V=_.$$.ptrType.registeredClass;if(L=Kt(_.$$.ptr,V,this.registeredClass),this.isSmartPointer)switch(_.$$.smartPtr===void 0&&jt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:_.$$.smartPtrType===this?L=_.$$.smartPtr:jt(`Cannot convert argument of type ${_.$$.smartPtrType?_.$$.smartPtrType.name:_.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:L=_.$$.smartPtr;break;case 2:if(_.$$.smartPtrType===this)L=_.$$.smartPtr;else{var H=_.clone();L=this.rawShare(L,Ia.toHandle(()=>H.delete())),T!==null&&T.push(this.rawDestructor,L)}break;default:jt("Unsupporting sharing policy")}return L}function Cn(T,_){if(_===null)return this.isReference&&jt(`null is not a valid ${this.name}`),0;_.$$||jt(`Cannot pass "${dn(_)}" as a ${this.name}`),_.$$.ptr||jt(`Cannot pass deleted object as a pointer of type ${this.name}`),_.$$.ptrType.isConst&&jt(`Cannot convert argument of type ${_.$$.ptrType.name} to parameter type ${this.name}`);var L=_.$$.ptrType.registeredClass,V=Kt(_.$$.ptr,L,this.registeredClass);return V}var Cs=(T,_,L)=>{if(_===L)return T;if(L.baseClass===void 0)return null;var V=Cs(T,_,L.baseClass);return V===null?null:L.downcast(V)},pn={},Tr=(T,_)=>{for(_===void 0&&jt("ptr should not be undefined");T.baseClass;)_=T.upcast(_),T=T.baseClass;return _},lr=(T,_)=>(_=Tr(T,_),pn[_]),Si=(T,_)=>{(!_.ptrType||!_.ptr)&&Ye("makeClassHandle requires ptr and ptrType");var L=!!_.smartPtrType,V=!!_.smartPtr;return L!==V&&Ye("Both smartPtrType and smartPtr must be specified"),_.count={value:1},fe(Object.create(T,{$$:{value:_,writable:!0}}))};function ns(T){var _=this.getPointee(T);if(!_)return this.destructor(T),null;var L=lr(this.registeredClass,_);if(L!==void 0){if(L.$$.count.value===0)return L.$$.ptr=_,L.$$.smartPtr=T,L.clone();var V=L.clone();return this.destructor(T),V}function H(){return this.isSmartPointer?Si(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:_,smartPtrType:this,smartPtr:T}):Si(this.registeredClass.instancePrototype,{ptrType:this,ptr:T})}var Y=this.registeredClass.getActualType(_),ie=gt[Y];if(!ie)return H.call(this);var ue;this.isConst?ue=ie.constPointerType:ue=ie.pointerType;var be=Cs(_,this.registeredClass,ue.registeredClass);return be===null?H.call(this):this.isSmartPointer?Si(ue.registeredClass.instancePrototype,{ptrType:ue,ptr:be,smartPtrType:this,smartPtr:T}):Si(ue.registeredClass.instancePrototype,{ptrType:ue,ptr:be})}var rs=()=>{Object.assign(js.prototype,{getPointee(T){return this.rawGetPointee&&(T=this.rawGetPointee(T)),T},destructor(T){var _;(_=this.rawDestructor)===null||_===void 0||_.call(this,T)},readValueFromPointer:ee,fromWireType:ns})};function js(T,_,L,V,H,Y,ie,ue,be,_e,Ie){this.name=T,this.registeredClass=_,this.isReference=L,this.isConst=V,this.isSmartPointer=H,this.pointeeType=Y,this.sharingPolicy=ie,this.rawGetPointee=ue,this.rawConstructor=be,this.rawShare=_e,this.rawDestructor=Ie,!H&&_.baseClass===void 0?V?(this.toWireType=ln,this.destructorFunction=null):(this.toWireType=Cn,this.destructorFunction=null):this.toWireType=zt}var Ci=(T,_,L)=>{a.hasOwnProperty(T)||Ye("Replacing nonexistent public symbol"),a[T].overloadTable!==void 0&&L!==void 0?a[T].overloadTable[L]=_:(a[T]=_,a[T].argCount=L)},_t={},jn=(T,_,L)=>{T=T.replace(/p/g,"i");var V=_t[T];return V(_,...L)},as=[],$t=T=>{var _=as[T];return _||(as[T]=_=Ip.get(T)),_},Ct=function(T,_){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(T.includes("j"))return jn(T,_,L);var V=$t(_),H=V(...L);return H},ji=function(T,_){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var V=arguments.length,H=new Array(V),Y=0;Y<V;Y++)H[Y]=arguments[Y];return Ct(T,_,H,L)}},da=function(T,_){T=ze(T);function L(){if(T.includes("j"))return ji(T,_);var H=$t(_);return H}var V=L();return typeof V!="function"&&jt(`unknown function pointer with signature ${T}: ${_}`),V};class Jl extends Error{}var Xl=T=>{var _=Ef(T),L=ze(_);return Na(_),L},bu=(T,_)=>{var L=[],V={};function H(Y){if(!V[Y]&&!ge[Y]){if(Ue[Y]){Ue[Y].forEach(H);return}L.push(Y),V[Y]=!0}}throw _.forEach(H),new Jl(`${T}: `+L.map(Xl).join([", "]))},Bx=(T,_,L,V,H,Y,ie,ue,be,_e,Ie,Be,Je)=>{Ie=ze(Ie),Y=da(H,Y),ue&&(ue=da(ie,ue)),_e&&(_e=da(be,_e)),Je=da(Be,Je);var dt=ut(Ie);ft(dt,function(){bu(`Cannot construct ${Ie} due to unbound types`,[V])}),Ht([T,_,L],V?[V]:[],vt=>{vt=vt[0];var yt,Wt;V?(yt=vt.registeredClass,Wt=yt.instancePrototype):Wt=Qe.prototype;var lt=tt(Ie,function(){if(Object.getPrototypeOf(this)!==zn)throw new Vn(`Use 'new' to construct ${Ie}`);if(an.constructor_body===void 0)throw new Vn(`${Ie} has no accessible constructor`);for(var ZO=arguments.length,o0=new Array(ZO),l0=0;l0<ZO;l0++)o0[l0]=arguments[l0];var JO=an.constructor_body[o0.length];if(JO===void 0)throw new Vn(`Tried to invoke ctor of ${Ie} with invalid number of parameters (${o0.length}) - expected (${Object.keys(an.constructor_body).toString()}) parameters instead!`);return JO.apply(this,o0)}),zn=Object.create(Wt,{constructor:{value:lt}});lt.prototype=zn;var an=new It(Ie,lt,zn,Je,yt,Y,ue,_e);if(an.baseClass){var is,Sr;(Sr=(is=an.baseClass).__derivedClasses)!==null&&Sr!==void 0||(is.__derivedClasses=[]),an.baseClass.__derivedClasses.push(an)}var Xo=new js(Ie,an,!0,!1,!1),$f=new js(Ie+"*",an,!1,!1,!1),QO=new js(Ie+" const*",an,!1,!0,!1);return gt[T]={pointerType:$f,constPointerType:QO},Ci(dt,lt),[Xo,$f,QO]})},yf=(T,_)=>{for(var L=[],V=0;V<T;V++)L.push(E[_+V*4>>2]);return L};function bn(T){for(var _=1;_<T.length;++_)if(T[_]!==null&&T[_].destructorFunction===void 0)return!0;return!1}function Ho(T,_,L,V,H,Y){var ie=_.length;ie<2&&jt("argTypes array size mismatch! Must at least get return value and 'this' types!");var ue=_[1]!==null&&L!==null,be=bn(_),_e=!_[0].isVoid,Ie=ie-2,Be=new Array(Ie),Je=[],dt=[],vt=function(){dt.length=0;var yt;Je.length=ue?2:1,Je[0]=H,ue&&(yt=_[1].toWireType(dt,this),Je[1]=yt);for(var Wt=0;Wt<Ie;++Wt)Be[Wt]=_[Wt+2].toWireType(dt,Wt<0||arguments.length<=Wt?void 0:arguments[Wt]),Je.push(Be[Wt]);var lt=V(...Je);function zn(an){if(be)Zn(dt);else for(var is=ue?1:2;is<_.length;is++){var Sr=is===1?yt:Be[is-2];_[is].destructorFunction!==null&&_[is].destructorFunction(Sr)}if(_e)return _[0].fromWireType(an)}return zn(lt)};return tt(T,vt)}var wu=(T,_,L,V,H,Y)=>{var ie=yf(_,L);H=da(V,H),Ht([],[T],ue=>{ue=ue[0];var be=`constructor ${ue.name}`;if(ue.registeredClass.constructor_body===void 0&&(ue.registeredClass.constructor_body=[]),ue.registeredClass.constructor_body[_-1]!==void 0)throw new Vn(`Cannot register multiple constructors with identical number of parameters (${_-1}) for class '${ue.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ue.registeredClass.constructor_body[_-1]=()=>{bu(`Cannot construct ${ue.name} due to unbound types`,ie)},Ht([],ie,_e=>(_e.splice(1,0,null),ue.registeredClass.constructor_body[_-1]=Ho(be,_e,null,H,Y),[])),[]})},Yo=T=>{T=T.trim();const _=T.indexOf("(");return _===-1?T:T.slice(0,_)},Sp=(T,_,L,V,H,Y,ie,ue,be,_e)=>{var Ie=yf(L,V);_=ze(_),_=Yo(_),Y=da(H,Y),Ht([],[T],Be=>{Be=Be[0];var Je=`${Be.name}.${_}`;_.startsWith("@@")&&(_=Symbol[_.substring(2)]),ue&&Be.registeredClass.pureVirtualFunctions.push(_);function dt(){bu(`Cannot call ${Je} due to unbound types`,Ie)}var vt=Be.registeredClass.instancePrototype,yt=vt[_];return yt===void 0||yt.overloadTable===void 0&&yt.className!==Be.name&&yt.argCount===L-2?(dt.argCount=L-2,dt.className=Be.name,vt[_]=dt):(At(vt,_,Je),vt[_].overloadTable[L-2]=dt),Ht([],Ie,Wt=>{var lt=Ho(Je,Wt,Be,Y,ie);return vt[_].overloadTable===void 0?(lt.argCount=L-2,vt[_]=lt):vt[_].overloadTable[L-2]=lt,[]}),[]})},xf=[],Hs=[0,1,,1,null,1,!0,1,!1,1],bf=T=>{T>9&&--Hs[T+1]===0&&(Hs[T]=void 0,xf.push(T))},Ia={toValue:T=>(T||jt(`Cannot use deleted val. handle = ${T}`),Hs[T]),toHandle:T=>{switch(T){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const _=xf.pop()||Hs.length;return Hs[_]=T,Hs[_+1]=1,_}}}},Cp={name:"emscripten::val",fromWireType:T=>{var _=Ia.toValue(T);return bf(T),_},toWireType:(T,_)=>Ia.toHandle(_),readValueFromPointer:ee,destructorFunction:null},yN=T=>Qr(T,Cp),tn=(T,_)=>{switch(_){case 4:return function(L){return this.fromWireType(R[L>>2])};case 8:return function(L){return this.fromWireType(O[L>>3])};default:throw new TypeError(`invalid float width (${_}): ${T}`)}},Vx=(T,_,L)=>{_=ze(_),Qr(T,{name:_,fromWireType:V=>V,toWireType:(V,H)=>H,readValueFromPointer:tn(_,L),destructorFunction:null})},xN=(T,_,L,V,H,Y,ie,ue)=>{var be=yf(_,L);T=ze(T),T=Yo(T),H=da(V,H),ft(T,function(){bu(`Cannot call ${T} due to unbound types`,be)},_-1),Ht([],be,_e=>{var Ie=[_e[0],null].concat(_e.slice(1));return Ci(T,Ho(T,Ie,null,H,Y),_-1),[]})},bN=(T,_,L)=>{switch(_){case 1:return L?V=>S[V]:V=>C[V];case 2:return L?V=>k[V>>1]:V=>N[V>>1];case 4:return L?V=>P[V>>2]:V=>E[V>>2];default:throw new TypeError(`invalid integer width (${_}): ${T}`)}},Oa=(T,_,L,V,H)=>{_=ze(_);const Y=V===0;let ie=be=>be;if(Y){var ue=32-8*L;ie=be=>be<<ue>>>ue,H=ie(H)}Qr(T,{name:_,fromWireType:ie,toWireType:(be,_e)=>_e,readValueFromPointer:bN(_,L,V!==0),destructorFunction:null})},ec=(T,_,L)=>{var V=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],H=V[_];function Y(ie){var ue=E[ie>>2],be=E[ie+4>>2];return new H(S.buffer,be,ue)}L=ze(L),Qr(T,{name:L,fromWireType:Y,readValueFromPointer:Y},{ignoreDuplicateRegistrations:!0})},wf=Object.assign({optional:!0},Cp),io=(T,_)=>{Qr(T,wf)},zx=(T,_,L,V)=>{if(!(V>0))return 0;for(var H=L,Y=L+V-1,ie=0;ie<T.length;++ie){var ue=T.codePointAt(ie);if(ue<=127){if(L>=Y)break;_[L++]=ue}else if(ue<=2047){if(L+1>=Y)break;_[L++]=192|ue>>6,_[L++]=128|ue&63}else if(ue<=65535){if(L+2>=Y)break;_[L++]=224|ue>>12,_[L++]=128|ue>>6&63,_[L++]=128|ue&63}else{if(L+3>=Y)break;_[L++]=240|ue>>18,_[L++]=128|ue>>12&63,_[L++]=128|ue>>6&63,_[L++]=128|ue&63,ie++}}return _[L]=0,L-H},Qo=(T,_,L)=>zx(T,C,_,L),gr=T=>{for(var _=0,L=0;L<T.length;++L){var V=T.charCodeAt(L);V<=127?_++:V<=2047?_+=2:V>=55296&&V<=57343?(_+=4,++L):_+=3}return _},Ns=globalThis.TextDecoder&&new TextDecoder,tc=(T,_,L,V)=>{var H=_+L;if(V)return H;for(;T[_]&&!(_>=H);)++_;return _},nc=function(T){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=arguments.length>2?arguments[2]:void 0,V=arguments.length>3?arguments[3]:void 0;var H=tc(T,_,L,V);if(H-_>16&&T.buffer&&Ns)return Ns.decode(T.subarray(_,H));for(var Y="";_<H;){var ie=T[_++];if(!(ie&128)){Y+=String.fromCharCode(ie);continue}var ue=T[_++]&63;if((ie&224)==192){Y+=String.fromCharCode((ie&31)<<6|ue);continue}var be=T[_++]&63;if((ie&240)==224?ie=(ie&15)<<12|ue<<6|be:ie=(ie&7)<<18|ue<<12|be<<6|T[_++]&63,ie<65536)Y+=String.fromCharCode(ie);else{var _e=ie-65536;Y+=String.fromCharCode(55296|_e>>10,56320|_e&1023)}}return Y},jp=(T,_,L)=>T?nc(C,T,_,L):"",oo=(T,_)=>{_=ze(_),Qr(T,{name:_,fromWireType(L){var V=E[L>>2],H=L+4,Y;return Y=jp(H,V,!0),Na(L),Y},toWireType(L,V){V instanceof ArrayBuffer&&(V=new Uint8Array(V));var H,Y=typeof V=="string";Y||ArrayBuffer.isView(V)&&V.BYTES_PER_ELEMENT==1||jt("Cannot pass non-string to std::string"),Y?H=gr(V):H=V.length;var ie=Au(4+H+1),ue=ie+4;return E[ie>>2]=H,Y?Qo(V,ue,H+1):C.set(V,ue),L!==null&&L.push(Na,ie),ie},readValueFromPointer:ee,destructorFunction(L){Na(L)}})},Ux=globalThis.TextDecoder?new TextDecoder("utf-16le"):void 0,Ys=(T,_,L)=>{var V=T>>1,H=tc(N,V,_/2,L);if(H-V>16&&Ux)return Ux.decode(N.subarray(V,H));for(var Y="",ie=V;ie<H;++ie){var ue=N[ie];Y+=String.fromCharCode(ue)}return Y},Np=(T,_,L)=>{if(L!=null||(L=2147483647),L<2)return 0;L-=2;for(var V=_,H=L<T.length*2?L/2:T.length,Y=0;Y<H;++Y){var ie=T.charCodeAt(Y);k[_>>1]=ie,_+=2}return k[_>>1]=0,_-V},Kx=T=>T.length*2,kp=(T,_,L)=>{for(var V="",H=T>>2,Y=0;!(Y>=_/4);Y++){var ie=E[H+Y];if(!ie&&!L)break;V+=String.fromCodePoint(ie)}return V},Su=(T,_,L)=>{if(L!=null||(L=2147483647),L<4)return 0;for(var V=_,H=V+L-4,Y=0;Y<T.length;++Y){var ie=T.codePointAt(Y);if(ie>65535&&Y++,P[_>>2]=ie,_+=4,_+4>H)break}return P[_>>2]=0,_-V},Ap=T=>{for(var _=0,L=0;L<T.length;++L){var V=T.codePointAt(L);V>65535&&L++,_+=4}return _},Gx=(T,_,L)=>{L=ze(L);var V,H,Y;_===2?(V=Ys,H=Np,Y=Kx):(V=kp,H=Su,Y=Ap),Qr(T,{name:L,fromWireType:ie=>{var ue=E[ie>>2],be=V(ie+4,ue*_,!0);return Na(ie),be},toWireType:(ie,ue)=>{typeof ue!="string"&&jt(`Cannot pass non-string to C++ string type ${L}`);var be=Y(ue),_e=Au(4+be+_);return E[_e>>2]=be/_,H(ue,_e+4,be+_),ie!==null&&ie.push(Na,_e),_e},readValueFromPointer:ee,destructorFunction(ie){Na(ie)}})},wN=(T,_,L,V,H,Y)=>{mn[T]={name:ze(_),rawConstructor:da(L,V),rawDestructor:da(H,Y),fields:[]}},Cu=(T,_,L,V,H,Y,ie,ue,be,_e)=>{mn[T].fields.push({fieldName:ze(_),getterReturnType:L,getter:da(V,H),getterContext:Y,setterArgumentType:ie,setter:da(ue,be),setterContext:_e})},SN=(T,_)=>{_=ze(_),Qr(T,{isVoid:!0,name:_,fromWireType:()=>{},toWireType:(L,V)=>{}})},Pp=[],Sf=T=>{var _=Pp.length;return Pp.push(T),_},Cf=(T,_)=>{var L=ge[T];return L===void 0&&jt(`${_} has unknown type ${Xl(T)}`),L},Ep=(T,_)=>{for(var L=new Array(T),V=0;V<T;++V)L[V]=Cf(E[_+V*4>>2],`parameter ${V}`);return L},CN=(T,_,L)=>{var V=[],H=T(V,L);return V.length&&(E[_>>2]=Ia.toHandle(V)),H},jN={},Wx=T=>{var _=jN[T];return _===void 0?ze(T):_},Tp=(T,_,L)=>{var V=8,[H,...Y]=Ep(T,_),ie=H.toWireType.bind(H),ue=Y.map(Be=>Be.readValueFromPointer.bind(Be));T--;var be=new Array(T),_e=(Be,Je,dt,vt)=>{for(var yt=0,Wt=0;Wt<T;++Wt)be[Wt]=ue[Wt](vt+yt),yt+=V;var lt;switch(L){case 0:lt=Ia.toValue(Be).apply(null,be);break;case 2:lt=Reflect.construct(Ia.toValue(Be),be);break;case 3:lt=be[0];break;case 1:lt=Ia.toValue(Be)[Wx(Je)](...be);break}return CN(ie,dt,lt)},Ie=`methodCaller<(${Y.map(Be=>Be.name)}) => ${H.name}>`;return Sf(tt(Ie,_e))},_p=T=>T?(T=Wx(T),Ia.toHandle(globalThis[T])):Ia.toHandle(globalThis),qx=T=>{T>9&&(Hs[T+1]+=1)},jf=(T,_,L,V,H)=>Pp[T](_,L,V,H),Nf=T=>{var _=Ia.toValue(T);Zn(_),bf(T)},kf=(T,_,L,V)=>{var H=new Date().getFullYear(),Y=new Date(H,0,1),ie=new Date(H,6,1),ue=Y.getTimezoneOffset(),be=ie.getTimezoneOffset(),_e=Math.max(ue,be);E[T>>2]=_e*60,P[_>>2]=+(ue!=be);var Ie=dt=>{var vt=dt>=0?"-":"+",yt=Math.abs(dt),Wt=String(Math.floor(yt/60)).padStart(2,"0"),lt=String(yt%60).padStart(2,"0");return`UTC${vt}${Wt}${lt}`},Be=Ie(ue),Je=Ie(be);be<ue?(Qo(Be,L,17),Qo(Je,V,17)):(Qo(Be,V,17),Qo(Je,L,17))},Hx=()=>2147483648,NN=(T,_)=>Math.ceil(T/_)*_,rc=T=>{var _=If.buffer.byteLength,L=(T-_+65535)/65536|0;try{return If.grow(L),J(),1}catch{}},Dp=T=>{var _=C.length;T>>>=0;var L=Hx();if(T>L)return!1;for(var V=1;V<=4;V*=2){var H=_*(1+.2/V);H=Math.min(H,T+100663296);var Y=Math.min(L,NN(Math.max(T,H),65536)),ie=rc(Y);if(ie)return!0}return!1},ju={},Rp=()=>c||"./this.program",Zo=()=>{if(!Zo.strings){var T=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8",_={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:T,_:Rp()};for(var L in ju)ju[L]===void 0?delete _[L]:_[L]=ju[L];var V=[];for(var L in _)V.push(`${L}=${_[L]}`);Zo.strings=V}return Zo.strings},Zr=(T,_)=>{var L=0,V=0;for(var H of Zo()){var Y=_+L;E[T+V>>2]=Y,L+=Qo(H,Y,1/0)+1,V+=4}return 0},Nu=(T,_)=>{var L=Zo();E[T>>2]=L.length;var V=0;for(var H of L)V+=gr(H)+1;return E[_>>2]=V,0},ku=T=>52;function Yx(T,_,L,V,H){return 70}var Af=[null,[],[]],Qx=(T,_)=>{var L=Af[T];_===0||_===10?((T===1?g:v)(nc(L)),L.length=0):L.push(_)},Zx=(T,_,L,V)=>{for(var H=0,Y=0;Y<L;Y++){var ie=E[_>>2],ue=E[_+4>>2];_+=8;for(var be=0;be<ue;be++)Qx(T,C[ie+be]);H+=ue}return E[V>>2]=H,0},Pf=T=>T;if(Te(),rs(),a.noExitRuntime&&a.noExitRuntime,a.print&&(g=a.print),a.printErr&&(v=a.printErr),a.wasmBinary&&(b=a.wasmBinary),a.arguments&&a.arguments,a.thisProgram&&(c=a.thisProgram),a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.shift()();var Ef,Na,Au,Tf,Bt,_f,Mp,Jx,Df,Pu,Xx,Rf,Mf,If,Ip;function kN(T){Ef=T.ya,Na=a._free=T.za,Au=a._malloc=T.Ba,Tf=T.Ca,Bt=T.Da,_f=T.Ea,Mp=T.Fa,Jx=T.Ga,Df=T.Ha,Pu=T.Ia,Xx=T.Ja,_t.viijii=T.Ka,Rf=_t.iiijj=T.La,_t.jiji=T.Ma,Mf=_t.jiiii=T.Na,_t.iiiiij=T.Oa,_t.iiiiijj=T.Pa,_t.iiiiiijj=T.Qa,If=T.wa,Ip=T.Aa}var e0={s:Xe,w:Se,a:We,j:kt,m:ct,Q:Ft,p:nn,U:Et,d:Lt,ca:An,ta:wt,ba:St,oa:Pt,ra:Bx,qa:wu,H:Sp,ma:yN,X:Vx,Y:xN,x:Oa,t:ec,sa:io,na:oo,R:Gx,I:wN,ua:Cu,pa:SN,N:Tp,va:bf,D:_p,S:qx,M:jf,ia:Nf,da:kf,ga:Dp,ea:Zr,fa:Nu,ha:ku,$:Yx,V:Zx,K:j,C:I,Z:PN,T:ye,r:$p,b:r0,E:i0,ka:W,c:EN,ja:X,h:a0,i:Ni,q:_N,P:lo,v:s0,F:Jo,L:ac,z:F,J:Ae,aa:le,_:Pe,f:TN,l:t0,e:Op,g:n0,O:pe,k:AN,la:A,o:Lp,B:Xn,u:D,W:ss,A:se,n:Of,G:Lf,y:Pf};function t0(T,_){var L=re();try{$t(T)(_)}catch(V){if(we(L),V!==V+0)throw V;Bt(1,0)}}function AN(T,_,L,V,H){var Y=re();try{$t(T)(_,L,V,H)}catch(ie){if(we(Y),ie!==ie+0)throw ie;Bt(1,0)}}function n0(T,_,L,V){var H=re();try{$t(T)(_,L,V)}catch(Y){if(we(H),Y!==Y+0)throw Y;Bt(1,0)}}function Op(T,_,L){var V=re();try{$t(T)(_,L)}catch(H){if(we(V),H!==H+0)throw H;Bt(1,0)}}function r0(T,_){var L=re();try{return $t(T)(_)}catch(V){if(we(L),V!==V+0)throw V;Bt(1,0)}}function a0(T,_,L,V){var H=re();try{return $t(T)(_,L,V)}catch(Y){if(we(H),Y!==Y+0)throw Y;Bt(1,0)}}function PN(T,_,L,V,H,Y){var ie=re();try{return $t(T)(_,L,V,H,Y)}catch(ue){if(we(ie),ue!==ue+0)throw ue;Bt(1,0)}}function EN(T,_,L){var V=re();try{return $t(T)(_,L)}catch(H){if(we(V),H!==H+0)throw H;Bt(1,0)}}function TN(T){var _=re();try{$t(T)()}catch(L){if(we(_),L!==L+0)throw L;Bt(1,0)}}function Of(T,_,L,V,H,Y,ie,ue,be,_e,Ie){var Be=re();try{$t(T)(_,L,V,H,Y,ie,ue,be,_e,Ie)}catch(Je){if(we(Be),Je!==Je+0)throw Je;Bt(1,0)}}function Ni(T,_,L,V,H){var Y=re();try{return $t(T)(_,L,V,H)}catch(ie){if(we(Y),ie!==ie+0)throw ie;Bt(1,0)}}function Xn(T,_,L,V,H,Y,ie){var ue=re();try{$t(T)(_,L,V,H,Y,ie)}catch(be){if(we(ue),be!==be+0)throw be;Bt(1,0)}}function Lf(T,_,L,V,H,Y,ie,ue,be,_e,Ie,Be,Je,dt,vt,yt){var Wt=re();try{$t(T)(_,L,V,H,Y,ie,ue,be,_e,Ie,Be,Je,dt,vt,yt)}catch(lt){if(we(Wt),lt!==lt+0)throw lt;Bt(1,0)}}function ss(T,_,L,V,H,Y,ie,ue,be){var _e=re();try{$t(T)(_,L,V,H,Y,ie,ue,be)}catch(Ie){if(we(_e),Ie!==Ie+0)throw Ie;Bt(1,0)}}function _N(T,_,L,V,H,Y){var ie=re();try{return $t(T)(_,L,V,H,Y)}catch(ue){if(we(ie),ue!==ue+0)throw ue;Bt(1,0)}}function Lp(T,_,L,V,H,Y){var ie=re();try{$t(T)(_,L,V,H,Y)}catch(ue){if(we(ie),ue!==ue+0)throw ue;Bt(1,0)}}function s0(T,_,L,V,H,Y,ie){var ue=re();try{return $t(T)(_,L,V,H,Y,ie)}catch(be){if(we(ue),be!==be+0)throw be;Bt(1,0)}}function Jo(T,_,L,V,H,Y,ie,ue){var be=re();try{return $t(T)(_,L,V,H,Y,ie,ue)}catch(_e){if(we(be),_e!==_e+0)throw _e;Bt(1,0)}}function $p(T){var _=re();try{return $t(T)()}catch(L){if(we(_),L!==L+0)throw L;Bt(1,0)}}function ac(T,_,L,V,H,Y,ie,ue,be){var _e=re();try{return $t(T)(_,L,V,H,Y,ie,ue,be)}catch(Ie){if(we(_e),Ie!==Ie+0)throw Ie;Bt(1,0)}}function lo(T,_,L,V,H,Y,ie){var ue=re();try{return $t(T)(_,L,V,H,Y,ie)}catch(be){if(we(ue),be!==be+0)throw be;Bt(1,0)}}function i0(T,_,L,V){var H=re();try{return $t(T)(_,L,V)}catch(Y){if(we(H),Y!==Y+0)throw Y;Bt(1,0)}}function j(T,_,L,V){var H=re();try{return $t(T)(_,L,V)}catch(Y){if(we(H),Y!==Y+0)throw Y;Bt(1,0)}}function A(T,_,L,V,H,Y,ie,ue){var be=re();try{$t(T)(_,L,V,H,Y,ie,ue)}catch(_e){if(we(be),_e!==_e+0)throw _e;Bt(1,0)}}function D(T,_,L,V,H,Y,ie,ue){var be=re();try{$t(T)(_,L,V,H,Y,ie,ue)}catch(_e){if(we(be),_e!==_e+0)throw _e;Bt(1,0)}}function I(T,_,L,V,H,Y){var ie=re();try{return $t(T)(_,L,V,H,Y)}catch(ue){if(we(ie),ue!==ue+0)throw ue;Bt(1,0)}}function F(T,_,L,V,H,Y,ie,ue,be,_e){var Ie=re();try{return $t(T)(_,L,V,H,Y,ie,ue,be,_e)}catch(Be){if(we(Ie),Be!==Be+0)throw Be;Bt(1,0)}}function W(T,_,L){var V=re();try{return $t(T)(_,L)}catch(H){if(we(V),H!==H+0)throw H;Bt(1,0)}}function X(T,_,L,V,H){var Y=re();try{return $t(T)(_,L,V,H)}catch(ie){if(we(Y),ie!==ie+0)throw ie;Bt(1,0)}}function se(T,_,L,V,H,Y,ie,ue,be,_e){var Ie=re();try{$t(T)(_,L,V,H,Y,ie,ue,be,_e)}catch(Be){if(we(Ie),Be!==Be+0)throw Be;Bt(1,0)}}function pe(T,_,L,V,H,Y,ie){var ue=re();try{$t(T)(_,L,V,H,Y,ie)}catch(be){if(we(ue),be!==be+0)throw be;Bt(1,0)}}function ye(T,_,L,V){var H=re();try{return $t(T)(_,L,V)}catch(Y){if(we(H),Y!==Y+0)throw Y;Bt(1,0)}}function Ae(T,_,L,V,H,Y,ie,ue,be,_e,Ie,Be){var Je=re();try{return $t(T)(_,L,V,H,Y,ie,ue,be,_e,Ie,Be)}catch(dt){if(we(Je),dt!==dt+0)throw dt;Bt(1,0)}}function le(T,_,L,V,H,Y,ie){var ue=re();try{return Rf(T,_,L,V,H,Y,ie)}catch(be){if(we(ue),be!==be+0)throw be;Bt(1,0)}}function Pe(T,_,L,V,H){var Y=re();try{return Mf(T,_,L,V,H)}catch(ie){if(we(Y),ie!==ie+0)throw ie;Bt(1,0)}}function xe(){Q();function T(){var _,L;a.calledRun=!0,!x&&(G(),(_=y)===null||_===void 0||_(a),(L=a.onRuntimeInitialized)===null||L===void 0||L.call(a),z())}a.setStatus?(a.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>a.setStatus(""),1),T()},1)):T()}var Ce;return Ce=await je(),xe(),K?t=a:t=new Promise((T,_)=>{y=T,w=_}),t}function P2e(e){return dQ(fQ,e)}async function E2e(e,t){return A2e(fQ,e,t)}const hQ=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],T2e=[...hQ,["unknown"]].map(e=>e[0]),s2=new Map(hQ);function _2e(e){for(const[t,n]of s2)if(e===n)return t;return"unknown"}function D2e(e){if(mQ(e))return{width:e.naturalWidth,height:e.naturalHeight};if(pQ(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(gQ(e))return{width:e.videoWidth,height:e.videoHeight};if(yQ(e))return{width:e.width,height:e.height};if(bQ(e))return{width:e.displayWidth,height:e.displayHeight};if(vQ(e))return{width:e.width,height:e.height};if(xQ(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function mQ(e){var t,n;try{return e instanceof((n=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:n.HTMLImageElement)}catch{return!1}}function pQ(e){var t,n;try{return e instanceof((n=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:n.SVGImageElement)}catch{return!1}}function gQ(e){var t,n;try{return e instanceof((n=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:n.HTMLVideoElement)}catch{return!1}}function vQ(e){var t,n;try{return e instanceof((n=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:n.HTMLCanvasElement)}catch{return!1}}function yQ(e){try{return e instanceof ImageBitmap||Object.prototype.toString.call(e)==="[object ImageBitmap]"}catch{return!1}}function xQ(e){try{return e instanceof OffscreenCanvas||Object.prototype.toString.call(e)==="[object OffscreenCanvas]"}catch{return!1}}function bQ(e){try{return e instanceof VideoFrame||Object.prototype.toString.call(e)==="[object VideoFrame]"}catch{return!1}}function R2e(e){try{return e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"}catch{return!1}}function M2e(e){try{return e instanceof ImageData||Object.prototype.toString.call(e)==="[object ImageData]"}catch{return!1}}function I2e(e,t){try{const n=new OffscreenCanvas(e,t);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const n=document.createElement("canvas");return n.width=e,n.height=t,n}}async function wQ(e){if(mQ(e)&&!await F2e(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(pQ(e)&&!await B2e(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(bQ(e)&&V2e(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(gQ(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(yQ(e)&&U2e(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:n}=D2e(e);if(t===0||n===0)return null;const r=I2e(t,n).getContext("2d");r.drawImage(e,0,0);try{return r.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function O2e(e){let t;try{t=await createImageBitmap(e)}catch{try{if(globalThis.Image){t=new Image;let n="";try{n=URL.createObjectURL(e),t.src=n,await t.decode()}finally{URL.revokeObjectURL(n)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await wQ(t)}function L2e(e){const{width:t,height:n}=e;if(t===0||n===0)return null;const r=e.getContext("2d");try{return r.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function $2e(e){if(R2e(e))return await O2e(e);if(M2e(e)){if(z2e(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return vQ(e)||xQ(e)?L2e(e):await wQ(e)}async function F2e(e){try{return await e.decode(),!0}catch{return!1}}async function B2e(e){var t;try{return await((t=e.decode)==null?void 0:t.call(e)),!0}catch{return!1}}function V2e(e){return e.format===null}function z2e(e){return e.data.buffer.byteLength===0}function U2e(e){return e.width===0&&e.height===0}function VB(e,t){return K2e(e)?new DOMException(`${t}: ${e.message}`,e.name):G2e(e)?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}function K2e(e){return e instanceof DOMException||Object.prototype.toString.call(e)==="[object DOMException]"}function G2e(e){return e instanceof Error||Object.prototype.toString.call(e)==="[object Error]"}var qb;class i2{constructor(t={}){c2e(this,qb);var n;try{const r=(n=t==null?void 0:t.formats)==null?void 0:n.filter(a=>a!=="unknown");if((r==null?void 0:r.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const a of r??[])if(!s2.has(a))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${a}' is not a valid enum value of type BarcodeFormat.`);u2e(this,qb,r??[]),P2e({fireImmediately:!0}).catch(()=>{})}catch(r){throw VB(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return T2e.filter(t=>t!=="unknown")}async detect(t){try{const n=await $2e(t);if(n===null)return[];let r;const a={tryCode39ExtendedMode:!1,textMode:"Plain",formats:l2e(this,qb).map(s=>s2.get(s))};try{r=await E2e(n,a)}catch(s){throw console.error(s),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return r.map(s=>{const{topLeft:{x:o,y:l},topRight:{x:c,y:u},bottomLeft:{x:d,y:f},bottomRight:{x:h,y:m}}=s.position,g=Math.min(o,c,d,h),v=Math.min(l,u,f,m),b=Math.max(o,c,d,h),x=Math.max(l,u,f,m);return{boundingBox:new DOMRectReadOnly(g,v,b-g,x-v),rawValue:s.text,format:_2e(s.format),cornerPoints:[{x:o,y:l},{x:c,y:u},{x:h,y:m},{x:d,y:f}]}})}catch(n){throw VB(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}qb=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=i2);let SQ=!0,CQ=!0;function Tg(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function ff(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,a=r.addEventListener;r.addEventListener=function(o,l){if(o!==t)return a.apply(this,arguments);const c=u=>{const d=n(u);d&&(l.handleEvent?l.handleEvent(d):l(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,c),a.apply(this,[o,c])};const s=r.removeEventListener;r.removeEventListener=function(o,l){if(o!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(l))return s.apply(this,arguments);const c=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,c])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}function W2e(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(SQ=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function q2e(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(CQ=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function jQ(){if(typeof window=="object"){if(SQ)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function WR(e,t){CQ&&console.warn(e+" is deprecated, please use "+t+" instead.")}function H2e(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Tg(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Tg(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Tg(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Tg(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function zB(e){return Object.prototype.toString.call(e)==="[object Object]"}function NQ(e){return zB(e)?Object.keys(e).reduce(function(t,n){const r=zB(e[n]),a=r?NQ(e[n]):e[n],s=r&&!Object.keys(a).length;return a===void 0||s?t:Object.assign(t,{[n]:a})},{}):e}function o2(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?o2(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(a=>{o2(e,e.get(a),n)})}))}function UB(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",a=new Map;if(t===null)return a;const s=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===t.id&&s.push(o)}),s.forEach(o=>{e.forEach(l=>{l.type===r&&l.trackId===o.id&&o2(e,l,a)})}),a}const KB=jQ;function kQ(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const c={};return Object.keys(l).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const d=typeof l[u]=="object"?l[u]:{ideal:l[u]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const f=function(h,m){return h?h+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(d.ideal!==void 0){c.optional=c.optional||[];let h={};typeof d.ideal=="number"?(h[f("min",u)]=d.ideal,c.optional.push(h),h={},h[f("max",u)]=d.ideal,c.optional.push(h)):(h[f("",u)]=d.ideal,c.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[f("",u)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[f(h,u)]=d[h])})}),l.advanced&&(c.optional=(c.optional||[]).concat(l.advanced)),c},a=function(l,c){if(t.version>=61)return c(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const u=function(d,f,h){f in d&&!(h in d)&&(d[h]=d[f],delete d[f])};l=JSON.parse(JSON.stringify(l)),u(l.audio,"autoGainControl","googAutoGainControl"),u(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let u=l.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const d=t.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete l.video.facingMode;let f;if(u.exact==="environment"||u.ideal==="environment"?f=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(f=["front"]),f)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(g=>g.kind==="videoinput");let m=h.find(g=>f.some(v=>g.label.toLowerCase().includes(v)));return!m&&h.length&&f.includes("back")&&(m=h[h.length-1]),m&&(l.video.deviceId=u.exact?{exact:m.deviceId}:{ideal:m.deviceId}),l.video=r(l.video),KB("chrome: "+JSON.stringify(l)),c(l)})}l.video=r(l.video)}return KB("chrome: "+JSON.stringify(l)),c(l)},s=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(l,c,u){a(l,d=>{n.webkitGetUserMedia(d,c,f=>{u&&u(s(f))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return a(c,u=>l(u).then(d=>{if(u.audio&&!d.getAudioTracks().length||u.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(f=>{f.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function AQ(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function PQ(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",a=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(l=>l.track&&l.track.id===a.track.id):s={track:a.track};const o=new Event("track");o.track=a.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(a=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(l=>l.track&&l.track.id===a.id):s={track:a};const o=new Event("track");o.track=a,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ff(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function EQ(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(a,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=a.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:a}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,c){let u=a.apply(this,arguments);return u||(u=t(this,l),this._senders.push(u)),u};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){s.apply(this,arguments);const c=this._senders.indexOf(l);c!==-1&&this._senders.splice(c,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const l=this._senders.find(c=>c.track===o);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(a=>a._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function TQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>UB(o,s.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(s=>s._pc=this),a}),ff(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(s=>UB(s,a.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let a,s,o;return this.getSenders().forEach(l=>{l.track===r&&(a?o=!0:a=l)}),this.getReceivers().forEach(l=>(l.track===r&&(s?o=!0:s=l),l.track===r)),o||a&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function _Q(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(c)===-1&&this._shimmedLocalStreams[l.id].push(c):this._shimmedLocalStreams[l.id]=[l,c],c};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(u=>{if(this.getSenders().find(f=>f.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(u=>l.indexOf(u)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const c=this._shimmedLocalStreams[l].indexOf(o);c!==-1&&this._shimmedLocalStreams[l].splice(c,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),a.apply(this,arguments)}}function DQ(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return _Q(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(f=>this._reverseStreams[f.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(f=>{if(this.getSenders().find(m=>m.track===f))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const f=new e.MediaStream(d.getTracks());this._streams[d.id]=f,this._reverseStreams[f.id]=d,d=f}r.apply(this,[d])};const a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},e.RTCPeerConnection.prototype.addTrack=function(d,f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(v=>v===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(v=>v.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[f.id];if(g)g.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const v=new e.MediaStream([d]);this._streams[f.id]=v,this._reverseStreams[v.id]=f,this.addStream(v)}return this.getSenders().find(v=>v.track===d)};function s(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const m=u._reverseStreams[h],g=u._streams[m.id];f=f.replace(new RegExp(g.id,"g"),m.id)}),new RTCSessionDescription({type:d.type,sdp:f})}function o(u,d){let f=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const m=u._reverseStreams[h],g=u._streams[m.id];f=f.replace(new RegExp(m.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:f})}["createOffer","createAnswer"].forEach(function(u){const d=e.RTCPeerConnection.prototype[u],f={[u](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[g=>{const v=s(this,g);h[0].apply(null,[v])},g=>{h[1]&&h[1].apply(null,g)},arguments[2]]):d.apply(this,arguments).then(g=>s(this,g))}};e.RTCPeerConnection.prototype[u]=f[u]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=o(this,arguments[0]),l.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const u=c.get.apply(this);return u.type===""?u:s(this,u)}}),e.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(v=>d.track===v)&&(h=this._streams[m])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function l2(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=a[n]})}function RQ(e,t){ff(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const GB=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:RQ,shimAddTrackRemoveTrack:DQ,shimAddTrackRemoveTrackWithNative:_Q,shimGetSendersWithDtmf:EQ,shimGetUserMedia:kQ,shimMediaStream:AQ,shimOnTrack:PQ,shimPeerConnection:l2,shimSenderReceiverGetStats:TQ},Symbol.toStringTag,{value:"Module"}));function MQ(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(a,s,o){WR("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(s,o)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(o,l,c){l in o&&!(c in o)&&(o[c]=o[l],delete o[l])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),a(o.audio,"autoGainControl","mozAutoGainControl"),a(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const l=o.apply(this,arguments);return a(l,"mozAutoGainControl","autoGainControl"),a(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),a(l,"autoGainControl","mozAutoGainControl"),a(l,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[l])}}}}function Y2e(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function IQ(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function c2(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const s=e.RTCPeerConnection.prototype[a],o={[a](){return arguments[0]=new(a==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};e.RTCPeerConnection.prototype[a]=o[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[s,o,l]=arguments;return r.apply(this,[s||null]).then(c=>{if(t.version<53&&!o)try{c.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;c.forEach((d,f)=>{c.set(f,Object.assign({},d,{type:n[d.type]||d.type}))})}return c}).then(o,l)}}function OQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const a=t.apply(this,[]);return a.forEach(s=>s._pc=this),a});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function LQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(a=>a._pc=this),r}),ff(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function $Q(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){WR("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function FQ(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function BQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const a=r.length>0;a&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=t.apply(this,arguments);if(a){const{sender:o}=s,l=o.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(l).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function VQ(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function zQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function UQ(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const WB=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:BQ,shimCreateAnswer:UQ,shimCreateOffer:zQ,shimGetDisplayMedia:Y2e,shimGetParameters:VQ,shimGetUserMedia:MQ,shimOnTrack:IQ,shimPeerConnection:c2,shimRTCDataChannel:FQ,shimReceiverGetStats:LQ,shimRemoveStream:$Q,shimSenderGetStats:OQ},Symbol.toStringTag,{value:"Module"}));function KQ(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(a=>t.call(this,a,r)),r.getVideoTracks().forEach(a=>t.call(this,a,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...a){return a&&a.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const a=n.getTracks();this.getSenders().forEach(s=>{a.includes(s.track)&&this.removeTrack(s)})})}}function GQ(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const s=new Event("addstream");s.stream=a,this.dispatchEvent(s)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),t.apply(r,arguments)}}}function WQ(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,a=t.setLocalDescription,s=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h},t.createAnswer=function(u,d){const f=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[f]);return d?(h.then(u,d),Promise.resolve()):h};let l=function(c,u,d){const f=a.apply(this,[c]);return d?(f.then(u,d),Promise.resolve()):f};t.setLocalDescription=l,l=function(c,u,d){const f=s.apply(this,[c]);return d?(f.then(u,d),Promise.resolve()):f},t.setRemoteDescription=l,l=function(c,u,d){const f=o.apply(this,[c]);return d?(f.then(u,d),Promise.resolve()):f},t.addIceCandidate=l}function qQ(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=a=>r(HQ(a))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,a,s){t.mediaDevices.getUserMedia(r).then(a,s)}).bind(t))}function HQ(e){return e&&e.video!==void 0?Object.assign({},e,{video:NQ(e.video)}):e}function YQ(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,a){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let l=r.iceServers[o];l.urls===void 0&&l.url?(WR("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,s.push(l)):s.push(r.iceServers[o])}r.iceServers=s}return new t(r,a)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function QQ(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ZQ(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const a=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):r.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function JQ(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const qB=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:JQ,shimCallbacksAPI:WQ,shimConstraints:HQ,shimCreateOfferLegacy:ZQ,shimGetUserMedia:qQ,shimLocalStreamsAPI:KQ,shimRTCIceServerUrls:YQ,shimRemoteStreamsAPI:GQ,shimTrackEventTransceiver:QQ},Symbol.toStringTag,{value:"Module"}));var XQ={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((a,s)=>(s>0?"m="+a:a).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(a=>a.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const a={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":a.relatedAddress=r[s+1];break;case"rport":a.relatedPort=parseInt(r[s+1],10);break;case"tcptype":a.tcpType=r[s+1];break;case"ufrag":a.ufrag=r[s+1],a.usernameFragment=r[s+1];break;default:a[r[s]]===void 0&&(a[r[s]]=r[s+1]);break}return a},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const a=n.component;a==="rtp"?r.push(1):a==="rtcp"?r.push(2):r.push(a),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const a={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),a.name=r[0],a.clockRate=parseInt(r[1],10),a.channels=r.length===3?parseInt(r[2],10):1,a.numChannels=a.channels,a},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let a;const s=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)a=s[o].trim().split("="),r[a[0].trim()]=a[1];return r},t.writeFmtp=function(n){let r="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?s.push(o+"="+n.parameters[o]):s.push(o)}),r+="a=fmtp:"+a+" "+s.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+a+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,r),10)},s=n.indexOf(":",r);return s>-1?(a.attribute=n.substring(r+1,s),a.value=n.substring(s+1)):a.attribute=n.substring(r+1),a},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(a=>parseInt(a,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let a="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{a+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),a},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const a=t.matchPrefix(n+r,"a=ice-ufrag:")[0],s=t.matchPrefix(n+r,"a=ice-pwd:")[0];return a&&s?{usernameFragment:a.substring(12),password:s.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=t.splitLines(n)[0].split(" ");r.profile=s[2];for(let l=3;l<s.length;l++){const c=s[l],u=t.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(u){const d=t.parseRtpMap(u),f=t.matchPrefix(n,"a=fmtp:"+c+" ");switch(d.parameters=f.length?t.parseFmtp(f[0]):{},d.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(t.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(l=>{r.headerExtensions.push(t.parseExtmap(l))});const o=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(l=>{o.forEach(c=>{l.rtcpFeedback.find(d=>d.type===c.type&&d.parameter===c.parameter)||l.rtcpFeedback.push(c)})}),r},t.writeRtpDescription=function(n,r){let a="";a+="m="+n+" ",a+=r.codecs.length>0?"9":"0",a+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{a+=t.writeRtpMap(o),a+=t.writeFmtp(o),a+=t.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(a+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{a+=t.writeExtmap(o)}),a},t.parseRtpEncodingParameters=function(n){const r=[],a=t.parseRtpParameters(n),s=a.fecMechanisms.indexOf("RED")!==-1,o=a.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),c=l.length>0&&l[0].ssrc;let u;const d=t.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(g=>parseInt(g,10)));d.length>0&&d[0].length>1&&d[0][0]===c&&(u=d[0][1]),a.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let m={ssrc:c,codecPayloadType:parseInt(h.parameters.apt,10)};c&&u&&(m.rtx={ssrc:u}),r.push(m),s&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(m))}}),r.length===0&&c&&r.push({ssrc:c});let f=t.matchPrefix(n,"b=");return f.length&&(f[0].indexOf("b=TIAS:")===0?f=parseInt(f[0].substring(7),10):f[0].indexOf("b=AS:")===0?f=parseInt(f[0].substring(5),10)*1e3*.95-50*40*8:f=void 0,r.forEach(h=>{h.maxBitrate=f})),r},t.parseRtcpParameters=function(n){const r={},a=t.matchPrefix(n,"a=ssrc:").map(l=>t.parseSsrcMedia(l)).filter(l=>l.attribute==="cname")[0];a&&(r.cname=a.value,r.ssrc=a.ssrc);const s=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=t.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const a=t.matchPrefix(n,"a=msid:");if(a.length===1)return r=a[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),a=t.matchPrefix(n,"a=max-message-size:");let s;a.length>0&&(s=parseInt(a[0].substring(19),10)),isNaN(s)&&(s=65536);const o=t.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){const c=l[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:s}}},t.writeSctpDescription=function(n,r){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&a.push("a=max-message-size:"+r.maxMessageSize+`\r
`),a.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,a){let s;const o=r!==void 0?r:2;return n?s=n:s=t.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const a=t.splitLines(n);for(let s=0;s<a.length;s++)switch(a[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[s].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const a=t.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},t.parseOLine=function(n){const a=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let a=0;a<r.length;a++)if(r[a].length<2||r[a].charAt(1)!=="=")return!1;return!0},e.exports=t})(XQ);var eZ=XQ.exports;const Gh=yi(eZ),Q2e=t_({__proto__:null,default:Gh},[eZ]);function Hb(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const a=new t(r),s=Gh.parseCandidate(r.candidate);for(const o in s)o in a||Object.defineProperty(a,o,{value:s[o]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,ff(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function u2(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||ff(e,"icecandidate",t=>{if(t.candidate){const n=Gh.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Yb(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const c=Gh.splitSections(l.sdp);return c.shift(),c.some(u=>{const d=Gh.parseMLine(u);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(l){const c=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const u=parseInt(c[1],10);return u!==u?-1:u},a=function(l){let c=65536;return t.browser==="firefox"&&(t.version<57?l===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},s=function(l,c){let u=65536;t.browser==="firefox"&&t.version===57&&(u=65535);const d=Gh.matchPrefix(l.sdp,"a=max-message-size:");return d.length>0?u=parseInt(d[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(u=2147483637),u},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),u=a(c),d=s(arguments[0],c);let f;u===0&&d===0?f=Number.POSITIVE_INFINITY:u===0||d===0?f=Math.max(u,d):f=Math.min(u,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return f}}),this._sctp=h}return o.apply(this,arguments)}}function Qb(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,a){const s=r.send;r.send=function(){const l=arguments[0],c=l.length||l.size||l.byteLength;if(r.readyState==="open"&&a.sctp&&c>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return t(a,this),a},ff(e,"datachannel",r=>(t(r.channel,r.target),r))}function d2(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const s=a.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",a);s.dispatchEvent(o)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function f2(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=a.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&a instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:a.type,sdp:s}):a.sdp=s}return n.apply(this,arguments)}}function Zb(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Jb(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const Z2e=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:f2,shimAddIceCandidateNullOrEmpty:Zb,shimConnectionState:d2,shimMaxMessageSize:Yb,shimParameterlessSetLocalDescription:Jb,shimRTCIceCandidate:Hb,shimRTCIceCandidateRelayProtocol:u2,shimSendThrowTypeError:Qb},Symbol.toStringTag,{value:"Module"}));function J2e({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=jQ,r=H2e(e),a={browserDetails:r,commonShim:Z2e,extractVersion:Tg,disableLog:W2e,disableWarnings:q2e,sdp:Q2e};switch(r.browser){case"chrome":if(!GB||!l2||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=GB,Zb(e,r),Jb(e),kQ(e,r),AQ(e),l2(e,r),PQ(e),DQ(e,r),EQ(e),TQ(e),RQ(e,r),Hb(e),u2(e),d2(e),Yb(e,r),Qb(e),f2(e,r);break;case"firefox":if(!WB||!c2||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=WB,Zb(e,r),Jb(e),MQ(e,r),c2(e,r),IQ(e),$Q(e),OQ(e),LQ(e),FQ(e),BQ(e),VQ(e),zQ(e),UQ(e),Hb(e),d2(e),Yb(e,r),Qb(e);break;case"safari":if(!qB||!t.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=qB,Zb(e,r),Jb(e),YQ(e),ZQ(e),WQ(e),KQ(e),GQ(e),QQ(e),qQ(e),JQ(e),Hb(e),u2(e),Yb(e,r),Qb(e),f2(e,r);break;default:n("Unsupported browser!");break}return a}J2e({window:typeof window>"u"?void 0:window});const X2e={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},eTe={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},tTe={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},nTe={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};var _g=e=>e instanceof Date,tZ=e=>e==null;const nZ=e=>typeof e=="object";var HB=e=>!tZ(e)&&!Array.isArray(e)&&nZ(e)&&!_g(e),YB=e=>tZ(e)||!nZ(e);function rZ(e,t){if(YB(e)||YB(t))return e===t;if(_g(e)&&_g(t))return e.getTime()===t.getTime();const n=e,r=t,a=Object.keys(n),s=Object.keys(r);if(a.length!==s.length)return!1;for(const o of a){const l=n[o];if(!s.includes(o))return!1;if(o!=="ref"){const c=r[o];if(_g(l)&&_g(c)||HB(l)&&HB(c)||Array.isArray(l)&&Array.isArray(c)?!rZ(l,c):l!==c)return!1}}return!0}function rTe(e){const{onClick:t,disabled:n,className:r}=e,a={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...e.style};return i.jsxs("svg",{onClick:n?void 0:t,className:r,style:a,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Camera Off"}),i.jsx("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"})]})}function aTe(e){const{onClick:t,disabled:n,className:r}=e,a={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...e.style};return i.jsxs("svg",{onClick:n?void 0:t,className:r,style:a,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Camera On"}),i.jsx("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),i.jsx("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"})]})}function sTe(e){const{scanning:t,startScanning:n,stopScanning:r}=e,[a,s]=p.useState(!1);function o(){s(!0),t?r():n(),setTimeout(()=>s(!1),1e3)}return i.jsx("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:a?"default":"pointer"},children:i.jsx(t?rTe:aTe,{disabled:a,onClick:o})})}function iTe(e){const{onClick:t,className:n,style:r}=e;return i.jsxs("svg",{onClick:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Torch Off"}),i.jsx("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"})]})}function oTe(e){const{onClick:t,className:n,style:r}=e;return i.jsxs("svg",{onClick:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:r,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Torch On"}),i.jsx("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"})]})}function lTe(e){const{status:t,scanning:n,torchToggle:r}=e;function a(s){r(s)}return n&&r?i.jsx("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"},children:t?i.jsx(iTe,{onClick:()=>a(!1)}):i.jsx(oTe,{onClick:()=>a(!0)})}):null}function cTe(e){const{onClick:t,className:n,disabled:r=!1}=e,a={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...e.style};return i.jsxs("svg",{onClick:r?void 0:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:a,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Zoom In"}),i.jsx("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"})]})}function uTe(e){const{onClick:t,className:n,disabled:r=!1}=e,a={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",fill:r?"grey":"yellow",...e.style};return i.jsxs("svg",{onClick:r?void 0:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:n,style:a,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:"Zoom Out"}),i.jsx("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"})]})}function dTe(e){const{scanning:t,capabilities:n,onZoom:r,value:a}=e;if(!t||!r)return null;const s=(n.max-n.min)/3;return i.jsxs(p.Fragment,{children:[i.jsx("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"},children:i.jsx(uTe,{disabled:a<=n.min,onClick:function(){r(Math.max(a-s,n.min))}})}),i.jsx("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"},children:i.jsx(cTe,{disabled:a>=n.max,onClick:function(){r(Math.min(a+s,n.max))}})})]})}const lc={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function fTe(e){const{scanning:t,capabilities:n,onOff:r,torch:a,zoom:s,startScanning:o,stopScanning:l}=e;return i.jsx("div",{style:lc.fullContainer,children:i.jsxs("div",{style:lc.innerContainer,children:[i.jsx("div",{style:lc.overlay,children:i.jsxs("div",{style:lc.borderBox,children:[i.jsx("div",{style:lc.cornerTopLeft}),i.jsx("div",{style:lc.cornerTopRight}),i.jsx("div",{style:lc.cornerBottomLeft}),i.jsx("div",{style:lc.cornerBottomRight})]})}),r&&i.jsx(sTe,{scanning:t,startScanning:o,stopScanning:l}),a&&n.torch&&i.jsx(lTe,{scanning:t,status:a.status,torchToggle:a.toggle}),s&&n.zoom&&i.jsx(dTe,{scanning:t,capabilities:n.zoom,value:s.value,onZoom:s.onChange})]})})}function H0(e){if(e===null)throw new Error("Canvas should always be defined when component is mounted.");const t=e.getContext("2d");if(t===null)throw new Error("Canvas 2D context should be non-null");t.clearRect(0,0,e.width,e.height)}function hTe(e){const{onScan:t,constraints:n,formats:r=["any"],paused:a=!1,components:s,children:o,styles:l,classNames:c,allowMultiple:u,scanDelay:d,onError:f,sound:h}=e,m=p.useRef(null),g=p.useRef(null),v=p.useRef(null),b=p.useMemo(()=>({...eTe,...n}),[n]),x=p.useMemo(()=>({...X2e,...s}),[s]),[y,w]=p.useState(!1),[S,C]=p.useState(!0),[k,N]=p.useState(b),P=function(){const M=p.useRef(Promise.resolve({type:"stop",data:{}})),$=p.useRef(null),B=p.useRef(null),[te,q]=p.useState({}),[ae,he]=p.useState({}),je=p.useCallback(async(ke,we)=>{var Oe,Xe;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((Oe=navigator==null?void 0:navigator.mediaDevices)==null?void 0:Oe.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const re=await navigator.mediaDevices.getUserMedia({audio:!1,video:we});ke.srcObject!==void 0?ke.srcObject=re:ke.mozSrcObject!==void 0?ke.mozSrcObject=re:window.URL.createObjectURL?ke.src=window.URL.createObjectURL(re):window.webkitURL?ke.src=window.webkitURL.createObjectURL(re):ke.src=re.id,await Promise.race([ke.play(),new Promise(Fe=>setTimeout(Fe,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(Fe=>setTimeout(Fe,500));const[He]=re.getVideoTracks();return he(He.getSettings()),q(((Xe=He==null?void 0:He.getCapabilities)==null?void 0:Xe.call(He))??{}),$.current=re,B.current=He,{type:"start",data:{videoEl:ke,stream:re,constraints:we}}},[]),Ee=p.useCallback(async(ke,we)=>{ke.src="",ke.srcObject=null,ke.load();for(const re of we.getTracks())we.removeTrack(re),re.stop();return $.current=null,B.current=null,he({}),{type:"stop",data:{}}},[]),me=p.useCallback(async(ke,{constraints:we,restart:re=!1})=>{let He=null;M.current=M.current.then(Xe=>{if(Xe.type==="start"){const{data:{videoEl:Fe,stream:Se,constraints:de}}=Xe;return re||ke!==Fe||we!==de?Ee(Fe,Se).then(()=>je(ke,we)):Xe}return je(ke,we)}).catch(Xe=>(He=Xe,{type:"stop",data:{}}));const Oe=await M.current;if(He)throw He;if(Oe.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[je,Ee]),Ve=p.useCallback(async()=>{if(M.current=M.current.then(ke=>{if(ke.type==="stop")return ke;const{data:{videoEl:we,stream:re}}=ke;return Ee(we,re)}),(await M.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[Ee]),ne=p.useCallback(async ke=>{var re;const we=B.current;if(!we)throw new Error("No active video track found.");{(re=ke.advanced)!=null&&re[0].zoom&&we.getCapabilities().torch&&await we.applyConstraints({advanced:[{torch:!1}]}),await we.applyConstraints(ke);const He=we.getCapabilities(),Oe=we.getSettings();q(He),he(Oe)}},[]);return p.useEffect(()=>()=>{(async()=>await Ve())()},[Ve]),{capabilities:te,settings:ae,startCamera:me,stopCamera:Ve,updateConstraints:ne}}(),E=p.useRef(P),R=p.useRef(f),O=p.useRef(x.tracker);p.useEffect(()=>{E.current=P},[P]),p.useEffect(()=>{R.current=f},[f]),p.useEffect(()=>{O.current=x.tracker},[x.tracker]);const K=p.useCallback(M=>{(function($,B,te,q){const ae=te;if(ae==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const he=B;if(he==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if($.length===0||q===void 0)H0(ae);else{const je=he.offsetWidth,Ee=he.offsetHeight,me=he.videoWidth,Ve=he.videoHeight,ne=Math.max(je/me,Ee/Ve),ke=me*ne,we=Ve*ne,re=ke/me,He=we/Ve,Oe=(je-ke)/2,Xe=(Ee-we)/2,Fe=({x:Nt,y:We})=>({x:Math.floor(Nt*re),y:Math.floor(We*He)}),Se=({x:Nt,y:We})=>({x:Math.floor(Nt+Oe),y:Math.floor(We+Xe)}),de=$.map(Nt=>{const{boundingBox:We,cornerPoints:kt}=Nt,{x:ct,y:Ft}=Se(Fe({x:We.x,y:We.y})),{x:nn,y:Et}=Fe({x:We.width,y:We.height});return{...Nt,cornerPoints:kt.map(Lt=>Se(Fe(Lt))),boundingBox:DOMRectReadOnly.fromRect({x:ct,y:Ft,width:nn,height:Et})}});ae.width=he.offsetWidth,ae.height=he.offsetHeight;const ve=ae.getContext("2d");if(ve===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");q(de,ve)}})(M,m.current,v.current,O.current)},[]),{startScanning:J,stopScanning:Q}=function(M){const{videoElementRef:$,onScan:B,onFound:te,retryDelay:q=100,scanDelay:ae=0,formats:he=[],allowMultiple:je=!1,sound:Ee=!0}=M,me=p.useRef(new i2({formats:he})),Ve=p.useRef(null),ne=p.useRef(null);p.useEffect(()=>{me.current=new i2({formats:he})},[he]),p.useEffect(()=>{typeof window<"u"&&Ee&&(Ve.current=new Audio(typeof Ee=="string"?Ee:"data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"))},[Ee]);const ke=p.useCallback(we=>async re=>{if($.current!==null&&$.current.readyState>1){const{lastScan:He,contentBefore:Oe,lastScanHadContent:Xe}=we;if(re-He<q)ne.current=window.requestAnimationFrame(ke(we));else{const Fe=await me.current.detect($.current),Se=Fe.some(We=>!Oe.includes(We.rawValue)),de=Fe.length>0;let ve=we.lastOnScan;(Se||je&&de&&re-ve>=ae)&&(Ee&&Ve.current&&Ve.current.paused&&Ve.current.play().catch(We=>console.error("Error playing the sound",We)),ve=re,B(Fe)),de&&te(Fe),!de&&Xe&&te(Fe);const Nt={lastScan:re,lastOnScan:ve,lastScanHadContent:de,contentBefore:Se?Fe.map(We=>We.rawValue):Oe};ne.current=window.requestAnimationFrame(ke(Nt))}}},[$.current,B,te,q,je,ae,Ee]);return{startScanning:p.useCallback(()=>{const we=performance.now(),re={lastScan:we,lastOnScan:we,contentBefore:[],lastScanHadContent:!1};ne.current=window.requestAnimationFrame(ke(re))},[ke]),stopScanning:p.useCallback(()=>{ne.current!==null&&(window.cancelAnimationFrame(ne.current),ne.current=null)},[])}}({videoElementRef:m,onScan:t,onFound:K,formats:r,retryDelay:x.tracker===void 0?500:10,scanDelay:d,allowMultiple:u,sound:h});p.useEffect(()=>(w(!0),()=>{w(!1)}),[]),p.useEffect(()=>{y&&(Q(),J())},[y,J,Q]),p.useEffect(()=>{if(!rZ(b,k)){const M=b;n!=null&&n.deviceId&&delete M.facingMode,N(M)}},[n,b,k]);const G=p.useMemo(()=>({constraints:k,shouldStream:y&&!a}),[k,y,a]),z=p.useCallback(async()=>{var te;const M=m.current;if(M==null)throw new Error("Video should be defined when component is mounted.");const $=g.current;if($==null)throw new Error("Canvas should be defined when component is mounted.");const B=$.getContext("2d");if(B==null)throw new Error("Canvas should be defined when component is mounted.");if(G.shouldStream){await E.current.stopCamera(),C(!1);try{await E.current.startCamera(M,G),M?C(!0):await E.current.stopCamera()}catch(q){(te=R.current)==null||te.call(R,q),console.error("error",q)}}else $.width=M.videoWidth,$.height=M.videoHeight,B.drawImage(M,0,0,M.videoWidth,M.videoHeight),await E.current.stopCamera(),C(!1)},[G]);p.useEffect(()=>{(async()=>await z())()},[z]);const U=p.useMemo(()=>G.shouldStream&&S,[G.shouldStream,S]);return p.useEffect(()=>{if(U){if(g.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(H0(g.current),v.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(H0(v.current),m.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");J()}},[U,J]),i.jsxs("div",{style:{...tTe,...l==null?void 0:l.container},className:c==null?void 0:c.container,children:[i.jsx("video",{ref:m,style:{...nTe,...l==null?void 0:l.video,visibility:a?"hidden":"visible"},className:c==null?void 0:c.video,autoPlay:!0,muted:!0,playsInline:!0}),i.jsx("canvas",{ref:g,style:{display:a?"block":"none",position:"absolute",width:"100%",height:"100%"}}),i.jsx("canvas",{ref:v,style:{position:"absolute",width:"100%",height:"100%"}}),i.jsxs("div",{style:{position:"absolute",width:"100%",height:"100%"},children:[x.finder&&i.jsx(fTe,{scanning:S,capabilities:P.capabilities,onOff:x.onOff,zoom:x.zoom&&P.settings.zoom?{value:P.settings.zoom,onChange:async M=>{const $={...k,advanced:[{zoom:M}]};await P.updateConstraints($)}}:void 0,torch:x.torch?{status:P.settings.torch??!1,toggle:async M=>{const $={...k,advanced:[{torch:M}]};await P.updateConstraints($)}}:void 0,startScanning:async()=>await z(),stopScanning:async()=>{await P.stopCamera(),H0(v.current),C(!1)}}),o]})]})}function mTe(e,t=[]){let n=[];function r(s,o){const l=p.createContext(o);l.displayName=s+"Context";const c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,v=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=p.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:b,children:m})};u.displayName=s+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,pTe(a,...t)]}function pTe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var gTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aZ=gTe.reduce((e,t)=>{const n=Vy(`Primitive.${t}`),r=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),qR="Progress",HR=100,[vTe]=mTe(qR),[yTe,xTe]=vTe(qR),sZ=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:s=bTe,...o}=e;(a||a===0)&&!QB(a)&&console.error(wTe(`${a}`,"Progress"));const l=QB(a)?a:HR;r!==null&&!ZB(r,l)&&console.error(STe(`${r}`,"Progress"));const c=ZB(r,l)?r:null,u=S1(c)?s(c,l):void 0;return i.jsx(yTe,{scope:n,value:c,max:l,children:i.jsx(aZ.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":S1(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":lZ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});sZ.displayName=qR;var iZ="ProgressIndicator",oZ=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=xTe(iZ,n);return i.jsx(aZ.div,{"data-state":lZ(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});oZ.displayName=iZ;function bTe(e,t){return`${Math.round(e/t*100)}%`}function lZ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function S1(e){return typeof e=="number"}function QB(e){return S1(e)&&!isNaN(e)&&e>0}function ZB(e,t){return S1(e)&&!isNaN(e)&&e<=t&&e>=0}function wTe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${HR}\`.`}function STe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${HR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cZ=sZ,CTe=oZ;const op=p.forwardRef(({className:e,value:t,...n},r)=>i.jsx(cZ,{ref:r,className:Re("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:i.jsx(CTe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));op.displayName=cZ.displayName;const jTe=({onBack:e,onSwitchToGenerator:t,dataType:n,expectedPacketType:r,saveData:a,validateData:s,getDataSummary:o,decompressData:l,title:c,description:u,completionMessage:d,onComplete:f})=>{const[h,m]=p.useState(null),[g,v]=p.useState(!1),[b,x]=p.useState(null),[y,w]=p.useState({received:0,needed:0,percentage:0}),[S,C]=p.useState([]),[k,N]=p.useState(!1),[P,E]=p.useState(null),[R,O]=p.useState([]),[K,J]=p.useState(null),Q=p.useRef(null),G=p.useRef(new Map),z=p.useRef(null),U=p.useRef(null),M=p.useCallback(me=>{},[]),$=p.useCallback(()=>{const me=Array.from(G.current.keys()).sort((re,He)=>re-He);if(me.length===0)return[];const Ve=[],ne=me[0],ke=me[me.length-1];if(ne===void 0||ke===void 0)return[];for(let re=0;re<=ke;re++)G.current.has(re)||Ve.push(re);const we=ke;return we!==U.current&&(U.current=we,J(we),M(` Estimated total packets: ${we} (based on max packet ID: ${ke})`)),Ve},[M]),B=p.useRef(0),te=p.useRef(0),q=p.useRef({allowDuplicates:k,expectedPacketType:r,saveData:a,validateData:s,completionMessage:d,getDataSummary:o,onBack:e,dataType:n,decompressData:l,onComplete:f});p.useEffect(()=>{q.current={allowDuplicates:k,expectedPacketType:r,saveData:a,validateData:s,completionMessage:d,getDataSummary:o,onBack:e,dataType:n,decompressData:l,onComplete:f}},[k,r,a,s,d,o,e,n,l,f]);const ae=p.useRef(0),he=p.useCallback(async me=>{const{allowDuplicates:Ve,expectedPacketType:ne,saveData:ke,validateData:we,decompressData:re}=q.current,He=Date.now();if(!(He-B.current<50)){B.current=He;try{if(!me||me.length===0||!me[0]){M(" Empty scan result");return}let Oe;try{Oe=JSON.parse(me[0].rawValue)}catch{M(" Not a fountain code QR (invalid JSON)");return}if(!Oe.type||!Oe.sessionId||Oe.packetId===void 0){M(" Not a fountain code packet (missing required fields)");return}if(M(` Scanned packet ${Oe.packetId} with indices [${Oe.indices.join(",")}]`),M(` Session: ${Oe.sessionId.slice(-8)}`),Oe.type!==ne){M(` Invalid QR code format - expected ${ne}, got ${Oe.type}`),oe.error("Invalid QR code format");return}if(M(` Packets before processing: ${G.current.size}`),z.current?z.current!==Oe.sessionId&&(M(` Session change noted: ${z.current.slice(-4)}  ${Oe.sessionId.slice(-4)}`),M(" Continuing with same decoder (ignoring session change)")):(M(` First session: k=${Oe.k}, bytes=${Oe.bytes}`),z.current=Oe.sessionId,m(Oe.sessionId),Q.current=VEe(),oe.info(`Started session: ${Oe.sessionId.slice(-8)}`)),M(` Packets after session check: ${G.current.size}`),G.current.has(Oe.packetId)&&!Ve){M(` Duplicate packet ${Oe.packetId} ignored`),M(` Current: indices [${Oe.indices.join(",")}]`);return}if(G.current.set(Oe.packetId,Oe),M(` Added packet ${Oe.packetId}, total: ${G.current.size}`),Q.current)try{const ve=r2e(Oe.data),Nt=BEe(ve);M(" Adding block to decoder...");const We=Q.current.addBlock(Nt);if(M(` Decoder result: ${We?"COMPLETE!":"Need more"}`),We){M(" DECODING COMPLETE!");const kt=Q.current.getDecoded();M(` Decoded data size: ${kt.length} bytes`);let ct;try{if(kt.length>2&&kt[0]===31&&kt[1]===139){if(M(" Detected compressed data, decompressing..."),E(!0),re)ct=re(kt);else{const nn=OEe(kt),Et=new TextDecoder().decode(nn);ct=JSON.parse(Et)}M(" Decompression successful")}else{M(" Detected uncompressed data"),E(!1);const nn=new TextDecoder().decode(kt);ct=JSON.parse(nn),M(" JSON parsing successful")}}catch(Ft){M(` Data processing failed: ${Ft instanceof Error?Ft.message:String(Ft)}`),oe.error("Failed to process reconstructed data");return}M(` Parsed data type: ${typeof ct}`),M(` Data keys: ${ct&&typeof ct=="object"?Object.keys(ct).join(", "):"N/A"}`),we(ct)?(x(ct),v(!0),w({received:G.current.size,needed:G.current.size,percentage:100}),await ke(ct)):(M(" Reconstructed data failed validation"),oe.error("Reconstructed data is invalid"));return}}catch(ve){M(` Block error: ${ve instanceof Error?ve.message:String(ve)}`),oe.error("Failed to process packet");return}const Xe=G.current.size,Fe=Math.max(Oe.k+3,10);(Fe>ae.current||ae.current===0)&&(ae.current=Fe);const Se=ae.current,de=Math.min(Xe/Se*100,99);if(w({received:Xe,needed:Se,percentage:de}),Date.now()-te.current>500){const ve=$();ve.length>0&&ve.length<=20?M(` Missing packets: [${ve.join(", ")}]`):ve.length>20?M(` Missing ${ve.length} packets: [${ve.slice(0,5).join(", ")}, ..., ${ve.slice(-5).join(", ")}]`):M(" No missing packets in current range!"),O(Nt=>Nt.length===ve.length&&Nt.length>0&&ve.length>0&&Nt[0]===ve[0]?Nt:ve),te.current=Date.now()}Xe>Oe.k&&de>90&&(M(` High packet count but no completion yet: k=${Oe.k}, received=${Xe}`),M(" Decoder state check needed - may need more packets than theoretical minimum"),Xe>Se*1.5&&(M(` SCANNING MAY BE STUCK: ${Xe} packets >> ${Se} estimated`),M(" Consider checking the generator for packet navigation controls")))}catch(Oe){M(` QR scan error: ${Oe instanceof Error?Oe.message:String(Oe)}`),console.error("QR scan error:",Oe),oe.error("Error processing QR code")}}},[M,$]),je=()=>{z.current=null,m(null),Q.current=null,G.current.clear(),U.current=null,w({received:0,needed:0,percentage:0}),v(!1),x(null),C([]),E(null),O([]),J(null),M(" Scanner reset")},Ee=()=>{f?f():(oe.success(`${n} data loaded successfully!`),e())};return g&&b?i.jsx("div",{className:"h-screen w-full flex flex-col items-center px-4 pt-6 pb-6",children:i.jsxs("div",{className:"flex flex-col gap-4 max-w-md w-full",children:[i.jsxs(Z,{onClick:e,variant:"outline",size:"sm",className:"self-start",children:[i.jsx(Vue,{className:"h-4 w-4 mr-2"}),"Back"]}),i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{className:"text-center",children:[i.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:i.jsx(Br,{className:"h-8 w-8 text-green-500"})}),i.jsx(Ge,{className:"text-green-600",children:"Reconstruction Complete!"}),i.jsx(Fn,{children:d})]}),i.jsxs($e,{className:"flex flex-col items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"secondary",children:o(b)}),i.jsxs(Le,{variant:"outline",children:[y.received," packets received"]})]}),i.jsxs("div",{className:"w-full space-y-2",children:[i.jsx(Z,{onClick:Ee,className:"w-full",children:"Continue to App"}),i.jsx(Z,{onClick:je,variant:"outline",className:"w-full",children:"Scan More Data"})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground text-start space-y-1",children:[i.jsx("p",{children:" Data saved to local storage"}),i.jsx("p",{children:" Ready to use throughout the app"})]})]})}):i.jsx("div",{className:"h-screen w-full flex flex-col items-center gap-6 px-4 pt-(--header-height)",children:i.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md w-full max-h-full overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx(Z,{onClick:e,variant:"ghost",size:"sm",className:"flex items-center gap-2",children:" Back"}),t&&i.jsx(Z,{onClick:t,variant:"outline",size:"sm",children:"Switch to Generator"})]}),i.jsxs(ar,{children:[i.jsx(LC,{className:"col-span-2",children:" Scanning Instructions"}),i.jsx(pr,{className:"col-span-2",children:"Scan fountain code packets in any order. Reconstruction will complete automatically when enough data is received."})]}),i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{className:"text-center",children:[i.jsx(Ge,{children:c}),i.jsx(Fn,{children:u})]}),i.jsxs($e,{className:"flex flex-col items-center gap-4",children:[h&&i.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[i.jsxs(Le,{variant:"secondary",children:["Session: ...",h.slice(-8)]}),i.jsxs(Le,{variant:"outline",children:[y.received," packets"]}),i.jsxs(Le,{variant:"outline",children:[y.percentage.toFixed(1),"%"]}),P===!0&&i.jsx(Le,{variant:"default",className:"bg-green-600",children:" Compressed"}),P===!1&&i.jsx(Le,{variant:"outline",children:" Standard"})]}),i.jsx("div",{className:"w-full h-64 md:h-80 overflow-hidden rounded-lg",children:i.jsx(hTe,{components:{finder:!1},scanDelay:100,styles:{video:{borderRadius:"7.5%",width:"100%",height:"100%",objectFit:"cover"}},onScan:he,onError:()=>oe.error("QR Scanner Error")})}),y.received>0&&i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[y.percentage.toFixed(1),"%"]})]}),i.jsx(op,{value:Math.min(y.percentage,100),className:"w-full"}),R.length>0&&K&&i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-muted-foreground",children:"Missing Packets"}),i.jsxs(Le,{variant:"outline",className:"text-xs",children:[R.length," missing"]})]}),i.jsx("div",{className:"text-xs text-muted-foreground p-2 bg-muted rounded max-h-16 overflow-y-auto",children:R.length<=30?i.jsxs("span",{children:["#",R.map(me=>me+1).join(", #")]}):i.jsxs("span",{children:["#",R.slice(0,10).map(me=>me+1).join(", #"),i.jsxs("span",{className:"text-orange-500",children:[" ... and ",R.length-10," more"]})]})})]}),R.length===0&&K&&y.received>5&&i.jsx("div",{className:"mt-2 text-sm",children:i.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[i.jsx(Br,{className:"h-3 w-3"}),i.jsxs("span",{className:"text-xs",children:["All packets in range #",1," - #",K+1]})]})})]}),i.jsxs("div",{className:"flex gap-2 w-full flex-wrap",children:[h&&i.jsx(Z,{onClick:je,variant:"outline",className:"flex-1 min-w-0",children:"Reset Scanner"}),!1]})]})]}),!1]})})};function NTe(e){var r,a;const n=((a=(r=Ja().state)==null?void 0:r.inputs)==null?void 0:a.alliance)||"blue";return i.jsx(xke,{actions:e.actions,onAddAction:e.onAddAction,onUndo:e.onUndo,canUndo:e.canUndo,alliance:n,matchNumber:e.matchNumber,matchType:e.matchType,teamNumber:e.teamNumber,onBack:e.onBack,onProceed:e.onProceed,children:i.jsx(kTe,{})})}function kTe(){const{actions:e,onAddAction:t,onUndo:n,canUndo:r,pendingWaypoint:a,setPendingWaypoint:s,accumulatedFuel:o,setAccumulatedFuel:l,fuelHistory:c,setFuelHistory:u,resetFuel:d,stuckStarts:f,isAnyStuck:h,isFieldRotated:m,toggleFieldOrientation:g,alliance:v,matchNumber:b,matchType:x,teamNumber:y,onBack:w,onProceed:S,generateId:C,activeZone:k,climbLevel:N,setClimbLevel:P,climbResult:E,setClimbResult:R,showPostClimbProceed:O,setShowPostClimbProceed:K,canvasDimensions:J,containerRef:Q,isSelectingScore:G,setIsSelectingScore:z,isSelectingPass:U,setIsSelectingPass:M,isSelectingCollect:$,setIsSelectingCollect:B}=yke(),te=p.useRef({canvas:null}),q=Gm(),[ae,he]=p.useState(!1),[je,Ee]=p.useState(),[me,Ve]=p.useState(!1),[ne,ke]=p.useState(()=>{const ee=localStorage.getItem("teleopBrokenDownStart");return ee?parseInt(ee,10):null}),[we,re]=p.useState(()=>{const ee=localStorage.getItem("teleopBrokenDownTime");return ee?parseInt(ee,10):0}),He=ne!==null;p.useEffect(()=>{(async()=>{if(y)try{const Ne=localStorage.getItem("eventKey")||"",ge=await Jm(Number(y),Ne);ge&&ge.gameData&&Ee(ge.gameData.fuelCapacity)}catch(Ne){console.error("Failed to load pit scouting data:",Ne)}})()},[y]),p.useEffect(()=>{d()},[]),p.useEffect(()=>{a||d()},[a,d]);const Oe=k?K7[k]:void 0;p.useEffect(()=>{q&&he(!0)},[q]);const Xe=e.filter(ee=>ee.type==="score").reduce((ee,Ne)=>ee+Math.abs(Ne.fuelDelta||0),0),Fe=e.filter(ee=>ee.type==="pass").reduce((ee,Ne)=>ee+Math.abs(Ne.fuelDelta||0),0),Se=e.filter(ee=>ee.type==="defense").length,de=e.filter(ee=>ee.type==="steal").length,ve=p.useCallback((ee,Ne,ge,Ue,st)=>{const Ye={id:C(),type:ee,action:Ne,position:ge,fuelDelta:Ue,amountLabel:st,timestamp:Date.now()};t(Ye)},[t,C]),Nt=()=>{if(ne){const ee=Date.now()-ne,Ne=we+ee;re(Ne),localStorage.setItem("teleopBrokenDownTime",String(Ne)),ke(null),localStorage.removeItem("teleopBrokenDownStart")}else{const ee=Date.now();ke(ee),localStorage.setItem("teleopBrokenDownStart",String(ee))}},We=(ee,Ne,ge,Ue)=>{if(G){const st={id:C(),type:"score",position:ee,action:Ne,fuelDelta:-8,amountLabel:"...",timestamp:Date.now()};l(0),u([]),s(st),z(!1)}else if(U||ge){const st={id:C(),type:"pass",position:ee,action:"partner",fuelDelta:0,amountLabel:"...",timestamp:Date.now()};l(0),u([]),s(st),M(!1)}else($||Ue)&&(ve("collect","field",ee,8),B(!1))},kt=ee=>{const Ne=cl[ee];if(!Ne)return;const ge={x:Ne.x,y:Ne.y};if(G){switch(ee){case"shot_hub":case"shot_outpost_close":case"shot_outpost_medium":case"shot_outpost_far":case"shot_depot_close":case"shot_depot_medium":case"shot_depot_far":We(ge,ee);break}return}if(!(a||U||He))switch(ee){case"trench1":case"trench2":case"bump1":case"bump2":const Ue=ee.includes("trench")?"trench":"bump";ve("traversal",Ue,ge);break;case"hub":z(!0);break;case"pass":case"pass_alliance":M(!0),We(ge,ee,!0);break;case"collect_neutral":case"collect_alliance":B(!0),We(ge,ee,void 0,!0);break;case"tower":s({id:C(),type:"climb",action:"attempt",position:ge,timestamp:Date.now(),zone:"allianceZone"}),P(void 0),R("success");break;case"defense_alliance":case"defense_neutral":case"defense_opponent":t({id:C(),type:"defense",timestamp:Date.now()});break;case"pass_opponent":M(!0),We(ge,ee,!0);break;case"steal":t({id:C(),type:"steal",timestamp:Date.now()});break}},ct=ee=>{l(Ne=>Ne+ee),u(Ne=>[...Ne,ee])},Ft=()=>{if(!a||o===0)return;const ee={...a,fuelDelta:a.type==="score"?-o:o,amountLabel:`${o}`};t(ee),s(null),l(0),u([])},nn=()=>{s(null),l(0),u([]),z(!1),M(!1)},Et=()=>{if(c.length===0)return;const ee=c[c.length-1];l(Ne=>Ne-ee),u(Ne=>Ne.slice(0,-1))},Lt=()=>{s(null),P(void 0)},An=()=>{ne&&ke(null),n&&n()},mn=G7("teleop","allianceZone"),Zn=i.jsxs("div",{className:Re("flex flex-col gap-2",ae&&"h-full"),children:[i.jsx(BC,{phase:"teleop",stats:[{label:"Scored",value:Xe,color:"green"},{label:"Passed",value:Fe,color:"purple"}],currentZone:k,isFullscreen:ae,onFullscreenToggle:()=>he(!ae),actionLogSlot:i.jsx(Kke,{actions:e,open:me,onOpenChange:Ve}),onActionLogOpen:()=>Ve(!0),matchNumber:b,matchType:x,teamNumber:y,alliance:v,isFieldRotated:m,canUndo:r,onUndo:An,onBack:w,onProceed:()=>{if(ne){const ee=Date.now()-ne,Ne=we+ee;localStorage.setItem("teleopBrokenDownTime",String(Ne))}S&&S()},toggleFieldOrientation:g,isBrokenDown:He,onBrokenDownToggle:Nt}),i.jsx("div",{className:Re("flex-1 relative",ae?"h-full flex items-center justify-center":""),children:i.jsxs("div",{ref:Q,className:Re("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none","w-full aspect-[2/1]",ae?"max-h-[85vh] m-auto":"h-auto"),style:{transform:m?"rotate(180deg)":void 0},children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx($d,{ref:te,actions:e,pendingWaypoint:a,alliance:v,isFieldRotated:m,width:J.width,height:J.height,drawConnectedPaths:!1,drawingZoneBounds:Oe}),!a&&!G&&!U&&i.jsx(i.Fragment,{children:mn.map(ee=>{let Ne=cl[ee];if(!Ne)return null;let ge;return ee==="defense_alliance"||ee==="defense_neutral"||ee==="defense_opponent"?ge=Se:ee==="steal"&&(ge=de),i.jsx(ev,{elementKey:ee,element:Ne,isVisible:!0,isDisabled:h&&!f[ee],isStuck:!!f[ee],count:ge,onClick:kt,alliance:v,isFieldRotated:m,containerWidth:J.width},ee)})}),G&&i.jsx("div",{className:"absolute inset-0 z-20",children:U7.map(ee=>i.jsx(ev,{elementKey:ee,element:cl[ee],isVisible:!0,onClick:kt,alliance:v,isFieldRotated:m,containerWidth:J.width,isDisabled:!1},ee))}),G&&i.jsx("div",{className:Re("absolute inset-0 z-30 flex items-end justify-center pb-4 pointer-events-none",m&&"rotate-180"),children:i.jsxs(De,{className:"pointer-events-auto bg-background/95 backdrop-blur-sm border-green-500/50 shadow-2xl py-2 px-3 flex flex-row items-center gap-4",children:[i.jsx(Le,{variant:"default",className:"bg-green-600",children:"SCORING MODE"}),i.jsx("span",{className:"text-sm font-medium",children:"Select (approximately) Where They Are"}),i.jsx(Z,{onClick:ee=>{ee.stopPropagation(),z(!1)},variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",children:""})]})}),a&&i.jsx(W7,{pendingWaypoint:a,accumulatedFuel:o,fuelHistory:c,isFieldRotated:m,alliance:v,robotCapacity:je,onFuelSelect:ct,onFuelUndo:Et,climbResult:E,onClimbResultSelect:ee=>R(ee),climbWithLevels:!0,climbLevel:N,onClimbLevelSelect:ee=>P(ee),onConfirm:a.type==="climb"?()=>{if(N&&E){const ee={...a,action:N,amountLabel:`${N} ${E==="success"?"":""}`,climbLevel:N,climbResult:E};t(ee),s(null),P(void 0),R("success"),K(!0)}}:Ft,onCancel:a.type==="climb"?Lt:nn}),O&&S&&i.jsx(fY,{isFieldRotated:m,onProceed:S,onStay:()=>K(!1),nextPhaseName:"Endgame"})]})})]});return ae?i.jsx("div",{className:"fixed inset-0 z-[100] bg-background p-4 flex flex-col",children:Zn}):Zn}const ATe=["Left Trench","Left Bump","Hub","Right Bump","Right Trench"],JB=["Cycler","Clean Up","Passer","Thief","Defense"];function PTe({gameData:e={},onGameDataChange:t}){const n=(a,s)=>{t({...e,[a]:s})},r=(a,s,o)=>{const l=e[a]||[],c=o?[...l,s]:l.filter(u=>u!==s);n(a,c)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Physical Specifications"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"maxLength",children:"Robot Max Length (inches, with any extension)"}),i.jsx(Qt,{id:"maxLength",type:"number",placeholder:"e.g., 30",value:e.maxLength||"",onChange:a=>n("maxLength",parseFloat(a.target.value)||0)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"maxWidth",children:"Robot Max Width (inches, with any extension)"}),i.jsx(Qt,{id:"maxWidth",type:"number",placeholder:"e.g., 28",value:e.maxWidth||"",onChange:a=>n("maxWidth",parseFloat(a.target.value)||0)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"maxHeight",children:"Robot Max Height (inches)"}),i.jsx(Qt,{id:"maxHeight",type:"number",placeholder:"e.g., 22",value:e.maxHeight||"",onChange:a=>n("maxHeight",parseFloat(a.target.value)||0)})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Z,{type:"button",variant:e.canGoUnderTrench?"default":"outline",onClick:()=>n("canGoUnderTrench",!e.canGoUnderTrench),className:"flex-1",children:'Can go under trench (22.25" clearance)'})})]})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Fuel Handling"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"fuelCapacity",children:"Fuel Capacity (max pieces held)"}),i.jsx(Qt,{id:"fuelCapacity",type:"number",placeholder:"e.g., 8",value:e.fuelCapacity||"",onChange:a=>n("fuelCapacity",parseInt(a.target.value)||0)})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Z,{type:"button",variant:e.canOutpostPickup?"default":"outline",onClick:()=>n("canOutpostPickup",!e.canOutpostPickup),className:"flex-1",children:"Can pickup from outpost chute"})}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Z,{type:"button",variant:e.canPassToCorral?"default":"outline",onClick:()=>n("canPassToCorral",!e.canPassToCorral),className:"flex-1",children:"Can pass fuel to corral"})})]})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Strategic Preferences"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{children:"Preferred Starting Position(s)"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:ATe.map(a=>i.jsx(Z,{type:"button",variant:(e.preferredStartPositions||[]).includes(a)?"default":"outline",onClick:()=>r("preferredStartPositions",a,!(e.preferredStartPositions||[]).includes(a)),className:"h-auto py-3",children:a},a))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{children:"Preferred Role - Active Shift"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:JB.map(a=>i.jsx(Z,{type:"button",variant:(e.preferredActiveRoles||[]).includes(a)?"default":"outline",onClick:()=>r("preferredActiveRoles",a,!(e.preferredActiveRoles||[]).includes(a)),className:"h-auto py-3",children:a},`active-${a}`))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{children:"Preferred Role - Inactive Shift"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:JB.map(a=>i.jsx(Z,{type:"button",variant:(e.preferredInactiveRoles||[]).includes(a)?"default":"outline",onClick:()=>r("preferredInactiveRoles",a,!(e.preferredInactiveRoles||[]).includes(a)),className:"h-auto py-3",children:a},`inactive-${a}`))})]})]})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Autonomous & Endgame"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Z,{type:"button",variant:e.canAutoClimbL1?"default":"outline",onClick:()=>n("canAutoClimbL1",!e.canAutoClimbL1),className:"flex-1",children:"Can climb Level 1 in auto"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"targetClimbLevel",children:"Target Endgame Climb Level"}),i.jsxs(Lr,{value:e.targetClimbLevel||"none",onValueChange:a=>n("targetClimbLevel",a),children:[i.jsx($r,{id:"targetClimbLevel",children:i.jsx(ia,{placeholder:"Select climb level"})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"none",children:"None"}),i.jsx(at,{value:"level1",children:"Level 1 (10 pts)"}),i.jsx(at,{value:"level2",children:"Level 2 (20 pts)"}),i.jsx(at,{value:"level3",children:"Level 3 (30 pts)"})]})]})]})]})]})]})}function uZ({phase:e,onAddAction:t,actions:n=[],onUndo:r,canUndo:a=!1,matchNumber:s,matchType:o,teamNumber:l,onBack:c,onProceed:u}){return e==="auto"?i.jsx(zke,{onAddAction:t,actions:n,onUndo:r,canUndo:a,matchNumber:s,matchType:o,teamNumber:l,onBack:c,onProceed:u}):i.jsx(NTe,{onAddAction:t,actions:n,onUndo:r,canUndo:a,matchNumber:s,matchType:o,teamNumber:l,onBack:c,onProceed:u})}function dZ({phase:e,status:t,onStatusUpdate:n}){const r=cd[e];if(!r)return null;const a=new Map;Object.entries(r).forEach(([o,l])=>{if(l.excludeFromUI)return;const c=l.group||"default";a.has(c)||a.set(c,[]),a.get(c).push({key:o,config:l})});const s={climb:"Tower Climb",status:"Status",roleActive:"Active Phase Role(s)",roleInactive:"Inactive Phase Role(s)",passingZone:"Passing Zones",accuracy:"Shooting Accuracy",default:"Status"};return i.jsx("div",{className:"space-y-6",children:Array.from(a.entries()).map(([o,l])=>{const c=["climb","accuracy"].includes(o);return i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-sm mb-3",children:s[o]||o}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:l.map(({key:u,config:d})=>{const f=t==null?void 0:t[u];return i.jsxs(Z,{onClick:()=>{if(c){const h={};l.forEach(m=>{h[m.key]=!1}),h[u]=!0,n(h)}else n({[u]:!(t!=null&&t[u])})},variant:f?"default":"outline",className:"h-auto py-2 flex flex-col items-center",style:f?{backgroundColor:"#3b82f6",color:"white"}:void 0,children:[i.jsxs("div",{className:"font-medium",children:[f?" ":"",d.label]}),d.description&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:d.description})]},u)})})]},o)})})}const ETe=()=>{var O,K,J,Q,G,z,U,M,$,B,te,q,ae,he,je;const{transformation:e}=uf(),t=Ja(),n=zo(),r=t.state,{getNextRoute:a,getPrevRoute:s,isLastPage:o}=ax(),l=o("autoStart"),[c,u]=p.useState(((K=(O=r==null?void 0:r.inputs)==null?void 0:O.startPoses)==null?void 0:K[0])||null),[d,f]=p.useState(((Q=(J=r==null?void 0:r.inputs)==null?void 0:J.startPoses)==null?void 0:Q[1])||null),[h,m]=p.useState(((z=(G=r==null?void 0:r.inputs)==null?void 0:G.startPoses)==null?void 0:z[2])||null),[g,v]=p.useState(((M=(U=r==null?void 0:r.inputs)==null?void 0:U.startPoses)==null?void 0:M[3])||null),[b,x]=p.useState(((B=($=r==null?void 0:r.inputs)==null?void 0:$.startPoses)==null?void 0:B[4])||null),[y,w]=p.useState(((q=(te=r==null?void 0:r.inputs)==null?void 0:te.startPoses)==null?void 0:q[5])||null),S=[c,d,h,g,b,y],C=[u,f,m,v,x,w],k=()=>S.some(me=>me===!0)?!0:(oe.error("Please select a starting position on the field"),!1),N=()=>{const Ee=s("autoStart")||"/game-start";n(Ee,{state:{inputs:{...(r==null?void 0:r.inputs)||{},startPosition:S.every(me=>me===!1)?[null,null,null,null,null,null]:S}}})},P=async()=>{if(!k())return;const Ee={...(r==null?void 0:r.inputs)||{},startPosition:S.every(me=>me===!1)?[null,null,null,null,null,null]:S};if(l){if(localStorage.setItem("startPosition",JSON.stringify(Ee.startPosition)),!await sx({inputs:Ee,transformation:e,onSuccess:()=>n("/game-start")}))return}else{const me=a("autoStart")||"/auto-scoring";n(me,{state:{inputs:Ee,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})}},E=S.findIndex(Ee=>Ee===!0),R=S.some(Ee=>Ee===!0);return i.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center px-4 pt-12 pb-24 2xl:pb-6",children:[i.jsx("div",{className:"w-full max-w-7xl xl:max-w-360 2xl:max-w-400",children:i.jsx("h1",{className:"text-2xl font-bold pb-4 xl:text-3xl 2xl:text-4xl xl:pb-6",children:"Auto Start"})}),i.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-6 xl:gap-8 2xl:gap-10 max-w-7xl xl:max-w-360 2xl:max-w-400 w-full flex-1",children:[i.jsx("div",{className:"w-full lg:flex-1",children:i.jsx(tke,{startPosition:S,setStartPosition:C,alliance:(ae=r==null?void 0:r.inputs)==null?void 0:ae.alliance})}),i.jsxs("div",{className:"flex flex-col gap-4 lg:gap-6 w-full lg:w-80 xl:w-96 2xl:w-104 lg:h-full pb-4 lg:pb-0",children:[(r==null?void 0:r.inputs)&&i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Match Details"})}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:r.inputs.matchNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Alliance:"}),i.jsx(Le,{variant:r.inputs.alliance==="red"?"destructive":"default",className:r.inputs.alliance==="blue"?"bg-blue-500 text-white":"bg-red-500 text-white",children:((he=r.inputs.alliance)==null?void 0:he.charAt(0).toUpperCase())+((je=r.inputs.alliance)==null?void 0:je.slice(1))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Team:"}),i.jsx("span",{className:"font-medium",children:r.inputs.selectTeam})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Scout:"}),i.jsx("span",{className:"font-medium",children:r.inputs.scoutName})]})]})]}),i.jsxs(De,{className:"hidden lg:block",children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ge,{className:"text-lg",children:"Instructions"})}),i.jsx($e,{children:i.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("li",{children:" Click on the starting zone where your robot begins"}),i.jsx("li",{children:" Only one position can be selected at a time"}),i.jsx("li",{children:" The selected position will be highlighted"}),i.jsx("li",{children:" You can change your selection by clicking a different zone"})]})})]}),R?i.jsx(De,{className:"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/20",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Le,{className:"bg-green-600",children:"Ready"}),i.jsxs("span",{className:"text-sm text-green-700 dark:text-green-300",children:["Starting position ",E," selected"]})]})})}):i.jsx(De,{className:"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950/20",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-5 w-5 text-orange-500 dark:text-amber-300"}),i.jsx("span",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Please select a starting position"})]})})}),i.jsxs("div",{className:"flex gap-4 w-full lg:mt-auto",children:[i.jsx(Z,{variant:"outline",onClick:N,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsx(Z,{onClick:P,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,disabled:!R,children:l?"Submit Match Data":"Continue to Auto"})]})]})]})]})},TTe=()=>{var k,N,P;const{transformation:e}=uf(),t=Ja(),n=zo(),r=t.state,{getNextRoute:a,getPrevRoute:s,isLastPage:o}=ax(),l=o("autoScoring"),c=()=>{const E=localStorage.getItem("autoStateStack");return E?JSON.parse(E):[]},u=()=>{const E=localStorage.getItem("autoRobotStatus");return E?JSON.parse(E):{}},d=()=>{const E=localStorage.getItem("autoUndoHistory");return E?JSON.parse(E):[]},[f,h]=p.useState(c()),[m,g]=p.useState(u()),[v,b]=p.useState(d());p.useEffect(()=>{localStorage.setItem("autoStateStack",JSON.stringify(f))},[f]),p.useEffect(()=>{localStorage.setItem("autoRobotStatus",JSON.stringify(m))},[m]),p.useEffect(()=>{localStorage.setItem("autoUndoHistory",JSON.stringify(v))},[v]);const x=E=>{const R={...E,timestamp:Date.now()};h(O=>[...O,R]),b(O=>[...O,{type:"action",data:R}])},y=E=>{b(R=>[...R,{type:"status",data:m}]),g(R=>({...R,...E}))},w=()=>{if(v.length===0){oe.error("No actions to undo");return}const E=v[v.length-1];E.type==="action"?h(R=>R.slice(0,-1)):E.type==="status"&&g(E.data),b(R=>R.slice(0,-1))},S=()=>{const E=s("autoScoring")||"/auto-start";n(E,{state:{inputs:r==null?void 0:r.inputs,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})},C=async()=>{if(l){if(!await sx({inputs:r==null?void 0:r.inputs,transformation:e,onSuccess:()=>n("/game-start")}))return}else{const E=a("autoScoring")||"/teleop-scoring";n(E,{state:{inputs:r==null?void 0:r.inputs,autoStateStack:f,autoRobotStatus:m,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})}};return i.jsxs("div",{className:"h-full flex flex-col items-center pt-12 pb-24 px-4 2xl:pb-6",children:[i.jsx("div",{className:"w-full max-w-7xl",children:i.jsx("h1",{className:"text-2xl font-bold pb-4",children:"Autonomous"})}),i.jsxs("div",{className:"flex flex-col-reverse lg:flex-row items-start gap-0 lg:gap-6 max-w-7xl w-full h-full min-h-0",children:[i.jsxs("div",{className:"w-full lg:flex-1 space-y-4 min-h-0 overflow-y-auto",children:[i.jsx(uZ,{phase:"auto",onAddAction:x,actions:f,onUndo:w,canUndo:v.length>0,matchNumber:(k=r==null?void 0:r.inputs)==null?void 0:k.matchNumber,matchType:(N=r==null?void 0:r.inputs)==null?void 0:N.matchType,teamNumber:(P=r==null?void 0:r.inputs)==null?void 0:P.selectTeam,onBack:S,onProceed:C}),i.jsxs("div",{className:"flex lg:hidden gap-4 w-full",children:[i.jsx(Z,{variant:"outline",onClick:S,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(Z,{onClick:C,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,children:[l?"Submit Match Data":"Continue to Teleop",i.jsx(Ad,{className:"ml-0.5"})]})]})]}),i.jsx("div",{className:"flex flex-col gap-4 w-full lg:w-80 pb-4 lg:pb-0 min-h-0",children:i.jsxs("div",{className:"flex flex-col gap-4 w-full lg:w-80 pb-4 lg:pb-0 min-h-0",children:[(r==null?void 0:r.inputs)&&i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Autonomous"})}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:r.inputs.matchNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Team:"}),i.jsx("span",{className:"font-medium",children:r.inputs.selectTeam})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),i.jsx(Le,{variant:"outline",children:f.length})]})]})]}),i.jsxs(De,{className:"h-64",children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Recent Actions"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-2 h-40 overflow-y-auto pb-2",children:[v.slice(-8).reverse().map((E,R)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:E.type==="action"?i.jsxs(i.Fragment,{children:[E.data.actionType||E.data.type||"Action",E.data.pieceType&&` - ${E.data.pieceType}`,E.data.location&&` @ ${E.data.location}`,E.data.level&&` (${E.data.level})`]}):i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Status Change"})}),i.jsxs(Le,{variant:"outline",className:"text-xs",children:["#",v.length-R]})]},R)),v.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No actions recorded yet"})]})})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Robot Status"})}),i.jsx($e,{children:i.jsx(dZ,{phase:"auto",status:m,onStatusUpdate:y})})]}),i.jsx(Z,{variant:"outline",onClick:w,disabled:v.length===0,className:"w-full",children:"Undo Last Change"}),i.jsxs("div",{className:"hidden lg:flex gap-4 w-full",children:[i.jsx(Z,{variant:"outline",onClick:S,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(Z,{onClick:C,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,children:[l?"Submit Match Data":"Continue to Teleop",i.jsx(Ad,{className:"ml-0.5"})]})]})]})})]})]})},_Te=()=>{var C,k,N;const e=Ja(),t=zo(),{transformation:n}=uf(),r=e.state,{getNextRoute:a,getPrevRoute:s,isLastPage:o}=ax(),l=o("teleopScoring"),c=()=>{const P=localStorage.getItem("teleopStateStack");return P?JSON.parse(P):[]},u=()=>{const P=localStorage.getItem("teleopRobotStatus");return P?JSON.parse(P):{}},d=()=>{const P=localStorage.getItem("teleopUndoHistory");return P?JSON.parse(P):[]},[f,h]=p.useState(c()),[m,g]=p.useState(u()),[v,b]=p.useState(d());p.useEffect(()=>{localStorage.setItem("teleopStateStack",JSON.stringify(f))},[f]),p.useEffect(()=>{localStorage.setItem("teleopRobotStatus",JSON.stringify(m))},[m]),p.useEffect(()=>{localStorage.setItem("teleopUndoHistory",JSON.stringify(v))},[v]);const x=P=>{const E={...P,timestamp:Date.now()};h(R=>[...R,E]),b(R=>[...R,{type:"action",data:E}])},y=()=>{if(v.length===0){oe.error("No changes to undo");return}const P=v[v.length-1];P.type==="action"?h(E=>E.slice(0,-1)):P.type==="status"&&g(P.data),b(E=>E.slice(0,-1))},w=()=>{const P=s("teleopScoring")||"/auto-scoring";t(P,{state:{inputs:r==null?void 0:r.inputs,autoStateStack:r==null?void 0:r.autoStateStack,autoRobotStatus:r==null?void 0:r.autoRobotStatus,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})},S=async()=>{if(l){if(!await sx({inputs:r==null?void 0:r.inputs,transformation:n,onSuccess:()=>t("/game-start")}))return}else{const P=a("teleopScoring")||"/endgame";t(P,{state:{inputs:r==null?void 0:r.inputs,autoStateStack:r==null?void 0:r.autoStateStack,autoRobotStatus:r==null?void 0:r.autoRobotStatus,teleopStateStack:f,teleopRobotStatus:m,...(r==null?void 0:r.rescout)&&{rescout:r.rescout}}})}};return i.jsxs("div",{className:"h-fit w-full flex flex-col items-center px-4 pt-12 pb-24 2xl:pb-6",children:[i.jsx("div",{className:"w-full max-w-7xl",children:i.jsx("h1",{className:"text-2xl font-bold pb-4",children:"Teleoperated"})}),i.jsxs("div",{className:"flex flex-col-reverse lg:flex-row items-start gap-0 lg:gap-6 max-w-7xl w-full h-full min-h-0",children:[i.jsxs("div",{className:"w-full lg:flex-1 space-y-4 min-h-0 overflow-y-auto",children:[i.jsx(uZ,{phase:"teleop",onAddAction:x,actions:f,onUndo:y,canUndo:v.length>0,matchNumber:(C=r==null?void 0:r.inputs)==null?void 0:C.matchNumber,matchType:(k=r==null?void 0:r.inputs)==null?void 0:k.matchType,teamNumber:(N=r==null?void 0:r.inputs)==null?void 0:N.selectTeam,onBack:w,onProceed:S}),i.jsxs("div",{className:"flex lg:hidden gap-4 w-full",children:[i.jsx(Z,{variant:"outline",onClick:w,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(Z,{onClick:S,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,children:[l?"Submit Match Data":"Continue to Endgame",i.jsx(Ad,{className:"ml-0.5"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4 w-full lg:w-80 pb-4 lg:pb-0 min-h-0",children:[(r==null?void 0:r.inputs)&&i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Teleoperated"})}),i.jsxs($e,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:r.inputs.matchNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Team:"}),i.jsx("span",{className:"font-medium",children:r.inputs.selectTeam})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),i.jsx(Le,{variant:"outline",children:f.length})]})]})]}),i.jsxs(De,{className:"h-64",children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Recent Actions"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-2 h-40 overflow-y-auto pb-2",children:[v.slice(-8).reverse().map((P,E)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:P.type==="action"?i.jsxs(i.Fragment,{children:[P.data.actionType||P.data.type||"Action",P.data.pieceType&&` - ${P.data.pieceType}`,P.data.location&&` @ ${P.data.location}`,P.data.level&&` (${P.data.level})`]}):i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Status Change"})}),i.jsxs(Le,{variant:"outline",className:"text-xs",children:["#",v.length-E]})]},E)),v.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No actions recorded yet"})]})})]}),Kb.pages.showTeleopStatus,i.jsx(Z,{variant:"outline",onClick:y,disabled:v.length===0,className:"w-full",children:"Undo Last Change"}),i.jsxs("div",{className:"hidden lg:flex gap-4 w-full",children:[i.jsx(Z,{variant:"outline",onClick:w,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(Z,{onClick:S,className:`flex-2 h-12 text-lg font-semibold ${l?"bg-green-600 hover:bg-green-700":""}`,children:[l?"Submit Match Data":"Continue to Endgame",i.jsx(Ad,{className:"ml-0.5"})]})]})]})]})]})};function fZ({className:e,...t}){return i.jsx("textarea",{"data-slot":"textarea",className:Re("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const DTe=()=>{var g,v,b,x;const{ui:e,transformation:t}=uf(),{StatusToggles:n}=e,r=Ja(),a=zo(),s=r.state,{getPrevRoute:o}=ax(),[l,c]=p.useState(()=>{const y=localStorage.getItem("endgameRobotStatus");return y?JSON.parse(y):{}}),[u,d]=p.useState(""),f=y=>{c(w=>{const S={...w,...y};return localStorage.setItem("endgameRobotStatus",JSON.stringify(S)),S}),oe.success("Status updated")},h=async()=>{localStorage.setItem("endgameRobotStatus",JSON.stringify(l)),await sx({inputs:s==null?void 0:s.inputs,transformation:t,comment:u,onSuccess:()=>a("/game-start")})},m=()=>{const y=o("endgame")||"/teleop-scoring";a(y,{state:{...s,endgameData:{robotStatus:l,comment:u}}})};return i.jsxs("div",{className:"h-full w-full flex flex-col items-center px-4 pt-12 pb-24",children:[i.jsx("div",{className:"w-full max-w-2xl",children:i.jsx("h1",{className:"text-2xl font-bold pb-4",children:"Endgame"})}),i.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-2xl w-full h-full min-h-0 pb-4",children:[(s==null?void 0:s.inputs)&&i.jsxs(De,{className:"w-full",children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Match Summary"})}),i.jsxs($e,{className:"space-y-2",children:[s.inputs.eventKey&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Event:"}),i.jsx("span",{className:"font-medium",children:s.inputs.eventKey})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:s.inputs.matchNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Alliance:"}),i.jsx(Le,{variant:s.inputs.alliance==="red"?"destructive":"default",className:s.inputs.alliance==="blue"?"bg-blue-500 text-white hover:bg-blue-600":"bg-red-500 text-white hover:bg-red-600",children:((g=s.inputs.alliance)==null?void 0:g.charAt(0).toUpperCase())+((v=s.inputs.alliance)==null?void 0:v.slice(1))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Team:"}),i.jsx("span",{className:"font-medium",children:s.inputs.selectTeam})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Auto Actions:"}),i.jsx(Le,{variant:"outline",children:((b=s==null?void 0:s.autoStateStack)==null?void 0:b.length)||0})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Teleop Actions:"}),i.jsx(Le,{variant:"outline",children:((x=s==null?void 0:s.teleopStateStack)==null?void 0:x.length)||0})]})]})]}),i.jsxs(De,{className:"w-full",children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Endgame Status"})}),i.jsx($e,{children:i.jsx(n,{phase:"endgame",status:l,onStatusUpdate:f})})]}),i.jsxs(De,{className:"w-full flex-1",children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"Comments"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"comment",children:"Additional Notes"}),i.jsx(fZ,{id:"comment",placeholder:"Enter any additional observations or notes about the match...",value:u,onChange:y=>d(y.target.value),className:"min-h-24"})]})})]}),i.jsxs("div",{className:"flex gap-4 w-full pb-8",children:[i.jsx(Z,{variant:"outline",onClick:m,className:"flex-1 h-12 text-lg",children:"Back"}),i.jsxs(Z,{onClick:h,className:"flex-2 h-12 text-lg font-semibold",style:{backgroundColor:"#16a34a",color:"white"},children:["Submit Match Data",i.jsx(Ad,{className:"ml-0.5"})]})]})]})]})};function RTe({teamNumber:e,eventKey:t,scoutName:n,onTeamNumberChange:r,onEventKeyChange:a,onScoutNameChange:s,onLoadExisting:o,isLoading:l=!1}){const c=d=>{const f=d.target.value;if(f==="")r("");else{const h=parseInt(f,10);!isNaN(h)&&h>0&&r(h)}},u=e!==""&&t!=="";return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Uw,{className:"h-5 w-5"}),"Basic Information"]}),o&&i.jsxs(Z,{variant:"outline",size:"sm",onClick:o,disabled:l||!u,children:[i.jsx(Lde,{className:"h-4 w-4 mr-2"}),"Load Existing"]})]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{htmlFor:"teamNumber",className:"flex items-center gap-2",children:[i.jsx(Wde,{className:"h-4 w-4"}),"Team Number *"]}),i.jsx(Qt,{id:"teamNumber",type:"number",placeholder:"e.g., 3314",value:e===""?"":e,onChange:c,min:"1",step:"1",required:!0,className:"text-lg"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{htmlFor:"eventKey",className:"flex items-center gap-2",children:[i.jsx(Lc,{className:"h-4 w-4"}),"Event *"]}),i.jsx($C,{currentEventKey:t,onEventKeyChange:a})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{htmlFor:"scoutName",className:"flex items-center gap-2",children:[i.jsx(Uw,{className:"h-4 w-4"}),"Scout Name *"]}),i.jsx(Qt,{id:"scoutName",type:"text",placeholder:"Your name",value:n,onChange:d=>s(d.target.value),required:!0,className:"text-lg"})]})]})]})}function MTe({robotPhoto:e,onRobotPhotoChange:t}){const[n,r]=p.useState(!1),[a,s]=p.useState(!1),o=p.useRef(null),l=p.useRef(null),c=p.useRef(null),u=p.useRef(null),d=async()=>{r(!0),s(!1);try{let v=null;try{v=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"},width:{ideal:1920},height:{ideal:1080}}})}catch{console.log("Back camera not available, trying with ideal preference..."),v=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1920},height:{ideal:1080}}})}l.current&&v&&(l.current.srcObject=v,u.current=v,l.current.onloadedmetadata=()=>{l.current&&l.current.play().then(()=>{s(!0)}).catch(b=>{console.error("Error playing video:",b),oe.error("Failed to start video preview"),f()})})}catch(v){console.error("Error accessing camera:",v),oe.error("Failed to access camera. Please check permissions."),r(!1)}},f=()=>{u.current&&(u.current.getTracks().forEach(v=>v.stop()),u.current=null),l.current&&(l.current.srcObject=null),r(!1),s(!1)},h=()=>{if(l.current&&c.current){const v=l.current,b=c.current;b.width=v.videoWidth,b.height=v.videoHeight;const x=b.getContext("2d");if(x){x.drawImage(v,0,0,b.width,b.height);const y=b.toDataURL("image/jpeg",.8);t(y),f(),oe.success("Photo captured!")}}},m=v=>{var x;const b=(x=v.target.files)==null?void 0:x[0];if(b){if(b.size>5*1024*1024){oe.error("File size must be less than 5MB");return}const y=new FileReader;y.onload=w=>{var C;const S=(C=w.target)==null?void 0:C.result;t(S),oe.success("Photo uploaded!")},y.readAsDataURL(b)}},g=()=>{t(void 0),o.current&&(o.current.value=""),oe.success("Photo removed")};return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Zde,{className:"h-5 w-5"}),"Robot Photo"]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:m,className:"hidden"}),i.jsx("canvas",{ref:c,className:"hidden"}),n&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative w-full rounded-lg border bg-black overflow-hidden",children:[!a&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{minHeight:"300px"},children:i.jsxs("div",{className:"text-white text-center",children:[i.jsx(A0,{className:"h-12 w-12 mx-auto mb-2 animate-pulse"}),i.jsx("p",{children:"Loading camera..."})]})}),i.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg",style:{maxHeight:"60vh",display:a?"block":"none"}})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Z,{onClick:h,className:"flex-1",disabled:!a,children:[i.jsx(A0,{className:"mr-2 h-4 w-4"}),"Capture"]}),i.jsx(Z,{onClick:f,variant:"outline",className:"flex-1",children:"Cancel"})]})]}),e&&!n&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("img",{src:e,alt:"Robot",className:"w-full rounded-lg border"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Z,{onClick:d,variant:"outline",className:"flex-1",children:[i.jsx(A0,{className:"mr-2 h-4 w-4"}),"Retake"]}),i.jsxs(Z,{onClick:()=>{var v;return(v=o.current)==null?void 0:v.click()},variant:"outline",className:"flex-1",children:[i.jsx(sm,{className:"mr-2 h-4 w-4"}),"Upload"]}),i.jsx(Z,{onClick:g,variant:"destructive",size:"icon",children:i.jsx(Wa,{className:"h-4 w-4"})})]})]}),!e&&!n&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Z,{onClick:d,className:"flex-1",children:[i.jsx(A0,{className:"mr-2 h-4 w-4"}),"Take Photo"]}),i.jsxs(Z,{onClick:()=>{var v;return(v=o.current)==null?void 0:v.click()},variant:"outline",className:"flex-1",children:[i.jsx(sm,{className:"mr-2 h-4 w-4"}),"Upload"]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Take or upload a photo of the robot (max 5MB)"})]})]})}function ITe({weight:e,drivetrain:t,programmingLanguage:n,onWeightChange:r,onDrivetrainChange:a,onProgrammingLanguageChange:s}){const o=l=>{const c=l.target.value;if(c==="")r(void 0);else{const u=parseFloat(c);!isNaN(u)&&u>0&&r(u)}};return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(oD,{className:"h-5 w-5"}),"Technical Specifications"]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{htmlFor:"weight",className:"flex items-center gap-2",children:[i.jsx(ghe,{className:"h-4 w-4"}),"Robot Weight (lbs)"]}),i.jsx(Qt,{id:"weight",type:"number",placeholder:"e.g., 125",value:e??"",onChange:o,min:"0",step:"0.1",className:"text-lg"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Robot weight in pounds (with bumpers and battery)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{htmlFor:"drivetrain",className:"flex items-center gap-2",children:[i.jsx(Jue,{className:"h-4 w-4"}),"Drivetrain Type"]}),i.jsxs(Lr,{value:t??"unspecified",onValueChange:l=>a(l==="unspecified"?void 0:l),children:[i.jsx($r,{id:"drivetrain",className:"text-lg",children:i.jsx(ia,{placeholder:"Select drivetrain type"})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"unspecified",children:"Not specified"}),i.jsx(at,{value:"swerve",children:"Swerve Drive"}),i.jsx(at,{value:"tank",children:"Tank Drive"}),i.jsx(at,{value:"mecanum",children:"Mecanum Drive"}),i.jsx(at,{value:"other",children:"Other"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Type of drivetrain used by the robot"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{htmlFor:"programmingLanguage",className:"flex items-center gap-2",children:[i.jsx(xG,{className:"h-4 w-4"}),"Programming Language"]}),i.jsxs(Lr,{value:n??"unspecified",onValueChange:l=>s(l==="unspecified"?void 0:l),children:[i.jsx($r,{id:"programmingLanguage",className:"text-lg",children:i.jsx(ia,{placeholder:"Select programming language"})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"unspecified",children:"Not specified"}),i.jsx(at,{value:"Java",children:"Java"}),i.jsx(at,{value:"C++",children:"C++"}),i.jsx(at,{value:"Python",children:"Python"}),i.jsx(at,{value:"LabVIEW",children:"LabVIEW"}),i.jsx(at,{value:"other",children:"Other"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Primary programming language used for robot code"})]})]})]})}function OTe({notes:e,onNotesChange:t}){return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Rde,{className:"h-5 w-5"}),"Additional Notes"]})}),i.jsxs($e,{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"notes",children:"General Observations"}),i.jsx(fZ,{id:"notes",placeholder:"Any additional observations about the robot, team, or strategy...",value:e??"",onChange:n=>t(n.target.value||void 0),rows:6,className:"text-lg resize-none"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: Any notable observations, capabilities, or concerns about the robot"})]})]})}function LTe(){return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(xG,{className:"h-5 w-5"}),"Game-Specific Questions (Placeholder)"]})}),i.jsx($e,{children:i.jsxs(ar,{children:[i.jsx(Ly,{className:"h-4 w-4"}),i.jsxs(pr,{children:[i.jsx("strong",{children:"For game implementers:"})," This is a placeholder component. Replace this with your own game-specific pit scouting questions by:",i.jsxs("ol",{className:"mt-2 ml-4 space-y-1 list-decimal",children:[i.jsxs("li",{children:["Creating a ",i.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"PitScoutingRules"})," implementation or build your own custom solution"]}),i.jsx("li",{children:"Building a component to render your questions"}),i.jsxs("li",{children:["Passing it as children to ",i.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"<PitScoutingPage>"})]})]}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"See the JSDoc comments in this file for a complete implementation guide."})]})]})})]})}function $Te(){const[e,t]=p.useState({teamNumber:"",eventKey:localStorage.getItem("eventKey")||"",scoutName:localStorage.getItem("currentScout")||"",robotPhoto:void 0,weight:void 0,drivetrain:void 0,programmingLanguage:void 0,notes:void 0,gameData:void 0}),[n,r]=p.useState(!1),[a,s]=p.useState(void 0),o=p.useCallback(async()=>{if(!e.teamNumber||typeof e.teamNumber!="number"||!e.eventKey){oe.error("Please enter a team number and event first");return}r(!0);try{const w=await Jm(e.teamNumber,e.eventKey);w?(t(S=>({...S,scoutName:w.scoutName,robotPhoto:w.robotPhoto,weight:w.weight,drivetrain:w.drivetrain,programmingLanguage:w.programmingLanguage,notes:w.notes,gameData:w.gameData})),s(w.id),oe.success("Loaded existing pit scouting data for this team")):oe.info("No existing data found for this team at this event")}catch(w){console.error("Error loading existing pit scouting entry:",w),oe.error("Failed to load existing data")}finally{r(!1)}},[e.teamNumber,e.eventKey]),l=p.useCallback(w=>{t(S=>({...S,teamNumber:w}))},[]),c=p.useCallback(w=>{t(S=>({...S,eventKey:w}))},[]),u=p.useCallback(w=>{t(S=>({...S,scoutName:w}))},[]),d=p.useCallback(w=>{t(S=>({...S,robotPhoto:w}))},[]),f=p.useCallback(w=>{t(S=>({...S,weight:w}))},[]),h=p.useCallback(w=>{t(S=>({...S,drivetrain:w}))},[]),m=p.useCallback(w=>{t(S=>({...S,programmingLanguage:w}))},[]),g=p.useCallback(w=>{t(S=>({...S,notes:w}))},[]),v=p.useCallback(w=>{t(S=>({...S,gameData:w}))},[]),b=p.useCallback(()=>e.teamNumber===""||typeof e.teamNumber!="number"?(oe.error("Team number is required"),!1):e.eventKey.trim()?e.scoutName.trim()?!0:(oe.error("Scout name is required"),!1):(oe.error("Event is required"),!1),[e.teamNumber,e.eventKey,e.scoutName]),x=p.useCallback(async()=>{if(!b())return!1;r(!0);try{const S={id:a||`pit-${e.teamNumber}-${e.eventKey}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,teamNumber:e.teamNumber,eventKey:e.eventKey,scoutName:e.scoutName,timestamp:Date.now(),robotPhoto:e.robotPhoto,weight:e.weight,drivetrain:e.drivetrain,programmingLanguage:e.programmingLanguage,notes:e.notes,gameData:e.gameData??{}};return await pm(S),oe.success(a?"Pit scouting data updated successfully!":"Pit scouting data saved successfully!"),!0}catch(w){return console.error("Error saving pit scouting entry:",w),oe.error("Failed to save pit scouting data"),!1}finally{r(!1)}},[e,a,b]),y=p.useCallback(()=>{t({teamNumber:"",eventKey:localStorage.getItem("eventKey")||"",scoutName:localStorage.getItem("currentScout")||"",robotPhoto:void 0,weight:void 0,drivetrain:void 0,programmingLanguage:void 0,notes:void 0,gameData:void 0}),s(void 0)},[]);return{formState:e,setTeamNumber:l,setEventKey:c,setScoutName:u,setRobotPhoto:d,setWeight:f,setDrivetrain:h,setProgrammingLanguage:m,setNotes:g,setGameData:v,validateForm:b,handleSubmit:x,resetForm:y,loadExistingEntry:o,isLoading:n,existingEntryId:a}}function FTe({onSubmitSuccess:e,submitButtonText:t="Save Pit Scouting Data"}){const{ui:n}=uf(),r=n==null?void 0:n.PitScoutingQuestions,{formState:a,setTeamNumber:s,setEventKey:o,setScoutName:l,setRobotPhoto:c,setWeight:u,setDrivetrain:d,setProgrammingLanguage:f,setNotes:h,setGameData:m,handleSubmit:g,loadExistingEntry:v,isLoading:b,existingEntryId:x}=$Te(),y=async()=>{await g()&&(e==null||e())};return i.jsx("div",{className:"min-h-screen bg-background px-4 pt-12 pb-24",children:i.jsxs("div",{className:"mx-auto max-w-2xl space-y-4",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("h1",{className:"text-2xl font-bold",children:"Pit Scouting"})}),x&&i.jsxs(ar,{children:[i.jsx(Br,{className:"h-4 w-4"}),i.jsx(pr,{children:"Editing existing pit scouting data for this team at this event"})]}),b&&i.jsxs(ar,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsx(pr,{children:"Loading data..."})]}),i.jsx(RTe,{teamNumber:a.teamNumber,eventKey:a.eventKey,scoutName:a.scoutName,onTeamNumberChange:s,onEventKeyChange:o,onScoutNameChange:l,onLoadExisting:v,isLoading:b}),i.jsx(MTe,{robotPhoto:a.robotPhoto,onRobotPhotoChange:c}),i.jsx(ITe,{weight:a.weight,drivetrain:a.drivetrain,programmingLanguage:a.programmingLanguage,onWeightChange:u,onDrivetrainChange:d,onProgrammingLanguageChange:f}),r?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Game-Specific Questions"}),i.jsx(r,{gameData:a.gameData||{},onGameDataChange:m})]}):i.jsx(LTe,{}),i.jsx(OTe,{notes:a.notes,onNotesChange:h}),i.jsx("div",{className:"mx-auto max-w-2xl",children:i.jsxs(Z,{onClick:y,disabled:b,className:"w-full",size:"lg",children:[i.jsx(sD,{className:"mr-2 h-5 w-5"}),t]})})]})})}const BTe="https://frc.nexus/api/v1",h2=async(e,t)=>{const n=await fetch(`${BTe}${e}`,{headers:{"Nexus-Api-Key":t,Accept:"application/json"}});if(!n.ok)throw n.status===401?new Error("Invalid Nexus API key. Get your key from frc.nexus/api"):n.status===403?new Error("Nexus API key access denied. Check your key at frc.nexus/api"):n.status===404?new Error("Event not found or does not have this data type"):new Error(`Nexus API Error: ${n.status} ${n.statusText}`);return n.json()},VTe=async(e,t)=>{try{const[n,r]=await Promise.allSettled([h2(`/event/${e}/pits`,t),h2(`/event/${e}/map`,t)]);return console.log("Nexus API Results:",{addresses:{status:n.status,value:n.status==="fulfilled"?n.value:null,reason:n.status==="rejected"?n.reason:null},map:{status:r.status,value:r.status==="fulfilled"?r.value:null,reason:r.status==="rejected"?r.reason:null}}),{addresses:n.status==="fulfilled"?n.value:null,map:r.status==="fulfilled"?r.value:null}}catch(n){throw console.warn("Error fetching pit data:",n),n}},zTe=async e=>h2("/events",e),xm="nexus_",UTe=(e,t,n)=>{const r=`${xm}pit_addresses_${e}`,a=`${xm}pit_map_${e}`;try{if(t){const s={addresses:t,timestamp:Date.now(),eventKey:e};localStorage.setItem(r,JSON.stringify(s))}if(n){const s={pitMap:n,timestamp:Date.now(),eventKey:e};localStorage.setItem(a,JSON.stringify(s))}console.log(`Stored pit data for event ${e}`)}catch(s){throw console.error("Failed to store pit data in localStorage:",s),new Error("Failed to store pit data")}},hZ=e=>({addresses:mZ(e),map:KTe(e)}),mZ=e=>{const t=`${xm}pit_addresses_${e}`;try{const n=localStorage.getItem(t);return n?JSON.parse(n).addresses:null}catch(n){return console.error("Failed to retrieve stored pit addresses:",n),null}},KTe=e=>{const t=`${xm}pit_map_${e}`;try{const n=localStorage.getItem(t);return n?JSON.parse(n).pitMap:null}catch(n){return console.error("Failed to retrieve stored pit map:",n),null}},GTe=e=>{const t=`${xm}pit_addresses_${e}`,n=`${xm}pit_map_${e}`,r=`nexus_event_teams_${e}`;localStorage.removeItem(t),localStorage.removeItem(n),localStorage.removeItem(r),console.log(`Cleared Nexus data for event ${e}`)},WTe=(e,t)=>{const n=Object.keys(t).map(s=>`frc${s}`),r=`nexus_event_teams_${e}`,a={teams:n,timestamp:Date.now(),eventKey:e,source:"nexus_pit_addresses"};try{return localStorage.setItem(r,JSON.stringify(a)),console.log(`Stored ${n.length} teams from Nexus pit addresses for event ${e}`),n}catch(s){throw console.error("Failed to store Nexus teams in localStorage:",s),new Error("Failed to store Nexus teams")}},pZ=e=>{const t=`nexus_event_teams_${e}`;try{const n=localStorage.getItem(t);return n&&JSON.parse(n).teams||null}catch(n){return console.error("Failed to retrieve stored Nexus teams:",n),null}},qTe=e=>{const t=pZ(e);return t!==null&&t.length>0},HTe="https://www.thebluealliance.com/api/v3",av=e=>{const t=e.alliances.red.score,n=e.alliances.blue.score;let r,a;return t>n?(r="red",a="red"):n>t?(r="blue",a="blue"):(r="tie",a=""),{redScore:t,blueScore:n,winner:r,winningAlliance:a}},YTe=async(e,t)=>{const n=`/event/${e}/teams/keys`,r=await fetch(`${HTe}${n}`,{headers:{"X-TBA-Auth-Key":t,Accept:"application/json"}});if(!r.ok)throw new Error(`TBA API Error: ${r.status} ${r.statusText}`);return(await r.json()).map(s=>{const o=parseInt(s.replace("frc",""));return{key:s,team_number:o,nickname:`Team ${o}`,name:`Team ${o}`}}).sort((s,o)=>s.team_number-o.team_number)},ny="tba_event_teams_",XB=(e,t)=>{const n=`${ny}${e}`,r=t.map(s=>s.team_number).sort((s,o)=>s-o),a={teamNumbers:r,timestamp:Date.now(),eventKey:e};try{localStorage.setItem(n,JSON.stringify(a)),console.log(`Stored ${r.length} team numbers for event ${e}`)}catch(s){throw console.error("Failed to store teams in localStorage:",s),new Error("Failed to store teams data")}},QTe=e=>{const t=`${ny}${e}`;try{const n=localStorage.getItem(t);if(!n)return null;const r=JSON.parse(n);return r.teamNumbers?r.teamNumbers:r.teams?r.teams.map(a=>a.team_number).sort((a,s)=>a-s):null}catch(n){return console.error("Failed to retrieve teams from localStorage:",n),null}},gZ=e=>{const t=`${ny}${e}`;localStorage.removeItem(t),console.log(`Cleared TBA teams for event ${e}`)},ZTe=()=>{const e={};for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith(ny))try{const r=localStorage.getItem(n);if(r){const a=JSON.parse(r),s=n.replace(ny,"");a.teamNumbers?e[s]=a.teamNumbers:a.teams&&(e[s]=a.teams.map(o=>o.team_number).sort((o,l)=>o-l))}}catch(r){console.error(`Failed to parse stored teams for key ${n}:`,r)}}return e},vZ="event_history",yZ="current_event",JTe=()=>{try{const e=localStorage.getItem(vZ);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to retrieve event history:",e),[]}},XTe=(e,t)=>{try{const n=JTe(),r=n.findIndex(o=>o.eventKey===e),a={eventKey:e,eventName:t,timestamp:Date.now()};r>=0?n[r]=a:n.push(a),n.sort((o,l)=>l.timestamp-o.timestamp);const s=n.slice(0,10);localStorage.setItem(vZ,JSON.stringify(s)),console.log(`Updated event history for ${e}`)}catch(n){console.error("Failed to update event history:",n)}},Dg=()=>{try{return localStorage.getItem(yZ)||""}catch(e){return console.error("Failed to retrieve current event:",e),""}},ud=e=>{if(e.trim())try{localStorage.setItem(yZ,e),XTe(e,e),console.log(`Set current event to ${e}`)}catch(t){throw console.error("Failed to set current event:",t),new Error("Failed to set current event")}},e3=e=>{if(!e.trim())return!1;const t=`tba_event_teams_${e}`;if(localStorage.getItem(t))return!0;const n=[`nexus_pit_addresses_${e}`,`nexus_pit_map_${e}`,`nexus_event_teams_${e}`];for(const a of n)if(localStorage.getItem(a))return!0;const r=[`matches_${e}`,`match_results_${e}`,`event_info_${e}`,`pit_assignments_${e}`];for(const a of r)if(localStorage.getItem(a))return!0;return!1},e_e=e=>{const t=Dg();return!!(t&&t!==e&&e.trim()!=="")},t_e=e=>{if(!e.trim()){oe.error("Event key is required to clear data");return}try{console.log(`Clearing all event data for ${e}...`),gZ(e),GTe(e);const t=`tba_match_schedule_${e}`;localStorage.removeItem(t);const n=`tba_match_data_${e}`;localStorage.removeItem(n);const r=`match_results_${e}`;localStorage.removeItem(r);const a=`event_info_${e}`;localStorage.removeItem(a);const s=`pit_assignments_${e}`;localStorage.removeItem(s),console.log(`Successfully cleared all event data for ${e}`),oe.success(`Cleared all stored data for event ${e}`)}catch(t){console.error("Failed to clear event data:",t),oe.error("Failed to clear some event data")}},n_e=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(!1),[a,s]=p.useState([]),[o,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState(!1);return{matchDataLoading:e,matchResultsLoading:n,eventTeamsLoading:o,matches:a,teams:c,isStored:d,fetchMatchDataFromTBA:async(x,y,w,S)=>{if(!x.trim()){oe.error("Please enter your TBA API key");return}if(!y.trim()){oe.error("Please enter an event key");return}t(!0);try{const C={"X-TBA-Auth-Key":x},k=await fetch(`https://www.thebluealliance.com/api/v3/event/${y}/matches/simple`,{headers:C});if(!k.ok)throw k.status===401?new Error("Invalid API key. Please check your TBA API key."):k.status===404?new Error("Event not found. Please check the event key."):new Error(`API request failed with status ${k.status}`);const N=await k.json(),P=[];for(const K of N)K.comp_level=="qm"&&P.push({matchNum:K.match_number,redAlliance:K.alliances.red.team_keys.map(J=>J.replace("frc","")),blueAlliance:K.alliances.blue.team_keys.map(J=>J.replace("frc",""))});P.sort((K,J)=>K.matchNum-J.matchNum),localStorage.setItem("matchData",JSON.stringify(P)),localStorage.setItem("eventKey",y);const E=localStorage.getItem("eventsList");let R=[];if(E)try{R=JSON.parse(E)}catch{R=[]}R.includes(y)||(R.push(y),R.sort(),localStorage.setItem("eventsList",JSON.stringify(R)));const O=`Match data loaded: ${P.length} matches for ${y}`;oe.success(O),ud(y.trim()),w||(S(""),sessionStorage.removeItem("tbaApiKey"))}catch(C){oe.error("Failed to fetch match data from TBA"),console.error(C)}finally{t(!1)}},loadMatchResults:async(x,y,w,S)=>{if(!y.trim()){oe.error("Please enter an event key");return}if(!x.trim()){oe.error("Please enter your TBA API key");return}r(!0);try{const C={"X-TBA-Auth-Key":x},k=await fetch(`https://www.thebluealliance.com/api/v3/event/${y.trim()}/matches/simple`,{headers:C});if(!k.ok)throw new Error(`API request failed with status ${k.status}`);const P=(await k.json()).filter(R=>R.comp_level==="qm");P.sort((R,O)=>R.match_number-O.match_number),s(P),oe.success(`Loaded ${P.length} qualification matches`),ud(y.trim());const E=P.map(R=>({eventKey:y.trim(),matchNumber:R.match_number,winner:av(R).winner,redScore:av(R).redScore,blueScore:av(R).blueScore}));localStorage.setItem("matchResults",JSON.stringify(E)),localStorage.setItem("currentEventKey",y.trim()),w||(S(""),sessionStorage.removeItem("tbaApiKey"))}catch(C){console.error("Error loading matches:",C),oe.error("Failed to load matches. Check the event key and API key."),s([])}finally{r(!1)}},loadEventTeams:async(x,y,w,S)=>{if(!y.trim()){oe.error("Please enter an event key");return}if(!x.trim()){oe.error("Please enter your TBA API key");return}l(!0);try{const C=QTe(y);if(C&&C.length>0){const N=C.map(P=>({key:`frc${P}`,team_number:P,nickname:`Team ${P}`,name:`Team ${P}`}));u(N),f(!0),oe.success(`Loaded ${C.length} teams from local storage`),l(!1);return}const k=await YTe(y,x);u(k);try{XB(y,k),f(!0),console.log(`Auto-stored ${k.length} teams for event ${y}`)}catch(N){console.warn("Failed to auto-store teams:",N),f(!1)}oe.success(`Loaded ${k.length} teams from TBA API`),ud(y.trim()),w||(S(""),sessionStorage.removeItem("tbaApiKey"))}catch(C){console.error("Error loading teams:",C),oe.error(C instanceof Error?C.message:"Failed to load teams")}finally{l(!1)}},handleStoreTeams:x=>{if(c.length===0){oe.error("No teams to store");return}try{XB(x,c),f(!0),oe.success(`Stored ${c.length} teams for pit scouting assignments`)}catch(y){console.error("Error storing teams:",y),oe.error("Failed to store teams")}},handleClearStored:x=>{try{gZ(x),f(!1),oe.success("Cleared stored teams")}catch(y){console.error("Error clearing stored teams:",y),oe.error("Failed to clear stored teams")}}}};function Xb(e){return e.score_breakdown!==null&&e.score_breakdown!==void 0}const xZ="https://www.thebluealliance.com/api/v3";async function r_e(e,t){const n=`${xZ}/match/${e}`,r=await fetch(n,{headers:{"X-TBA-Auth-Key":t}});if(!r.ok)throw r.status===401?new Error("Invalid TBA API key"):r.status===404?new Error(`Match ${e} not found`):new Error(`TBA API request failed: ${r.status}`);return await r.json()}async function a_e(e,t){const n=`${xZ}/event/${e}/matches`,r=await fetch(n,{headers:{"X-TBA-Auth-Key":t}});if(!r.ok)throw r.status===401?new Error("Invalid TBA API key"):r.status===404?new Error(`Event ${e} not found`):new Error(`TBA API request failed: ${r.status}`);return await r.json()}class s_e extends Id{constructor(){super("TBACacheDB");fn(this,"matches");fn(this,"metadata");fn(this,"validationResults");this.version(1).stores({matches:"matchKey, eventKey, matchNumber, compLevel, cachedAt",metadata:"eventKey, lastFetchedAt"}),this.version(2).stores({matches:"matchKey, eventKey, matchNumber, compLevel, cachedAt",metadata:"eventKey, lastFetchedAt",validationResults:"id, eventKey, matchKey, matchNumber, timestamp"})}}const Ga=new s_e,YR=60*60*1e3,i_e=5*60*1e3;async function o_e(e,t=YR){const n=Date.now(),r={matchKey:e.key,eventKey:e.event_key,matchNumber:e.match_number,compLevel:e.comp_level,data:e,cachedAt:n,expiresAt:n+t};await Ga.matches.put(r)}async function bZ(e,t=YR){const n=Date.now(),r=e.map(a=>({matchKey:a.key,eventKey:a.event_key,matchNumber:a.match_number,compLevel:a.comp_level,data:a,cachedAt:n,expiresAt:n+t}));if(await Ga.matches.bulkPut(r),e.length>0){const a=e[0].event_key,s=e.filter(l=>l.comp_level==="qm"),o=e.filter(l=>l.comp_level!=="qm");await Ga.metadata.put({eventKey:a,lastFetchedAt:n,matchCount:e.length,qualMatchCount:s.length,playoffMatchCount:o.length})}}async function t3(e,t=!0){const n=await Ga.matches.get(e);return n?t?n.data:Date.now()>n.expiresAt?null:n.data:null}async function m2(e,t=!0){const n=await Ga.matches.where("eventKey").equals(e).toArray(),r=Date.now(),a=t?n:n.filter(s=>r<=s.expiresAt);return a.sort((s,o)=>s.compLevel==="qm"&&o.compLevel!=="qm"?-1:s.compLevel!=="qm"&&o.compLevel==="qm"?1:s.matchNumber-o.matchNumber),a.map(s=>s.data)}async function wZ(e){const t=await Ga.metadata.get(e);if(!t)return{hasCache:!1,isExpired:!1,isFresh:!1,ageMs:0,lastFetchedAt:null};const n=Date.now()-t.lastFetchedAt,r=n>YR,a=n<i_e;return{hasCache:!0,isExpired:r,isFresh:a,ageMs:n,lastFetchedAt:t.lastFetchedAt}}async function nA(e){return await Ga.metadata.get(e)||null}async function l_e(e){await Ga.matches.where("eventKey").equals(e).delete(),await Ga.metadata.delete(e)}async function c_e(){const e=await Ga.matches.count(),t=await Ga.metadata.count(),n=Date.now(),r=await Ga.matches.where("expiresAt").below(n).count(),a=e*15,s=a>1024?`${(a/1024).toFixed(1)} MB`:`${a} KB`;return{totalMatches:e,totalEvents:t,expiredMatches:r,cacheSizeEstimate:s}}async function u_e(e){await Ga.validationResults.put(e)}async function d_e(e){return await Ga.validationResults.where("eventKey").equals(e).toArray()}async function f_e(e){await Ga.validationResults.where("eventKey").equals(e).delete()}function QR(){const[e,t]=p.useState(!1),[n,r]=p.useState(null),[a,s]=p.useState([]),[o,l]=p.useState(null),[c,u]=p.useState(navigator.onLine),[d,f]=p.useState(!1);p.useEffect(()=>{const y=()=>u(!0),w=()=>u(!1);return window.addEventListener("online",y),window.addEventListener("offline",w),()=>{window.removeEventListener("online",y),window.removeEventListener("offline",w)}},[]);const h=p.useCallback(async(y,w,S=!1)=>{t(!0),r(null);try{if(!S){const k=await t3(y);if(k)return console.log(`Using cached data for match ${y}`),k}console.log(`Fetching match ${y} from TBA`);const C=await r_e(y,w);return await o_e(C),C}catch(C){const k=C instanceof Error?C.message:"Failed to fetch match data";return r(k),oe.error(k),null}finally{t(!1)}},[]),m=p.useCallback(async(y,w,S=!1)=>{t(!0),r(null);try{const C=await m2(y,!0),k=await wZ(y);if(f(k.isExpired),C.length>0&&!navigator.onLine){console.log(`Using cached data for event ${y} (offline mode)`),s(C);const N=await nA(y);return l(N),k.isExpired?oe.warning(`Showing cached data (offline). Last updated ${g(k.lastFetchedAt)}`):oe.success(`Loaded ${C.length} matches from cache (offline)`),C}if(C.length>0&&!S&&!k.isExpired){console.log(`Using fresh cached data for event ${y}`),s(C);const N=await nA(y);return l(N),oe.success(`Loaded ${C.length} matches from cache`),C}if(navigator.onLine){console.log(`Fetching event ${y} from TBA`);const P=(await a_e(y,w)).filter(Xb);await bZ(P),s(P),f(!1);const E=await nA(y);return l(E),oe.success(`Loaded ${P.length} matches from TBA`),P}throw new Error("No cached data available and you are offline")}catch(C){const k=C instanceof Error?C.message:"Failed to fetch event matches";return r(k),((await m2(y,!0)).length===0||navigator.onLine)&&oe.error(k),[]}finally{t(!1)}},[]);function g(y){const w=Date.now()-y,S=Math.floor(w/(1e3*60));if(S<1)return"just now";if(S<60)return`${S} min ago`;{const C=Math.floor(S/60),k=S%60;return`${C}h ${k}m ago`}}const v=p.useCallback(async y=>{try{return await t3(y)}catch(w){return console.error("Failed to get cached match:",w),null}},[]),b=p.useCallback(async y=>{try{await l_e(y),s([]),l(null),oe.success(`Cache cleared for ${y}`)}catch(w){console.error("Failed to clear cache:",w),oe.error("Failed to clear cache")}},[]),x=p.useCallback(async()=>{try{const y=await c_e();console.log("TBA Cache Stats:",y)}catch(y){console.error("Failed to get cache stats:",y)}},[]);return{loading:e,error:n,matches:a,cacheMetadata:o,isOnline:c,cacheExpired:d,fetchMatch:h,fetchEventMatches:m,getMatch:v,clearCache:b,refreshCacheStats:x}}var h_e=Symbol("radix.slottable");function m_e(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=h_e,t}var SZ="AlertDialog",[p_e]=bs(SZ,[bH]),Kl=bH(),CZ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Kl(t);return i.jsx(PC,{...r,...n,modal:!0})};CZ.displayName=SZ;var g_e="AlertDialogTrigger",v_e=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(pR,{...a,...r,ref:t})});v_e.displayName=g_e;var y_e="AlertDialogPortal",jZ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Kl(t);return i.jsx(EC,{...r,...n})};jZ.displayName=y_e;var x_e="AlertDialogOverlay",NZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(TC,{...a,...r,ref:t})});NZ.displayName=x_e;var Wh="AlertDialogContent",[b_e,w_e]=p_e(Wh),S_e=m_e("AlertDialogContent"),kZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,s=Kl(n),o=p.useRef(null),l=Vt(t,o),c=p.useRef(null);return i.jsx(lCe,{contentName:Wh,titleName:AZ,docsSlug:"alert-dialog",children:i.jsx(b_e,{scope:n,cancelRef:c,children:i.jsxs(_C,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:rt(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(S_e,{children:r}),i.jsx(j_e,{contentRef:o})]})})})});kZ.displayName=Wh;var AZ="AlertDialogTitle",PZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(gR,{...a,...r,ref:t})});PZ.displayName=AZ;var EZ="AlertDialogDescription",TZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(vR,{...a,...r,ref:t})});TZ.displayName=EZ;var C_e="AlertDialogAction",_Z=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Kl(n);return i.jsx(Xy,{...a,...r,ref:t})});_Z.displayName=C_e;var DZ="AlertDialogCancel",RZ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=w_e(DZ,n),s=Kl(n),o=Vt(t,a);return i.jsx(Xy,{...s,...r,ref:o})});RZ.displayName=DZ;var j_e=({contentRef:e})=>{const t=`\`${Wh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wh}\` by passing a \`${EZ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},N_e=CZ,k_e=jZ,MZ=NZ,IZ=kZ,OZ=_Z,LZ=RZ,$Z=PZ,FZ=TZ,XC="Checkbox",[A_e]=bs(XC),[P_e,ZR]=A_e(XC);function E_e(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Mo({prop:n,defaultProp:a??!1,onChange:c,caller:XC}),[g,v]=p.useState(null),[b,x]=p.useState(null),y=p.useRef(!1),w=g?!!o||!!g.closest("form"):!0,S={checked:h,disabled:s,setChecked:m,control:g,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Vc(a)?!1:a,isFormControl:w,bubbleInput:b,setBubbleInput:x};return i.jsx(P_e,{scope:t,...S,children:T_e(f)?f(S):r})}var BZ="CheckboxTrigger",VZ=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=ZR(BZ,e),v=Vt(a,d),b=p.useRef(c);return p.useEffect(()=>{const x=s==null?void 0:s.form;if(x){const y=()=>f(b.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[s,f]),i.jsx(bt.button,{type:"button",role:"checkbox","aria-checked":Vc(c)?"mixed":c,"aria-required":u,"data-state":GZ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:v,onKeyDown:rt(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:rt(n,x=>{f(y=>Vc(y)?!0:!y),g&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});VZ.displayName=BZ;var JR=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(E_e,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(VZ,{...f,ref:t,__scopeCheckbox:n}),h&&i.jsx(KZ,{__scopeCheckbox:n})]})})});JR.displayName=XC;var zZ="CheckboxIndicator",XR=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,s=ZR(zZ,n);return i.jsx(Ur,{present:r||Vc(s.checked)||s.checked===!0,children:i.jsx(bt.span,{"data-state":GZ(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});XR.displayName=zZ;var UZ="CheckboxBubbleInput",KZ=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=ZR(UZ,e),g=Vt(n,m),v=Gq(s),b=HG(r);p.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(w,"checked").set,k=!a.current;if(v!==s&&C){const N=new Event("click",{bubbles:k});y.indeterminate=Vc(s),C.call(y,Vc(s)?!1:s),y.dispatchEvent(N)}},[h,v,s,a]);const x=p.useRef(Vc(s)?!1:s);return i.jsx(bt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});KZ.displayName=UZ;function T_e(e){return typeof e=="function"}function Vc(e){return e==="indeterminate"}function GZ(e){return Vc(e)?"indeterminate":e?"checked":"unchecked"}var ej="Tabs",[__e]=bs(ej,[yC]),WZ=yC(),[D_e,eM]=__e(ej),qZ=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=qy(l),[f,h]=Mo({prop:r,onChange:a,defaultProp:s??"",caller:ej});return i.jsx(D_e,{scope:n,baseId:Vr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(bt.div,{dir:d,"data-orientation":o,...u,ref:t})})});qZ.displayName=ej;var HZ="TabsList",YZ=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,s=eM(HZ,n),o=WZ(n);return i.jsx(eq,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:i.jsx(bt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});YZ.displayName=HZ;var QZ="TabsTrigger",ZZ=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...s}=e,o=eM(QZ,n),l=WZ(n),c=eJ(o.baseId,r),u=tJ(o.baseId,r),d=r===o.value;return i.jsx(tq,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(bt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:rt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:rt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:rt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(r)})})})});ZZ.displayName=QZ;var JZ="TabsContent",XZ=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:s,...o}=e,l=eM(JZ,n),c=eJ(l.baseId,r),u=tJ(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Ur,{present:a||d,children:({present:h})=>i.jsx(bt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});XZ.displayName=JZ;function eJ(e,t){return`${e}-trigger-${t}`}function tJ(e,t){return`${e}-content-${t}`}var nJ=qZ,rJ=YZ,aJ=ZZ,sJ=XZ;const ry=p.createContext({});function hu(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const tM=typeof window<"u",tj=tM?p.useLayoutEffect:p.useEffect,nj=p.createContext(null);function nM(e,t){e.indexOf(t)===-1&&e.push(t)}function rM(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function R_e([...e],t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const a=n<0?e.length+n:n,[s]=e.splice(t,1);e.splice(a,0,s)}return e}const _l=(e,t,n)=>n>t?t:n<e?e:n;let aM=()=>{};const Dl={},iJ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function oJ(e){return typeof e=="object"&&e!==null}const lJ=e=>/^0[^.\s]+$/u.test(e);function sM(e){let t;return()=>(t===void 0&&(t=e()),t)}const fi=e=>e,M_e=(e,t)=>n=>t(e(n)),lx=(...e)=>e.reduce(M_e),ay=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class iM{constructor(){this.subscriptions=[]}add(t){return nM(this.subscriptions,t),()=>rM(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _o=e=>e*1e3,li=e=>e/1e3;function cJ(e,t){return t?e*(1e3/t):0}const uJ=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,I_e=1e-7,O_e=12;function L_e(e,t,n,r,a){let s,o,l=0;do o=t+(n-t)/2,s=uJ(o,r,a)-e,s>0?n=o:t=o;while(Math.abs(s)>I_e&&++l<O_e);return o}function cx(e,t,n,r){if(e===t&&n===r)return fi;const a=s=>L_e(s,0,1,e,n);return s=>s===0||s===1?s:uJ(a(s),t,r)}const dJ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fJ=e=>t=>1-e(1-t),hJ=cx(.33,1.53,.69,.99),oM=fJ(hJ),mJ=dJ(oM),pJ=e=>(e*=2)<1?.5*oM(e):.5*(2-Math.pow(2,-10*(e-1))),lM=e=>1-Math.sin(Math.acos(e)),gJ=fJ(lM),vJ=dJ(lM),$_e=cx(.42,0,1,1),F_e=cx(0,0,.58,1),yJ=cx(.42,0,.58,1),B_e=e=>Array.isArray(e)&&typeof e[0]!="number",xJ=e=>Array.isArray(e)&&typeof e[0]=="number",V_e={linear:fi,easeIn:$_e,easeInOut:yJ,easeOut:F_e,circIn:lM,circInOut:vJ,circOut:gJ,backIn:oM,backInOut:mJ,backOut:hJ,anticipate:pJ},z_e=e=>typeof e=="string",n3=e=>{if(xJ(e)){aM(e.length===4);const[t,n,r,a]=e;return cx(t,n,r,a)}else if(z_e(e))return V_e[e];return e},Y0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function U_e(e,t){let n=new Set,r=new Set,a=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const g=h&&a?n:r;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,a){s=!0;return}a=!0,[n,r]=[r,n],n.forEach(c),n.clear(),a=!1,s&&(s=!1,u.process(d))}};return u}const K_e=40;function bJ(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Y0.reduce((w,S)=>(w[S]=U_e(s),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:g}=o,v=()=>{const w=Dl.useManualTiming?a.timestamp:performance.now();n=!1,Dl.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(w-a.timestamp,K_e),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),m.process(a),g.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(v))},b=()=>{n=!0,r=!0,a.isProcessing||e(v)};return{schedule:Y0.reduce((w,S)=>{const C=o[S];return w[S]=(k,N=!1,P=!1)=>(n||b(),C.schedule(k,N,P)),w},{}),cancel:w=>{for(let S=0;S<Y0.length;S++)o[Y0[S]].cancel(w)},state:a,steps:o}}const{schedule:Rn,cancel:Rl,state:ga,steps:rA}=bJ(typeof requestAnimationFrame<"u"?requestAnimationFrame:fi,!0);let ew;function G_e(){ew=void 0}const hs={now:()=>(ew===void 0&&hs.set(ga.isProcessing||Dl.useManualTiming?ga.timestamp:performance.now()),ew),set:e=>{ew=e,queueMicrotask(G_e)}},wJ=e=>t=>typeof t=="string"&&t.startsWith(e),SJ=wJ("--"),W_e=wJ("var(--"),cM=e=>W_e(e)?q_e.test(e.split("/*")[0].trim()):!1,q_e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},sy={...lp,transform:e=>_l(0,1,e)},Q0={...lp,default:1},sv=e=>Math.round(e*1e5)/1e5,uM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H_e(e){return e==null}const Y_e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dM=(e,t)=>n=>!!(typeof n=="string"&&Y_e.test(n)&&n.startsWith(e)||t&&!H_e(n)&&Object.prototype.hasOwnProperty.call(n,t)),CJ=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,s,o,l]=r.match(uM);return{[e]:parseFloat(a),[t]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Q_e=e=>_l(0,255,e),aA={...lp,transform:e=>Math.round(Q_e(e))},Ju={test:dM("rgb","red"),parse:CJ("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+aA.transform(e)+", "+aA.transform(t)+", "+aA.transform(n)+", "+sv(sy.transform(r))+")"};function Z_e(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const p2={test:dM("#"),parse:Z_e,transform:Ju.transform},ux=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fc=ux("deg"),Do=ux("%"),Ot=ux("px"),J_e=ux("vh"),X_e=ux("vw"),r3={...Do,parse:e=>Do.parse(e)/100,transform:e=>Do.transform(e*100)},Ch={test:dM("hsl","hue"),parse:CJ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Do.transform(sv(t))+", "+Do.transform(sv(n))+", "+sv(sy.transform(r))+")"},Nr={test:e=>Ju.test(e)||p2.test(e)||Ch.test(e),parse:e=>Ju.test(e)?Ju.parse(e):Ch.test(e)?Ch.parse(e):p2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ju.transform(e):Ch.transform(e),getAnimatableNone:e=>{const t=Nr.parse(e);return t.alpha=0,Nr.transform(t)}},eDe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tDe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(uM))==null?void 0:t.length)||0)+(((n=e.match(eDe))==null?void 0:n.length)||0)>0}const jJ="number",NJ="color",nDe="var",rDe="var(",a3="${}",aDe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iy(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(aDe,c=>(Nr.test(c)?(r.color.push(s),a.push(NJ),n.push(Nr.parse(c))):c.startsWith(rDe)?(r.var.push(s),a.push(nDe),n.push(c)):(r.number.push(s),a.push(jJ),n.push(parseFloat(c))),++s,a3)).split(a3);return{values:n,split:l,indexes:r,types:a}}function kJ(e){return iy(e).values}function AJ(e){const{split:t,types:n}=iy(e),r=t.length;return a=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],a[o]!==void 0){const l=n[o];l===jJ?s+=sv(a[o]):l===NJ?s+=Nr.transform(a[o]):s+=a[o]}return s}}const sDe=e=>typeof e=="number"?0:Nr.test(e)?Nr.getAnimatableNone(e):e;function iDe(e){const t=kJ(e);return AJ(e)(t.map(sDe))}const eu={test:tDe,parse:kJ,createTransformer:AJ,getAnimatableNone:iDe};function sA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oDe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,s=0,o=0;if(!t)a=s=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=sA(c,l,e+1/3),s=sA(c,l,e),o=sA(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function C1(e,t){return n=>n>0?t:e}const Hn=(e,t,n)=>e+(t-e)*n,iA=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},lDe=[p2,Ju,Ch],cDe=e=>lDe.find(t=>t.test(e));function s3(e){const t=cDe(e);if(!t)return!1;let n=t.parse(e);return t===Ch&&(n=oDe(n)),n}const i3=(e,t)=>{const n=s3(e),r=s3(t);if(!n||!r)return C1(e,t);const a={...n};return s=>(a.red=iA(n.red,r.red,s),a.green=iA(n.green,r.green,s),a.blue=iA(n.blue,r.blue,s),a.alpha=Hn(n.alpha,r.alpha,s),Ju.transform(a))},g2=new Set(["none","hidden"]);function uDe(e,t){return g2.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function dDe(e,t){return n=>Hn(e,t,n)}function fM(e){return typeof e=="number"?dDe:typeof e=="string"?cM(e)?C1:Nr.test(e)?i3:mDe:Array.isArray(e)?PJ:typeof e=="object"?Nr.test(e)?i3:fDe:C1}function PJ(e,t){const n=[...e],r=n.length,a=e.map((s,o)=>fM(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=a[o](s);return n}}function fDe(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=fM(e[a])(e[a],t[a]));return a=>{for(const s in r)n[s]=r[s](a);return n}}function hDe(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][r[s]],l=e.values[o]??0;n[a]=l,r[s]++}return n}const mDe=(e,t)=>{const n=eu.createTransformer(t),r=iy(e),a=iy(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?g2.has(e)&&!a.values.length||g2.has(t)&&!r.values.length?uDe(e,t):lx(PJ(hDe(r,a),a.values),n):C1(e,t)};function EJ(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Hn(e,t,n):fM(e)(e,t)}const pDe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Rn.update(t,n),stop:()=>Rl(t),now:()=>ga.isProcessing?ga.timestamp:hs.now()}},TJ=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let s=0;s<a;s++)r+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},j1=2e4;function hM(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<j1;)t+=n,r=e.next(t);return t>=j1?1/0:t}function gDe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(hM(r),j1);return{type:"keyframes",ease:s=>r.next(a*s).value/t,duration:li(a)}}const vDe=5;function _J(e,t,n){const r=Math.max(t-vDe,0);return cJ(n-e(r),t-r)}const dr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oA=.001;function yDe({duration:e=dr.duration,bounce:t=dr.bounce,velocity:n=dr.velocity,mass:r=dr.mass}){let a,s,o=1-t;o=_l(dr.minDamping,dr.maxDamping,o),e=_l(dr.minDuration,dr.maxDuration,li(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-n,m=v2(u,o),g=Math.exp(-f);return oA-h/m*g},s=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),v=v2(Math.pow(u,2),o);return(-a(u)+oA>0?-1:1)*((h-m)*g)/v}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-oA+d*f},s=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=bDe(a,s,l);if(e=_o(e),isNaN(c))return{stiffness:dr.stiffness,damping:dr.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const xDe=12;function bDe(e,t,n){let r=n;for(let a=1;a<xDe;a++)r=r-e(r)/t(r);return r}function v2(e,t){return e*Math.sqrt(1-t*t)}const wDe=["duration","bounce"],SDe=["stiffness","damping","mass"];function o3(e,t){return t.some(n=>e[n]!==void 0)}function CDe(e){let t={velocity:dr.velocity,stiffness:dr.stiffness,damping:dr.damping,mass:dr.mass,isResolvedFromDuration:!1,...e};if(!o3(e,SDe)&&o3(e,wDe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,s=2*_l(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:dr.mass,stiffness:a,damping:s}}else{const n=yDe(e);t={...t,...n,mass:dr.mass},t.isResolvedFromDuration=!0}return t}function N1(e=dr.visualDuration,t=dr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=CDe({...n,velocity:-li(n.velocity||0)}),g=h||0,v=u/(2*Math.sqrt(c*d)),b=o-s,x=li(Math.sqrt(c/d)),y=Math.abs(b)<5;r||(r=y?dr.restSpeed.granular:dr.restSpeed.default),a||(a=y?dr.restDelta.granular:dr.restDelta.default);let w;if(v<1){const C=v2(x,v);w=k=>{const N=Math.exp(-v*x*k);return o-N*((g+v*x*b)/C*Math.sin(C*k)+b*Math.cos(C*k))}}else if(v===1)w=C=>o-Math.exp(-x*C)*(b+(g+x*b)*C);else{const C=x*Math.sqrt(v*v-1);w=k=>{const N=Math.exp(-v*x*k),P=Math.min(C*k,300);return o-N*((g+v*x*b)*Math.sinh(P)+C*b*Math.cosh(P))/C}}const S={calculatedDuration:m&&f||null,next:C=>{const k=w(C);if(m)l.done=C>=f;else{let N=C===0?g:0;v<1&&(N=C===0?_o(g):_J(w,C,k));const P=Math.abs(N)<=r,E=Math.abs(o-k)<=a;l.done=P&&E}return l.value=l.done?o:k,l},toString:()=>{const C=Math.min(hM(S),j1),k=TJ(N=>S.next(C*N).value,C,30);return C+"ms "+k},toTransition:()=>{}};return S}N1.applyToOptions=e=>{const t=gDe(e,100,N1);return e.ease=t.ease,e.duration=_o(t.duration),e.type="keyframes",e};function y2({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let v=n*t;const b=f+v,x=o===void 0?b:o(b);x!==b&&(v=x-f);const y=P=>-v*Math.exp(-P/r),w=P=>x+y(P),S=P=>{const E=y(P),R=w(P);h.done=Math.abs(E)<=u,h.value=h.done?x:R};let C,k;const N=P=>{m(h.value)&&(C=P,k=N1({keyframes:[h.value,g(h.value)],velocity:_J(w,P,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:P=>{let E=!1;return!k&&C===void 0&&(E=!0,S(P),N(P)),C!==void 0&&P>=C?k.next(P-C):(!E&&S(P),h)}}}function jDe(e,t,n){const r=[],a=n||Dl.mix||EJ,s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||fi:t;l=lx(c,l)}r.push(l)}return r}function DJ(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const s=e.length;if(aM(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=jDe(t,r,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=ay(e[f],e[f+1],d);return l[f](h)};return n?d=>u(_l(e[0],e[s-1],d)):u}function NDe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=ay(0,t,r);e.push(Hn(n,1,a))}}function kDe(e){const t=[0];return NDe(t,e.length-1),t}function ADe(e,t){return e.map(n=>n*t)}function PDe(e,t){return e.map(()=>t||yJ).splice(0,e.length-1)}function iv({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=B_e(r)?r.map(n3):n3(r),s={done:!1,value:t[0]},o=ADe(n&&n.length===t.length?n:kDe(t),e),l=DJ(o,t,{ease:Array.isArray(a)?a:PDe(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const EDe=e=>e!==null;function mM(e,{repeat:t,repeatType:n="loop"},r,a=1){const s=e.filter(EDe),l=a<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const TDe={decay:y2,inertia:y2,tween:iv,keyframes:iv,spring:N1};function RJ(e){typeof e.type=="string"&&(e.type=TDe[e.type])}class pM{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const _De=e=>e/100;class gM extends pM{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==hs.now()&&this.tick(hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;RJ(t);const{type:n=iv,repeat:r=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=t;let{keyframes:l}=t;const c=n||iv;c!==iv&&typeof l[0]!="number"&&(this.mixKeyframes=lx(_De,EJ(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=hM(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,S=r;if(f){const P=Math.min(this.currentTime,a)/l;let E=Math.floor(P),R=P%1;!R&&P>=1&&(R=1),R===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/l)):h==="mirror"&&(S=o)),w=_l(0,1,R)*l}const C=y?{done:!1,value:d[0]}:S.next(w);s&&(C.value=s(C.value));let{done:k}=C;!y&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return N&&g!==y2&&(C.value=mM(d,this.options,b,this.speed)),v&&v(C.value),N&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return li(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+li(t)}get time(){return li(this.currentTime)}set time(t){var n;t=_o(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hs.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=li(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=pDe,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(a=this.options).onPlay)==null||s.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function DDe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Xu=e=>e*180/Math.PI,x2=e=>{const t=Xu(Math.atan2(e[1],e[0]));return b2(t)},RDe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:x2,rotateZ:x2,skewX:e=>Xu(Math.atan(e[1])),skewY:e=>Xu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},b2=e=>(e=e%360,e<0&&(e+=360),e),l3=x2,c3=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),u3=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),MDe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:c3,scaleY:u3,scale:e=>(c3(e)+u3(e))/2,rotateX:e=>b2(Xu(Math.atan2(e[6],e[5]))),rotateY:e=>b2(Xu(Math.atan2(-e[2],e[0]))),rotateZ:l3,rotate:l3,skewX:e=>Xu(Math.atan(e[4])),skewY:e=>Xu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function w2(e){return e.includes("scale")?1:0}function S2(e,t){if(!e||e==="none")return w2(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=MDe,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RDe,a=l}if(!a)return w2(t);const s=r[t],o=a[1].split(",").map(ODe);return typeof s=="function"?s(o):o[s]}const IDe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return S2(n,t)};function ODe(e){return parseFloat(e.trim())}const cp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],up=new Set(cp),d3=e=>e===lp||e===Ot,LDe=new Set(["x","y","z"]),$De=cp.filter(e=>!LDe.has(e));function FDe(e){const t=[];return $De.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const dd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>S2(t,"x"),y:(e,{transform:t})=>S2(t,"y")};dd.translateX=dd.x;dd.translateY=dd.y;const fd=new Set;let C2=!1,j2=!1,N2=!1;function MJ(){if(j2){const e=Array.from(fd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=FDe(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}j2=!1,C2=!1,fd.forEach(e=>e.complete(N2)),fd.clear()}function IJ(){fd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(j2=!0)})}function BDe(){N2=!0,IJ(),MJ(),N2=!1}class vM{constructor(t,n,r,a,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(fd.add(this),C2||(C2=!0,Rn.read(IJ),Rn.resolveKeyframes(MJ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&s===void 0&&a.set(t[0])}DDe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fd.delete(this)}cancel(){this.state==="scheduled"&&(fd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VDe=e=>e.startsWith("--");function zDe(e,t,n){VDe(t)?e.style.setProperty(t,n):e.style[t]=n}const UDe=sM(()=>window.ScrollTimeline!==void 0),KDe={};function GDe(e,t){const n=sM(e);return()=>KDe[t]??n()}const OJ=GDe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rg=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,f3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rg([0,.65,.55,1]),circOut:Rg([.55,0,1,.45]),backIn:Rg([.31,.01,.66,-.59]),backOut:Rg([.33,1.53,.69,.99])};function LJ(e,t){if(e)return typeof e=="function"?OJ()?TJ(e,t):"ease-out":xJ(e)?Rg(e):Array.isArray(e)?e.map(n=>LJ(n,t)||f3.easeOut):f3[e]}function WDe(e,t,n,{delay:r=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=LJ(l,a);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function $J(e){return typeof e=="function"&&"applyToOptions"in e}function qDe({type:e,...t}){return $J(e)&&OJ()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class HDe extends pM{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,aM(typeof t.type!="string");const u=qDe(t);this.animation=WDe(n,r,a,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=mM(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):zDe(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return li(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+li(t)}get time(){return li(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_o(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&UDe()?(this.animation.timeline=t,fi):n(this)}}const FJ={anticipate:pJ,backInOut:mJ,circInOut:vJ};function YDe(e){return e in FJ}function QDe(e){typeof e.ease=="string"&&YDe(e.ease)&&(e.ease=FJ[e.ease])}const h3=10;class ZDe extends HDe{constructor(t){QDe(t),RJ(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new gM({...o,autoplay:!1}),c=_o(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-h3).value,l.sample(c).value,h3),l.stop()}}const m3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(eu.test(e)||e==="0")&&!e.startsWith("url("));function JDe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function XDe(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=m3(a,t),l=m3(s,t);return!o||!l?!1:JDe(e)||(n==="spring"||$J(n))&&r}function k2(e){e.duration=0,e.type="keyframes"}const eRe=new Set(["opacity","clipPath","filter","transform"]),tRe=sM(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nRe(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:s,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return tRe()&&n&&eRe.has(n)&&(n!=="transform"||!u)&&!c&&!r&&a!=="mirror"&&s!==0&&o!=="inertia"}const rRe=40;class aRe extends pM{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var v,b;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=hs.now();const h={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||vM;this.keyframeResolver=new m(l,(v,b,x)=>this.onKeyframesResolved(v,b,h,!x),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=hs.now(),XDe(t,s,o,l)||((Dl.instantAnimations||!c)&&(d==null||d(mM(t,r,n))),t[0]=t[t.length-1],k2(r),r.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>rRe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&nRe(h)?new ZDe({...h,element:h.motionValue.owner.current}):new gM(h);m.finished.then(()=>this.notifyFinished()).catch(fi),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),BDe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const sRe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iRe(e){const t=sRe.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function BJ(e,t,n=1){const[r,a]=iRe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return iJ(o)?parseFloat(o):o}return cM(a)?BJ(a,t,n+1):a}function yM(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const VJ=new Set(["width","height","top","left","right","bottom",...cp]),oRe={test:e=>e==="auto",parse:e=>e},zJ=e=>t=>t.test(e),UJ=[lp,Ot,Do,fc,X_e,J_e,oRe],p3=e=>UJ.find(zJ(e));function lRe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||lJ(e):!0}const cRe=new Set(["brightness","contrast","saturate","opacity"]);function uRe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(uM)||[];if(!r)return e;const a=n.replace(r,"");let s=cRe.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+a+")"}const dRe=/\b([a-z-]*)\(.*?\)/gu,A2={...eu,getAnimatableNone:e=>{const t=e.match(dRe);return t?t.map(uRe).join(" "):e}},g3={...lp,transform:Math.round},fRe={rotate:fc,rotateX:fc,rotateY:fc,rotateZ:fc,scale:Q0,scaleX:Q0,scaleY:Q0,scaleZ:Q0,skew:fc,skewX:fc,skewY:fc,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:sy,originX:r3,originY:r3,originZ:Ot},xM={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...fRe,zIndex:g3,fillOpacity:sy,strokeOpacity:sy,numOctaves:g3},hRe={...xM,color:Nr,backgroundColor:Nr,outlineColor:Nr,fill:Nr,stroke:Nr,borderColor:Nr,borderTopColor:Nr,borderRightColor:Nr,borderBottomColor:Nr,borderLeftColor:Nr,filter:A2,WebkitFilter:A2},KJ=e=>hRe[e];function GJ(e,t){let n=KJ(e);return n!==A2&&(n=eu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mRe=new Set(["auto","none","0"]);function pRe(e,t,n){let r=0,a;for(;r<e.length&&!a;){const s=e[r];typeof s=="string"&&!mRe.has(s)&&iy(s).values.length&&(a=e[r]),r++}if(a&&n)for(const s of t)e[s]=GJ(n,a)}class gRe extends vM{constructor(t,n,r,a,s){super(t,n,r,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),cM(u))){const d=BJ(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!VJ.has(r)||t.length!==2)return;const[a,s]=t,o=p3(a),l=p3(s);if(o!==l)if(d3(o)&&d3(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else dd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||lRe(t[a]))&&r.push(a);r.length&&pRe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=dd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function vRe(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const WJ=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function qJ(e){return oJ(e)&&"offsetHeight"in e}const v3=30,yRe=e=>!isNaN(parseFloat(e)),ov={current:void 0};class xRe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const a=hs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=hs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yRe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new iM);const r=this.events[t].add(n);return t==="change"?()=>{r(),Rn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return ov.current&&ov.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>v3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,v3);return cJ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ud(e,t){return new xRe(e,t)}const{schedule:bM}=bJ(queueMicrotask,!1),_i={x:!1,y:!1};function HJ(){return _i.x||_i.y}function bRe(e){return e==="x"||e==="y"?_i[e]?null:(_i[e]=!0,()=>{_i[e]=!1}):_i.x||_i.y?null:(_i.x=_i.y=!0,()=>{_i.x=_i.y=!1})}function YJ(e,t){const n=vRe(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function y3(e){return!(e.pointerType==="touch"||HJ())}function wRe(e,t,n={}){const[r,a,s]=YJ(e,n),o=l=>{if(!y3(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{y3(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),s}const QJ=(e,t)=>t?e===t?!0:QJ(e,t.parentElement):!1,wM=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,SRe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CRe(e){return SRe.has(e.tagName)||e.tabIndex!==-1}const tw=new WeakSet;function x3(e){return t=>{t.key==="Enter"&&e(t)}}function lA(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const jRe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=x3(()=>{if(tw.has(n))return;lA(n,"down");const a=x3(()=>{lA(n,"up")}),s=()=>lA(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function b3(e){return wM(e)&&!HJ()}function NRe(e,t,n={}){const[r,a,s]=YJ(e,n),o=l=>{const c=l.currentTarget;if(!b3(l))return;tw.add(c);const u=t(c,l),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),tw.has(c)&&tw.delete(c),b3(m)&&typeof u=="function"&&u(m,{success:g})},f=m=>{d(m,c===window||c===document||n.useGlobalTarget||QJ(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),qJ(l)&&(l.addEventListener("focus",u=>jRe(u,a)),!CRe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function ZJ(e){return oJ(e)&&"ownerSVGElement"in e}function kRe(e){return ZJ(e)&&e.tagName==="svg"}function ARe(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],a=e[1+n],s=e[2+n],o=e[3+n],l=DJ(a,s,o);return t?l(r):l}const ya=e=>!!(e&&e.getVelocity),PRe=[...UJ,Nr,eu],ERe=e=>PRe.find(zJ(e)),rj=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function w3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TRe(...e){return t=>{let n=!1;const r=e.map(a=>{const s=w3(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():w3(e[a],null)}}}}function _Re(...e){return p.useCallback(TRe(...e),e)}class DRe extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=qJ(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RRe({children:e,isPresent:t,anchorX:n,root:r}){const a=p.useId(),s=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(rj),c=_Re(s,e==null?void 0:e.ref);return p.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:m}=o.current;if(t||!s.current||!u||!d)return;const g=n==="left"?`left: ${h}`:`right: ${m}`;s.current.dataset.motionPopId=a;const v=document.createElement("style");l&&(v.nonce=l);const b=r??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[t]),i.jsx(DRe,{isPresent:t,childRef:s,sizeRef:o,children:p.cloneElement(e,{ref:c})})}const MRe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const u=hu(IRe),d=p.useId();let f=!0,h=p.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:a,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&f&&(h={...h}),p.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[n]),p.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(RRe,{isPresent:n,anchorX:l,root:c,children:e})),i.jsx(nj.Provider,{value:h,children:e})};function IRe(){return new Map}function JJ(e=!0){const t=p.useContext(nj);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,s=p.useId();p.useEffect(()=>{if(e)return a(s)},[e]);const o=p.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Z0=e=>e.key||"";function S3(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const hd=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=JJ(o),f=p.useMemo(()=>S3(e),[e]),h=o&&!u?[]:f.map(Z0),m=p.useRef(!0),g=p.useRef(f),v=hu(()=>new Map),[b,x]=p.useState(f),[y,w]=p.useState(f);tj(()=>{m.current=!1,g.current=f;for(let k=0;k<y.length;k++){const N=Z0(y[k]);h.includes(N)?v.delete(N):v.get(N)!==!0&&v.set(N,!1)}},[y,h.length,h.join("-")]);const S=[];if(f!==b){let k=[...f];for(let N=0;N<y.length;N++){const P=y[N],E=Z0(P);h.includes(E)||(k.splice(N,0,P),S.push(P))}return s==="wait"&&S.length&&(k=S),w(S3(k)),x(f),null}const{forceRender:C}=p.useContext(ry);return i.jsx(i.Fragment,{children:y.map(k=>{const N=Z0(k),P=o&&!u?!1:f===y||h.includes(N),E=()=>{if(v.has(N))v.set(N,!0);else return;let R=!0;v.forEach(O=>{O||(R=!1)}),R&&(C==null||C(),w(g.current),o&&(d==null||d()),r&&r())};return i.jsx(MRe,{isPresent:P,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:P?void 0:E,anchorX:l,children:k},N)})})},ORe=p.createContext(null);function LRe(){const e=p.useRef(!1);return tj(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function $Re(){const e=LRe(),[t,n]=p.useState(0),r=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>Rn.postRender(r),[r]),t]}const FRe=e=>!e.isLayoutDirty&&e.willUpdate(!1);function C3(){const e=new Set,t=new WeakMap,n=()=>e.forEach(FRe);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const a=t.get(r);a&&(a(),t.delete(r)),n()},dirty:n}}const XJ=e=>e===!0,BRe=e=>XJ(e===!0)||e==="id",VRe=({children:e,id:t,inherit:n=!0})=>{const r=p.useContext(ry),a=p.useContext(ORe),[s,o]=$Re(),l=p.useRef(null),c=r.id||a;l.current===null&&(BRe(n)&&c&&(t=t?c+"-"+t:c),l.current={id:t,group:XJ(n)&&r.group||C3()});const u=p.useMemo(()=>({...l.current,forceRender:s}),[o]);return i.jsx(ry.Provider,{value:u,children:e})},eX=p.createContext({strict:!1}),j3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bm={};for(const e in j3)bm[e]={isEnabled:t=>j3[e].some(n=>!!t[n])};function zRe(e){for(const t in e)bm[t]={...bm[t],...e[t]}}const URe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function k1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||URe.has(e)}let tX=e=>!k1(e);function KRe(e){typeof e=="function"&&(tX=t=>t.startsWith("on")?!k1(t):e(t))}try{KRe(require("@emotion/is-prop-valid").default)}catch{}function GRe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(tX(a)||n===!0&&k1(a)||!t&&!k1(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const aj=p.createContext({});function sj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function oy(e){return typeof e=="string"||Array.isArray(e)}const SM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CM=["initial",...SM];function ij(e){return sj(e.animate)||CM.some(t=>oy(e[t]))}function nX(e){return!!(ij(e)||e.variants)}function WRe(e,t){if(ij(e)){const{initial:n,animate:r}=e;return{initial:n===!1||oy(n)?n:void 0,animate:oy(r)?r:void 0}}return e.inherit!==!1?t:{}}function qRe(e){const{initial:t,animate:n}=WRe(e,p.useContext(aj));return p.useMemo(()=>({initial:t,animate:n}),[N3(t),N3(n)])}function N3(e){return Array.isArray(e)?e.join(" "):e}function k3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ag={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ot.test(e))e=parseFloat(e);else return e;const n=k3(e,t.target.x),r=k3(e,t.target.y);return`${n}% ${r}%`}},HRe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=eu.parse(e);if(a.length>5)return r;const s=eu.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=Hn(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}},P2={borderRadius:{...ag,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ag,borderTopRightRadius:ag,borderBottomLeftRadius:ag,borderBottomRightRadius:ag,boxShadow:HRe};function rX(e,{layout:t,layoutId:n}){return up.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!P2[e]||e==="opacity")}const YRe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QRe=cp.length;function ZRe(e,t,n){let r="",a=!0;for(let s=0;s<QRe;s++){const o=cp[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=WJ(l,xM[o]);if(!c){a=!1;const d=YRe[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function jM(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(up.has(c)){o=!0;continue}else if(SJ(c)){a[c]=u;continue}else{const d=WJ(u,xM[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=ZRe(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const NM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aX(e,t,n){for(const r in t)!ya(t[r])&&!rX(r,n)&&(e[r]=t[r])}function JRe({transformTemplate:e},t){return p.useMemo(()=>{const n=NM();return jM(n,t,e),Object.assign({},n.vars,n.style)},[t])}function XRe(e,t){const n=e.style||{},r={};return aX(r,n,e),Object.assign(r,JRe(e,t)),r}function eMe(e,t){const n={},r=XRe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const tMe={offset:"stroke-dashoffset",array:"stroke-dasharray"},nMe={offset:"strokeDashoffset",array:"strokeDasharray"};function rMe(e,t,n=1,r=0,a=!0){e.pathLength=1;const s=a?tMe:nMe;e[s.offset]=Ot.transform(-r);const o=Ot.transform(t),l=Ot.transform(n);e[s.array]=`${o} ${l}`}function sX(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...l},c,u,d){if(jM(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&rMe(f,a,s,o,!1)}const iX=()=>({...NM(),attrs:{}}),oX=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aMe(e,t,n,r){const a=p.useMemo(()=>{const s=iX();return sX(s,t,oX(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};aX(s,e.style,e),a.style={...s,...a.style}}return a}const sMe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kM(e){return typeof e!="string"||e.includes("-")?!1:!!(sMe.indexOf(e)>-1||/[A-Z]/u.test(e))}function iMe(e,t,n,{latestValues:r},a,s=!1){const l=(kM(e)?aMe:eMe)(t,r,a,e),c=GRe(t,typeof e=="string",s),u=e!==p.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=p.useMemo(()=>ya(d)?d.get():d,[d]);return p.createElement(e,{...u,children:f})}function A3(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function AM(e,t,n,r){if(typeof t=="function"){const[a,s]=A3(r);t=t(n!==void 0?n:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=A3(r);t=t(n!==void 0?n:e.custom,a,s)}return t}function nw(e){return ya(e)?e.get():e}function oMe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:lMe(n,r,a,e),renderState:t()}}function lMe(e,t,n,r){const a={},s=r(e,{});for(const h in s)a[h]=nw(s[h]);let{initial:o,animate:l}=e;const c=ij(e),u=nX(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!sj(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=AM(e,h[m]);if(g){const{transitionEnd:v,transition:b,...x}=g;for(const y in x){let w=x[y];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(a[y]=w)}for(const y in v)a[y]=v[y]}}}return a}const lX=e=>(t,n)=>{const r=p.useContext(aj),a=p.useContext(nj),s=()=>oMe(e,t,r,a);return n?s():hu(s)};function PM(e,t,n){var s;const{style:r}=e,a={};for(const o in r)(ya(r[o])||t.style&&ya(t.style[o])||rX(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const cMe=lX({scrapeMotionValuesFromProps:PM,createRenderState:NM});function cX(e,t,n){const r=PM(e,t,n);for(const a in e)if(ya(e[a])||ya(t[a])){const s=cp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[s]=e[a]}return r}const uMe=lX({scrapeMotionValuesFromProps:cX,createRenderState:iX}),dMe=Symbol.for("motionComponentSymbol");function jh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function fMe(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):jh(n)&&(n.current=r))},[t])}const EM=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hMe="framerAppearId",uX="data-"+EM(hMe),dX=p.createContext({});function mMe(e,t,n,r,a){var v,b;const{visualElement:s}=p.useContext(aj),o=p.useContext(eX),l=p.useContext(nj),c=p.useContext(rj).reducedMotion,u=p.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=p.useContext(dX);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&pMe(u.current,n,a,f);const h=p.useRef(!1);p.useInsertionEffect(()=>{d&&h.current&&d.update(n,l)});const m=n[uX],g=p.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return tj(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,m)}),g.current=!1),d.enteringChildren=void 0)}),d}function pMe(e,t,n,r){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:fX(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&jh(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function fX(e){if(e)return e.options.allowProjection!==!1?e.projection:fX(e.parent)}function cA(e,{forwardMotionProps:t=!1}={},n,r){n&&zRe(n);const a=kM(e)?uMe:cMe;function s(l,c){let u;const d={...p.useContext(rj),...l,layoutId:gMe(l)},{isStatic:f}=d,h=qRe(l),m=a(l,f);if(!f&&tM){vMe();const g=yMe(d);u=g.MeasureLayout,h.visualElement=mMe(e,m,d,r,g.ProjectionNode)}return i.jsxs(aj.Provider,{value:h,children:[u&&h.visualElement?i.jsx(u,{visualElement:h.visualElement,...d}):null,iMe(e,l,fMe(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=p.forwardRef(s);return o[dMe]=e,o}function gMe({layoutId:e}){const t=p.useContext(ry).id;return t&&e!==void 0?t+"-"+e:e}function vMe(e,t){p.useContext(eX).strict}function yMe(e){const{drag:t,layout:n}=bm;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function xMe(e,t){if(typeof Proxy>"u")return cA;const n=new Map,r=(s,o)=>cA(s,o,e,t),a=(s,o)=>r(s,o);return new Proxy(a,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,cA(o,void 0,e,t)),n.get(o))})}function hX({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function bMe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wMe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function uA(e){return e===void 0||e===1}function E2({scale:e,scaleX:t,scaleY:n}){return!uA(e)||!uA(t)||!uA(n)}function Ou(e){return E2(e)||mX(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mX(e){return P3(e.x)||P3(e.y)}function P3(e){return e&&e!=="0%"}function A1(e,t,n){const r=e-n,a=t*r;return n+a}function E3(e,t,n,r,a){return a!==void 0&&(e=A1(e,a,r)),A1(e,n,r)+t}function T2(e,t=0,n=1,r,a){e.min=E3(e.min,t,n,r,a),e.max=E3(e.max,t,n,r,a)}function pX(e,{x:t,y:n}){T2(e.x,t.translate,t.scale,t.originPoint),T2(e.y,n.translate,n.scale,n.originPoint)}const T3=.999999999999,_3=1.0000000000001;function SMe(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&kh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,pX(e,o)),r&&Ou(s.latestValues)&&kh(e,s.latestValues))}t.x<_3&&t.x>T3&&(t.x=1),t.y<_3&&t.y>T3&&(t.y=1)}function Nh(e,t){e.min=e.min+t,e.max=e.max+t}function D3(e,t,n,r,a=.5){const s=Hn(e.min,e.max,a);T2(e,t,n,s,r)}function kh(e,t){D3(e.x,t.x,t.scaleX,t.scale,t.originX),D3(e.y,t.y,t.scaleY,t.scale,t.originY)}function gX(e,t){return hX(wMe(e.getBoundingClientRect(),t))}function CMe(e,t,n){const r=gX(e,n),{scroll:a}=t;return a&&(Nh(r.x,a.offset.x),Nh(r.y,a.offset.y)),r}const R3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ah=()=>({x:R3(),y:R3()}),M3=()=>({min:0,max:0}),Dr=()=>({x:M3(),y:M3()}),_2={current:null},vX={current:!1};function jMe(){if(vX.current=!0,!!tM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_2.current=e.matches;e.addEventListener("change",t),t()}else _2.current=!1}const NMe=new WeakMap;function kMe(e,t,n){for(const r in t){const a=t[r],s=n[r];if(ya(a))e.addValue(r,a);else if(ya(s))e.addValue(r,Ud(a,{owner:e}));else if(s!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,Ud(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const I3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AMe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=hs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Rn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=ij(n),this.isVariantNode=nX(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&ya(m)&&m.set(c[h])}}mount(t){var n;this.current=t,NMe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),vX.current||jMe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_2.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Rl(this.notifyUpdate),Rl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=up.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Rn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bm){const n=bm[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<I3.length;r++){const a=I3[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=t[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=kMe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ud(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(iJ(r)||lJ(r))?r=parseFloat(r):!ERe(r)&&eu.test(n)&&(r=GJ(t,n)),this.setBaseTarget(t,ya(r)?r.get():r)),ya(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=AM(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ya(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new iM),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){bM.render(this.render)}}class yX extends AMe{constructor(){super(...arguments),this.KeyframeResolver=gRe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ya(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xX(e,{style:t,vars:n},r,a){const s=e.style;let o;for(o in t)s[o]=t[o];a==null||a.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function PMe(e){return window.getComputedStyle(e)}class EMe extends yX{constructor(){super(...arguments),this.type="html",this.renderInstance=xX}readValueFromInstance(t,n){var r;if(up.has(n))return(r=this.projection)!=null&&r.isProjecting?w2(n):IDe(t,n);{const a=PMe(t),s=(SJ(n)?a.getPropertyValue(n):a[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return gX(t,n)}build(t,n,r){jM(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return PM(t,n,r)}}const bX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TMe(e,t,n,r){xX(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(bX.has(a)?a:EM(a),t.attrs[a])}class _Me extends yX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(up.has(n)){const r=KJ(n);return r&&r.default||0}return n=bX.has(n)?n:EM(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return cX(t,n,r)}build(t,n,r){sX(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){TMe(t,n,r,a)}mount(t){this.isSVGTag=oX(t.tagName),super.mount(t)}}const DMe=(e,t)=>kM(e)?new _Me(t):new EMe(t,{allowProjection:e!==p.Fragment});function qh(e,t,n){const r=e.getProps();return AM(r,t,n!==void 0?n:r.custom,e)}const D2=e=>Array.isArray(e);function RMe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ud(n))}function MMe(e){return D2(e)?e[e.length-1]||0:e}function IMe(e,t){const n=qh(e,t);let{transitionEnd:r={},transition:a={},...s}=n||{};s={...s,...r};for(const o in s){const l=MMe(s[o]);RMe(e,o,l)}}function OMe(e){return!!(ya(e)&&e.add)}function R2(e,t){const n=e.getValue("willChange");if(OMe(n))return n.add(t);if(!n&&Dl.WillChange){const r=new Dl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function wX(e){return e.props[uX]}const LMe=e=>e!==null;function $Me(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(LMe),s=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[s]}const FMe={type:"spring",stiffness:500,damping:25,restSpeed:10},BMe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VMe={type:"keyframes",duration:.8},zMe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UMe=(e,{keyframes:t})=>t.length>2?VMe:up.has(e)?e.startsWith("scale")?BMe(t[1]):FMe:zMe;function KMe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const TM=(e,t,n,r={},a,s)=>o=>{const l=yM(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-_o(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};KMe(l)||Object.assign(d,UMe(e,d)),d.duration&&(d.duration=_o(d.duration)),d.repeatDelay&&(d.repeatDelay=_o(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(k2(d),d.delay===0&&(f=!0)),(Dl.instantAnimations||Dl.skipAnimations)&&(f=!0,k2(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=$Me(d.keyframes,l);if(h!==void 0){Rn.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new gM(d):new aRe(d)};function GMe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function SX(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(s=r);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&GMe(u,d))continue;const m={delay:n,...yM(s||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const x=wX(e);if(x){const y=window.MotionHandoffAnimation(x,d,Rn);y!==null&&(m.startTime=y,v=!0)}}R2(e,d),f.start(TM(d,f,h,e.shouldReduceMotion&&VJ.has(d)?{type:!1}:m,e,v));const b=f.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Rn.update(()=>{o&&IMe(e,o)})}),c}function CX(e,t,n,r=0,a=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(s,o):a===1?s*r:l-s*r}function M2(e,t,n={}){var c;const r=qh(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const s=r?()=>Promise.all(SX(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return WMe(e,t,u,d,f,h,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function WMe(e,t,n=0,r=0,a=0,s=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(M2(c,t,{...o,delay:n+(typeof r=="function"?0:r)+CX(e.variantChildren,c,r,a,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function qMe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(s=>M2(e,s,n));r=Promise.all(a)}else if(typeof t=="string")r=M2(e,t,n);else{const a=typeof t=="function"?qh(e,t,n.custom):t;r=Promise.all(SX(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function jX(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const HMe=CM.length;function NX(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?NX(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<HMe;n++){const r=CM[n],a=e.props[r];(oy(a)||a===!1)&&(t[r]=a)}return t}const YMe=[...SM].reverse(),QMe=SM.length;function ZMe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>qMe(e,n,r)))}function JMe(e){let t=ZMe(e),n=O3(),r=!0;const a=c=>(u,d)=>{var h;const f=qh(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...v}=f;u={...u,...v,...g}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=NX(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let b=0;b<QMe;b++){const x=YMe[b],y=n[x],w=u[x]!==void 0?u[x]:d[x],S=oy(w),C=x===c?y.isActive:null;C===!1&&(g=b);let k=w===d[x]&&w!==u[x]&&S;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...m},!y.isActive&&C===null||!w&&!y.prevProp||sj(w)||typeof w=="boolean")continue;const N=XMe(y.prevProp,w);let P=N||x===c&&y.isActive&&!k&&S||b>g&&S,E=!1;const R=Array.isArray(w)?w:[w];let O=R.reduce(a(x),{});C===!1&&(O={});const{prevResolvedValues:K={}}=y,J={...K,...O},Q=U=>{P=!0,h.has(U)&&(E=!0,h.delete(U)),y.needsAnimating[U]=!0;const M=e.getValue(U);M&&(M.liveStyle=!1)};for(const U in J){const M=O[U],$=K[U];if(m.hasOwnProperty(U))continue;let B=!1;D2(M)&&D2($)?B=!jX(M,$):B=M!==$,B?M!=null?Q(U):h.add(U):M!==void 0&&h.has(U)?Q(U):y.protectedKeys[U]=!0}y.prevProp=w,y.prevResolvedValues=O,y.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(P=!1);const G=k&&N;P&&(!G||E)&&f.push(...R.map(U=>{const M={type:x};if(typeof U=="string"&&r&&!G&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,B=qh($,U);if($.enteringChildren&&B){const{delayChildren:te}=B.transition||{};M.delay=CX($.enteringChildren,e,te)}}return{animation:U,options:M}}))}if(h.size){const b={};if(typeof u.initial!="boolean"){const x=qh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(b.transition=x.transition)}h.forEach(x=>{const y=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),b[x]=y??null}),f.push({animation:b})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=O3()}}}function XMe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jX(t,e):!1}function Tu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O3(){return{animate:Tu(!0),whileInView:Tu(),whileHover:Tu(),whileTap:Tu(),whileDrag:Tu(),whileFocus:Tu(),exit:Tu()}}class mu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eIe extends mu{constructor(t){super(t),t.animationState||(t.animationState=JMe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let tIe=0;class nIe extends mu{constructor(){super(...arguments),this.id=tIe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rIe={animation:{Feature:eIe},exit:{Feature:nIe}};function ly(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function dx(e){return{point:{x:e.pageX,y:e.pageY}}}const aIe=e=>t=>wM(t)&&e(t,dx(t));function lv(e,t,n,r){return ly(e,t,aIe(n),r)}const kX=1e-4,sIe=1-kX,iIe=1+kX,AX=.01,oIe=0-AX,lIe=0+AX;function za(e){return e.max-e.min}function cIe(e,t,n){return Math.abs(e-t)<=n}function L3(e,t,n,r=.5){e.origin=r,e.originPoint=Hn(t.min,t.max,e.origin),e.scale=za(n)/za(t),e.translate=Hn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sIe&&e.scale<=iIe||isNaN(e.scale))&&(e.scale=1),(e.translate>=oIe&&e.translate<=lIe||isNaN(e.translate))&&(e.translate=0)}function cv(e,t,n,r){L3(e.x,t.x,n.x,r?r.originX:void 0),L3(e.y,t.y,n.y,r?r.originY:void 0)}function $3(e,t,n){e.min=n.min+t.min,e.max=e.min+za(t)}function uIe(e,t,n){$3(e.x,t.x,n.x),$3(e.y,t.y,n.y)}function F3(e,t,n){e.min=t.min-n.min,e.max=e.min+za(t)}function P1(e,t,n){F3(e.x,t.x,n.x),F3(e.y,t.y,n.y)}function ti(e){return[e("x"),e("y")]}const PX=({current:e})=>e?e.ownerDocument.defaultView:null,B3=(e,t)=>Math.abs(e-t);function dIe(e,t){const n=B3(e.x,t.x),r=B3(e.y,t.y);return Math.sqrt(n**2+r**2)}class EX{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=fA(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=dIe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:v}=h,{timestamp:b}=ga;this.history.push({...v,timestamp:b});const{onStart:x,onMove:y}=this.handlers;m||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=dA(m,this.transformPagePoint),Rn.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=fA(h.type==="pointercancel"?this.lastMoveEventInfo:dA(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,x),v&&v(h,x)},!wM(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const l=dx(t),c=dA(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=ga;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,fA(c,this.history)),this.removeListeners=lx(lv(this.contextWindow,"pointermove",this.handlePointerMove),lv(this.contextWindow,"pointerup",this.handlePointerUp),lv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Rl(this.updatePoint)}}function dA(e,t){return t?{point:t(e.point)}:e}function V3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fA({point:e},t){return{point:e,delta:V3(e,TX(t)),offset:V3(e,fIe(t)),velocity:hIe(t,.1)}}function fIe(e){return e[0]}function TX(e){return e[e.length-1]}function hIe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=TX(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>_o(t)));)n--;if(!r)return{x:0,y:0};const s=li(a.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mIe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Hn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Hn(n,e,r.max):Math.min(e,n)),e}function z3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pIe(e,{top:t,left:n,bottom:r,right:a}){return{x:z3(e.x,n,a),y:z3(e.y,t,r)}}function U3(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function gIe(e,t){return{x:U3(e.x,t.x),y:U3(e.y,t.y)}}function vIe(e,t){let n=.5;const r=za(e),a=za(t);return a>r?n=ay(t.min,t.max-r,e.min):r>a&&(n=ay(e.min,e.max-a,t.min)),_l(0,1,n)}function yIe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const I2=.35;function xIe(e=I2){return e===!1?e=0:e===!0&&(e=I2),{x:K3(e,"left","right"),y:K3(e,"top","bottom")}}function K3(e,t,n){return{min:G3(e,t),max:G3(e,n)}}function G3(e,t){return typeof e=="number"?e:e[t]||0}const bIe=new WeakMap;class wIe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dx(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bRe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(x=>{let y=this.getAxisMotionValue(x).get()||0;if(Do.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[x];S&&(y=za(S)*(parseFloat(y)/100))}}this.originPoint[x]=y}),v&&Rn.postRender(()=>v(f,h)),R2(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:v,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=h;if(g&&this.currentDirection===null){this.currentDirection=SIe(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),b&&b(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ti(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new EX(t,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:PX(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Rn.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!J0(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=mIe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&jh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=pIe(r.layoutBox,t):this.constraints=!1,this.elastic=xIe(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ti(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yIe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!jh(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=CMe(r,a.root,this.visualElement.getTransformPagePoint());let o=gIe(a.layout.layoutBox,s);if(n){const l=n(bMe(o));this.hasMutatedConstraints=!!l,l&&(o=hX(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ti(d=>{if(!J0(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return R2(this.visualElement,t),r.start(TM(t,r,0,n,this.visualElement,!1))}stopAnimation(){ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ti(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ti(n=>{const{drag:r}=this.getProps();if(!J0(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];s.set(t[n]-Hn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jh(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ti(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=vIe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ti(o=>{if(!J0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Hn(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;bIe.set(this.visualElement,this);const t=this.visualElement.current,n=lv(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();jh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rn.read(r);const o=ly(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ti(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=I2,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function J0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function SIe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class CIe extends mu{constructor(t){super(t),this.removeGroupControls=fi,this.removeListeners=fi,this.controls=new wIe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fi}unmount(){this.removeGroupControls(),this.removeListeners()}}const W3=e=>(t,n)=>{e&&Rn.postRender(()=>e(t,n))};class jIe extends mu{constructor(){super(...arguments),this.removePointerDownListener=fi}onPointerDown(t){this.session=new EX(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PX(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:W3(t),onStart:W3(n),onMove:r,onEnd:(s,o)=>{delete this.session,a&&Rn.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=lv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let hA=!1;class NIe extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:s}=t;s&&(n.group&&n.group.add(s),r&&r.register&&a&&r.register(s),hA&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,hA=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Rn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bM.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;hA=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _X(e){const[t,n]=JJ(),r=p.useContext(ry);return i.jsx(NIe,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(dX),isPresent:t,safeToRemove:n})}function kIe(e,t,n){const r=ya(e)?e:Ud(e);return r.start(TM("",r,t,n)),r.animation}const AIe=(e,t)=>e.depth-t.depth;class PIe{constructor(){this.children=[],this.isDirty=!1}add(t){nM(this.children,t),this.isDirty=!0}remove(t){rM(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AIe),this.isDirty=!1,this.children.forEach(t)}}function EIe(e,t){const n=hs.now(),r=({timestamp:a})=>{const s=a-n;s>=t&&(Rl(r),e(s-t))};return Rn.setup(r,!0),()=>Rl(r)}const DX=["TopLeft","TopRight","BottomLeft","BottomRight"],TIe=DX.length,q3=e=>typeof e=="string"?parseFloat(e):e,H3=e=>typeof e=="number"||Ot.test(e);function _Ie(e,t,n,r,a,s){a?(e.opacity=Hn(0,n.opacity??1,DIe(r)),e.opacityExit=Hn(t.opacity??1,0,RIe(r))):s&&(e.opacity=Hn(t.opacity??1,n.opacity??1,r));for(let o=0;o<TIe;o++){const l=`border${DX[o]}Radius`;let c=Y3(t,l),u=Y3(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||H3(c)===H3(u)?(e[l]=Math.max(Hn(q3(c),q3(u),r),0),(Do.test(u)||Do.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Hn(t.rotate||0,n.rotate||0,r))}function Y3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DIe=RX(0,.5,gJ),RIe=RX(.5,.95,fi);function RX(e,t,n){return r=>r<e?0:r>t?1:n(ay(e,t,r))}function Q3(e,t){e.min=t.min,e.max=t.max}function Pi(e,t){Q3(e.x,t.x),Q3(e.y,t.y)}function Z3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function J3(e,t,n,r,a){return e-=t,e=A1(e,1/n,r),a!==void 0&&(e=A1(e,1/a,r)),e}function MIe(e,t=0,n=1,r=.5,a,s=e,o=e){if(Do.test(t)&&(t=parseFloat(t),t=Hn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Hn(s.min,s.max,r);e===s&&(l-=t),e.min=J3(e.min,t,n,l,a),e.max=J3(e.max,t,n,l,a)}function X3(e,t,[n,r,a],s,o){MIe(e,t[n],t[r],t[a],t.scale,s,o)}const IIe=["x","scaleX","originX"],OIe=["y","scaleY","originY"];function e5(e,t,n,r){X3(e.x,t,IIe,n?n.x:void 0,r?r.x:void 0),X3(e.y,t,OIe,n?n.y:void 0,r?r.y:void 0)}function t5(e){return e.translate===0&&e.scale===1}function MX(e){return t5(e.x)&&t5(e.y)}function n5(e,t){return e.min===t.min&&e.max===t.max}function LIe(e,t){return n5(e.x,t.x)&&n5(e.y,t.y)}function r5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function IX(e,t){return r5(e.x,t.x)&&r5(e.y,t.y)}function a5(e){return za(e.x)/za(e.y)}function s5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $Ie{constructor(){this.members=[]}add(t){nM(this.members,t),t.scheduleRender()}remove(t){if(rM(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FIe(e,t,n){let r="";const a=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||s||o)&&(r=`translate3d(${a}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const mA=["","X","Y","Z"],BIe=1e3;let VIe=0;function pA(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function OX(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=wX(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Rn,!(a||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&OX(r)}function LX({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=VIe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KIe),this.nodes.forEach(HIe),this.nodes.forEach(YIe),this.nodes.forEach(GIe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new PIe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new iM),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ZJ(o)&&!kRe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Rn.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=EIe(h,250),rw.hasAnimatedSinceResize&&(rw.hasAnimatedSinceResize=!1,this.nodes.forEach(l5)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||eOe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),x=!this.targetLayout||!IX(this.targetLayout,m),y=!f&&h;if(this.options.layoutRoot||this.resumeFrom||y||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...yM(g,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,y)}else f||l5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QIe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qIe),this.nodes.forEach(zIe),this.nodes.forEach(UIe)):this.nodes.forEach(o5),this.clearAllSnapshots();const l=hs.now();ga.delta=_l(0,1e3/60,l-ga.timestamp),ga.timestamp=l,ga.isProcessing=!0,rA.update.process(ga),rA.preRender.process(ga),rA.render.process(ga),ga.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WIe),this.sharedNodes.forEach(ZIe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!za(this.snapshot.measuredBox.x)&&!za(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Dr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!MX(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ou(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),tOe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Dr();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(nOe))){const{scroll:d}=this.root;d&&(Nh(l.x,d.offset.x),Nh(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Dr();if(Pi(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Pi(l,o),Nh(l.x,f.offset.x),Nh(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Dr();Pi(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&kh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ou(d.latestValues)&&kh(c,d.latestValues)}return Ou(this.latestValues)&&kh(c,this.latestValues),c}removeTransform(o){const l=Dr();Pi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ou(u.latestValues))continue;E2(u.latestValues)&&u.updateSnapshot();const d=Dr(),f=u.measurePageBox();Pi(d,f),e5(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ou(this.latestValues)&&e5(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ga.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=ga.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dr(),this.targetWithTransforms=Dr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uIe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),pX(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||E2(this.parent.latestValues)||mX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dr(),this.relativeTargetOrigin=Dr(),P1(this.relativeTargetOrigin,l,c),Pi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ga.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Pi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;SMe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Dr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z3(this.prevProjectionDelta.x,this.projectionDelta.x),Z3(this.prevProjectionDelta.y,this.projectionDelta.y)),cv(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!s5(this.projectionDelta.x,this.prevProjectionDelta.x)||!s5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ah(),this.projectionDelta=Ah(),this.projectionDeltaWithTransform=Ah()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ah();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Dr(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,b=this.getStack(),x=!b||b.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(XIe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;c5(f.x,o.x,C),c5(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(P1(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JIe(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&LIe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Dr()),Pi(w,this.relativeTarget)),v&&(this.animationValues=d,_Ie(d,u,this.latestValues,C,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Rl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rn.update(()=>{rw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ud(0)),this.currentAnimation=kIe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BIe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&$X(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Dr();const f=za(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=za(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Pi(l,c),kh(l,d),cv(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $Ie),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&pA("z",o,u,this.animationValues);for(let d=0;d<mA.length;d++)pA(`rotate${mA[d]}`,o,u,this.animationValues),pA(`skew${mA[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=nw(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=nw(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ou(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=FIe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in P2){if(d[g]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:x}=P2[g],y=f==="none"?d[g]:v(d[g],u);if(b){const w=b.length;for(let S=0;S<w;S++)o[b[S]]=y}else x?this.options.visualElement.renderState.vars[g]=y:o[g]=y}this.options.layoutId&&(o.pointerEvents=u===this?nw(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(i5),this.root.sharedNodes.clear()}}}function zIe(e){e.updateLayout()}function UIe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?ti(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=za(h);h.min=r[f].min,h.max=h.min+m}):$X(s,t.layoutBox,r)&&ti(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=za(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Ah();cv(l,r,t.layoutBox);const c=Ah();o?cv(c,e.applyTransform(a,!0),t.measuredBox):cv(c,r,t.layoutBox);const u=!MX(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=Dr();P1(g,t.layoutBox,h.layoutBox);const v=Dr();P1(v,r,m.layoutBox),IX(g,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function KIe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function GIe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WIe(e){e.clearSnapshot()}function i5(e){e.clearMeasurements()}function o5(e){e.isLayoutDirty=!1}function qIe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function l5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function HIe(e){e.resolveTargetDelta()}function YIe(e){e.calcProjection()}function QIe(e){e.resetSkewAndRotation()}function ZIe(e){e.removeLeadSnapshot()}function c5(e,t,n){e.translate=Hn(t.translate,0,n),e.scale=Hn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function u5(e,t,n,r){e.min=Hn(t.min,n.min,r),e.max=Hn(t.max,n.max,r)}function JIe(e,t,n,r){u5(e.x,t.x,n.x,r),u5(e.y,t.y,n.y,r)}function XIe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const eOe={duration:.45,ease:[.4,0,.1,1]},d5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),f5=d5("applewebkit/")&&!d5("chrome/")?Math.round:fi;function h5(e){e.min=f5(e.min),e.max=f5(e.max)}function tOe(e){h5(e.x),h5(e.y)}function $X(e,t,n){return e==="position"||e==="preserve-aspect"&&!cIe(a5(t),a5(n),.2)}function nOe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rOe=LX({attachResizeListener:(e,t)=>ly(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gA={current:void 0},FX=LX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gA.current){const e=new rOe({});e.mount(window),e.setOptions({layoutScroll:!0}),gA.current=e}return gA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),aOe={pan:{Feature:jIe},drag:{Feature:CIe,ProjectionNode:FX,MeasureLayout:_X}};function m5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,s=r[a];s&&Rn.postRender(()=>s(t,dx(t)))}class sOe extends mu{mount(){const{current:t}=this.node;t&&(this.unmount=wRe(t,(n,r)=>(m5(this.node,r,"Start"),a=>m5(this.node,a,"End"))))}unmount(){}}class iOe extends mu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lx(ly(this.node.current,"focus",()=>this.onFocus()),ly(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p5(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),s=r[a];s&&Rn.postRender(()=>s(t,dx(t)))}class oOe extends mu{mount(){const{current:t}=this.node;t&&(this.unmount=NRe(t,(n,r)=>(p5(this.node,r,"Start"),(a,{success:s})=>p5(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const O2=new WeakMap,vA=new WeakMap,lOe=e=>{const t=O2.get(e.target);t&&t(e)},cOe=e=>{e.forEach(lOe)};function uOe({root:e,...t}){const n=e||document;vA.has(n)||vA.set(n,{});const r=vA.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(cOe,{root:e,...t})),r[a]}function dOe(e,t,n){const r=uOe(t);return O2.set(e,n),r.observe(e),()=>{O2.delete(e),r.unobserve(e)}}const fOe={some:0,all:1};class hOe extends mu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:fOe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return dOe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(mOe(t,n))&&this.startObserver()}unmount(){}}function mOe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const pOe={inView:{Feature:hOe},tap:{Feature:oOe},focus:{Feature:iOe},hover:{Feature:sOe}},gOe={layout:{ProjectionNode:FX,MeasureLayout:_X}},vOe={...rIe,...pOe,...aOe,...gOe},$a=xMe(vOe,DMe);function BX(e){const t=hu(()=>Ud(e)),{isStatic:n}=p.useContext(rj);if(n){const[,r]=p.useState(e);p.useEffect(()=>t.on("change",r),[])}return t}function VX(e,t){const n=BX(t()),r=()=>n.set(t());return r(),tj(()=>{const a=()=>Rn.preRender(r,!1,!0),s=e.map(o=>o.on("change",a));return()=>{s.forEach(o=>o()),Rl(r)}}),n}function yOe(e){ov.current=[],e();const t=VX(ov.current,e);return ov.current=void 0,t}function xOe(e,t,n,r){if(typeof e=="function")return yOe(e);const a=typeof t=="function"?t:ARe(t,n,r);return Array.isArray(e)?g5(e,a):g5([e],([s])=>a(s))}function g5(e,t){const n=hu(()=>[]);return VX(e,()=>{n.length=0;const r=e.length;for(let a=0;a<r;a++)n[a]=e[a].get();return t(n)})}class bOe{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}cancel(){this.componentControls.forEach(t=>{t.cancel()})}stop(){this.componentControls.forEach(t=>{t.stop()})}}const wOe=()=>new bOe;function SOe(){return hu(wOe)}const zX=p.createContext(null);function COe(e,t,n,r){if(!r)return e;const a=e.findIndex(d=>d.value===t);if(a===-1)return e;const s=r>0?1:-1,o=e[a+s];if(!o)return e;const l=e[a],c=o.layout,u=Hn(c.min,c.max,.5);return s===1&&l.layout.max+n>u||s===-1&&l.layout.min+n<u?R_e(e,a,a+s):e}function jOe({children:e,as:t="ul",axis:n="y",onReorder:r,values:a,...s},o){const l=hu(()=>$a[t]),c=[],u=p.useRef(!1),d={axis:n,registerItem:(f,h)=>{const m=c.findIndex(g=>f===g.value);m!==-1?c[m].layout=h[n]:c.push({value:f,layout:h[n]}),c.sort(AOe)},updateOrder:(f,h,m)=>{if(u.current)return;const g=COe(c,f,h,m);c!==g&&(u.current=!0,r(g.map(kOe).filter(v=>a.indexOf(v)!==-1)))}};return p.useEffect(()=>{u.current=!1}),i.jsx(l,{...s,ref:o,ignoreStrict:!0,children:i.jsx(zX.Provider,{value:d,children:e})})}const NOe=p.forwardRef(jOe);function kOe(e){return e.value}function AOe(e,t){return e.layout.min-t.layout.min}function v5(e,t=0){return ya(e)?e:BX(t)}function POe({children:e,style:t={},value:n,as:r="li",onDrag:a,layout:s=!0,...o},l){const c=hu(()=>$a[r]),u=p.useContext(zX),d={x:v5(t.x),y:v5(t.y)},f=xOe([d.x,d.y],([v,b])=>v||b?1:"unset"),{axis:h,registerItem:m,updateOrder:g}=u;return i.jsx(c,{drag:h,...o,dragSnapToOrigin:!0,style:{...t,x:d.x,y:d.y,zIndex:f},layout:s,onDrag:(v,b)=>{const{velocity:x}=b;x[h]&&g(n,d[h].get(),x[h]),a&&a(v,b)},onLayoutMeasure:v=>m(n,v),ref:l,ignoreStrict:!0,children:e})}const EOe=p.forwardRef(POe);function UX({className:e,onCheckedChange:t,...n}){const[r,a]=p.useState((n==null?void 0:n.checked)??(n==null?void 0:n.defaultChecked)??!1);p.useEffect(()=>{(n==null?void 0:n.checked)!==void 0&&a(n.checked)},[n==null?void 0:n.checked]);const s=p.useCallback(o=>{a(o),t==null||t(o)},[t]);return i.jsx(JR,{...n,onCheckedChange:s,asChild:!0,children:i.jsx($a.button,{"data-slot":"checkbox",className:Re("peer size-5 flex items-center justify-center shrink-0 rounded-sm bg-input transition-colors duration-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),whileTap:{scale:.95},whileHover:{scale:1.05},...n,children:i.jsx(XR,{forceMount:!0,asChild:!0,children:i.jsx($a.svg,{"data-slot":"checkbox-indicator",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3.5",stroke:"currentColor",className:"size-3.5",initial:"unchecked",animate:r?"checked":"unchecked",children:i.jsx($a.path,{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5",variants:{checked:{pathLength:1,opacity:1,transition:{duration:.2,delay:.2}},unchecked:{pathLength:0,opacity:0,transition:{duration:.2}}}})})})})})}const TOe=({matches:e,onProcessingComplete:t})=>{const[n,r]=p.useState(new Set),[a,s]=p.useState(!1),o=f=>{const h=new Set(n);h.has(f)?h.delete(f):h.add(f),r(h)},l=()=>{r(new Set(e.map(f=>f.key)))},c=()=>{r(new Set)},u=async()=>{if(n.size===0){oe.error("Please select at least one match to process");return}const f=localStorage.getItem("currentEventKey");if(!f){oe.error("No event key found. Please load matches first.");return}s(!0);const h=[];try{for(const b of n){const x=e.find(E=>E.key===b);if(!x)continue;const y=av(x),w=x.match_number,S=await SR(f,w),C=S.filter(E=>!E.verified);let k=0,N=0;const P=S.length-C.length;for(const E of C){const R=E.predictedWinner===y.winner;R&&k++;const O=await BH(E.scoutName,R,jR.CORRECT_PREDICTION,f,w);N+=O,await CR(E.id)}h.push({matchNumber:x.match_number,winner:y.winner,predictionsCount:C.length,correctPredictions:k,stakesAwarded:N}),P>0&&console.log(`Match ${x.match_number}: Skipped ${P} already verified predictions`)}t(h);const m=h.reduce((b,x)=>b+x.correctPredictions,0),g=h.reduce((b,x)=>b+x.predictionsCount,0),v=h.reduce((b,x)=>b+x.stakesAwarded,0);g===0?oe.info(`Processed ${n.size} matches: All predictions were already verified. No new stakes awarded.`):oe.success(`Processed ${n.size} matches: ${m}/${g} correct predictions, ${v} stakes awarded`),r(new Set)}catch(m){console.error("Error processing predictions:",m),oe.error("Failed to process predictions. Please try again.")}finally{s(!1)}},d=f=>`${f.event_key}_qm${f.match_number}`;return e.length===0?null:i.jsxs(De,{className:"w-full",children:[i.jsx(Ke,{className:"pb-4",children:i.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:flex sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Ge,{className:"text-xl",children:["Qualification Matches (",e.length,")"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select matches to verify predictions and award stakes to scouts"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 justify-center sm:justify-end",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:l,className:"px-4 flex-1 sm:flex-none",children:"Select All"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:c,className:"px-4 flex-1 sm:flex-none",children:"Clear"}),i.jsx(Z,{onClick:u,disabled:n.size===0||a,className:"bg-green-600 hover:bg-green-700 text-white px-4 w-full sm:w-auto",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing (",n.size,")"]}):`Process Selected (${n.size})`})]})]})}),i.jsx($e,{className:"p-6",children:i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(f=>{const h=av(f),m=n.has(f.key);return i.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${m?"border-blue-500 bg-blue-50 dark:bg-blue-950/20":"border-gray-200 hover:border-gray-300 dark:border-gray-700"}`,onClick:g=>{g.target.closest('[role="checkbox"]')||o(f.key)},children:i.jsxs("div",{className:"space-y-3 sm:space-y-0 sm:flex sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(UX,{checked:m,onCheckedChange:()=>o(f.key),className:"h-4 w-4"}),i.jsxs("span",{className:"font-medium text-base",children:["Match ",f.match_number]})]}),i.jsx("div",{className:"text-xs text-gray-500 font-mono sm:hidden",children:d(f)})]}),i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-6",children:i.jsx("div",{className:"flex items-center justify-between sm:justify-start gap-2 flex-wrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Le,{variant:h.winner==="red"?"destructive":"default",className:`${h.winner==="red"?"bg-red-500":"bg-blue-500"} text-white`,children:[i.jsx(mr,{className:"h-3 w-3 mr-1"}),h.winner==="red"?"Red":h.winner==="blue"?"Blue":"Tie"]}),i.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.redScore," - ",h.blueScore]})]})})})]}),i.jsx("div",{className:"hidden sm:block text-xs text-gray-500 font-mono text-right",children:d(f)})]})},f.key)})})})]})},_Oe=({results:e})=>{if(e.length===0)return null;const t=e.reduce((a,s)=>a+s.correctPredictions,0),n=e.reduce((a,s)=>a+s.predictionsCount,0),r=e.reduce((a,s)=>a+s.stakesAwarded,0);return i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{className:"pb-4",children:[i.jsx(Ge,{className:"text-xl",children:"Processing Results"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Summary of verified predictions and stakes awarded to scouts"}),i.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"space-y-2 sm:space-y-0 sm:flex sm:justify-between sm:items-center",children:[i.jsx("span",{className:"font-semibold text-green-700 dark:text-green-300 text-lg block",children:"Total Summary:"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-6 text-green-700 dark:text-green-300",children:[i.jsxs("span",{className:"text-base",children:[i.jsxs("span",{className:"font-medium",children:[t,"/",n]})," correct predictions"]}),i.jsxs("span",{className:"font-semibold text-lg",children:[r," stakes awarded"]})]})]})})]}),i.jsx($e,{className:"p-6 max-h-96 overflow-y-auto",children:i.jsx("div",{className:"space-y-4",children:e.map(a=>i.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[i.jsxs("div",{className:"space-y-2 sm:hidden",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("span",{className:"font-medium text-base",children:["Match ",a.matchNumber]}),i.jsxs("span",{className:"text-gray-600 dark:text-gray-300 text-sm",children:["Predictions: ",i.jsxs("span",{className:"font-medium",children:[a.correctPredictions,"/",a.predictionsCount]}),a.predictionsCount===0&&i.jsx("span",{className:"text-yellow-600 ml-1 text-xs",children:"(verified)"})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx(Le,{variant:a.winner==="red"?"destructive":"default",className:`px-3 py-1 w-fit ${a.winner==="red"?"bg-red-500":"bg-blue-500"}`,children:a.winner==="red"?"Red Wins":a.winner==="blue"?"Blue Wins":"Tie"}),i.jsxs("span",{className:"font-semibold text-green-600 text-base",children:["+",a.stakesAwarded," stakes"]})]})]}),i.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"font-medium text-base",children:["Match ",a.matchNumber]}),i.jsx(Le,{variant:a.winner==="red"?"destructive":"default",className:`px-3 py-1 w-fit ${a.winner==="red"?"bg-red-500":"bg-blue-500"}`,children:a.winner==="red"?"Red Wins":a.winner==="blue"?"Blue Wins":"Tie"})]}),i.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[i.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Predictions: ",i.jsxs("span",{className:"font-medium",children:[a.correctPredictions,"/",a.predictionsCount]}),a.predictionsCount===0&&i.jsx("span",{className:"text-yellow-600 ml-2 text-xs",children:"(already verified)"})]}),i.jsxs("span",{className:"font-semibold text-green-600 text-base",children:["+",a.stakesAwarded," stakes"]})]})]})]},a.matchNumber))})})]})},DOe=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(0);return p.useEffect(()=>{const a=localStorage.getItem("matchData"),s=localStorage.getItem("eventKey");if(a&&s)try{const o=JSON.parse(a);Array.isArray(o)&&o.length>0&&(t(s),r(o.length))}catch(o){console.error("Error parsing existing match data:",o)}},[]),i.jsxs("div",{className:"space-y-6",children:[e&&i.jsx(De,{className:"border-green-200 bg-green-50 dark:bg-green-950 dark:border-green-800",children:i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Br,{className:"h-5 w-5 text-green-600"}),i.jsxs("span",{className:"text-green-800 dark:text-green-200",children:["Currently loaded: ",i.jsxs("strong",{children:[n," matches"]})," from ",i.jsx("strong",{children:e})]})]})})}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-lg",children:"About Match Data Loading"})}),i.jsx($e,{className:"space-y-3",children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Le,{variant:"outline",className:"mt-0.5",children:"1"}),i.jsx("span",{children:"Enter the event key from The Blue Alliance (found on event pages)"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Le,{variant:"outline",className:"mt-0.5",children:"2"}),i.jsx("span",{children:"Match data includes team lineups for all qualification matches"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Le,{variant:"outline",className:"mt-0.5",children:"3"}),i.jsx("span",{children:"Data is stored locally and used to populate team dropdowns during scouting"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Le,{variant:"outline",className:"mt-0.5",children:"4"}),i.jsx("span",{children:"Loading new event data will replace the previously loaded event"})]})]})})]})]})},ROe=({eventKey:e})=>{var U;const[t,n]=qe.useState(null),[r,a]=qe.useState({count:0,matchCount:0});if(qe.useEffect(()=>{if(!e.trim()){n(null);return}(async()=>{try{const $=await m2(e,!0),B=await wZ(e);n({count:$.length,isExpired:B.isExpired})}catch($){console.error("Error checking validation data:",$),n(null)}})()},[e]),qe.useEffect(()=>{if(!e.trim()){a({count:0,matchCount:0});return}(async()=>{try{const $=await nt.predictions.where("eventKey").equals(e).and(te=>te.verified===!0).toArray(),B=new Set($.map(te=>te.matchNumber));a({count:$.length,matchCount:B.size})}catch($){console.error("Error checking verified predictions:",$),a({count:0,matchCount:0})}})()},[e]),!e.trim())return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(bo,{className:"h-5 w-5"}),"Data Status"]})}),i.jsx($e,{children:i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Mn,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Enter an event key to view data status"})]})})]});const s=localStorage.getItem("matchData")!==null&&localStorage.getItem("matchData")!=="",o=r.count>0,l=r.matchCount,c=ZTe(),u=c[e]&&c[e].length>0,d=u&&((U=c[e])==null?void 0:U.length)||0,f=pZ(e),h=f&&f.length>0,m=h?f.length:0,g=mZ(e),v=hZ(e),b=g&&Object.keys(g).length>0,x=v.map!==null,y=b?Object.keys(g).length:0;let w="empty",S=0,C="";(u||h)&&(w="loaded",S=Math.max(d,m),u&&h?C=`TBA: ${d}, Nexus: ${m}`:C=u?`TBA: ${d}`:`Nexus: ${m}`);let k="empty",N="";b&&x?(k="loaded",N=`${y} addresses + map`):(b||x)&&(k="partial",N=b?`${y} addresses`:"Map only");let P="empty",E="";t&&t.count>0&&(t.isExpired?(P="partial",E="Cache expired (offline-first preserved)"):(P="loaded",E="Fresh data from TBA"));const R=[{label:"Match Schedule",status:s?"loaded":"empty",count:s?JSON.parse(localStorage.getItem("matchData")||"[]").length:0,icon:Lc},{label:"Match Validation Data",status:P,count:(t==null?void 0:t.count)||0,details:E,icon:_fe},{label:"Prediction Processing",status:o?"loaded":"empty",count:l,details:o?`${r.count} predictions verified across ${l} matches`:"No predictions processed yet",icon:Br},{label:"Event Teams",status:w,count:S,details:C,icon:Xa},{label:"Pit Data",status:k,count:y,details:N,icon:Pd}],O=M=>{switch(M){case"loaded":return"bg-green-100 text-green-800 border-green-200";case"partial":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"empty":return"bg-gray-100 text-gray-600 border-gray-200"}},K=M=>{switch(M){case"loaded":return"Loaded";case"partial":return"Partial";case"empty":return"Not Loaded"}},J=M=>{switch(M){case"loaded":return Br;case"partial":return Mn;case"empty":return Vw}},Q=R.filter(M=>M.status==="loaded").length,G=R.filter(M=>M.status==="partial").length,z=R.length;return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(bo,{className:"h-5 w-5"}),"Data Status",i.jsx(Le,{variant:"outline",className:"ml-auto",children:e})]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Overall:"}),i.jsxs(Le,{className:O(Q===z?"loaded":Q>0||G>0?"partial":"empty"),children:[Q,"/",z," Data Types Loaded"]})]}),i.jsx("div",{className:"space-y-3",children:R.map(M=>{const $=J(M.status),B=M.icon;return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(B,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-sm",children:M.label}),M.details&&i.jsx("span",{className:"text-xs text-muted-foreground",children:M.details})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[M.count!==void 0&&M.count>0&&i.jsx(Le,{variant:"secondary",className:"text-xs",children:M.count}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx($,{className:`h-4 w-4 ${M.status==="loaded"?"text-green-600":M.status==="partial"?"text-yellow-600":"text-gray-400"}`}),i.jsx("span",{className:`text-xs font-medium ${M.status==="loaded"?"text-green-600":M.status==="partial"?"text-yellow-600":"text-gray-400"}`,children:K(M.status)})]})]})]},M.label)})}),i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Br,{className:"h-3 w-3 text-green-600"}),i.jsx("span",{children:"Loaded"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Mn,{className:"h-3 w-3 text-yellow-600"}),i.jsx("span",{children:"Partial"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Vw,{className:"h-3 w-3 text-gray-400"}),i.jsx("span",{children:"Not Loaded"})]})]})})]})]})},MOe=({dataType:e,eventKey:t,apiKey:n,nexusApiKey:r,matchDataLoading:a,matchResultsLoading:s,eventTeamsLoading:o,pitDataLoading:l,debugNexusLoading:c,onLoadMatchData:u,onLoadMatchResults:d,onLoadEventTeams:f,onLoadPitData:h,onDebugNexus:m})=>{const v=(()=>{switch(e){case"match-data":return{title:"Load Match Schedules",description:"Download match schedules from The Blue Alliance for scouting",icon:bo,requiresEvent:!0,requiresTBA:!0,requiresNexus:!1};case"match-results":return{title:"Load Match Results",description:"Download actual match scores and winners from The Blue Alliance",icon:mr,requiresEvent:!0,requiresTBA:!0,requiresNexus:!1};case"event-teams":return{title:"Load Event Teams",description:"Download team list participating in the event from The Blue Alliance",icon:Xa,requiresEvent:!0,requiresTBA:!0,requiresNexus:!1};case"pit-data":return{title:"Load Pit Data",description:"Download pit assignments and map from Nexus API",icon:Pd,requiresEvent:!0,requiresTBA:!1,requiresNexus:!0};case"debug-nexus":return{title:"Debug Nexus Events",description:"Test Nexus API connectivity and list available events",icon:ZP,requiresEvent:!1,requiresTBA:!1,requiresNexus:!0};default:return null}})();if(!v)return null;const b=()=>{const{requiresEvent:w,requiresTBA:S,requiresNexus:C}=v,k=!w||t.trim(),N=!S||n.trim(),P=!C||r.trim(),E=k&&N&&P;switch(e){case"match-data":return i.jsx(Z,{className:"w-full h-12",onClick:u,disabled:a||!E,children:a?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Match Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(No,{className:"h-4 w-4 mr-2"}),"Load Match Data"]})});case"match-results":return i.jsx(Z,{className:"w-full h-12",onClick:d,disabled:s||!E,children:s?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Match Results..."]}):i.jsxs(i.Fragment,{children:[i.jsx(No,{className:"h-4 w-4 mr-2"}),"Load Match Results"]})});case"event-teams":return i.jsx(Z,{className:"w-full h-12",onClick:f,disabled:o||!E,children:o?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Teams..."]}):i.jsxs(i.Fragment,{children:[i.jsx(No,{className:"h-4 w-4 mr-2"}),"Load Event Teams"]})});case"pit-data":return i.jsx(Z,{className:"w-full h-12",onClick:h,disabled:l||!E,children:l?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Pit Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pd,{className:"h-4 w-4 mr-2"}),"Load Pit Data"]})});case"debug-nexus":return i.jsx(Z,{className:"w-full h-12",onClick:m,disabled:c||!E,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Nexus Events..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ZP,{className:"h-4 w-4 mr-2"}),"Debug Nexus Events"]})});default:return null}},y=(()=>{const w=[];return v.requiresEvent&&!t.trim()&&w.push("Event Key"),v.requiresTBA&&!n.trim()&&w.push("TBA API Key"),v.requiresNexus&&!r.trim()&&w.push("Nexus API Key"),w})();return i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"text-lg flex items-center gap-2",children:[i.jsx(v.icon,{className:"h-5 w-5"}),v.title]}),i.jsx(Fn,{children:v.description})]}),i.jsxs($e,{className:"space-y-4",children:[y.length>0&&i.jsxs(ar,{variant:"destructive",children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsxs(pr,{children:["Missing required information: ",y.join(", ")]})]}),b(),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[v.requiresTBA&&i.jsx("p",{children:" Requires TBA API Key"}),v.requiresNexus&&i.jsx("p",{children:" Requires Nexus API Key"}),v.requiresEvent&&i.jsx("p",{children:" Requires Event Key"})]})]})]})};function IOe(e){const t=Date.now()-e,n=Math.floor(t/(1e3*60));return n<1?"Just now":n<60?`${n} min ago`:`${Math.floor(n/60)}h ${n%60}m ago`}function OOe({matches:e,cacheMetadata:t,eventKey:n,onClearCache:r,isOnline:a=!0,cacheExpired:s=!1}){const o=e.filter(h=>h.comp_level==="qm"),l=e.filter(h=>h.comp_level!=="qm"),c=e.filter(Xb).length,d=(()=>{const h=e.find(v=>Xb(v));if(!h||!Xb(h))return[];const m=h.score_breakdown,g=(m==null?void 0:m.red)||{};return Object.keys(g).filter(v=>!["rp","totalPoints","foulPoints","adjustPoints","foulCount","techFoulCount","tba_gameData"].includes(v))})(),f=h=>h.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase()).trim();return i.jsxs(De,{children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Br,{className:"h-5 w-5"}),"Match Validation Data",!a&&i.jsxs("span",{className:"flex items-center gap-1 text-sm font-normal text-muted-foreground",children:[i.jsx(F4,{className:"h-4 w-4"}),"Offline"]})]}),i.jsx(Fn,{children:"Detailed match breakdowns cached for validation against scouting data"})]}),i.jsx($e,{className:"space-y-4",children:e.length===0?i.jsxs("div",{className:"text-center py-8 space-y-2",children:[i.jsx("p",{className:"text-muted-foreground",children:"No validation data loaded yet."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:a?'Click "Load Match Validation Data" above to fetch detailed match breakdowns from TBA.':"You are offline. Load data while online to cache it for offline use."})]}):i.jsxs(i.Fragment,{children:[(!a||s)&&i.jsxs(ar,{variant:a?"destructive":"default",children:[a?i.jsx(Mn,{className:"h-4 w-4"}):i.jsx(F4,{className:"h-4 w-4"}),i.jsx(pr,{children:a?"Cache expired. Data may be stale. Connect to internet and reload for fresh data.":"You are offline. Showing cached data from your last online session."})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Matches"}),i.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Qualification"}),i.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Playoff"}),i.jsx("p",{className:"text-2xl font-bold",children:l.length})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"With Breakdowns"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c})]})]}),i.jsx(Or,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(jc,{className:"h-4 w-4"}),"Cache Status"]}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsxs("p",{children:["Event: ",i.jsx("span",{className:"font-medium text-foreground",children:n})]}),i.jsxs("p",{children:["Last Updated: ",i.jsx("span",{className:"font-medium text-foreground",children:t?IOe(t.lastFetchedAt):"Unknown"})]}),i.jsx("p",{className:"text-xs",children:a?"Cache persists offline. Data refreshes automatically when you reload while online.":"Cache preserved for offline use. Data will refresh when you're back online."})]})]}),i.jsx(Or,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Available Validation Fields"}),d.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:d.map(h=>i.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Br,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:f(h)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"From TBA score breakdown"})]})]},h))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Score breakdown fields will appear here when match data is loaded"})]}),i.jsx(Or,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:a?"This data will be used to compare against your scouted entries and identify discrepancies.":"This cached data is available offline for validation. Reconnect to refresh."}),i.jsxs(Z,{variant:"outline",onClick:r,className:"w-full",size:"sm",disabled:!a,children:[i.jsx(Bs,{className:"mr-2 h-4 w-4"}),a?"Clear Validation Cache":"Clear Cache (requires internet)"]})]})]})})]})}const KX="nexus_",LOe=e=>({addresses:GX(e),map:$Oe(e)}),GX=e=>{const t=`${KX}pit_addresses_${e}`;try{const n=localStorage.getItem(t);return n?JSON.parse(n).addresses:null}catch(n){return console.error("Failed to retrieve stored pit addresses:",n),null}},$Oe=e=>{const t=`${KX}pit_map_${e}`;try{const n=localStorage.getItem(t);return n?JSON.parse(n).pitMap:null}catch(n){return console.error("Failed to retrieve stored pit map:",n),null}},WX=e=>{const t=`nexus_event_teams_${e}`;try{const n=localStorage.getItem(t);return n&&JSON.parse(n).teams||null}catch(n){return console.error("Failed to retrieve stored Nexus teams:",n),null}},FOe=e=>{const t=WX(e);return t!==null&&t.length>0},BOe=({addresses:e,map:t,eventKey:n})=>{var o,l;const r=e?Object.keys(e).length:0,a=t!==null,s=FOe(n);return!e&&!t?i.jsxs(ar,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsx(pr,{children:"No pit data available. Load pit data using the Nexus API above."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Pd,{className:"h-5 w-5"}),"Pit Data for ",n]})}),i.jsxs($e,{children:[i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(Le,{variant:r>0?"default":"secondary",children:[r," Pit Addresses"]})}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Le,{variant:a?"default":"secondary",children:a?"Pit Map Available":"No Pit Map"})}),s&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(Le,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[i.jsx(Xa,{className:"h-3 w-3 mr-1"}),"Teams Extracted for Pit Assignments"]})})]}),s&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Team list automatically extracted from pit addresses and stored for pit scouting assignments"})]})]}),e&&r>0&&i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Pd,{className:"h-5 w-5"}),"Pit Addresses (",r," teams)"]})}),i.jsx($e,{children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:Object.entries(e).sort(([c],[u])=>parseInt(c)-parseInt(u)).map(([c,u])=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md text-sm",children:[i.jsxs("span",{className:"font-medium",children:["Team ",c]}),i.jsx(Le,{variant:"outline",className:"text-xs",children:u})]},c))})})]}),t&&i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(aD,{className:"h-5 w-5"}),"Pit Map"]})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Map Size: ",((o=t.size)==null?void 0:o.width)||0,"  ",((l=t.size)==null?void 0:l.height)||0]}),i.jsxs("span",{children:["Pits: ",t.pits?Object.keys(t.pits).length:0]}),t.areas&&i.jsxs("span",{children:["Areas: ",Object.keys(t.areas).length]})]}),i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Pit map data loaded successfully. This contains:"}),i.jsxs("ul",{className:"text-sm space-y-1",children:[t.pits&&i.jsxs("li",{children:[" ",Object.keys(t.pits).length," pit locations"]}),t.areas&&i.jsxs("li",{children:[" ",Object.keys(t.areas).length," labeled areas"]}),t.walls&&i.jsxs("li",{children:[" ",Object.keys(t.walls).length," walls/boundaries"]}),t.labels&&i.jsxs("li",{children:[" ",Object.keys(t.labels).length," text labels"]}),t.arrows&&i.jsxs("li",{children:[" ",Object.keys(t.arrows).length," directional arrows"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Visual map rendering will be available in a future update."})]})]})})]})]})},VOe=({eventKey:e,setEventKey:t,hasStoredData:n,onClearAllData:r,clearingData:a})=>i.jsx(i.Fragment,{children:i.jsxs(De,{className:"w-full",children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Ge,{className:"text-lg flex items-center gap-2",children:[i.jsx(Lc,{className:"h-5 w-5"}),"Event Configuration"]}),i.jsx(Fn,{children:"Set the event for all data operations. All data will be associated with this event."})]}),e&&i.jsxs(Le,{variant:"secondary",className:"text-sm",children:["Event: ",e]})]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Event Key"}),i.jsx($C,{currentEventKey:e,onEventKeyChange:t,showCustomEvents:!1}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Select from official 2026 FRC events"})]}),e&&i.jsxs(ar,{children:[i.jsx(rm,{className:"h-4 w-4"}),i.jsxs(pr,{children:["All data operations will use event: ",i.jsx("strong",{children:e})]})]}),n&&i.jsxs(ar,{variant:"destructive",children:[i.jsx(Mn,{className:"h-4 w-4"}),i.jsx(pr,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"You have stored data for this event. Changing the event key or loading new data may cause confusion."}),i.jsx(Z,{variant:"outline",size:"sm",onClick:r,disabled:a,className:"flex items-center gap-2",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Clearing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Bs,{className:"h-3 w-3"}),"Clear All Stored Data"]})})]})})]})]})]})}),zOe=({open:e,onOpenChange:t,currentEvent:n,newEvent:r,hasStoredData:a,onConfirm:s,onCancel:o})=>i.jsx(to,{open:e,onOpenChange:t,children:i.jsxs(no,{children:[i.jsxs(Go,{children:[i.jsxs(ro,{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-5 w-5 text-amber-500"}),"Switch Event?"]}),i.jsxs(cf,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"You're about to switch from one event to another:"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[i.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Current Event"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg",children:[i.jsx(Lc,{className:"h-4 w-4 text-primary"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"New Event"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})]})]})]}),a&&i.jsxs(ar,{variant:"destructive",children:[i.jsx(bo,{className:"h-4 w-4"}),i.jsxs(pr,{children:[i.jsx("strong",{children:"Warning:"}),' You have stored data for event "',n,'". Switching to "',r,`" may cause confusion if you're working with different event data.`]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:"Recommendation:"}),' Consider clearing stored data for "',n,'" before switching to avoid data mixing.']})]})]}),i.jsxs(Ym,{children:[i.jsx(Z,{variant:"outline",onClick:o,className:"px-2",children:"Cancel"}),i.jsxs(Z,{onClick:s,className:"px-2",children:["Switch to ",r]})]})]})}),UOe=({teams:e,eventKey:t,isStored:n,onStoreTeams:r,onClearStored:a})=>{const s=qTe(t);return e.length===0?null:i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Event Teams (",e.length,")",n&&i.jsxs(Le,{variant:"outline",className:"ml-2",children:[i.jsx(Br,{className:"h-3 w-3 mr-1"}),"Stored"]})]}),i.jsxs(Ge,{className:"text-sm text-muted-foreground",children:["Teams participating in event: ",t,s&&i.jsx("div",{className:"flex items-center gap-2 mt-1",children:i.jsxs(Le,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[i.jsx(Pd,{className:"h-3 w-3 mr-1"}),"Nexus teams also available with pit locations"]})})]})]}),i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-2",children:[!n&&i.jsxs(Z,{onClick:r,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[i.jsx(No,{className:"h-4 w-4 mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-xs sm:text-sm",children:"Store for Pit Scouting"})]}),n&&i.jsxs(Z,{onClick:a,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[i.jsx(Bs,{className:"h-4 w-4 mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-xs sm:text-sm",children:"Clear Stored"})]})]})]})}),i.jsxs($e,{children:[i.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-3",children:e.sort((o,l)=>o.team_number-l.team_number).map(o=>i.jsx("div",{className:"flex items-center justify-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:i.jsx("span",{className:"font-semibold text-sm text-center",children:o.team_number})},o.key))}),i.jsxs("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:[e.length," teams total"]}),!n&&i.jsx("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Uo,{className:"h-4 w-4 text-amber-600 mt-0.5"}),i.jsxs("div",{className:"text-sm text-amber-800",children:[i.jsx("p",{className:"font-medium",children:"Teams not stored yet"}),i.jsx("p",{children:'Click "Store for Pit Scouting" to save this team list for pit scouting assignments.'})]})]})})]})]})},y5=[{value:"match-data",label:"Match Schedules",icon:bo,description:"Download match schedules for scouting"},{value:"match-results",label:"Match Results",icon:mr,description:"Download actual match scores and winners"},{value:"match-validation-data",label:"Match Validation Data",icon:Br,description:"Load detailed match breakdowns for scouting validation"},{value:"event-teams",label:"Event Teams",icon:Xa,description:"Download team list participating in the event"},{value:"pit-data",label:"Pit Data",icon:Pd,description:"Download pit assignments and map from Nexus"},{value:"debug-nexus",label:"Debug Nexus",icon:ZP,description:"Debug Nexus API connectivity and events"}],KOe=({dataType:e,setDataType:t})=>{const n=y5.find(r=>r.value===e);return i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsx(Ge,{className:"text-lg",children:"Data Type"}),i.jsx(Fn,{children:"Choose what type of data you want to access for the current event"})]}),i.jsx($e,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Data Type"}),i.jsxs(Lr,{value:e,onValueChange:t,children:[i.jsx($r,{className:"w-full",children:i.jsx(ia,{placeholder:"Select data type"})}),i.jsx(Fr,{children:y5.map(({value:r,label:a,icon:s})=>i.jsx(at,{value:r,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(s,{className:"h-4 w-4"}),a]})},r))})]}),n&&i.jsx("p",{className:"text-xs text-muted-foreground",children:n.description})]})})]})},GOe=()=>{const e="PjUONcElcRUEkZ184a7GGhWdmJ1E1KBHzPxC4Q3MDrup2sPLIskQJUlW3N73ZFXN",t="your_nexus_api_key_here",[n,r]=p.useState(""),[a,s]=p.useState("match-data"),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(()=>{}),[g,v]=p.useState([]),[b,x]=p.useState(!1),[y,w]=p.useState({addresses:null,map:null}),[S,C]=p.useState(!1),[k,N]=p.useState(null),{matchDataLoading:P,matchResultsLoading:E,eventTeamsLoading:R,matches:O,teams:K,isStored:J,fetchMatchDataFromTBA:Q,loadMatchResults:G,loadEventTeams:z,handleStoreTeams:U,handleClearStored:M}=n_e(),{matches:$,isOnline:B,cacheExpired:te,cacheMetadata:q,clearCache:ae}=QR();p.useEffect(()=>{const Fe=localStorage.getItem("eventKey");Fe&&r(Fe)},[]),p.useEffect(()=>{n&&u(e3(n))},[n]);const he=Fe=>{const Se=Dg();n&&Se&&e_e(n)?(m(()=>Fe),f(!0)):Fe()},je=()=>{f(!1),h&&(h(),m(()=>{}))},Ee=()=>{f(!1),m(()=>{})},me=async()=>{if(!n.trim()){oe.error("Please enter an event key");return}l(!0);try{await t_e(n),u(!1),w({addresses:null,map:null}),v([]),oe.success("All event data cleared successfully")}catch(Fe){console.error("Error clearing event data:",Fe),oe.error("Failed to clear event data")}finally{l(!1)}},Ve=async()=>{if(!e.trim()){oe.error("Please enter your TBA API key");return}if(!n.trim()){oe.error("Please enter an event key");return}he(async()=>{await Q(e,n,!1,()=>{}),ud(n.trim())})},ne=async()=>{if(!e.trim()){oe.error("Please enter your TBA API key");return}if(!n.trim()){oe.error("Please enter an event key");return}await G(e,n,!1,()=>{})},ke=async()=>{if(!e.trim()){oe.error("Please enter your TBA API key");return}if(!n.trim()){oe.error("Please enter an event key");return}await z(e,n,!1,()=>{})},we=async()=>{if(!t.trim()){oe.error("Please enter your Nexus API key");return}if(!n.trim()){oe.error("Please enter an event key");return}he(async()=>{x(!0);try{const Fe=hZ(n);if(Fe.addresses||Fe.map){w(Fe),oe.success("Loaded pit data from local storage"),ud(n.trim()),x(!1);return}const Se=await VTe(n,t);w(Se),UTe(n,Se.addresses,Se.map),ud(n.trim());let de=0;if(Se.addresses&&Object.keys(Se.addresses).length>0)try{de=WTe(n,Se.addresses).length,console.log(`Extracted ${de} teams from pit addresses for pit assignments`)}catch(We){console.warn("Failed to extract teams from pit addresses:",We)}const ve=Se.addresses?Object.keys(Se.addresses).length:0,Nt=Se.map!==null;if(ve>0&&Nt){const We=de>0?`Loaded pit data: ${ve} addresses, pit map, and extracted ${de} teams for pit assignments`:`Loaded pit data: ${ve} addresses and pit map`;oe.success(We)}else if(ve>0){const We=de>0?`Loaded ${ve} pit addresses and extracted ${de} teams for pit assignments (no map available)`:`Loaded ${ve} pit addresses (no map available)`;oe.success(We)}else Nt?oe.warning("Loaded pit map but no team addresses found"):oe.warning("No pit data available for this event")}catch(Fe){console.error("Error loading pit data:",Fe),oe.error(Fe instanceof Error?Fe.message:"Failed to load pit data")}finally{x(!1)}})},re=async()=>{if(!t.trim()){oe.error("Please enter your Nexus API key");return}C(!0);try{const Fe=await zTe(t),Se=Object.keys(Fe).length;N(Fe),oe.success(`Loaded ${Se} events from Nexus API`)}catch(Fe){console.error("Error loading Nexus events:",Fe),oe.error(Fe instanceof Error?Fe.message:"Failed to load Nexus events"),N(null)}finally{C(!1)}},He=Fe=>{v(Fe)},Oe=()=>{U(n)},Xe=()=>{M(n)};return i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6 max-w-7xl",children:[i.jsxs("div",{className:"text-start",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"API Data"}),i.jsx("p",{className:"text-muted-foreground",children:"Import match schedules, results, and team lists from The Blue Alliance or pit information from Nexus for FRC."})]}),i.jsx("div",{className:"hidden md:block",children:i.jsx(Zc,{sources:["tba","nexus"],variant:"full"})})]}),i.jsx("div",{className:"md:hidden mt-2",children:i.jsx(Zc,{sources:["tba","nexus"],variant:"compact"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx(VOe,{eventKey:n,setEventKey:r,hasStoredData:c,onClearAllData:me,clearingData:o})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsx(KOe,{dataType:a,setDataType:s})})]}),i.jsx(ROe,{eventKey:n}),i.jsx(MOe,{dataType:a,eventKey:n,apiKey:e,nexusApiKey:t,matchDataLoading:P,matchResultsLoading:E,eventTeamsLoading:R,pitDataLoading:b,debugNexusLoading:S,onLoadMatchData:Ve,onLoadMatchResults:ne,onLoadEventTeams:ke,onLoadPitData:we,onDebugNexus:re}),a==="match-data"&&i.jsx(DOe,{}),a==="match-results"&&i.jsxs(i.Fragment,{children:[i.jsx(TOe,{matches:O,onProcessingComplete:He}),g.length>0&&i.jsx(_Oe,{results:g})]}),a==="match-validation-data"&&i.jsx(OOe,{matches:$,cacheMetadata:q,eventKey:n,isOnline:B,cacheExpired:te,onClearCache:()=>ae(n)}),a==="event-teams"&&i.jsx(UOe,{teams:K,eventKey:n,isStored:J,onStoreTeams:Oe,onClearStored:Xe}),a==="pit-data"&&i.jsx(BOe,{addresses:y.addresses,map:y.map,eventKey:n}),a==="debug-nexus"&&k&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Nexus Events"}),i.jsx("div",{className:"space-y-2",children:Object.entries(k).map(([Fe,Se])=>i.jsxs("div",{className:"p-3 border rounded bg-muted/50",children:[i.jsx("div",{className:"font-medium",children:Fe}),i.jsx("div",{className:"text-sm text-muted-foreground",children:JSON.stringify(Se,null,2)})]},Fe))})]})}),i.jsx(zOe,{open:d,onOpenChange:f,onConfirm:je,onCancel:Ee,currentEvent:Dg(),newEvent:n,hasStoredData:Dg()?e3(Dg()):!1})]})},WOe=e=>{if(!e||typeof e!="object")return null;const t=e;if("scouts"in t&&"predictions"in t)return"scoutProfiles";if("type"in t&&t.type==="pit-scouting-images-only"&&"entries"in t&&Array.isArray(t.entries))return"pitScoutingImagesOnly";if("entries"in t&&Array.isArray(t.entries)){const n=t.entries;if(n.length>0&&typeof n[0]=="object"&&n[0]!==null){const r=n[0];if(r.teamNumber&&r.scoutName&&(r.drivetrain!==void 0||r.weight!==void 0||r.reportedAutoScoring!==void 0||r.reportedTeleopScoring!==void 0))return"pitScouting"}}if("entries"in t&&Array.isArray(t.entries)){const n=t.entries;if(n.length>0&&typeof n[0]=="object"&&n[0]!==null){const r=n[0];if("id"in r&&"gameData"in r&&typeof r.gameData=="object")return"scouting"}}return"data"in t&&Array.isArray(t.data)||Array.isArray(e)?"scouting":null},L2=async(e,t)=>{let n=[];if(typeof e=="object"&&e!==null&&"entries"in e&&Array.isArray(e.entries))n=e.entries;else return oe.error("Invalid scouting data format. Expected { entries: ScoutingEntryBase[] }"),{hasConflicts:!1};if(n.length===0)return oe.error("No valid scouting data found"),{hasConflicts:!1};if(t==="overwrite")return await VE(n),oe.success(`Overwritten with ${n.length} scouting entries`),{hasConflicts:!1};if(t==="append"){const r=await Yi(),a=[...r,...n];return await VE(a),oe.success(`Uploaded ${n.length} entries (${r.length} existing). Total: ${a.length} before deduplication.`),{hasConflicts:!1}}if(t==="smart-merge"){const r=await IR(n),{db:a}=await _n(async()=>{const{db:l}=await Promise.resolve().then(()=>Vi);return{db:l}},void 0),s={added:0,replaced:0};if(r.autoImport.length>0&&(await a.scoutingData.bulkPut(r.autoImport),s.added=r.autoImport.length),r.autoReplace.length>0){for(const l of r.autoReplace){const u=(await a.scoutingData.toArray()).find(d=>d.matchNumber===l.matchNumber&&d.teamNumber===l.teamNumber&&d.allianceColor===l.allianceColor&&d.eventKey===l.eventKey);u&&await a.scoutingData.delete(u.id),await a.scoutingData.put(l)}s.replaced=r.autoReplace.length}if(r.conflicts.length>0||r.batchReview.length>0){if(s.added>0||s.replaced>0){const l=r.batchReview.length>0?` ${r.batchReview.length} duplicates need review.`:"",c=r.conflicts.length>0?` ${r.conflicts.length} conflicts need review.`:"";oe.success(`Imported ${s.added} new entries, Replaced ${s.replaced} existing entries.`+l+c)}return r.batchReview.length>0?{hasConflicts:!1,hasBatchReview:!0,batchReviewEntries:r.batchReview,conflicts:r.conflicts.length>0?r.conflicts:void 0,autoProcessed:s}:{hasConflicts:!0,conflicts:r.conflicts,autoProcessed:s}}const o=await a.scoutingData.count();return oe.success(`Smart merge complete! ${s.added} new entries added, ${s.replaced} entries replaced (Total: ${o})`),{hasConflicts:!1,autoProcessed:s}}return{hasConflicts:!1}},qOe=async(e,t)=>{if(!e||typeof e!="object"||!("scouts"in e)||!("predictions"in e)){oe.error("Invalid scout profiles format");return}const n=e,r=n.scouts||[],a=n.predictions||[];try{let s=0,o=0,l=0;if(t==="overwrite")await nt.scouts.clear(),await nt.predictions.clear(),await nt.scouts.bulkAdd(r),await nt.predictions.bulkAdd(a),s=r.length,l=a.length;else{const u=await nt.scouts.toArray(),d=await nt.predictions.toArray();for(const f of r){const h=u.find(m=>m.name===f.name);h?t==="smart-merge"?(f.lastUpdated>h.lastUpdated||f.stakes>h.stakes||f.totalPredictions>h.totalPredictions)&&(await nt.scouts.update(f.name,{stakes:Math.max(f.stakes,h.stakes),totalPredictions:Math.max(f.totalPredictions,h.totalPredictions),correctPredictions:Math.max(f.correctPredictions,h.correctPredictions),currentStreak:f.lastUpdated>h.lastUpdated?f.currentStreak:h.currentStreak,longestStreak:Math.max(f.longestStreak,h.longestStreak),lastUpdated:Math.max(f.lastUpdated,h.lastUpdated)}),o++):t==="append"&&(await nt.scouts.put(f),o++):(await nt.scouts.add(f),s++)}for(const f of a)if(!d.some(m=>m.id===f.id))try{await nt.predictions.add(f),l++}catch{t==="append"&&console.warn(`Skipping duplicate prediction: ${f.id}`)}}const c=t==="overwrite"?`Overwritten with ${s} scouts and ${l} predictions`:`Profiles: ${s} new scouts, ${o} updated scouts, ${l} predictions imported`;oe.success(c)}catch(s){console.error("Error importing scout profiles:",s),oe.error("Failed to import scout profiles")}},HOe=async(e,t)=>{if(!e||typeof e!="object"||!("entries"in e)){oe.error("Invalid pit scouting data format");return}const n=e;try{const r=await L7({entries:n.entries,lastUpdated:n.lastUpdated||Date.now()},t==="overwrite"?"overwrite":"append"),a=t==="overwrite"?`Overwritten with ${r.imported} pit scouting entries`:`Imported ${r.imported} pit scouting entries${r.duplicatesSkipped>0?`, ${r.duplicatesSkipped} duplicates skipped`:""}`;oe.success(a)}catch(r){console.error("Error importing pit scouting data:",r),oe.error("Failed to import pit scouting data")}},YOe=async e=>{if(!e||typeof e!="object"){oe.error("Invalid pit scouting images data format");return}const t=e;if(t.type!=="pit-scouting-images-only"||!("entries"in t)||!Array.isArray(t.entries)){oe.error("Invalid pit scouting images data format");return}try{const n=await F7(t);n.updated===0&&n.notFound>0?oe.error(`No matching pit scouting entries found for ${n.notFound} teams. Please import pit scouting text data first, then add images.`):n.notFound>0?oe.warning(`Updated ${n.updated} teams with images. ${n.notFound} teams not found - ensure pit scouting entries exist first.`):oe.success(`Successfully updated ${n.updated} teams with images!`)}catch(n){console.error("Error importing pit scouting images:",n),oe.error("Failed to import pit scouting images")}},E1=({open:e,onOpenChange:t,conflict:n,currentIndex:r,totalConflicts:a,onResolve:s,onBatchResolve:o,onUndo:l,canUndo:c=!1,isProcessing:u=!1})=>{if(!n)return null;const d=n.incoming,f=n.local,h=m=>m?new Date(m).toLocaleString():"Unknown";return i.jsx(to,{open:e,onOpenChange:t,children:i.jsxs(no,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u&&i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-[100] flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-3 bg-card p-6 rounded-lg shadow-lg border",children:[i.jsx(Ba,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-sm font-medium",children:"Processing conflicts..."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This may take a moment for large datasets"})]})}),i.jsxs(Go,{children:[i.jsxs(ro,{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-5 w-5 text-amber-500"}),"Data Conflict Detected"]}),i.jsxs(cf,{children:["Conflict ",r+1," of ",a,"  Match ",d.matchNumber,"  Team ",d.teamNumber," ",d.allianceColor," Alliance"]})]}),i.jsxs("div",{className:"space-y-4 my-4",children:[i.jsx(De,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:i.jsx($e,{className:"pt-4",children:i.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:n.conflictType==="corrected-vs-uncorrected"?i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:"Your local data has been corrected"}),", but the incoming data is uncorrected. This typically means you have more accurate information locally."]}):i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:"Both entries have been corrected"}),", but at different times. Review both to determine which has the most accurate information."]})})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(De,{className:n.isNewerIncoming?"":"border-blue-200 dark:border-blue-800",children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"text-base flex items-center justify-between",children:[i.jsx("span",{children:"Local (Current)"}),!n.isNewerIncoming&&i.jsx(Le,{className:"bg-blue-500 text-white",children:"NEWER"})]})}),i.jsxs($e,{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Scout: "}),f.scoutName||"Unknown"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Timestamp: "}),h(f.timestamp)]}),f.isCorrected&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"secondary",className:"text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",children:"Corrected"}),f.correctionCount&&f.correctionCount>1&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",f.correctionCount," times)"]})]}),f.lastCorrectedAt&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Last Corrected: "}),h(f.lastCorrectedAt)]}),f.lastCorrectedBy&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Corrected By: "}),f.lastCorrectedBy]}),f.correctionNotes&&i.jsxs("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-950/30 rounded text-xs",children:[i.jsx("span",{className:"font-medium",children:"Notes: "}),i.jsx("span",{className:"italic",children:f.correctionNotes})]})]})]})]}),i.jsxs(De,{className:n.isNewerIncoming?"border-green-200 dark:border-green-800":"",children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"text-base flex items-center justify-between",children:[i.jsx("span",{children:"Incoming (From Import)"}),n.isNewerIncoming&&i.jsx(Le,{className:"bg-green-500 text-white",children:"NEWER"})]})}),i.jsxs($e,{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Scout: "}),d.scoutName||"Unknown"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Timestamp: "}),h(n.incoming.timestamp)]}),d.isCorrected&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"secondary",className:"text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",children:"Corrected"}),!!d.correctionCount&&Number(d.correctionCount)>1&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",String(d.correctionCount)," times)"]})]}),d.lastCorrectedAt&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Last Corrected: "}),h(Number(d.lastCorrectedAt))]}),d.lastCorrectedBy&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Corrected By: "}),d.lastCorrectedBy]}),d.correctionNotes&&i.jsxs("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-950/30 rounded text-xs",children:[i.jsx("span",{className:"font-medium",children:"Notes: "}),i.jsx("span",{className:"italic",children:d.correctionNotes})]})]})]})]})]}),n.changedFields&&n.changedFields.length>0&&i.jsxs(De,{className:"border-purple-200 dark:border-purple-800 bg-purple-50/50 dark:bg-purple-950/20",children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"text-base",children:["Changed Fields (",n.changedFields.length,")"]})}),i.jsx($e,{children:i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.changedFields.map(({field:m,localValue:g,incomingValue:v})=>i.jsxs("div",{className:"grid grid-cols-1 gap-2 p-3 bg-background rounded border",children:[i.jsx("div",{className:"font-medium text-purple-700 dark:text-purple-300 text-sm",children:m}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"text-red-600 dark:text-red-400",children:[i.jsx("span",{className:"font-medium",children:"Local: "}),i.jsx("span",{className:"font-mono",children:String(g??"null")})]}),i.jsxs("div",{className:"text-green-600 dark:text-green-400",children:[i.jsx("span",{className:"font-medium",children:"Incoming: "}),i.jsx("span",{className:"font-mono",children:String(v??"null")})]})]})]},m))})})]})]}),i.jsx(Ym,{className:"flex flex-col gap-3",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 w-full",children:[i.jsx(Z,{onClick:()=>s("skip"),className:"p-2",disabled:u,children:"Skip - Keep Local Data"}),i.jsx(Z,{variant:"destructive",onClick:()=>s("replace"),className:"p-2",disabled:u,children:"Replace - Use Incoming Data"}),a>1&&o&&i.jsxs(i.Fragment,{children:[i.jsx(Z,{variant:"outline",onClick:()=>o("skip"),className:"p-2",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"})," Processing..."]}):i.jsxs(i.Fragment,{children:["Skip All Remaining (",a-r-1," left)"]})}),i.jsx(Z,{variant:"outline",onClick:()=>o("replace"),className:"p-2",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"})," Processing..."]}):i.jsxs(i.Fragment,{children:["Replace All Remaining (",a-r-1," left)"]})})]}),c&&l&&i.jsx(Z,{variant:"outline",onClick:l,className:"p-2 sm:col-span-2",disabled:u,children:" Undo Last Decision"})]})})]})})},T1=({isOpen:e,entries:t,onResolve:n,isProcessing:r=!1})=>{if(t.length===0)return null;const a=new Set,s=new Set,o=new Set;return t.forEach(l=>{l.matchNumber&&a.add(String(l.matchNumber)),l.teamNumber&&s.add(String(l.teamNumber)),l.scoutName&&o.add(String(l.scoutName))}),i.jsx(to,{open:e,onOpenChange:()=>{},children:i.jsxs(no,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[r&&i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-[100] flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-3 bg-card p-6 rounded-lg shadow-lg border",children:[i.jsx(Ba,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-sm font-medium",children:"Processing duplicates..."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This may take a moment for large datasets"})]})}),i.jsx(Go,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Uo,{className:"h-6 w-6 text-yellow-500"}),i.jsx(ro,{children:"Duplicate Entries Detected"})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["Found ",i.jsx("strong",{children:t.length})," entries that already exist in your local database. Both versions are uncorrected, so you should review whether to replace them."]})}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 p-4 bg-muted rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Entries"}),i.jsx("div",{className:"text-2xl font-bold",children:t.length})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Matches"}),i.jsx("div",{className:"text-2xl font-bold",children:a.size})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Teams"}),i.jsx("div",{className:"text-2xl font-bold",children:s.size})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(_de,{className:"h-4 w-4"}),i.jsx("span",{children:"Example Entries:"})]}),i.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[t.slice(0,5).map(l=>i.jsxs("div",{className:"text-sm p-2 bg-muted rounded border border-border",children:["Match ",String(l.matchNumber||""),"  Team ",String(l.teamNumber||""),"  ",String(l.allianceColor||"")," Alliance",l.scoutName?`  Scout: ${String(l.scoutName)}`:""]},l.id)),t.length>5&&i.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["... and ",t.length-5," more entries"]})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsx("p",{className:"font-medium",children:"What would you like to do?"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground ml-4",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Replace All"})," - Overwrite local entries with incoming data"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Skip All"})," - Keep your current local data"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Review Each"})," - Decide individually for each conflict"]})]})]})]}),i.jsxs(Ym,{className:"flex-col gap-2 sm:flex-row",children:[i.jsx(Z,{variant:"outline",onClick:()=>n("skip-all"),className:"flex-1",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"})," Processing..."]}):i.jsx(i.Fragment,{children:"Skip All - Keep Local"})}),i.jsx(Z,{variant:"outline",onClick:()=>n("review-each"),className:"flex-1",disabled:r,children:"Review Each"}),i.jsx(Z,{onClick:()=>n("replace-all"),className:"flex-1",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 mr-2 animate-spin"})," Processing..."]}):i.jsx(i.Fragment,{children:"Replace All"})})]})]})})},Hf=(...e)=>{},_M=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState([]),[a,s]=p.useState(0),[o,l]=p.useState(new Map),[c,u]=p.useState([]),[d,f]=p.useState(!1),h=y=>`${y.local.matchNumber}-${y.local.teamNumber}-${y.local.eventKey}`,m=async y=>{const w=n[a];if(!w)return;const S=h(w),C=new Map(o).set(S,y);l(C),u(k=>[...k,{index:a,action:y}]),a<n.length-1?s(a+1):await g(C)},g=async y=>{const{db:w}=await _n(async()=>{const{db:N}=await Promise.resolve().then(()=>Vi);return{db:N}},void 0),S=y||o;let C=0,k=0;for(const N of n){const P=h(N),E=S.get(P);E==="replace"?(console.log(" Replacing entry:",{conflictKey:P,incomingStructure:N.incoming,hasGameData:"gameData"in N.incoming,hasData:"data"in N.incoming,localId:N.local.id}),await w.scoutingData.delete(N.local.id),await w.scoutingData.put(N.incoming),C++):E==="skip"&&k++}oe.success(`Conflict resolution complete! ${C} entries replaced, ${k} entries kept.`),t(!1),r([]),s(0),l(new Map),u([])};return{showConflictDialog:e,setShowConflictDialog:t,currentConflicts:n,setCurrentConflicts:r,currentConflictIndex:a,setCurrentConflictIndex:s,conflictResolutions:o,setConflictResolutions:l,resolutionHistory:c,setResolutionHistory:u,isProcessing:d,handleConflictResolution:m,handleBatchResolve:async y=>{f(!0);try{const w=new Map(o);for(let P=a;P<n.length;P++){const E=n[P];if(!E)continue;const R=h(E);w.set(R,y)}l(w);const{db:S}=await _n(async()=>{const{db:P}=await Promise.resolve().then(()=>Vi);return{db:P}},void 0);let C=0,k=0;const N=n.length-a;Hf(` Batch ${y}ing ${N} conflicts...`);for(let P=a;P<n.length;P++){const E=n[P];if(!E)continue;const R=h(E);w.get(R)==="replace"?(await S.scoutingData.delete(E.local.id),await S.scoutingData.put(E.incoming),C++):k++,P%50===0&&P>a&&Hf(` Progress: ${P-a}/${N} conflicts processed`)}Hf(` Batch operation complete: ${C} replaced, ${k} skipped`),oe.success(`Batch operation complete! ${C} entries replaced, ${k} entries kept.`),t(!1),r([]),s(0),l(new Map),u([])}finally{f(!1)}},handleUndo:()=>{if(c.length===0)return;const y=c[c.length-1];if(!y)return;const w=n[y.index];if(!w)return;const S=h(w),C=new Map(o);C.delete(S),l(C),u(k=>k.slice(0,-1)),s(y.index)},applyConflictResolutions:g,handleBatchReviewDecision:async(y,w,S)=>{f(!0);try{const{db:C}=await _n(async()=>{const{db:k}=await Promise.resolve().then(()=>Vi);return{db:k}},void 0);if(S==="replace-all"){Hf(` Batch replacing ${y.length} duplicate entries...`);let k=0;for(let N=0;N<y.length;N++){const P=y[N];if(!P)continue;const E=P.matchNumber,R=P.teamNumber,O=P.allianceColor,K=P.eventKey,J=await C.scoutingData.toArray().then(Q=>Q.find(G=>G.matchNumber===E&&G.teamNumber===R&&G.allianceColor===O&&G.eventKey===K));J&&await C.scoutingData.delete(J.id),await C.scoutingData.put(P),k++,N%50===0&&N>0&&Hf(` Progress: ${N}/${y.length} entries replaced`)}return Hf(` Batch replace complete: ${k} entries replaced`),oe.success(`Replaced ${k} entries with incoming data`),w.length>0?(r(w),s(0),l(new Map),t(!0),{hasMoreConflicts:!0}):{hasMoreConflicts:!1}}else{if(S==="skip-all")return oe.success(`Kept ${y.length} local entries unchanged`),w.length>0?(r(w),s(0),l(new Map),t(!0),{hasMoreConflicts:!0}):{hasMoreConflicts:!1};if(S==="review-each"){const{db:k}=await _n(async()=>{const{db:E}=await Promise.resolve().then(()=>Vi);return{db:E}},void 0),P=[...await Promise.all(y.map(async E=>{const R=E.matchNumber,O=E.teamNumber,K=E.eventKey,J=await k.scoutingData.toArray().then(G=>G.find(z=>z.matchNumber===R&&z.teamNumber===O&&z.eventKey===K)),Q=J?f1(J,E):[];return{incoming:E,local:J,conflictType:"corrected-vs-uncorrected",isNewerIncoming:!1,changedFields:Q}})),...w];return r(P),s(0),l(new Map),t(!0),{hasMoreConflicts:!0}}}return{hasMoreConflicts:!1}}finally{f(!1)}},canUndo:c.length>0,currentConflict:n[a],hasMoreConflicts:a<n.length-1}},QOe=({onBack:e})=>{const[t,n]=p.useState(null),[r,a]=p.useState(null),[s,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState([]),[f,h]=p.useState([]),{showConflictDialog:m,setShowConflictDialog:g,currentConflicts:v,setCurrentConflicts:b,currentConflictIndex:x,setCurrentConflictIndex:y,setConflictResolutions:w,handleConflictResolution:S,handleBatchResolve:C,handleUndo:k,canUndo:N,handleBatchReviewDecision:P}=_M(),E=async Q=>{var z;const G=(z=Q.target.files)==null?void 0:z[0];if(G){if(!G.name.endsWith(".json")){oe.error("Please select a JSON file");return}try{const U=await G.text(),M=JSON.parse(U),$=WOe(M);if(!$){oe.error("Unable to detect data type. Please check the JSON format.");return}n(G),a($);const B={scouting:"Scouting Data",scoutProfiles:"Scout Profiles",pitScouting:"Pit Scouting Data",pitScoutingImagesOnly:"Pit Scouting Images Only"};oe.info(`Selected: ${G.name} (${B[$]})`)}catch(U){o(!1),oe.error("Invalid JSON file"),console.error("File parsing error:",U)}}},R=async Q=>{if(!t||!r){oe.error("Please select a file first");return}if(!s){o(!0);try{const G=await t.text(),z=JSON.parse(G);if(r==="scouting"){const M=await L2(z,Q);if(M.hasBatchReview&&M.batchReviewEntries){d(M.batchReviewEntries),h(M.conflicts||[]),c(!0),o(!1);return}if(M.hasConflicts&&M.conflicts){b(M.conflicts),y(0),w(new Map),g(!0),o(!1);return}}else r==="scoutProfiles"?await qOe(z,Q):r==="pitScouting"?await HOe(z,Q):r==="pitScoutingImagesOnly"&&await YOe(z);n(null),a(null),o(!1);const U=document.getElementById("jsonFileInput");U&&(U.value="")}catch(G){oe.error("Error processing file"),console.error("Upload error:",G),o(!1)}}},O=async Q=>{if(await S(Q),x>=v.length-1){n(null),a(null);const G=document.getElementById("jsonFileInput");G&&(G.value="")}},K=async Q=>{await C(Q),n(null),a(null);const G=document.getElementById("jsonFileInput");G&&(G.value="")},J=async Q=>{if((await P(u,f,Q)).hasMoreConflicts)c(!1);else{c(!1),d([]),h([]),n(null),a(null);const z=document.getElementById("jsonFileInput");z&&(z.value="")}};return i.jsxs("div",{className:"h-screen w-full flex flex-col items-center gap-6 px-4 pt-[var(--header-height)]",children:[i.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-md w-full",children:[i.jsx("div",{className:"flex items-center justify-between w-full",children:i.jsx(Z,{onClick:e,variant:"ghost",size:"sm",className:"flex items-center gap-2",children:" Back"})}),i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsx(Ge,{className:"text-center",children:"Upload JSON Data"}),i.jsx(Fn,{className:"text-center",children:"Upload JSON data files to import scouting data, scout profiles, or pit scouting data. The system will automatically detect the data type."})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsx("input",{type:"file",id:"jsonFileInput",accept:".json",style:{display:"none"},onChange:E}),i.jsx(Z,{onClick:()=>{const Q=document.getElementById("jsonFileInput");Q&&Q.click()},variant:"outline",className:"w-full min-h-16 text-xl whitespace-normal text-wrap py-3 px-4",children:t?`Selected: ${t.name}${r?` (${r==="scouting"?"Scouting Data":r==="scoutProfiles"?"Scout Profiles":r==="pitScouting"?"Pit Scouting Data":"Pit Scouting Images Only"})`:""}`:"Select JSON Data File"}),t&&i.jsxs(i.Fragment,{children:[i.jsx(Or,{}),r==="pitScoutingImagesOnly"?i.jsxs("div",{className:"space-y-3",children:[i.jsx(Z,{onClick:()=>R("smart-merge"),className:"w-full h-16 text-xl bg-green-500 hover:bg-green-600 text-white",children:" Update Existing Teams with Images"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Image Merge"}),": Add images to existing pit scouting entries for matching teams and events"]}),i.jsxs("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded border",children:[i.jsx("strong",{children:"Note:"})," Images can only be added to teams that already have pit scouting entries. Import pit scouting text data first via QR codes or JSON, then add images."]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsx(Z,{onClick:()=>R("smart-merge"),disabled:s,className:"w-full h-16 text-xl bg-green-500 hover:bg-green-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:s?" Processing...":" Smart Merge (Recommended)"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Smart Merge"}),": Intelligently detect conflicts. Auto-add new entries, auto-replace corrected entries, prompt for decisions on conflicting uncorrected entries."]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Or,{className:"flex-1"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"OR"}),i.jsx(Or,{className:"flex-1"})]}),i.jsx(Z,{onClick:()=>R("append"),disabled:s,className:"w-full h-16 text-xl bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:" Force Append"}),i.jsxs("p",{className:"pb-4",children:[i.jsx("strong",{children:"Force Append"}),": Upload all entries without conflict prompts. Matching entries (same match/team) will be replaced."]}),i.jsx(Z,{onClick:()=>R("overwrite"),disabled:s,variant:"destructive",className:"w-full h-16 text-xl text-white disabled:opacity-50 disabled:cursor-not-allowed",children:" Replace All Data"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Replace All"}),": Delete all existing data and replace with uploaded data"]})]})]})]})]})]}),i.jsx(T1,{isOpen:l,entries:u,onResolve:J}),i.jsx(E1,{open:m,onOpenChange:g,conflict:v[x]||null,currentIndex:x,totalConflicts:v.length,onResolve:O,onBatchResolve:K,onUndo:k,canUndo:N})]})},ZOe=()=>{const[e,t]=p.useState("select"),[n,r]=p.useState("scouting");if(e==="upload")return i.jsx(QOe,{onBack:()=>t("select")});const a=async()=>{try{let s,o;switch(n){case"scouting":{const c=await Yi();if(c.length===0){alert("No scouting data found.");return}const u=["id","scoutName","teamNumber","matchNumber","eventKey","matchKey","allianceColor","timestamp"],d=new Set,f=new Set,h=new Set,m=new Set,g=(N,P="")=>{const E={};for(const R of Object.keys(N)){const O=N[R],K=P?`${P}.${R}`:R;O!==null&&typeof O=="object"&&!Array.isArray(O)?Object.assign(E,g(O,K)):E[K]=O}return E};for(const N of c)if(N.gameData){const P=g(N.gameData);for(const E of Object.keys(P))E.startsWith("auto.")?d.add(E):E.startsWith("teleop.")?f.add(E):E.startsWith("endgame.")?h.add(E):m.add(E)}const v=Array.from(d).sort((N,P)=>N.startsWith("auto.startPosition")?-1:P.startsWith("auto.startPosition")?1:N.localeCompare(P)),b=Array.from(f).sort(),x=Array.from(h).sort(),y=Array.from(m).sort(),w=[...v,...b,...x,...y],S=[...u,...w,"comments"],C=[];for(const N of c){const P=[],E=N;for(const O of u){const K=E[O];P.push(K!==void 0?K:"")}if(N.gameData){const O=g(N.gameData);for(const K of w){const J=O[K];P.push(J!==void 0?J:"")}}else for(let O=0;O<w.length;O++)P.push("");const R=E.comments;P.push(R!==void 0?R:""),C.push(P)}const k=[S,...C];s=U4(k),o=`ManeuverScoutingData-${new Date().toLocaleTimeString()}-local.csv`;break}case"pitScouting":{if(s=await $7(),!s||s.split(`
`).length<=1){alert("No pit scouting data found.");return}o=`ManeuverPitScoutingData-${new Date().toLocaleTimeString()}-local.csv`;break}case"pitScoutingImagesOnly":{alert("CSV export not available for images-only data. Use JSON or Wifi download instead.");return}case"scoutProfiles":{const c=await nt.scouts.toArray(),u=await nt.predictions.toArray();if(c.length===0&&u.length===0){alert("No scout profiles data found.");return}const d=["Name","Stakes","Stakes From Predictions","Total Predictions","Correct Predictions","Accuracy %","Current Streak","Longest Streak","Created At","Last Updated"],f=c.map(m=>[m.name,m.stakes,m.stakesFromPredictions,m.totalPredictions,m.correctPredictions,m.totalPredictions>0?Math.round(m.correctPredictions/m.totalPredictions*100):0,m.currentStreak,m.longestStreak,new Date(m.createdAt).toLocaleDateString(),new Date(m.lastUpdated).toLocaleDateString()]),h=[d,...f];s=U4(h),o=`ManeuverScoutProfiles-${new Date().toLocaleTimeString()}-local.csv`;break}default:alert("Unknown data type selected.");return}const l=document.createElement("a");l.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(s)),l.setAttribute("download",o),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(s){console.error("Failed to export data as CSV:",s),alert("Failed to export data as CSV.")}};return i.jsx("div",{className:"h-screen w-full flex flex-col items-center px-4 pt-12 pb-24",children:i.jsxs("div",{className:"flex flex-col items-start gap-4 max-w-md w-full",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"JSON Data Transfer"}),i.jsx("p",{className:"text-muted-foreground",children:"Export your data as CSV for analysis, or upload JSON files to overwrite your local data storage. Choose the type of data you want to export below."}),i.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Data Type to Export:"}),i.jsxs(Lr,{value:n,onValueChange:s=>r(s),children:[i.jsx($r,{className:"w-full",children:i.jsx(ia,{placeholder:"Select data type"})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"scouting",children:"Scouting Data"}),i.jsx(at,{value:"scoutProfiles",children:"Scout Profiles"}),i.jsx(at,{value:"pitScouting",children:"Pit Scouting Data"}),i.jsx(at,{value:"pitScoutingImagesOnly",children:"Pit Scouting Images Only"})]})]})]}),i.jsxs(Z,{onClick:async()=>{try{let s,o;switch(n){case"scouting":{const c=await Yi();if(c.length===0){alert("No scouting data found.");return}s={entries:c},o=`ManeuverScoutingData-${new Date().toLocaleTimeString()}.json`;break}case"pitScouting":{const c=await Xm();if(c.entries.length===0){alert("No pit scouting data found.");return}s=c,o=`ManeuverPitScoutingData-${new Date().toLocaleTimeString()}.json`;break}case"pitScoutingImagesOnly":try{await O7();return}catch(c){console.error("Error downloading pit scouting images:",c),alert("Failed to download pit scouting images.");return}case"scoutProfiles":{const c=await nt.scouts.toArray(),u=await nt.predictions.toArray();if(c.length===0&&u.length===0){alert("No scout profiles data found.");return}s={scouts:c,predictions:u,exportedAt:new Date().toISOString(),version:"1.0"},o=`ManeuverScoutProfiles-${new Date().toLocaleTimeString()}.json`;break}default:alert("Unknown data type selected.");return}const l=document.createElement("a");l.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s,null,2))),l.setAttribute("download",o),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(s){console.error("Failed to export data as JSON:",s),alert("Failed to export data as JSON.")}},className:"w-full h-16 text-xl",children:["Download ",n==="scouting"?"Scouting Data":n==="pitScouting"?"Pit Scouting Data":n==="pitScoutingImagesOnly"?"Pit Scouting Images":"Scout Profiles"," as JSON"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Or,{className:"flex-1"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"OR"}),i.jsx(Or,{className:"flex-1"})]}),i.jsxs("div",{className:"w-full",children:[i.jsx(Z,{onClick:a,variant:"secondary",disabled:n==="pitScoutingImagesOnly",className:"w-full h-16 text-xl",children:n==="pitScoutingImagesOnly"?"Images Cannot Be Downloaded as CSV":`Download ${n==="scouting"?"Scouting Data":n==="pitScouting"?"Pit Scouting Data":"Scout Profiles"} as CSV`}),n==="pitScouting"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Game-specific fields automatically expanded into separate columns"}),n==="pitScoutingImagesOnly"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Images cannot be exported as CSV"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Or,{className:"flex-1"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"OR"}),i.jsx(Or,{className:"flex-1"})]}),i.jsx(Z,{onClick:()=>t("upload"),variant:"outline",className:"w-full h-16 text-xl",children:"Upload JSON Data"})]}),i.jsxs("div",{className:"text-xs text-muted-foreground text-start space-y-1",children:[i.jsx("p",{children:" CSV: Export data for spreadsheet analysis"}),i.jsx("p",{children:" JSON: Export/import data for backup or device transfer"}),i.jsx("p",{children:" Scouting Data: Match performance data"}),i.jsx("p",{children:" Scout Profiles: User achievements and predictions"}),i.jsx("p",{children:" Pit Scouting: Team technical specifications and capabilities"}),i.jsx("p",{children:" Pit Scouting Images Only: Robot photos for merging with existing data (requires text data first)"})]})]})})};function JOe({roomId:e,peerId:t,peerName:n,role:r,enabled:a,onMessage:s}){console.log(" useWebRTCSignaling hook called:",{roomId:e,peerId:t,peerName:n,role:r,enabled:a});const[o,l]=p.useState(!1),[c,u]=p.useState(null),d=p.useRef(null),f=p.useRef(null),h="/.netlify/functions/webrtc-signal",m=p.useCallback(async P=>{if(console.log(` sendMessage called: ${P.type}, roomId=${e}, enabled=${a}`),!e||!a){console.warn(` sendMessage aborted: roomId=${e}, enabled=${a}`);return}try{console.log(` Fetching ${h} with ${P.type}`);const E=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...P,roomId:e,peerId:t,peerName:n,role:r})});if(console.log(` Response: ${E.status} ${E.statusText}`),!E.ok)throw new Error(`Signaling failed: ${E.statusText}`);return await E.json()}catch(E){throw console.error("Failed to send signaling message:",E),u(E instanceof Error?E.message:"Failed to send message"),E}},[e,t,n,r,a,h]),g=p.useCallback(async()=>{if(!(!e||!a))try{if(f.current===null){try{const P=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"ping"})});f.current=P.status!==404}catch{f.current=!1}if(!f.current){const P='Netlify Functions not available. Please run with "npm run dev" instead of "npm run dev:vite" to enable room code connections.';console.error("",P),u(P),l(!1);return}}console.log(" Sending join message to room:",e),await m({type:"join"}),console.log(" Join message sent successfully"),l(!0),u(null)}catch(P){console.error(" Failed to join room:",P);const E=P instanceof Error?P.message:"Failed to join room";u(E),l(!1)}},[e,a,m,h]),v=p.useCallback(async()=>{if(e)try{await m({type:"leave"}),l(!1)}catch(P){console.error("Failed to leave room:",P)}},[e,m]),b=p.useCallback(async(P,E)=>m({type:"offer",data:P,targetPeerId:E}),[m]),x=p.useCallback(async(P,E)=>m({type:"answer",data:P,targetPeerId:E}),[m]),y=p.useCallback(async(P,E)=>m({type:"ice-candidate",data:P.toJSON(),targetPeerId:E}),[m]),w=p.useCallback(async()=>{if(!(!e||!a||!o))try{const P=await fetch(`${h}?roomId=${e}&peerId=${t}`,{method:"GET"});if(!P.ok)throw new Error(`Polling failed: ${P.statusText}`);const E=await P.json();if(E.messages&&Array.isArray(E.messages)){E.messages.length>0&&console.log(` Received ${E.messages.length} messages:`,E.messages.map(R=>`${R.type} from ${R.peerName}`).join(", "));for(const R of E.messages)console.log(` Processing message: ${R.type} from ${R.peerName||R.peerId}`),s==null||s(R)}}catch{}},[e,t,a,o,h,s]);p.useEffect(()=>{if(o&&a)return w(),d.current=setInterval(w,2e3),()=>{d.current&&clearInterval(d.current)}},[o,a,w]);const S=p.useRef(!1),C=p.useRef(null),k=p.useRef(a),N=p.useRef(e);return p.useEffect(()=>{k.current=a,N.current=e}),p.useEffect(()=>(console.log(" Signaling hook effect:",{enabled:a,roomId:e,hasJoined:S.current,currentRoom:C.current}),a&&e?!S.current||C.current!==e?(console.log(" Joining room:",e),S.current=!0,C.current=e,g()):console.log(" Already joined room:",e):console.log(" Signaling disabled or no room"),()=>{const P=k.current,E=N.current;console.log(" Signaling cleanup:",{currentEnabled:P,currentRoomId:E,hasJoined:S.current,currentRoom:C.current}),S.current&&(!P||C.current!==E)?(console.log(" Leaving room in cleanup"),S.current=!1,C.current=null,v()):console.log(" Keeping connection alive (still enabled and same room)")}),[a,e]),{connected:o,error:c,join:g,leave:v,sendOffer:b,sendAnswer:x,sendIceCandidate:y}}function sg(){try{if(typeof crypto<"u"&&crypto.randomUUID&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{console.warn("crypto.randomUUID not available, using fallback")}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const X0=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"}],qX=p.createContext(void 0);function XOe({children:e}){const[t,n]=p.useState(()=>{if(typeof window<"u"){const ee=localStorage.getItem("webrtc_mode");if(console.log(" Restoring mode on mount:",ee),ee==="lead"||ee==="scout")return ee}return"select"}),r=p.useCallback(ee=>{n(ee),typeof window<"u"&&localStorage.setItem("webrtc_mode",ee)},[]),[a,s]=p.useState([]),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState(!1),[g,v]=p.useState(null),[b,x]=p.useState(null),[y,w]=p.useState("Not connected"),[S,C]=p.useState(!1),k=p.useRef(!1),[N,P]=p.useState(null),[E,R]=p.useState(null),[O,K]=p.useState(()=>{if(typeof window<"u"){const ee=localStorage.getItem("webrtc_mode"),Ne=ee==="scout"?"webrtc_scout_room_code":"webrtc_room_code",ge=localStorage.getItem(Ne);if(console.log(" Restoring room code on mount:",{savedMode:ee,storageKey:Ne,saved:ge}),ge&&/^\d{6}$/.test(ge))return console.log(" Room code restored:",ge),ge;ge&&(console.log(" Invalid room code format, clearing:",ge),localStorage.removeItem(Ne))}return null}),J=p.useCallback(ee=>{if(K(ee),typeof window<"u"){const Ne=t==="scout"?"webrtc_scout_room_code":"webrtc_room_code";ee?localStorage.setItem(Ne,ee):localStorage.removeItem(Ne)}},[t]);p.useEffect(()=>{if(typeof window<"u"){const ee=t==="scout"?"webrtc_scout_room_code":"webrtc_room_code",Ne=localStorage.getItem(ee);Ne&&/^\d{6}$/.test(Ne)?K(Ne):t==="select"&&K(null)}},[t]);const Q=p.useCallback(()=>{const ee=Math.floor(1e5+Math.random()*9e5).toString();return J(ee),console.log(" Generated new room code:",ee),ee},[J]),G=p.useRef([]),[z,U]=p.useState([]),M=p.useRef(new Map),$=p.useRef(null),B=p.useRef(null),te=p.useRef(null),q=p.useRef(new Map),ae=p.useRef(new Map),[he]=p.useState(()=>sg()),je=t==="lead"?"Lead Scout":(()=>{const ee=typeof window<"u"?localStorage.getItem("currentScout"):null,Ne=typeof window<"u"?localStorage.getItem("playerStation"):null;return ee&&Ne?`${ee} (${Ne})`:"Scout"})(),Ee=p.useCallback(()=>{U([...G.current])},[]),me=p.useCallback((ee,Ne)=>{try{const ge=JSON.parse(Ne);if(ge.type==="request-data")return;if(ge.type==="disconnected"){window.dispatchEvent(new CustomEvent("webrtc-disconnected-by-lead"));return}if(ge.type==="request-declined"){s(Ue=>[...Ue,{scoutName:ee,data:{type:"declined"},timestamp:Date.now()}]);return}if(ge.type==="push-declined"){s(Ue=>[...Ue,{scoutName:ee,data:{type:"push-declined",dataType:ge.dataType},timestamp:Date.now()}]);return}if(ge.type==="complete"){const Ue=JSON.parse(ge.data);s(st=>[...st,{scoutName:ee,data:Ue,dataType:ge.dataType,timestamp:Date.now()}])}else if(ge.type==="chunk"){const{transferId:Ue,chunkIndex:st,totalChunks:Ye,data:Ht,dataType:wt}=ge;ae.current.has(Ue)||ae.current.set(Ue,{chunks:new Array(Ye).fill(null),totalChunks:Ye,scoutName:ee,dataType:wt});const St=ae.current.get(Ue);if(St.chunks[st]=Ht,St.chunks.every(Vn=>Vn!==null)){const Vn=St.chunks.join(""),jt=JSON.parse(Vn);jt.type==="push-data"?(v(jt.data),x(jt.dataType),m(!0)):s(Yr=>[...Yr,{scoutName:ee,data:jt,dataType:St.dataType,timestamp:Date.now()}]),ae.current.delete(Ue)}}else ge.type||s(Ue=>[...Ue,{scoutName:ee,data:ge,timestamp:Date.now()}])}catch(ge){console.error("Failed to parse received data:",ge),console.error("Raw message length:",Ne.length),console.error("Raw message preview:",Ne.substring(0,200))}},[]),Ve=p.useCallback(async ee=>{const Ne=sg(),ge=new RTCPeerConnection({iceServers:X0});console.log(` Lead creating offer for scout: ${ee} (ID: ${Ne})`),console.log(" Using ICE servers:",X0),ge.onicecandidate=wt=>{var St;if(wt.candidate){console.log(" Lead ICE candidate:",wt.candidate.candidate.substring(0,50)+"...","type:",wt.candidate.type);const ze=M.current.get(Ne)||G.current.find(Vn=>Vn.id===Ne);ze!=null&&ze.signalingPeerId?(console.log(" Lead: Sending ICE candidate to scout",ze.name,"targetPeerId:",ze.signalingPeerId),(St=Et.current)==null||St.sendIceCandidate(wt.candidate,ze.signalingPeerId)):console.warn(" Lead: Cannot send ICE candidate, scout signalingPeerId not known yet")}};const Ue=ge.createDataChannel("scoutData");Ue.onopen=()=>{console.log(` Data channel opened for scout: ${ee}`);const wt=M.current.get(Ne);wt&&(wt.status="connected",G.current.push(wt),M.current.delete(Ne),Ee(),console.log(` Scout ${ee} moved to connected list`))},Ue.onmessage=wt=>{me(ee,wt.data)};const st={id:Ne,name:ee,connection:ge,dataChannel:Ue,channel:Ue,status:"connecting",offer:""};M.current.set(Ne,st),ge.oniceconnectionstatechange=()=>{const wt=ge.iceConnectionState,St=G.current.find(ze=>ze.id===Ne);St&&(St.status=wt==="connected"?"connected":"connecting",Ee(),(wt==="disconnected"||wt==="failed")&&(St.status="disconnected",Ee()))},ge.onconnectionstatechange=()=>{const wt=ge.connectionState;(wt==="disconnected"||wt==="failed")&&setTimeout(()=>{(ge.connectionState==="disconnected"||ge.connectionState==="failed")&&(G.current=G.current.filter(St=>St.id!==Ne),Ee())},3e4)};const Ye=await ge.createOffer();await ge.setLocalDescription(Ye),await new Promise(wt=>{if(ge.iceGatheringState==="complete")wt();else{const St=setTimeout(()=>{ge.onicegatheringstatechange=null,console.log(" ICE gathering timeout reached, proceeding with gathered candidates"),wt()},5e3);ge.onicegatheringstatechange=()=>{ge.iceGatheringState==="complete"&&(clearTimeout(St),ge.onicegatheringstatechange=null,wt())}}});const Ht=JSON.stringify(ge.localDescription);return st.offer=Ht,{scoutId:Ne,offer:Ht}},[Ee,me]),ne=p.useCallback(async(ee,Ne)=>{console.log(` Processing answer for scout ID: ${ee}`);const ge=M.current.get(ee);if(!ge)throw new Error(`No pending scout found with ID: ${ee}`);if(ge.connection.signalingState==="closed")throw new Error("Connection is closed");const Ue=JSON.parse(Ne);await ge.connection.setRemoteDescription(Ue),M.current.delete(ee),ge.signalingPeerId&&M.current.delete(ge.signalingPeerId),G.current.push(ge),Ee(),console.log(` Scout ${ge.name} connected successfully`)},[Ee]),ke=p.useCallback((ee,Ne)=>{console.log(` Requesting ${Ne||"scouting"} data from ${G.current.length} scouts...`),ee&&console.log(" With filters:",ee),u(ee||null),f(Ne||"scouting"),G.current.forEach(ge=>{ge.dataChannel&&ge.dataChannel.readyState==="open"?(console.log(` Sending ${Ne||"scouting"} request to ${ge.name}`),ge.dataChannel.send(JSON.stringify({type:"request-data",filters:ee||null,dataType:Ne||"scouting"}))):console.warn(` Data channel not open for ${ge.name}`)})},[]),we=p.useCallback((ee,Ne,ge)=>{const Ue=G.current.find(st=>st.id===ee);if(!Ue){console.error(` Scout ${ee} not found`);return}console.log(` Requesting ${ge||"scouting"} data from ${Ue.name}...`),Ne&&console.log(" With filters:",Ne),Ue.dataChannel&&Ue.dataChannel.readyState==="open"?Ue.dataChannel.send(JSON.stringify({type:"request-data",filters:Ne||null,dataType:ge||"scouting"})):console.warn(` Data channel not open for ${Ue.name}`)},[]),re=p.useCallback((ee,Ne)=>{console.log(` Pushing ${Ne} data to ${G.current.length} scouts...`);const ge=JSON.stringify({type:"push-data",dataType:Ne,data:ee}),Ue=16e3;G.current.forEach(st=>{if(st.dataChannel&&st.dataChannel.readyState==="open")if(console.log(` Pushing ${Ne} data to ${st.name}`),ge.length<=Ue)st.dataChannel.send(ge);else{const Ye=Math.ceil(ge.length/Ue),Ht=sg();for(let wt=0;wt<Ye;wt++){const St=ge.slice(wt*Ue,(wt+1)*Ue);st.dataChannel.send(JSON.stringify({type:"chunk",transferId:Ht,chunkIndex:wt,totalChunks:Ye,data:St,dataType:Ne}))}}else console.warn(` Data channel not open for ${st.name}`)})},[]),He=p.useCallback((ee,Ne,ge)=>{const Ue=G.current.find(Ht=>Ht.id===ee);if(!Ue){console.error(` Scout ${ee} not found`);return}console.log(` Pushing ${ge} data to ${Ue.name}...`);const st=JSON.stringify({type:"push-data",dataType:ge,data:Ne}),Ye=16e3;if(Ue.dataChannel&&Ue.dataChannel.readyState==="open")if(st.length<=Ye)Ue.dataChannel.send(st);else{const Ht=Math.ceil(st.length/Ye),wt=sg();for(let St=0;St<Ht;St++){const ze=st.slice(St*Ye,(St+1)*Ye);Ue.dataChannel.send(JSON.stringify({type:"chunk",transferId:wt,chunkIndex:St,totalChunks:Ht,data:ze,dataType:ge}))}}else console.warn(` Data channel not open for ${Ue.name}`)},[]),Oe=p.useCallback(async(ee,Ne)=>{console.log(` Scout ${ee} processing offer...`),r("scout"),P(ee),R(Ne),localStorage.setItem("webrtc_last_connection",JSON.stringify({scoutName:ee,offer:Ne,roomCode:O,timestamp:Date.now()})),$.current&&$.current.close();const ge=new RTCPeerConnection({iceServers:X0});$.current=ge,console.log(" Scout using ICE servers:",X0),ge.onicecandidate=St=>{var ze;St.candidate?(console.log(" Scout ICE candidate:",St.candidate.candidate.substring(0,50)+"...","type:",St.candidate.type),console.log(" Scout: Sending ICE candidate to lead, targetPeerId:",te.current),(ze=Et.current)==null||ze.sendIceCandidate(St.candidate,te.current||void 0)):console.log(" Scout: ICE gathering complete")},ge.oniceconnectionstatechange=()=>{const St=ge.iceConnectionState;w(`ICE: ${St}`),console.log(` Scout ICE state: ${St}`),St==="disconnected"||St==="failed"?(console.log(" Connection lost - auto-reconnect available"),C(!0)):St==="connected"&&(C(!1),k.current=!1)},ge.onconnectionstatechange=()=>{w(`Connection: ${ge.connectionState}`),console.log(` Scout connection state: ${ge.connectionState}`)},ge.ondatachannel=St=>{const ze=St.channel;B.current=ze,console.log(" Scout received data channel"),ze.onopen=()=>{w("Connected - Ready to send data"),console.log(" Scout data channel opened")},ze.onmessage=Vn=>{console.log(" Scout received message");try{const jt=JSON.parse(Vn.data);if(jt.type==="request-data"){console.log(` Lead is requesting ${jt.dataType||"scouting"} data`),jt.filters?(console.log(" With filters:",jt.filters),u(jt.filters)):u(null),f(jt.dataType||"scouting"),l(!0);return}if(jt.type==="push-data"){console.log(` Lead is pushing ${jt.dataType} data`),v(jt.data),x(jt.dataType),m(!0);return}}catch{}me("lead",Vn.data)}};const Ue=JSON.parse(Ne);await ge.setRemoteDescription(Ue);const st="scout-buffer",Ye=q.current.get(st);if(Ye&&Ye.length>0){console.log(` Context: Processing ${Ye.length} buffered ICE candidates`);for(const St of Ye)try{await ge.addIceCandidate(new RTCIceCandidate(St))}catch(ze){console.error(" Failed to add buffered ICE candidate:",ze)}q.current.delete(st),console.log(" Context: All buffered ICE candidates processed")}const Ht=await ge.createAnswer();await ge.setLocalDescription(Ht),await new Promise(St=>{if(ge.iceGatheringState==="complete")console.log(" Scout ICE gathering already complete"),St();else{const ze=setTimeout(()=>{console.log(` Scout ICE gathering timeout (state: ${ge.iceGatheringState}) - proceeding with available candidates`),ge.onicegatheringstatechange=null,St()},5e3);ge.onicegatheringstatechange=()=>{console.log(` Scout ICE gathering state: ${ge.iceGatheringState}`),ge.iceGatheringState==="complete"&&(clearTimeout(ze),ge.onicegatheringstatechange=null,St())}}});const wt=JSON.stringify(ge.localDescription);return console.log(` Answer created, size: ${wt.length} chars`),wt},[me,O,r]),Xe=p.useCallback(ee=>{const Ne=B.current;if(!Ne||Ne.readyState!=="open"){console.warn("Cannot send control message - data channel not open");return}try{Ne.send(JSON.stringify(ee)),console.log(" Sent control message:",ee.type)}catch(ge){console.error("Failed to send control message:",ge)}},[]),Fe=p.useCallback((ee,Ne)=>{const ge=B.current;if(!ge){const Ue="ERROR: No data channel exists. Please scan the QR code from the lead scout first.";console.error("",Ue),alert(Ue);return}if(ge.readyState!=="open"){const Ue=`ERROR: Data channel state is "${ge.readyState}". Expected "open". Try reconnecting.`;console.error("",Ue),alert(Ue);return}try{const Ue=JSON.stringify(ee),st=15e3;if(console.log(` Scout sending ${Ne||"data"}, size: ${Ue.length} chars`),Ue.length<=st)ge.send(JSON.stringify({type:"complete",data:Ue,dataType:Ne})),console.log(" Data sent successfully (single message)");else{const Ye=Math.ceil(Ue.length/st),Ht=sg();console.log(` Splitting into ${Ye} chunks`);for(let wt=0;wt<Ye;wt++){const St=Ue.slice(wt*st,(wt+1)*st),ze=JSON.stringify({type:"chunk",transferId:Ht,chunkIndex:wt,totalChunks:Ye,data:St,dataType:Ne});ge.send(ze),console.log(` Sent chunk ${wt+1}/${Ye}`)}console.log(" All chunks sent successfully")}}catch(Ue){const st=`ERROR sending data: ${Ue instanceof Error?Ue.message:String(Ue)}`;console.error("",st),alert(st)}},[]),Se=p.useCallback(()=>{console.log(" Clearing received data"),s([])},[]),de=p.useCallback(ee=>{s(Ne=>[...Ne,ee])},[]),ve=p.useCallback(ee=>{var ge,Ue;console.log(` Disconnecting scout ${ee}...`);const Ne=G.current.find(st=>st.id===ee);Ne&&(((ge=Ne.dataChannel)==null?void 0:ge.readyState)==="open"&&Ne.dataChannel.send(JSON.stringify({type:"disconnected"})),Ne.connection.close(),(Ue=Ne.dataChannel)==null||Ue.close(),G.current=G.current.filter(st=>st.id!==ee),Ee())},[Ee]),Nt=p.useCallback(()=>{G.current.forEach(ee=>{var Ne;ee.connection.close(),(Ne=ee.dataChannel)==null||Ne.close()}),G.current=[],Ee(),M.current.clear(),$.current&&($.current.close(),$.current=null),B.current&&(B.current.close(),B.current=null),w("Not connected"),l(!1),s([])},[Ee]);p.useEffect(()=>{if(t==="scout"&&y.includes("Connected")){const ee={mode:"scout",timestamp:Date.now(),status:y};localStorage.setItem("webrtc_connection_info",JSON.stringify(ee)),console.log(" Saved connection info for auto-reconnect")}},[t,y]),p.useEffect(()=>{const ee=()=>{if(!document.hidden){console.log(" App became visible");const Ne=localStorage.getItem("webrtc_connection_info");if(!Ne)return;try{const ge=JSON.parse(Ne),Ue=Date.now()-ge.timestamp;ge.mode==="scout"&&t==="scout"&&!y.includes("Connected")&&Ue<30*60*1e3&&!k.current&&(console.log(" Attempting auto-reconnect..."),k.current=!0,C(!0),setTimeout(()=>{k.current=!1},5e3))}catch(ge){console.error("Failed to parse connection info:",ge)}}};return document.addEventListener("visibilitychange",ee),()=>{document.removeEventListener("visibilitychange",ee)}},[t,y]),p.useEffect(()=>()=>{console.log(" WebRTC Context cleanup (keeping connections alive)")},[]);const We=p.useRef(Ve),kt=p.useRef(ne),ct=p.useRef(Oe);p.useEffect(()=>{We.current=Ve,kt.current=ne,ct.current=Oe},[Ve,ne,Oe]);const Ft=t!=="select"&&!!O,nn=O||"",Et=p.useRef(null),Lt=JOe({roomId:nn,peerId:he,peerName:je,role:t==="select"?"scout":t,enabled:Ft,onMessage:p.useCallback(async ee=>{try{if(console.log(" Context signaling message:",ee.type,"from",ee.peerName,"| My mode:",t,"| Message role:",ee.role),t==="scout"&&ee.type==="join"&&ee.role==="lead"&&(console.log(" Context: Lead (re)joined room, scout re-announcing presence"),Et.current&&Et.current.connected)){const Ne=Math.random()*1e3;setTimeout(async()=>{var ge;await((ge=Et.current)==null?void 0:ge.join())},Ne)}if(t==="lead"&&ee.type==="join"&&ee.role==="scout"){const Ne=M.current.get(ee.peerId),ge=G.current.find(Ht=>Ht.signalingPeerId===ee.peerId);if(Ne||ge){console.log(" Context: Scout already has connection, ignoring duplicate join");return}console.log(" Context: Scout joined, creating offer");const{scoutId:Ue,offer:st}=await We.current(ee.peerName||"Scout"),Ye=M.current.get(Ue);if(Ye?(Ye.signalingPeerId=ee.peerId,M.current.set(ee.peerId,Ye),console.log(` Stored scout mapping: peerId ${ee.peerId} -> scoutId ${Ue}`)):console.error(" Could not find scout with scoutId:",Ue),console.log(" Context: Sending offer to scout with peerId:",ee.peerId),!Et.current){console.error(" Signaling not available to send offer!");return}await Et.current.sendOffer(JSON.parse(st),ee.peerId),console.log(" Context: Offer sent to scout")}if(t==="lead"&&ee.type==="answer"){console.log(" Context: Received answer from scout");const Ne=M.current.get(ee.peerId);Ne?(console.log(` Context: Processing answer for scout ${Ne.name}`),await kt.current(Ne.id,JSON.stringify(ee.data)),M.current.delete(ee.peerId),console.log(" Context: Answer processed, connection should establish")):console.warn(" Context: Received answer but no pending scout found for peerId:",ee.peerId)}if(t==="scout"&&ee.type==="offer"){console.log(" Context: Scout received offer from lead peerId:",ee.peerId),te.current=ee.peerId;const Ne=await ct.current(je,JSON.stringify(ee.data));if(console.log(" Context: Sending answer back to lead..."),!Et.current){console.error(" Signaling not available to send answer!");return}await Et.current.sendAnswer(JSON.parse(Ne),ee.peerId),console.log(" Context: Answer sent to lead")}if(ee.type==="ice-candidate"){console.log(" Context: Received ICE candidate from",ee.peerName,"peerId:",ee.peerId,"mode:",t);try{const Ne=new RTCIceCandidate(ee.data);if(console.log(" Context: ICE candidate created successfully"),t==="lead"){console.log(" Context: Lead mode - looking for scout connection..."),console.log("Pending scouts:",Array.from(M.current.keys())),console.log("Connected scouts:",G.current.map(Ue=>({id:Ue.id,name:Ue.name}))),console.log(` Looking up scout with peerId: ${ee.peerId}`);let ge=M.current.get(ee.peerId);console.log(" Found in pending?",!!ge),ge||(console.log(" Checking connected scouts..."),ge=G.current.find(Ue=>Ue.id===ee.peerId),console.log(" Found in connected?",!!ge)),ge&&console.log(` Scout found: ${ge.name}, connection exists: ${!!ge.connection}`),ge!=null&&ge.connection?(console.log(` Context: Adding ICE candidate to scout ${ge.name} (signaling state: ${ge.connection.signalingState})`),ge.connection.remoteDescription?(await ge.connection.addIceCandidate(Ne),console.log(" Context: ICE candidate added successfully")):console.warn(" Context: Remote description not set yet, cannot add ICE candidate")):(console.warn(` Context: No scout connection found for peerId ${ee.peerId}`),console.warn("Pending scouts:",Array.from(M.current.keys())),console.warn("Connected scouts:",G.current.map(Ue=>Ue.id)))}else if(t==="scout")if($.current&&$.current.remoteDescription)console.log(` Context: Adding ICE candidate (signaling state: ${$.current.signalingState})`),await $.current.addIceCandidate(Ne),console.log(" Context: ICE candidate added successfully");else{console.log(" Context: Buffering ICE candidate (connection not ready yet)");const ge="scout-buffer";q.current.has(ge)||q.current.set(ge,[]),q.current.get(ge).push(ee.data),console.log(` Context: ${q.current.get(ge).length} candidates buffered`)}}catch(Ne){console.error(" Failed to add ICE candidate:",Ne)}}}catch(Ne){console.error(" Context signaling error:",Ne)}},[t,je])});Et.current=Lt;const An=p.useRef(!1),mn=p.useRef(y);p.useEffect(()=>{const ee=mn.current.includes("Connected"),ge=!y.includes("Connected");ee&&ge&&(console.log(" Context: Connection lost, resetting auto-join flag"),An.current=!1),mn.current=y},[y,t]),p.useEffect(()=>{const ee=y.includes("Connected");t==="scout"&&O&&Lt&&!ee&&!An.current&&localStorage.getItem("webrtc_scout_room_code")===O&&(console.log(" Context: Auto-joining room",O,"from any page (current status:",y,")"),An.current=!0,Lt.connected?console.log(" Context: Already in signaling room, waiting for lead offer"):(console.log(" Context: Joining signaling room"),setTimeout(()=>{Lt.join().catch(ge=>{console.error(" Auto-join failed:",ge),An.current=!1})},500))),(t!=="scout"||!O)&&(An.current=!1)},[t,O,Lt,y]);const Zn={mode:t,setMode:r,connectedScouts:z,createOfferForScout:Ve,processScoutAnswer:ne,requestDataFromAll:ke,requestDataFromScout:we,pushDataToAll:re,pushDataToScout:He,receivedData:a,clearReceivedData:Se,addToReceivedData:de,startAsScout:Oe,sendData:Fe,sendControlMessage:Xe,dataRequested:o,setDataRequested:l,dataPushed:h,setDataPushed:m,pushedData:g,pushedDataType:b,requestFilters:c,requestDataType:d,connectionStatus:y,shouldAttemptReconnect:S,setShouldAttemptReconnect:C,lastScoutName:N,lastOffer:E,roomCode:O,setRoomCode:J,generateRoomCodeForLead:Q,signaling:Lt?{connected:Lt.connected,error:Lt.error,join:Lt.join,leave:Lt.leave,sendOffer:Lt.sendOffer,sendAnswer:Lt.sendAnswer,sendIceCandidate:Lt.sendIceCandidate}:null,disconnectScout:ve,disconnectAll:Nt};return i.jsx(qX.Provider,{value:Zn,children:e})}function hf(){const e=p.useContext(qX);if(e===void 0)throw new Error("useWebRTC must be used within a WebRTCProvider");return e}function eLe(){const e=hf(),[t,n]=p.useState(null),r=p.useCallback(async(c,u)=>{e.setMode("scout");const d=await e.startAsScout(c,u);return n(d),d},[e]),a=p.useCallback((c,u,d="scouting")=>{e.requestDataFromScout(c,u,d)},[e]),s=p.useCallback((c,u="scouting")=>{e.requestDataFromAll(c,u)},[e]),o=p.useCallback((c,u)=>{e.pushDataToAll(c,u)},[e]),l=p.useCallback((c,u,d)=>{e.pushDataToScout(c,u,d)},[e]);return{role:e.mode==="scout"?"scout":e.mode==="lead"?"lead":null,connectedScouts:e.connectedScouts,receivedData:e.receivedData,clearReceivedData:e.clearReceivedData,addToReceivedData:e.addToReceivedData,isConnecting:!1,connectionStatus:e.connectionStatus,scoutAnswer:t,scoutOfferReceived:e.mode==="scout"&&e.connectionStatus.includes("Connected"),dataRequested:e.dataRequested,setDataRequested:e.setDataRequested,requestDataType:e.requestDataType,requestFilters:e.requestFilters,dataPushed:e.dataPushed,setDataPushed:e.setDataPushed,pushedData:e.pushedData,pushedDataType:e.pushedDataType,sendData:e.sendData,sendControlMessage:e.sendControlMessage,shouldAttemptReconnect:e.shouldAttemptReconnect,setShouldAttemptReconnect:e.setShouldAttemptReconnect,lastScoutName:e.lastScoutName,lastOffer:e.lastOffer,startAsLead:()=>e.setMode("lead"),createOfferForScout:e.createOfferForScout,processScoutAnswer:e.processScoutAnswer,startAsScout:r,requestDataFromScout:a,requestDataFromAll:s,pushDataToAll:o,pushDataToScout:l,disconnectScout:e.disconnectScout,reset:()=>{e.disconnectAll(),e.setMode("select"),n(null)}}}const tLe="maneuver_last_exported_match";function DM(){try{const e=localStorage.getItem(tLe);return e?parseInt(e):null}catch{return null}}function nLe(e){const t=new Set;return e.entries.forEach(n=>{n.teamNumber&&t.add(String(n.teamNumber))}),Array.from(t).sort((n,r)=>{const a=parseInt(n),s=parseInt(r);return!isNaN(a)&&!isNaN(s)?a-s:n.localeCompare(r)})}function $2(e){let t=1/0,n=-1/0;return e.entries.forEach(r=>{const a=r.matchNumber;a&&(t=Math.min(t,a),n=Math.max(n,a))}),{min:t===1/0?1:t,max:n===-1/0?1:n}}function x5(e,t){let n=e.entries;if(!t.teams.includeAll&&t.teams.selectedTeams.length>0&&(n=n.filter(r=>t.teams.selectedTeams.includes(String(r.teamNumber)))),t.matchRange.type==="preset"&&t.matchRange.preset!=="all"){const r=$2(e);let a=r.min;if(t.matchRange.preset==="last10")a=Math.max(r.min,r.max-9);else if(t.matchRange.preset==="last15")a=Math.max(r.min,r.max-14);else if(t.matchRange.preset==="last30")a=Math.max(r.min,r.max-29);else if(t.matchRange.preset==="fromLastExport"){const s=DM();a=s?Math.max(r.min,s+1):r.min}n=n.filter(s=>{const o=s.matchNumber;return o>=a&&o<=r.max})}else if(t.matchRange.type==="custom"){const r=t.matchRange.customStart||1,a=t.matchRange.customEnd||999;n=n.filter(s=>{const o=s.matchNumber;return o>=r&&o<=a})}return{...e,entries:n}}function rLe(e,t,n=!0){const r=e.entries.length,a=t.entries.length;let s;n?s=2e3/4.2:s=2500;const o=a*s,l=Math.ceil(o/2e3),c=l*3,u=Math.floor(c/60),d=c%60;let f;u>0?f=`~${u}m ${d}s`:f=`~${c}s`;let h;l<=20?h="safe":l<=40?h="warning":h="danger";let m;if(n&&r>0){const g=Math.ceil(r*2500/2e3),v=Math.ceil(r*s/2e3);m=`${((g-v)/g*100).toFixed(1)}% fewer codes with compression`}return{originalEntries:r,filteredEntries:a,estimatedQRCodes:l,compressionReduction:m,scanTimeEstimate:f,warningLevel:h}}function aLe(){return{matchRange:{type:"preset",preset:DM()!==null?"fromLastExport":"all"},teams:{selectedTeams:[],includeAll:!0}}}function sLe(e){if(e.matchRange.type==="custom"){const t=e.matchRange.customStart,n=e.matchRange.customEnd;if(t!==void 0&&n!==void 0&&t>n)return{valid:!1,error:"Start match must be less than or equal to end match"};if(t!==void 0&&(t<1||t>200))return{valid:!1,error:"Start match must be between 1 and 200"};if(n!==void 0&&(n<1||n>200))return{valid:!1,error:"End match must be between 1 and 200"}}return{valid:!0}}function iLe({onSelectLead:e,onSelectScout:t}){return i.jsx("div",{className:"min-h-screen w-full flex flex-col items-center px-4 pt-12 pb-24 2xl:pb-6",children:i.jsxs("div",{className:"flex flex-col items-left gap-4 max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"WiFi Transfer"}),i.jsx(Le,{variant:"secondary",children:"Beta"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Fast peer-to-peer transfer when network available"}),i.jsxs(ar,{className:"w-full",children:[i.jsx(tE,{className:"h-4 w-4"}),i.jsxs(pr,{children:[i.jsx("strong",{children:"Requirements:"})," All devices need internet connection (WiFi or cellular data).",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Limitations:"})," May not work if devices are very far apart or on certain restricted networks. Still in testing.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Best for:"})," Fast bulk transfers at competitions. Lead can send data to multiple scouts at once.",i.jsx("br",{}),i.jsx("br",{}),i.jsx("strong",{children:"Having trouble connecting?"})," Use the QR Code transfer method instead - it always works!"]})]}),i.jsxs(De,{className:"w-full",children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Quick Guide"]})}),i.jsxs($e,{className:"text-sm space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-primary",children:"Lead Scout:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2 mt-1",children:[i.jsx("li",{children:"Generate a 6-digit room code"}),i.jsx("li",{children:"Share code with scouts (verbal/text/display)"}),i.jsx("li",{children:"Wait for scouts to join your room"}),i.jsx("li",{children:"Request or push data to connected scouts"}),i.jsx("li",{children:"Push: Send match schedule, scouting data, or profiles"})]})]}),i.jsx(Or,{}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-primary",children:"Scouts:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2 mt-1",children:[i.jsx("li",{children:"Enter lead's 6-digit room code and connect"}),i.jsx("li",{children:"Approve/decline when lead requests or pushes data"}),i.jsx("li",{children:"Connection persists even when navigating away"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[i.jsxs(Z,{onClick:e,className:"w-full h-14 text-lg",size:"lg",children:[i.jsx(lhe,{className:"h-5 w-5 mr-2"}),"I'm the Lead Scout"]}),i.jsxs(Z,{onClick:t,variant:"outline",className:"w-full h-14 text-lg",size:"lg",children:[i.jsx(tE,{className:"h-5 w-5 mr-2"}),"I'm a Scout"]})]})]})})}function oLe({receivedData:e,historyCollapsed:t,onToggleCollapse:n,onClearHistory:r,getRelativeTime:a}){const s=()=>{r(),oe.success("Transfer history cleared")};return i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:["Transfer History",i.jsx(Z,{size:"sm",variant:"ghost",onClick:n,className:"px-2",children:t?i.jsx(Iy,{className:"h-4 w-4"}):i.jsx(tD,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Le,{variant:"outline",children:[e.filter(o=>{const l=o.data;return l.type!=="declined"&&l.type!=="push-declined"&&l.type!=="pushed"}).length," received"]}),i.jsx(Z,{size:"sm",variant:"ghost",onClick:s,title:"Clear history",children:i.jsx(Bs,{className:"h-4 w-4"})})]})]}),i.jsx(Fn,{children:"Recent data requests and pushes"})]}),!t&&i.jsx($e,{children:i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.slice().reverse().map((o,l)=>{var f,h,m,g,v,b,x,y,w;const c=o.data;if(c.type==="declined")return i.jsxs("div",{className:"text-sm border-l-2 border-red-500 pl-3 py-1",children:[i.jsxs("p",{className:"font-medium",children:[o.scoutName," declined request"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a(o.timestamp)})]},l);if(c.type==="push-declined")return i.jsxs("div",{className:"text-sm border-l-2 border-yellow-500 pl-3 py-1",children:[i.jsxs("p",{className:"font-medium",children:[o.scoutName," declined push"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.dataType,"  ",a(o.timestamp)]})]},l);if(c.type==="pushed")return i.jsxs("div",{className:"text-sm border-l-2 border-blue-500 pl-3 py-1",children:[i.jsxs("p",{className:"font-medium",children:["Pushed to ",o.scoutName]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.dataType,"  ",a(o.timestamp)]})]},l);const u=o.dataType;let d="";if(u==="scout"){const S=c;d=`${(((f=S.scouts)==null?void 0:f.length)||0)+(((h=S.predictions)==null?void 0:h.length)||0)+(((m=S.achievements)==null?void 0:m.length)||0)} profile items`}else if(u==="match")d=`${((g=c.matches)==null?void 0:g.length)||0} matches`;else if(u==="pit-scouting")d=`${((v=c.entries)==null?void 0:v.length)||0} pit entries`;else if(u==="combined"){const S=((b=c.entries)==null?void 0:b.length)||0,C=c.scoutProfiles,k=(((x=C==null?void 0:C.scouts)==null?void 0:x.length)||0)+(((y=C==null?void 0:C.predictions)==null?void 0:y.length)||0);d=`${S} entries + ${k} profiles`}else d=`${((w=c.entries)==null?void 0:w.length)||0} entries`;return i.jsxs("div",{className:"text-sm border-l-2 border-green-500 pl-3 py-1",children:[i.jsxs("p",{className:"font-medium",children:[o.scoutName,"  ",d]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[u&&`${u}  `,a(o.timestamp)]})]},l)})})})]})}function lLe({dataType:e,onDataTypeChange:t,onRequestData:n,onPushData:r,readyScoutsCount:a,disabled:s=!1}){const o=l=>{switch(l){case"scouting":return"Scouting";case"pit-scouting":return"Pit Scouting";case"match":return"Match";case"scout":return"Scout Profile";case"combined":return"Combined";default:return l}};return i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsx(Ge,{children:"Data Transfer"}),i.jsx(Fn,{children:"Select data type, then request from or push to scouts"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"dataType",children:"Data Type"}),i.jsxs(Lr,{value:e,onValueChange:t,children:[i.jsx($r,{id:"dataType",children:i.jsx(ia,{placeholder:"Select data type..."})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"scouting",children:"Scouting Data"}),i.jsx(at,{value:"pit-scouting",children:"Pit Scouting"}),i.jsx(at,{value:"match",children:"Match Schedule"}),i.jsx(at,{value:"scout",children:"Scout Profiles"}),i.jsx(at,{value:"combined",children:"Combined (Scouting + Profiles)"})]})]})]}),i.jsxs(Z,{onClick:n,disabled:s||a===0,className:"w-full",size:"lg",children:[i.jsx(No,{className:"h-5 w-5 mr-2"}),"Request ",o(e)," Data (",a," scouts)"]}),i.jsxs(Z,{onClick:r,disabled:s||a===0,className:"w-full",variant:"outline",size:"lg",children:[i.jsx(sm,{className:"h-5 w-5 mr-2"}),"Push ",o(e)," Data to Scouts"]})]})]})}const md=(...e)=>{},cLe=e=>{const t=Math.floor((Date.now()-e)/1e3);if(t<60)return"just now";const n=Math.floor(t/60);if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`};function uLe({scout:e,isRequesting:t,receivedData:n,dataType:r,onRequestData:a,onPushData:s,onDisconnect:o,onAddToHistory:l}){var v;const[c,u]=p.useState(!1),d=((v=e.channel)==null?void 0:v.readyState)==="open",f=n.filter(b=>b.scoutName===e.name),h=f[f.length-1],m=!!h,g=async()=>{u(!0);try{md(" Pushing",r,"data to",e.name);let b;switch(r){case"scouting":{const{loadScoutingData:x}=await _n(async()=>{const{loadScoutingData:w}=await Promise.resolve().then(()=>h1);return{loadScoutingData:w}},void 0);b={entries:await x(),version:"3.0-maneuver-core",exportedAt:Date.now()};break}case"pit-scouting":{const{loadPitScoutingData:x}=await _n(async()=>{const{loadPitScoutingData:w}=await Promise.resolve().then(()=>B7);return{loadPitScoutingData:w}},void 0);b={entries:(await x()).entries,version:"3.0-maneuver-core",exportedAt:Date.now()};break}case"match":{const x=localStorage.getItem("matchData");b={matches:x?JSON.parse(x):[]};break}case"scout":{const{gamificationDB:x}=await _n(async()=>{const{gamificationDB:C}=await Promise.resolve().then(()=>Wv);return{gamificationDB:C}},void 0),y=await x.scouts.toArray(),w=await x.predictions.toArray(),S=await x.scoutAchievements.toArray();b={scouts:y,predictions:w,achievements:S};break}case"combined":{const{loadScoutingData:x}=await _n(async()=>{const{loadScoutingData:k}=await Promise.resolve().then(()=>h1);return{loadScoutingData:k}},void 0),{gamificationDB:y}=await _n(async()=>{const{gamificationDB:k}=await Promise.resolve().then(()=>Wv);return{gamificationDB:k}},void 0),[w,S,C]=await Promise.all([x(),y.scouts.toArray(),y.predictions.toArray()]);b={entries:w,metadata:{exportedAt:new Date().toISOString(),version:"1.0",scoutingEntriesCount:w.length,scoutsCount:S.length,predictionsCount:C.length},scoutProfiles:{scouts:S,predictions:C}};break}}s(e.id,b,r),l({scoutName:e.name,data:{type:"pushed",dataType:r},timestamp:Date.now()}),oe.info(`Pushed ${r} to ${e.name}`)}catch(b){console.error("Failed to push data:",b),oe.error("Failed to push data to "+e.name)}finally{u(!1)}};return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[t?i.jsx(Ba,{className:"h-4 w-4 text-blue-500 animate-spin"}):m?i.jsx(rm,{className:"h-4 w-4 text-green-500"}):d?i.jsx(rm,{className:"h-4 w-4 text-blue-500"}):i.jsx(Uo,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{className:"font-medium",children:e.name})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[t&&i.jsx(Le,{variant:"outline",className:"text-xs text-blue-600 animate-pulse",children:"Receiving..."}),m&&h&&!t&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last received: ",new Date(h.timestamp).toLocaleTimeString()]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{size:"sm",variant:"default",onClick:()=>a(e.id),disabled:!d||t,children:t?"...":"Request"}),i.jsx(Z,{size:"sm",variant:"outline",onClick:g,disabled:!d||c,children:c?"...":"Push"}),i.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>o(e.id),className:"px-2",title:"Disconnect scout",children:i.jsx(Wa,{className:"h-4 w-4"})})]})]})}function dLe({roleName:e,roomCode:t,onDisconnect:n}){return i.jsxs(i.Fragment,{children:[i.jsxs(De,{className:"w-full border-2 border-green-500",children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(rm,{className:"h-5 w-5 text-green-500"}),"Connected as Scout"]}),i.jsx(Fn,{children:"Ready to send data when requested"})]}),i.jsx($e,{children:i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-lg font-semibold",children:e}),i.jsx(Le,{variant:"secondary",className:"mt-2",children:"Ready "}),t&&i.jsxs("div",{className:"mt-4 pt-4 border-t",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Room Code"}),i.jsx("p",{className:"text-2xl font-bold tracking-wider",children:t})]})]})})]}),i.jsx(Z,{onClick:n,variant:"destructive",className:"w-full",size:"lg",children:"Disconnect"})]})}function Kd({className:e,...t}){return i.jsx(JR,{"data-slot":"checkbox",className:Re("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(XR,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:i.jsx(Al,{className:"size-3.5"})})})}const fLe=({data:e,filters:t,onFiltersChange:n,onApplyFilters:r,useCompression:a=!0,filteredData:s,hideQRStats:o=!1,hideApplyButton:l=!1})=>{const c=e?nLe(e):[],u=e?$2(e):{min:1,max:1},d=s||e,f=d?$2(d):{min:1,max:1},h=e&&d?rLe(e,d,a):null,m=sLe(t),g=(y,w)=>{const S={...t};S.matchRange.type=y,y==="preset"&&(S.matchRange.preset=w,delete S.matchRange.customStart,delete S.matchRange.customEnd),n(S)},v=(y,w)=>{const S={...t},C=parseInt(w)||void 0;y==="start"?S.matchRange.customStart=C:S.matchRange.customEnd=C,n(S)},b=(y,w)=>{const S={...t};w?S.teams.selectedTeams=[...S.teams.selectedTeams,y]:S.teams.selectedTeams=S.teams.selectedTeams.filter(C=>C!==y),S.teams.includeAll=S.teams.selectedTeams.length===0,n(S)},x=y=>{const w={...t};y?(w.teams.selectedTeams=[],w.teams.includeAll=!0):(w.teams.selectedTeams=c.slice(0,5),w.teams.includeAll=!1),n(w)};return i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{className:"flex flex-col text-base font-medium items-start",children:"Match Range Filter"}),i.jsxs("div",{className:"space-y-2",children:[!o&&h&&d&&i.jsxs(Mt,{className:"flex flex-col text-green-400 text-sm items-start gap-0",children:["Current dataset: ~",h.estimatedQRCodes," QR codes from ",d.entries.length," entries",s&&e&&i.jsxs("span",{className:"text-muted-foreground",children:[" Original: ",e.entries.length," entries"]})]}),i.jsxs("div",{className:"space-y-2",children:[d&&i.jsxs(Mt,{className:"flex flex-col text-green-400 text-sm items-start gap-0",children:[o?"Available data:":"Data range:"," Match ",f.min," - ",f.max," (",d.entries.length," entries)",s&&i.jsxs("span",{className:"text-muted-foreground",children:["Original: Match ",u.min," - ",u.max]})]}),i.jsxs(Lr,{value:t.matchRange.type==="preset"?t.matchRange.preset:"custom",onValueChange:y=>{y==="custom"?g("custom"):g("preset",y)},children:[i.jsx($r,{children:i.jsx(ia,{placeholder:"Select match range"})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"all",children:"All matches"}),i.jsx(at,{value:"last10",children:"Last 10 matches"}),i.jsx(at,{value:"last15",children:"Last 15 matches"}),i.jsx(at,{value:"last30",children:"Last 30 matches"}),i.jsx(at,{value:"fromLastExport",children:"From last exported match"}),i.jsx(at,{value:"custom",children:"Custom range"})]})]}),t.matchRange.type==="preset"&&t.matchRange.preset==="fromLastExport"&&i.jsx("div",{className:"text-xs text-muted-foreground",children:(()=>{const y=DM();return y?`Will include matches from ${y+1} onwards (last export: match ${y})`:"No previous export found - will include all matches"})()}),t.matchRange.type==="custom"&&i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx(Mt,{className:"text-sm",children:"From:"}),i.jsx(Qt,{type:"number",min:u.min,max:u.max,value:t.matchRange.customStart||"",onChange:y=>v("start",y.target.value),placeholder:u.min.toString(),className:"w-20"}),i.jsx(Mt,{className:"text-sm",children:"To:"}),i.jsx(Qt,{type:"number",min:u.min,max:u.max,value:t.matchRange.customEnd||"",onChange:y=>v("end",y.target.value),placeholder:u.max.toString(),className:"w-20"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Mt,{className:"text-base font-medium",children:"Team Filter"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kd,{id:"select-all-teams",checked:t.teams.includeAll,onCheckedChange:x}),i.jsxs(Mt,{htmlFor:"select-all-teams",className:"text-sm",children:["Include all teams (",c.length," teams)"]})]}),!t.teams.includeAll&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{className:"text-sm text-muted-foreground",children:["Select specific teams (",t.teams.selectedTeams.length," selected):"]}),i.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto border rounded p-2",children:c.map(y=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kd,{id:`team-${y}`,checked:t.teams.selectedTeams.includes(y),onCheckedChange:w=>b(y,w)}),i.jsx(Mt,{htmlFor:`team-${y}`,className:"text-sm",children:y})]},y))})]})]}),!m.valid&&i.jsxs(ar,{variant:"destructive",children:[i.jsx(Mn,{className:"h-4 w-4"}),i.jsx(LC,{children:"Invalid Filter Configuration"}),i.jsx(pr,{children:m.error})]}),!l&&i.jsx(Z,{onClick:r,disabled:!m.valid,className:"w-full mt-4",children:s?"Update Filter":"Apply Filters"})]})},hLe=({connectedScouts:e,receivedData:t,dataType:n,setDataType:r,filters:a,allScoutingData:s,historyCollapsed:o,setHistoryCollapsed:l,requestingScouts:c,setRequestingScouts:u,setImportedDataCount:d,onBack:f,onRequestDataFromScout:h,onRequestDataFromAll:m,onPushData:g,onPushDataToScout:v,onDisconnectScout:b,onAddToHistory:x,onClearHistory:y,onFiltersChange:w,onApplyFilters:S})=>i.jsx("div",{className:"h-screen w-full flex flex-col items-center justify-start px-4 pt-12 pb-24 2xl:pb-6 overflow-y-auto",children:i.jsxs("div",{className:"flex flex-col items-start gap-6 max-w-md w-full",children:[i.jsx(Z,{onClick:f,variant:"ghost",size:"sm",children:" Change Mode"}),i.jsxs("div",{className:"w-full",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Lead Scout Session"}),i.jsx("p",{className:"text-muted-foreground",children:"Scouts connect using the room code below"})]}),i.jsx(HX,{mode:"lead"}),e.length>0&&i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsx(Ge,{children:"Filter Data Request (Optional)"}),i.jsx(Fn,{children:s&&s.length>0?`Request specific data from scouts  Current dataset: ${s.length} entries`:"Request specific data from scouts"})]}),i.jsx($e,{children:i.jsx(fLe,{data:s&&s.length>0?{entries:s,exportedAt:Date.now(),version:"1.0"}:void 0,filters:a,onFiltersChange:w,onApplyFilters:S,useCompression:!1,hideQRStats:!0,hideApplyButton:!0})})]}),i.jsxs(De,{className:"w-full",children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Connected Scouts"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>{console.log(" Refreshing connected scouts state"),u(new Set(c))},children:i.jsx(Ul,{className:"h-4 w-4"})}),i.jsxs(Le,{variant:"secondary",children:[e.length," connected"]})]})]})}),i.jsx($e,{children:e.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx(Uo,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No scouts connected yet"})]}):i.jsx("div",{className:"space-y-2",children:e.map(C=>i.jsx(uLe,{scout:C,isRequesting:c.has(C.id),receivedData:t,dataType:n,onRequestData:k=>{u(N=>new Set(N).add(k)),md(" Requesting",n,"data from",C.name,"with filters:",a),h(k,a,n)},onPushData:v,onDisconnect:k=>{b(k)},onAddToHistory:x},C.id))})})]}),e.length>0&&i.jsx(lLe,{dataType:n,onDataTypeChange:C=>r(C),readyScoutsCount:e.filter(C=>{var k;return((k=C.channel)==null?void 0:k.readyState)==="open"}).length,onRequestData:()=>{const C=e.filter(k=>{var N;return((N=k.channel)==null?void 0:N.readyState)==="open"});u(new Set(C.map(k=>k.id))),d(t.length),m(a,n)},onPushData:()=>g(n,e)}),t.length>0&&i.jsx(oLe,{receivedData:t,historyCollapsed:o,onToggleCollapse:()=>l(!o),onClearHistory:y,getRelativeTime:cLe})]})}),mLe=({myRole:e,onBack:t,onCancel:n})=>{const r=fD(e)||e,{mode:a,connectionStatus:s,roomCode:o}=hf(),l=a==="scout"&&s.includes("Connected");return i.jsx("div",{className:"h-screen w-full flex flex-col items-center justify-start px-4 pt-12 pb-24 2xl:pb-6 overflow-y-auto",children:i.jsxs("div",{className:"flex flex-col items-start gap-6 max-w-md w-full",children:[i.jsx(Z,{onClick:t,variant:"ghost",size:"sm",children:" Change Mode"}),i.jsxs("div",{className:"w-full",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Scout Mode"}),i.jsx("p",{className:"text-muted-foreground",children:"Enter room code below to connect"})]}),i.jsx(HX,{mode:"scout"}),l&&i.jsx(dLe,{roleName:r,roomCode:o,onDisconnect:n})]})})},oj=()=>{const[e,t]=p.useState(null),[n,r]=p.useState(!0);return p.useEffect(()=>{const s=async()=>{try{const l=localStorage.getItem("currentScout");if(l){const c=await bl(l);t(c)}}catch(l){console.error("Error loading current scout:",l)}finally{r(!1)}};s();const o=()=>{s()};return window.addEventListener("storage",o),window.addEventListener("scoutChanged",o),()=>{window.removeEventListener("storage",o),window.removeEventListener("scoutChanged",o)}},[]),{currentScout:e,isLoading:n,refreshScout:async()=>{if(e)try{const{getScout:s}=await _n(async()=>{const{getScout:l}=await Promise.resolve().then(()=>zH);return{getScout:l}},void 0),o=await s(e.name);o&&t(o)}catch(s){console.error("Error refreshing scout:",s)}}}};function HX({mode:e}){const[t,n]=p.useState(""),[r,a]=p.useState(!1),[s,o]=p.useState(!1),[l,c]=p.useState(30),u=p.useRef(null),d=p.useRef(null),{mode:f,connectionStatus:h,roomCode:m,setRoomCode:g,generateRoomCodeForLead:v,signaling:b}=hf(),{currentScout:x}=oj(),y=localStorage.getItem("playerStation")||"Unknown",w=(x==null?void 0:x.name)||"Scout";p.useEffect(()=>{e==="lead"&&!m&&(console.log(" Lead: Generating room code..."),v())},[e,m,v]);const S=p.useRef(!1);p.useEffect(()=>{f==="select"&&(S.current=!1,n(""),o(!1))},[f]),p.useEffect(()=>{if(e==="scout"&&!t&&!S.current){const E=localStorage.getItem("webrtc_scout_room_code");E&&n(E)}},[e,t]),p.useEffect(()=>{h.includes("Connected")&&(console.log(" Connection established, clearing timeout"),u.current&&(clearTimeout(u.current),u.current=null),d.current&&(clearInterval(d.current),d.current=null),o(!1),c(30))},[h]);const C=()=>{m&&(navigator.clipboard.writeText(m),a(!0),oe.success("Room code copied!"),setTimeout(()=>a(!1),2e3))},k=p.useCallback(()=>{localStorage.removeItem("webrtc_scout_room_code"),n(""),S.current=!1,b&&b.leave(),g(null),oe.success("Saved room code cleared")},[b,g]),N=p.useCallback(async()=>{if(!t.trim()||!b){oe.error("Please enter a room code");return}o(!0),c(30),u.current&&clearTimeout(u.current),d.current&&clearInterval(d.current);try{localStorage.setItem("webrtc_scout_room_code",t),g(t),oe.success(`Joining room ${t}...`),d.current=setInterval(()=>{c(E=>E<=1?(d.current&&(clearInterval(d.current),d.current=null),0):E-1)},1e3),u.current=setTimeout(async()=>{console.log(" Lead scout not found in room - timeout fired"),oe.error("Lead scout not found in room. Make sure lead has the page open."),o(!1),c(30),d.current&&(clearInterval(d.current),d.current=null),b&&(console.log(" Leaving signaling room after timeout"),await b.leave()),g(null)},3e4)}catch(E){console.error("Failed to join room:",E),oe.error("Failed to join room"),o(!1),c(30),d.current&&(clearInterval(d.current),d.current=null)}},[t,b,g]);if(p.useEffect(()=>{e==="scout"&&t&&!s&&b&&!b.connected&&!S.current&&localStorage.getItem("webrtc_scout_room_code")===t&&(console.log(" Component: Auto-joining with UI feedback"),S.current=!0,setTimeout(()=>{N()},500))},[e,t,s,b,N]),e==="lead")return i.jsxs(De,{className:"w-full max-w-md mx-auto",children:[i.jsxs(Ke,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ge,{children:"Room Code"}),b!=null&&b.connected?i.jsxs(Le,{variant:"default",className:"gap-1",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Room Active"]}):i.jsxs(Le,{variant:"secondary",children:[i.jsx(Ba,{className:"h-3 w-3 animate-spin mr-1"}),"Starting Room..."]})]}),i.jsx(Fn,{children:"Share this code with scouts to connect"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 p-4 bg-primary/10 rounded-lg text-center",children:i.jsx("div",{className:"text-3xl font-bold tracking-wider text-primary",children:m})}),i.jsx(Z,{variant:"outline",size:"icon",onClick:C,title:"Copy room code",children:r?i.jsx(Al,{className:"h-4 w-4"}):i.jsx(Sde,{className:"h-4 w-4"})})]}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>{v(),oe.success("New room code generated")},className:"w-full text-xs",children:"Generate New Code"})]})]});const P=f==="scout"&&h.includes("Connected");return e==="scout"&&P?null:i.jsxs(De,{className:"w-full max-w-md mx-auto",children:[i.jsxs(Ke,{children:[i.jsx(Ge,{children:"Join Room"}),i.jsx(Fn,{children:"Enter the 6-digit room code from your lead scout"}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsx(Le,{variant:"secondary",children:w}),i.jsx(Le,{variant:"outline",children:y})]})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Room Code"}),t&&i.jsx(Z,{variant:"ghost",size:"sm",onClick:k,className:"h-auto py-1 px-2 text-xs",children:"Clear Saved"})]}),i.jsx(Qt,{placeholder:"e.g., 582943",value:t,onChange:E=>{const R=E.target.value.replace(/\D/g,"").slice(0,6);n(R)},onKeyDown:E=>{E.key==="Enter"&&t.length===6&&!(s&&(b!=null&&b.connected))&&N()},disabled:s&&(b==null?void 0:b.connected),className:"text-center text-3xl font-bold tracking-wider",maxLength:6,inputMode:"numeric"})]}),i.jsx(Z,{className:"w-full",onClick:N,disabled:t.length!==6||s&&(b==null?void 0:b.connected),children:s&&(b!=null&&b.connected)?i.jsxs(i.Fragment,{children:[i.jsx(Ba,{className:"h-4 w-4 animate-spin mr-2"}),b.connected?"Establishing Connection...":"Connecting..."]}):"Join Room"}),s&&l>0&&i.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Waiting for lead scout... (",l,"s)"]}),(b==null?void 0:b.error)&&i.jsx("p",{className:"text-sm text-destructive",children:b.error})]})]})}const cy=N_e,pLe=k_e,YX=p.forwardRef(({className:e,...t},n)=>i.jsx(MZ,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));YX.displayName=MZ.displayName;const wm=p.forwardRef(({className:e,...t},n)=>i.jsxs(pLe,{children:[i.jsx(YX,{}),i.jsx(IZ,{ref:n,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));wm.displayName=IZ.displayName;const Sm=({className:e,...t})=>i.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",e),...t});Sm.displayName="AlertDialogHeader";const lj=({className:e,...t})=>i.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lj.displayName="AlertDialogFooter";const Cm=p.forwardRef(({className:e,...t},n)=>i.jsx($Z,{ref:n,className:Re("text-lg font-semibold",e),...t}));Cm.displayName=$Z.displayName;const jm=p.forwardRef(({className:e,...t},n)=>i.jsx(FZ,{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));jm.displayName=FZ.displayName;const cj=p.forwardRef(({className:e,...t},n)=>i.jsx(OZ,{ref:n,className:Re(n1(),e),...t}));cj.displayName=OZ.displayName;const RM=p.forwardRef(({className:e,...t},n)=>i.jsx(LZ,{ref:n,className:Re(n1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));RM.displayName=LZ.displayName;function gLe({open:e,onOpenChange:t,errorMessage:n}){return i.jsx(cy,{open:e,onOpenChange:t,children:i.jsxs(wm,{children:[i.jsxs(Sm,{children:[i.jsx(Cm,{children:"Error"}),i.jsx(jm,{className:"whitespace-pre-wrap",children:n})]}),i.jsx(lj,{children:i.jsx(cj,{className:"p-2",onClick:()=>t(!1),children:"OK"})})]})})}const Yf=(...e)=>{};function vLe({addToReceivedData:e,pushDataToAll:t}){const n=p.useCallback(async a=>{switch(a){case"scouting":{const{loadScoutingData:s}=await _n(async()=>{const{loadScoutingData:l}=await Promise.resolve().then(()=>h1);return{loadScoutingData:l}},void 0),o=await s();return Yf("Loaded scouting data:",o.length,"entries"),{entries:o,version:"3.0-maneuver-core",exportedAt:Date.now()}}case"pit-scouting":{const{loadPitScoutingData:s}=await _n(async()=>{const{loadPitScoutingData:l}=await Promise.resolve().then(()=>B7);return{loadPitScoutingData:l}},void 0),o=await s();return Yf("Loaded pit scouting data:",o.entries.length,"entries"),{entries:o.entries,version:"3.0-maneuver-core",exportedAt:Date.now()}}case"match":{const s=localStorage.getItem("matchData"),o=s?JSON.parse(s):[];return Yf("Loaded match data:",Array.isArray(o)?o.length:0,"matches"),{matches:o}}case"scout":{const{gamificationDB:s}=await _n(async()=>{const{gamificationDB:u}=await Promise.resolve().then(()=>Wv);return{gamificationDB:u}},void 0),o=await s.scouts.toArray(),l=await s.predictions.toArray(),c=await s.scoutAchievements.toArray();return Yf("Loaded scout profiles:",o.length,"scouts"),{scouts:o,predictions:l,achievements:c}}case"combined":{const{loadScoutingData:s}=await _n(async()=>{const{loadScoutingData:f}=await Promise.resolve().then(()=>h1);return{loadScoutingData:f}},void 0),{gamificationDB:o}=await _n(async()=>{const{gamificationDB:f}=await Promise.resolve().then(()=>Wv);return{gamificationDB:f}},void 0),[l,c,u]=await Promise.all([s(),o.scouts.toArray(),o.predictions.toArray()]),d={entries:l,metadata:{exportedAt:new Date().toISOString(),version:"1.0",scoutingEntriesCount:l.length,scoutsCount:c.length,predictionsCount:u.length},scoutProfiles:{scouts:c,predictions:u}};return Yf("Loaded combined data:",{scouting:l.length,scouts:c.length,predictions:u.length}),d}default:throw new Error(`Unknown data type: ${a}`)}},[]);return{pushData:p.useCallback(async(a,s)=>{try{Yf(" Pushing",a,"data to all scouts");const o=await n(a);t(o,a);const l=s.filter(c=>{var u;return((u=c.channel)==null?void 0:u.readyState)==="open"});l.forEach(c=>{e({scoutName:c.name,data:{type:"pushed",dataType:a},timestamp:Date.now()})}),oe.success(`Pushed ${a} data to ${l.length} scouts`)}catch(o){console.error("Failed to push data:",o),oe.error("Failed to push data: "+(o instanceof Error?o.message:"Unknown error"))}},[n,t,e]),loadDataByType:n}}function yLe(e){const{receivedData:t,importedDataCount:n,setImportedDataCount:r,connectedScouts:a,setRequestingScouts:s,setBatchReviewEntries:o,setPendingConflicts:l,setShowBatchDialog:c,setCurrentConflicts:u,setCurrentConflictIndex:d,setConflictResolutions:f,setShowConflictDialog:h,setErrorMessage:m,setShowErrorDialog:g}=e,v=p.useCallback(async w=>{const{gamificationDB:S}=await _n(async()=>{const{gamificationDB:k}=await Promise.resolve().then(()=>Wv);return{gamificationDB:k}},void 0);let C=0;return w.scouts&&Array.isArray(w.scouts)&&(await S.scouts.bulkPut(w.scouts),C+=w.scouts.length,console.log(` Imported ${w.scouts.length} scouts`)),w.predictions&&Array.isArray(w.predictions)&&(await S.predictions.bulkPut(w.predictions),C+=w.predictions.length,console.log(` Imported ${w.predictions.length} predictions`)),w.achievements&&Array.isArray(w.achievements)&&(await S.scoutAchievements.bulkPut(w.achievements),C+=w.achievements.length,console.log(` Imported ${w.achievements.length} achievements`)),C},[]),b=p.useCallback(async(w,S)=>{w.matches&&Array.isArray(w.matches)&&(localStorage.setItem("matchData",JSON.stringify(w.matches)),oe.success(`Imported ${w.matches.length} matches from ${S}`))},[]),x=p.useCallback(async(w,S)=>{if(w.entries&&Array.isArray(w.entries)){const{pitDB:C}=await _n(async()=>{const{pitDB:k}=await Promise.resolve().then(()=>Vi);return{pitDB:k}},void 0);await C.pitScoutingData.bulkPut(w.entries),oe.success(`Imported ${w.entries.length} pit scouting entries from ${S}`)}},[]),y=p.useCallback(async(w,S)=>{console.log(" Incoming data count:",w.length),console.log(" Sample entry:",w[0]);const C=w[0];C&&console.log(" Key fields check:",{hasId:!!C.id,hasMatchNumber:"matchNumber"in C,hasTeamNumber:"teamNumber"in C,hasAlliance:"allianceColor"in C,hasEventKey:"eventKey"in C});const{db:k}=await _n(async()=>{const{db:G}=await Promise.resolve().then(()=>Vi);return{db:G}},void 0),N=await k.scoutingData.count();console.log(" Local database count BEFORE import:",N);const P=performance.now(),E=await IR(w),R=performance.now();md(` Conflict detection took ${(R-P).toFixed(2)}ms`),console.log(" Conflict detection results:",{autoImport:E.autoImport.length,autoReplace:E.autoReplace.length,batchReview:E.batchReview.length,conflicts:E.conflicts.length});const{saveScoutingEntry:O}=await _n(async()=>{const{saveScoutingEntry:G}=await Promise.resolve().then(()=>Vi);return{saveScoutingEntry:G}},void 0),K={added:0,replaced:0,conflictsToReview:0};if(E.autoImport.length>0){for(const G of E.autoImport)await O(G);K.added=E.autoImport.length}if(E.autoReplace.length>0){for(const G of E.autoReplace){const z=G.matchNumber,U=G.teamNumber,M=G.allianceColor,$=G.eventKey,B=await k.scoutingData.toArray().then(te=>te.find(q=>q.matchNumber===z&&q.teamNumber===U&&q.allianceColor===M&&q.eventKey===$));B&&await k.scoutingData.delete(B.id),await O(G)}K.replaced=E.autoReplace.length}if(E.batchReview.length>0)return o(E.batchReview),l(E.conflicts),c(!0),oe.success(`Imported ${K.added} new entries, Replaced ${K.replaced} existing entries. ${E.batchReview.length} duplicates need review.`),{needsUserAction:!0};if(E.conflicts.length>0)return K.conflictsToReview=E.conflicts.length,u(E.conflicts),d(0),f(new Map),oe.success(`Imported ${K.added} new entries, Replaced ${K.replaced} existing entries. ${K.conflictsToReview} conflicts need review.`),h(!0),{needsUserAction:!0};console.log(` SUCCESS: Imported ${S}'s data (${w.length} entries) into database`);const J=K.added+K.replaced+K.conflictsToReview,Q=w.length-J;return Q>0&&J===0?oe.info(`All ${Q} entries from ${S} already exist (skipped as duplicates)`):Q>0?oe.success(`Import complete! ${K.added} new, ${K.replaced} replaced, ${Q} duplicates skipped.`):oe.success(`Import complete! ${K.added} new entries, ${K.replaced} entries replaced.`),{needsUserAction:!1}},[o,l,c,u,d,f,h]);p.useEffect(()=>{var w;if(t.length>n){const S=t[t.length-1];if(!S){r(t.length);return}const C=S.data;if(C.type==="declined"){oe.error(`${S.scoutName} declined the data request`),r(t.length);return}if(C.type==="push-declined"){const R=C.dataType||"data";oe.warning(`${S.scoutName} declined pushed ${R}`),r(t.length);return}if(C.type==="pushed"){md(` Push confirmation logged for ${S.scoutName}`),r(t.length);return}const k=S.data,N=S.dataType;console.log(` Received data from ${S.scoutName}, type: ${N}:`,k),console.log("Received data size:",JSON.stringify(k).length,"characters");const P=(w=a.find(R=>R.name===S.scoutName))==null?void 0:w.id;P&&s(R=>{const O=new Set(R);return O.delete(P),O}),(async()=>{md(` Attempting to import ${N} data from ${S.scoutName}...`);try{if(N==="scout"){const Q=await v(k);Q>0?oe.success(`Imported ${Q} scout profile items from ${S.scoutName}`):oe.warning(`No scout profile data to import from ${S.scoutName}`),r(t.length);return}if(N==="match"){await b(k,S.scoutName),r(t.length);return}if(N==="pit-scouting"){await x(k,S.scoutName),r(t.length);return}const R=k,O=R.entries;if(!O){console.error("No valid entries found in received data"),oe.error(`Invalid data structure from ${S.scoutName}`),r(t.length);return}if(N==="combined"&&R.scoutProfiles){const J=await v(R.scoutProfiles);console.log(` Combined data: imported ${J} profile items`)}(await y(O,S.scoutName)).needsUserAction,r(t.length)}catch(R){console.error(` FAILED to import data from ${S.scoutName}:`,R),m(`Failed to import data from ${S.scoutName}: ${R instanceof Error?R.message:"Unknown error"}`),g(!0)}})()}},[t,n,a,r,s,v,b,x,y,m,g])}const xLe=()=>{const{mode:e,setMode:t,signaling:n}=hf(),r=e,a=t,[s,o]=p.useState(0),[l,c]=p.useState(new Set),[u,d]=p.useState(!1),[f,h]=p.useState(aLe()),[m,g]=p.useState(null),[v,b]=p.useState("scouting"),[x,y]=p.useState(!1),[w,S]=p.useState(""),[C,k]=p.useState(!1),[N,P]=p.useState([]),[E,R]=p.useState([]),{showConflictDialog:O,setShowConflictDialog:K,currentConflicts:J,setCurrentConflicts:Q,currentConflictIndex:G,setCurrentConflictIndex:z,setConflictResolutions:U,handleConflictResolution:M,handleBatchResolve:$,handleUndo:B,canUndo:te,handleBatchReviewDecision:q,isProcessing:ae}=_M(),he=localStorage.getItem("playerStation")||"unknown",{connectedScouts:je,receivedData:Ee,clearReceivedData:me,addToReceivedData:Ve,shouldAttemptReconnect:ne,setShouldAttemptReconnect:ke,requestDataFromScout:we,requestDataFromAll:re,pushDataToAll:He,pushDataToScout:Oe,disconnectScout:Xe,reset:Fe}=eLe(),{pushData:Se}=vLe({addToReceivedData:Ve,pushDataToAll:He});yLe({receivedData:Ee,importedDataCount:s,setImportedDataCount:o,connectedScouts:je,setRequestingScouts:c,setBatchReviewEntries:P,setPendingConflicts:R,setShowBatchDialog:k,setCurrentConflicts:Q,setCurrentConflictIndex:z,setConflictResolutions:U,setShowConflictDialog:K,setErrorMessage:S,setShowErrorDialog:y}),p.useEffect(()=>{var ct;if(Ee.length>s){const Ft=Ee[Ee.length-1];if(!Ft)return;const nn=(ct=je.find(Et=>Et.name===Ft.scoutName))==null?void 0:ct.id;nn&&l.has(nn)&&(md(` Clearing requesting state for ${Ft.scoutName}`),c(Et=>{const Lt=new Set(Et);return Lt.delete(nn),Lt}))}},[Ee,s,je,l]),p.useEffect(()=>{r==="lead"&&Yi().then(ct=>g(ct)).catch(ct=>{console.error("Failed to load scouting data for filter preview:",ct)})},[r]);const de=ct=>{h(ct)},ve=()=>{},Nt=async ct=>{const Ft=await q(N,E,ct);md(` hasMoreConflicts: ${Ft.hasMoreConflicts}`),k(!1),Ft.hasMoreConflicts||(P([]),R([]),me(),o(0))};p.useEffect(()=>{const ct=()=>{oe.error("Lead has disconnected you"),Fe(),a("select")};return window.addEventListener("webrtc-disconnected-by-lead",ct),()=>{window.removeEventListener("webrtc-disconnected-by-lead",ct)}},[Fe,a]);const We=p.useRef(r);p.useEffect(()=>{r==="select"&&We.current!=="select"&&Fe(),We.current=r},[r]),p.useEffect(()=>{if(ne&&r==="scout"){const ct=localStorage.getItem("webrtc_scout_room_code");ct?(console.log(" Connection lost. Will auto-rejoin room:",ct),oe.info(`Connection lost. Rejoining room ${ct}...`,{duration:3e3}),n!=null&&n.connected&&(console.log(" Sending new join message after connection loss"),n.join())):(console.log(" Connection lost. No saved room code."),oe.info("Connection lost. Please rejoin the room code to reconnect.",{duration:5e3}),a("select"),Fe()),ke(!1)}},[ne,r,ke,Fe,a,n]);const kt=()=>r==="select"?i.jsx(iLe,{onSelectLead:()=>{a("lead")},onSelectScout:()=>a("scout")}):r==="lead"?i.jsx(hLe,{connectedScouts:je,receivedData:Ee,dataType:v,setDataType:b,filters:f,allScoutingData:m,historyCollapsed:u,setHistoryCollapsed:d,requestingScouts:l,setRequestingScouts:c,setImportedDataCount:o,onBack:()=>a("select"),onRequestDataFromScout:we,onRequestDataFromAll:re,onPushData:Se,onPushDataToScout:Oe,onDisconnectScout:ct=>{var Ft;Xe(ct),oe.info(`Disconnected ${(Ft=je.find(nn=>nn.id===ct))==null?void 0:Ft.name}`)},onAddToHistory:Ve,onClearHistory:me,onFiltersChange:de,onApplyFilters:ve}):r==="scout"?i.jsx(mLe,{myRole:he,onBack:()=>a("select"),onCancel:()=>{Fe(),a("select")}}):null;return i.jsxs(i.Fragment,{children:[kt(),i.jsx(gLe,{open:x,onOpenChange:y,errorMessage:w}),i.jsx(T1,{isOpen:C,entries:N,onResolve:Nt,isProcessing:ae}),i.jsx(E1,{open:O,onOpenChange:K,conflict:J[G]||null,currentIndex:G,totalConflicts:J.length,onResolve:M,onBatchResolve:$,onUndo:B,canUndo:te,isProcessing:ae})]})},bLe=()=>{const[e,t]=p.useState("select"),[n,r]=p.useState("scouting"),[a,s]=p.useState(!1),[o,l]=p.useState([]),[c,u]=p.useState([]),{showConflictDialog:d,setShowConflictDialog:f,currentConflicts:h,setCurrentConflicts:m,currentConflictIndex:g,setCurrentConflictIndex:v,setConflictResolutions:b,handleConflictResolution:x,handleBatchResolve:y,handleUndo:w,canUndo:S,handleBatchReviewDecision:C}=_M(),k=async z=>{await x(z),g>=h.length-1&&t("select")},N=async z=>{await y(z),t("select")},P=async z=>{(await C(o,c,z)).hasMoreConflicts?s(!1):(s(!1),l([]),u([]),t("select"))},E=p.useCallback(async z=>{const U=z;if(!U.entries||!Array.isArray(U.entries)){oe.error("Invalid scouting data format");return}const M=await L2({entries:U.entries,version:U.version||"3.0-maneuver-core",exportedAt:U.exportedAt||Date.now()},"smart-merge");if(M.hasBatchReview&&M.batchReviewEntries){l(M.batchReviewEntries),u(M.conflicts||[]),s(!0);return}if(M.hasConflicts&&M.conflicts){m(M.conflicts),v(0),b(new Map),f(!0);return}t("select")},[m,v,b,f]),O={scouting:{loadData:async()=>await KE(),saveData:E,validateData:z=>{const U=z;return!!(U.entries&&Array.isArray(U.entries))},getDataSummary:z=>{var M;return`${((M=z.entries)==null?void 0:M.length)||0} scouting entries`},title:"Scouting Data",description:"Transfer match scouting data between devices",noDataMessage:"No scouting data found. Scout some matches first!",completionMessage:"Scouting data imported successfully!",expectedPacketType:"scouting_fountain_packet"},"pit-scouting":{loadData:async()=>({entries:(await Xm()).entries.map(M=>{const{robotPhoto:$,...B}=M;return B}),version:"3.0-maneuver-core",exportedAt:Date.now()}),saveData:async z=>{const U=z;U.entries&&Array.isArray(U.entries)&&(await qs.pitScoutingData.bulkPut(U.entries),oe.success(`Successfully imported ${U.entries.length} pit scouting entries`))},validateData:z=>{const U=z;return!!(U.entries&&Array.isArray(U.entries))},getDataSummary:z=>{var M;return`${((M=z.entries)==null?void 0:M.length)||0} pit scouting entries (text only, no images)`},title:"Pit Scouting Data",description:"Transfer pit scouting data (text only, no images)",noDataMessage:"No pit scouting data found. Complete some pit scouting first!",completionMessage:"Pit scouting data imported successfully!",expectedPacketType:"pit-scouting_fountain_packet"},match:{loadData:async()=>{const z=localStorage.getItem("matchData");return{matches:z?JSON.parse(z):[]}},saveData:async z=>{const U=z;U.matches&&Array.isArray(U.matches)&&(localStorage.setItem("matchData",JSON.stringify(U.matches)),oe.success(`Successfully imported ${U.matches.length} matches`))},validateData:z=>{const U=z;return!!(U.matches&&Array.isArray(U.matches))},getDataSummary:z=>{var M;return`${((M=z.matches)==null?void 0:M.length)||0} matches`},title:"Match Schedule",description:"Transfer match schedule data between devices",noDataMessage:"No match data found. Load a schedule first!",completionMessage:"Match schedule imported successfully!",expectedPacketType:"match_fountain_packet"},scout:{loadData:async()=>{const z=await nt.scouts.toArray(),U=await nt.predictions.toArray(),M=await nt.scoutAchievements.toArray();return{scouts:z,predictions:U,achievements:M}},saveData:async z=>{const U=z;let M=0;if(U.scouts)for(const $ of U.scouts)await nt.scouts.put($),M++;if(U.predictions)for(const $ of U.predictions)await nt.predictions.put($);if(U.achievements)for(const $ of U.achievements)await nt.scoutAchievements.put($);oe.success(`Successfully imported ${M} scout profiles`)},validateData:z=>{const U=z;return!!(U.scouts&&Array.isArray(U.scouts))},getDataSummary:z=>{var M,$;const U=z;return`${((M=U.scouts)==null?void 0:M.length)||0} scouts, ${(($=U.predictions)==null?void 0:$.length)||0} predictions`},title:"Scout Profiles",description:"Transfer scout profiles and achievements",noDataMessage:"No scout profiles found. Create some scout profiles first!",completionMessage:"Scout profiles imported successfully!",expectedPacketType:"scout_fountain_packet"},combined:{loadData:async()=>{const z=await KE(),U=await nt.scouts.toArray(),M=await nt.predictions.toArray();return{entries:z.entries,scoutProfiles:{scouts:U,predictions:M},metadata:{exportedAt:new Date().toISOString(),version:"3.0-maneuver-core"}}},saveData:async z=>{var M,$;const U=z;if(U.entries&&Array.isArray(U.entries)){const B=await L2({entries:U.entries,version:"3.0-maneuver-core",exportedAt:Date.now()},"smart-merge");B.hasBatchReview&&B.batchReviewEntries?(l(B.batchReviewEntries),u(B.conflicts||[]),s(!0)):B.hasConflicts&&B.conflicts&&(m(B.conflicts),v(0),b(new Map),f(!0))}if((M=U.scoutProfiles)!=null&&M.scouts)for(const B of U.scoutProfiles.scouts)await nt.scouts.put(B);if(($=U.scoutProfiles)!=null&&$.predictions)for(const B of U.scoutProfiles.predictions)await nt.predictions.put(B)},validateData:z=>{const U=z;return!!(U.entries&&Array.isArray(U.entries))},getDataSummary:z=>{var B,te,q;const U=z,M=((B=U.entries)==null?void 0:B.length)||0,$=((q=(te=U.scoutProfiles)==null?void 0:te.scouts)==null?void 0:q.length)||0;return`${M} entries, ${$} scout profiles`},title:"Combined Data",description:"Transfer scouting data and scout profiles together",noDataMessage:"No data found. Scout some matches or create profiles first!",completionMessage:"Combined data imported successfully!",expectedPacketType:"combined_fountain_packet"}}[n],K=p.useCallback(()=>O.loadData(),[O]),J=p.useCallback(z=>O.saveData(z),[O]),Q=p.useCallback(z=>O.validateData(z),[O]),G=p.useCallback(z=>O.getDataSummary(z),[O]);return e==="generate"?i.jsx(o2e,{onBack:()=>t("select"),onSwitchToScanner:()=>t("scan"),dataType:n,loadData:K,title:O.title,description:O.description,noDataMessage:O.noDataMessage}):e==="scan"?i.jsxs(i.Fragment,{children:[i.jsx(jTe,{onBack:()=>t("select"),onSwitchToGenerator:()=>t("generate"),dataType:n,expectedPacketType:O.expectedPacketType,saveData:J,validateData:Q,getDataSummary:G,title:O.title,description:O.description,completionMessage:O.completionMessage}),i.jsx(T1,{isOpen:a,entries:o,onResolve:P}),i.jsx(E1,{open:d,onOpenChange:f,conflict:h[g]||null,currentIndex:g,totalConflicts:h.length,onResolve:k,onBatchResolve:N,onUndo:w,canUndo:S})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-screen w-full flex flex-col items-center px-4 pt-12 pb-24",children:i.jsxs("div",{className:"flex flex-col items-start gap-4 max-w-md w-full",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"QR Data Transfer"}),i.jsx("p",{className:"text-muted-foreground",children:"Transfer large data files using fountain codes. Scan packets in any order until reconstruction is complete. Note: Pit scouting transfers include text data only - use JSON transfer for images."}),i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsx(Ge,{className:"text-lg",children:"Select Data Type"}),i.jsx(Fn,{children:"Choose what type of data you want to transfer"})]}),i.jsx($e,{children:i.jsxs(Lr,{value:n,onValueChange:z=>r(z),children:[i.jsx($r,{className:"w-full",children:i.jsx(ia,{placeholder:"Select data type"})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"combined",children:"Combined (Scouting + Profiles)"}),i.jsx(at,{value:"scouting",children:"Scouting Data"}),i.jsx(at,{value:"pit-scouting",children:"Pit Scouting Data (no images)"}),i.jsx(at,{value:"match",children:"Match Schedule Data"}),i.jsx(at,{value:"scout",children:"Scout Profiles"})]})]})})]}),i.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[i.jsx(Z,{onClick:()=>t("generate"),className:"w-full h-16 text-xl",children:"Generate Fountain Codes"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Or,{className:"flex-1"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"OR"}),i.jsx(Or,{className:"flex-1"})]}),i.jsx(Z,{onClick:()=>t("scan"),variant:"outline",className:"w-full h-16 text-xl",children:"Scan Fountain Codes"})]}),i.jsxs("div",{className:"text-xs text-muted-foreground text-start space-y-1",children:[i.jsx("p",{children:" Codes can be scanned in any order"}),i.jsx("p",{children:" No need to receive all codes"}),i.jsx("p",{children:" Automatic reconstruction when enough data is received"}),i.jsx("p",{children:" Smart merge with conflict detection for scouting data"}),i.jsx("p",{children:" Use JSON or Wifi Data Transfer for robot photos"})]})]})}),i.jsx(T1,{isOpen:a,entries:o,onResolve:P}),i.jsx(E1,{open:d,onOpenChange:f,conflict:h[g]||null,currentIndex:g,totalConflicts:h.length,onResolve:k,onBatchResolve:N,onUndo:w,canUndo:S})]})},QX=p.createContext(void 0);function wLe(){const e=p.useContext(QX);if(!e)throw new Error("useMotionHighlight must be used within a MotionHighlightProvider");return e}function SLe({ref:e,...t}){const{children:n,value:r,defaultValue:a,onValueChange:s,className:o,transition:l={type:"spring",stiffness:350,damping:35},hover:c=!1,enabled:u=!0,controlledItems:d,disabled:f=!1,exitDelay:h=.2,mode:m="children"}=t,g=p.useRef(null);p.useImperativeHandle(e,()=>g.current);const[v,b]=p.useState(r??a??null),[x,y]=p.useState(null),[w,S]=p.useState(""),C=p.useCallback(R=>{b(O=>O===R?O:R),R!==v&&(s==null||s(R))},[v,s]),k=p.useCallback(R=>{if(!g.current)return;const O=(t==null?void 0:t.boundsOffset)??{top:0,left:0,width:0,height:0},K=g.current.getBoundingClientRect(),J={top:R.top-K.top+(O.top??0),left:R.left-K.left+(O.left??0),width:R.width+(O.width??0),height:R.height+(O.height??0)};y(Q=>Q&&Q.top===J.top&&Q.left===J.left&&Q.width===J.width&&Q.height===J.height?Q:J)},[t]),N=p.useCallback(()=>{y(R=>R===null?R:null)},[]);p.useEffect(()=>{r!==void 0?b(r):a!==void 0&&b(a)},[r,a]);const P=p.useId();p.useEffect(()=>{if(m!=="parent")return;const R=g.current;if(!R)return;const O=()=>{if(!v)return;const K=R.querySelector(`[data-value="${v}"][data-highlight="true"]`);K&&k(K.getBoundingClientRect())};return R.addEventListener("scroll",O,{passive:!0}),()=>R.removeEventListener("scroll",O)},[m,v,k]);const E=p.useCallback(R=>m==="parent"?i.jsxs("div",{ref:g,"data-slot":"motion-highlight-container",className:Re("relative",t==null?void 0:t.containerClassName),children:[i.jsx(hd,{initial:!1,children:x&&i.jsx($a.div,{"data-slot":"motion-highlight",animate:{top:x.top,left:x.left,width:x.width,height:x.height,opacity:1},initial:{top:x.top,left:x.left,width:x.width,height:x.height,opacity:0},exit:{opacity:0,transition:{...l,delay:((l==null?void 0:l.delay)??0)+(h??0)}},transition:l,className:Re("absolute bg-muted z-0",o,w)})}),R]}):R,[m,t,x,l,h,o,w]);return i.jsx(QX.Provider,{value:{mode:m,activeValue:v,setActiveValue:C,id:P,hover:c,className:o,transition:l,disabled:f,enabled:u,exitDelay:h,setBounds:k,clearBounds:N,activeClassName:w,setActiveClassName:S,forceUpdateBounds:t==null?void 0:t.forceUpdateBounds},children:u?E(d?n:p.Children.map(n,(R,O)=>i.jsx(ZX,{className:t==null?void 0:t.itemsClassName,children:R},O))):n})}function yA(e,t){return Object.keys(t).reduce((n,r)=>(e.props[r]===void 0&&(n[r]=t[r]),n),{})}function ZX({ref:e,children:t,id:n,value:r,className:a,transition:s,disabled:o=!1,activeClassName:l,exitDelay:c,asChild:u=!1,forceUpdateBounds:d,...f}){var $,B;const h=p.useId(),{activeValue:m,setActiveValue:g,mode:v,setBounds:b,clearBounds:x,hover:y,enabled:w,className:S,transition:C,id:k,disabled:N,exitDelay:P,forceUpdateBounds:E,setActiveClassName:R}=wLe(),O=t,K=n??r??(($=O.props)==null?void 0:$["data-value"])??((B=O.props)==null?void 0:B.id)??h,J=m===K,Q=o===void 0?N:o,G=s??C,z=p.useRef(null);if(p.useImperativeHandle(e,()=>z.current),p.useEffect(()=>{if(v!=="parent")return;let te,q=null;const ae=d===!0||E&&d!==!1,he=()=>{if(!z.current)return;const je=z.current.getBoundingClientRect();if(ae){if(q&&q.top===je.top&&q.left===je.left&&q.width===je.width&&q.height===je.height){te=requestAnimationFrame(he);return}q=je,te=requestAnimationFrame(he)}b(je)};if(J?(he(),R(l??"")):m||x(),ae)return()=>cancelAnimationFrame(te)},[v,J,m,b,x,l,R,d,E]),!p.isValidElement(t))return t;const U={"data-active":J?"true":"false","aria-selected":J,"data-disabled":Q,"data-value":K,"data-highlight":!0},M=y?{onMouseEnter:te=>{var q,ae;g(K),(ae=(q=O.props).onMouseEnter)==null||ae.call(q,te)},onMouseLeave:te=>{var q,ae;g(null),(ae=(q=O.props).onMouseLeave)==null||ae.call(q,te)}}:{onClick:te=>{var q,ae;g(K),(ae=(q=O.props).onClick)==null||ae.call(q,te)}};return u?v==="children"?p.cloneElement(O,{key:K,ref:z,className:Re("relative",O.props.className),...yA(O,{...U,"data-slot":"motion-highlight-item-container"}),...M,...f},i.jsxs(i.Fragment,{children:[i.jsx(hd,{initial:!1,children:J&&!Q&&i.jsx($a.div,{layoutId:`transition-background-${k}`,"data-slot":"motion-highlight",className:Re("absolute inset-0 bg-muted z-0",S,l),transition:G,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...G,delay:((G==null?void 0:G.delay)??0)+(c??P??0)}},...U})}),i.jsx("div",{"data-slot":"motion-highlight-item",className:Re("relative z-[1]",a),...U,children:t})]})):p.cloneElement(O,{ref:z,...yA(O,{...U,"data-slot":"motion-highlight-item"}),...M}):w?i.jsxs("div",{ref:z,"data-slot":"motion-highlight-item-container",className:Re(v==="children"&&"relative",a),...U,...f,...M,children:[v==="children"&&i.jsx(hd,{initial:!1,children:J&&!Q&&i.jsx($a.div,{layoutId:`transition-background-${k}`,"data-slot":"motion-highlight",className:Re("absolute inset-0 bg-muted z-0",S,l),transition:G,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...G,delay:((G==null?void 0:G.delay)??0)+(c??P??0)}},...U})}),p.cloneElement(O,{className:Re("relative z-[1]",O.props.className),...yA(O,{...U,"data-slot":"motion-highlight-item"})})]},K):t}function pu({className:e,enableSwipe:t=!1,value:n,onValueChange:r,...a}){const s=p.useRef(null),o=c=>{if(!t)return;const u=c.touches[0];u&&(s.current={x:u.clientX,y:u.clientY})},l=c=>{if(!t||!s.current||!n||!r)return;const u=c.changedTouches[0];if(!u)return;const d=u.clientX-s.current.x,f=u.clientY-s.current.y;if(Math.abs(d)>Math.abs(f)&&Math.abs(d)>50){ml.light();const h=c.currentTarget.querySelector('[data-slot="tabs-list"]');if(!h)return;const g=Array.from(h.querySelectorAll('[data-slot="tabs-trigger"]')).map(y=>{const w=y.getAttribute("value"),S=y.getAttribute("data-value"),C=y.getAttribute("id");return w||S||(C&&C.includes("trigger-")?C.split("trigger-")[1]:null)}).filter(Boolean),v=g.indexOf(n);if(v===-1)return;let b;d>0?b=v>0?v-1:g.length-1:b=v<g.length-1?v+1:0;const x=g[b];typeof x=="string"&&r(x)}s.current=null};return i.jsx(nJ,{"data-slot":"tabs",className:Re("flex flex-col gap-2",e),onTouchStart:o,onTouchEnd:l,value:n,onValueChange:r,...a})}function gu({ref:e,children:t,className:n,activeClassName:r,transition:a={type:"spring",stiffness:200,damping:25},...s}){const o=p.useRef(null);p.useImperativeHandle(e,()=>o.current);const[l,c]=p.useState(void 0),u=p.useCallback(()=>{if(!o.current)return;const d=o.current.querySelector('[data-state="active"]');d&&c(d.getAttribute("data-value")??void 0)},[]);return p.useEffect(()=>{u();const d=new MutationObserver(u);return o.current&&d.observe(o.current,{attributes:!0,childList:!0,subtree:!0}),()=>{d.disconnect()}},[u]),i.jsx(SLe,{controlledItems:!0,className:Re("rounded-sm bg-background shadow-sm",r),value:l,transition:a,children:i.jsx(rJ,{ref:o,"data-slot":"tabs-list",className:Re("bg-muted text-muted-foreground inline-flex h-10 w-fit items-center justify-center rounded-lg p-[4px]",n),...s,children:t})})}function hn({className:e,value:t,...n}){return i.jsx(ZX,{value:t,className:"size-full",children:i.jsx(aJ,{"data-slot":"tabs-trigger",className:Re("inline-flex cursor-pointer items-center size-full justify-center whitespace-nowrap rounded-sm px-2 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground z-[1]",e),value:t,...n})})}function Dn({className:e,children:t,...n}){return i.jsx(sJ,{asChild:!0,...n,children:i.jsx($a.div,{"data-slot":"tabs-content",className:Re("flex-1 outline-none",e),layout:!0,...n,children:t})})}const br=({label:e,value:t,availableOptions:n,onValueChange:r,placeholder:a="Select option",displayFormat:s=c=>c,buttonDisplayFormat:o,className:l=""})=>{const c=Gm(),u=d=>d?d==="none"?o?o(d):"None":d==="all"?"All events":o?o(d):s(d):a;return c?i.jsxs(ep,{children:[i.jsx(VC,{asChild:!0,children:i.jsxs(Z,{variant:"outline",className:`w-full justify-between h-10 ${l}`,children:[i.jsx("span",{className:"truncate",children:u(t)}),i.jsx(Iy,{className:"h-4 w-4 opacity-50"})]})}),i.jsxs(tp,{side:"bottom",className:"h-[75vh] p-0 flex flex-col rounded-t-3xl border-border bg-background overflow-hidden",children:[i.jsx("div",{className:"px-6 pt-5 pb-1",children:i.jsx(np,{className:"text-left",children:i.jsx(rp,{className:"text-xl font-bold tracking-tight text-foreground",children:e})})}),i.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-10 mt-3",children:i.jsxs("div",{className:"space-y-2",children:[n.includes("none")&&i.jsx(Fk,{asChild:!0,children:i.jsx(Z,{variant:"outline",className:Re("w-full justify-start h-14 px-5 text-base font-medium rounded-xl border-border transition-all text-left",t==="none"?"bg-primary text-primary-foreground dark:bg-primary dark:text-primary-foreground hover:opacity-90 active:scale-[0.98]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 dark:bg-muted/10 dark:text-muted-foreground"),onClick:()=>r("none"),children:s("none")==="none"?"No team":s("none")})}),n.includes("all")&&i.jsx(Fk,{asChild:!0,children:i.jsx(Z,{variant:"outline",className:Re("w-full justify-start h-14 px-5 text-base font-medium rounded-xl border-border transition-all text-left",t==="all"?"bg-primary text-primary-foreground dark:bg-primary dark:text-primary-foreground hover:opacity-90 active:scale-[0.98]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 dark:bg-muted/10 dark:text-muted-foreground"),onClick:()=>r("all"),children:"All events"})}),n.filter(d=>d!=="all"&&d!=="none").map(d=>i.jsx(Fk,{asChild:!0,children:i.jsx(Z,{variant:"outline",className:Re("w-full justify-start h-14 px-5 text-base font-medium rounded-xl border-border transition-all text-left",t===d?"bg-primary text-primary-foreground dark:bg-primary dark:text-primary-foreground hover:opacity-90 active:scale-[0.98]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 dark:bg-muted/10 dark:text-muted-foreground"),onClick:()=>r(d),children:String(d).match(/^\d+$/)&&!s(String(d)).includes("Team")?`Team ${s(String(d))}`:s(String(d))})},d))]})})]})]}):i.jsxs(Lr,{value:t||"none",onValueChange:r,children:[i.jsx($r,{className:`h-10 w-full ${l}`,children:i.jsx("span",{className:"truncate",children:u(t)})}),i.jsxs(Fr,{children:[n.includes("none")&&i.jsx(at,{value:"none",children:s("none")}),n.includes("all")&&i.jsx(at,{value:"all",children:"All events"}),n.filter(d=>d!=="all"&&d!=="none").map(d=>i.jsx(at,{value:d,children:s(d)},d))]})]})},CLe=()=>{const{analysis:e}=uf(),[t,n]=p.useState([]),[r,a]=p.useState([]),[s,o]=p.useState(!0);p.useEffect(()=>{(async()=>{o(!0);try{const d=await OR(),f=[...new Set(d.map(m=>String(m.teamNumber)).filter(Boolean))];f.sort((m,g)=>parseInt(m)-parseInt(g)),n(f);const h=[...new Set(d.map(m=>m.eventKey).filter(Boolean))];h.sort(),a(h)}catch(d){console.error("Error loading team stats metadata:",d)}finally{o(!1)}})()},[]);const l=p.useCallback(async(u,d)=>{if(!u)return null;try{let f;const h=parseInt(u);return d&&d!=="all"?f=await _7(h,d):f=await P7(h),f.length===0?{teamNumber:h,eventKey:d||"",matchCount:0,totalPoints:0,autoPoints:0,teleopPoints:0,endgamePoints:0,overall:{avgTotalPoints:0,totalPiecesScored:0,avgGamePiece1:0,avgGamePiece2:0},auto:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0,mobilityRate:0,startPositions:[]},teleop:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0},endgame:{avgPoints:0,climbRate:0,parkRate:0},matchesPlayed:0}:e.calculateBasicStats(f)}catch(f){return console.error(`Error calculating stats for team ${u}:`,f),null}},[e]),c=p.useMemo(()=>({statSections:e.getStatSections(),rateSections:e.getRateSections(),matchBadges:e.getMatchBadges(),startPositionConfig:e.getStartPositionConfig()}),[e]);return{availableTeams:t,availableEvents:r,displayConfig:c,calculateStats:l,isLoading:s}},MM=({title:e,value:t,subtitle:n,color:r="blue",compareValue:a,type:s="number"})=>{const o=typeof t=="string"?parseFloat(t):t,l=a!==void 0&&s!=="text"?o-(typeof a=="number"?a:parseFloat(String(a))):void 0,c={default:"text-foreground",green:"text-green-600",blue:"text-blue-600",purple:"text-purple-600",orange:"text-orange-600",red:"text-red-600",yellow:"text-yellow-600",slate:"text-slate-600"},u=f=>s==="text"?String(f):s==="percentage"?`${f}%`:f,d=f=>{const h=f.toFixed(1);return s==="percentage"?`${f>0?"+":""}${h}%`:`${f>0?"+":""}${h}`};return i.jsx(De,{className:"p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),i.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[i.jsx("p",{className:`text-2xl font-bold ${c[r]||c.default}`,children:u(t)}),l!==void 0&&!isNaN(l)&&i.jsx("div",{className:`flex items-center text-sm font-semibold ${l>0?"text-green-600":l<0?"text-red-600":"text-muted-foreground"}`,children:d(l)}),s==="text"&&a&&a!==t&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:["vs ",a]})]}),n&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n})]})})};function jLe({teamStats:e,compareStats:t,statSections:n,rateSections:r,setActiveTab:a}){if(e.matchesPlayed===0)return i.jsx(De,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-8",children:i.jsxs("div",{className:"text-center space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"No Match Scouting Data"}),i.jsx("p",{className:"text-muted-foreground",children:"This team doesn't have any match scouting data."}),i.jsx(Z,{onClick:()=>a("pit"),className:"mt-4",children:"View Pit Data "})]})})});const s=n.filter(l=>l.tab==="overview"),o=(l,c)=>{const u=l[c];return typeof u=="string"||typeof u=="number"?u:0};return i.jsx("div",{className:"space-y-6 pb-6",children:s.map(l=>i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:l.title})}),i.jsx($e,{children:i.jsx("div",{className:`grid grid-cols-2 md:grid-cols-${l.columns||2} gap-4`,children:l.stats.map(c=>i.jsx(MM,{title:c.label,value:o(e,c.key),subtitle:c.subtitle,color:c.color,type:c.type,compareValue:t?o(t,c.key):void 0},c.key))})})]},l.id))})}function NLe({matchResults:e,alliance:t="blue"}){const[n,r]=p.useState(new Set),[a,s]=p.useState(!1),o=p.useRef(null),l=p.useRef(null),c=p.useMemo(()=>e.filter(v=>v.teleopPath&&v.teleopPath.length>0),[e]),u=p.useMemo(()=>e.filter(v=>n.has(v.matchNumber)).flatMap(v=>v.teleopPath||[]).filter(v=>v&&v.position),[e,n]),[d,f]=p.useState({width:640,height:320});p.useEffect(()=>{const v=()=>{if(o.current){const b=o.current.getBoundingClientRect();f({width:b.width,height:b.width/2})}};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const h=v=>{r(b=>{const x=new Set(b);return x.has(v)?x.delete(v):x.add(v),x})},m=()=>{r(new Set(e.map(v=>v.matchNumber)))},g=()=>{r(new Set)};return i.jsx("div",{className:"space-y-4",children:a?i.jsxs("div",{className:"fixed inset-0 z-100 bg-background p-4 flex flex-col gap-2",children:[i.jsx(BC,{phase:"teleop",stats:[{label:"Total Matches",value:e.length,color:"slate"},{label:"With Paths",value:c.length,color:"purple"}],isFullscreen:a,onFullscreenToggle:()=>s(!1),alliance:"blue",isFieldRotated:!1,actionLogSlot:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{variant:"ghost",size:"sm",onClick:m,disabled:e.length===0,children:"Select All"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:g,disabled:n.size===0,children:"Clear"})]})}),i.jsxs("div",{ref:o,className:Re("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none flex-1","w-full aspect-2/1"),children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx($d,{ref:l,actions:u,pendingWaypoint:null,drawingPoints:[],alliance:t,isFieldRotated:!1,width:d.width,height:d.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!1,drawingZoneBounds:void 0}),u.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:e.length===0?"No matches available":"Select matches to view teleop paths"})})]})]}):i.jsxs("div",{className:"grid md:grid-cols-[1fr_300px] gap-4",children:[i.jsxs(De,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold",children:"Shooting Paths"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{variant:"ghost",size:"sm",onClick:m,disabled:e.length===0,children:"Select All"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:g,disabled:n.size===0,children:"Clear"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>s(!0),children:i.jsx(Rv,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{ref:o,className:"relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 w-full aspect-2/1",children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx($d,{ref:l,actions:u,pendingWaypoint:null,drawingPoints:[],alliance:t,isFieldRotated:!1,width:d.width,height:d.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!1,drawingZoneBounds:void 0}),u.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:e.length===0?"No matches available":"Select matches to view teleop paths"})})]})]}),i.jsxs(De,{className:"p-4 max-h-125 overflow-y-auto",children:[i.jsxs("h3",{className:"font-semibold mb-3",children:["Matches (",e.length,")"]}),e.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No matches available"}):i.jsx("div",{className:"space-y-2",children:e.map(v=>{const b=n.has(v.matchNumber),x=v.teleopPath||[],y=x.length>0;return i.jsxs("div",{className:Re("p-3 rounded-lg border cursor-pointer transition-colors",b?"border-primary bg-primary/10":"border-border hover:border-primary/50"),onClick:()=>h(v.matchNumber),children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kd,{checked:b,onCheckedChange:()=>h(v.matchNumber),onClick:w=>w.stopPropagation()}),i.jsxs("span",{className:"font-medium",children:["Match ",v.matchNumber]}),i.jsx(Le,{variant:"outline",className:Re("text-xs",v.alliance==="red"?"border-red-500 text-red-400":"border-blue-500 text-blue-400"),children:v.alliance})]}),i.jsxs(Le,{variant:"secondary",className:"text-xs",children:[v.teleopPoints," pts"]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground ml-6",children:[v.teleopFuel," fuel scored",y?`  ${x.length} actions`:"  No path data"]})]},v.matchNumber)})})]})]})})}function kLe({teamStats:e,compareStats:t,statSections:n}){const r=e;if(e.matchesPlayed===0)return i.jsx(De,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No scoring data available"})})});const a=n.filter(o=>o.tab==="scoring"),s=(o,l)=>{const c=o[l];return typeof c=="number"?c:0};return i.jsxs("div",{className:"space-y-6 pb-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(o=>i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:o.title})}),i.jsx($e,{children:i.jsx("div",{className:`grid grid-cols-2 md:grid-cols-${o.columns||2} gap-4`,children:o.stats.map(l=>i.jsx(MM,{title:l.label,value:s(e,l.key),subtitle:l.subtitle,color:l.color,type:l.type,compareValue:t?s(t,l.key):void 0},l.key))})})]},o.id))}),i.jsx(De,{children:i.jsx($e,{children:i.jsx(NLe,{matchResults:r.matchResults||[],alliance:"blue"})})})]})}function ALe({startPositions:e={},matchResults:t=[],config:n,highlightedPosition:r,alliance:a="red"}){const s=p.useRef(null),o=p.useRef(null),l=p.useMemo(()=>n.zones??[],[n.zones]),c=p.useMemo(()=>a==="blue"&&n.fieldImageBlue?n.fieldImageBlue:n.fieldImageRed,[a,n.fieldImageRed,n.fieldImageBlue]),u=r!==void 0&&r>=0;return p.useEffect(()=>{const d=s.current,f=o.current;if(!d||!f||!c)return;const h=d.getContext("2d");if(!h)return;const m=(v,b,x)=>{const y=b/640,w=x/480;v.fillStyle="rgba(0, 0, 0, 0.3)",v.fillRect(0,0,b,x),l.forEach(S=>{const C=S.x*y,k=S.y*w,N=S.width*y,P=S.height*w;if(u){if(S.position===r){v.globalCompositeOperation="destination-out",v.fillStyle="rgba(0, 0, 0, 0.3)",v.fillRect(C,k,N,P),v.globalCompositeOperation="source-over",v.fillStyle="rgba(34, 197, 94, 0.85)",v.fillRect(C,k,N,P),v.strokeStyle="#16a34a",v.lineWidth=4,v.strokeRect(C,k,N,P),v.fillStyle="#ffffff",v.font=`bold ${Math.max(16*Math.min(y,w),12)}px Arial`,v.textAlign="center",v.textBaseline="middle",v.shadowColor="#000000",v.shadowBlur=3,v.shadowOffsetX=1,v.shadowOffsetY=1;const U=S.label??`Pos ${S.position}`;v.fillText(U,C+N/2,k+P/2),v.shadowColor="transparent",v.shadowBlur=0}return}const E=e[`position${S.position}`]||0,R=t.filter(z=>z.startPosition===S.position),O=R.length>0?Math.round(R.reduce((z,U)=>z+U.autoPoints,0)/R.length*10)/10:0;v.globalCompositeOperation="destination-out",v.fillStyle="rgba(0, 0, 0, 0.3)",v.fillRect(C,k,N,P),v.globalCompositeOperation="source-over";const K=Math.min(E/100,1),J=Math.max(.4,K*.9);let Q;E===0?Q=`rgba(156, 163, 175, ${J})`:E<20?Q=`rgba(239, 68, 68, ${J})`:E<40?Q=`rgba(245, 158, 11, ${J})`:E<60?Q=`rgba(234, 179, 8, ${J})`:E<80?Q=`rgba(59, 130, 246, ${J})`:Q=`rgba(34, 197, 94, ${J})`,v.fillStyle=Q,v.fillRect(C,k,N,P),v.strokeStyle=E>0?"#374151":"#9ca3af",v.lineWidth=E>0?3:2,v.setLineDash(E>0?[]:[5,5]),v.strokeRect(C,k,N,P),v.setLineDash([]),v.fillStyle="#ffffff",v.font=`bold ${Math.max(18*Math.min(y,w),14)}px Arial`,v.textAlign="center",v.textBaseline="top",v.shadowColor="#000000",v.shadowBlur=3,v.shadowOffsetX=1,v.shadowOffsetY=1;const G=S.label??`${S.position}`;v.fillText(G,C+N/2,k+8),v.font=`bold ${Math.max(22*Math.min(y,w),18)}px Arial`,v.textBaseline="middle",v.fillText(`${E}%`,C+N/2,k+P/2),R.length>0&&(v.font=`${Math.max(14*Math.min(y,w),12)}px Arial`,v.textBaseline="bottom",v.fillText(`${O} auto pts`,C+N/2,k+P-8)),v.shadowColor="transparent",v.shadowBlur=0,v.shadowOffsetX=0,v.shadowOffsetY=0})},g=new Image;g.onload=()=>{const v=f.getBoundingClientRect(),b=v.width,x=v.height,y=g.width/g.height,w=b/x;let S,C;y>w?(S=b,C=b/y):(C=x,S=x*y),d.width=S,d.height=C,d.style.width=`${S}px`,d.style.height=`${C}px`,h.drawImage(g,0,0,S,C),m(h,S,C)},g.src=c},[e,t,c,l,r,u]),c?i.jsx("div",{ref:o,className:"w-full h-96 flex items-center justify-center",children:i.jsx("canvas",{ref:s,className:"max-w-full max-h-full border rounded-lg"})}):i.jsx("div",{className:"h-96 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No field image configured"})})}const eb=["Left Trench","Left Bump","Hub","Right Bump","Right Trench"],PLe=["yellow","orange","green","orange","yellow"];function ELe({matchResults:e,alliance:t="blue"}){const[n,r]=p.useState(2),[a,s]=p.useState(new Set),[o,l]=p.useState(!1),c=p.useRef(null),u=p.useRef(null),d=p.useMemo(()=>{const y={0:[],1:[],2:[],3:[],4:[]};return e.forEach(w=>{const S=w.startPosition;S>=0&&S<=4&&y[S]&&y[S].push(w)}),y},[e]),f=p.useMemo(()=>d[n]||[],[d,n]),h=p.useMemo(()=>f.filter(y=>a.has(y.matchNumber)).flatMap(y=>y.autoPath||[]),[f,a]),[m,g]=p.useState({width:640,height:320});p.useEffect(()=>{const y=()=>{if(c.current){const w=c.current.getBoundingClientRect();g({width:w.width,height:w.width/2})}};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const v=y=>{s(w=>{const S=new Set(w);return S.has(y)?S.delete(y):S.add(y),S})},b=()=>{s(new Set(f.map(y=>y.matchNumber)))},x=()=>{s(new Set)};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4].map(y=>{var C;const w=((C=d[y])==null?void 0:C.length)||0,S=PLe[y];return i.jsxs(Z,{variant:n===y?"default":"outline",onClick:()=>{r(y),s(new Set)},className:"flex items-center gap-2 p-4",children:[eb[y],i.jsx(Le,{variant:"secondary",className:Re("ml-1",S==="yellow"&&"bg-yellow-500/20 text-yellow-300",S==="orange"&&"bg-orange-500/20 text-orange-300",S==="green"&&"bg-green-500/20 text-green-300"),children:w})]},y)})}),o?i.jsxs("div",{className:"fixed inset-0 z-100 bg-background p-4 flex flex-col gap-2",children:[i.jsx(BC,{phase:"auto",stats:[{label:eb[n]||"Position",value:f.length,color:"slate"}],isFullscreen:o,onFullscreenToggle:()=>l(!1),alliance:"blue",isFieldRotated:!1,actionLogSlot:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{variant:"ghost",size:"sm",onClick:b,disabled:f.length===0,children:"Select All"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:x,disabled:a.size===0,children:"Clear"})]})}),i.jsxs("div",{ref:c,className:Re("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none flex-1","w-full aspect-2/1"),children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx($d,{ref:u,actions:h,pendingWaypoint:null,drawingPoints:[],alliance:t,isFieldRotated:!1,width:m.width,height:m.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!0,drawingZoneBounds:void 0}),h.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:f.length===0?"No matches from this position":"Select matches to view paths"})})]})]}):i.jsxs("div",{className:"grid md:grid-cols-[1fr_300px] gap-4",children:[i.jsxs(De,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h3",{className:"font-semibold",children:[eb[n]," - Auto Paths"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{variant:"ghost",size:"sm",onClick:b,disabled:f.length===0,children:"Select All"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:x,disabled:a.size===0,children:"Clear"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>l(!0),children:i.jsx(Rv,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{ref:c,className:"relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 w-full aspect-2/1",children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx($d,{ref:u,actions:h,pendingWaypoint:null,drawingPoints:[],alliance:t,isFieldRotated:!1,width:m.width,height:m.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!0,drawingZoneBounds:void 0}),h.length===0&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:f.length===0?"No matches from this position":"Select matches to view paths"})})]})]}),i.jsxs(De,{className:"p-4 max-h-125 overflow-y-auto",children:[i.jsxs("h3",{className:"font-semibold mb-3",children:["Matches (",f.length,")"]}),f.length===0?i.jsxs("p",{className:"text-sm text-muted-foreground",children:["No matches from ",eb[n]]}):i.jsx("div",{className:"space-y-2",children:f.map(y=>{const w=a.has(y.matchNumber);return i.jsxs("div",{className:Re("p-3 rounded-lg border cursor-pointer transition-colors",w?"border-primary bg-primary/10":"border-border hover:border-primary/50"),onClick:()=>v(y.matchNumber),children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kd,{checked:w,onCheckedChange:()=>v(y.matchNumber),onClick:S=>S.stopPropagation()}),i.jsxs("span",{className:"font-medium",children:["Match ",y.matchNumber]}),i.jsx(Le,{variant:"outline",className:Re("text-xs",y.alliance==="red"?"border-red-500 text-red-400":"border-blue-500 text-blue-400"),children:y.alliance})]}),i.jsxs(Le,{variant:"secondary",className:"text-xs",children:[y.autoPoints," pts"]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground ml-6",children:[y.autoFuel," fuel scored",y.autoPath&&y.autoPath.length>0?`  ${y.autoPath.length} actions`:"  No path data"]})]},y.matchNumber)})})]})]})]})}function TLe({teamStats:e,compareStats:t,startPositionConfig:n}){if(e.matchesPlayed===0)return i.jsx(De,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No autonomous data available"})})});const r=(e==null?void 0:e.startPositions)??{},a=(e==null?void 0:e.matchResults)??[],s=()=>!r||Object.keys(r).length===0?i.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No position data available"}):i.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:n.positionCount}).map((o,l)=>{var h,m,g;const c=((h=n.positionLabels)==null?void 0:h[l])||`Position ${l}`,u=((m=n.positionColors)==null?void 0:m[l])||"blue",d=r[`position${l}`]||0,f=(g=t==null?void 0:t.startPositions)==null?void 0:g[`position${l}`];return i.jsx(MM,{title:c,value:d,subtitle:"% of matches",color:u,compareValue:f},l)})});return i.jsxs("div",{className:"space-y-6 pb-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Starting Position Analysis"})}),i.jsx($e,{children:i.jsx(ALe,{startPositions:r,matchResults:a,config:n})})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Position Breakdown"})}),i.jsx($e,{children:s()})]})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Auto Paths by Starting Position"})}),i.jsx($e,{children:i.jsx(ELe,{matchResults:a,alliance:"blue"})})]})]})}const _Le=({title:e,value:t,suffix:n="%",compareValue:r})=>{const a=r!==void 0?t-r:void 0;return i.jsx(De,{className:"p-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-sm font-medium",children:e}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-bold",children:[t,n]}),a!==void 0&&i.jsxs("div",{className:`flex items-center text-xs ${a>0?"text-green-600":a<0?"text-red-600":"text-muted-foreground"}`,children:[a>0?"+":"",a]})]})]}),i.jsx(op,{value:t,className:"h-2"})]})})};function DLe({matchData:e,variant:t="outline",size:n="sm",className:r="",buttonText:a="View Full Match Data",showIcon:s=!0}){var S,C,k,N,P,E,R,O,K,J,Q,G,z,U,M,$,B,te,q,ae,he,je,Ee,me,Ve,ne,ke,we,re,He,Oe,Xe,Fe,Se,de,ve,Nt;const[o,l]=p.useState(!1),[c,u]=p.useState("scoring"),d=p.useRef(null),f=p.useRef(null),[h,m]=p.useState({width:640,height:320});if(p.useEffect(()=>{if(c!=="auto")return;const We=()=>{if(f.current){const kt=f.current.getBoundingClientRect();m({width:kt.width,height:kt.width/2})}};return We(),window.addEventListener("resize",We),()=>window.removeEventListener("resize",We)},[c]),!e)return i.jsxs(Z,{variant:t,size:n,className:r,disabled:!0,children:[s&&i.jsx(am,{className:"w-3 h-3 mr-2"}),a]});const g=We=>typeof We=="number"?We:0,v=We=>We?Object.entries(We).filter(([kt])=>kt==="fuelScoredCount"||kt==="fuelPassedCount").reduce((kt,[,ct])=>kt+g(ct),0):0,b=v((S=e.gameData)==null?void 0:S.auto),x=v((C=e.gameData)==null?void 0:C.teleop),y=["depotCollectCount","outpostCollectCount","foulCommittedCount","stealCount","brokenDownCount"],w=String(e.alliance||"").replace(/Alliance$/i,"").trim();return i.jsxs(to,{open:o,onOpenChange:l,children:[i.jsx(DC,{asChild:!0,children:i.jsxs(Z,{variant:t,size:n,className:r,children:[s&&i.jsx(am,{className:"w-4 h-4 mr-2"}),a]})}),i.jsxs(no,{className:"max-w-4xl w-[calc(100vw-2rem)] h-[min(600px,90vh)] flex flex-col p-6",children:[i.jsx(Go,{className:"shrink-0 px-0",children:i.jsxs(ro,{children:["Match ",e.matchNumber," - Team ",e.teamNumber]})}),i.jsx("div",{className:"flex-1 min-h-0",onTouchStart:We=>We.stopPropagation(),onTouchMove:We=>We.stopPropagation(),onTouchEnd:We=>We.stopPropagation(),children:i.jsxs(pu,{value:c,onValueChange:u,enableSwipe:!0,className:"w-full h-full flex flex-col",children:[i.jsxs(gu,{className:"grid w-full grid-cols-4 shrink-0",children:[i.jsx(hn,{value:"scoring",children:"Scoring"}),i.jsx(hn,{value:"auto",children:"Auto"}),i.jsx(hn,{value:"endgame",children:"Endgame"}),i.jsx(hn,{value:"info",children:"Info"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-0 mt-4",children:[i.jsxs(Dn,{value:"scoring",className:"space-y-4 h-full mt-0",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Auto Scoring"}),i.jsxs("div",{className:"space-y-2",children:[((k=e.gameData)==null?void 0:k.auto)&&Object.entries(e.gameData.auto).filter(([We])=>We==="fuelScoredCount"||We==="fuelPassedCount").map(([We,kt])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[We.replace("Count","").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:g(kt)})]},We)),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"font-semibold",children:"Fuel Moved:"}),i.jsx("span",{className:"font-bold text-blue-600",children:b})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Teleop Scoring"}),i.jsxs("div",{className:"space-y-2",children:[((N=e.gameData)==null?void 0:N.teleop)&&Object.entries(e.gameData.teleop).filter(([We])=>We==="fuelScoredCount"||We==="fuelPassedCount").map(([We,kt])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[We.replace("Count","").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:g(kt)})]},We)),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"font-semibold",children:"Fuel Moved:"}),i.jsx("span",{className:"font-bold text-purple-600",children:x})]})]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Other Actions"}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Auto"}),i.jsx("div",{className:"space-y-2",children:((P=e.gameData)==null?void 0:P.auto)&&Object.entries(e.gameData.auto).filter(([We])=>y.includes(We)).map(([We,kt])=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[We.replace("Count","").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{children:g(kt)})]},We))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Teleop"}),i.jsx("div",{className:"space-y-2",children:((E=e.gameData)==null?void 0:E.teleop)&&Object.entries(e.gameData.teleop).filter(([We])=>y.includes(We)).map(([We,kt])=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[We.replace("Count","").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{children:g(kt)})]},We))})]})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Points Summary"}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g(e.autoPoints)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Auto"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:g(e.teleopPoints)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Teleop"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:g(e.endgamePoints)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Endgame"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:g(e.totalPoints)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})]})]})]}),i.jsx(Dn,{value:"auto",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Auto Performance"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Auto Points:"}),i.jsx("span",{className:"font-bold text-blue-600",children:g(e.autoPoints)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Fuel Scored:"}),i.jsx("span",{className:"font-bold text-yellow-600",children:g(e.autoFuel)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Fuel Passed:"}),i.jsx("span",{className:"font-bold text-blue-600",children:g(e.autoFuelPassed)})]}),i.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[i.jsx("input",{type:"checkbox",checked:!!((O=(R=e.gameData)==null?void 0:R.auto)!=null&&O.autoClimbL1),disabled:!0,className:"rounded"}),i.jsx("span",{children:"Auto Climb L1"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Auto Path"}),e.autoPath&&e.autoPath.length>0?i.jsxs("div",{ref:f,className:Re("relative rounded-lg overflow-hidden border border-slate-700 bg-slate-900 select-none","w-full aspect-2/1"),children:[i.jsx("img",{src:Xc,alt:"2026 Field",className:"w-full h-full object-fill",style:{opacity:.9}}),i.jsx($d,{ref:d,actions:e.autoPath,pendingWaypoint:null,drawingPoints:[],alliance:(K=e.alliance)!=null&&K.toLowerCase().includes("blue")?"blue":"red",isFieldRotated:!1,width:h.width,height:h.height,isSelectingScore:!1,isSelectingPass:!1,isSelectingCollect:!1,drawConnectedPaths:!0,drawingZoneBounds:void 0})]}):i.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:i.jsx("div",{className:"text-muted-foreground text-center",children:"No path data"})})]})]})}),i.jsx(Dn,{value:"endgame",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Climbing"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Climb Level:"}),i.jsx("span",{className:"font-bold text-xl text-blue-600",children:e.climbLevel&&e.climbLevel>0?`L${e.climbLevel}`:"None"})]})}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-950 rounded border border-red-200 dark:border-red-800",children:[i.jsx("span",{className:"text-red-600",children:"Climb Failed"}),i.jsx("input",{type:"checkbox",checked:!!((Q=(J=e.gameData)==null?void 0:J.endgame)!=null&&Q.climbFailed),disabled:!0,className:"rounded"})]}),i.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950 rounded border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Endgame Points:"}),i.jsx("span",{className:"font-bold text-xl text-orange-600",children:g(e.endgamePoints)})]})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Other Performance"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("span",{children:"Played Defense"}),i.jsx("input",{type:"checkbox",checked:!!((z=(G=e.gameData)==null?void 0:G.teleop)!=null&&z.defense),disabled:!0,className:"rounded"})]}),i.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-950 rounded border border-orange-200 dark:border-orange-800",children:[i.jsx("h4",{className:"font-semibold mb-2 text-sm text-orange-600",children:"Stuck Incidents"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"flex justify-between mb-1",children:i.jsx("span",{className:"font-medium",children:"Auto:"})}),i.jsxs("div",{className:"ml-4 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Trench:"}),i.jsxs("span",{children:[g((M=(U=e.gameData)==null?void 0:U.auto)==null?void 0:M.trenchStuckCount),"x (",Math.round(g((B=($=e.gameData)==null?void 0:$.auto)==null?void 0:B.trenchStuckDuration)/1e3),"s)"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Bump:"}),i.jsxs("span",{children:[g((q=(te=e.gameData)==null?void 0:te.auto)==null?void 0:q.bumpStuckCount),"x (",Math.round(g((he=(ae=e.gameData)==null?void 0:ae.auto)==null?void 0:he.bumpStuckDuration)/1e3),"s)"]})]})]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"flex justify-between mb-1",children:i.jsx("span",{className:"font-medium",children:"Teleop:"})}),i.jsxs("div",{className:"ml-4 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Trench:"}),i.jsxs("span",{children:[g((Ee=(je=e.gameData)==null?void 0:je.teleop)==null?void 0:Ee.trenchStuckCount),"x (",Math.round(g((Ve=(me=e.gameData)==null?void 0:me.teleop)==null?void 0:Ve.trenchStuckDuration)/1e3),"s)"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Bump:"}),i.jsxs("span",{children:[g((ke=(ne=e.gameData)==null?void 0:ne.teleop)==null?void 0:ke.bumpStuckCount),"x (",Math.round(g((re=(we=e.gameData)==null?void 0:we.teleop)==null?void 0:re.bumpStuckDuration)/1e3),"s)"]})]})]})]})]})]}),i.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950 rounded border border-red-200 dark:border-red-800",children:[i.jsx("h4",{className:"font-semibold mb-2 text-sm text-red-600",children:"Broken Down Time"}),i.jsx("div",{className:"space-y-2",children:i.jsx("div",{className:"text-sm",children:i.jsxs("div",{className:"ml-4 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Auto:"}),i.jsxs("span",{children:[g((Oe=(He=e.gameData)==null?void 0:He.auto)==null?void 0:Oe.brokenDownCount),"x (",Math.round(g((Fe=(Xe=e.gameData)==null?void 0:Xe.auto)==null?void 0:Fe.brokenDownDuration)/1e3),"s)"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Teleop:"}),i.jsxs("span",{children:[g((de=(Se=e.gameData)==null?void 0:Se.teleop)==null?void 0:de.brokenDownCount),"x (",Math.round(g((Nt=(ve=e.gameData)==null?void 0:ve.teleop)==null?void 0:Nt.brokenDownDuration)/1e3),"s)"]})]})]})})})]})]})]})]})}),i.jsx(Dn,{value:"info",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Match Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Match Number"}),i.jsx("div",{className:"text-lg font-bold",children:e.matchNumber})]}),i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Team Number"}),i.jsx("div",{className:"text-lg font-bold",children:e.teamNumber})]}),i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Alliance"}),i.jsx("div",{className:"text-lg font-bold capitalize",children:w||"Unknown"})]}),i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Event"}),i.jsx("div",{className:"text-lg font-bold",children:e.eventKey||"Unknown"})]})]}),i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Scout"}),i.jsx("div",{className:"text-lg font-bold",children:e.scoutName||"Unknown"})]}),e.comment&&i.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded border border-blue-200 dark:border-blue-800",children:[i.jsx("h5",{className:"font-semibold mb-2",children:"Scout Comments"}),i.jsx("p",{className:"text-sm",children:e.comment})]})]})]})})]})]})})]})]})}var RLe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function IM(e){if(typeof e!="string")return!1;var t=RLe;return t.includes(e)}var MLe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ILe=new Set(MLe);function JX(e){return typeof e!="string"?!1:ILe.has(e)}function XX(e){return typeof e=="string"&&e.startsWith("data-")}function zs(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(JX(n)||XX(n))&&(t[n]=e[n]);return t}function dp(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return zs(t)}return typeof e=="object"&&!Array.isArray(e)?zs(e):null}function Ha(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(JX(n)||XX(n)||IM(n))&&(t[n]=e[n]);return t}function OLe(e){return e==null?null:p.isValidElement(e)?Ha(e.props):typeof e=="object"&&!Array.isArray(e)?Ha(e):null}var LLe=["children","width","height","viewBox","className","style","title","desc"];function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F2.apply(null,arguments)}function $Le(e,t){if(e==null)return{};var n,r,a=FLe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function FLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OM=p.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=$Le(e,LLe),f=s||{width:r,height:a,x:0,y:0},h=sn("recharts-surface",o);return p.createElement("svg",F2({},Ha(d),{className:h,width:r,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),n)}),BLe=["children","className"];function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B2.apply(null,arguments)}function VLe(e,t){if(e==null)return{};var n,r,a=zLe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ca=p.forwardRef((e,t)=>{var{children:n,className:r}=e,a=VLe(e,BLe),s=sn("recharts-layer",r);return p.createElement("g",B2({className:s},Ha(a),{ref:t}),n)}),eee=p.createContext(null),ULe=()=>p.useContext(eee);function Pn(e){return function(){return e}}const tee=Math.cos,_1=Math.sin,ao=Math.sqrt,D1=Math.PI,uj=2*D1,V2=Math.PI,z2=2*V2,Lu=1e-6,KLe=z2-Lu;function nee(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function GLe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return nee;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class WLe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nee:GLe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Lu)if(!(Math.abs(f*c-u*d)>Lu)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=a-l,v=c*c+u*u,b=m*m+g*g,x=Math.sqrt(v),y=Math.sqrt(h),w=s*Math.tan((V2-Math.acos((v+h-b)/(2*x*y)))/2),S=w/y,C=w/x;Math.abs(S-1)>Lu&&this._append`L${t+S*d},${n+S*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+C*c},${this._y1=n+C*u}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lu||Math.abs(this._y1-d)>Lu)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%z2+z2),h>KLe?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Lu&&this._append`A${r},${r},0,${+(h>=V2)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function LM(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new WLe(t)}function $M(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ree(e){this._context=e}ree.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dj(e){return new ree(e)}function aee(e){return e[0]}function see(e){return e[1]}function iee(e,t){var n=Pn(!0),r=null,a=dj,s=null,o=LM(l);e=typeof e=="function"?e:e===void 0?aee:Pn(e),t=typeof t=="function"?t:t===void 0?see:Pn(t);function l(c){var u,d=(c=$M(c)).length,f,h=!1,m;for(r==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Pn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Pn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Pn(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(s=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=s=null:s=a(r=c),l):r},l}function tb(e,t,n){var r=null,a=Pn(!0),s=null,o=dj,l=null,c=LM(u);e=typeof e=="function"?e:e===void 0?aee:Pn(+e),t=typeof t=="function"?t:Pn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?see:Pn(+n);function u(f){var h,m,g,v=(f=$M(f)).length,b,x=!1,y,w=new Array(v),S=new Array(v);for(s==null&&(l=o(y=c())),h=0;h<=v;++h){if(!(h<v&&a(b=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(b,h,f),S[h]=+t(b,h,f),l.point(r?+r(b,h,f):w[h],n?+n(b,h,f):S[h]))}if(y)return l=null,y+""||null}function d(){return iee().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Pn(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Pn(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Pn(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Pn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Pn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Pn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Pn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class oee{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function qLe(e){return new oee(e,!0)}function HLe(e){return new oee(e,!1)}const FM={draw(e,t){const n=ao(t/D1);e.moveTo(n,0),e.arc(0,0,n,0,uj)}},YLe={draw(e,t){const n=ao(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},lee=ao(1/3),QLe=lee*2,ZLe={draw(e,t){const n=ao(t/QLe),r=n*lee;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},JLe={draw(e,t){const n=ao(t),r=-n/2;e.rect(r,r,n,n)}},XLe=.8908130915292852,cee=_1(D1/10)/_1(7*D1/10),e4e=_1(uj/10)*cee,t4e=-tee(uj/10)*cee,n4e={draw(e,t){const n=ao(t*XLe),r=e4e*n,a=t4e*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const o=uj*s/5,l=tee(o),c=_1(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},xA=ao(3),r4e={draw(e,t){const n=-ao(t/(xA*3));e.moveTo(0,n*2),e.lineTo(-xA*n,-n),e.lineTo(xA*n,-n),e.closePath()}},Zs=-.5,Js=ao(3)/2,U2=1/ao(12),a4e=(U2/2+1)*3,s4e={draw(e,t){const n=ao(t/a4e),r=n/2,a=n*U2,s=r,o=n*U2+n,l=-s,c=o;e.moveTo(r,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Zs*r-Js*a,Js*r+Zs*a),e.lineTo(Zs*s-Js*o,Js*s+Zs*o),e.lineTo(Zs*l-Js*c,Js*l+Zs*c),e.lineTo(Zs*r+Js*a,Zs*a-Js*r),e.lineTo(Zs*s+Js*o,Zs*o-Js*s),e.lineTo(Zs*l+Js*c,Zs*c-Js*l),e.closePath()}};function i4e(e,t){let n=null,r=LM(a);e=typeof e=="function"?e:Pn(e||FM),t=typeof t=="function"?t:Pn(t===void 0?64:+t);function a(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Pn(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Pn(+s),a):t},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function R1(){}function M1(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function uee(e){this._context=e}uee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:M1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:M1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o4e(e){return new uee(e)}function dee(e){this._context=e}dee.prototype={areaStart:R1,areaEnd:R1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:M1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l4e(e){return new dee(e)}function fee(e){this._context=e}fee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:M1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c4e(e){return new fee(e)}function hee(e){this._context=e}hee.prototype={areaStart:R1,areaEnd:R1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u4e(e){return new hee(e)}function b5(e){return e<0?-1:1}function w5(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(s*a+o*r)/(r+a);return(b5(s)+b5(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function S5(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bA(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,o-l*n,s,o)}function I1(e){this._context=e}I1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bA(this,this._t0,S5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bA(this,S5(this,n=w5(this,e,t)),n);break;default:bA(this,this._t0,n=w5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function mee(e){this._context=new pee(e)}(mee.prototype=Object.create(I1.prototype)).point=function(e,t){I1.prototype.point.call(this,t,e)};function pee(e){this._context=e}pee.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}};function d4e(e){return new I1(e)}function f4e(e){return new mee(e)}function gee(e){this._context=e}gee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=C5(e),a=C5(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function C5(e){var t,n=e.length-1,r,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function h4e(e){return new gee(e)}function fj(e,t){this._context=e,this._t=t}fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function m4e(e){return new fj(e,.5)}function p4e(e){return new fj(e,0)}function g4e(e){return new fj(e,1)}function Gd(e,t){if((o=e.length)>1)for(var n=1,r,a,s=e[t[0]],o,l=s.length;n<o;++n)for(a=s,s=e[t[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function K2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function v4e(e,t){return e[t]}function y4e(e){const t=[];return t.key=e,t}function x4e(){var e=Pn([]),t=K2,n=Gd,r=v4e;function a(s){var o=Array.from(e.apply(this,arguments),y4e),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,s)]).data=f;for(l=0,d=$M(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Pn(Array.from(s)),a):e},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Pn(+s),a):r},a.order=function(s){return arguments.length?(t=s==null?K2:typeof s=="function"?s:Pn(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(n=s??Gd,a):n},a}function b4e(e,t){if((r=e.length)>0){for(var n,r,a=0,s=e[0].length,o;a<s;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Gd(e,t)}}function w4e(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,s=r.length;n<s;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Gd(e,t)}}function S4e(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var v=e[t[g]],b=v[r][1]||0,x=v[r-1][1]||0;m+=b-x}c+=f,u+=m*f}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,Gd(e,t)}}var hj={},vee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(vee);var BM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(BM);var mj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(mj);var pj={},yee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(yee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yee,n=mj;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],o=a.length;if(o===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=r})(pj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vee,n=BM,r=mj,a=pj;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(hj);var C4e=hj.get;const Nm=yi(C4e);var j4e=4;function kc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j4e,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function fr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,s,o)=>{var l=n[o-1];return typeof l=="string"?a+l+s:l!==void 0?a+kc(l)+s:a+s},"")}var ms=e=>e===0?0:e>0?1:-1,Qi=e=>typeof e=="number"&&e!=+e,Ml=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,pt=e=>(typeof e=="number"||e instanceof Number)&&!Qi(e),Oo=e=>pt(e)||typeof e=="string",N4e=0,uy=e=>{var t=++N4e;return"".concat(e||"").concat(t)},Zi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pt(t)&&typeof t!="string")return r;var s;if(Ml(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return Qi(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},xee=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function En(e,t,n){return pt(e)&&pt(t)?kc(e+n*(t-e)):t}function bee(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Nm(r,t))===n)}var k4e=e=>{for(var t=e.length,n=0,r=0,a=0,s=0,o=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++){var f,h;c=((f=e[d])===null||f===void 0?void 0:f.cx)||0,u=((h=e[d])===null||h===void 0?void 0:h.cy)||0,n+=c,r+=u,a+=c*u,s+=c*c,o=Math.min(o,c),l=Math.max(l,c)}var m=t*s!==n*n?(t*a-n*r)/(t*s-n*n):0;return{xmin:o,xmax:l,a:m,b:(r-m*n)/t}},yn=e=>e===null||typeof e>"u",fx=e=>yn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function A4e(e){return e!=null}function hx(){}var P4e=["type","size","sizeType"];function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G2.apply(null,arguments)}function j5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function N5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(n),!0).forEach(function(r){E4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E4e(e,t,n){return(t=T4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T4e(e){var t=_4e(e,"string");return typeof t=="symbol"?t:t+""}function _4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4e(e,t){if(e==null)return{};var n,r,a=R4e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function R4e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wee={symbolCircle:FM,symbolCross:YLe,symbolDiamond:ZLe,symbolSquare:JLe,symbolStar:n4e,symbolTriangle:r4e,symbolWye:s4e},M4e=Math.PI/180,I4e=e=>{var t="symbol".concat(fx(e));return wee[t]||FM},O4e=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*M4e;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},L4e=(e,t)=>{wee["symbol".concat(fx(e))]=t},gj=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=D4e(e,P4e),s=N5(N5({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=I4e(o),m=i4e().type(h).size(O4e(n,r,o)),g=m();if(g!==null)return g},{className:c,cx:u,cy:d}=s,f=Ha(s);return pt(u)&&pt(d)&&pt(n)?p.createElement("path",G2({},f,{className:sn("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};gj.registerSymbol=L4e;var See=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,VM=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{IM(a)&&(r[a]=s=>n[a](n,s))}),r},$4e=(e,t,n)=>r=>(e(t,n,r),null),mx=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];IM(a)&&typeof s=="function"&&(r||(r={}),r[a]=$4e(s,t,n))}),r},F4e=e=>Array.isArray(e)&&e.length>0;function k5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function B4e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(n),!0).forEach(function(r){V4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V4e(e,t,n){return(t=z4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z4e(e){var t=U4e(e,"string");return typeof t=="symbol"?t:t+""}function U4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t){var n=B4e({},e),r=t,a=Object.keys(t),s=a.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return s}function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O1.apply(null,arguments)}function A5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K4e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(n),!0).forEach(function(r){G4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G4e(e,t,n){return(t=W4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W4e(e){var t=q4e(e,"string");return typeof t=="symbol"?t:t+""}function q4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ni=32,H4e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Y4e(e){var{data:t,iconType:n,inactiveColor:r}=e,a=ni/2,s=ni/6,o=ni/3,l=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline"){var u;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:ni,y2:a,className:"recharts-legend-icon"})}if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(ni,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ni/8,"h").concat(ni,"v").concat(ni*3/4,"h").concat(-ni,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var d=K4e({},t);return delete d.legendIcon,p.cloneElement(t.legendIcon,d)}return p.createElement(gj,{fill:l,cx:a,cy:a,size:ni,sizeType:"diameter",type:c})}function Q4e(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:ni,height:ni},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=sn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?s:d.color,v=h?h(d.value,d,f):d.value;return p.createElement("li",O1({className:m,style:c,key:"legend-item-".concat(f)},mx(e,d,f)),p.createElement(OM,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},p.createElement(Y4e,{data:d,iconType:o,inactiveColor:s})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}var Z4e=e=>{var t=Kr(e,H4e),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:s},p.createElement(Q4e,O1({},t,{payload:n})))},Cee={},jee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let s=0;s<n.length;s++){const o=n[s],l=r(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(jee);var zM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(zM);var Nee={},vj={},kee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(kee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kee;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(vj);var Aee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Aee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vj,n=Aee;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(Nee);var Pee={},Eee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hj;function n(r){return function(a){return t.get(a,r)}}e.property=n})(Eee);var Tee={},UM={},_ee={},KM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(KM);var GM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(GM);var WM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(WM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KM,n=GM,r=WM;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):s(d,f,function m(g,v,b,x,y,w){const S=h(g,v,b,x,y,w);return S!==void 0?!!S:s(g,v,m,w)},new Map)}function s(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?s(d,{...f},h,m):r.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.eq(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const g=Object.keys(f);if(d==null||n.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<g.length;v++){const b=g[v];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!h(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,v]of f.entries()){const b=d.get(g);if(h(b,v,g,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let v=0;v<f.length;v++){const b=f[v];let x=!1;for(let y=0;y<d.length;y++){if(g.has(y))continue;const w=d[y];let S=!1;if(h(w,b,v,d,f,m)&&(S=!0),S){g.add(y),x=!0;break}}if(!x)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(_ee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_ee;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(UM);var Dee={},qM={},Ree={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Ree);var HM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(HM);var YM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",v="[object DataView]",b="[object Uint8Array]",x="[object Uint8ClampedArray]",y="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",k="[object Int16Array]",N="[object Int32Array]",P="[object BigInt64Array]",E="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=v,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=E,e.float64ArrayTag=R,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=N,e.int8ArrayTag=C,e.mapTag=c,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=y,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=x})(YM);var Mee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Mee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ree,n=HM,r=YM,a=GM,s=Mee;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const v=g==null?void 0:g(d,f,h,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let x=0;x<d.length;x++)b[x]=l(d[x],x,h,m,g);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[x,y]of d)b.set(x,l(y,x,h,m,g));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const x of d)b.add(l(x,void 0,h,m,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let x=0;x<d.length;x++)b[x]=l(d[x],x,h,m,g);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),c(b,d,h,m,g),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),c(b,d,h,m,g),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),c(b,d,h,m,g),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,h,m,g),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),c(b,d,h,m,g),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),c(b,d,h,m,g),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),c(b,d,h,m,g),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),c(b,d,h,m,g),b}return d}function c(d,f,h=d,m,g){const v=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<v.length;b++){const x=v[b],y=Object.getOwnPropertyDescriptor(d,x);(y==null||y.writable)&&(d[x]=l(f[x],x,h,m,g))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(qM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qM;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Dee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UM,n=Dee;function r(a){return a=n.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=r})(Tee);var Iee={},Oee={},Lee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qM,n=YM;function r(a,s){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=s==null?void 0:s(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case n.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(Lee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lee;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Oee);var $ee={},QM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(QM);var Fee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HM;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Fee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BM,n=QM,r=Fee,a=pj;function s(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})($ee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UM,n=mj,r=Oee,a=hj,s=$ee;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(Iee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zM,n=Eee,r=Tee,a=Iee;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(Pee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jee,n=zM,r=Nee,a=Pee;function s(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=s})(Cee);var J4e=Cee.uniqBy;const P5=yi(J4e);function Bee(e,t,n){return t===!0?P5(e,n):typeof t=="function"?P5(e,t):e}var Vee={exports:{}},zee={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj=p,X4e=n7;function e$e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var t$e=typeof Object.is=="function"?Object.is:e$e,n$e=X4e.useSyncExternalStore,r$e=yj.useRef,a$e=yj.useEffect,s$e=yj.useMemo,i$e=yj.useDebugValue;zee.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var s=r$e(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=s$e(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,t$e(d,m))return g;var v=r(m);return a!==void 0&&a(g,v)?(d=m,g):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,a]);var l=n$e(e,s[0],s[1]);return a$e(function(){o.hasValue=!0,o.value=l},[l]),i$e(l),l};Vee.exports=zee;var o$e=Vee.exports,ZM=p.createContext(null),l$e=e=>e,or=()=>{var e=p.useContext(ZM);return e?e.store.dispatch:l$e},aw=()=>{},c$e=()=>aw,u$e=(e,t)=>e===t;function xt(e){var t=p.useContext(ZM);return o$e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:c$e,t?t.store.getState:aw,t?t.store.getState:aw,t?e:aw,u$e)}function d$e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function f$e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function h$e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var E5=e=>Array.isArray(e)?e:[e];function m$e(e){const t=Array.isArray(e[0])?e[0]:e;return h$e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function p$e(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var g$e=class{constructor(e){this.value=e}deref(){return this.value}},v$e=typeof WeakRef<"u"?WeakRef:g$e,y$e=0,T5=1;function nb(){return{s:y$e,v:void 0,o:null,p:null}}function Uee(e,t={}){let n=nb();const{resultEqualityCheck:r}=t;let a,s=0;function o(){var f;let l=n;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const b=v.get(g);b===void 0?(l=nb(),v.set(g,l)):l=b}else{let v=l.p;v===null&&(l.p=v=new Map);const b=v.get(g);b===void 0?(l=nb(),v.set(g,l)):l=b}}const u=l;let d;if(l.s===T5)d=l.v;else if(d=e.apply(null,arguments),s++,r){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&r(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new v$e(d):d}return u.s=T5,u.v=d,d}return o.clearCache=()=>{n=nb(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function x$e(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let s=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),d$e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=Uee,argsMemoizeOptions:g=[]}=d,v=E5(h),b=E5(g),x=m$e(a),y=f(function(){return s++,u.apply(null,arguments)},...v),w=m(function(){o++;const C=p$e(x,arguments);return l=y.apply(null,C),l},...b);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Me=x$e(Uee),b$e=Object.assign((e,t=Me)=>{f$e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>b$e}),Kee={},Gee={},Wee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const o=t(r),l=t(a);if(o===l&&o===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=n})(Wee);var qee={},JM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(JM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JM,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(qee);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wee,n=qee,r=pj;function a(s,o,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let v=m;for(let b=0;b<g.length&&v!=null;++b)v=v[g[b]];return v},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let v=0;v<f.length;v++){const b=t.compareValues(m.criteria[v],g.criteria[v],l[v]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=a})(Gee);var Hee={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],s=Math.floor(r),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?o(d,c+1):a.push(d)}};return o(n,0),a}e.flatten=t})(Hee);var XM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QM,n=vj,r=KM,a=WM;function s(o,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=s})(XM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gee,n=Hee,r=XM;function a(s,...o){const l=o.length;return l>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=a})(Kee);var w$e=Kee.sortBy;const xj=yi(w$e);var Yee=e=>e.legend.settings,S$e=e=>e.legend.size,C$e=e=>e.legend.payload,j$e=Me([C$e,Yee],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?xj(r,n):r});function N$e(){return xt(j$e)}var rb=1;function Qee(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=p.useState({height:0,left:0,top:0,width:0}),r=p.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>rb||Math.abs(o.left-t.left)>rb||Math.abs(o.top-t.top)>rb||Math.abs(o.width-t.width)>rb)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function fa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var k$e=typeof Symbol=="function"&&Symbol.observable||"@@observable",_5=k$e,wA=()=>Math.random().toString(36).substring(7).split("").join("."),A$e={INIT:`@@redux/INIT${wA()}`,REPLACE:`@@redux/REPLACE${wA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wA()}`},L1=A$e;function eI(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Zee(e,t,n){if(typeof e!="function")throw new Error(fa(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fa(1));return n(Zee)(e,t)}let r=e,a=t,s=new Map,o=s,l=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((b,x)=>{o.set(x,b)}))}function d(){if(c)throw new Error(fa(3));return a}function f(b){if(typeof b!="function")throw new Error(fa(4));if(c)throw new Error(fa(5));let x=!0;u();const y=l++;return o.set(y,b),function(){if(x){if(c)throw new Error(fa(6));x=!1,u(),o.delete(y),s=null}}}function h(b){if(!eI(b))throw new Error(fa(7));if(typeof b.type>"u")throw new Error(fa(8));if(typeof b.type!="string")throw new Error(fa(17));if(c)throw new Error(fa(9));try{c=!0,a=r(a,b)}finally{c=!1}return(s=o).forEach(y=>{y()}),b}function m(b){if(typeof b!="function")throw new Error(fa(10));r=b,h({type:L1.REPLACE})}function g(){const b=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(fa(11));function y(){const S=x;S.next&&S.next(d())}return y(),{unsubscribe:b(y)}},[_5](){return this}}}return h({type:L1.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[_5]:g}}function P$e(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:L1.INIT})>"u")throw new Error(fa(12));if(typeof n(void 0,{type:L1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fa(13))})}function Jee(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{P$e(n)}catch(s){a=s}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=o[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(fa(14));u[f]=g,c=c||g!==m}return c=c||r.length!==Object.keys(o).length,c?u:o}}function $1(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function E$e(...e){return t=>(n,r)=>{const a=t(n,r);let s=()=>{throw new Error(fa(15))};const o={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(o));return s=$1(...l)(a.dispatch),{...a,dispatch:s}}}function Xee(e){return eI(e)&&"type"in e&&typeof e.type=="string"}var ete=Symbol.for("immer-nothing"),D5=Symbol.for("immer-draftable"),Ya=Symbol.for("immer-state");function $i(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ms=Object,km=Ms.getPrototypeOf,F1="constructor",bj="prototype",W2="configurable",B1="enumerable",sw="writable",dy="value",Il=e=>!!e&&!!e[Ya];function Ji(e){var t;return e?tte(e)||wj(e)||!!e[D5]||!!((t=e[F1])!=null&&t[D5])||Sj(e)||Cj(e):!1}var T$e=Ms[bj][F1].toString(),R5=new WeakMap;function tte(e){if(!e||!tI(e))return!1;const t=km(e);if(t===null||t===Ms[bj])return!0;const n=Ms.hasOwnProperty.call(t,F1)&&t[F1];if(n===Object)return!0;if(!nh(n))return!1;let r=R5.get(n);return r===void 0&&(r=Function.toString.call(n),R5.set(n,r)),r===T$e}function px(e,t,n=!0){gx(e)===0?(n?Reflect.ownKeys(e):Ms.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function gx(e){const t=e[Ya];return t?t.type_:wj(e)?1:Sj(e)?2:Cj(e)?3:0}var M5=(e,t,n=gx(e))=>n===2?e.has(t):Ms[bj].hasOwnProperty.call(e,t),q2=(e,t,n=gx(e))=>n===2?e.get(t):e[t],V1=(e,t,n,r=gx(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function _$e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var wj=Array.isArray,Sj=e=>e instanceof Map,Cj=e=>e instanceof Set,tI=e=>typeof e=="object",nh=e=>typeof e=="function",SA=e=>typeof e=="boolean";function D$e(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ll=e=>e.copy_||e.base_,nI=e=>e.modified_?e.copy_:e.base_;function H2(e,t){if(Sj(e))return new Map(e);if(Cj(e))return new Set(e);if(wj(e))return Array[bj].slice.call(e);const n=tte(e);if(t===!0||t==="class_only"&&!n){const r=Ms.getOwnPropertyDescriptors(e);delete r[Ya];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const o=a[s],l=r[o];l[sw]===!1&&(l[sw]=!0,l[W2]=!0),(l.get||l.set)&&(r[o]={[W2]:!0,[sw]:!0,[B1]:l[B1],[dy]:e[o]})}return Ms.create(km(e),r)}else{const r=km(e);if(r!==null&&n)return{...e};const a=Ms.create(r);return Ms.assign(a,e)}}function rI(e,t=!1){return jj(e)||Il(e)||!Ji(e)||(gx(e)>1&&Ms.defineProperties(e,{set:ab,add:ab,clear:ab,delete:ab}),Ms.freeze(e),t&&px(e,(n,r)=>{rI(r,!0)},!1)),e}function R$e(){$i(2)}var ab={[dy]:R$e};function jj(e){return e===null||!tI(e)?!0:Ms.isFrozen(e)}var z1="MapSet",Y2="Patches",I5="ArrayMethods",nte={};function Wd(e){const t=nte[e];return t||$i(0,e),t}var O5=e=>!!nte[e],fy,rte=()=>fy,M$e=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:O5(z1)?Wd(z1):void 0,arrayMethodsPlugin_:O5(I5)?Wd(I5):void 0});function L5(e,t){t&&(e.patchPlugin_=Wd(Y2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Q2(e){Z2(e),e.drafts_.forEach(I$e),e.drafts_=null}function Z2(e){e===fy&&(fy=e.parent_)}var $5=e=>fy=M$e(fy,e);function I$e(e){const t=e[Ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function F5(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ya].modified_&&(Q2(t),$i(4)),Ji(e)&&(e=B5(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[Ya].base_,e,t)}else e=B5(t,n);return O$e(t,e,!0),Q2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ete?e:void 0}function B5(e,t){if(jj(t))return t;const n=t[Ya];if(!n)return aI(t,e.handledSet_,e);if(!Nj(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);ite(n,e)}return n.copy_}function O$e(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rI(t,n)}function ate(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Nj=(e,t)=>e.scope_===t,L$e=[];function ste(e,t,n,r){const a=ll(e),s=e.type_;if(r!==void 0&&q2(a,r,s)===t){V1(a,r,n,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;px(a,(c,u)=>{if(Il(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??L$e;for(const l of o)V1(a,l,n,s)}function $$e(e,t,n){e.callbacks_.push(function(a){var l;const s=t;if(!s||!Nj(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const o=nI(s);ste(e,s.draft_??s,o,n),ite(s,a)})}function ite(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}ate(e)}}function F$e(e,t,n){const{scope_:r}=e;if(Il(n)){const a=n[Ya];Nj(a,r)&&a.callbacks_.push(function(){iw(e);const o=nI(a);ste(e,n,o,t)})}else Ji(n)&&e.callbacks_.push(function(){const s=ll(e);q2(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&aI(q2(e.copy_,t,e.type_),r.handledSet_,r)})}function aI(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Il(e)||t.has(e)||!Ji(e)||jj(e)||(t.add(e),px(e,(r,a)=>{if(Il(a)){const s=a[Ya];if(Nj(s,n)){const o=nI(s);V1(e,r,o,e.type_),ate(s)}}else Ji(a)&&aI(a,t,n)})),e}function B$e(e,t){const n=wj(e),r={type_:n?1:0,scope_:t?t.scope_:rte(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=sI;n&&(a=[r],s=hy);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return r.draft_=l,r.revoke_=o,[l,r]}var sI={get(e,t){if(t===Ya)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=ll(e);if(!M5(a,t,e.type_))return V$e(e,a,t);const s=a[t];if(e.finalized_||!Ji(s)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&D$e(t))return s;if(s===CA(e.base_,t)){iw(e);const o=e.type_===1?+t:t,l=X2(e.scope_,s,e,o);return e.copy_[o]=l}return s},has(e,t){return t in ll(e)},ownKeys(e){return Reflect.ownKeys(ll(e))},set(e,t,n){const r=ote(ll(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=CA(ll(e),t),s=a==null?void 0:a[Ya];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(_$e(n,a)&&(n!==void 0||M5(e.base_,t,e.type_)))return!0;iw(e),J2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),F$e(e,t,n)),!0},deleteProperty(e,t){return iw(e),CA(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),J2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ll(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[sw]:!0,[W2]:e.type_!==1||t!=="length",[B1]:r[B1],[dy]:n[t]}},defineProperty(){$i(11)},getPrototypeOf(e){return km(e.base_)},setPrototypeOf(){$i(12)}},hy={};px(sI,(e,t)=>{hy[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});hy.deleteProperty=function(e,t){return hy.set.call(this,e,t,void 0)};hy.set=function(e,t,n){return sI.set.call(this,e[0],t,n,e[0])};function CA(e,t){const n=e[Ya];return(n?ll(n):e)[t]}function V$e(e,t,n){var a;const r=ote(t,n);return r?dy in r?r[dy]:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function ote(e,t){if(!(t in e))return;let n=km(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=km(n)}}function J2(e){e.modified_||(e.modified_=!0,e.parent_&&J2(e.parent_))}function iw(e){e.copy_||(e.assigned_=new Map,e.copy_=H2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var z$e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(nh(n)&&!nh(r)){const o=r;r=n;const l=this;return function(u=o,...d){return l.produce(u,f=>r.call(this,f,...d))}}nh(r)||$i(6),a!==void 0&&!nh(a)&&$i(7);let s;if(Ji(n)){const o=$5(this),l=X2(o,n,void 0);let c=!0;try{s=r(l),c=!1}finally{c?Q2(o):Z2(o)}return L5(o,a),F5(s,o)}else if(!n||!tI(n)){if(s=r(n),s===void 0&&(s=n),s===ete&&(s=void 0),this.autoFreeze_&&rI(s,!0),a){const o=[],l=[];Wd(Y2).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:l}),a(o,l)}return s}else $i(1,n)},this.produceWithPatches=(n,r)=>{if(nh(n))return(l,...c)=>this.produceWithPatches(l,u=>n(u,...c));let a,s;return[this.produce(n,r,(l,c)=>{a=l,s=c}),a,s]},SA(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),SA(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),SA(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ji(t)||$i(8),Il(t)&&(t=Ki(t));const n=$5(this),r=X2(n,t,void 0);return r[Ya].isManual_=!0,Z2(n),r}finishDraft(t,n){const r=t&&t[Ya];(!r||!r.isManual_)&&$i(9);const{scope_:a}=r;return L5(a,n),F5(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Wd(Y2).applyPatches_;return Il(t)?a(t,n):this.produce(t,s=>a(s,n))}};function X2(e,t,n,r){const[a,s]=Sj(t)?Wd(z1).proxyMap_(t,n):Cj(t)?Wd(z1).proxySet_(t,n):B$e(t,n);return((n==null?void 0:n.scope_)??rte()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?$$e(n,s,r):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function Ki(e){return Il(e)||$i(10,e),lte(e)}function lte(e){if(!Ji(e)||jj(e))return e;const t=e[Ya];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=H2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=H2(e,!0);return px(n,(a,s)=>{V1(n,a,lte(s))},r),t&&(t.finalized_=!1),n}var U$e=new z$e,cte=U$e.produce;function ute(e){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,e):a(s)}var K$e=ute(),G$e=ute,W$e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$1:$1.apply(null,arguments)};function gi(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error($s(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Xee(r)&&r.type===e,n}var dte=class Mg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Mg.prototype)}static get[Symbol.species](){return Mg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Mg(...t[0].concat(this)):new Mg(...t.concat(this))}};function V5(e){return Ji(e)?cte(e,()=>{}):e}function sb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function q$e(e){return typeof e=="boolean"}var H$e=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new dte;return n&&(q$e(n)?o.push(K$e):o.push(G$e(n.extraArgument))),o},fte="RTK_autoBatch",Wn=()=>e=>({payload:e,meta:{[fte]:!0}}),z5=e=>t=>{setTimeout(t,e)},hte=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,s=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:z5(10):e.type==="callback"?e.queueNotification:z5(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),h=r.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[fte]),s=!a,s&&(o||(o=!0,c(u))),r.dispatch(d)}finally{a=!0}}})},Y$e=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new dte(e);return r&&a.push(hte(typeof r=="object"?r:void 0)),a};function Q$e(e){const t=H$e(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(eI(n))l=Jee(n);else throw new Error($s(1));let c;typeof r=="function"?c=r(t):c=t();let u=$1;a&&(u=W$e({trace:!1,...typeof a=="object"&&a}));const d=E$e(...c),f=Y$e(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return Zee(l,s,m)}function mte(e){const t={},n=[];let r;const a={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error($s(28));if(l in t)throw new Error($s(29));return t[l]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return n.push({matcher:s,reducer:o}),a},addDefaultCase(s){return r=s,a}};return e(a),[t,n,r]}function Z$e(e){return typeof e=="function"}function J$e(e,t){let[n,r,a]=mte(t),s;if(Z$e(e))s=()=>V5(e());else{const l=V5(e);s=()=>l}function o(l=s(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Il(d)){const m=f(d,c);return m===void 0?d:m}else{if(Ji(d))return cte(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=s,o}var X$e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eFe=(e=21)=>{let t="",n=e;for(;n--;)t+=X$e[Math.random()*64|0];return t},tFe=Symbol.for("rtk-slice-createasyncthunk");function nFe(e,t){return`${e}/${t}`}function rFe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[tFe];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error($s(11));const l=(typeof a.reducers=="function"?a.reducers(sFe()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const k=typeof S=="string"?S:S.type;if(!k)throw new Error($s(12));if(k in u.sliceCaseReducersByType)throw new Error($s(13));return u.sliceCaseReducersByType[k]=C,d},addMatcher(S,C){return u.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return u.actionCreators[S]=C,d},exposeCaseReducer(S,C){return u.sliceCaseReducersByName[S]=C,d}};c.forEach(S=>{const C=l[S],k={reducerName:S,type:nFe(s,S),createNotation:typeof a.reducers=="function"};oFe(C)?cFe(k,C,d,t):iFe(k,C,d)});function f(){const[S={},C=[],k=void 0]=typeof a.extraReducers=="function"?mte(a.extraReducers):[a.extraReducers],N={...S,...u.sliceCaseReducersByType};return J$e(a.initialState,P=>{for(let E in N)P.addCase(E,N[E]);for(let E of u.sliceMatchers)P.addMatcher(E.matcher,E.reducer);for(let E of C)P.addMatcher(E.matcher,E.reducer);k&&P.addDefaultCase(k)})}const h=S=>S,m=new Map,g=new WeakMap;let v;function b(S,C){return v||(v=f()),v(S,C)}function x(){return v||(v=f()),v.getInitialState()}function y(S,C=!1){function k(P){let E=P[S];return typeof E>"u"&&C&&(E=sb(g,k,x)),E}function N(P=h){const E=sb(m,C,()=>new WeakMap);return sb(E,P,()=>{const R={};for(const[O,K]of Object.entries(a.selectors??{}))R[O]=aFe(K,P,()=>sb(g,P,x),C);return R})}return{reducerPath:S,getSelectors:N,get selectors(){return N(k)},selectSlice:k}}const w={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...y(o),injectInto(S,{reducerPath:C,...k}={}){const N=C??o;return S.inject({reducerPath:N,reducer:b},k),{...w,...y(N,!0)}}};return w}}function aFe(e,t,n,r){function a(s,...o){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return a.unwrapped=e,a}var ws=rFe();function sFe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function iFe({type:e,reducerName:t,createNotation:n},r,a){let s,o;if("reducer"in r){if(n&&!lFe(r))throw new Error($s(17));s=r.reducer,o=r.prepare}else s=r;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?gi(e,o):gi(e))}function oFe(e){return e._reducerDefinitionType==="asyncThunk"}function lFe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function cFe({type:e,reducerName:t},n,r,a){if(!a)throw new Error($s(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=n,f=a(e,s,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),l&&r.addCase(f.pending,l),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:o||ib,pending:l||ib,rejected:c||ib,settled:u||ib})}function ib(){}var uFe="task",pte="listener",gte="completed",iI="cancelled",dFe=`task-${iI}`,fFe=`task-${gte}`,eT=`${pte}-${iI}`,hFe=`${pte}-${gte}`,kj=class{constructor(e){fn(this,"name","TaskAbortError");fn(this,"message");this.code=e,this.message=`${uFe} ${iI} (reason: ${e})`}},oI=(e,t)=>{if(typeof e!="function")throw new TypeError($s(32))},U1=()=>{},vte=(e,t=U1)=>(e.catch(t),e),yte=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),pd=e=>{if(e.aborted)throw new kj(e.reason)};function xte(e,t){let n=U1;return new Promise((r,a)=>{const s=()=>a(new kj(e.reason));if(e.aborted){s();return}n=yte(e,s),t.finally(()=>n()).then(r,a)}).finally(()=>{n=U1})}var mFe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof kj?"cancelled":"rejected",error:n}}finally{t==null||t()}},K1=e=>t=>vte(xte(e,t).then(n=>(pd(e),n))),bte=e=>{const t=K1(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Hh}=Object,U5={},Aj="listenerMiddleware",pFe=(e,t)=>{const n=r=>yte(e,()=>r.abort(e.reason));return(r,a)=>{oI(r);const s=new AbortController;n(s);const o=mFe(async()=>{pd(e),pd(s.signal);const l=await r({pause:K1(s.signal),delay:bte(s.signal),signal:s.signal});return pd(s.signal),l},()=>s.abort(fFe));return a!=null&&a.autoJoin&&t.push(o.catch(U1)),{result:K1(e)(o),cancel(){s.abort(dFe)}}}},gFe=(e,t)=>{const n=async(r,a)=>{pd(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await xte(t,Promise.race(l));return pd(t),c}finally{s()}};return(r,a)=>vte(n(r,a))},wte=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=gi(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error($s(21));return oI(s),{predicate:a,type:t,effect:s}},Ste=Hh(e=>{const{type:t,predicate:n,effect:r}=wte(e);return{id:eFe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error($s(22))}}},{withTypes:()=>Ste}),K5=(e,t)=>{const{type:n,effect:r,predicate:a}=wte(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},tT=e=>{e.pending.forEach(t=>{t.abort(eT)})},vFe=(e,t)=>()=>{for(const n of t.keys())tT(n);e.clear()},G5=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Cte=Hh(gi(`${Aj}/add`),{withTypes:()=>Cte}),yFe=gi(`${Aj}/removeAll`),jte=Hh(gi(`${Aj}/remove`),{withTypes:()=>jte}),xFe=(...e)=>{console.error(`${Aj}/error`,...e)},vx=(e={})=>{const t=new Map,n=new Map,r=m=>{const g=n.get(m)??0;n.set(m,g+1)},a=m=>{const g=n.get(m)??1;g===1?n.delete(m):n.set(m,g-1)},{extra:s,onError:o=xFe}=e;oI(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&tT(m)}),c=m=>{const g=K5(t,m)??Ste(m);return l(g)};Hh(c,{withTypes:()=>c});const u=m=>{const g=K5(t,m);return g&&(g.unsubscribe(),m.cancelActive&&tT(g)),!!g};Hh(u,{withTypes:()=>u});const d=async(m,g,v,b)=>{const x=new AbortController,y=gFe(c,x.signal),w=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(g,Hh({},v,{getOriginalState:b,condition:(S,C)=>y(S,C).then(Boolean),take:y,delay:bte(x.signal),pause:K1(x.signal),extra:s,signal:x.signal,fork:pFe(x.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,C,k)=>{S!==x&&(S.abort(eT),k.delete(S))})},cancel:()=>{x.abort(eT),m.pending.delete(x)},throwIfCancelled:()=>{pd(x.signal)}})))}catch(S){S instanceof kj||G5(o,S,{raisedBy:"effect"})}finally{await Promise.all(w),x.abort(hFe),a(m),m.pending.delete(x)}},f=vFe(t,n);return{middleware:m=>g=>v=>{if(!Xee(v))return g(v);if(Cte.match(v))return c(v.payload);if(yFe.match(v)){f();return}if(jte.match(v))return u(v.payload);let b=m.getState();const x=()=>{if(b===U5)throw new Error($s(23));return b};let y;try{if(y=g(v),t.size>0){const w=m.getState(),S=Array.from(t.values());for(const C of S){let k=!1;try{k=C.predicate(v,w,b)}catch(N){k=!1,G5(o,N,{raisedBy:"predicate"})}k&&d(C,v,m,x)}}}finally{b=U5}return y},startListening:c,stopListening:u,clearListeners:f}};function $s(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bFe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Nte=ws({name:"chartLayout",initialState:bFe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:wFe,setLayout:SFe,setChartSize:CFe,setScale:jFe}=Nte.actions,NFe=Nte.reducer;function kte(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ir(e){return Number.isFinite(e)}function Lo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function W5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(n),!0).forEach(function(r){kFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kFe(e,t,n){return(t=AFe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AFe(e){var t=PFe(e,"string");return typeof t=="symbol"?t:t+""}function PFe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qn(e,t,n){return yn(e)||yn(t)?n:Oo(t)?Nm(e,t,n):typeof t=="function"?t(e):n}var EFe=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&pt(e[s]))return Ph(Ph({},e),{},{[s]:e[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&pt(e[o]))return Ph(Ph({},e),{},{[o]:e[o]+(a||0)})}return e},vu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Ate=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var a,s,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate));return a||o.push(t),s||o.push(n),o},Pte=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:s,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(v=m==="angleAxis"&&s&&s.length>=2?ms(s[0]-s[1])*2*v:v,f||h){var b=(f||h||[]).map((x,y)=>{var w=r?r.indexOf(x):x;return{coordinate:o(w)+v,value:x,offset:v,index:y}});return b.filter(x=>!Qi(x.coordinate))}return c&&u?u.map((x,y)=>({coordinate:o(x)+v,value:x,index:y,offset:v})):o.ticks&&d!=null?o.ticks(d).map((x,y)=>({coordinate:o(x)+v,value:x,offset:v,index:y})):o.domain().map((x,y)=>({coordinate:o(x)+v,value:r?r[x]:x,index:y,offset:v}))},q5=1e-4,TFe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-q5,s=Math.max(r[0],r[1])+q5,o=e(t[0]),l=e(t[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([t[0],t[n-1]])}},_Fe=(e,t)=>{if(!t||t.length!==2||!pt(t[0])||!pt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!pt(e[0])||e[0]<n)&&(a[0]=n),(!pt(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},DFe=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,o=0,l=0;l<n;++l){var c=e[l],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=Qi(d)?f:d;h>=0?(u[0]=s,u[1]=s+h,s=d):(u[0]=o,u[1]=o+h,o=d)}}}},RFe=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[a];if(c!=null){var u=Qi(c[1])?c[0]:c[1];u>=0?(c[0]=s,c[1]=s+u,s=c[1]):(c[0]=0,c[1]=0)}}}},MFe={sign:DFe,expand:b4e,none:Gd,silhouette:w4e,wiggle:S4e,positive:RFe},IFe=(e,t,n)=>{var r,a=(r=MFe[n])!==null&&r!==void 0?r:Gd,s=x4e().keys(t).value((l,c)=>Number(Qn(l,c,0))).order(K2).offset(a),o=s(e);return o.forEach((l,c)=>{l.forEach((u,d)=>{var f=Qn(e[d],t[c],0);Array.isArray(f)&&f.length===2&&pt(f[0])&&pt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function OFe(e){return e==null?void 0:String(e)}function G1(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yn(a[t.dataKey])){var l=bee(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Qn(a,yn(o)?t.dataKey:o);return yn(c)?null:t.scale(c)}var H5=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var l=Qn(s,t.dataKey,t.scale.domain()[o]);return yn(l)?null:t.scale(l)-a/2+r},LFe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},$Fe=e=>{var t=e.flat(2).filter(pt);return[Math.min(...t),Math.max(...t)]},FFe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],BFe=(e,t,n)=>{if(e!=null)return FFe(Object.keys(e).reduce((r,a)=>{var s=e[a];if(!s)return r;var{stackedData:o}=s,l=o.reduce((c,u)=>{var d=kte(u,t,n),f=$Fe(d);return!ir(f[0])||!ir(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},Y5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Am=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=xj(t,d=>d.coordinate),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function Z5(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return Ph(Ph({},t),{},{dataKey:n,payload:r,value:a,name:s})}function fp(e,t){if(e)return String(e);if(typeof t=="string")return t}var VFe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},zFe=(e,t)=>t==="centric"?e.angle:e.radius,Gl=e=>e.layout.width,Wl=e=>e.layout.height,UFe=e=>e.layout.scale,Ete=e=>e.layout.margin,Pj=Me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ej=Me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Tte="data-recharts-item-index",_te="data-recharts-item-id",yx=60;function J5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ob(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(n),!0).forEach(function(r){KFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KFe(e,t,n){return(t=GFe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GFe(e){var t=WFe(e,"string");return typeof t=="symbol"?t:t+""}function WFe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qFe=e=>e.brush.height;function HFe(e){var t=Ej(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:yx;return n+a}return n},0)}function YFe(e){var t=Ej(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:yx;return n+a}return n},0)}function QFe(e){var t=Pj(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ZFe(e){var t=Pj(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var la=Me([Gl,Wl,Ete,qFe,HFe,YFe,QFe,ZFe,Yee,S$e],(e,t,n,r,a,s,o,l,c,u)=>{var d={left:(n.left||0)+a,right:(n.right||0)+s},f={top:(n.top||0)+o,bottom:(n.bottom||0)+l},h=ob(ob({},f),d),m=h.bottom;h.bottom+=r,h=EFe(h,c,u);var g=e-h.left-h.right,v=t-h.top-h.bottom;return ob(ob({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(v,0)})}),JFe=Me(la,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lI=Me(Gl,Wl,(e,t)=>({x:0,y:0,width:e,height:t})),XFe=p.createContext(null),ca=()=>p.useContext(XFe)!=null,Tj=e=>e.brush,_j=Me([Tj,la,Ete],(e,t,n)=>({height:e.height,x:pt(e.x)?e.x:t.left,y:pt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:pt(e.width)?e.width:t.width})),Dte={},Rte={},Mte={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:s}={}){let o,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{g(),o=void 0,l=null},b=()=>{d()},x=function(...y){if(a!=null&&a.aborted)return;o=this,l=y;const w=h==null;m(),c&&w&&d()};return x.schedule=m,x.cancel=v,x.flush=b,a==null||a.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(Mte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mte;function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=r.apply(this,v),f=null},a,{edges:u}),m=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=r.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=n})(Rte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rte;function n(r,a=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(r,a,{leading:o,maxWait:a,trailing:l})}e.throttle=n})(Dte);var eBe=Dte.throttle;const tBe=yi(eBe);var W1=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>a[o++]))}},Ite=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:o}=n,l=Ml(r)?e:Number(r),c=Ml(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},nBe={width:0,height:0,overflow:"visible"},rBe={width:0,overflowX:"visible"},aBe={height:0,overflowY:"visible"},sBe={},iBe=e=>{var{width:t,height:n}=e,r=Ml(t),a=Ml(n);return r&&a?nBe:r?rBe:a?aBe:sBe};function oBe(e){var{width:t,height:n,aspect:r}=e,a=t,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function nT(){return nT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nT.apply(null,arguments)}function X5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function e6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(n),!0).forEach(function(r){lBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lBe(e,t,n){return(t=cBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cBe(e){var t=uBe(e,"string");return typeof t=="symbol"?t:t+""}function uBe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ote=p.createContext({width:-1,height:-1});function dBe(e){return Lo(e.width)&&Lo(e.height)}function Lte(e){var{children:t,width:n,height:r}=e,a=p.useMemo(()=>({width:n,height:r}),[n,r]);return dBe(a)?p.createElement(Ote.Provider,{value:a},t):null}var cI=()=>p.useContext(Ote),fBe=p.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,v=p.useRef(null),b=p.useRef();b.current=m,p.useImperativeHandle(t,()=>v.current);var[x,y]=p.useState({containerWidth:r.width,containerHeight:r.height}),w=p.useCallback((P,E)=>{y(R=>{var O=Math.round(P),K=Math.round(E);return R.containerWidth===O&&R.containerHeight===K?R:{containerWidth:O,containerHeight:K}})},[]);p.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return hx;var P=K=>{var J,{width:Q,height:G}=K[0].contentRect;w(Q,G),(J=b.current)===null||J===void 0||J.call(b,Q,G)};d>0&&(P=tBe(P,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(P),{width:R,height:O}=v.current.getBoundingClientRect();return w(R,O),E.observe(v.current),()=>{E.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=x;W1(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:N}=Ite(S,C,{width:a,height:s,aspect:n,maxHeight:c});return W1(k!=null&&k>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,N,a,s,o,l,n),p.createElement("div",{id:f?"".concat(f):void 0,className:sn("recharts-responsive-container",h),style:e6(e6({},g),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:v},p.createElement("div",{style:iBe({width:a,height:s})},p.createElement(Lte,{width:k,height:N},u)))}),t6=p.forwardRef((e,t)=>{var n=cI();if(Lo(n.width)&&Lo(n.height))return e.children;var{width:r,height:a}=oBe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=Ite(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return pt(s)&&pt(o)?p.createElement(Lte,{width:s,height:o},e.children):p.createElement(fBe,nT({},e,{width:r,height:a,ref:t}))});function $te(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var xx=()=>{var e,t=ca(),n=xt(JFe),r=xt(_j),a=(e=xt(Tj))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},hBe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Fte=()=>{var e;return(e=xt(la))!==null&&e!==void 0?e:hBe},uI=()=>xt(Gl),dI=()=>xt(Wl),mBe=()=>xt(e=>e.layout.margin),un=e=>e.layout.layoutType,hp=()=>xt(un),pBe=()=>{var e=hp();return e!==void 0},Dj=e=>{var t=or(),n=ca(),{width:r,height:a}=e,s=cI(),o=r,l=a;return s&&(o=s.width>0?s.width:r,l=s.height>0?s.height:a),p.useEffect(()=>{!n&&Lo(o)&&Lo(l)&&t(CFe({width:o,height:l}))},[t,n,o,l]),null},Bte=Symbol.for("immer-nothing"),n6=Symbol.for("immer-draftable"),Us=Symbol.for("immer-state");function Fi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var my=Object.getPrototypeOf;function Pm(e){return!!e&&!!e[Us]}function qd(e){var t;return e?Vte(e)||Array.isArray(e)||!!e[n6]||!!((t=e.constructor)!=null&&t[n6])||bx(e)||Mj(e):!1}var gBe=Object.prototype.constructor.toString(),r6=new WeakMap;function Vte(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=r6.get(n);return r===void 0&&(r=Function.toString.call(n),r6.set(n,r)),r===gBe}function q1(e,t,n=!0){Rj(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Rj(e){const t=e[Us];return t?t.type_:Array.isArray(e)?1:bx(e)?2:Mj(e)?3:0}function rT(e,t){return Rj(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zte(e,t,n){const r=Rj(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function vBe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function bx(e){return e instanceof Map}function Mj(e){return e instanceof Set}function $u(e){return e.copy_||e.base_}function aT(e,t){if(bx(e))return new Map(e);if(Mj(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Vte(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Us];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const o=a[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(my(e),r)}else{const r=my(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function fI(e,t=!1){return Ij(e)||Pm(e)||!qd(e)||(Rj(e)>1&&Object.defineProperties(e,{set:lb,add:lb,clear:lb,delete:lb}),Object.freeze(e),t&&Object.values(e).forEach(n=>fI(n,!0))),e}function yBe(){Fi(2)}var lb={value:yBe};function Ij(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var xBe={};function Hd(e){const t=xBe[e];return t||Fi(0,e),t}var py;function Ute(){return py}function bBe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function a6(e,t){t&&(Hd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sT(e){iT(e),e.drafts_.forEach(wBe),e.drafts_=null}function iT(e){e===py&&(py=e.parent_)}function s6(e){return py=bBe(py,e)}function wBe(e){const t=e[Us];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function i6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Us].modified_&&(sT(t),Fi(4)),qd(e)&&(e=H1(t,e),t.parent_||Y1(t,e)),t.patches_&&Hd("Patches").generateReplacementPatches_(n[Us].base_,e,t.patches_,t.inversePatches_)):e=H1(t,n,[]),sT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Bte?e:void 0}function H1(e,t,n){if(Ij(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Us];if(!a)return q1(t,(s,o)=>o6(e,a,t,s,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Y1(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,l=!1;a.type_===3&&(o=new Set(s),s.clear(),l=!0),q1(o,(c,u)=>o6(e,a,s,c,u,n,l),r),Y1(e,s,!1),n&&e.patches_&&Hd("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function o6(e,t,n,r,a,s,o){if(a==null||typeof a!="object"&&!o)return;const l=Ij(a);if(!(l&&!o)){if(Pm(a)){const c=s&&t&&t.type_!==3&&!rT(t.assigned_,r)?s.concat(r):void 0,u=H1(e,a,c);if(zte(n,r,u),Pm(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(qd(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&l)return;H1(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(bx(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Y1(e,a)}}}function Y1(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fI(t,n)}function SBe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ute(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=hI;n&&(a=[r],s=gy);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return r.draft_=l,r.revoke_=o,l}var hI={get(e,t){if(t===Us)return e;const n=$u(e);if(!rT(n,t))return CBe(e,n,t);const r=n[t];return e.finalized_||!qd(r)?r:r===jA(e.base_,t)?(NA(e),e.copy_[t]=lT(r,e)):r},has(e,t){return t in $u(e)},ownKeys(e){return Reflect.ownKeys($u(e))},set(e,t,n){const r=Kte($u(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=jA($u(e),t),s=a==null?void 0:a[Us];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(vBe(n,a)&&(n!==void 0||rT(e.base_,t)))return!0;NA(e),oT(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jA(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,NA(e),oT(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=$u(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Fi(11)},getPrototypeOf(e){return my(e.base_)},setPrototypeOf(){Fi(12)}},gy={};q1(hI,(e,t)=>{gy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gy.deleteProperty=function(e,t){return gy.set.call(this,e,t,void 0)};gy.set=function(e,t,n){return hI.set.call(this,e[0],t,n,e[0])};function jA(e,t){const n=e[Us];return(n?$u(n):e)[t]}function CBe(e,t,n){var a;const r=Kte(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function Kte(e,t){if(!(t in e))return;let n=my(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=my(n)}}function oT(e){e.modified_||(e.modified_=!0,e.parent_&&oT(e.parent_))}function NA(e){e.copy_||(e.copy_=aT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(c=s,...u){return o.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&Fi(6),r!==void 0&&typeof r!="function"&&Fi(7);let a;if(qd(t)){const s=s6(this),o=lT(t,void 0);let l=!0;try{a=n(o),l=!1}finally{l?sT(s):iT(s)}return a6(s,r),i6(a,s)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===Bte&&(a=void 0),this.autoFreeze_&&fI(a,!0),r){const s=[],o=[];Hd("Patches").generateReplacementPatches_(t,a,s,o),r(s,o)}return a}else Fi(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let r,a;return[this.produce(t,n,(o,l)=>{r=o,a=l}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){qd(e)||Fi(8),Pm(e)&&(e=NBe(e));const t=s6(this),n=lT(e,void 0);return n[Us].isManual_=!0,iT(t),n}finishDraft(e,t){const n=e&&e[Us];(!n||!n.isManual_)&&Fi(9);const{scope_:r}=n;return a6(r,t),i6(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Hd("Patches").applyPatches_;return Pm(e)?r(e,t):this.produce(e,a=>r(a,t))}};function lT(e,t){const n=bx(e)?Hd("MapSet").proxyMap_(e,t):Mj(e)?Hd("MapSet").proxySet_(e,t):SBe(e,t);return(t?t.scope_:Ute()).drafts_.push(n),n}function NBe(e){return Pm(e)||Fi(10,e),Gte(e)}function Gte(e){if(!qd(e)||Ij(e))return e;const t=e[Us];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=aT(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=aT(e,!0);return q1(n,(a,s)=>{zte(n,a,Gte(s))},r),t&&(t.finalized_=!1),n}var kBe=new jBe;kBe.produce;var ABe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Wte=ws({name:"legend",initialState:ABe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Wn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Ki(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:Wn()},removeLegendPayload:{reducer(e,t){var n=Ki(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Wn()}}}),{setLegendSize:l6,setLegendSettings:PBe,addLegendPayload:EBe,replaceLegendPayload:TBe,removeLegendPayload:_Be}=Wte.actions,DBe=Wte.reducer,RBe=["contextPayload"];function cT(){return cT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cT.apply(null,arguments)}function c6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(n),!0).forEach(function(r){MBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MBe(e,t,n){return(t=IBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IBe(e){var t=OBe(e,"string");return typeof t=="symbol"?t:t+""}function OBe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LBe(e,t){if(e==null)return{};var n,r,a=$Be(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $Be(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FBe(e){return e.value}function BBe(e){var{contextPayload:t}=e,n=LBe(e,RBe),r=Bee(t,e.payloadUniqBy,FBe),a=Em(Em({},n),{},{payload:r});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement(Z4e,a)}function VBe(e,t,n,r,a,s){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((r||0)-s.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Em(Em({},u),d)}function zBe(e){var t=or();return p.useEffect(()=>{t(PBe(e))},[t,e]),null}function UBe(e){var t=or();return p.useEffect(()=>(t(l6(e)),()=>{t(l6({width:0,height:0}))}),[t,e]),null}function KBe(e,t,n,r){return e==="vertical"&&pt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var GBe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function qte(e){var t=Kr(e,GBe),n=N$e(),r=ULe(),a=mBe(),{width:s,height:o,wrapperStyle:l,portal:c}=t,[u,d]=Qee([n]),f=uI(),h=dI();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),g=KBe(t.layout,o,s,m),v=c?l:Em(Em({position:"absolute",width:(g==null?void 0:g.width)||s||"auto",height:(g==null?void 0:g.height)||o||"auto"},VBe(l,t,a,f,h,u)),l),b=c??r;if(b==null||n==null)return null;var x=p.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},p.createElement(zBe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&p.createElement(UBe,{width:u.width,height:u.height}),p.createElement(BBe,cT({},t,g,{margin:a,chartWidth:f,chartHeight:h,contextPayload:n})));return Vo.createPortal(x,b)}qte.displayName="Legend";function uT(){return uT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uT.apply(null,arguments)}function u6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(n),!0).forEach(function(r){WBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WBe(e,t,n){return(t=qBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qBe(e){var t=HBe(e,"string");return typeof t=="symbol"?t:t+""}function HBe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YBe(e){return Array.isArray(e)&&Oo(e[0])&&Oo(e[1])?e.join(" ~ "):e}var QBe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var C={padding:0,margin:0},k=(l?xj(s,l):s).map((N,P)=>{if(N.type==="none")return null;var E=N.formatter||o||YBe,{value:R,name:O}=N,K=R,J=O;if(E){var Q=E(R,O,N,P,s);if(Array.isArray(Q))[K,J]=Q;else if(Q!=null)K=Q;else return null}var G=kA({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:G},Oo(J)?p.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Oo(J)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},K),p.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:C},k)}return null},g=kA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=kA({margin:0},a),b=!yn(d),x=b?d:"",y=sn("recharts-default-tooltip",c),w=sn("recharts-tooltip-label",u);b&&f&&s!==void 0&&s!==null&&(x=f(d,s));var S=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",uT({className:y,style:g},S),p.createElement("p",{className:w,style:v},p.isValidElement(x)?x:"".concat(x)),m())},ig="recharts-tooltip-wrapper",ZBe={visibility:"hidden"};function JBe(e){var{coordinate:t,translateX:n,translateY:r}=e;return sn(ig,{["".concat(ig,"-right")]:pt(n)&&t&&pt(t.x)&&n>=t.x,["".concat(ig,"-left")]:pt(n)&&t&&pt(t.x)&&n<t.x,["".concat(ig,"-bottom")]:pt(r)&&t&&pt(t.y)&&r>=t.y,["".concat(ig,"-top")]:pt(r)&&t&&pt(t.y)&&r<t.y})}function d6(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&pt(s[r]))return s[r];var d=n[r]-l-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var h=c[r];if(h==null)return 0;if(o[r]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+l,b=h+u;return v>b?Math.max(d,h):Math.max(f,h)}function XBe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function e3e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&n?(d=d6({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=d6({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=XBe({translateX:d,translateY:f,useTranslate3d:l})):u=ZBe,{cssProperties:u,cssClasses:JBe({translateX:d,translateY:f,coordinate:n})}}function f6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(n),!0).forEach(function(r){dT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dT(e,t,n){return(t=t3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t3e(e){var t=n3e(e,"string");return typeof t=="symbol"?t:t+""}function n3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class r3e extends p.PureComponent{constructor(){super(...arguments),dT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dT(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:v,innerRef:b,hasPortalFromProps:x}=this.props,{cssClasses:y,cssProperties:w}=e3e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),S=x?{}:cb(cb({transition:c&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=cb(cb({},S),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:C,ref:b},s)}}var Hte=()=>{var e;return(e=xt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function fT(){return fT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fT.apply(null,arguments)}function h6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function m6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(n),!0).forEach(function(r){a3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a3e(e,t,n){return(t=s3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s3e(e){var t=i3e(e,"string");return typeof t=="symbol"?t:t+""}function i3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p6={curveBasisClosed:l4e,curveBasisOpen:c4e,curveBasis:o4e,curveBumpX:qLe,curveBumpY:HLe,curveLinearClosed:u4e,curveLinear:dj,curveMonotoneX:d4e,curveMonotoneY:f4e,curveNatural:h4e,curveStep:m4e,curveStepAfter:g4e,curveStepBefore:p4e},Q1=e=>ir(e.x)&&ir(e.y),g6=e=>e.base!=null&&Q1(e.base)&&Q1(e),og=e=>e.x,lg=e=>e.y,o3e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(fx(e));return(n==="curveMonotone"||n==="curveBump")&&t?p6["".concat(n).concat(t==="vertical"?"Y":"X")]:p6[n]||dj},l3e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=e,o=o3e(t,a),l=s?n.filter(Q1):n,c;if(Array.isArray(r)){var u=n.map((m,g)=>m6(m6({},m),{},{base:r[g]}));a==="vertical"?c=tb().y(lg).x1(og).x0(m=>m.base.x):c=tb().x(og).y1(lg).y0(m=>m.base.y);var d=c.defined(g6).curve(o),f=s?u.filter(g6):u;return d(f)}a==="vertical"&&pt(r)?c=tb().y(lg).x1(og).x0(r):pt(r)?c=tb().x(og).y1(lg).y0(r):c=iee().x(og).y(lg);var h=c.defined(Q1).curve(o);return h(l)},mI=e=>{var{className:t,points:n,path:r,pathRef:a}=e,s=hp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=n&&n.length?l3e(o):r;return p.createElement("path",fT({},zs(e),VM(e),{className:sn("recharts-curve",t),d:l===null?void 0:l,ref:a}))},c3e=["x","y","top","left","width","height","className"];function hT(){return hT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hT.apply(null,arguments)}function v6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function u3e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(n),!0).forEach(function(r){d3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d3e(e,t,n){return(t=f3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f3e(e){var t=h3e(e,"string");return typeof t=="symbol"?t:t+""}function h3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m3e(e,t){if(e==null)return{};var n,r,a=p3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g3e=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),v3e=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=m3e(e,c3e),u=u3e({x:t,y:n,top:r,left:a,width:s,height:o},c);return!pt(t)||!pt(n)||!pt(s)||!pt(o)||!pt(r)||!pt(a)?null:p.createElement("path",hT({},Ha(u),{className:sn("recharts-cross",l),d:g3e(t,n,s,o,r,a)}))};function y3e(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function y6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function x6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y6(Object(n),!0).forEach(function(r){x3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x3e(e,t,n){return(t=b3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b3e(e){var t=w3e(e,"string");return typeof t=="symbol"?t:t+""}function w3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S3e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Yte=(e,t,n)=>e.map(r=>"".concat(S3e(r)," ").concat(t,"ms ").concat(n)).join(","),C3e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),vy=(e,t)=>Object.keys(t).reduce((n,r)=>x6(x6({},n),{},{[r]:e(r,t[r])}),{});function b6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b6(Object(n),!0).forEach(function(r){j3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j3e(e,t,n){return(t=N3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N3e(e){var t=k3e(e,"string");return typeof t=="symbol"?t:t+""}function k3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z1=(e,t,n)=>e+(t-e)*n,mT=e=>{var{from:t,to:n}=e;return t!==n},Qte=(e,t,n)=>{var r=vy((a,s)=>{if(mT(s)){var[o,l]=e(s.from,s.to,s.velocity);return Mr(Mr({},s),{},{from:o,velocity:l})}return s},t);return n<1?vy((a,s)=>mT(s)&&r[a]!=null?Mr(Mr({},s),{},{velocity:Z1(s.velocity,r[a].velocity,n),from:Z1(s.from,r[a].from,n)}):s,t):Qte(e,r,n-1)};function A3e(e,t,n,r,a,s){var o,l=r.reduce((h,m)=>Mr(Mr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>vy((h,m)=>m.from,l),u=()=>!Object.values(l).filter(mT).length,d=null,f=h=>{o||(o=h);var m=h-o,g=m/n.dt;l=Qte(n,l,g),a(Mr(Mr(Mr({},e),t),c())),o=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function P3e(e,t,n,r,a,s,o){var l=null,c=a.reduce((f,h)=>{var m=e[h],g=t[h];return m==null||g==null?f:Mr(Mr({},f),{},{[h]:[m,g]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/r,m=vy((v,b)=>Z1(...b,n(h)),c);if(s(Mr(Mr(Mr({},e),t),m)),h<1)l=o.setTimeout(d);else{var g=vy((v,b)=>Z1(...b,n(1)),c);s(Mr(Mr(Mr({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const E3e=(e,t,n,r,a,s)=>{var o=C3e(e,t);return n==null?()=>(a(Mr(Mr({},e),t)),()=>{}):n.isStepper===!0?A3e(e,t,n,o,a,s):P3e(e,t,n,r,o,a,s)};var J1=1e-4,Zte=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Jte=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),w6=(e,t)=>n=>{var r=Zte(e,t);return Jte(r,n)},T3e=(e,t)=>n=>{var r=Zte(e,t),a=[...r.map((s,o)=>s*o).slice(1),0];return Jte(a,n)},_3e=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},D3e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=_3e(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},R3e=(e,t,n,r)=>{var a=w6(e,n),s=w6(t,r),o=T3e(e,n),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,g=o(f);if(Math.abs(m-d)<J1||g<J1)return s(f);f=l(f-m/g)}return s(f)};return c.isStepper=!1,c},S6=function(){return R3e(...D3e(...arguments))},M3e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,s=(o,l,c)=>{var u=-(o-l)*n,d=c*r,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-l)<J1&&Math.abs(f)<J1?[l,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},I3e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S6(e);case"spring":return M3e();default:if(e.split("(")[0]==="cubic-bezier")return S6(e)}return typeof e=="function"?e:null};function O3e(e){var t,n=()=>null,r=!1,a=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class L3e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function $3e(){return O3e(new L3e)}var F3e=p.createContext($3e);function B3e(e,t){var n=p.useContext(F3e);return p.useMemo(()=>t??n(e),[e,t,n])}var V3e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Oj={isSsr:V3e()},z3e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},C6={t:0},AA={t:1};function wx(e){var t=Kr(e,z3e),{isActive:n,canBegin:r,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=n==="auto"?!Oj.isSsr:n,f=B3e(t.animationId,t.animationManager),[h,m]=p.useState(d?C6:AA),g=p.useRef(null);return p.useEffect(()=>{d||m(AA)},[d]),p.useEffect(()=>{if(!d||!r)return hx;var v=E3e(C6,AA,I3e(s),a,m,f.getTimeoutController()),b=()=>{g.current=v()};return f.start([c,o,b,a,l]),()=>{f.stop(),g.current&&g.current(),l()}},[d,r,a,s,o,c,l,f]),u(h.t)}function Sx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=p.useRef(uy(t)),r=p.useRef(e);return r.current!==e&&(n.current=uy(t),r.current=e),n.current}var U3e=["radius"],K3e=["radius"],j6,N6,k6,A6,P6,E6,T6,_6,D6,R6;function M6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function I6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(n),!0).forEach(function(r){G3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G3e(e,t,n){return(t=W3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W3e(e){var t=q3e(e,"string");return typeof t=="symbol"?t:t+""}function q3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X1.apply(null,arguments)}function O6(e,t){if(e==null)return{};var n,r,a=H3e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function H3e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L6=(e,t,n,r,a)=>{var s=kc(n),o=kc(r),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),c=o>=0?1:-1,u=s>=0?1:-1,d=o>=0&&s>=0||o<0&&s<0?1:0,f;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>l?l:a[m];f=fr(j6||(j6=fo(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=fr(N6||(N6=fo(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=fr(k6||(k6=fo(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=fr(A6||(A6=fo(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+c*h[1])),f+=fr(P6||(P6=fo(["L ",",",""])),e+n,t+r-c*h[2]),h[2]>0&&(f+=fr(E6||(E6=fo(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-u*h[2],t+r)),f+=fr(T6||(T6=fo(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=fr(_6||(_6=fo(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-c*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var v=Math.min(l,a);f=fr(D6||(D6=fo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*v,v,v,d,e+u*v,t,e+n-u*v,t,v,v,d,e+n,t+c*v,e+n,t+r-c*v,v,v,d,e+n-u*v,t+r,e+u*v,t+r,v,v,d,e,t+r-c*v)}else f=fr(R6||(R6=fo(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},$6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xte=e=>{var t=Kr(e,$6),n=p.useRef(null),[r,a]=p.useState(-1);p.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var U=n.current.getTotalLength();U&&a(U)}catch{}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:v}=t,b=p.useRef(l),x=p.useRef(c),y=p.useRef(s),w=p.useRef(o),S=p.useMemo(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),C=Sx(S,"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var k=sn("recharts-rectangle",d);if(!v){var N=Ha(t),{radius:P}=N,E=O6(N,U3e);return p.createElement("path",X1({},E,{x:kc(s),y:kc(o),width:kc(l),height:kc(c),radius:typeof u=="number"?u:void 0,className:k,d:L6(s,o,l,c,u)}))}var R=b.current,O=x.current,K=y.current,J=w.current,Q="0px ".concat(r===-1?1:r,"px"),G="".concat(r,"px 0px"),z=Yte(["strokeDasharray"],h,typeof f=="string"?f:$6.animationEasing);return p.createElement(wx,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:v,begin:m},U=>{var M=En(R,l,U),$=En(O,c,U),B=En(K,s,U),te=En(J,o,U);n.current&&(b.current=M,x.current=$,y.current=B,w.current=te);var q;g?U>0?q={transition:z,strokeDasharray:G}:q={strokeDasharray:Q}:q={strokeDasharray:G};var ae=Ha(t),{radius:he}=ae,je=O6(ae,K3e);return p.createElement("path",X1({},je,{radius:typeof u=="number"?u:void 0,className:k,d:L6(B,te,M,$,u),ref:n,style:I6(I6({},q),t.style)}))})};function F6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function B6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(n),!0).forEach(function(r){Y3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y3e(e,t,n){return(t=Q3e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q3e(e){var t=Z3e(e,"string");return typeof t=="symbol"?t:t+""}function Z3e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eS=Math.PI/180,J3e=e=>e*180/Math.PI,xa=(e,t,n,r)=>({x:e+Math.cos(-eS*r)*n,y:t+Math.sin(-eS*r)*n}),X3e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},e5e=(e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)},t5e=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,o=e5e({x:n,y:r},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var l=(n-a)/o,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:o,angle:J3e(c),angleInRadian:c}},n5e=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-s*360,endAngle:n-s*360}},r5e=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(a,s);return e+o*360},a5e=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:s}=t5e({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=n5e(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?B6(B6({},t),{},{radius:a,angle:r5e(d,t)}):null};function ene(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e,o=xa(t,n,r,a),l=xa(t,n,r,s);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}var V6,z6,U6,K6,G6,W6,q6;function pT(){return pT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pT.apply(null,arguments)}function ed(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s5e=(e,t)=>{var n=ms(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},ub=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+r,d=Math.asin(l/u)/eS,f=c?a:a+s*d,h=xa(t,n,u,f),m=xa(t,n,r,f),g=c?a-s*d:a,v=xa(t,n,u*Math.cos(d*eS),g);return{center:h,circleTangency:m,lineTangency:v,theta:d}},tne=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:o}=e,l=s5e(s,o),c=s+l,u=xa(t,n,a,s),d=xa(t,n,a,c),f=fr(V6||(V6=ed(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(s>c),d.x,d.y);if(r>0){var h=xa(t,n,r,s),m=xa(t,n,r,c);f+=fr(z6||(z6=ed(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(l)>180),+(s<=c),h.x,h.y)}else f+=fr(U6||(U6=ed(["L ",","," Z"])),t,n);return f},i5e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=ms(u-c),{circleTangency:f,lineTangency:h,theta:m}=ub({cx:t,cy:n,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:v,theta:b}=ub({cx:t,cy:n,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),x=l?Math.abs(c-u):Math.abs(c-u)-m-b;if(x<0)return o?fr(K6||(K6=ed(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):tne({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:c,endAngle:u});var y=fr(G6||(G6=ed(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(d<0),f.x,f.y,a,a,+(x>180),+(d<0),g.x,g.y,s,s,+(d<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=ub({cx:t,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:k,lineTangency:N,theta:P}=ub({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-C-P;if(E<0&&s===0)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+=fr(W6||(W6=ed(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(d<0),k.x,k.y,r,r,+(E>180),+(d>0),w.x,w.y,s,s,+(d<0),S.x,S.y)}else y+=fr(q6||(q6=ed(["L",",","Z"])),t,n);return y},o5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nne=e=>{var t=Kr(e,o5e),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var h=sn("recharts-sector",f),m=s-a,g=Zi(o,m,0,!0),v;return g>0&&Math.abs(u-d)<360?v=i5e({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=tne({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),p.createElement("path",pT({},Ha(t),{className:h,d:v}))};function l5e(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(See(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:o,angle:l}=t,c=xa(r,a,s,l),u=xa(r,a,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return ene(t)}}var rne={},ane={},sne={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JM;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(sne);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sne;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(ane);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XM,n=ane;function r(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),o=o===void 0?a<s?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((s-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=r})(rne);var c5e=rne.range;const ine=yi(c5e);function zc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function u5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pI(e){let t,n,r;e.length!==2?(t=zc,n=(l,c)=>zc(e(l),c),r=(l,c)=>e(l)-c):(t=e===zc||e===u5e?e:d5e,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function d5e(){return 0}function one(e){return e===null?NaN:+e}function*f5e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const h5e=pI(zc),Cx=h5e.right;pI(one).center;function m5e(e,t){let n,r;for(const a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));return[n,r]}class gT extends Map{constructor(t,n=v5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(H6(this,t))}has(t){return super.has(H6(this,t))}set(t,n){return super.set(p5e(this,t),n)}delete(t){return super.delete(g5e(this,t))}}function H6({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function p5e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function g5e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function v5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Y6(e){return e}function y5e(e,...t){return x5e(e,Y6,Y6,t)}function x5e(e,t,n,r){return function a(s,o){if(o>=r.length)return n(s);const l=new gT,c=r[o++];let u=-1;for(const d of s){const f=c(d,++u,s),h=l.get(f);h?h.push(d):l.set(f,[d])}for(const[d,f]of l)l.set(d,a(f,o));return t(l)}(e,0)}function b5e(e=zc){if(e===zc)return lne;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function lne(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w5e=Math.sqrt(50),S5e=Math.sqrt(10),C5e=Math.sqrt(2);function tS(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=w5e?10:s>=S5e?5:s>=C5e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?tS(e,t,n*2):[l,c,u]}function vT(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?tS(t,e,n):tS(e,t,n);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function yT(e,t,n){return t=+t,e=+e,n=+n,tS(e,t,n)[2]}function xT(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?yT(t,e,n):yT(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Q6(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Z6(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cne(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?lne:b5e(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/c+h)),g=Math.min(r,Math.floor(t+(c-u)*f/c+h));cne(e,t,m,g,a)}const s=e[t];let o=n,l=r;for(cg(e,n,t),a(e[r],s)>0&&cg(e,n,r);o<l;){for(cg(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[n],s)===0?cg(e,n,l):(++l,cg(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function cg(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ow(e,t,n){if(e=Float64Array.from(f5e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Z6(e);if(t>=1)return Q6(e);var r,a=(r-1)*t,s=Math.floor(a),o=Q6(cne(e,s).subarray(0,s+1)),l=Z6(e.subarray(s+1));return o+(l-o)*(a-s)}}function j5e(e,t,n=one){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),o=+n(e[s],s,e),l=+n(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function N5e(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}function bi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ql(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bT=Symbol("implicit");function Lj(){var e=new gT,t=[],n=[],r=bT;function a(s){let o=e.get(s);if(o===void 0){if(r!==bT)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new gT;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Lj(t,n).unknown(r)},bi.apply(a,arguments),a}function $j(){var e=Lj().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<r,g=m?a:r,v=m?r:a;s=(v-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(v-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var b=N5e(h).map(function(x){return g+s*x});return n(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,a]=h,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(h){return[r,a]=h,r=+r,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return $j(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},bi.apply(f(),arguments)}function une(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return une(t())},e}function k5e(){return une($j.apply(null,arguments).paddingInner(1))}function gI(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dne(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function jx(){}var yy=.7,nS=1/yy,Yh="\\s*([+-]?\\d+)\\s*",xy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ro="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A5e=/^#([0-9a-f]{3,8})$/,P5e=new RegExp(`^rgb\\(${Yh},${Yh},${Yh}\\)$`),E5e=new RegExp(`^rgb\\(${Ro},${Ro},${Ro}\\)$`),T5e=new RegExp(`^rgba\\(${Yh},${Yh},${Yh},${xy}\\)$`),_5e=new RegExp(`^rgba\\(${Ro},${Ro},${Ro},${xy}\\)$`),D5e=new RegExp(`^hsl\\(${xy},${Ro},${Ro}\\)$`),R5e=new RegExp(`^hsla\\(${xy},${Ro},${Ro},${xy}\\)$`),J6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gI(jx,Yd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:X6,formatHex:X6,formatHex8:M5e,formatHsl:I5e,formatRgb:eV,toString:eV});function X6(){return this.rgb().formatHex()}function M5e(){return this.rgb().formatHex8()}function I5e(){return fne(this).formatHsl()}function eV(){return this.rgb().formatRgb()}function Yd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=A5e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tV(t):n===3?new ps(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?db(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?db(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P5e.exec(e))?new ps(t[1],t[2],t[3],1):(t=E5e.exec(e))?new ps(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=T5e.exec(e))?db(t[1],t[2],t[3],t[4]):(t=_5e.exec(e))?db(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=D5e.exec(e))?aV(t[1],t[2]/100,t[3]/100,1):(t=R5e.exec(e))?aV(t[1],t[2]/100,t[3]/100,t[4]):J6.hasOwnProperty(e)?tV(J6[e]):e==="transparent"?new ps(NaN,NaN,NaN,0):null}function tV(e){return new ps(e>>16&255,e>>8&255,e&255,1)}function db(e,t,n,r){return r<=0&&(e=t=n=NaN),new ps(e,t,n,r)}function O5e(e){return e instanceof jx||(e=Yd(e)),e?(e=e.rgb(),new ps(e.r,e.g,e.b,e.opacity)):new ps}function wT(e,t,n,r){return arguments.length===1?O5e(e):new ps(e,t,n,r??1)}function ps(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gI(ps,wT,dne(jx,{brighter(e){return e=e==null?nS:Math.pow(nS,e),new ps(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yy:Math.pow(yy,e),new ps(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ps(gd(this.r),gd(this.g),gd(this.b),rS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nV,formatHex:nV,formatHex8:L5e,formatRgb:rV,toString:rV}));function nV(){return`#${td(this.r)}${td(this.g)}${td(this.b)}`}function L5e(){return`#${td(this.r)}${td(this.g)}${td(this.b)}${td((isNaN(this.opacity)?1:this.opacity)*255)}`}function rV(){const e=rS(this.opacity);return`${e===1?"rgb(":"rgba("}${gd(this.r)}, ${gd(this.g)}, ${gd(this.b)}${e===1?")":`, ${e})`}`}function rS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function td(e){return e=gd(e),(e<16?"0":"")+e.toString(16)}function aV(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bi(e,t,n,r)}function fne(e){if(e instanceof Bi)return new Bi(e.h,e.s,e.l,e.opacity);if(e instanceof jx||(e=Yd(e)),!e)return new Bi;if(e instanceof Bi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Bi(o,l,c,e.opacity)}function $5e(e,t,n,r){return arguments.length===1?fne(e):new Bi(e,t,n,r??1)}function Bi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gI(Bi,$5e,dne(jx,{brighter(e){return e=e==null?nS:Math.pow(nS,e),new Bi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yy:Math.pow(yy,e),new Bi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ps(PA(e>=240?e-240:e+120,a,r),PA(e,a,r),PA(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Bi(sV(this.h),fb(this.s),fb(this.l),rS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rS(this.opacity);return`${e===1?"hsl(":"hsla("}${sV(this.h)}, ${fb(this.s)*100}%, ${fb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sV(e){return e=(e||0)%360,e<0?e+360:e}function fb(e){return Math.max(0,Math.min(1,e||0))}function PA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vI=e=>()=>e;function F5e(e,t){return function(n){return e+n*t}}function B5e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function V5e(e){return(e=+e)==1?hne:function(t,n){return n-t?B5e(t,n,e):vI(isNaN(t)?n:t)}}function hne(e,t){var n=t-e;return n?F5e(e,n):vI(isNaN(e)?t:e)}const aS=function e(t){var n=V5e(t);function r(a,s){var o=n((a=wT(a)).r,(s=wT(s)).r),l=n(a.g,s.g),c=n(a.b,s.b),u=hne(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function z5e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function U5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function K5e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=mp(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=a[o](l);return s}}function G5e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Li(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function W5e(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=mp(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var ST=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EA=new RegExp(ST.source,"g");function q5e(e){return function(){return e}}function H5e(e){return function(t){return e(t)+""}}function mne(e,t){var n=ST.lastIndex=EA.lastIndex=0,r,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=ST.exec(e))&&(a=EA.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Li(r,a)})),n=EA.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?H5e(c[0].x):q5e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function mp(e,t){var n=typeof t,r;return t==null||n==="boolean"?vI(t):(n==="number"?Li:n==="string"?(r=Yd(t))?(t=r,aS):mne:t instanceof Yd?aS:t instanceof Date?G5e:U5e(t)?z5e:Array.isArray(t)?K5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W5e:Li)(e,t)}function yI(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var iV=180/Math.PI,CT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pne(e,t,n,r,a,s){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*iV,skewX:Math.atan(c)*iV,scaleX:o,scaleY:l}}var hb;function Y5e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?CT:pne(t.a,t.b,t.c,t.d,t.e,t.f)}function Q5e(e){return e==null||(hb||(hb=document.createElementNS("http://www.w3.org/2000/svg","g")),hb.setAttribute("transform",e),!(e=hb.transform.baseVal.consolidate()))?CT:(e=e.matrix,pne(e.a,e.b,e.c,e.d,e.e,e.f))}function gne(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,h,m,g){if(u!==f||d!==h){var v=m.push("translate(",null,t,null,n);g.push({i:v-4,x:Li(u,f)},{i:v-2,x:Li(d,h)})}else(f||h)&&m.push("translate("+f+t+h+n)}function o(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,r)-2,x:Li(u,d)})):d&&f.push(a(f)+"rotate("+d+r)}function l(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,r)-2,x:Li(u,d)}):d&&f.push(a(f)+"skewX("+d+r)}function c(u,d,f,h,m,g){if(u!==f||d!==h){var v=m.push(a(m)+"scale(",null,",",null,")");g.push({i:v-4,x:Li(u,f)},{i:v-2,x:Li(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,h),o(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var g=-1,v=h.length,b;++g<v;)f[(b=h[g]).i]=b.x(m);return f.join("")}}}var Z5e=gne(Y5e,"px, ","px)","deg)"),J5e=gne(Q5e,", ",")",")");function X5e(e,t){t===void 0&&(t=e,e=mp);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function e6e(e){return function(){return e}}function sS(e){return+e}var oV=[0,1];function Ua(e){return e}function jT(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:e6e(isNaN(t)?NaN:.5)}function t6e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function n6e(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=jT(a,r),s=n(o,s)):(r=jT(r,a),s=n(s,o)),function(l){return s(r(l))}}function r6e(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=jT(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var c=Cx(e,l,1,r)-1;return s[c](a[c](l))}}function Nx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fj(){var e=oV,t=oV,n=mp,r,a,s,o=Ua,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ua&&(o=t6e(e[0],e[h-1])),l=h>2?r6e:n6e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(r),Li)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,sS),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=yI,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ua,d()):o!==Ua},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return r=h,a=m,d()}}function xI(){return Fj()(Ua,Ua)}function a6e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function iS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Tm(e){return e=iS(Math.abs(e)),e?e[1]:NaN}function s6e(e,t){return function(n,r){for(var a=n.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function i6e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var o6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function by(e){if(!(t=o6e.exec(e)))throw new Error("invalid format: "+e);var t;return new bI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}by.prototype=bI.prototype;function bI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l6e(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var vne;function c6e(e,t){var n=iS(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(vne=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+iS(e,Math.max(0,t+s-1))[0]}function lV(e,t){var n=iS(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const cV={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a6e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>lV(e*100,t),r:lV,s:c6e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uV(e){return e}var dV=Array.prototype.map,fV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function u6e(e){var t=e.grouping===void 0||e.thousands===void 0?uV:s6e(dV.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?uV:i6e(dV.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=by(f);var h=f.fill,m=f.align,g=f.sign,v=f.symbol,b=f.zero,x=f.width,y=f.comma,w=f.precision,S=f.trim,C=f.type;C==="n"?(y=!0,C="g"):cV[C]||(w===void 0&&(w=12),S=!0,C="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var k=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",N=v==="$"?r:/[%p]/.test(C)?o:"",P=cV[C],E=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(O){var K=k,J=N,Q,G,z;if(C==="c")J=P(O)+J,O="";else{O=+O;var U=O<0||1/O<0;if(O=isNaN(O)?c:P(Math.abs(O),w),S&&(O=l6e(O)),U&&+O==0&&g!=="+"&&(U=!1),K=(U?g==="("?g:l:g==="-"||g==="("?"":g)+K,J=(C==="s"?fV[8+vne/3]:"")+J+(U&&g==="("?")":""),E){for(Q=-1,G=O.length;++Q<G;)if(z=O.charCodeAt(Q),48>z||z>57){J=(z===46?a+O.slice(Q+1):O.slice(Q))+J,O=O.slice(0,Q);break}}}y&&!b&&(O=t(O,1/0));var M=K.length+O.length+J.length,$=M<x?new Array(x-M+1).join(h):"";switch(y&&b&&(O=t($+O,$.length?x-J.length:1/0),$=""),m){case"<":O=K+O+J+$;break;case"=":O=K+$+O+J;break;case"^":O=$.slice(0,M=$.length>>1)+K+O+J+$.slice(M);break;default:O=$+K+O+J;break}return s(O)}return R.toString=function(){return f+""},R}function d(f,h){var m=u((f=by(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Tm(h)/3)))*3,v=Math.pow(10,-g),b=fV[8+g/3];return function(x){return m(v*x)+b}}return{format:u,formatPrefix:d}}var mb,wI,yne;d6e({thousands:",",grouping:[3],currency:["$",""]});function d6e(e){return mb=u6e(e),wI=mb.format,yne=mb.formatPrefix,mb}function f6e(e){return Math.max(0,-Tm(Math.abs(e)))}function h6e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tm(t)/3)))*3-Tm(Math.abs(e)))}function m6e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tm(t)-Tm(e))+1}function xne(e,t,n,r){var a=xT(e,t,n),s;switch(r=by(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=h6e(a,o))&&(r.precision=s),yne(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=m6e(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=f6e(a))&&(r.precision=s-(r.type==="%")*2);break}}return wI(r)}function yu(e){var t=e.domain;return e.ticks=function(n){var r=t();return vT(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return xne(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],l=r[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=yT(o,l,n),u===c)return r[a]=o,r[s]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function SI(){var e=xI();return e.copy=function(){return Nx(e,SI())},bi.apply(e,arguments),yu(e)}function bne(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,sS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return bne(e).unknown(t)},e=arguments.length?Array.from(e,sS):[0,1],yu(n)}function wne(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],s=e[r],o;return s<a&&(o=n,n=r,r=o,o=a,a=s,s=o),e[n]=t.floor(a),e[r]=t.ceil(s),e}function hV(e){return Math.log(e)}function mV(e){return Math.exp(e)}function p6e(e){return-Math.log(-e)}function g6e(e){return-Math.exp(-e)}function v6e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function y6e(e){return e===10?v6e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function x6e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pV(e){return(t,n)=>-e(-t,n)}function CI(e){const t=e(hV,mV),n=t.domain;let r=10,a,s;function o(){return a=x6e(r),s=y6e(r),n()[0]<0?(a=pV(a),s=pV(s),e(p6e,g6e)):e(hV,mV),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,v;const b=l==null?10:+l;let x=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(v=h<0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;x.push(v)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;x.push(v)}x.length*2<b&&(x=vT(u,d,b))}else x=vT(h,m,Math.min(m-h,b)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=by(c)).precision==null&&(c.trim=!0),c=wI(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(wne(n(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function Sne(){const e=CI(Fj()).domain([1,10]);return e.copy=()=>Nx(e,Sne()).base(e.base()),bi.apply(e,arguments),e}function gV(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jI(e){var t=1,n=e(gV(t),vV(t));return n.constant=function(r){return arguments.length?e(gV(t=+r),vV(t)):t},yu(n)}function Cne(){var e=jI(Fj());return e.copy=function(){return Nx(e,Cne()).constant(e.constant())},bi.apply(e,arguments)}function yV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function b6e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function w6e(e){return e<0?-e*e:e*e}function NI(e){var t=e(Ua,Ua),n=1;function r(){return n===1?e(Ua,Ua):n===.5?e(b6e,w6e):e(yV(n),yV(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},yu(t)}function kI(){var e=NI(Fj());return e.copy=function(){return Nx(e,kI()).exponent(e.exponent())},bi.apply(e,arguments),e}function S6e(){return kI.apply(null,arguments).exponent(.5)}function xV(e){return Math.sign(e)*e*e}function C6e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function jne(){var e=xI(),t=[0,1],n=!1,r;function a(s){var o=C6e(e(s));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(s){return e.invert(xV(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,sS)).map(xV)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return jne(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},bi.apply(a,arguments),yu(a)}function Nne(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=j5e(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:t[Cx(n,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(zc),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Nne().domain(e).range(t).unknown(r)},bi.apply(s,arguments)}function kne(){var e=0,t=1,n=1,r=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[Cx(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return kne().domain([e,t]).range(a).unknown(s)},bi.apply(yu(o),arguments)}function Ane(){var e=[.5],t=[0,1],n,r=1;function a(s){return s!=null&&s<=s?t[Cx(e,s,0,r)]:n}return a.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Ane().domain(e).range(t).unknown(n)},bi.apply(a,arguments)}const TA=new Date,_A=new Date;function Gr(e,t,n,r){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Gr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),n&&(a.count=(s,o)=>(TA.setTime(+s),_A.setTime(+o),e(TA),e(_A),Math.floor(n(TA,_A))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?o=>r(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const oS=Gr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);oS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):oS);oS.range;const pl=1e3,ci=pl*60,gl=ci*60,Ol=gl*24,AI=Ol*7,bV=Ol*30,DA=Ol*365,nd=Gr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pl)},(e,t)=>(t-e)/pl,e=>e.getUTCSeconds());nd.range;const PI=Gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pl)},(e,t)=>{e.setTime(+e+t*ci)},(e,t)=>(t-e)/ci,e=>e.getMinutes());PI.range;const EI=Gr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ci)},(e,t)=>(t-e)/ci,e=>e.getUTCMinutes());EI.range;const TI=Gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pl-e.getMinutes()*ci)},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getHours());TI.range;const _I=Gr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getUTCHours());_I.range;const kx=Gr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ci)/Ol,e=>e.getDate()-1);kx.range;const Bj=Gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ol,e=>e.getUTCDate()-1);Bj.range;const Pne=Gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ol,e=>Math.floor(e/Ol));Pne.range;function mf(e){return Gr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ci)/AI)}const Vj=mf(0),lS=mf(1),j6e=mf(2),N6e=mf(3),_m=mf(4),k6e=mf(5),A6e=mf(6);Vj.range;lS.range;j6e.range;N6e.range;_m.range;k6e.range;A6e.range;function pf(e){return Gr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/AI)}const zj=pf(0),cS=pf(1),P6e=pf(2),E6e=pf(3),Dm=pf(4),T6e=pf(5),_6e=pf(6);zj.range;cS.range;P6e.range;E6e.range;Dm.range;T6e.range;_6e.range;const DI=Gr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());DI.range;const RI=Gr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());RI.range;const Ll=Gr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ll.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ll.range;const $l=Gr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$l.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$l.range;function Ene(e,t,n,r,a,s){const o=[[nd,1,pl],[nd,5,5*pl],[nd,15,15*pl],[nd,30,30*pl],[s,1,ci],[s,5,5*ci],[s,15,15*ci],[s,30,30*ci],[a,1,gl],[a,3,3*gl],[a,6,6*gl],[a,12,12*gl],[r,1,Ol],[r,2,2*Ol],[n,1,AI],[t,1,bV],[t,3,3*bV],[e,1,DA]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=pI(([,,b])=>b).right(o,h);if(m===o.length)return e.every(xT(u/DA,d/DA,f));if(m===0)return oS.every(Math.max(xT(u,d,f),1));const[g,v]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(v)}return[l,c]}const[D6e,R6e]=Ene($l,RI,zj,Pne,_I,EI),[M6e,I6e]=Ene(Ll,DI,Vj,kx,TI,PI);function RA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function MA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ug(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function O6e(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=dg(a),d=fg(a),f=dg(s),h=fg(s),m=dg(o),g=fg(o),v=dg(l),b=fg(l),x=dg(c),y=fg(c),w={a:U,A:M,b:$,B,c:null,d:kV,e:kV,f:sVe,g:pVe,G:vVe,H:nVe,I:rVe,j:aVe,L:Tne,m:iVe,M:oVe,p:te,q,Q:EV,s:TV,S:lVe,u:cVe,U:uVe,V:dVe,w:fVe,W:hVe,x:null,X:null,y:mVe,Y:gVe,Z:yVe,"%":PV},S={a:ae,A:he,b:je,B:Ee,c:null,d:AV,e:AV,f:SVe,g:DVe,G:MVe,H:xVe,I:bVe,j:wVe,L:Dne,m:CVe,M:jVe,p:me,q:Ve,Q:EV,s:TV,S:NVe,u:kVe,U:AVe,V:PVe,w:EVe,W:TVe,x:null,X:null,y:_Ve,Y:RVe,Z:IVe,"%":PV},C={a:R,A:O,b:K,B:J,c:Q,d:jV,e:jV,f:J6e,g:CV,G:SV,H:NV,I:NV,j:H6e,L:Z6e,m:q6e,M:Y6e,p:E,q:W6e,Q:eVe,s:tVe,S:Q6e,u:V6e,U:z6e,V:U6e,w:B6e,W:K6e,x:G,X:z,y:CV,Y:SV,Z:G6e,"%":X6e};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),S.x=k(n,S),S.X=k(r,S),S.c=k(t,S);function k(ne,ke){return function(we){var re=[],He=-1,Oe=0,Xe=ne.length,Fe,Se,de;for(we instanceof Date||(we=new Date(+we));++He<Xe;)ne.charCodeAt(He)===37&&(re.push(ne.slice(Oe,He)),(Se=wV[Fe=ne.charAt(++He)])!=null?Fe=ne.charAt(++He):Se=Fe==="e"?" ":"0",(de=ke[Fe])&&(Fe=de(we,Se)),re.push(Fe),Oe=He+1);return re.push(ne.slice(Oe,He)),re.join("")}}function N(ne,ke){return function(we){var re=ug(1900,void 0,1),He=P(re,ne,we+="",0),Oe,Xe;if(He!=we.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ke&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Oe=MA(ug(re.y,0,1)),Xe=Oe.getUTCDay(),Oe=Xe>4||Xe===0?cS.ceil(Oe):cS(Oe),Oe=Bj.offset(Oe,(re.V-1)*7),re.y=Oe.getUTCFullYear(),re.m=Oe.getUTCMonth(),re.d=Oe.getUTCDate()+(re.w+6)%7):(Oe=RA(ug(re.y,0,1)),Xe=Oe.getDay(),Oe=Xe>4||Xe===0?lS.ceil(Oe):lS(Oe),Oe=kx.offset(Oe,(re.V-1)*7),re.y=Oe.getFullYear(),re.m=Oe.getMonth(),re.d=Oe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Xe="Z"in re?MA(ug(re.y,0,1)).getUTCDay():RA(ug(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Xe+5)%7:re.w+re.U*7-(Xe+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,MA(re)):RA(re)}}function P(ne,ke,we,re){for(var He=0,Oe=ke.length,Xe=we.length,Fe,Se;He<Oe;){if(re>=Xe)return-1;if(Fe=ke.charCodeAt(He++),Fe===37){if(Fe=ke.charAt(He++),Se=C[Fe in wV?ke.charAt(He++):Fe],!Se||(re=Se(ne,we,re))<0)return-1}else if(Fe!=we.charCodeAt(re++))return-1}return re}function E(ne,ke,we){var re=u.exec(ke.slice(we));return re?(ne.p=d.get(re[0].toLowerCase()),we+re[0].length):-1}function R(ne,ke,we){var re=m.exec(ke.slice(we));return re?(ne.w=g.get(re[0].toLowerCase()),we+re[0].length):-1}function O(ne,ke,we){var re=f.exec(ke.slice(we));return re?(ne.w=h.get(re[0].toLowerCase()),we+re[0].length):-1}function K(ne,ke,we){var re=x.exec(ke.slice(we));return re?(ne.m=y.get(re[0].toLowerCase()),we+re[0].length):-1}function J(ne,ke,we){var re=v.exec(ke.slice(we));return re?(ne.m=b.get(re[0].toLowerCase()),we+re[0].length):-1}function Q(ne,ke,we){return P(ne,t,ke,we)}function G(ne,ke,we){return P(ne,n,ke,we)}function z(ne,ke,we){return P(ne,r,ke,we)}function U(ne){return o[ne.getDay()]}function M(ne){return s[ne.getDay()]}function $(ne){return c[ne.getMonth()]}function B(ne){return l[ne.getMonth()]}function te(ne){return a[+(ne.getHours()>=12)]}function q(ne){return 1+~~(ne.getMonth()/3)}function ae(ne){return o[ne.getUTCDay()]}function he(ne){return s[ne.getUTCDay()]}function je(ne){return c[ne.getUTCMonth()]}function Ee(ne){return l[ne.getUTCMonth()]}function me(ne){return a[+(ne.getUTCHours()>=12)]}function Ve(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ke=k(ne+="",w);return ke.toString=function(){return ne},ke},parse:function(ne){var ke=N(ne+="",!1);return ke.toString=function(){return ne},ke},utcFormat:function(ne){var ke=k(ne+="",S);return ke.toString=function(){return ne},ke},utcParse:function(ne){var ke=N(ne+="",!0);return ke.toString=function(){return ne},ke}}}var wV={"-":"",_:" ",0:"0"},ua=/^\s*\d+/,L6e=/^%/,$6e=/[\\^$*+?|[\]().{}]/g;function on(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function F6e(e){return e.replace($6e,"\\$&")}function dg(e){return new RegExp("^(?:"+e.map(F6e).join("|")+")","i")}function fg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function B6e(e,t,n){var r=ua.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function V6e(e,t,n){var r=ua.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function z6e(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function U6e(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function K6e(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function SV(e,t,n){var r=ua.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CV(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function G6e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function W6e(e,t,n){var r=ua.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function q6e(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function jV(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function H6e(e,t,n){var r=ua.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function NV(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Y6e(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Q6e(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Z6e(e,t,n){var r=ua.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function J6e(e,t,n){var r=ua.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function X6e(e,t,n){var r=L6e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function eVe(e,t,n){var r=ua.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function tVe(e,t,n){var r=ua.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function kV(e,t){return on(e.getDate(),t,2)}function nVe(e,t){return on(e.getHours(),t,2)}function rVe(e,t){return on(e.getHours()%12||12,t,2)}function aVe(e,t){return on(1+kx.count(Ll(e),e),t,3)}function Tne(e,t){return on(e.getMilliseconds(),t,3)}function sVe(e,t){return Tne(e,t)+"000"}function iVe(e,t){return on(e.getMonth()+1,t,2)}function oVe(e,t){return on(e.getMinutes(),t,2)}function lVe(e,t){return on(e.getSeconds(),t,2)}function cVe(e){var t=e.getDay();return t===0?7:t}function uVe(e,t){return on(Vj.count(Ll(e)-1,e),t,2)}function _ne(e){var t=e.getDay();return t>=4||t===0?_m(e):_m.ceil(e)}function dVe(e,t){return e=_ne(e),on(_m.count(Ll(e),e)+(Ll(e).getDay()===4),t,2)}function fVe(e){return e.getDay()}function hVe(e,t){return on(lS.count(Ll(e)-1,e),t,2)}function mVe(e,t){return on(e.getFullYear()%100,t,2)}function pVe(e,t){return e=_ne(e),on(e.getFullYear()%100,t,2)}function gVe(e,t){return on(e.getFullYear()%1e4,t,4)}function vVe(e,t){var n=e.getDay();return e=n>=4||n===0?_m(e):_m.ceil(e),on(e.getFullYear()%1e4,t,4)}function yVe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+on(t/60|0,"0",2)+on(t%60,"0",2)}function AV(e,t){return on(e.getUTCDate(),t,2)}function xVe(e,t){return on(e.getUTCHours(),t,2)}function bVe(e,t){return on(e.getUTCHours()%12||12,t,2)}function wVe(e,t){return on(1+Bj.count($l(e),e),t,3)}function Dne(e,t){return on(e.getUTCMilliseconds(),t,3)}function SVe(e,t){return Dne(e,t)+"000"}function CVe(e,t){return on(e.getUTCMonth()+1,t,2)}function jVe(e,t){return on(e.getUTCMinutes(),t,2)}function NVe(e,t){return on(e.getUTCSeconds(),t,2)}function kVe(e){var t=e.getUTCDay();return t===0?7:t}function AVe(e,t){return on(zj.count($l(e)-1,e),t,2)}function Rne(e){var t=e.getUTCDay();return t>=4||t===0?Dm(e):Dm.ceil(e)}function PVe(e,t){return e=Rne(e),on(Dm.count($l(e),e)+($l(e).getUTCDay()===4),t,2)}function EVe(e){return e.getUTCDay()}function TVe(e,t){return on(cS.count($l(e)-1,e),t,2)}function _Ve(e,t){return on(e.getUTCFullYear()%100,t,2)}function DVe(e,t){return e=Rne(e),on(e.getUTCFullYear()%100,t,2)}function RVe(e,t){return on(e.getUTCFullYear()%1e4,t,4)}function MVe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Dm(e):Dm.ceil(e),on(e.getUTCFullYear()%1e4,t,4)}function IVe(){return"+0000"}function PV(){return"%"}function EV(e){return+e}function TV(e){return Math.floor(+e/1e3)}var Qf,Mne,Ine;OVe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OVe(e){return Qf=O6e(e),Mne=Qf.format,Qf.parse,Ine=Qf.utcFormat,Qf.utcParse,Qf}function LVe(e){return new Date(e)}function $Ve(e){return e instanceof Date?+e:+new Date(+e)}function MI(e,t,n,r,a,s,o,l,c,u){var d=xI(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),v=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),S=u("%Y");function C(k){return(c(k)<k?m:l(k)<k?g:o(k)<k?v:s(k)<k?b:r(k)<k?a(k)<k?x:y:n(k)<k?w:S)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,$Ve)):h().map(LVe)},d.ticks=function(k){var N=h();return e(N[0],N[N.length-1],k??10)},d.tickFormat=function(k,N){return N==null?C:u(N)},d.nice=function(k){var N=h();return(!k||typeof k.range!="function")&&(k=t(N[0],N[N.length-1],k??10)),k?h(wne(N,k)):d},d.copy=function(){return Nx(d,MI(e,t,n,r,a,s,o,l,c,u))},d}function FVe(){return bi.apply(MI(M6e,I6e,Ll,DI,Vj,kx,TI,PI,nd,Mne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BVe(){return bi.apply(MI(D6e,R6e,$l,RI,zj,Bj,_I,EI,nd,Ine).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Uj(){var e=0,t=1,n,r,a,s,o=Ua,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-n)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(mp),u.rangeRound=d(yI),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function xu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function One(){var e=yu(Uj()(Ua));return e.copy=function(){return xu(e,One())},ql.apply(e,arguments)}function Lne(){var e=CI(Uj()).domain([1,10]);return e.copy=function(){return xu(e,Lne()).base(e.base())},ql.apply(e,arguments)}function $ne(){var e=jI(Uj());return e.copy=function(){return xu(e,$ne()).constant(e.constant())},ql.apply(e,arguments)}function II(){var e=NI(Uj());return e.copy=function(){return xu(e,II()).exponent(e.exponent())},ql.apply(e,arguments)}function VVe(){return II.apply(null,arguments).exponent(.5)}function Fne(){var e=[],t=Ua;function n(r){if(r!=null&&!isNaN(r=+r))return t((Cx(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(zc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>ow(e,s/r))},n.copy=function(){return Fne(t).domain(e)},ql.apply(n,arguments)}function Kj(){var e=0,t=.5,n=1,r=1,a,s,o,l,c,u=Ua,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-s)*(r*v<r*s?l:c),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,a=d(e=+e),s=d(t=+t),o=d(n=+n),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),r=s<a?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function g(v){return function(b){var x,y,w;return arguments.length?([x,y,w]=b,u=X5e(v,[x,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(mp),m.rangeRound=g(yI),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,a=v(e),s=v(t),o=v(n),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),r=s<a?-1:1,m}}function Bne(){var e=yu(Kj()(Ua));return e.copy=function(){return xu(e,Bne())},ql.apply(e,arguments)}function Vne(){var e=CI(Kj()).domain([.1,1,10]);return e.copy=function(){return xu(e,Vne()).base(e.base())},ql.apply(e,arguments)}function zne(){var e=jI(Kj());return e.copy=function(){return xu(e,zne()).constant(e.constant())},ql.apply(e,arguments)}function OI(){var e=NI(Kj());return e.copy=function(){return xu(e,OI()).exponent(e.exponent())},ql.apply(e,arguments)}function zVe(){return OI.apply(null,arguments).exponent(.5)}const Ig=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$j,scaleDiverging:Bne,scaleDivergingLog:Vne,scaleDivergingPow:OI,scaleDivergingSqrt:zVe,scaleDivergingSymlog:zne,scaleIdentity:bne,scaleImplicit:bT,scaleLinear:SI,scaleLog:Sne,scaleOrdinal:Lj,scalePoint:k5e,scalePow:kI,scaleQuantile:Nne,scaleQuantize:kne,scaleRadial:jne,scaleSequential:One,scaleSequentialLog:Lne,scaleSequentialPow:II,scaleSequentialQuantile:Fne,scaleSequentialSqrt:VVe,scaleSequentialSymlog:$ne,scaleSqrt:S6e,scaleSymlog:Cne,scaleThreshold:Ane,scaleTime:FVe,scaleUtc:BVe,tickFormat:xne},Symbol.toStringTag,{value:"Module"}));var Hl=e=>e.chartData,Une=Me([Hl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Gj=(e,t,n,r)=>r?Une(e):Hl(e),UVe=(e,t,n)=>n?Une(e):Hl(e);function tu(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(ir(t)&&ir(n))return!0}return!1}function _V(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Kne(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,s;if(ir(n))a=n;else if(typeof n=="function")return;if(ir(r))s=r;else if(typeof r=="function")return;var o=[a,s];if(tu(o))return o}}function KVe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(tu(r))return _V(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(pt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Y5.test(a)){var c=Y5.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(pt(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&Q5.test(s)){var d=Q5.exec(s);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(tu(h))return t==null?h:_V(h,t,n)}}}var pp=1e9,GVe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$I,Yn=!0,vi="[DecimalError] ",vd=vi+"Invalid argument: ",LI=vi+"Exponent out of range: ",gp=Math.floor,Fu=Math.pow,WVe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_s,ra=1e7,Ln=7,Gne=9007199254740991,uS=gp(Gne/Ln),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ln;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};mt.dividedBy=mt.div=function(e){return wl(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var t=this,n=t.constructor;return Nn(wl(t,new n(e),0,1),n.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return Er(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(_s))throw Error(vi+"NaN");if(n.s<1)throw Error(vi+(n.s?"NaN":"-Infinity"));return n.eq(_s)?new r(0):(Yn=!1,t=wl(wy(n,s),wy(e,s),s),Yn=!0,Nn(t,a))};mt.minus=mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Hne(t,e):Wne(t,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(vi+"NaN");return n.s?(Yn=!1,t=wl(n,e,0,1).times(e),Yn=!0,n.minus(t)):Nn(new r(n),a)};mt.naturalExponential=mt.exp=function(){return qne(this)};mt.naturalLogarithm=mt.ln=function(){return wy(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Wne(t,e):Hne(t,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vd+e);if(t=Er(a)+1,r=a.d.length-1,n=r*Ln+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};mt.squareRoot=mt.sqrt=function(){var e,t,n,r,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(vi+"NaN")}for(e=Er(l),Yn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=So(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=gp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(s=r,r=s.plus(wl(l,s,o+2)).times(.5),So(s.d).slice(0,o)===(t=So(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Nn(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(t!="9999")break;o+=4}return Yn=!0,Nn(r,n)};mt.times=mt.mul=function(e){var t,n,r,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=s[a]+m[r]*h[a-r-1]+t,s[a--]=l%ra|0,t=l/ra|0;s[a]=(s[a]+t)%ra|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Yn?Nn(e,f.precision):e};mt.toDecimalPlaces=mt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:($o(e,0,pp),t===void 0?t=r.rounding:$o(t,0,8),Nn(n,e+Er(n)+1,t))};mt.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Qd(r,!0):($o(e,0,pp),t===void 0?t=a.rounding:$o(t,0,8),r=Nn(new a(r),e+1,t),n=Qd(r,!0,e+1)),n};mt.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?Qd(a):($o(e,0,pp),t===void 0?t=s.rounding:$o(t,0,8),r=Nn(new s(a),e+Er(a)+1,t),n=Qd(r.abs(),!1,e+Er(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};mt.toInteger=mt.toint=function(){var e=this,t=e.constructor;return Nn(new t(e),Er(e)+1,t.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var t,n,r,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(_s);if(l=new c(l),!l.s){if(e.s<1)throw Error(vi+"Infinity");return l}if(l.eq(_s))return l;if(r=c.precision,e.eq(_s))return Nn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=l.s,o){if((n=d<0?-d:d)<=Gne){for(a=new c(_s),t=Math.ceil(r/Ln+4),Yn=!1;n%2&&(a=a.times(l),RV(a.d,t)),n=gp(n/2),n!==0;)l=l.times(l),RV(l.d,t);return Yn=!0,e.s<0?new c(_s).div(a):Nn(a,r)}}else if(s<0)throw Error(vi+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Yn=!1,a=e.times(wy(l,r+u)),Yn=!0,a=qne(a),a.s=s,a};mt.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?(n=Er(a),r=Qd(a,n<=s.toExpNeg||n>=s.toExpPos)):($o(e,1,pp),t===void 0?t=s.rounding:$o(t,0,8),a=Nn(new s(a),e,t),n=Er(a),r=Qd(a,e<=n||n<=s.toExpNeg,e)),r};mt.toSignificantDigits=mt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):($o(e,1,pp),t===void 0?t=r.rounding:$o(t,0,8)),Nn(new r(n),e,t)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Er(e),n=e.constructor;return Qd(e,t<=n.toExpNeg||t>=n.toExpPos)};function Wne(e,t){var n,r,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Yn?Nn(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(f/Ln),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/ra|0,c[s]%=ra;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Yn?Nn(t,f):t}function $o(e,t,n){if(e!==~~e||e<t||e>n)throw Error(vd+e)}function So(e){var t,n,r,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)r=e[t]+"",n=Ln-r.length,n&&(s+=pc(n)),s+=r;o=e[t],r=o+"",n=Ln-r.length,n&&(s+=pc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var wl=function(){function e(r,a){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*a+o,r[l]=s%ra|0,o=s/ra|0;return o&&r.unshift(o),r}function t(r,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,s){for(var o=0;s--;)r[s]-=o,o=r[s]<a[s]?1:0,r[s]=o*ra+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,o){var l,c,u,d,f,h,m,g,v,b,x,y,w,S,C,k,N,P,E=r.constructor,R=r.s==a.s?1:-1,O=r.d,K=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(vi+"Division by zero");for(c=r.e-a.e,N=K.length,C=O.length,m=new E(R),g=m.d=[],u=0;K[u]==(O[u]||0);)++u;if(K[u]>(O[u]||0)&&--c,s==null?y=s=E.precision:o?y=s+(Er(r)-Er(a))+1:y=s,y<0)return new E(0);if(y=y/Ln+2|0,u=0,N==1)for(d=0,K=K[0],y++;(u<C||d)&&y--;u++)w=d*ra+(O[u]||0),g[u]=w/K|0,d=w%K|0;else{for(d=ra/(K[0]+1)|0,d>1&&(K=e(K,d),O=e(O,d),N=K.length,C=O.length),S=N,v=O.slice(0,N),b=v.length;b<N;)v[b++]=0;P=K.slice(),P.unshift(0),k=K[0],K[1]>=ra/2&&++k;do d=0,l=t(K,v,N,b),l<0?(x=v[0],N!=b&&(x=x*ra+(v[1]||0)),d=x/k|0,d>1?(d>=ra&&(d=ra-1),f=e(K,d),h=f.length,b=v.length,l=t(f,v,h,b),l==1&&(d--,n(f,N<h?P:K,h))):(d==0&&(l=d=1),f=K.slice()),h=f.length,h<b&&f.unshift(0),n(v,f,b),l==-1&&(b=v.length,l=t(K,v,N,b),l<1&&(d++,n(v,N<b?P:K,b))),b=v.length):l===0&&(d++,v=[0]),g[u++]=d,l&&v[0]?v[b++]=O[S]||0:(v=[O[S]],b=1);while((S++<C||v[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,Nn(m,o?s+Er(m)+1:s)}}();function qne(e,t){var n,r,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Er(e)>16)throw Error(LI+Er(e));if(!e.s)return new d(_s);for(Yn=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Fu(2,u))/Math.LN10*2+5|0,l+=r,n=a=s=new d(_s),d.precision=l;;){if(a=Nn(a.times(e),l),n=n.times(++c),o=s.plus(wl(a,n,l)),So(o.d).slice(0,l)===So(s.d).slice(0,l)){for(;u--;)s=Nn(s.times(s),l);return d.precision=f,t==null?(Yn=!0,Nn(s,f)):s}s=o}}function Er(e){for(var t=e.e*Ln,n=e.d[0];n>=10;n/=10)t++;return t}function IA(e,t,n){if(t>e.LN10.sd())throw Yn=!0,n&&(e.precision=n),Error(vi+"LN10 precision limit exceeded");return Nn(new e(e.LN10),t)}function pc(e){for(var t="";e--;)t+="0";return t}function wy(e,t){var n,r,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(vi+(m.s?"NaN":"-Infinity"));if(m.eq(_s))return new v(0);if(t==null?(Yn=!1,u=b):u=t,m.eq(10))return t==null&&(Yn=!0),IA(v,u);if(u+=h,v.precision=u,n=So(g),r=n.charAt(0),s=Er(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=So(m.d),r=n.charAt(0),f++;s=Er(m),r>1?(m=new v("0."+n),s++):m=new v(r+"."+n.slice(1))}else return c=IA(v,u+2,b).times(s+""),m=wy(new v(r+"."+n.slice(1)),u-h).plus(c),v.precision=b,t==null?(Yn=!0,Nn(m,b)):m;for(l=o=m=wl(m.minus(_s),m.plus(_s),u),d=Nn(m.times(m),u),a=3;;){if(o=Nn(o.times(d),u),c=l.plus(wl(o,new v(a),u)),So(c.d).slice(0,u)===So(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(IA(v,u+2,b).times(s+""))),l=wl(l,new v(f),u),v.precision=b,t==null?(Yn=!0,Nn(l,b)):l;l=c,a+=2}}function DV(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=gp(n/Ln),e.d=[],r=(n+1)%Ln,n<0&&(r+=Ln),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Ln;r<a;)e.d.push(+t.slice(r,r+=Ln));t=t.slice(r),r=Ln-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Yn&&(e.e>uS||e.e<-uS))throw Error(LI+n)}else e.s=0,e.e=0,e.d=[0];return e}function Nn(e,t,n){var r,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=Ln,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/Ln),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=Ln,a=r-Ln+o}if(n!==void 0&&(s=Fu(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/Fu(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(s=Er(e),f.length=1,t=t-s-1,f[0]=Fu(10,(Ln-t%Ln)%Ln),e.e=gp(-t/Ln)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Fu(10,Ln-r),f[d]=a>0?(u/Fu(10,o-a)%Fu(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ra&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=ra)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Yn&&(e.e>uS||e.e<-uS))throw Error(LI+Er(e));return e}function Hne(e,t){var n,r,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Yn?Nn(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),a=Math.max(Math.ceil(m/Ln),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=ra-1;--c[s],c[a]+=ra}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Yn?Nn(t,m):t):new h(0)}function Qd(e,t,n){var r,a=Er(e),s=So(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+pc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+pc(-a-1)+s,n&&(r=n-o)>0&&(s+=pc(r))):a>=o?(s+=pc(a+1-o),n&&(r=n-a-1)>0&&(s=s+"."+pc(r))):((r=a+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(s+="."),s+=pc(r))),e.s<0?"-"+s:s}function RV(e,t){if(e.length>t)return e.length=t,!0}function Yne(e){var t,n,r;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(vd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return DV(o,s.toString())}else if(typeof s!="string")throw Error(vd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,WVe.test(s))DV(o,s);else throw Error(vd+s)}if(a.prototype=mt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Yne,a.config=a.set=qVe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function qVe(e){if(!e||typeof e!="object")throw Error(vi+"Object expected");var t,n,r,a=["precision",1,pp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(gp(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(vd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(vd+n+": "+r);return this}var $I=Yne(GVe);_s=new $I(1);const vn=$I;var HVe=e=>e,Qne={},Zne=e=>e===Qne,MV=e=>function t(){return arguments.length===0||arguments.length===1&&Zne(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Jne=(e,t)=>e===1?t:MV(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(o=>o!==Qne).length;return s>=e?t(...r):Jne(e-s,MV(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=r.map(d=>Zne(d)?l.shift():d);return t(...u,...l)}))}),YVe=e=>Jne(e.length,e),NT=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},QVe=YVe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),ZVe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return HVe;var a=n.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),s(...arguments))}};function Xne(e){var t;return e===0?t=1:t=Math.floor(new vn(e).abs().log(10).toNumber())+1,t}function ere(e,t,n){for(var r=new vn(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var tre=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},nre=(e,t,n)=>{if(e.lte(0))return new vn(0);var r=Xne(e.toNumber()),a=new vn(10).pow(r),s=e.div(a),o=r!==1?.05:.1,l=new vn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?new vn(c.toNumber()):new vn(Math.ceil(c.toNumber()))},JVe=(e,t,n)=>{var r=new vn(1),a=new vn(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new vn(10).pow(Xne(e)-1),a=new vn(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new vn(Math.floor(e)))}else e===0?a=new vn(Math.floor((t-1)/2)):n||(a=new vn(Math.floor(e)));var o=Math.floor((t-1)/2),l=ZVe(QVe(c=>a.add(new vn(c-o).mul(r)).toNumber()),NT);return l(0,t)},rre=function(t,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new vn(0),tickMin:new vn(0),tickMax:new vn(0)};var o=nre(new vn(n).sub(t).div(r-1),a,s),l;t<=0&&n>=0?l=new vn(0):(l=new vn(t).add(n).div(2),l=l.sub(new vn(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new vn(n).sub(l).div(o).toNumber()),d=c+u+1;return d>r?rre(t,n,r,a,s+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:o,tickMin:l.sub(new vn(c).mul(o)),tickMax:l.add(new vn(u).mul(o))})},XVe=function(t){var[n,r]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=tre([n,r]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...NT(0,a-1).map(()=>1/0)]:[...NT(0,a-1).map(()=>-1/0),c];return n>r?u.reverse():u}if(l===c)return JVe(l,a,s);var{step:d,tickMin:f,tickMax:h}=rre(l,c,o,s,0),m=ere(f,h.add(new vn(.1).mul(d)),d);return n>r?m.reverse():m},e8e=function(t,n){var[r,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=tre([r,a]);if(o===-1/0||l===1/0)return[r,a];if(o===l)return[o];var c=Math.max(n,2),u=nre(new vn(l).sub(o).div(c-1),s,0),d=[...ere(new vn(o),new vn(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),r>a?d.reverse():d},are=e=>e.rootProps.maxBarSize,t8e=e=>e.rootProps.barGap,sre=e=>e.rootProps.barCategoryGap,n8e=e=>e.rootProps.barSize,Wj=e=>e.rootProps.stackOffset,ire=e=>e.rootProps.reverseStackOrder,FI=e=>e.options.chartName,BI=e=>e.rootProps.syncId,ore=e=>e.rootProps.syncMethod,VI=e=>e.options.eventEmitter,Pr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ul={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Es={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qj=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},r8e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ul.angleAxisId,includeHidden:!1,name:void 0,reversed:ul.reversed,scale:ul.scale,tick:ul.tick,tickCount:void 0,ticks:void 0,type:ul.type,unit:void 0},a8e={allowDataOverflow:Es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:Es.tickCount,ticks:void 0,type:Es.type,unit:void 0},s8e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ul.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ul.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ul.scale,tick:ul.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},i8e={allowDataOverflow:Es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:Es.tickCount,ticks:void 0,type:"category",unit:void 0},zI=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?s8e:r8e,UI=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?i8e:a8e,Hj=e=>e.polarOptions,KI=Me([Gl,Wl,la],X3e),lre=Me([Hj,KI],(e,t)=>{if(e!=null)return Zi(e.innerRadius,t,0)}),cre=Me([Hj,KI],(e,t)=>{if(e!=null)return Zi(e.outerRadius,t,t*.8)}),o8e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},ure=Me([Hj],o8e);Me([zI,ure],qj);var dre=Me([KI,lre,cre],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Me([UI,dre],qj);var fre=Me([un,Hj,lre,cre,Gl,Wl],(e,t,n,r,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Zi(o,a,a/2),cy:Zi(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),Wr=(e,t)=>t,Yj=(e,t,n)=>n;function GI(e){return e==null?void 0:e.id}function hre(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=n,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=GI(l);u.forEach((f,h)=>{var m=s==null||a?h:String(Qn(f,s,null)),g=Qn(f,l.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:g}),o.set(m,v)})}}),Array.from(o.values())}function Qj(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Zj=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Jj(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function l8e(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var qr=e=>{var t=un(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},vp=e=>e.tooltip.settings.axisId;function IV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IV(Object(n),!0).forEach(function(r){c8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c8e(e,t,n){return(t=u8e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u8e(e){var t=d8e(e,"string");return typeof t=="symbol"?t:t+""}function d8e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kT=[0,"auto"],Xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},mre=(e,t)=>e.cartesianAxis.xAxis[t],Yl=(e,t)=>{var n=mre(e,t);return n??Xr},ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yx},pre=(e,t)=>e.cartesianAxis.yAxis[t],Ql=(e,t)=>{var n=pre(e,t);return n??ea},gre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},WI=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??gre},ts=(e,t,n)=>{switch(t){case"xAxis":return Yl(e,n);case"yAxis":return Ql(e,n);case"zAxis":return WI(e,n);case"angleAxis":return zI(e,n);case"radiusAxis":return UI(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},f8e=(e,t,n)=>{switch(t){case"xAxis":return Yl(e,n);case"yAxis":return Ql(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ax=(e,t,n)=>{switch(t){case"xAxis":return Yl(e,n);case"yAxis":return Ql(e,n);case"angleAxis":return zI(e,n);case"radiusAxis":return UI(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},vre=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function yre(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Px=e=>e.graphicalItems.cartesianItems,h8e=Me([Wr,Yj],yre),xre=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ex=Me([Px,ts,h8e],xre,{memoizeOptions:{resultEqualityCheck:Jj}}),bre=Me([Ex],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Qj)),wre=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),m8e=Me([Ex],wre),Sre=e=>e.map(t=>t.data).filter(Boolean).flat(1),p8e=Me([Ex],Sre,{memoizeOptions:{resultEqualityCheck:Jj}}),Cre=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},qI=Me([p8e,Gj],Cre),jre=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Qn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Qn(a,r)}))):e.map(r=>({value:r})),Xj=Me([qI,ts,Ex],jre);function Nre(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lw(e){if(Oo(e)||e instanceof Date){var t=Number(e);if(ir(t))return t}}function OV(e){if(Array.isArray(e)){var t=[lw(e[0]),lw(e[1])];return tu(t)?t:void 0}var n=lw(e);if(n!=null)return[n,n]}function Fl(e){return e.map(lw).filter(A4e)}function g8e(e,t,n){return!n||typeof t!="number"||Qi(t)?[]:n.length?Fl(n.flatMap(r=>{var a=Qn(e,r.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!ir(s)||!ir(o)))return[t-s,t+o]})):[]}var Hr=e=>{var t=qr(e),n=vp(e);return Ax(e,t,n)},Tx=Me([Hr],e=>e==null?void 0:e.dataKey),v8e=Me([bre,Gj,Hr],hre),kre=(e,t,n,r)=>{var a={},s=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},a);return Object.fromEntries(Object.entries(s).map(o=>{var[l,c]=o,u=r?[...c].reverse():c,d=u.map(GI);return[l,{stackedData:IFe(e,d,n),graphicalItems:u}]}))},AT=Me([v8e,bre,Wj,ire],kre),Are=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var o=BFe(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},y8e=Me([ts],e=>e.allowDataOverflow),HI=e=>{var t;if(e==null||!("domain"in e))return kT;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Fl(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:kT},Pre=Me([ts],HI),Ere=Me([Pre,y8e],Kne),x8e=Me([AT,Hl,Wr,Ere],Are,{memoizeOptions:{resultEqualityCheck:Zj}}),YI=e=>e.errorBars,b8e=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Nre(n,r)),fS=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},Tre=(e,t,n,r,a)=>{var s,o;if(n.length>0&&e.forEach(l=>{n.forEach(c=>{var u,d,f=(u=r[c.id])===null||u===void 0?void 0:u.filter(x=>Nre(a,x)),h=Qn(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=g8e(l,h,f);if(m.length>=2){var g=Math.min(...m),v=Math.max(...m);(s==null||g<s)&&(s=g),(o==null||v>o)&&(o=v)}var b=OV(h);b!=null&&(s=s==null?b[0]:Math.min(s,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=OV(Qn(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),ir(s)&&ir(o))return[s,o]},w8e=Me([qI,ts,m8e,YI,Wr],Tre,{memoizeOptions:{resultEqualityCheck:Zj}});function S8e(e){var{value:t}=e;if(Oo(t)||t instanceof Date)return t}var C8e=(e,t,n)=>{var r=e.map(S8e).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&xee(r))?ine(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},_re=e=>e.referenceElements.dots,yp=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),j8e=Me([_re,Wr,Yj],yp),Dre=e=>e.referenceElements.areas,N8e=Me([Dre,Wr,Yj],yp),Rre=e=>e.referenceElements.lines,k8e=Me([Rre,Wr,Yj],yp),Mre=(e,t)=>{if(e!=null){var n=Fl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},A8e=Me(j8e,Wr,Mre),Ire=(e,t)=>{if(e!=null){var n=Fl(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},P8e=Me([N8e,Wr],Ire);function E8e(e){var t;if(e.x!=null)return Fl([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Fl(n)}function T8e(e){var t;if(e.y!=null)return Fl([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Fl(n)}var Ore=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?E8e(r):T8e(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},_8e=Me([k8e,Wr],Ore),D8e=Me(A8e,_8e,P8e,(e,t,n)=>fS(e,n,t)),Lre=(e,t,n,r,a,s,o,l)=>{if(n!=null)return n;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?fS(r,s,a):fS(s,a);return KVe(t,u,e.allowDataOverflow)},R8e=Me([ts,Pre,Ere,x8e,w8e,D8e,un,Wr],Lre,{memoizeOptions:{resultEqualityCheck:Zj}}),M8e=[0,1],$re=(e,t,n,r,a,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=vu(t,s);if(u&&l==null){var d;return ine(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return c==="category"?C8e(r,e,u):a==="expand"?M8e:o}},QI=Me([ts,un,qI,Xj,Wj,Wr,R8e],$re),Fre=(e,t,n,r,a)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(fx(s));return l in Ig?l:"point"}}},_x=Me([ts,un,vre,FI,Wr],Fre);function I8e(e){if(e!=null){if(e in Ig)return Ig[e]();var t="scale".concat(fx(e));if(t in Ig)return Ig[t]()}}function ZI(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=I8e(t);if(a!=null){var s=a.domain(n).range(r);return TFe(s),s}}}var Bre=(e,t,n)=>{var r=HI(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&tu(e))return XVe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&tu(e))return e8e(e,t.tickCount,t.allowDecimals)}},JI=Me([QI,Ax,_x],Bre),Vre=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&tu(t)&&Array.isArray(n)&&n.length>0){var a=t[0],s=n[0],o=t[1],l=n[n.length-1];return[Math.min(a,s),Math.max(o,l)]}return t},O8e=Me([ts,QI,JI,Wr],Vre),L8e=Me(Xj,ts,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Fl(e.map(f=>f.value))).sort((f,h)=>f-h),a=r[0],s=r[r.length-1];if(a==null||s==null)return 1/0;var o=s-a;if(o===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],u=r[l+1];if(!(c==null||u==null)){var d=u-c;n=Math.min(n,d)}}return n/o}}),zre=Me(L8e,un,sre,la,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!ir(e))return 0;var s=t==="vertical"?r.height:r.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=Zi(n,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),$8e=(e,t,n)=>{var r=Yl(e,t);return r==null||typeof r.padding!="string"?0:zre(e,"xAxis",t,n,r.padding)},F8e=(e,t,n)=>{var r=Ql(e,t);return r==null||typeof r.padding!="string"?0:zre(e,"yAxis",t,n,r.padding)},B8e=Me(Yl,$8e,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),V8e=Me(Ql,F8e,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),z8e=Me([la,B8e,_j,Tj,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),U8e=Me([la,un,V8e,_j,Tj,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:o}=a;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Dx=(e,t,n,r)=>{var a;switch(t){case"xAxis":return z8e(e,n,r);case"yAxis":return U8e(e,n,r);case"zAxis":return(a=WI(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return ure(e);case"radiusAxis":return dre(e,n);default:return}},Ure=Me([ts,Dx],qj),eN=Me([ts,_x,O8e,Ure],ZI);Me([Ex,YI,Wr],b8e);function Kre(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var tN=(e,t)=>t,nN=(e,t,n)=>n,K8e=Me(Pj,tN,nN,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Kre)),G8e=Me(Ej,tN,nN,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Kre)),Gre=(e,t)=>({width:e.width,height:t.height}),W8e=(e,t)=>{var n=typeof t.width=="number"?t.width:yx;return{width:n,height:e.height}},Wre=Me(la,Yl,Gre),q8e=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},H8e=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Y8e=Me(Wl,la,K8e,tN,nN,(e,t,n,r,a)=>{var s={},o;return n.forEach(l=>{var c=Gre(t,l);o==null&&(o=q8e(t,r,e));var u=r==="top"&&!a||r==="bottom"&&a;s[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),s}),Q8e=Me(Gl,la,G8e,tN,nN,(e,t,n,r,a)=>{var s={},o;return n.forEach(l=>{var c=W8e(t,l);o==null&&(o=H8e(t,r,e));var u=r==="left"&&!a||r==="right"&&a;s[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),s}),Z8e=(e,t)=>{var n=Yl(e,t);if(n!=null)return Y8e(e,n.orientation,n.mirror)},J8e=Me([la,Yl,Z8e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),X8e=(e,t)=>{var n=Ql(e,t);if(n!=null)return Q8e(e,n.orientation,n.mirror)},eze=Me([la,Ql,X8e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),qre=Me(la,Ql,(e,t)=>{var n=typeof t.width=="number"?t.width:yx;return{width:n,height:e.height}}),LV=(e,t,n)=>{switch(t){case"xAxis":return Wre(e,n).width;case"yAxis":return qre(e,n).height;default:return}},Hre=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=n,l=vu(e,r),c=t.map(u=>u.value);if(o&&l&&s==="category"&&a&&xee(c))return c}},XI=Me([un,Xj,ts,Wr],Hre),Yre=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,o=vu(e,r);if(o&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},eO=Me([un,Xj,Ax,Wr],Yre),$V=Me([un,f8e,_x,eN,XI,eO,Dx,JI,Wr],(e,t,n,r,a,s,o,l,c)=>{if(t!=null){var u=vu(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:n,scale:r}}}),tze=(e,t,n,r,a,s,o,l,c)=>{if(!(t==null||r==null)){var u=vu(e,c),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/m:0;g=c==="angleAxis"&&s!=null&&s.length>=2?ms(s[0]-s[1])*2*g:g;var v=f||a;if(v){var b=v.map((x,y)=>{var w=o?o.indexOf(x):x;return{index:y,coordinate:r(w)+g,value:x,offset:g}});return b.filter(x=>ir(x.coordinate))}return u&&l?l.map((x,y)=>({coordinate:r(x)+g,value:x,index:y,offset:g})).filter(x=>ir(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+g,value:x,offset:g})):r.domain().map((x,y)=>({coordinate:r(x)+g,value:o?o[x]:x,index:y,offset:g}))}},Qre=Me([un,Ax,_x,eN,JI,Dx,XI,eO,Wr],tze),nze=(e,t,n,r,a,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=vu(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ms(r[0]-r[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Fo=Me([un,Ax,eN,Dx,XI,eO,Wr],nze),Bo=Me(ts,eN,(e,t)=>{if(!(e==null||t==null))return dS(dS({},e),{},{scale:t})}),rze=Me([ts,_x,QI,Ure],ZI),aze=Me((e,t,n)=>WI(e,n),rze,(e,t)=>{if(!(e==null||t==null))return dS(dS({},e),{},{scale:t})}),sze=Me([un,Pj,Ej],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Zre=e=>e.options.defaultTooltipEventType,Jre=e=>e.options.validateTooltipEventTypes;function Xre(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function tO(e,t){var n=Zre(e),r=Jre(e);return Xre(t,n,r)}function ize(e){return xt(t=>tO(t,e))}var eae=(e,t)=>{var n,r=Number(t);if(!(Qi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},oze=e=>e.tooltip.settings,bc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},lze={itemInteraction:{click:bc,hover:bc},axisInteraction:{click:bc,hover:bc},keyboardInteraction:bc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tae=ws({name:"tooltip",initialState:lze,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Wn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Ki(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:Wn()},removeTooltipEntrySettings:{reducer(e,t){var n=Ki(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Wn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:cze,replaceTooltipEntrySettings:uze,removeTooltipEntrySettings:dze,setTooltipSettingsState:fze,setActiveMouseOverItemIndex:nae,mouseLeaveItem:hze,mouseLeaveChart:rae,setActiveClickItemIndex:mze,setMouseOverAxisIndex:aae,setMouseClickAxisIndex:pze,setSyncInteraction:PT,setKeyboardInteraction:ET}=tae.actions,gze=tae.reducer;function FV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(n),!0).forEach(function(r){vze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vze(e,t,n){return(t=yze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yze(e){var t=xze(e,"string");return typeof t=="symbol"?t:t+""}function xze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bze(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function wze(e){return e.index!=null}var sae=(e,t,n,r)=>{if(t==null)return bc;var a=bze(e,t,n);if(a==null)return bc;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(wze(a)){if(s)return pb(pb({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return pb(pb({},bc),{},{coordinate:a.coordinate})};function Sze(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Cze(e,t){var n=Sze(e),r=t[0],a=t[1];if(n===void 0)return!1;var s=Math.min(r,a),o=Math.max(r,a);return n>=s&&n<=o}function jze(e,t,n){if(n==null||t==null)return!0;var r=Qn(e,t);return r==null||!tu(n)?!0:Cze(r,n)}var nO=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!ir(s))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(s,l)),u=t[c];return u==null||jze(u,n,r)?String(c):null},iae=(e,t,n,r,a,s,o,l)=>{if(!(s==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},oae=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},Rx=e=>e.options.tooltipPayloadSearcher,xp=e=>e.tooltip;function BV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function VV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BV(Object(n),!0).forEach(function(r){Nze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nze(e,t,n){return(t=kze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kze(e){var t=Aze(e,"string");return typeof t=="symbol"?t:t+""}function Aze(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pze(e,t){return e??t}var lae=(e,t,n,r,a,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:v,settings:b}=m,x=Pze(v,l),y=Array.isArray(x)?kte(x,u,d):x,w=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:r,S=b==null?void 0:b.nameKey,C;if(r&&Array.isArray(y)&&!Array.isArray(y[0])&&o==="axis"?C=bee(y,r,a):C=s(y,t,c,S),Array.isArray(C))C.forEach(N=>{var P=VV(VV({},b),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(Z5({tooltipEntrySettings:P,dataKey:N.dataKey,payload:N.payload,value:Qn(N.payload,N.dataKey),name:N.name}))});else{var k;h.push(Z5({tooltipEntrySettings:b,dataKey:w,payload:C,value:Qn(C,w),name:(k=Qn(C,S))!==null&&k!==void 0?k:b==null?void 0:b.name}))}return h},f)}},rO=Me([Hr,un,vre,FI,qr],Fre),Eze=Me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Tze=Me([qr,vp],yre),bp=Me([Eze,Hr,Tze],xre,{memoizeOptions:{resultEqualityCheck:Jj}}),_ze=Me([bp],e=>e.filter(Qj)),Dze=Me([bp],Sre,{memoizeOptions:{resultEqualityCheck:Jj}}),wp=Me([Dze,Hl],Cre),Rze=Me([_ze,Hl,Hr],hre),aO=Me([wp,Hr,bp],jre),cae=Me([Hr],HI),Mze=Me([Hr],e=>e.allowDataOverflow),uae=Me([cae,Mze],Kne),Ize=Me([bp],e=>e.filter(Qj)),Oze=Me([Rze,Ize,Wj,ire],kre),Lze=Me([Oze,Hl,qr,uae],Are),$ze=Me([bp],wre),Fze=Me([wp,Hr,$ze,YI,qr],Tre,{memoizeOptions:{resultEqualityCheck:Zj}}),Bze=Me([_re,qr,vp],yp),Vze=Me([Bze,qr],Mre),zze=Me([Dre,qr,vp],yp),Uze=Me([zze,qr],Ire),Kze=Me([Rre,qr,vp],yp),Gze=Me([Kze,qr],Ore),Wze=Me([Vze,Gze,Uze],fS),qze=Me([Hr,cae,uae,Lze,Fze,Wze,un,qr],Lre),Mx=Me([Hr,un,wp,aO,Wj,qr,qze],$re),Hze=Me([Mx,Hr,rO],Bre),Yze=Me([Hr,Mx,Hze,qr],Vre),dae=e=>{var t=qr(e),n=vp(e),r=!1;return Dx(e,t,n,r)},fae=Me([Hr,dae],qj),hae=Me([Hr,rO,Yze,fae],ZI),Qze=Me([un,aO,Hr,qr],Hre),Zze=Me([un,aO,Hr,qr],Yre),Jze=(e,t,n,r,a,s,o,l)=>{if(t){var{type:c}=t,u=vu(e,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ms(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},Zl=Me([un,Hr,rO,hae,dae,Qze,Zze,qr],Jze),sO=Me([Zre,Jre,oze],(e,t,n)=>Xre(n.shared,e,t)),mae=e=>e.tooltip.settings.trigger,iO=e=>e.tooltip.settings.defaultIndex,Ix=Me([xp,sO,mae,iO],sae),nu=Me([Ix,wp,Tx,Mx],nO),pae=Me([Zl,nu],eae),gae=Me([Ix],e=>{if(e)return e.dataKey});Me([Ix],e=>{if(e)return e.graphicalItemId});var vae=Me([xp,sO,mae,iO],oae),Xze=Me([Gl,Wl,un,la,Zl,iO,vae,Rx],iae),eUe=Me([Ix,Xze],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),tUe=Me([Ix],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),nUe=Me([vae,nu,Hl,Tx,pae,Rx,sO],lae),rUe=Me([nUe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function zV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zV(Object(n),!0).forEach(function(r){aUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aUe(e,t,n){return(t=sUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sUe(e){var t=iUe(e,"string");return typeof t=="symbol"?t:t+""}function iUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oUe=()=>xt(Hr),lUe=()=>{var e=oUe(),t=xt(Zl),n=xt(hae);return Am(!e||!n?void 0:UV(UV({},e),{},{scale:n}),t)};function KV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KV(Object(n),!0).forEach(function(r){cUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cUe(e,t,n){return(t=uUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uUe(e){var t=dUe(e,"string");return typeof t=="symbol"?t:t+""}function dUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fUe=(e,t,n,r)=>{var a=t.find(s=>s&&s.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},hUe=(e,t,n,r)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="centric"){var s=a.coordinate,{radius:o}=r;return Zf(Zf(Zf({},r),xa(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,{angle:c}=r;return Zf(Zf(Zf({},r),xa(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mUe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var yae=(e,t,n,r,a)=>{var s,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,u,d,f,h,m=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,g=(d=n[l])===null||d===void 0?void 0:d.coordinate,v=l>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[l+1])===null||h===void 0?void 0:h.coordinate,b=void 0;if(!(m==null||g==null||v==null))if(ms(g-m)!==ms(v-g)){var x=[];if(ms(v-g)===ms(a[1]-a[0])){b=v;var y=g+a[1]-a[0];x[0]=Math.min(y,(y+m)/2),x[1]=Math.max(y,(y+m)/2)}else{b=m;var w=v+a[1]-a[0];x[0]=Math.min(g,(w+g)/2),x[1]=Math.max(g,(w+g)/2)}var S=[Math.min(g,(b+g)/2),Math.max(g,(b+g)/2)];if(e>S[0]&&e<=S[1]||e>=x[0]&&e<=x[1]){var C;return(C=n[l])===null||C===void 0?void 0:C.index}}else{var k=Math.min(m,v),N=Math.max(m,v);if(e>(k+g)/2&&e<=(N+g)/2){var P;return(P=n[l])===null||P===void 0?void 0:P.index}}}else if(t)for(var E=0;E<o;E++){var R=t[E];if(R!=null){var O=t[E+1],K=t[E-1];if(E===0&&O!=null&&e<=(R.coordinate+O.coordinate)/2||E===o-1&&K!=null&&e>(R.coordinate+K.coordinate)/2||E>0&&E<o-1&&K!=null&&O!=null&&e>(R.coordinate+K.coordinate)/2&&e<=(R.coordinate+O.coordinate)/2)return R.index}}return-1},pUe=()=>xt(FI),oO=(e,t)=>t,xae=(e,t,n)=>n,lO=(e,t,n,r)=>r,gUe=Me(Zl,e=>xj(e,t=>t.coordinate)),cO=Me([xp,oO,xae,lO],sae),uO=Me([cO,wp,Tx,Mx],nO),vUe=(e,t,n)=>{if(t!=null){var r=xp(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},bae=Me([xp,oO,xae,lO],oae),hS=Me([Gl,Wl,un,la,Zl,lO,bae,Rx],iae),yUe=Me([cO,hS],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),wae=Me([Zl,uO],eae),xUe=Me([bae,uO,Hl,Tx,wae,Rx,oO],lae),bUe=Me([cO,uO],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wUe=(e,t,n,r,a,s,o)=>{if(!(!e||!n||!r||!a)&&mUe(e,o)){var l=VFe(e,t),c=yae(l,s,a,n,r),u=fUe(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},SUe=(e,t,n,r,a,s,o)=>{if(!(!e||!r||!a||!s||!n)){var l=a5e(e,n);if(l){var c=zFe(l,t),u=yae(c,o,s,r,a),d=hUe(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},CUe=(e,t,n,r,a,s,o,l)=>{if(!(!e||!t||!r||!a||!s))return t==="horizontal"||t==="vertical"?wUe(e,t,r,a,s,o,l):SUe(e,t,n,r,a,s,o)},jUe=Me(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),NUe=Me(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Pr)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:l8e}});function GV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GV(Object(n),!0).forEach(function(r){kUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kUe(e,t,n){return(t=AUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AUe(e){var t=PUe(e,"string");return typeof t=="symbol"?t:t+""}function PUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EUe={},TUe={zIndexMap:Object.values(Pr).reduce((e,t)=>WV(WV({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),EUe)},_Ue=new Set(Object.values(Pr));function DUe(e){return _Ue.has(e)}var Sae=ws({name:"zIndex",initialState:TUe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Wn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!DUe(n)&&delete e.zIndexMap[n])},prepare:Wn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:Wn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Wn()}}}),{registerZIndexPortal:RUe,unregisterZIndexPortal:MUe,registerZIndexPortalElement:IUe,unregisterZIndexPortalElement:OUe}=Sae.actions,LUe=Sae.reducer;function Ss(e){var{zIndex:t,children:n}=e,r=pBe(),a=r&&t!==void 0&&t!==0,s=ca(),o=or();p.useLayoutEffect(()=>a?(o(RUe({zIndex:t})),()=>{o(MUe({zIndex:t}))}):hx,[o,t,a]);var l=xt(c=>jUe(c,t,s));return a?l?Vo.createPortal(n,l):null:n}function TT(){return TT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TT.apply(null,arguments)}function qV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qV(Object(n),!0).forEach(function(r){$Ue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Ue(e,t,n){return(t=FUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FUe(e){var t=BUe(e,"string");return typeof t=="symbol"?t:t+""}function BUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VUe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return p.isValidElement(t)?p.cloneElement(t,r):p.createElement(n,r)}function zUe(e){var t,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=n,h=r,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,v,b;if(d==="ScatterChart")g=f,v=v3e,b=Pr.cursorLine;else if(d==="BarChart")g=y3e(l,f,s,o),v=Xte,b=Pr.cursorRectangle;else if(l==="radial"&&See(f)){var{cx:x,cy:y,radius:w,startAngle:S,endAngle:C}=ene(f);g={cx:x,cy:y,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},v=nne,b=Pr.cursorLine}else g={points:l5e(l,f,s)},v=mI,b=Pr.cursorLine;var k=typeof c=="object"&&"className"in c?c.className:void 0,N=gb(gb(gb(gb({stroke:"#ccc",pointerEvents:"none"},s),g),dp(c)),{},{payload:h,payloadIndex:m,className:sn("recharts-tooltip-cursor",k)});return p.createElement(Ss,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},p.createElement(VUe,{cursor:c,cursorComp:v,cursorProps:N}))}function UUe(e){var t=lUe(),n=Fte(),r=hp(),a=pUe();return t==null||n==null||r==null||a==null?null:p.createElement(zUe,TT({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var Cae=p.createContext(null),KUe=()=>p.useContext(Cae),jae={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],x=arguments.length,y,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,g),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];b.fn.apply(b.context,y)}else{var S=b.length,C;for(w=0;w<S;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),x){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,f);break;case 4:b[w].fn.call(b[w].context,d,f,h);break;default:if(!y)for(C=1,y=new Array(x-1);C<x;C++)y[C-1]=arguments[C];b[w].fn.apply(b[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var v=0,b=[],x=g.length;v<x;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&b.push(g[v]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(jae);var GUe=jae.exports;const WUe=yi(GUe);var Sy=new WUe,_T="recharts.syncEvent.tooltip",HV="recharts.syncEvent.brush";function dO(e,t){if(t){var n=Number.parseInt(t,10);if(!Qi(n))return e==null?void 0:e[n]}}var qUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Nae=ws({name:"options",initialState:qUe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),HUe=Nae.reducer,{createEventEmitter:YUe}=Nae.actions;function QUe(e){return e.tooltip.syncInteraction}var ZUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},kae=ws({name:"chartData",initialState:ZUe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:YV,setDataStartEndIndexes:JUe,setComputedData:Rnt}=kae.actions,XUe=kae.reducer,eKe=["x","y"];function QV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QV(Object(n),!0).forEach(function(r){tKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tKe(e,t,n){return(t=nKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nKe(e){var t=rKe(e,"string");return typeof t=="symbol"?t:t+""}function rKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aKe(e,t){if(e==null)return{};var n,r,a=sKe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iKe(){var e=xt(BI),t=xt(VI),n=or(),r=xt(ore),a=xt(Zl),s=hp(),o=xx(),l=xt(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return hx;var c=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y:v}=m,b=aKe(m,eKe),{x,y,width:w,height:S}=d.payload.sourceViewBox,C=Jf(Jf({},b),{},{x:o.x+(w?(g-x)/w:0)*o.width,y:o.y+(S?(v-y)/S:0)*o.height});n(Jf(Jf({},d),{},{payload:Jf(Jf({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var k;if(typeof r=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},P=r(a,N);k=a[P]}else r==="value"&&(k=a.find(z=>String(z.value)===d.payload.label));var{coordinate:E}=d.payload;if(k==null||d.payload.active===!1||E==null||o==null){n(PT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:O}=E,K=Math.min(R,o.x+o.width),J=Math.min(O,o.y+o.height),Q={x:s==="horizontal"?k.coordinate:K,y:s==="horizontal"?J:k.coordinate},G=PT({active:d.payload.active,coordinate:Q,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(G)}}};return Sy.on(_T,c),()=>{Sy.off(_T,c)}},[l,n,t,e,r,a,s,o])}function oKe(){var e=xt(BI),t=xt(VI),n=or();p.useEffect(()=>{if(e==null)return hx;var r=(a,s,o)=>{t!==o&&e===a&&n(JUe(s))};return Sy.on(HV,r),()=>{Sy.off(HV,r)}},[n,t,e])}function lKe(){var e=or();p.useEffect(()=>{e(YUe())},[e]),iKe(),oKe()}function cKe(e,t,n,r,a,s){var o=xt(m=>vUe(m,e,t)),l=xt(VI),c=xt(BI),u=xt(ore),d=xt(QUe),f=d==null?void 0:d.active,h=xx();p.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=PT({active:s,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Sy.emit(_T,c,m,l)}},[f,n,o,a,r,l,c,u,s,h])}function ZV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZV(Object(n),!0).forEach(function(r){uKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uKe(e,t,n){return(t=dKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dKe(e){var t=fKe(e,"string");return typeof t=="symbol"?t:t+""}function fKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hKe(e){return e.dataKey}function mKe(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(QBe,t)}var XV=[],pKe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Aae(e){var t,n,r=Kr(e,pKe),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:v,wrapperStyle:b,cursor:x,shared:y,trigger:w,defaultIndex:S,portal:C,axisId:k}=r,N=or(),P=typeof S=="number"?String(S):S;p.useEffect(()=>{N(fze({shared:y,trigger:w,axisId:k,active:a,defaultIndex:P}))},[N,y,w,k,a,P]);var E=xx(),R=Hte(),O=ize(y),{activeIndex:K,isActive:J}=(t=xt(me=>bUe(me,O,w,P)))!==null&&t!==void 0?t:{},Q=xt(me=>xUe(me,O,w,P)),G=xt(me=>wae(me,O,w,P)),z=xt(me=>yUe(me,O,w,P)),U=Q,M=KUe(),$=(n=a??J)!==null&&n!==void 0?n:!1,[B,te]=Qee([U,$]),q=O==="axis"?G:void 0;cKe(O,w,z,q,K,$);var ae=C??M;if(ae==null||E==null||O==null)return null;var he=U??XV;$||(he=XV),u&&he.length&&(he=Bee(he.filter(me=>me.value!=null&&(me.hide!==!0||r.includeHidden)),h,hKe));var je=he.length>0,Ee=p.createElement(r3e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:$,coordinate:z,hasPayload:je,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:E,wrapperStyle:b,lastBoundingBox:B,innerRef:te,hasPortalFromProps:!!C},mKe(c,JV(JV({},r),{},{payload:he,label:q,active:$,activeIndex:K,coordinate:z,accessibilityLayer:R})));return p.createElement(p.Fragment,null,Vo.createPortal(Ee,ae),$&&p.createElement(UUe,{cursor:x,tooltipEventType:O,coordinate:z,payload:he,index:K}))}var Rm=e=>null;Rm.displayName="Cell";function gKe(e,t,n){return(t=vKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vKe(e){var t=yKe(e,"string");return typeof t=="symbol"?t:t+""}function yKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xKe{constructor(t){gKe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function e8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bKe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(n),!0).forEach(function(r){wKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wKe(e,t,n){return(t=SKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SKe(e){var t=CKe(e,"string");return typeof t=="symbol"?t:t+""}function CKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jKe={cacheSize:2e3,enableCache:!0},Pae=bKe({},jKe),t8=new xKe(Pae.cacheSize),NKe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},n8="recharts_measurement_span";function kKe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(l)}var r8=(e,t)=>{try{var n=document.getElementById(n8);n||(n=document.createElement("span"),n.setAttribute("id",n8),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,NKe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},uv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Oj.isSsr)return{width:0,height:0};if(!Pae.enableCache)return r8(t,n);var r=kKe(t,n),a=t8.get(r);if(a)return a;var s=r8(t,n);return t8.set(r,s),s},Eae;function AKe(e,t,n){return(t=PKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PKe(e){var t=EKe(e,"string");return typeof t=="symbol"?t:t+""}function EKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TKe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_Ke=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DKe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RKe=["cm","mm","pt","pc","in","Q","px"];function MKe(e){return RKe.includes(e)}var Eh="NaN";function IKe(e,t){return e*DKe[t]}class va{static parse(t){var n,[,r,a]=(n=_Ke.exec(t))!==null&&n!==void 0?n:[];return r==null?va.NaN:new va(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Qi(t)&&(this.unit=""),n!==""&&!TKe.test(n)&&(this.num=NaN,this.unit=""),MKe(n)&&(this.num=IKe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new va(NaN,""):new va(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new va(NaN,""):new va(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new va(NaN,""):new va(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new va(NaN,""):new va(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qi(this.num)}}Eae=va;AKe(va,"NaN",new Eae(NaN,""));function Tae(e){if(e==null||e.includes(Eh))return Eh;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=(n=a8.exec(t))!==null&&n!==void 0?n:[],o=va.parse(r??""),l=va.parse(s??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Eh;t=t.replace(a8,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=s8.exec(t))!==null&&u!==void 0?u:[],m=va.parse(d??""),g=va.parse(h??""),v=f==="+"?m.add(g):m.subtract(g);if(v.isNaN())return Eh;t=t.replace(s8,v.toString())}return t}var i8=/\(([^()]*)\)/;function OKe(e){for(var t=e,n;(n=i8.exec(t))!=null;){var[,r]=n;t=t.replace(i8,Tae(r))}return t}function LKe(e){var t=e.replace(/\s+/g,"");return t=OKe(t),t=Tae(t),t}function $Ke(e){try{return LKe(e)}catch{return Eh}}function OA(e){var t=$Ke(e.slice(5,-1));return t===Eh?"":t}var FKe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],BKe=["dx","dy","angle","className","breakAll"];function DT(){return DT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DT.apply(null,arguments)}function o8(e,t){if(e==null)return{};var n,r,a=VKe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function VKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _ae=/[ \f\n\r\t\v\u2028\u2029]+/,Dae=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];yn(t)||(n?a=t.toString().split(""):a=t.toString().split(_ae));var s=a.map(l=>({word:l,width:uv(l,r).width})),o=n?0:uv("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function zKe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Rae=(e,t,n,r)=>e.reduce((a,s)=>{var{word:o,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||r||c.width+l+n<Number(t)))c.words.push(o),c.width+=l+n;else{var u={words:[o],width:l};a.push(u)}return a},[]),Mae=e=>e.reduce((t,n)=>t.width>n.width?t:n),UKe="",l8=(e,t,n,r,a,s,o,l)=>{var c=e.slice(0,t),u=Dae({breakAll:n,style:r,children:c+UKe});if(!u)return[!1,[]];var d=Rae(u.wordsWithComputedWidth,s,o,l),f=d.length>a||Mae(d).width>Number(s);return[f,d]},KKe=(e,t,n,r,a)=>{var{maxLines:s,children:o,style:l,breakAll:c}=e,u=pt(s),d=String(o),f=Rae(t,r,n,a);if(!u||a)return f;var h=f.length>s||Mae(f).width>Number(r);if(!h)return f;for(var m=0,g=d.length-1,v=0,b;m<=g&&v<=d.length-1;){var x=Math.floor((m+g)/2),y=x-1,[w,S]=l8(d,y,c,l,s,r,n,a),[C]=l8(d,x,c,l,s,r,n,a);if(!w&&!C&&(m=x+1),w&&C&&(g=x-1),!w&&C){b=S;break}v++}return b||f},c8=e=>{var t=yn(e)?[]:e.toString().split(_ae);return[{words:t,width:void 0}]},GKe=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:o}=e;if((t||n)&&!Oj.isSsr){var l,c,u=Dae({breakAll:s,children:r,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return c8(r);return KKe({breakAll:s,children:r,maxLines:o,style:a},l,c,t,!!n)}return c8(r)},Iae="#808080",WKe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Iae,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fO=p.forwardRef((e,t)=>{var n=Kr(e,WKe),{x:r,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,f=o8(n,FKe),h=p.useMemo(()=>GKe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:g,angle:v,className:b,breakAll:x}=f,y=o8(f,BKe);if(!Oo(r)||!Oo(a)||h.length===0)return null;var w=Number(r)+(pt(m)?m:0),S=Number(a)+(pt(g)?g:0);if(!ir(w)||!ir(S))return null;var C;switch(d){case"start":C=OA("calc(".concat(o,")"));break;case"middle":C=OA("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:C=OA("calc(".concat(h.length-1," * -").concat(s,")"));break}var k=[];if(c){var N=h[0].width,{width:P}=f;k.push("scale(".concat(pt(P)&&pt(N)?P/N:1,")"))}return v&&k.push("rotate(".concat(v,", ").concat(w,", ").concat(S,")")),k.length&&(y.transform=k.join(" ")),p.createElement("text",DT({},Ha(y),{ref:t,x:w,y:S,className:sn("recharts-text",b),textAnchor:u,fill:l.includes("url")?Iae:l}),h.map((E,R)=>{var O=E.words.join(x?"":" ");return p.createElement("tspan",{x:w,dy:R===0?C:s,key:"".concat(O,"-").concat(R)},O)}))});fO.displayName="Text";var qKe=["labelRef"],HKe=["content"];function u8(e,t){if(e==null)return{};var n,r,a=YKe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function YKe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d8(Object(n),!0).forEach(function(r){QKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QKe(e,t,n){return(t=ZKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZKe(e){var t=JKe(e,"string");return typeof t=="symbol"?t:t+""}function JKe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(null,arguments)}var Oae=p.createContext(null),XKe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:s,height:o,children:l}=e,c=p.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:s,height:o}),[t,n,r,a,s,o]);return p.createElement(Oae.Provider,{value:c},l)},Lae=()=>{var e=p.useContext(Oae),t=xx();return e||$te(t)},eGe=p.createContext(null),tGe=()=>{var e=p.useContext(eGe),t=xt(fre);return e||t},nGe=e=>{var{value:t,formatter:n}=e,r=yn(e.children)?t:e.children;return typeof n=="function"?n(r):r},hO=e=>e!=null&&typeof e=="function",rGe=(e,t)=>{var n=ms(t-e),r=Math.min(Math.abs(t-e),360);return n*r},aGe=(e,t,n,r,a)=>{var{offset:s,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,g=(u+d)/2,v=rGe(f,h),b=v>=0?1:-1,x,y;switch(t){case"insideStart":x=f+b*s,y=m;break;case"insideEnd":x=h-b*s,y=!m;break;case"end":x=h+b*s,y=m;break;default:throw new Error("Unsupported position ".concat(t))}y=v<=0?y:!y;var w=xa(l,c,g,x),S=xa(l,c,g,x+(y?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(y?0:1,`,
    `).concat(S.x,",").concat(S.y),k=yn(e.id)?uy("recharts-radial-line-"):e.id;return p.createElement("text",dl({},r,{dominantBaseline:"central",className:sn("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:k,d:C})),p.createElement("textPath",{xlinkHref:"#".concat(k)},n))},sGe=(e,t,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:d,y:f}=xa(r,a,o+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:m,y:g}=xa(r,a,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},RT=e=>"cx"in e&&pt(e.cx),iGe=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,s;n!=null&&!RT(n)&&(s=n);var{x:o,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=o,h=o+(c-u)/2,m=(f+h)/2,g=(c+u)/2,v=f+c/2,b=d>=0?1:-1,x=b*r,y=b>0?"end":"start",w=b>0?"start":"end",S=c>=0?1:-1,C=S*r,k=S>0?"end":"start",N=S>0?"start":"end";if(a==="top"){var P={x:f+c/2,y:l-x,textAnchor:"middle",verticalAnchor:y};return vr(vr({},P),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var E={x:h+u/2,y:l+d+x,textAnchor:"middle",verticalAnchor:w};return vr(vr({},E),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(a==="left"){var R={x:m-C,y:l+d/2,textAnchor:k,verticalAnchor:"middle"};return vr(vr({},R),s?{width:Math.max(R.x-s.x,0),height:d}:{})}if(a==="right"){var O={x:m+g+C,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return vr(vr({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:d}:{})}var K=s?{width:g,height:d}:{};return a==="insideLeft"?vr({x:m+C,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},K):a==="insideRight"?vr({x:m+g-C,y:l+d/2,textAnchor:k,verticalAnchor:"middle"},K):a==="insideTop"?vr({x:f+c/2,y:l+x,textAnchor:"middle",verticalAnchor:w},K):a==="insideBottom"?vr({x:h+u/2,y:l+d-x,textAnchor:"middle",verticalAnchor:y},K):a==="insideTopLeft"?vr({x:f+C,y:l+x,textAnchor:N,verticalAnchor:w},K):a==="insideTopRight"?vr({x:f+c-C,y:l+x,textAnchor:k,verticalAnchor:w},K):a==="insideBottomLeft"?vr({x:h+C,y:l+d-x,textAnchor:N,verticalAnchor:y},K):a==="insideBottomRight"?vr({x:h+u-C,y:l+d-x,textAnchor:k,verticalAnchor:y},K):a&&typeof a=="object"&&(pt(a.x)||Ml(a.x))&&(pt(a.y)||Ml(a.y))?vr({x:o+Zi(a.x,g),y:l+Zi(a.y,d),textAnchor:"end",verticalAnchor:"end"},K):vr({x:v,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},K)},oGe={angle:0,offset:5,zIndex:Pr.label,position:"middle",textBreakAll:!1};function gc(e){var t=Kr(e,oGe),{viewBox:n,position:r,value:a,children:s,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=tGe(),f=Lae(),h=r==="center"?f:d??f,m,g,v;if(n==null?m=h:RT(n)?m=n:m=$te(n),!m||yn(a)&&yn(s)&&!p.isValidElement(o)&&typeof o!="function")return null;var b=vr(vr({},t),{},{viewBox:m});if(p.isValidElement(o)){var{labelRef:x}=b,y=u8(b,qKe);return p.cloneElement(o,y)}if(typeof o=="function"){var{content:w}=b,S=u8(b,HKe);if(g=p.createElement(o,S),p.isValidElement(g))return g}else g=nGe(t);var C=Ha(t);if(RT(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return aGe(t,r,g,C,m);v=sGe(m,t.offset,t.position)}else v=iGe(t,m);return p.createElement(Ss,{zIndex:t.zIndex},p.createElement(fO,dl({ref:u,className:sn("recharts-label",l)},C,v,{textAnchor:zKe(C.textAnchor)?C.textAnchor:v.textAnchor,breakAll:c}),g))}gc.displayName="Label";var lGe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?p.createElement(gc,dl({key:"label-implicit"},r)):Oo(e)?p.createElement(gc,dl({key:"label-implicit",value:e},r)):p.isValidElement(e)?e.type===gc?p.cloneElement(e,vr({key:"label-implicit"},r)):p.createElement(gc,dl({key:"label-implicit",content:e},r)):hO(e)?p.createElement(gc,dl({key:"label-implicit",content:e},r)):e&&typeof e=="object"?p.createElement(gc,dl({},e,{key:"label-implicit"},r)):null};function cGe(e){var{label:t,labelRef:n}=e,r=Lae();return lGe(t,r,n)||null}var $ae={},Fae={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Fae);var Bae={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Bae);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fae,n=Bae,r=vj;function a(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=a})($ae);var uGe=$ae.last;const dGe=yi(uGe);var fGe=["valueAccessor"],hGe=["dataKey","clockWise","id","textBreakAll","zIndex"];function mS(){return mS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mS.apply(null,arguments)}function f8(e,t){if(e==null)return{};var n,r,a=mGe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mGe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pGe=e=>Array.isArray(e.value)?dGe(e.value):e.value,Vae=p.createContext(void 0),mO=Vae.Provider,zae=p.createContext(void 0);zae.Provider;function gGe(){return p.useContext(Vae)}function vGe(){return p.useContext(zae)}function cw(e){var{valueAccessor:t=pGe}=e,n=f8(e,fGe),{dataKey:r,clockWise:a,id:s,textBreakAll:o,zIndex:l}=n,c=f8(n,hGe),u=gGe(),d=vGe(),f=u||d;return!f||!f.length?null:p.createElement(Ss,{zIndex:l??Pr.label},p.createElement(Ca,{className:"recharts-label-list"},f.map((h,m)=>{var g,v=yn(r)?t(h,m):Qn(h&&h.payload,r),b=yn(s)?{}:{id:"".concat(s,"-").concat(m)};return p.createElement(gc,mS({key:"label-".concat(m)},Ha(h),c,b,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}cw.displayName="LabelList";function pO(e){var{label:t}=e;return t?t===!0?p.createElement(cw,{key:"labelList-implicit"}):p.isValidElement(t)||hO(t)?p.createElement(cw,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(cw,mS({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function MT(){return MT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MT.apply(null,arguments)}var Uae=e=>{var{cx:t,cy:n,r,className:a}=e,s=sn("recharts-dot",a);return pt(t)&&pt(n)&&pt(r)?p.createElement("circle",MT({},zs(e),VM(e),{className:s,cx:t,cy:n,r})):null},yGe={radiusAxis:{},angleAxis:{}},Kae=ws({name:"polarAxis",initialState:yGe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Mnt,removeRadiusAxis:Int,addAngleAxis:Ont,removeAngleAxis:Lnt}=Kae.actions,xGe=Kae.reducer,Gae={exports:{}},kn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO=Symbol.for("react.transitional.element"),vO=Symbol.for("react.portal"),rN=Symbol.for("react.fragment"),aN=Symbol.for("react.strict_mode"),sN=Symbol.for("react.profiler"),iN=Symbol.for("react.consumer"),oN=Symbol.for("react.context"),lN=Symbol.for("react.forward_ref"),cN=Symbol.for("react.suspense"),uN=Symbol.for("react.suspense_list"),dN=Symbol.for("react.memo"),fN=Symbol.for("react.lazy"),bGe=Symbol.for("react.view_transition"),wGe=Symbol.for("react.client.reference");function wi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gO:switch(e=e.type,e){case rN:case sN:case aN:case cN:case uN:case bGe:return e;default:switch(e=e&&e.$$typeof,e){case oN:case lN:case fN:case dN:return e;case iN:return e;default:return t}}case vO:return t}}}kn.ContextConsumer=iN;kn.ContextProvider=oN;kn.Element=gO;kn.ForwardRef=lN;kn.Fragment=rN;kn.Lazy=fN;kn.Memo=dN;kn.Portal=vO;kn.Profiler=sN;kn.StrictMode=aN;kn.Suspense=cN;kn.SuspenseList=uN;kn.isContextConsumer=function(e){return wi(e)===iN};kn.isContextProvider=function(e){return wi(e)===oN};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gO};kn.isForwardRef=function(e){return wi(e)===lN};kn.isFragment=function(e){return wi(e)===rN};kn.isLazy=function(e){return wi(e)===fN};kn.isMemo=function(e){return wi(e)===dN};kn.isPortal=function(e){return wi(e)===vO};kn.isProfiler=function(e){return wi(e)===sN};kn.isStrictMode=function(e){return wi(e)===aN};kn.isSuspense=function(e){return wi(e)===cN};kn.isSuspenseList=function(e){return wi(e)===uN};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rN||e===sN||e===aN||e===cN||e===uN||typeof e=="object"&&e!==null&&(e.$$typeof===fN||e.$$typeof===dN||e.$$typeof===oN||e.$$typeof===iN||e.$$typeof===lN||e.$$typeof===wGe||e.getModuleId!==void 0)};kn.typeOf=wi;Gae.exports=kn;var SGe=Gae.exports,h8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",m8=null,LA=null,Wae=e=>{if(e===m8&&Array.isArray(LA))return LA;var t=[];return p.Children.forEach(e,n=>{yn(n)||(SGe.isFragment(n)?t=t.concat(Wae(n.props.children)):t.push(n))}),LA=t,m8=e,t};function qae(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>h8(a)):r=[h8(t)],Wae(e).forEach(a=>{var s=Nm(a,"type.displayName")||Nm(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var Hae=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Yae={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Yae);var CGe=Yae.isPlainObject;const jGe=yi(CGe);var p8,g8,v8,y8,x8;function b8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function w8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(n),!0).forEach(function(r){NGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NGe(e,t,n){return(t=kGe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kGe(e){var t=AGe(e,"string");return typeof t=="symbol"?t:t+""}function AGe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pS.apply(null,arguments)}function hg(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S8=(e,t,n,r,a)=>{var s=n-r,o;return o=fr(p8||(p8=hg(["M ",",",""])),e,t),o+=fr(g8||(g8=hg(["L ",",",""])),e+n,t),o+=fr(v8||(v8=hg(["L ",",",""])),e+n-s/2,t+a),o+=fr(y8||(y8=hg(["L ",",",""])),e+n-s/2-r,t+a),o+=fr(x8||(x8=hg(["L ",","," Z"])),e,t),o},PGe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EGe=e=>{var t=Kr(e,PGe),{x:n,y:r,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(null),[m,g]=p.useState(-1),v=p.useRef(a),b=p.useRef(s),x=p.useRef(o),y=p.useRef(n),w=p.useRef(r),S=Sx(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Q=h.current.getTotalLength();Q&&g(Q)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var C=sn("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",pS({},Ha(t),{className:C,d:S8(n,r,a,s,o)})));var k=v.current,N=b.current,P=x.current,E=y.current,R=w.current,O="0px ".concat(m===-1?1:m,"px"),K="".concat(m,"px 0px"),J=Yte(["strokeDasharray"],u,c);return p.createElement(wx,{animationId:S,key:S,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},Q=>{var G=En(k,a,Q),z=En(N,s,Q),U=En(P,o,Q),M=En(E,n,Q),$=En(R,r,Q);h.current&&(v.current=G,b.current=z,x.current=U,y.current=M,w.current=$);var B=Q>0?{transition:J,strokeDasharray:K}:{strokeDasharray:O};return p.createElement("path",pS({},Ha(t),{className:C,d:S8(M,$,G,z,U),ref:h,style:w8(w8({},B),t.style)}))})},TGe=["option","shapeType","activeClassName"];function _Ge(e,t){if(e==null)return{};var n,r,a=DGe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DGe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function C8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(n),!0).forEach(function(r){RGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RGe(e,t,n){return(t=MGe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MGe(e){var t=IGe(e,"string");return typeof t=="symbol"?t:t+""}function IGe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OGe(e,t){return gS(gS({},t),e)}function LGe(e,t){return e==="symbols"}function j8(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return p.createElement(Xte,n);case"trapezoid":return p.createElement(EGe,n);case"sector":return p.createElement(nne,n);case"symbols":if(LGe(t))return p.createElement(gj,n);break;case"curve":return p.createElement(mI,n);default:return null}}function $Ge(e){return p.isValidElement(e)?e.props:e}function vS(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=_Ge(e,TGe),s;if(p.isValidElement(t))s=p.cloneElement(t,gS(gS({},a),$Ge(t)));else if(typeof t=="function")s=t(a,a.index);else if(jGe(t)&&typeof t!="boolean"){var o=OGe(t,a);s=p.createElement(j8,{shapeType:n,elementProps:o})}else{var l=a;s=p.createElement(j8,{shapeType:n,elementProps:l})}return a.isActive?p.createElement(Ca,{className:r},s):s}var yO=(e,t,n)=>{var r=or();return(a,s)=>o=>{e==null||e(a,s,o),r(nae({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},xO=e=>{var t=or();return(n,r)=>a=>{e==null||e(n,r,a),t(hze())}},bO=(e,t,n)=>{var r=or();return(a,s)=>o=>{e==null||e(a,s,o),r(mze({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function wO(e){var{tooltipEntrySettings:t}=e,n=or(),r=ca(),a=p.useRef(null);return p.useLayoutEffect(()=>{r||(a.current===null?n(cze(t)):a.current!==t&&n(uze({prev:a.current,next:t})),a.current=t)},[t,n,r]),p.useLayoutEffect(()=>()=>{a.current&&(n(dze(a.current)),a.current=null)},[n]),null}function SO(e){var{legendPayload:t}=e,n=or(),r=ca(),a=p.useRef(null);return p.useLayoutEffect(()=>{r||(a.current===null?n(EBe(t)):a.current!==t&&n(TBe({prev:a.current,next:t})),a.current=t)},[n,r,t]),p.useLayoutEffect(()=>()=>{a.current&&(n(_Be(a.current)),a.current=null)},[n]),null}var $A,FGe=()=>{var[e]=p.useState(()=>uy("uid-"));return e},BGe=($A=Py.useId)!==null&&$A!==void 0?$A:FGe;function VGe(e,t){var n=BGe();return t||(e?"".concat(e,"-").concat(n):n)}var zGe=p.createContext(void 0),CO=e=>{var{id:t,type:n,children:r}=e,a=VGe("recharts-".concat(n),t);return p.createElement(zGe.Provider,{value:a},r(a))},UGe={cartesianItems:[],polarItems:[]},Qae=ws({name:"graphicalItems",initialState:UGe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Wn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Ki(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:Wn()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ki(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Wn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Wn()},removePolarGraphicalItem:{reducer(e,t){var n=Ki(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Wn()}}}),{addCartesianGraphicalItem:KGe,replaceCartesianGraphicalItem:GGe,removeCartesianGraphicalItem:WGe,addPolarGraphicalItem:$nt,removePolarGraphicalItem:Fnt}=Qae.actions,qGe=Qae.reducer,HGe=e=>{var t=or(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(KGe(e)):n.current!==e&&t(GGe({prev:n.current,next:e})),n.current=e},[t,e]),p.useLayoutEffect(()=>()=>{n.current&&(t(WGe(n.current)),n.current=null)},[t]),null},jO=p.memo(HGe),YGe=["points"];function N8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(n),!0).forEach(function(r){QGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QGe(e,t,n){return(t=ZGe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZGe(e){var t=JGe(e,"string");return typeof t=="symbol"?t:t+""}function JGe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yS.apply(null,arguments)}function XGe(e,t){if(e==null)return{};var n,r,a=e9e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function e9e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function t9e(e){var{option:t,dotProps:n,className:r}=e;if(p.isValidElement(t))return p.cloneElement(t,n);if(typeof t=="function")return t(n);var a=sn(r,typeof t!="boolean"?t.className:""),s=n??{},{points:o}=s,l=XGe(s,YGe);return p.createElement(Uae,yS({},l,{className:a}))}function n9e(e,t){return e==null?!1:t?!0:e.length===1}function r9e(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=Pr.scatter}=e;if(!n9e(t,n))return null;var d=Hae(n),f=OLe(n),h=t.map((g,v)=>{var b,x,y=FA(FA(FA({r:3},o),f),{},{index:v,cx:(b=g.x)!==null&&b!==void 0?b:void 0,cy:(x=g.y)!==null&&x!==void 0?x:void 0,dataKey:s,value:g.value,payload:g.payload,points:t});return p.createElement(t9e,{key:"dot-".concat(v),option:n,dotProps:y,className:a})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),p.createElement(Ss,{zIndex:u},p.createElement(Ca,yS({className:r},m),h))}function k8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function A8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(n),!0).forEach(function(r){a9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a9e(e,t,n){return(t=s9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9e(e){var t=i9e(e,"string");return typeof t=="symbol"?t:t+""}function i9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zae=0,o9e={xAxis:{},yAxis:{},zAxis:{}},Jae=ws({name:"cartesianAxis",initialState:o9e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Wn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Wn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Wn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Wn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Wn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Wn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Wn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Wn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Wn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=A8(A8({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:l9e,replaceXAxis:c9e,removeXAxis:u9e,addYAxis:d9e,replaceYAxis:f9e,removeYAxis:h9e,addZAxis:Bnt,replaceZAxis:Vnt,removeZAxis:znt,updateYAxisWidth:m9e}=Jae.actions,p9e=Jae.reducer,g9e=Me([la],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),v9e=Me([g9e,Gl,Wl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),NO=()=>xt(v9e),y9e=()=>xt(rUe);function P8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(n),!0).forEach(function(r){x9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x9e(e,t,n){return(t=b9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9e(e){var t=w9e(e,"string");return typeof t=="symbol"?t:t+""}function w9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S9e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:s,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=BA(BA(BA({},l),dp(a)),VM(a)),u;return p.isValidElement(a)?u=p.cloneElement(a,c):typeof a=="function"?u=a(c):u=p.createElement(Uae,c),p.createElement(Ca,{className:"recharts-active-dot",clipPath:o},u)};function C9e(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:s,zIndex:o=Pr.activeDot}=e,l=xt(nu),c=y9e();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return yn(u)?null:p.createElement(Ss,{zIndex:o},p.createElement(S9e,{point:u,childIndex:Number(l),mainColor:n,dataKey:a,activeDot:r,clipPath:s}))}var E8=(e,t,n)=>{var r=n??e;if(!yn(r))return Zi(r,t,0)},j9e=(e,t,n)=>{var r={},a=e.filter(Qj),s=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),l=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=E8(t,n,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=E8(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function T8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(n),!0).forEach(function(r){N9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N9e(e,t,n){return(t=k9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k9e(e){var t=A9e(e,"string");return typeof t=="symbol"?t:t+""}function A9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P9e(e,t,n,r,a){var s=r.length;if(!(s<1)){var o=Zi(e,n,0,!0),l,c=[];if(ir(r[0].barSize)){var u=!1,d=n/s,f=r.reduce((x,y)=>x+(y.barSize||0),0);f+=(s-1)*o,f>=n&&(f-=(s-1)*o,o=0),f>=n&&d>0&&(u=!0,d*=.9,f=s*d);var h=(n-f)/2>>0,m={offset:h-o,size:0};l=r.reduce((x,y)=>{var w,S={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(w=y.barSize)!==null&&w!==void 0?w:0}},C=[...x,S];return m=C[C.length-1].position,C},c)}else{var g=Zi(t,n,0,!0);n-2*g-(s-1)*o<=0&&(o=0);var v=(n-2*g-(s-1)*o)/s;v>1&&(v>>=0);var b=ir(a)?Math.min(v,a):v;l=r.reduce((x,y,w)=>[...x,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:g+(v+o)*w+(v-b)/2,size:b}}],c)}return l}}var E9e=(e,t,n,r,a,s,o)=>{var l=yn(o)?t:o,c=P9e(n,r,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>vb(vb({},u),{},{position:vb(vb({},u.position),{},{offset:u.position.offset-a/2})}))),c},T9e=(e,t)=>{var n=GI(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===n)}}}};function _9e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ir(e.zIndex)?e.zIndex:t}var D9e=e=>{var{chartData:t}=e,n=or(),r=ca();return p.useEffect(()=>r?()=>{}:(n(YV(t)),()=>{n(YV(void 0))}),[t,n,r]),null},_8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Xae=ws({name:"brush",initialState:_8,reducers:{setBrushSettings(e,t){return t.payload==null?_8:t.payload}}}),{setBrushSettings:Unt}=Xae.actions,R9e=Xae.reducer;function M9e(e,t,n){return(t=I9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I9e(e){var t=O9e(e,"string");return typeof t=="symbol"?t:t+""}function O9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kO{static create(t){return new kO(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}M9e(kO,"EPS",1e-4);function L9e(e){return(e%180+180)%180}var $9e=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=L9e(a),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},F9e={dots:[],areas:[],lines:[]},ese=ws({name:"referenceElements",initialState:F9e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ki(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ki(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ki(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Knt,removeDot:Gnt,addArea:Wnt,removeArea:qnt,addLine:Hnt,removeLine:Ynt}=ese.actions,B9e=ese.reducer,V9e=p.createContext(void 0),z9e=e=>{var{children:t}=e,[n]=p.useState("".concat(uy("recharts"),"-clip")),r=NO();if(r==null)return null;var{x:a,y:s,width:o,height:l}=r;return p.createElement(V9e.Provider,{value:n},p.createElement("defs",null,p.createElement("clipPath",{id:n},p.createElement("rect",{x:a,y:s,height:l,width:o}))),t)};function tse(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function U9e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $9e(r,n)}function K9e(e,t,n){var r=n==="width",{x:a,y:s,width:o,height:l}=e;return t===1?{start:r?a:s,end:r?a+o:s+l}:{start:r?a+o:s+l,end:r?a:s}}function Cy(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function G9e(e,t){return tse(e,t+1)}function W9e(e,t,n,r,a){for(var s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:tse(r,u)};var v=c,b,x=()=>(b===void 0&&(b=n(g,v)),b),y=g.coordinate,w=c===0||Cy(e,y,x,d,l);w||(c=0,d=o,u+=1),w&&(d=y+e*(x()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function q9e(e,t,n,r,a){var s=(r||[]).slice(),o=s.length;if(o===0)return[];for(var{start:l,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,h=!0,m=function(){var y=r[g],w=g,S,C=()=>(S===void 0&&(S=n(y,w)),S),k=y.coordinate,N=g===d||Cy(e,k,C,f,c);if(!N)return h=!1,1;N&&(f=k+e*(C()/2+a))},g=d;g<o&&!m();g+=u);if(h){for(var v=[],b=d;b<o;b+=u)v.push(r[b]);return v}}return[]}function D8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(n),!0).forEach(function(r){H9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H9e(e,t,n){return(t=Y9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9e(e){var t=Q9e(e,"string");return typeof t=="symbol"?t:t+""}function Q9e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z9e(e,t,n,r,a){for(var s=(r||[]).slice(),o=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],g,v=()=>(g===void 0&&(g=n(m,h)),g);if(h===o-1){var b=e*(m.coordinate+e*v()/2-c);s[h]=m=Ta(Ta({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else s[h]=m=Ta(Ta({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=Cy(e,m.tickCoord,v,l,c);x&&(c=m.tickCoord-e*(v()/2+a),s[h]=Ta(Ta({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return s}function J9e(e,t,n,r,a,s){var o=(r||[]).slice(),l=o.length,{start:c,end:u}=t;if(s){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Ta(Ta({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Cy(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Ta(Ta({},d),{},{isShow:!0}))}}for(var g=s?l-1:l,v=function(y){var w=o[y],S,C=()=>(S===void 0&&(S=n(w,y)),S);if(y===0){var k=e*(w.coordinate-e*C()/2-c);o[y]=w=Ta(Ta({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[y]=w=Ta(Ta({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=Cy(e,w.tickCoord,C,c,u);N&&(c=w.tickCoord+e*(C()/2+a),o[y]=Ta(Ta({},w),{},{isShow:!0}))}},b=0;b<g;b++)v(b);return o}function AO(e,t,n){var{tick:r,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(pt(c)||Oj.isSsr){var h;return(h=G9e(a,pt(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?uv(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(w,S)=>{var C=typeof u=="function"?u(w.value,S):w.value;return g==="width"?U9e(uv(C,{fontSize:t,letterSpacing:n}),v,f):uv(C,{fontSize:t,letterSpacing:n})[g]},x=a.length>=2?ms(a[1].coordinate-a[0].coordinate):1,y=K9e(s,x,g);return c==="equidistantPreserveStart"?W9e(x,y,b,a,o):c==="equidistantPreserveEnd"?q9e(x,y,b,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=J9e(x,y,b,a,o,c==="preserveStartEnd"):m=Z9e(x,y,b,a,o),m.filter(w=>w.isShow))}var X9e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=n?n.getBoundingClientRect().width:0,c=a+s,u=o+c+l+(n?r:0);return Math.round(u)}return 0},eWe=["axisLine","width","height","className","hide","ticks","axisType"];function tWe(e,t){if(e==null)return{};var n,r,a=nWe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nWe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(null,arguments)}function R8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(n),!0).forEach(function(r){rWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rWe(e,t,n){return(t=aWe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aWe(e){var t=sWe(e,"string");return typeof t=="symbol"?t:t+""}function sWe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Pr.axis};function iWe(e){var{x:t,y:n,width:r,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=kr(kr(kr({},c),zs(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!o||s==="bottom"&&o);u=kr(kr({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(s==="left"&&!o||s==="right"&&o);u=kr(kr({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return p.createElement("line",Zd({},u,{className:sn("recharts-cartesian-axis-line",Nm(l,"className"))}))}function oWe(e,t,n,r,a,s,o,l,c){var u,d,f,h,m,g,v=l?-1:1,b=e.tickSize||o,x=pt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,h=n+ +!l*a,f=h-v*b,g=f-v*c,m=x;break;case"left":f=h=e.coordinate,d=t+ +!l*r,u=d-v*b,m=u-v*c,g=x;break;case"right":f=h=e.coordinate,d=t+ +l*r,u=d+v*b,m=u+v*c,g=x;break;default:u=d=e.coordinate,h=n+ +l*a,f=h+v*b,g=f+v*c,m=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function lWe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function cWe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function uWe(e){var{option:t,tickProps:n,value:r}=e,a,s=sn(n.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,kr(kr({},n),{},{className:s}));else if(typeof t=="function")a=t(kr(kr({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=sn(o,t==null?void 0:t.className)),a=p.createElement(fO,Zd({},n,{className:o}),r)}return a}var dWe=p.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:g,height:v,tickSize:b,tickMargin:x,fontSize:y,letterSpacing:w,getTicksConfig:S,events:C,axisType:k}=e,N=AO(kr(kr({},S),{},{ticks:n}),y,w),P=lWe(d,f),E=cWe(d,f),R=zs(S),O=dp(r),K={};typeof a=="object"&&(K=a);var J=kr(kr({},R),{},{fill:"none"},K),Q=N.map(U=>kr({entry:U},oWe(U,h,m,g,v,d,b,f,x))),G=Q.map(U=>{var{entry:M,line:$}=U;return p.createElement(Ca,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},a&&p.createElement("line",Zd({},J,$,{className:sn("recharts-cartesian-axis-tick-line",Nm(a,"className"))})))}),z=Q.map((U,M)=>{var{entry:$,tick:B}=U,te=kr(kr(kr(kr({textAnchor:P,verticalAnchor:E},R),{},{stroke:"none",fill:s},O),B),{},{index:M,payload:$,visibleTicksCount:N.length,tickFormatter:o,padding:c},u);return p.createElement(Ca,Zd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},mx(C,$,M)),r&&p.createElement(uWe,{option:r,tickProps:te,value:"".concat(typeof o=="function"?o($.value,M):$.value).concat(l||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},z.length>0&&p.createElement(Ss,{zIndex:Pr.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},z)),G.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},G))}),fWe=p.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:s,hide:o,ticks:l,axisType:c}=e,u=tWe(e,eWe),[d,f]=p.useState(""),[h,m]=p.useState(""),g=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return X9e({ticks:g.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=p.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var y=x[0];if(y){var w=window.getComputedStyle(y),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==h)&&(f(S),m(C))}}},[d,h]);return o||r!=null&&r<=0||a!=null&&a<=0?null:p.createElement(Ss,{zIndex:e.zIndex},p.createElement(Ca,{className:sn("recharts-cartesian-axis",s)},p.createElement(iWe,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:zs(e)}),p.createElement(dWe,{ref:v,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(XKe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(cGe,{label:e.label,labelRef:e.labelRef}),e.children)))}),PO=p.forwardRef((e,t)=>{var n=Kr(e,Sl);return p.createElement(fWe,Zd({},n,{ref:t}))});PO.displayName="CartesianAxis";var hWe=["x1","y1","x2","y2","key"],mWe=["offset"],pWe=["xAxisId","yAxisId"],gWe=["xAxisId","yAxisId"];function M8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(n),!0).forEach(function(r){vWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vWe(e,t,n){return(t=yWe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yWe(e){var t=xWe(e,"string");return typeof t=="symbol"?t:t+""}function xWe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rd.apply(null,arguments)}function xS(e,t){if(e==null)return{};var n,r,a=bWe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bWe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wWe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:o,ry:l}=e;return p.createElement("rect",{x:r,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function nse(e){var{option:t,lineItemProps:n}=e,r;if(p.isValidElement(t))r=p.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:s,y1:o,x2:l,y2:c,key:u}=n,d=xS(n,hWe),f=(a=zs(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=xS(f,mWe);r=p.createElement("line",rd({},m,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:u}))}return r}function SWe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=xS(e,pWe),c=a.map((u,d)=>{var f=Da(Da({},l),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return p.createElement(nse,{key:"line-".concat(d),option:r,lineItemProps:f})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function CWe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=xS(e,gWe),c=a.map((u,d)=>{var f=Da(Da({},l),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return p.createElement(nse,{option:r,lineItemProps:f,key:"line-".concat(d)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function jWe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var v=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:g,width:s,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function NWe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var v=h%n.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var kWe=(e,t)=>{var{xAxis:n,width:r,height:a,offset:s}=e;return Ate(AO(Da(Da(Da({},Sl),n),{},{ticks:Pte(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},AWe=(e,t)=>{var{yAxis:n,width:r,height:a,offset:s}=e;return Ate(AO(Da(Da(Da({},Sl),n),{},{ticks:Pte(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},PWe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Pr.grid};function yd(e){var t=uI(),n=dI(),r=Fte(),a=Da(Da({},Kr(e,PWe)),{},{x:pt(e.x)?e.x:r.left,y:pt(e.y)?e.y:r.top,width:pt(e.width)?e.width:r.width,height:pt(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,g=ca(),v=xt(E=>$V(E,"xAxis",s,g)),b=xt(E=>$V(E,"yAxis",o,g));if(!Lo(u)||!Lo(d)||!pt(l)||!pt(c))return null;var x=a.verticalCoordinatesGenerator||kWe,y=a.horizontalCoordinatesGenerator||AWe,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof y=="function"){var C=h&&h.length,k=y({yAxis:b?Da(Da({},b),{},{ticks:C?h:b.ticks}):void 0,width:t??u,height:n??d,offset:r},C?!0:f);W1(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!S||!S.length)&&typeof x=="function"){var N=m&&m.length,P=x({xAxis:v?Da(Da({},v),{},{ticks:N?m:v.ticks}):void 0,width:t??u,height:n??d,offset:r},N?!0:f);W1(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(S=P)}return p.createElement(Ss,{zIndex:a.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(wWe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(jWe,rd({},a,{horizontalPoints:w})),p.createElement(NWe,rd({},a,{verticalPoints:S})),p.createElement(SWe,rd({},a,{offset:r,horizontalPoints:w,xAxis:v,yAxis:b})),p.createElement(CWe,rd({},a,{offset:r,verticalPoints:S,xAxis:v,yAxis:b}))))}yd.displayName="CartesianGrid";var EWe={},rse=ws({name:"errorBars",initialState:EWe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Qnt,replaceErrorBar:Znt,removeErrorBar:Jnt}=rse.actions,TWe=rse.reducer,_We=["children"];function DWe(e,t){if(e==null)return{};var n,r,a=RWe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function RWe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MWe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},IWe=p.createContext(MWe);function EO(e){var{children:t}=e,n=DWe(e,_We);return p.createElement(IWe.Provider,{value:n},t)}function hN(e,t){var n,r,a=xt(u=>Yl(u,e)),s=xt(u=>Ql(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Xr.allowDataOverflow,l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ea.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function TO(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=NO(),{needClipX:s,needClipY:o,needClip:l}=hN(t,n);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(r)},p.createElement("rect",{x:s?c:c-d/2,y:o?u:u-f/2,width:s?d:d*2,height:o?f:f*2}))}var ase=(e,t,n,r)=>Bo(e,"xAxis",t,r),sse=(e,t,n,r)=>Fo(e,"xAxis",t,r),ise=(e,t,n,r)=>Bo(e,"yAxis",n,r),ose=(e,t,n,r)=>Fo(e,"yAxis",n,r),OWe=Me([un,ase,ise,sse,ose],(e,t,n,r,a)=>vu(e,"xAxis")?Am(t,r,!1):Am(n,a,!1)),LWe=(e,t,n,r,a)=>a;function $We(e){return e.type==="line"}var FWe=Me([Px,LWe],(e,t)=>e.filter($We).find(n=>n.id===t)),BWe=Me([un,ase,ise,sse,ose,FWe,OWe,Gj],(e,t,n,r,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return _qe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function VWe(e){var t=dp(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var zWe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox=p;function UWe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KWe=typeof Object.is=="function"?Object.is:UWe,GWe=Ox.useSyncExternalStore,WWe=Ox.useRef,qWe=Ox.useEffect,HWe=Ox.useMemo,YWe=Ox.useDebugValue;zWe.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var s=WWe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=HWe(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,KWe(d,m))return g;var v=r(m);return a!==void 0&&a(g,v)?(d=m,g):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,a]);var l=GWe(e,s[0],s[1]);return qWe(function(){o.hasValue=!0,o.value=l},[l]),YWe(l),l};function QWe(e){e()}function ZWe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){QWe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var I8={notify(){},get:()=>[]};function JWe(e,t){let n,r=I8,a=0,s=!1;function o(v){d();const b=r.subscribe(v);let x=!1;return()=>{x||(x=!0,b(),f())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){a++,n||(n=e.subscribe(c),r=ZWe())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=I8)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return g}var XWe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eqe=XWe(),tqe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nqe=tqe(),rqe=()=>eqe||nqe?p.useLayoutEffect:p.useEffect,aqe=rqe();function O8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sqe(e,t){if(O8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!O8(e[n[a]],t[n[a]]))return!1;return!0}var VA=Symbol.for("react-redux-context"),zA=typeof globalThis<"u"?globalThis:{};function iqe(){if(!p.createContext)return{};const e=zA[VA]??(zA[VA]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var oqe=iqe();function lqe(e){const{children:t,context:n,serverState:r,store:a}=e,s=p.useMemo(()=>{const c=JWe(a);return{store:a,subscription:c,getServerState:r?()=>r:void 0}},[a,r]),o=p.useMemo(()=>a.getState(),[a]);aqe(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=n||oqe;return p.createElement(l.Provider,{value:s},t)}var cqe=lqe,uqe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function dqe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Lx(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(uqe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!sqe(e[r],t[r]))return!1}else if(!dqe(e[r],t[r]))return!1;return!0}var fqe=["id"],hqe=["type","layout","connectNulls","needClip","shape"],mqe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(null,arguments)}function L8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(n),!0).forEach(function(r){pqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pqe(e,t,n){return(t=gqe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gqe(e){var t=vqe(e,"string");return typeof t=="symbol"?t:t+""}function vqe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _O(e,t){if(e==null)return{};var n,r,a=yqe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xqe=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:fp(n,t),payload:e}]},bqe=p.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:s,name:o,hide:l,unit:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:fp(o,t),hide:l,type:u,color:r,unit:c,graphicalItemId:d}};return p.createElement(wO,{tooltipEntrySettings:f})}),lse=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function wqe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Sqe=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return lse(t,e);for(var a=Math.floor(e/r),s=e%r,o=t-e,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>s){l=[...n.slice(0,c),s-u];break}var d=l.length%2===0?[0,o]:[o];return[...wqe(n,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Cqe(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:s,needClip:o}=r,{id:l}=r,c=_O(r,fqe),u=zs(c);return p.createElement(r9e,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:o,clipPathId:t})}function jqe(e){var{showLabels:t,children:n,points:r}=e,a=p.useMemo(()=>r==null?void 0:r.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return po(po({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return p.createElement(mO,{value:t?a:void 0},n)}function $8(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:d}=s,f=_O(s,hqe),h=po(po({},Ha(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return p.createElement(p.Fragment,null,(r==null?void 0:r.length)>1&&p.createElement(vS,jy({shapeType:"curve",option:d},h,{pathRef:n})),p.createElement(Cqe,{points:r,clipPathId:t,props:s}))}function Nqe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function kqe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:g,onAnimationEnd:v,onAnimationStart:b}=n,x=a.current,y=Sx(o,"recharts-line-"),w=p.useRef(y),[S,C]=p.useState(!1),k=!S,N=p.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),P=p.useCallback(()=>{typeof b=="function"&&b(),C(!0)},[b]),E=Nqe(r.current),R=p.useRef(0);w.current!==y&&(R.current=s.current,w.current=y);var O=R.current;return p.createElement(jqe,{points:o,showLabels:k},n.children,p.createElement(wx,{animationId:y,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:P,key:y},K=>{var J=En(O,E+O,K),Q=Math.min(J,E),G;if(c)if(l){var z="".concat(l).split(/[,\s]+/gim).map($=>parseFloat($));G=Sqe(Q,E,z)}else G=lse(E,Q);else G=l==null?void 0:String(l);if(K>0&&E>0&&(a.current=o,s.current=Math.max(s.current,Q)),x){var U=x.length/o.length,M=K===1?o:o.map(($,B)=>{var te=Math.floor(B*U);if(x[te]){var q=x[te];return po(po({},$),{},{x:En(q.x,$.x,K),y:En(q.y,$.y,K)})}return h?po(po({},$),{},{x:En(m*2,$.x,K),y:En(g/2,$.y,K)}):po(po({},$),{},{x:$.x,y:$.y})});return a.current=M,p.createElement($8,{props:n,points:M,clipPathId:t,pathRef:r,strokeDasharray:G})}return p.createElement($8,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:G})}),p.createElement(pO,{label:n.label}))}function Aqe(e){var{clipPathId:t,props:n}=e,r=p.useRef(null),a=p.useRef(0),s=p.useRef(null);return p.createElement(kqe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:s})}var Pqe=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Qn(e.payload,t)}};class Eqe extends p.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var g=sn("recharts-line",a),v=f,{r:b,strokeWidth:x}=VWe(n),y=Hae(n),w=b*2+x,S=h?"url(#clipPath-".concat(y?"":"dots-").concat(v,")"):void 0;return p.createElement(Ss,{zIndex:m},p.createElement(Ca,{className:g},h&&p.createElement("defs",null,p.createElement(TO,{clipPathId:v,xAxisId:s,yAxisId:o}),!y&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:c-w/2,y:l-w/2,width:u+w,height:d+w}))),p.createElement(EO,{xAxisId:s,yAxisId:o,data:r,dataPointFormatter:Pqe,errorBarOffset:0},p.createElement(Aqe,{props:this.props,clipPathId:v}))),p.createElement(C9e,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var cse={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Pr.line,type:"linear"};function Tqe(e){var t=Kr(e,cse),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:g,id:v}=t,b=_O(t,mqe),{needClip:x}=hN(m,g),y=NO(),w=hp(),S=ca(),C=xt(R=>BWe(R,m,g,S,v));if(w!=="horizontal"&&w!=="vertical"||C==null||y==null)return null;var{height:k,width:N,x:P,y:E}=y;return p.createElement(Eqe,jy({},b,{id:v,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:g,points:C,layout:w,height:k,width:N,left:P,top:E,needClip:x}))}function _qe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Qn(u,o);if(t==="horizontal"){var h=G1({axis:n,ticks:a,bandSize:l,entry:u,index:d}),m=yn(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:u}}var g=yn(f)?null:n.scale(f),v=G1({axis:r,ticks:s,bandSize:l,entry:u,index:d});return g==null||v==null?null:{x:g,y:v,value:f,payload:u}}).filter(Boolean)}function Dqe(e){var t=Kr(e,cse),n=ca();return p.createElement(CO,{id:t.id,type:"line"},r=>p.createElement(p.Fragment,null,p.createElement(SO,{legendPayload:xqe(t)}),p.createElement(bqe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),p.createElement(jO,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),p.createElement(Tqe,jy({},t,{id:r}))))}var bS=p.memo(Dqe,Lx);bS.displayName="Line";function gf(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Zae}function vf(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Zae}var Rqe="Invariant failed";function Mqe(e,t){throw new Error(Rqe)}function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IT.apply(null,arguments)}function wS(e){return p.createElement(vS,IT({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Iqe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(pt(t))return t;var s=pt(r)||yn(r);return s?t(r,a):(s||Mqe(),n)}},Oqe=(e,t,n)=>n,Lqe=(e,t)=>t,$x=Me([Px,Lqe],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),$qe=Me([$x],e=>e==null?void 0:e.maxBarSize),Fqe=(e,t,n,r)=>r,Bqe=Me([un,Px,gf,vf,Oqe],(e,t,n,r,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Vqe=(e,t,n)=>{var r=un(e),a=gf(e,t),s=vf(e,t);if(!(a==null||s==null))return r==="horizontal"?AT(e,"yAxis",s,n):AT(e,"xAxis",a,n)},zqe=(e,t)=>{var n=un(e),r=gf(e,t),a=vf(e,t);if(!(r==null||a==null))return n==="horizontal"?LV(e,"xAxis",r):LV(e,"yAxis",a)},Uqe=Me([Bqe,n8e,zqe],j9e),Kqe=(e,t,n)=>{var r,a,s=$x(e,t);if(s!=null){var o=gf(e,t),l=vf(e,t);if(!(o==null||l==null)){var c=un(e),u=are(e),{maxBarSize:d}=s,f=yn(d)?u:d,h,m;return c==="horizontal"?(h=Bo(e,"xAxis",o,n),m=Fo(e,"xAxis",o,n)):(h=Bo(e,"yAxis",l,n),m=Fo(e,"yAxis",l,n)),(r=(a=Am(h,m,!0))!==null&&a!==void 0?a:f)!==null&&r!==void 0?r:0}}},use=(e,t,n)=>{var r=un(e),a=gf(e,t),s=vf(e,t);if(!(a==null||s==null)){var o,l;return r==="horizontal"?(o=Bo(e,"xAxis",a,n),l=Fo(e,"xAxis",a,n)):(o=Bo(e,"yAxis",s,n),l=Fo(e,"yAxis",s,n)),Am(o,l)}},Gqe=Me([Uqe,are,t8e,sre,Kqe,use,$qe],E9e),Wqe=(e,t,n)=>{var r=gf(e,t);if(r!=null)return Bo(e,"xAxis",r,n)},qqe=(e,t,n)=>{var r=vf(e,t);if(r!=null)return Bo(e,"yAxis",r,n)},Hqe=(e,t,n)=>{var r=gf(e,t);if(r!=null)return Fo(e,"xAxis",r,n)},Yqe=(e,t,n)=>{var r=vf(e,t);if(r!=null)return Fo(e,"yAxis",r,n)},Qqe=Me([Gqe,$x],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Zqe=Me([Vqe,$x],T9e),Jqe=Me([la,lI,Wqe,qqe,Hqe,Yqe,Qqe,un,UVe,use,Zqe,$x,Fqe],(e,t,n,r,a,s,o,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||a==null||s==null||u==null)){var{data:b}=f,x;if(b!=null&&b.length>0?x=b:x=m==null?void 0:m.slice(g,v+1),x!=null)return AHe({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:x,offset:e,cells:h,dataStartIndex:g})}}),Xqe=["index"];function OT(){return OT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OT.apply(null,arguments)}function eHe(e,t){if(e==null)return{};var n,r,a=tHe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dse=p.createContext(void 0),nHe=e=>{var t=p.useContext(dse);if(t!=null)return t.stackId;if(e!=null)return OFe(e)},rHe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),aHe=e=>{var t=p.useContext(dse);if(t!=null){var{stackId:n}=t;return"url(#".concat(rHe(n,e),")")}},sHe=e=>{var{index:t}=e,n=eHe(e,Xqe),r=aHe(t);return p.createElement(Ca,OT({className:"recharts-bar-stack-layer",clipPath:r},n))},iHe=["onMouseEnter","onMouseLeave","onClick"],oHe=["value","background","tooltipPosition"],lHe=["id"],cHe=["onMouseEnter","onClick","onMouseLeave"];function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bl.apply(null,arguments)}function F8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(n),!0).forEach(function(r){uHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uHe(e,t,n){return(t=dHe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dHe(e){var t=fHe(e,"string");return typeof t=="symbol"?t:t+""}function fHe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SS(e,t){if(e==null)return{};var n,r,a=hHe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mHe=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:fp(n,t),payload:e}]},pHe=p.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:fp(s,t),hide:o,type:c,color:a,unit:l,graphicalItemId:u}};return p.createElement(wO,{tooltipEntrySettings:d})});function gHe(e){var t=xt(nu),{data:n,dataKey:r,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=SS(s,iHe),d=yO(o,r,s.id),f=xO(l),h=bO(c,r,s.id);if(!a||n==null)return null;var m=dp(a);return p.createElement(Ss,{zIndex:_9e(a,Pr.barBackground)},n.map((g,v)=>{var{value:b,background:x,tooltipPosition:y}=g,w=SS(g,oHe);if(!x)return null;var S=d(g,v),C=f(g,v),k=h(g,v),N=Fa(Fa(Fa(Fa(Fa({option:a,isActive:String(v)===t},w),{},{fill:"#eee"},x),m),mx(u,g,v)),{},{onMouseEnter:S,onMouseLeave:C,onClick:k,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return p.createElement(wS,Bl({key:"background-bar-".concat(v)},N))}))}function vHe(e){var{showLabels:t,children:n,rects:r}=e,a=r==null?void 0:r.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Fa(Fa({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return p.createElement(mO,{value:t?a:void 0},n)}function yHe(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:s,dataKey:o}=e,l=xt(nu),c=xt(gae),u=n&&String(s)===l&&(c==null||o===c),d=u?n:t;return u?p.createElement(Ss,{zIndex:Pr.activeBar},p.createElement(wS,Bl({},r,{name:String(r.name)},a,{isActive:u,option:d,index:s,dataKey:o}))):p.createElement(wS,Bl({},r,{name:String(r.name)},a,{isActive:u,option:d,index:s,dataKey:o}))}function xHe(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:s}=e;return p.createElement(wS,Bl({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:s}))}function bHe(e){var t,{data:n,props:r}=e,a=(t=zs(r))!==null&&t!==void 0?t:{},{id:s}=a,o=SS(a,lHe),{shape:l,dataKey:c,activeBar:u}=r,{onMouseEnter:d,onClick:f,onMouseLeave:h}=r,m=SS(r,cHe),g=yO(d,c,s),v=xO(h),b=bO(f,c,s);return n?p.createElement(p.Fragment,null,n.map((x,y)=>p.createElement(sHe,Bl({index:y,key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(y),className:"recharts-bar-rectangle"},mx(m,x,y),{onMouseEnter:g(x,y),onMouseLeave:v(x,y),onClick:b(x,y)}),u?p.createElement(yHe,{shape:l,activeBar:u,baseProps:o,entry:x,index:y,dataKey:c}):p.createElement(xHe,{shape:l,baseProps:o,entry:x,index:y,dataKey:c})))):null}function wHe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=n.current,h=Sx(t,"recharts-bar-"),[m,g]=p.useState(!1),v=!m,b=p.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(vHe,{showLabels:v,rects:r},p.createElement(wx,{animationId:h,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:b,onAnimationStart:x,key:h},y=>{var w=y===1?r:r==null?void 0:r.map((S,C)=>{var k=f&&f[C];if(k)return Fa(Fa({},S),{},{x:En(k.x,S.x,y),y:En(k.y,S.y,y),width:En(k.width,S.width,y),height:En(k.height,S.height,y)});if(a==="horizontal"){var N=En(0,S.height,y),P=En(S.stackedBarStart,S.y,y);return Fa(Fa({},S),{},{y:P,height:N})}var E=En(0,S.width,y),R=En(S.stackedBarStart,S.x,y);return Fa(Fa({},S),{},{width:E,x:R})});return y>0&&(n.current=w??null),w==null?null:p.createElement(Ca,null,p.createElement(bHe,{props:t,data:w}))}),p.createElement(pO,{label:t.label}),t.children)}function SHe(e){var t=p.useRef(null);return p.createElement(wHe,{previousRectanglesRef:t,props:e})}var fse=0,CHe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Qn(e,t)}};class jHe extends p.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||n==null)return null;var d=sn("recharts-bar",a),f=u;return p.createElement(Ca,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(TO,{clipPathId:f,xAxisId:s,yAxisId:o})),p.createElement(Ca,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(gHe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),p.createElement(SHe,this.props)))}}var NHe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:fse,xAxisId:0,yAxisId:0,zIndex:Pr.bar};function kHe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=hN(t,n),h=hp(),m=ca(),g=qae(e.children,Rm),v=xt(y=>Jqe(y,e.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var b,x=v==null?void 0:v[0];return x==null||x.height==null||x.width==null?b=0:b=h==="vertical"?x.height/2:x.width/2,p.createElement(EO,{xAxisId:t,yAxisId:n,data:v,dataPointFormatter:CHe,errorBarOffset:b},p.createElement(jHe,Bl({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function AHe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g,dataStartIndex:v}=e,b=t==="horizontal"?l:o,x=d?b.scale.domain():null,y=LFe({numericAxis:b}),w=b.scale(y);return f.map((S,C)=>{var k,N,P,E,R,O;if(d){var K=d[C+v];if(K==null)return null;k=_Fe(K,x)}else k=Qn(S,n),Array.isArray(k)||(k=[y,k]);var J=Iqe(r,fse)(k[1],C);if(t==="horizontal"){var Q,[G,z]=[l.scale(k[0]),l.scale(k[1])];N=H5({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:S,index:C}),P=(Q=z??G)!==null&&Q!==void 0?Q:void 0,E=a.size;var U=G-z;if(R=Qi(U)?0:U,O={x:N,y:h.top,width:E,height:h.height},Math.abs(J)>0&&Math.abs(R)<Math.abs(J)){var M=ms(R||J)*(Math.abs(J)-Math.abs(R));P-=M,R+=M}}else{var[$,B]=[o.scale(k[0]),o.scale(k[1])];if(N=$,P=H5({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:S,index:C}),E=B-$,R=a.size,O={x:h.left,y:P,width:h.width,height:R},Math.abs(J)>0&&Math.abs(E)<Math.abs(J)){var te=ms(E||J)*(Math.abs(J)-Math.abs(E));E+=te}}if(N==null||P==null||E==null||R==null)return null;var q=Fa(Fa({},S),{},{stackedBarStart:w,x:N,y:P,width:E,height:R,value:d?k:k[1],payload:S,background:O,tooltipPosition:{x:N+E/2,y:P+R/2},parentViewBox:g},m&&m[C]&&m[C].props);return q}).filter(Boolean)}function PHe(e){var t=Kr(e,NHe),n=nHe(t.stackId),r=ca();return p.createElement(CO,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(SO,{legendPayload:mHe(t)}),p.createElement(pHe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),p.createElement(jO,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(Ss,{zIndex:t.zIndex},p.createElement(kHe,Bl({},t,{id:a})))))}var Th=p.memo(PHe,Lx);Th.displayName="Bar";var EHe=["option","isActive"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(null,arguments)}function THe(e,t){if(e==null)return{};var n,r,a=_He(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _He(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DHe(e){var{option:t,isActive:n}=e,r=THe(e,EHe);return typeof t=="string"?p.createElement(vS,dv({option:p.createElement(gj,dv({type:t},r)),isActive:n,shapeType:"symbols"},r)):p.createElement(vS,dv({option:t,isActive:n,shapeType:"symbols"},r))}var RHe=(e,t,n,r,a,s,o)=>Bo(e,"xAxis",t,o),MHe=(e,t,n,r,a,s,o)=>Fo(e,"xAxis",t,o),IHe=(e,t,n,r,a,s,o)=>Bo(e,"yAxis",n,o),OHe=(e,t,n,r,a,s,o)=>Fo(e,"yAxis",n,o),LHe=(e,t,n,r)=>aze(e,"zAxis",r,!1),$He=(e,t,n,r,a)=>a,FHe=(e,t,n,r,a,s)=>s,BHe=(e,t,n,r,a,s,o)=>Gj(e,void 0,void 0,o),VHe=Me([Px,$He],(e,t)=>e.filter(n=>n.type==="scatter").find(n=>n.id===t)),zHe=Me([BHe,RHe,MHe,IHe,OHe,LHe,VHe,FHe],(e,t,n,r,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(o!=null){var f;if((o==null?void 0:o.data)!=null&&o.data.length>0?f=o.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||r==null||n==null||a==null||(n==null?void 0:n.length)===0||(a==null?void 0:a.length)===0))return n7e({displayedData:f,xAxis:t,yAxis:r,zAxis:s,scatterSettings:o,xAxisTicks:n,yAxisTicks:a,cells:l})}}),UHe=["id"],KHe=["onMouseEnter","onClick","onMouseLeave"],GHe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function LT(e,t){if(e==null)return{};var n,r,a=WHe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WHe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(null,arguments)}function B8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(n),!0).forEach(function(r){qHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qHe(e,t,n){return(t=HHe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HHe(e){var t=YHe(e,"string");return typeof t=="symbol"?t:t+""}function YHe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QHe=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:fp(n,t),payload:e}]},ZHe=p.memo(e=>{var{dataKey:t,points:n,stroke:r,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:n==null?void 0:n.map(f=>f.tooltipPayload),positions:n==null?void 0:n.map(f=>f.tooltipPosition),settings:{stroke:r,strokeWidth:a,fill:s,nameKey:void 0,dataKey:t,name:fp(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:u}};return p.createElement(wO,{tooltipEntrySettings:d})});function JHe(e){var{points:t,props:n}=e,{line:r,lineType:a,lineJointType:s}=n;if(!r)return null;var o=zs(n),l=dp(r),c,u;if(a==="joint")c=t.map(b=>{var x,y;return{x:(x=b.cx)!==null&&x!==void 0?x:null,y:(y=b.cy)!==null&&y!==void 0?y:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:h,b:m}=k4e(t),g=b=>h*b+m;c=[{x:d,y:g(d)},{x:f,y:g(f)}]}var v=gs(gs(gs({},o),{},{fill:"none",stroke:o&&o.fill},l),{},{points:c});return p.isValidElement(r)?u=p.cloneElement(r,v):typeof r=="function"?u=r(v):u=p.createElement(mI,Jd({},v,{type:s})),p.createElement(Ca,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function XHe(e){var{showLabels:t,points:n,children:r}=e,a=xx(),s=p.useMemo(()=>n==null?void 0:n.map(o=>{var l,c,u={x:(l=o.x)!==null&&l!==void 0?l:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return gs(gs({},u),{},{value:void 0,payload:o.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,n]);return p.createElement(mO,{value:t?s:void 0},r)}function e7e(e){var{points:t,allOtherScatterProps:n}=e,{shape:r,activeShape:a,dataKey:s}=n,{id:o}=n,l=LT(n,UHe),c=xt(nu),{onMouseEnter:u,onClick:d,onMouseLeave:f}=n,h=LT(n,KHe),m=yO(u,s,o),g=xO(f),v=bO(d,s,o);if(!F4e(t))return null;var b=zs(l);return p.createElement(p.Fragment,null,p.createElement(JHe,{points:t,props:l}),t.map((x,y)=>{var w=a!=null&&a!==!1,S=w&&c===String(y),C=w&&S?a:r,k=gs(gs(gs({},b),x),{},{[Tte]:y,[_te]:String(o)});return p.createElement(Ss,{key:"symbol-".concat(x==null?void 0:x.cx,"-").concat(x==null?void 0:x.cy,"-").concat(x==null?void 0:x.size,"-").concat(y),zIndex:S?Pr.activeDot:void 0},p.createElement(Ca,Jd({className:"recharts-scatter-symbol"},mx(h,x,y),{onMouseEnter:m(x,y),onMouseLeave:g(x,y),onClick:v(x,y)}),p.createElement(DHe,Jd({option:C,isActive:S},k))))}))}function t7e(e){var{previousPointsRef:t,props:n}=e,{points:r,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l}=n,c=t.current,u=Sx(n,"recharts-scatter-"),[d,f]=p.useState(!1),h=p.useCallback(()=>{f(!1)},[]),m=p.useCallback(()=>{f(!0)},[]),g=!d;return p.createElement(XHe,{showLabels:g,points:r},n.children,p.createElement(wx,{animationId:u,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:h,onAnimationStart:m,key:u},v=>{var b=v===1?r:r==null?void 0:r.map((x,y)=>{var w=c&&c[y];return w?gs(gs({},x),{},{cx:x.cx==null?void 0:En(w.cx,x.cx,v),cy:x.cy==null?void 0:En(w.cy,x.cy,v),size:En(w.size,x.size,v)}):gs(gs({},x),{},{size:En(0,x.size,v)})});return v>0&&(t.current=b),p.createElement(Ca,null,p.createElement(e7e,{points:b,allOtherScatterProps:n,showLabels:g}))}),p.createElement(pO,{label:n.label}))}function n7e(e){var{displayedData:t,xAxis:n,yAxis:r,zAxis:a,scatterSettings:s,xAxisTicks:o,yAxisTicks:l,cells:c}=e,u=yn(n.dataKey)?s.dataKey:n.dataKey,d=yn(r.dataKey)?s.dataKey:r.dataKey,f=a&&a.dataKey,h=a?a.range:gre.range,m=h&&h[0],g=n.scale.bandwidth?n.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((b,x)=>{var y=Qn(b,u),w=Qn(b,d),S=!yn(f)&&Qn(b,f)||"-",C=[{name:yn(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:y,payload:b,dataKey:u,type:s.tooltipType},{name:yn(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:w,payload:b,dataKey:d,type:s.tooltipType}];S!=="-"&&C.push({name:a.name||a.dataKey,unit:a.unit||"",value:S,payload:b,dataKey:f,type:s.tooltipType});var k=G1({axis:n,ticks:o,bandSize:g,entry:b,index:x,dataKey:u}),N=G1({axis:r,ticks:l,bandSize:v,entry:b,index:x,dataKey:d}),P=S!=="-"?a.scale(S):m,E=Math.sqrt(Math.max(P,0)/Math.PI);return gs(gs({},b),{},{cx:k,cy:N,x:k==null?void 0:k-E,y:N==null?void 0:N-E,width:2*E,height:2*E,size:P,node:{x:y,y:w,z:S},tooltipPayload:C,tooltipPosition:{x:k,y:N},payload:b},c&&c[x]&&c[x].props)})}var r7e=(e,t,n)=>({x:e.cx,y:e.cy,value:Number(n==="x"?e.node.x:e.node.y),errorVal:Qn(e,t)});function a7e(e){var{hide:t,points:n,className:r,needClip:a,xAxisId:s,yAxisId:o,id:l}=e,c=p.useRef(null);if(t)return null;var u=sn("recharts-scatter",r),d=l;return p.createElement(Ss,{zIndex:e.zIndex},p.createElement(Ca,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:l},a&&p.createElement("defs",null,p.createElement(TO,{clipPathId:d,xAxisId:s,yAxisId:o})),p.createElement(EO,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:r7e,errorBarOffset:0},p.createElement(Ca,{key:"recharts-scatter-symbols"},p.createElement(t7e,{props:e,previousPointsRef:c})))))}var hse={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Pr.scatter};function s7e(e){var t=Kr(e,hse),{animationBegin:n,animationDuration:r,animationEasing:a,hide:s,isAnimationActive:o,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:h,zAxisId:m}=t,g=LT(t,GHe),{needClip:v}=hN(f,h),b=p.useMemo(()=>qae(e.children,Rm),[e.children]),x=ca(),y=xt(w=>zHe(w,f,h,m,e.id,b,x));return v==null||y==null?null:p.createElement(p.Fragment,null,p.createElement(ZHe,{dataKey:e.dataKey,points:y,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),p.createElement(a7e,Jd({},g,{xAxisId:f,yAxisId:h,zAxisId:m,lineType:u,lineJointType:c,legendType:l,shape:d,hide:s,isAnimationActive:o,animationBegin:n,animationDuration:r,animationEasing:a,points:y,needClip:v})))}function i7e(e){var t=Kr(e,hse),n=ca();return p.createElement(CO,{id:t.id,type:"scatter"},r=>p.createElement(p.Fragment,null,p.createElement(SO,{legendPayload:QHe(t)}),p.createElement(jO,{type:"scatter",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:n}),p.createElement(s7e,Jd({},t,{id:r}))))}var mse=p.memo(i7e,Lx);mse.displayName="Scatter";var o7e=["domain","range"],l7e=["domain","range"];function V8(e,t){if(e==null)return{};var n,r,a=c7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function z8(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function pse(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=V8(e,o7e),{domain:s,range:o}=t,l=V8(t,l7e);return!z8(n,s)||!z8(r,o)?!1:Lx(a,l)}var u7e=["dangerouslySetInnerHTML","ticks","scale"],d7e=["id","scale"];function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$T.apply(null,arguments)}function U8(e,t){if(e==null)return{};var n,r,a=f7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function h7e(e){var t=or(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(l9e(e)):n.current!==e&&t(c9e({prev:n.current,next:e})),n.current=e},[e,t]),p.useLayoutEffect(()=>()=>{n.current&&(t(u9e(n.current)),n.current=null)},[t]),null}var m7e=e=>{var{xAxisId:t,className:n}=e,r=xt(lI),a=ca(),s="xAxis",o=xt(x=>Qre(x,s,t,a)),l=xt(x=>Wre(x,t)),c=xt(x=>J8e(x,t)),u=xt(x=>mre(x,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=U8(e,u7e),{id:g,scale:v}=u,b=U8(u,d7e);return p.createElement(PO,$T({},m,b,{x:c.x,y:c.y,width:l.width,height:l.height,className:sn("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o,axisType:s}))},p7e={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,angle:Xr.angle,axisLine:Sl.axisLine,height:Xr.height,hide:!1,includeHidden:Xr.includeHidden,interval:Xr.interval,minTickGap:Xr.minTickGap,mirror:Xr.mirror,orientation:Xr.orientation,padding:Xr.padding,reversed:Xr.reversed,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,tickLine:Sl.tickLine,tickSize:Sl.tickSize,type:Xr.type,xAxisId:0},g7e=e=>{var t=Kr(e,p7e);return p.createElement(p.Fragment,null,p.createElement(h7e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(m7e,t))},xd=p.memo(g7e,pse);xd.displayName="XAxis";var v7e=["dangerouslySetInnerHTML","ticks","scale"],y7e=["id","scale"];function FT(){return FT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FT.apply(null,arguments)}function K8(e,t){if(e==null)return{};var n,r,a=x7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function b7e(e){var t=or(),n=p.useRef(null);return p.useLayoutEffect(()=>{n.current===null?t(d9e(e)):n.current!==e&&t(f9e({prev:n.current,next:e})),n.current=e},[e,t]),p.useLayoutEffect(()=>()=>{n.current&&(t(h9e(n.current)),n.current=null)},[t]),null}var w7e=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,s=p.useRef(null),o=p.useRef(null),l=xt(lI),c=ca(),u=or(),d="yAxis",f=xt(k=>qre(k,t)),h=xt(k=>eze(k,t)),m=xt(k=>Qre(k,d,t,c)),g=xt(k=>pre(k,t));if(p.useLayoutEffect(()=>{if(!(r!=="auto"||!f||hO(a)||p.isValidElement(a)||g==null)){var k=s.current;if(k){var N=k.getCalculatedWidth();Math.round(f.width)!==Math.round(N)&&u(m9e({id:t,width:N}))}}},[m,f,u,a,t,r,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:b,scale:x}=e,y=K8(e,v7e),{id:w,scale:S}=g,C=K8(g,y7e);return p.createElement(PO,FT({},y,C,{ref:s,labelRef:o,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:sn("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:m,axisType:d}))},S7e={allowDataOverflow:ea.allowDataOverflow,allowDecimals:ea.allowDecimals,allowDuplicatedCategory:ea.allowDuplicatedCategory,angle:ea.angle,axisLine:Sl.axisLine,hide:!1,includeHidden:ea.includeHidden,interval:ea.interval,minTickGap:ea.minTickGap,mirror:ea.mirror,orientation:ea.orientation,padding:ea.padding,reversed:ea.reversed,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,tickLine:Sl.tickLine,tickSize:Sl.tickSize,type:ea.type,width:ea.width,yAxisId:0},C7e=e=>{var t=Kr(e,S7e);return p.createElement(p.Fragment,null,p.createElement(b7e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(w7e,t))},bd=p.memo(C7e,pse);bd.displayName="YAxis";var j7e=(e,t)=>t,DO=Me([j7e,un,fre,qr,fae,Zl,gUe,la],CUe),RO=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},gse=gi("mouseClick"),vse=vx();vse.startListening({actionCreator:gse,effect:(e,t)=>{var n=e.payload,r=DO(t.getState(),RO(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(pze({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var BT=gi("mouseMove"),yse=vx(),yb=null;yse.startListening({actionCreator:BT,effect:(e,t)=>{var n=e.payload;yb!==null&&cancelAnimationFrame(yb);var r=RO(n);yb=requestAnimationFrame(()=>{var a=t.getState(),s=tO(a,a.tooltip.settings.shared);if(s==="axis"){var o=DO(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(aae({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(rae())}yb=null})}});function N7e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var G8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},xse=ws({name:"rootProps",initialState:G8,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:G8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),k7e=xse.reducer,{updateOptions:A7e}=xse.actions,bse=ws({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Xnt}=bse.actions,P7e=bse.reducer,wse=gi("keyDown"),Sse=gi("focus"),MO=vx();MO.startListening({actionCreator:wse,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=nO(a,wp(n),Tx(n),Mx(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=Zl(n);if(s==="Enter"){var u=hS(n,"axis","hover",String(a.index));t.dispatch(ET({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=sze(n),f=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var g=hS(n,"axis","hover",String(m));t.dispatch(ET({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});MO.startListening({actionCreator:Sse,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",o=hS(n,"axis","hover",String(s));t.dispatch(ET({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var Xs=gi("externalEvent"),Cse=vx(),UA=new Map;Cse.startListening({actionCreator:Xs,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,s=UA.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:eUe(l),activeDataKey:gae(l),activeIndex:nu(l),activeLabel:pae(l),activeTooltipIndex:nu(l),isTooltipActive:tUe(l)};n(c,r)}finally{UA.delete(a)}});UA.set(a,o)}}});var E7e=Me([xp],e=>e.tooltipItemPayloads),T7e=Me([E7e,Rx,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(l=>l.settings.graphicalItemId===r);if(a!=null){var{positions:s}=a;if(s!=null){var o=t(s,n);return o}}}),jse=gi("touchMove"),Nse=vx();Nse.startListening({actionCreator:jse,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=tO(r,r.tooltip.settings.shared);if(a==="axis"){var s=n.touches[0];if(s==null)return;var o=DO(r,RO({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(aae({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(Tte),f=(l=u.getAttribute(_te))!==null&&l!==void 0?l:void 0,h=bp(r).find(v=>v.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,g=T7e(r,d,f);t.dispatch(nae({activeDataKey:m,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var _7e=Jee({brush:R9e,cartesianAxis:p9e,chartData:XUe,errorBars:TWe,graphicalItems:qGe,layout:NFe,legend:DBe,options:HUe,polarAxis:xGe,polarOptions:P7e,referenceElements:B9e,rootProps:k7e,tooltip:gze,zIndex:LUe}),D7e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Q$e({reducer:_7e,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([vse.middleware,yse.middleware,MO.middleware,Cse.middleware,Nse.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(hte({type:"raf"}))},devTools:{serialize:{replacer:N7e},name:"recharts-".concat(n)}})};function R7e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ca(),s=p.useRef(null);if(a)return n;s.current==null&&(s.current=D7e(t,r));var o=ZM;return p.createElement(cqe,{context:o,store:s.current},n)}function M7e(e){var{layout:t,margin:n}=e,r=or(),a=ca();return p.useEffect(()=>{a||(r(SFe(t)),r(wFe(n)))},[r,a,t,n]),null}var I7e=p.memo(M7e,Lx);function O7e(e){var t=or();return p.useEffect(()=>{t(A7e(e))},[t,e]),null}function W8(e){var{zIndex:t,isPanorama:n}=e,r=p.useRef(null),a=or();return p.useLayoutEffect(()=>(r.current&&a(IUe({zIndex:t,element:r.current,isPanorama:n})),()=>{a(OUe({zIndex:t,isPanorama:n}))}),[a,t,n]),p.createElement("g",{tabIndex:-1,ref:r})}function q8(e){var{children:t,isPanorama:n}=e,r=xt(NUe);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),s=r.filter(o=>o>0);return p.createElement(p.Fragment,null,a.map(o=>p.createElement(W8,{key:o,zIndex:o,isPanorama:n})),t,s.map(o=>p.createElement(W8,{key:o,zIndex:o,isPanorama:n})))}var L7e=["children"];function $7e(e,t){if(e==null)return{};var n,r,a=F7e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function F7e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CS.apply(null,arguments)}var B7e={width:"100%",height:"100%",display:"block"},V7e=p.forwardRef((e,t)=>{var n=uI(),r=dI(),a=Hte();if(!Lo(n)||!Lo(r))return null;var{children:s,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),p.createElement(OM,CS({},o,{title:l,desc:c,role:d,tabIndex:u,width:n,height:r,style:B7e,ref:t}),s)}),z7e=e=>{var{children:t}=e,n=xt(_j);if(!n)return null;var{width:r,height:a,y:s,x:o}=n;return p.createElement(OM,{width:r,height:a,x:o,y:s},t)},H8=p.forwardRef((e,t)=>{var{children:n}=e,r=$7e(e,L7e),a=ca();return a?p.createElement(z7e,null,p.createElement(q8,{isPanorama:!0},n)):p.createElement(V7e,CS({ref:t},r),p.createElement(q8,{isPanorama:!1},n))});function U7e(){var e=or(),[t,n]=p.useState(null),r=xt(UFe);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;ir(s)&&s!==r&&e(jFe(s))}},[t,e,r]),n}function Y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K7e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(n),!0).forEach(function(r){G7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G7e(e,t,n){return(t=W7e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7e(e){var t=q7e(e,"string");return typeof t=="symbol"?t:t+""}function q7e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xd.apply(null,arguments)}var H7e=()=>(lKe(),null);function jS(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Y7e=p.forwardRef((e,t)=>{var n,r,a=p.useRef(null),[s,o]=p.useState({containerWidth:jS((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:jS((r=e.style)===null||r===void 0?void 0:r.height)}),l=p.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=g=>{var{width:v,height:b}=g[0].contentRect;l(v,b)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return p.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(Dj,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",Xd({ref:c},e)))}),Q7e=p.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,s]=p.useState({containerWidth:jS(n),containerHeight:jS(r)}),o=p.useCallback((c,u)=>{s(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(Dj,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",Xd({ref:l},e)))}),Z7e=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return p.createElement(p.Fragment,null,p.createElement(Dj,{width:n,height:r}),p.createElement("div",Xd({ref:t},e)))}),J7e=p.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ml(n)||Ml(r)?p.createElement(Q7e,Xd({},e,{ref:t})):p.createElement(Z7e,Xd({},e,{ref:t}))});function X7e(e){return e===!0?Y7e:J7e}var eYe=p.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:v,style:b,width:x,responsive:y,dispatchTouchEvents:w=!0}=e,S=p.useRef(null),C=or(),[k,N]=p.useState(null),[P,E]=p.useState(null),R=U7e(),O=cI(),K=(O==null?void 0:O.width)>0?O.width:x,J=(O==null?void 0:O.height)>0?O.height:a,Q=p.useCallback(ne=>{R(ne),typeof t=="function"&&t(ne),N(ne),E(ne),ne!=null&&(S.current=ne)},[R,t,N,E]),G=p.useCallback(ne=>{C(gse(ne)),C(Xs({handler:s,reactEvent:ne}))},[C,s]),z=p.useCallback(ne=>{C(BT(ne)),C(Xs({handler:u,reactEvent:ne}))},[C,u]),U=p.useCallback(ne=>{C(rae()),C(Xs({handler:d,reactEvent:ne}))},[C,d]),M=p.useCallback(ne=>{C(BT(ne)),C(Xs({handler:f,reactEvent:ne}))},[C,f]),$=p.useCallback(()=>{C(Sse())},[C]),B=p.useCallback(ne=>{C(wse(ne.key))},[C]),te=p.useCallback(ne=>{C(Xs({handler:o,reactEvent:ne}))},[C,o]),q=p.useCallback(ne=>{C(Xs({handler:l,reactEvent:ne}))},[C,l]),ae=p.useCallback(ne=>{C(Xs({handler:c,reactEvent:ne}))},[C,c]),he=p.useCallback(ne=>{C(Xs({handler:h,reactEvent:ne}))},[C,h]),je=p.useCallback(ne=>{C(Xs({handler:v,reactEvent:ne}))},[C,v]),Ee=p.useCallback(ne=>{w&&C(jse(ne)),C(Xs({handler:g,reactEvent:ne}))},[C,w,g]),me=p.useCallback(ne=>{C(Xs({handler:m,reactEvent:ne}))},[C,m]),Ve=X7e(y);return p.createElement(Cae.Provider,{value:k},p.createElement(eee.Provider,{value:P},p.createElement(Ve,{width:K??(b==null?void 0:b.width),height:J??(b==null?void 0:b.height),className:sn("recharts-wrapper",r),style:K7e({position:"relative",cursor:"default",width:K,height:J},b),onClick:G,onContextMenu:te,onDoubleClick:q,onFocus:$,onKeyDown:B,onMouseDown:ae,onMouseEnter:z,onMouseLeave:U,onMouseMove:M,onMouseUp:he,onTouchEnd:me,onTouchMove:Ee,onTouchStart:je,ref:Q},p.createElement(H7e,null),n)))}),tYe=["width","height","responsive","children","className","style","compact","title","desc"];function nYe(e,t){if(e==null)return{};var n,r,a=rYe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rYe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aYe=p.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:s,className:o,style:l,compact:c,title:u,desc:d}=e,f=nYe(e,tYe),h=zs(f);return c?p.createElement(p.Fragment,null,p.createElement(Dj,{width:n,height:r}),p.createElement(H8,{otherAttributes:h,title:u,desc:d},s)):p.createElement(eYe,{className:o,style:l,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(H8,{otherAttributes:h,title:u,desc:d,ref:t},p.createElement(z9e,null,s)))});function VT(){return VT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VT.apply(null,arguments)}var sYe={top:5,right:5,bottom:5,left:5},iYe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:sYe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},IO=p.forwardRef(function(t,n){var r,a=Kr(t.categoricalChartProps,iYe),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return p.createElement(R7e,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},p.createElement(D9e,{chartData:u.data}),p.createElement(I7e,{layout:a.layout,margin:a.margin}),p.createElement(O7e,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(aYe,VT({},a,{ref:n})))}),oYe=["axis"],kse=p.forwardRef((e,t)=>p.createElement(IO,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oYe,tooltipPayloadSearcher:dO,categoricalChartProps:e,ref:t})),lYe=["axis","item"],zT=p.forwardRef((e,t)=>p.createElement(IO,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lYe,tooltipPayloadSearcher:dO,categoricalChartProps:e,ref:t})),cYe=["item"],uYe=p.forwardRef((e,t)=>p.createElement(IO,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:cYe,tooltipPayloadSearcher:dO,categoricalChartProps:e,ref:t}));const dYe={light:"",dark:".dark"},fYe=p.createContext(null);function NS({id:e,className:t,children:n,config:r,...a}){const s=p.useId(),o=`chart-${e||s.replace(/:/g,"")}`;return i.jsx(fYe.Provider,{value:{config:r},children:i.jsxs("div",{"data-slot":"chart","data-chart":o,className:Re("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",t),...a,children:[i.jsx(hYe,{id:o,config:r}),n]})})}const hYe=({id:e,config:t})=>{const n=Object.entries(t).filter(([,r])=>r.theme||r.color);return n.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(dYe).map(([r,a])=>`
${a} [data-chart=${e}] {
${n.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[r])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},fv=Aae;function mYe(){const e=p.useRef(null),[t,n]=p.useState({width:0,height:0}),r=p.useCallback(()=>{if(e.current){const{width:a,height:s}=e.current.getBoundingClientRect();n({width:a,height:s})}},[]);return p.useEffect(()=>{r();const a=new ResizeObserver(()=>{r()});return e.current&&a.observe(e.current),()=>{a.disconnect()}},[r]),{containerRef:e,...t}}const KA=[{key:"totalPoints",label:"Total Points"},{key:"autoPoints",label:"Auto Points"},{key:"teleopPoints",label:"Teleop Points"},{key:"endgamePoints",label:"Endgame Points"},{key:"autoFuel",label:"Auto Fuel"},{key:"teleopFuel",label:"Teleop Fuel"},{key:"fuelPassed",label:"Fuel Passed"},{key:"climbLevel",label:"Climb Level"}];function pYe({matchResults:e,compareMatchResults:t,teamNumber:n,compareTeamNumber:r}){var h,m,g,v,b,x,y,w,S,C,k,N,P;const[a,s]=p.useState("totalPoints"),{containerRef:o,width:l,height:c}=mYe(),u=e.map((E,R)=>{const O=t==null?void 0:t[R];return{match:E.matchNumber,matchIndex:R+1,[n]:E[a]||0,...O&&r?{[r]:O[a]||0}:{}}}),d={[n]:{label:`Team ${n}`,color:"hsl(0, 0%, 100%)"},...r?{[r]:{label:`Team ${r}`,color:"hsl(270, 95%, 75%)"}}:{}},f=((h=KA.find(E=>E.key===a))==null?void 0:h.label)||a;return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[i.jsxs("div",{children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Td,{className:"h-5 w-5"}),"Match Progression"]}),i.jsx(Fn,{children:"Performance trends across matches"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"Metric:"}),i.jsx(br,{label:"Select Metric",value:a,availableOptions:KA.map(E=>E.key),onValueChange:s,placeholder:"Select metric",displayFormat:E=>{var R;return((R=KA.find(O=>O.key===E))==null?void 0:R.label)||E},className:"w-48"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:(m=d[n])==null?void 0:m.color}}),i.jsxs("span",{className:"text-sm font-medium",children:["Team ",n]})]}),r&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:(g=d[r])==null?void 0:g.color}}),i.jsxs("span",{className:"text-sm font-medium",children:["Team ",r]})]})]})]})]})}),i.jsx($e,{children:i.jsx("div",{className:"h-87.5 w-full",children:i.jsx(NS,{config:d,className:"h-full w-full aspect-auto!",children:i.jsx("div",{ref:o,className:"h-full w-full",children:l>0&&c>0?i.jsxs(kse,{data:u,width:l,height:c,margin:{top:20,right:30,left:20,bottom:60},children:[i.jsx(yd,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(xd,{dataKey:"match",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12},label:{value:"Match Number",position:"insideBottom",offset:-15}}),i.jsx(bd,{tick:{fontSize:12},label:{value:f,angle:-90,position:"insideLeft"}}),i.jsx(Aae,{content:({active:E,payload:R})=>!E||!R||R.length===0?null:i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsxs("div",{className:"grid gap-2",children:[i.jsxs("div",{className:"font-medium",children:["Match ",R[0].payload.match]}),R.map((O,K)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:O.color}}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.name,":"]}),i.jsx("span",{className:"font-bold",children:O.value})]},K))]})})}),i.jsx(bS,{type:"monotone",dataKey:n.toString(),stroke:(v=d[n])==null?void 0:v.color,strokeWidth:2,dot:{r:4,fill:(b=d[n])==null?void 0:b.color,stroke:(x=d[n])==null?void 0:x.color,strokeWidth:2},activeDot:{r:6,fill:(y=d[n])==null?void 0:y.color,stroke:(w=d[n])==null?void 0:w.color,strokeWidth:2},connectNulls:!1}),r&&i.jsx(bS,{type:"monotone",dataKey:r.toString(),stroke:(S=d[r])==null?void 0:S.color,strokeWidth:2,dot:{r:4,fill:(C=d[r])==null?void 0:C.color,stroke:(k=d[r])==null?void 0:k.color,strokeWidth:2},activeDot:{r:6,fill:(N=d[r])==null?void 0:N.color,stroke:(P=d[r])==null?void 0:P.color,strokeWidth:2},connectNulls:!1})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart..."})})})})})]})}function gYe({teamStats:e,compareStats:t,rateSections:n,matchBadges:r}){if(e.matchesPlayed===0)return i.jsx(De,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"No performance data available"})})});const a=n.filter(u=>u.tab==="performance"),s=(u,d)=>{const f=u[d];return typeof f=="number"?f:0},o=(e==null?void 0:e.matchResults)||[],l=t?(t==null?void 0:t.matchResults)||[]:void 0,c=()=>{const u=e==null?void 0:e.matchResults;return!u||!Array.isArray(u)?i.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No match data available"}):i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.map((d,f)=>{const h=typeof d.eventKey=="string"?d.eventKey:null,m=String(d.matchNumber||""),g=String(d.alliance||""),v=typeof d.startPosition=="number"?d.startPosition:null,b=String(d.totalPoints||0),x=String(d.autoPoints||0),y=String(d.teleopPoints||0),w=String(d.endgamePoints||0),S=typeof d.comment=="string"?d.comment:"";return i.jsxs("div",{className:"flex flex-col p-3 border rounded gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h&&i.jsx(Le,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:h}),i.jsxs(Le,{variant:"outline",children:["Match ",m]}),i.jsx(Le,{variant:g.toLowerCase()==="red"?"destructive":"default",className:g.toLowerCase()==="blue"?"bg-blue-600":"",children:g}),v!==null&&v>=0&&i.jsxs(Le,{variant:"secondary",children:["Pos ",v]})]}),i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.map(C=>d[C.key]===C.showWhen?i.jsx(Le,{variant:C.variant,children:C.label},C.key):null)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"font-bold text-lg",children:[b," pts"]}),i.jsxs("div",{className:"text-sm text-muted-foreground flex gap-2",children:[i.jsxs("span",{className:"bg-blue-500/10 px-1.5 py-0.5 rounded text-blue-600 dark:text-blue-400",children:["A: ",x]}),i.jsxs("span",{className:"bg-purple-500/10 px-1.5 py-0.5 rounded text-purple-600 dark:text-purple-400",children:["T: ",y]}),i.jsxs("span",{className:"bg-orange-500/10 px-1.5 py-0.5 rounded text-orange-600 dark:text-orange-400",children:["E: ",w]})]})]}),S.trim()!==""&&i.jsxs("div",{className:"text-xs text-muted-foreground italic border-t pt-2",children:['"',S,'"']}),i.jsx(DLe,{matchData:{matchNumber:m,teamNumber:typeof d.teamNumber=="number"?d.teamNumber:void 0,alliance:g,eventKey:h||"",scoutName:typeof d.scoutName=="string"?d.scoutName:void 0,startPosition:v??void 0,comment:S,autoPoints:typeof d.autoPoints=="number"?d.autoPoints:0,teleopPoints:typeof d.teleopPoints=="number"?d.teleopPoints:0,endgamePoints:typeof d.endgamePoints=="number"?d.endgamePoints:0,totalPoints:typeof d.totalPoints=="number"?d.totalPoints:0,autoPassedMobilityLine:!!d.autoPassedMobilityLine,climbAttempted:!!d.climbAttempted||!!d.climbed,climbSucceeded:!!d.climbed,parkAttempted:!!d.parkAttempted,brokeDown:!!d.brokeDown,playedDefense:!!d.playedDefense,autoPath:Array.isArray(d.autoPath)?d.autoPath:[],teleopPath:Array.isArray(d.teleopPath)?d.teleopPath:[],autoFuel:typeof d.autoFuel=="number"?d.autoFuel:0,autoFuelPassed:typeof d.autoFuelPassed=="number"?d.autoFuelPassed:0,climbLevel:typeof d.climbLevel=="number"?d.climbLevel:void 0,gameData:d.gameData},variant:"outline",size:"default",className:"w-full mt-2"})]},f)})})};return i.jsxs("div",{className:"space-y-6 pb-6",children:["            ",i.jsx(pYe,{matchResults:o,compareMatchResults:l,teamNumber:e.teamNumber,compareTeamNumber:t==null?void 0:t.teamNumber}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Performance Summary"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-3",children:"Points by Phase"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-950/20 rounded",children:[i.jsx("span",{className:"text-sm font-medium",children:"Auto"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[s(e,"avgAutoPoints").toFixed(1)," pts"]}),t&&i.jsxs("span",{className:`text-xs font-medium ${s(e,"avgAutoPoints")-s(t,"avgAutoPoints")>0?"text-green-600":s(e,"avgAutoPoints")-s(t,"avgAutoPoints")<0?"text-red-600":"text-gray-500"}`,children:["(",s(e,"avgAutoPoints")-s(t,"avgAutoPoints")>0?"+":"",(s(e,"avgAutoPoints")-s(t,"avgAutoPoints")).toFixed(1),")"]})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-950/20 rounded",children:[i.jsx("span",{className:"text-sm font-medium",children:"Teleop"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[s(e,"avgTeleopPoints").toFixed(1)," pts"]}),t&&i.jsxs("span",{className:`text-xs font-medium ${s(e,"avgTeleopPoints")-s(t,"avgTeleopPoints")>0?"text-green-600":s(e,"avgTeleopPoints")-s(t,"avgTeleopPoints")<0?"text-red-600":"text-gray-500"}`,children:["(",s(e,"avgTeleopPoints")-s(t,"avgTeleopPoints")>0?"+":"",(s(e,"avgTeleopPoints")-s(t,"avgTeleopPoints")).toFixed(1),")"]})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 dark:bg-orange-950/20 rounded",children:[i.jsx("span",{className:"text-sm font-medium",children:"Endgame"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[s(e,"avgEndgamePoints").toFixed(1)," pts"]}),t&&i.jsxs("span",{className:`text-xs font-medium ${s(e,"avgEndgamePoints")-s(t,"avgEndgamePoints")>0?"text-green-600":s(e,"avgEndgamePoints")-s(t,"avgEndgamePoints")<0?"text-red-600":"text-gray-500"}`,children:["(",s(e,"avgEndgamePoints")-s(t,"avgEndgamePoints")>0?"+":"",(s(e,"avgEndgamePoints")-s(t,"avgEndgamePoints")).toFixed(1),")"]})]})]})]})]}),a.map(u=>i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-3",children:u.title}),i.jsx("div",{className:"space-y-3",children:u.rates.map(d=>i.jsx(_Le,{title:d.label,value:s(e,d.key),compareValue:t?s(t,d.key):void 0},d.key))})]},u.id))]})})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Match-by-Match Performance"})}),i.jsx($e,{children:c()})]})]})]})}function vYe({teamNumber:e,selectedEvent:t}){const[n,r]=p.useState(null),[a,s]=p.useState(!0);return p.useEffect(()=>{let o=!0;return(async()=>{if(e){s(!0);try{let c;const u=parseInt(e);t&&t!=="all"?c=await Jm(u,t):c=(await D7(u)).sort((f,h)=>h.timestamp-f.timestamp)[0],o&&(Array.isArray(c)?r(c[0]||null):r(c||null))}catch(c){console.error("Failed to load pit data",c)}finally{o&&s(!1)}}})(),()=>{o=!1}},[e,t]),a?i.jsx(yYe,{}):n?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Robot Preview"})}),i.jsxs($e,{children:[n.robotPhoto?i.jsx("div",{className:"aspect-video relative rounded-lg overflow-hidden bg-muted border border-border",children:i.jsx("img",{src:n.robotPhoto,alt:`Team ${e} Robot`,className:"object-cover w-full h-full"})}):i.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center border border-border",children:i.jsx("p",{className:"text-muted-foreground",children:"No photo available"})}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 justify-between items-center text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Scouted by: ",i.jsx("span",{className:"font-medium text-foreground",children:n.scoutName})]}),i.jsx("span",{children:new Date(n.timestamp).toLocaleDateString()})]})]})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Robot Specs"})}),i.jsx($e,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Drivetrain"}),i.jsx("div",{className:"font-medium text-lg capitalize",children:n.drivetrain||"Unknown"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Weight"}),i.jsx("div",{className:"font-medium text-lg",children:n.weight?`${n.weight} lbs`:"Unknown"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Programming"}),i.jsx("div",{className:"font-medium text-lg",children:n.programmingLanguage||"Unknown"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Dimensions"}),i.jsx("div",{className:"font-medium text-lg",children:(()=>{var u,d,f;const o=(u=n.gameData)==null?void 0:u.maxLength,l=(d=n.gameData)==null?void 0:d.maxWidth,c=(f=n.gameData)==null?void 0:f.maxHeight;return!o&&!l&&!c?i.jsx("span",{className:"text-muted-foreground",children:"-"}):i.jsxs("div",{className:"text-sm leading-tight",children:[typeof o=="number"&&i.jsxs("div",{children:["L: ",o,'"']}),typeof l=="number"&&i.jsxs("div",{children:["W: ",l,'"']}),typeof c=="number"&&i.jsxs("div",{children:["H: ",c,'"']})]})})()})]})]})})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs(De,{className:"h-full flex flex-col",children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Technical Analysis"})}),i.jsxs($e,{className:"flex-1 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Scout Notes"]}),i.jsx("div",{className:"bg-muted/30 p-4 rounded-lg border border-border text-sm leading-relaxed min-h-25",children:n.notes||i.jsx("span",{className:"text-muted-foreground italic",children:"No notes recorded."})})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),i.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),"Game Specific Data"]}),i.jsx(BR,{className:"h-50 w-full rounded-md border p-4 bg-muted/10",children:n.gameData&&Object.keys(n.gameData).length>0?i.jsx("div",{className:"space-y-2",children:Object.entries(n.gameData).map(([o,l])=>i.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-border/50 last:border-0",children:[i.jsx("span",{className:"text-sm font-medium capitalize",children:o.replace(/([A-Z])/g," $1").trim()}),i.jsx(Le,{variant:"secondary",className:"font-mono",children:typeof l=="boolean"?l?"Yes":"No":String(l)})]},o))}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground text-sm",children:[i.jsx("p",{children:"No game-specific data found."}),i.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Configure PitScoutingRules to track additional metrics."})]})})]})]})]})})]}):i.jsx(De,{children:i.jsxs($e,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx("div",{className:"bg-muted rounded-full p-4 mb-4",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-muted-foreground",children:[i.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"9",x2:"15",y1:"15",y2:"15"})]})}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:"No Pit Data Found"}),i.jsxs("p",{className:"text-muted-foreground text-center max-w-100",children:["No pit scouting data has been recorded for Team ",e," ",t&&t!=="all"?`at ${t}`:""," yet."]})]})})}function yYe(){return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(ta,{className:"h-6 w-32"})}),i.jsxs($e,{children:[i.jsx(ta,{className:"aspect-video w-full rounded-lg"}),i.jsxs("div",{className:"mt-4 flex justify-between",children:[i.jsx(ta,{className:"h-4 w-24"}),i.jsx(ta,{className:"h-4 w-24"})]})]})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(ta,{className:"h-6 w-28"})}),i.jsx($e,{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(e=>i.jsxs("div",{className:"space-y-2",children:[i.jsx(ta,{className:"h-3 w-16"}),i.jsx(ta,{className:"h-6 w-full"})]},e))})})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs(De,{className:"h-full",children:[i.jsx(Ke,{children:i.jsx(ta,{className:"h-6 w-40"})}),i.jsxs($e,{className:"space-y-6",children:[i.jsx(ta,{className:"h-32 w-full rounded-lg"}),i.jsx(ta,{className:"h-48 w-full rounded-lg"})]})]})})]})}function xYe(e){const{availableTeams:t,availableEvents:n,displayConfig:r,calculateStats:a}=CLe(),s=e.availableTeams??t,o=e.availableEvents??n,l=e.statSections??r.statSections,c=e.rateSections??r.rateSections,u=e.matchBadges??r.matchBadges,d=e.startPositionConfig??r.startPositionConfig,f=e.calculateStats??a,h=e.PitDataComponent??vYe,[m,g]=p.useState(""),[v,b]=p.useState("none"),[x,y]=p.useState("all"),[w,S]=p.useState(null),[C,k]=p.useState(null),[N,P]=p.useState("overview");return p.useEffect(()=>{(async()=>{if(m){const R=await f(m,x==="all"?void 0:x);S(R)}else S(null)})()},[m,x,f]),p.useEffect(()=>{(async()=>{if(v&&v!=="none"){const R=await f(v,x==="all"?void 0:x);k(R)}else k(null)})()},[v,x,f]),i.jsx("div",{className:"min-h-screen w-full flex flex-col items-center px-4 pt-12 pb-24",children:i.jsxs("div",{className:"w-full max-w-7xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Team Statistics"}),i.jsx("div",{className:"hidden md:block",children:i.jsx(Zc,{sources:["tba"],variant:"compact"})})]}),i.jsx("div",{className:"md:hidden mb-4",children:i.jsx(Zc,{sources:["tba"],variant:"compact"})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-6 pt-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"font-medium shrink-0",children:"Select Team:"}),i.jsx("div",{className:"min-w-[120px] max-w-[200px]",children:i.jsx(br,{label:"Select Team",value:m,availableOptions:s,onValueChange:g,placeholder:"Select Team",className:"bg-background border-muted-foreground/20"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"font-medium shrink-0",children:"Compare to:"}),i.jsx("div",{className:"min-w-[120px] max-w-[200px]",children:i.jsx(br,{label:"Compare Team",value:v,availableOptions:["none",...s.filter(E=>E!==m)],onValueChange:b,placeholder:"No team",className:"bg-background border-muted-foreground/20"})})]}),o.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"font-medium shrink-0",children:"Event:"}),i.jsx("div",{className:"min-w-[140px] max-w-[250px]",children:i.jsx(br,{label:"Select Event",value:x,availableOptions:["all",...o],onValueChange:y,placeholder:"All events",className:"bg-background border-muted-foreground/20"})})]})]}),!m||!w?i.jsx(De,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-lg text-muted-foreground",children:s.length===0?"No scouting data available":"Select a team to view analysis"})})}):i.jsxs("div",{className:"w-full space-y-6",children:[i.jsx(De,{className:"w-full bg-card/50",children:i.jsx(Ke,{className:"py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Ge,{className:"text-2xl",children:["Team ",m]}),v&&v!=="none"&&C&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg text-muted-foreground italic",children:"vs"}),i.jsxs(Ge,{className:"text-2xl text-purple-600",children:["Team ",v]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"outline",className:"bg-muted/50",children:w.matchesPlayed>0?`${w.matchesPlayed} matches`:"No matches"}),i.jsx(Le,{variant:"default",children:w.matchesPlayed>0?`${w.avgTotalPoints} avg pts`:"Pit only"})]}),C&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"outline",className:"bg-purple-500/10 text-purple-600 border-purple-500/20",children:C.matchesPlayed>0?`${C.matchesPlayed} matches`:"No matches"}),i.jsx(Le,{variant:"outline",className:"bg-purple-600 text-white border-transparent",children:C.matchesPlayed>0?`${C.avgTotalPoints} avg pts`:"Pit only"})]})]})]})})}),i.jsxs(pu,{value:N,onValueChange:P,className:"w-full",enableSwipe:!0,children:[i.jsxs(gu,{className:"grid w-full grid-cols-5 h-auto",children:[i.jsxs(hn,{value:"overview",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Overview"}),i.jsx("span",{className:"sm:hidden",children:"Over."})]}),i.jsxs(hn,{value:"scoring",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Scoring"}),i.jsx("span",{className:"sm:hidden",children:"Score"})]}),i.jsxs(hn,{value:"auto",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Auto Start"}),i.jsx("span",{className:"sm:hidden",children:"Auto"})]}),i.jsxs(hn,{value:"performance",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Performance"}),i.jsx("span",{className:"sm:hidden",children:"Perf."})]}),i.jsxs(hn,{value:"pit",className:"text-xs sm:text-sm px-1 sm:px-3",children:[i.jsx("span",{className:"hidden sm:inline",children:"Pit Data"}),i.jsx("span",{className:"sm:hidden",children:"Pit"})]})]}),i.jsx(Dn,{value:"overview",children:i.jsx(jLe,{teamStats:w,compareStats:C,statSections:l,rateSections:c,setActiveTab:P})}),i.jsx(Dn,{value:"scoring",children:i.jsx(kLe,{teamStats:w,compareStats:C,statSections:l})}),i.jsx(Dn,{value:"auto",children:i.jsx(TLe,{teamStats:w,compareStats:C,startPositionConfig:d})}),i.jsx(Dn,{value:"performance",children:i.jsx(gYe,{teamStats:w,compareStats:C,rateSections:c,matchBadges:u})}),i.jsx(Dn,{value:"pit",children:h?i.jsx(h,{teamNumber:m,selectedEvent:x==="all"?void 0:x}):i.jsx(De,{children:i.jsx($e,{className:"flex flex-col items-center justify-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"Pit scouting data is not available for this configuration"})})})})]})]})]})})}const bYe=e=>{const[t,n]=p.useState([]),[r,a]=p.useState(!0),[s,o]=p.useState(null);return p.useEffect(()=>{(async()=>{a(!0),o(null);try{if(e){const c=await T7(e);n(c)}else{const c=await Yi();n(c)}}catch(c){console.error("Error loading matches:",c),o(c instanceof Error?c:new Error("Failed to load matches")),n([])}finally{a(!1)}})()},[e]),{matches:t,isLoading:r,error:s}},_r=(e,t)=>e.reduce((n,r)=>n+t(r),0),Gt=(e,t=1)=>Math.round(e*Math.pow(10,t))/Math.pow(10,t),Cr=(e,t)=>t>0?Math.round(e/t*100):0,wn=e=>typeof e=="number"?e:0,wYe=e=>{if(e.length===0)return CYe();const t=e.length,n=_r(e,Se=>Ii.calculateAutoPoints({gameData:Se.gameData})),r=_r(e,Se=>Ii.calculateTeleopPoints({gameData:Se.gameData})),a=_r(e,Se=>Ii.calculateEndgamePoints({gameData:Se.gameData})),s=n+r+a,o=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.fuelScoredCount)}),l=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.fuelPassedCount)}),c=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.fuelScoredCount)}),u=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.fuelPassedCount)}),d=o+c,f=l+u,h=d,m=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.autoClimbL1)===!0}).length,g=SYe(e,t),v=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.trenchStuckCount)}),b=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.bumpStuckCount)}),x=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.trenchStuckDuration)}),y=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.bumpStuckDuration)}),w=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.climbL1)===!0}).length,S=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.climbL2)===!0}).length,C=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.climbL3)===!0}).length,k=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.climbFailed)===!0}).length,N=w+S+C,P=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.playedDefense)===!0}).length,E=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.defenseAllianceCount)}),R=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.defenseNeutralCount)}),O=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.defenseOpponentCount)}),K=E+R+O,J=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.stealCount)}),Q=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.trenchStuckCount)}),G=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.bumpStuckCount)}),z=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.trenchStuckDuration)}),U=_r(e,Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.bumpStuckDuration)}),M=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleActiveCycler)===!0}).length,$=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleActiveCleanUp)===!0}).length,B=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleActivePasser)===!0}).length,te=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleActiveThief)===!0}).length,q=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleActiveDefense)===!0}).length,ae=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleInactiveCycler)===!0}).length,he=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleInactiveCleanUp)===!0}).length,je=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleInactivePasser)===!0}).length,Ee=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleInactiveThief)===!0}).length,me=e.filter(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.roleInactiveDefense)===!0}).length,Ve=[{name:"Cycler",count:M},{name:"Clean Up",count:$},{name:"Passer",count:B},{name:"Thief",count:te},{name:"Defense",count:q}],ne=Math.max(...Ve.map(Se=>Se.count)),ke=Ve.filter(Se=>Se.count===ne&&Se.count>0),we=ke.length>0?ke.map(Se=>Se.name).join(" / "):"None",re=[{name:"Cycler",count:ae},{name:"Clean Up",count:he},{name:"Passer",count:je},{name:"Thief",count:Ee},{name:"Defense",count:me}],He=Math.max(...re.map(Se=>Se.count)),Oe=re.filter(Se=>Se.count===He&&Se.count>0),Xe=Oe.length>0?Oe.map(Se=>Se.name).join(" / "):"None",Fe={totalPoints:e.map(Se=>Ii.calculateTotalPoints({gameData:Se.gameData})),autoPoints:e.map(Se=>Ii.calculateAutoPoints({gameData:Se.gameData})),teleopPoints:e.map(Se=>Ii.calculateTeleopPoints({gameData:Se.gameData})),endgamePoints:e.map(Se=>Ii.calculateEndgamePoints({gameData:Se.gameData})),autoFuel:e.map(Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.fuelScoredCount)}),teleopFuel:e.map(Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.fuelScoredCount)}),totalFuel:e.map(Se=>{var de,ve,Nt,We;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.fuelScoredCount)+wn((We=(Nt=Se.gameData)==null?void 0:Nt.teleop)==null?void 0:We.fuelScoredCount)}),autoFuelPassed:e.map(Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.fuelPassedCount)}),teleopFuelPassed:e.map(Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.fuelPassedCount)}),totalFuelPassed:e.map(Se=>{var de,ve,Nt,We;return wn((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.fuelPassedCount)+wn((We=(Nt=Se.gameData)==null?void 0:Nt.teleop)==null?void 0:We.fuelPassedCount)}),climbL1:e.map(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.climbL1)===!0?1:0}),climbL2:e.map(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.climbL2)===!0?1:0}),climbL3:e.map(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.endgame)==null?void 0:ve.climbL3)===!0?1:0}),climbAny:e.map(Se=>{var de,ve,Nt,We,kt,ct;return(ve=(de=Se.gameData)==null?void 0:de.endgame)!=null&&ve.climbL1||(We=(Nt=Se.gameData)==null?void 0:Nt.endgame)!=null&&We.climbL2||(ct=(kt=Se.gameData)==null?void 0:kt.endgame)!=null&&ct.climbL3?1:0}),autoClimb:e.map(Se=>{var de,ve;return((ve=(de=Se.gameData)==null?void 0:de.auto)==null?void 0:ve.autoClimbL1)===!0?1:0}),steals:e.map(Se=>{var de,ve;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.stealCount)}),defenseActions:e.map(Se=>{var de,ve,Nt,We,kt,ct;return wn((ve=(de=Se.gameData)==null?void 0:de.teleop)==null?void 0:ve.defenseAllianceCount)+wn((We=(Nt=Se.gameData)==null?void 0:Nt.teleop)==null?void 0:We.defenseNeutralCount)+wn((ct=(kt=Se.gameData)==null?void 0:kt.teleop)==null?void 0:ct.defenseOpponentCount)})};return{matchCount:t,totalPoints:Gt(s/t),autoPoints:Gt(n/t),teleopPoints:Gt(r/t),endgamePoints:Gt(a/t),avgTotalPoints:Gt(s/t),avgAutoPoints:Gt(n/t),avgTeleopPoints:Gt(r/t),avgEndgamePoints:Gt(a/t),avgAutoFuel:Gt(o/t),avgTeleopFuel:Gt(c/t),avgAutoFuelPassed:Gt(l/t),avgTeleopFuelPassed:Gt(u/t),avgFuelPassed:Gt(f/t),avgTotalFuel:Gt(d/t),autoClimbRate:Cr(m,t),autoClimbAttempts:m,climbL1Rate:Cr(w,t),climbL2Rate:Cr(S,t),climbL3Rate:Cr(C,t),climbSuccessRate:Cr(N,t),primaryActiveRole:we,primaryInactiveRole:Xe,overall:{avgTotalPoints:Gt(s/t),totalPiecesScored:Gt(h/t),avgGamePiece1:Gt(d/t),avgGamePiece2:Gt(f/t),avgFuelScored:Gt(d/t),avgFuelPassed:Gt(f/t)},auto:{avgPoints:Gt(n/t),avgGamePiece1:Gt(o/t),avgGamePiece2:Gt(l/t),mobilityRate:0,autoClimbRate:Cr(m,t),avgFuelScored:Gt(o/t),startPositions:g,avgTrenchStuck:Gt(v/t),avgBumpStuck:Gt(b/t),avgTrenchStuckDuration:Gt(x/t/1e3,1),avgBumpStuckDuration:Gt(y/t/1e3,1)},teleop:{avgPoints:Gt(r/t),avgGamePiece1:Gt(c/t),avgGamePiece2:Gt(u/t),avgFuelScored:Gt(c/t),avgFuelPassed:Gt(u/t),defenseRate:Cr(P,t),totalDefenseActions:Gt(K/t),avgSteals:Gt(J/t),avgTrenchStuck:Gt(Q/t),avgBumpStuck:Gt(G/t),avgTrenchStuckDuration:Gt(z/t/1e3,1),avgBumpStuckDuration:Gt(U/t/1e3,1)},endgame:{avgPoints:Gt(a/t),climbL1Rate:Cr(w,t),climbL2Rate:Cr(S,t),climbL3Rate:Cr(C,t),climbSuccessRate:Cr(N,t),climbFailedRate:Cr(k,t),climbRate:Cr(N,t),parkRate:0,shallowClimbRate:Cr(w,t),deepClimbRate:Cr(C,t),option1Rate:Cr(w,t),option2Rate:Cr(S,t),option3Rate:Cr(C,t),option4Rate:0,option5Rate:0,toggle1Rate:Cr(k,t),toggle2Rate:0},rawValues:Fe}};function SYe(e,t){const n={};e.forEach(s=>{var l,c;const o=(c=(l=s.gameData)==null?void 0:l.auto)==null?void 0:c.startPosition;typeof o=="number"&&o>=0&&o<=5&&(n[o]=(n[o]||0)+1)});const r=[],a=["Left Trench","Left Bump","Hub","Right Bump","Right Trench"];for(let s=0;s<=4;s++){const o=n[s]||0,l=Cr(o,t);l>0&&r.push({position:a[s]||`Pos ${s}`,percentage:l})}return r}function CYe(){return{matchCount:0,totalPoints:0,autoPoints:0,teleopPoints:0,endgamePoints:0,overall:{avgTotalPoints:0,totalPiecesScored:0,avgGamePiece1:0,avgGamePiece2:0},auto:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0,mobilityRate:0,startPositions:[]},teleop:{avgPoints:0,avgGamePiece1:0,avgGamePiece2:0},endgame:{avgPoints:0,climbRate:0,parkRate:0,shallowClimbRate:0,deepClimbRate:0},rawValues:{totalPoints:[],autoPoints:[],teleopPoints:[],endgamePoints:[]}}}const OO=e=>{const{matches:t,isLoading:n,error:r}=bYe(e);return{teamStats:p.useMemo(()=>{if(!t||t.length===0)return[];const s=t.reduce((l,c)=>{const u=c.teamNumber,d=c.eventKey||"Unknown";if(!u)return l;const f=`${u}_${d}`;return l[f]||(l[f]={teamNumber:u,eventKey:d,matches:[]}),l[f].matches.push(c),l},{});return Object.values(s).map(({teamNumber:l,eventKey:c,matches:u})=>{const d=wYe(u);return{teamNumber:l,eventKey:c,...d}}).sort((l,c)=>l.teamNumber-c.teamNumber)},[t]),isLoading:n,error:r}},jYe=(e,t,n,r="average")=>{const{teamStats:a,isLoading:s,error:o}=OO(e),l=p.useMemo(()=>a.map(u=>{const d={teamNumber:u.teamNumber,eventKey:u.eventKey,matchCount:u.matchCount};return t.columns.forEach(f=>{if(["teamNumber","eventKey","matchCount"].includes(f.key))return;const h=NYe(u,f.key,r);h!==void 0&&(d[f.key]=h)}),d}),[a,t.columns,r]),c=p.useMemo(()=>Object.keys(n).length===0?l:l.filter(u=>Object.entries(n).every(([d,f])=>{const h=u[d];if(typeof h!="number")return!0;switch(f.operator){case">":return h>f.value;case">=":return h>=f.value;case"<":return h<f.value;case"<=":return h<=f.value;case"=":return Math.abs(h-f.value)<.001;case"!=":return Math.abs(h-f.value)>=.001;case"between":return f.value2!==void 0?h>=f.value&&h<=f.value2:!0;default:return!0}})),[l,n]);return{teamStats:l,filteredTeamStats:c,isLoading:s,error:o}};function NYe(e,t,n="average"){if(e){if(e[t]!==void 0){const r=e[t];return Array.isArray(r)?Q8(r,n):r}if(t.includes(".")){const r=t.split(".").reduce((a,s)=>a==null?void 0:a[s],e);return Array.isArray(r)?Q8(r,n):r}}}function Q8(e,t){if(e.length===0)return 0;switch(t){case"average":return e.reduce((r,a)=>r+a,0)/e.length;case"max":return Math.max(...e);case"min":return Math.min(...e);case"p75":{const n=[...e].sort((a,s)=>a-s),r=Math.ceil(n.length*.75)-1;return n[r]??0}case"p25":{const n=[...e].sort((a,s)=>a-s),r=Math.ceil(n.length*.25)-1;return n[r]??0}case"median":{const n=[...e].sort((a,s)=>a-s),r=Math.floor(n.length/2);return n.length%2===0?((n[r-1]??0)+(n[r]??0))/2:n[r]??0}case"sum":return e.reduce((n,r)=>n+r,0);default:return 0}}const kYe=(e,t,n,r,a,s)=>{const o=p.useCallback(u=>s.columns.find(d=>d.key===u),[s.columns]),l=p.useMemo(()=>{if(t==="scatter")return e.map(u=>({team:String(u.teamNumber),x:typeof u[r]=="number"?u[r]:0,y:typeof u[a]=="number"?u[a]:0,eventKey:u.eventKey}));if(t==="box"){const u=[];return e.forEach(d=>{const f=typeof d[n]=="number"?d[n]:0,h=typeof d.matchCount=="number"?d.matchCount:1;for(let m=0;m<Math.max(1,Math.min(h,12));m++){const g=Math.random()<.1?.6:.4,v=(Math.random()-.5)*g*f;u.push({team:String(d.teamNumber),value:Math.max(0,f+v),eventKey:d.eventKey})}}),u}else return t==="stacked"?e.map(u=>{const d=u["rawValues.autoPoints"]||u.autoPoints||0,f=u["rawValues.teleopPoints"]||u.teleopPoints||0,h=u["rawValues.endgamePoints"]||u.endgamePoints||0;return{team:String(u.teamNumber),autoPoints:d,teleopPoints:f,endgamePoints:h,totalPoints:d+f+h,eventKey:u.eventKey}}).sort((u,d)=>d.totalPoints-u.totalPoints).slice(0,12):e.map(u=>({team:String(u.teamNumber),value:u[n]||0,eventKey:u.eventKey})).sort((u,d)=>d.value-u.value).slice(0,12)},[e,t,n,r,a]),c=p.useMemo(()=>{const u=o(r),d=o(a),f=o(n);return t==="stacked"?{autoPoints:{label:"Auto Points",color:"hsl(var(--chart-1))"},teleopPoints:{label:"Teleop Points",color:"hsl(var(--chart-2))"},endgamePoints:{label:"Endgame Points",color:"hsl(var(--chart-3))"}}:{value:{label:(f==null?void 0:f.label)||"Value",color:"hsl(var(--chart-1))"},x:{label:(u==null?void 0:u.label)||"X",color:"hsl(var(--chart-1))"},y:{label:(d==null?void 0:d.label)||"Y",color:"hsl(var(--chart-2))"}}},[t,n,r,a,o]);return{chartData:l,chartConfig:c}},AYe=zNe(),Og={columns:AYe,presets:VNe},PYe=({filteredTeamCount:e,totalTeamCount:t,activeFilterCount:n,selectedEvent:r,onEventChange:a,availableEvents:s,aggregationType:o,onAggregationTypeChange:l,onClearAllFilters:c,chartType:u})=>{const d=f=>{l(f)};return i.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold pb-2",children:"Strategy Overview"}),i.jsxs("p",{className:"text-muted-foreground pb-8 md:pb-0",children:["Team performance analysis with ",e," teams",n>0&&i.jsxs("span",{className:"ml-2",children:["(filtered from ",t,")",i.jsxs(Z,{variant:"ghost",size:"sm",onClick:c,className:"ml-2 h-auto p-1 text-xs",children:[i.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Clear filters"]})]})]})]}),i.jsxs("div",{className:"flex gap-2 pb-4 items-center",children:[i.jsx(br,{label:"Select Event",value:r,availableOptions:["all",...s],onValueChange:a,placeholder:"All Events",displayFormat:f=>f,className:"w-48"}),i.jsx("div",{className:"relative",children:i.jsx(br,{label:"Select Aggregation Type",value:o,availableOptions:["average","median","max","min","p75","p25","sum"],onValueChange:u==="box"?()=>{}:d,placeholder:"Aggregation type",displayFormat:f=>{switch(f){case"average":return"Average";case"median":return"Median";case"max":return"Max";case"min":return"Min";case"p75":return"75th %";case"p25":return"25th %";case"sum":return"Sum";default:return f}},className:`w-32 ${u==="box"?"opacity-50 pointer-events-none":""}`})})]})]})};var EYe={value:()=>{}};function Ase(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new uw(n)}function uw(e){this._=e}function TYe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}uw.prototype=Ase.prototype={constructor:uw,on:function(e,t){var n=this._,r=TYe(e+"",n),a,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((a=(e=r[s]).type)&&(a=_Ye(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=r[s]).type)n[a]=Z8(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Z8(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new uw(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function _Ye(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Z8(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=EYe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var UT="http://www.w3.org/1999/xhtml";const J8={svg:"http://www.w3.org/2000/svg",xhtml:UT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mN(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),J8.hasOwnProperty(t)?{space:J8[t],local:e}:e}function DYe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===UT&&t.documentElement.namespaceURI===UT?t.createElement(e):t.createElementNS(n,e)}}function RYe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Pse(e){var t=mN(e);return(t.local?RYe:DYe)(t)}function MYe(){}function LO(e){return e==null?MYe:function(){return this.querySelector(e)}}function IYe(e){typeof e!="function"&&(e=LO(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=new Array(o),c,u,d=0;d<o;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Xi(r,this._parents)}function OYe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function LYe(){return[]}function Ese(e){return e==null?LYe:function(){return this.querySelectorAll(e)}}function $Ye(e){return function(){return OYe(e.apply(this,arguments))}}function FYe(e){typeof e=="function"?e=$Ye(e):e=Ese(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o=t[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),a.push(c));return new Xi(r,a)}function Tse(e){return function(){return this.matches(e)}}function _se(e){return function(t){return t.matches(e)}}var BYe=Array.prototype.find;function VYe(e){return function(){return BYe.call(this.children,e)}}function zYe(){return this.firstElementChild}function UYe(e){return this.select(e==null?zYe:VYe(typeof e=="function"?e:_se(e)))}var KYe=Array.prototype.filter;function GYe(){return Array.from(this.children)}function WYe(e){return function(){return KYe.call(this.children,e)}}function qYe(e){return this.selectAll(e==null?GYe:WYe(typeof e=="function"?e:_se(e)))}function HYe(e){typeof e!="function"&&(e=Tse(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Xi(r,this._parents)}function Dse(e){return new Array(e.length)}function YYe(){return new Xi(this._enter||this._groups.map(Dse),this._parents)}function kS(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}kS.prototype={constructor:kS,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function QYe(e){return function(){return e}}function ZYe(e,t,n,r,a,s){for(var o=0,l,c=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],r[o]=l):n[o]=new kS(e,s[o]);for(;o<c;++o)(l=t[o])&&(a[o]=l)}function JYe(e,t,n,r,a,s,o){var l,c,u=new Map,d=t.length,f=s.length,h=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(h[l]=m=o.call(c,c.__data__,l,t)+"",u.has(m)?a[l]=c:u.set(m,c));for(l=0;l<f;++l)m=o.call(e,s[l],l,s)+"",(c=u.get(m))?(r[l]=c,c.__data__=s[l],u.delete(m)):n[l]=new kS(e,s[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(a[l]=c)}function XYe(e){return e.__data__}function eQe(e,t){if(!arguments.length)return Array.from(this,XYe);var n=t?JYe:ZYe,r=this._parents,a=this._groups;typeof e!="function"&&(e=QYe(e));for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=r[u],f=a[u],h=f.length,m=tQe(e.call(d,d&&d.__data__,u,r)),g=m.length,v=l[u]=new Array(g),b=o[u]=new Array(g),x=c[u]=new Array(h);n(d,f,v,b,x,m,t);for(var y=0,w=0,S,C;y<g;++y)if(S=v[y]){for(y>=w&&(w=y+1);!(C=b[w])&&++w<g;);S._next=C||null}}return o=new Xi(o,r),o._enter=l,o._exit=c,o}function tQe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nQe(){return new Xi(this._exit||this._groups.map(Dse),this._parents)}function rQe(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function aQe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),l=new Array(a),c=0;c<o;++c)for(var u=n[c],d=r[c],f=u.length,h=l[c]=new Array(f),m,g=0;g<f;++g)(m=u[g]||d[g])&&(h[g]=m);for(;c<a;++c)l[c]=n[c];return new Xi(l,this._parents)}function sQe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],o;--a>=0;)(o=r[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function iQe(e){e||(e=oQe);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,c=a[s]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new Xi(a,this._parents).order()}function oQe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function lQe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cQe(){return Array.from(this)}function uQe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null}function dQe(){let e=0;for(const t of this)++e;return e}function fQe(){return!this.node()}function hQe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function mQe(e){return function(){this.removeAttribute(e)}}function pQe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gQe(e,t){return function(){this.setAttribute(e,t)}}function vQe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yQe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function xQe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bQe(e,t){var n=mN(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?pQe:mQe:typeof t=="function"?n.local?xQe:yQe:n.local?vQe:gQe)(n,t))}function Rse(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wQe(e){return function(){this.style.removeProperty(e)}}function SQe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function CQe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function jQe(e,t,n){return arguments.length>1?this.each((t==null?wQe:typeof t=="function"?CQe:SQe)(e,t,n??"")):Mm(this.node(),e)}function Mm(e,t){return e.style.getPropertyValue(t)||Rse(e).getComputedStyle(e,null).getPropertyValue(t)}function NQe(e){return function(){delete this[e]}}function kQe(e,t){return function(){this[e]=t}}function AQe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function PQe(e,t){return arguments.length>1?this.each((t==null?NQe:typeof t=="function"?AQe:kQe)(e,t)):this.node()[e]}function Mse(e){return e.trim().split(/^|\s+/)}function $O(e){return e.classList||new Ise(e)}function Ise(e){this._node=e,this._names=Mse(e.getAttribute("class")||"")}Ise.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ose(e,t){for(var n=$O(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Lse(e,t){for(var n=$O(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function EQe(e){return function(){Ose(this,e)}}function TQe(e){return function(){Lse(this,e)}}function _Qe(e,t){return function(){(t.apply(this,arguments)?Ose:Lse)(this,e)}}function DQe(e,t){var n=Mse(e+"");if(arguments.length<2){for(var r=$O(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?_Qe:t?EQe:TQe)(n,t))}function RQe(){this.textContent=""}function MQe(e){return function(){this.textContent=e}}function IQe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function OQe(e){return arguments.length?this.each(e==null?RQe:(typeof e=="function"?IQe:MQe)(e)):this.node().textContent}function LQe(){this.innerHTML=""}function $Qe(e){return function(){this.innerHTML=e}}function FQe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function BQe(e){return arguments.length?this.each(e==null?LQe:(typeof e=="function"?FQe:$Qe)(e)):this.node().innerHTML}function VQe(){this.nextSibling&&this.parentNode.appendChild(this)}function zQe(){return this.each(VQe)}function UQe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function KQe(){return this.each(UQe)}function GQe(e){var t=typeof e=="function"?e:Pse(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function WQe(){return null}function qQe(e,t){var n=typeof e=="function"?e:Pse(e),r=t==null?WQe:typeof t=="function"?t:LO(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function HQe(){var e=this.parentNode;e&&e.removeChild(this)}function YQe(){return this.each(HQe)}function QQe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZQe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JQe(e){return this.select(e?ZQe:QQe)}function XQe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function eZe(e){return function(t){e.call(this,t,this.__data__)}}function tZe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function nZe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function rZe(e,t,n){return function(){var r=this.__on,a,s=eZe(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function aZe(e,t,n){var r=tZe(e+""),a,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(a=0,d=l[c];a<s;++a)if((o=r[a]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?rZe:nZe,a=0;a<s;++a)this.each(l(r[a],t,n));return this}function $se(e,t,n){var r=Rse(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function sZe(e,t){return function(){return $se(this,e,t)}}function iZe(e,t){return function(){return $se(this,e,t.apply(this,arguments))}}function oZe(e,t){return this.each((typeof t=="function"?iZe:sZe)(e,t))}function*lZe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,o;a<s;++a)(o=r[a])&&(yield o)}var cZe=[null];function Xi(e,t){this._groups=e,this._parents=t}function Fx(){return new Xi([[document.documentElement]],cZe)}function uZe(){return this}Xi.prototype=Fx.prototype={constructor:Xi,select:IYe,selectAll:FYe,selectChild:UYe,selectChildren:qYe,filter:HYe,data:eQe,enter:YYe,exit:nQe,join:rQe,merge:aQe,selection:uZe,order:sQe,sort:iQe,call:lQe,nodes:cQe,node:uQe,size:dQe,empty:fQe,each:hQe,attr:bQe,style:jQe,property:PQe,classed:DQe,text:OQe,html:BQe,raise:zQe,lower:KQe,append:GQe,insert:qQe,remove:YQe,clone:JQe,datum:XQe,on:aZe,dispatch:oZe,[Symbol.iterator]:lZe};var Im=0,Lg=0,mg=0,Fse=1e3,AS,$g,PS=0,ef=0,pN=0,Ny=typeof performance=="object"&&performance.now?performance:Date,Bse=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function FO(){return ef||(Bse(dZe),ef=Ny.now()+pN)}function dZe(){ef=0}function ES(){this._call=this._time=this._next=null}ES.prototype=Vse.prototype={constructor:ES,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?FO():+n)+(t==null?0:+t),!this._next&&$g!==this&&($g?$g._next=this:AS=this,$g=this),this._call=e,this._time=n,KT()},stop:function(){this._call&&(this._call=null,this._time=1/0,KT())}};function Vse(e,t,n){var r=new ES;return r.restart(e,t,n),r}function fZe(){FO(),++Im;for(var e=AS,t;e;)(t=ef-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Im}function X8(){ef=(PS=Ny.now())+pN,Im=Lg=0;try{fZe()}finally{Im=0,mZe(),ef=0}}function hZe(){var e=Ny.now(),t=e-PS;t>Fse&&(pN-=t,PS=e)}function mZe(){for(var e,t=AS,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:AS=n);$g=e,KT(r)}function KT(e){if(!Im){Lg&&(Lg=clearTimeout(Lg));var t=e-ef;t>24?(e<1/0&&(Lg=setTimeout(X8,e-Ny.now()-pN)),mg&&(mg=clearInterval(mg))):(mg||(PS=Ny.now(),mg=setInterval(hZe,Fse)),Im=1,Bse(X8))}}function ez(e,t,n){var r=new ES;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var pZe=Ase("start","end","cancel","interrupt"),gZe=[],zse=0,tz=1,GT=2,dw=3,nz=4,WT=5,fw=6;function gN(e,t,n,r,a,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;vZe(e,n,{name:t,index:r,group:a,on:pZe,tween:gZe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:zse})}function BO(e,t){var n=so(e,t);if(n.state>zse)throw new Error("too late; already scheduled");return n}function qo(e,t){var n=so(e,t);if(n.state>dw)throw new Error("too late; already running");return n}function so(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vZe(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Vse(s,0,n.time);function s(u){n.state=tz,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,h,m;if(n.state!==tz)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===dw)return ez(o);m.state===nz?(m.state=fw,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=fw,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(ez(function(){n.state===dw&&(n.state=nz,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=GT,n.on.call("start",e,e.__data__,n.index,n.group),n.state===GT){for(n.state=dw,a=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++f]=m);a.length=f+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=WT,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);n.state===WT&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=fw,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function yZe(e,t){var n=e.__transition,r,a,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}a=r.state>GT&&r.state<WT,r.state=fw,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function xZe(e){return this.each(function(){yZe(this,e)})}function bZe(e,t){var n,r;return function(){var a=qo(this,e),s=a.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function wZe(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=qo(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function SZe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=so(this.node(),n).tween,a=0,s=r.length,o;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?bZe:wZe)(n,e,t))}function VO(e,t,n){var r=e._id;return e.each(function(){var a=qo(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return so(a,r).value[t]}}function Use(e,t){var n;return(typeof t=="number"?Li:t instanceof Yd?aS:(n=Yd(t))?(t=n,aS):mne)(e,t)}function CZe(e){return function(){this.removeAttribute(e)}}function jZe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NZe(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=t(r=o,n)}}function kZe(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=t(r=o,n)}}function AZe(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function PZe(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function EZe(e,t){var n=mN(e),r=n==="transform"?J5e:Use;return this.attrTween(e,typeof t=="function"?(n.local?PZe:AZe)(n,r,VO(this,"attr."+e,t)):t==null?(n.local?jZe:CZe)(n):(n.local?kZe:NZe)(n,r,t))}function TZe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _Ze(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function DZe(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&_Ze(e,s)),n}return a._value=t,a}function RZe(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&TZe(e,s)),n}return a._value=t,a}function MZe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=mN(e);return this.tween(n,(r.local?DZe:RZe)(r,t))}function IZe(e,t){return function(){BO(this,e).delay=+t.apply(this,arguments)}}function OZe(e,t){return t=+t,function(){BO(this,e).delay=t}}function LZe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?IZe:OZe)(t,e)):so(this.node(),t).delay}function $Ze(e,t){return function(){qo(this,e).duration=+t.apply(this,arguments)}}function FZe(e,t){return t=+t,function(){qo(this,e).duration=t}}function BZe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$Ze:FZe)(t,e)):so(this.node(),t).duration}function VZe(e,t){if(typeof t!="function")throw new Error;return function(){qo(this,e).ease=t}}function zZe(e){var t=this._id;return arguments.length?this.each(VZe(t,e)):so(this.node(),t).ease}function UZe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qo(this,e).ease=n}}function KZe(e){if(typeof e!="function")throw new Error;return this.each(UZe(this._id,e))}function GZe(e){typeof e!="function"&&(e=Tse(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Vl(r,this._parents,this._name,this._id)}function WZe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c=t[l],u=n[l],d=c.length,f=o[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<r;++l)o[l]=t[l];return new Vl(o,this._parents,this._name,this._id)}function qZe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function HZe(e,t,n){var r,a,s=qZe(t)?BO:qo;return function(){var o=s(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function YZe(e,t){var n=this._id;return arguments.length<2?so(this.node(),n).on.on(e):this.each(HZe(n,e,t))}function QZe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ZZe(){return this.on("end.remove",QZe(this._id))}function JZe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=LO(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var l=r[o],c=l.length,u=s[o]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,gN(u[h],t,n,h,u,so(d,n)));return new Vl(s,this._parents,t,n)}function XZe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ese(e));for(var r=this._groups,a=r.length,s=[],o=[],l=0;l<a;++l)for(var c=r[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,g=so(d,n),v=0,b=h.length;v<b;++v)(m=h[v])&&gN(m,t,n,v,h,g);s.push(h),o.push(d)}return new Vl(s,o,t,n)}var eJe=Fx.prototype.constructor;function tJe(){return new eJe(this._groups,this._parents)}function nJe(e,t){var n,r,a;return function(){var s=Mm(this,e),o=(this.style.removeProperty(e),Mm(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}function Kse(e){return function(){this.style.removeProperty(e)}}function rJe(e,t,n){var r,a=n+"",s;return function(){var o=Mm(this,e);return o===a?null:o===r?s:s=t(r=o,n)}}function aJe(e,t,n){var r,a,s;return function(){var o=Mm(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Mm(this,e))),o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l))}}function sJe(e,t){var n,r,a,s="style."+t,o="end."+s,l;return function(){var c=qo(this,e),u=c.on,d=c.value[s]==null?l||(l=Kse(t)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(o,a=d),c.on=r}}function iJe(e,t,n){var r=(e+="")=="transform"?Z5e:Use;return t==null?this.styleTween(e,nJe(e,r)).on("end.style."+e,Kse(e)):typeof t=="function"?this.styleTween(e,aJe(e,r,VO(this,"style."+e,t))).each(sJe(this._id,e)):this.styleTween(e,rJe(e,r,t),n).on("end.style."+e,null)}function oJe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function lJe(e,t,n){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&oJe(e,o,n)),r}return s._value=t,s}function cJe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,lJe(e,t,n??""))}function uJe(e){return function(){this.textContent=e}}function dJe(e){return function(){var t=e(this);this.textContent=t??""}}function fJe(e){return this.tween("text",typeof e=="function"?dJe(VO(this,"text",e)):uJe(e==null?"":e+""))}function hJe(e){return function(t){this.textContent=e.call(this,t)}}function mJe(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&hJe(a)),t}return r._value=e,r}function pJe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,mJe(e))}function gJe(){for(var e=this._name,t=this._id,n=Gse(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=so(c,t);gN(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Vl(r,this._parents,e,n)}function vJe(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--a===0&&s()}};n.each(function(){var u=qo(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var yJe=0;function Vl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Gse(){return++yJe}var nl=Fx.prototype;Vl.prototype={constructor:Vl,select:JZe,selectAll:XZe,selectChild:nl.selectChild,selectChildren:nl.selectChildren,filter:GZe,merge:WZe,selection:tJe,transition:gJe,call:nl.call,nodes:nl.nodes,node:nl.node,size:nl.size,empty:nl.empty,each:nl.each,on:YZe,attr:EZe,attrTween:MZe,style:iJe,styleTween:cJe,text:fJe,textTween:pJe,remove:ZZe,tween:SZe,delay:LZe,duration:BZe,ease:zZe,easeVarying:KZe,end:vJe,[Symbol.iterator]:nl[Symbol.iterator]};function xJe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var bJe={time:null,delay:0,duration:250,ease:xJe};function wJe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function SJe(e){var t,n;e instanceof Vl?(t=e._id,e=e._name):(t=Gse(),(n=bJe).time=FO(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&gN(c,e,t,u,o,n||wJe(c,t));return new Vl(r,this._parents,e,t)}Fx.prototype.interrupt=xZe;Fx.prototype.transition=SJe;function Fg(e,t,n){this.k=e,this.x=t,this.y=n}Fg.prototype={constructor:Fg,scale:function(e){return e===1?this:new Fg(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Fg(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Fg.prototype;const CJe=e=>{if(e.length===0)return null;const t=e.sort((f,h)=>f-h),n=ow(t,.25),r=ow(t,.5),a=ow(t,.75);if(!n||!r||!a)return null;const s=a-n,o=n-1.5*s,l=a+1.5*s,c=Math.max(o,Math.min(...t)),u=Math.min(l,Math.max(...t)),d=t.filter(f=>f<o||f>l);return{min:c,q1:n,median:r,q3:a,max:u,outliers:d}},jJe=({x:e,width:t,stats:n,yScale:r,color:a,team:s,onHover:o,onLeave:l})=>{const c=t*.8,u=e-c/2,d=h=>{o&&o(s,h)},f=()=>{l&&l()};return i.jsxs("g",{children:[i.jsx("rect",{x:u-10,y:r(n.max)-10,width:c+20,height:r(n.min)-r(n.max)+20,fill:"transparent",style:{cursor:"pointer"},onMouseEnter:d,onMouseLeave:f}),i.jsx("line",{x1:e,x2:e,y1:r(n.min),y2:r(n.q1),stroke:a,strokeWidth:1.5}),i.jsx("line",{x1:e,x2:e,y1:r(n.q3),y2:r(n.max),stroke:a,strokeWidth:1.5}),i.jsx("line",{x1:e-c/4,x2:e+c/4,y1:r(n.min),y2:r(n.min),stroke:a,strokeWidth:1.5}),i.jsx("line",{x1:e-c/4,x2:e+c/4,y1:r(n.max),y2:r(n.max),stroke:a,strokeWidth:1.5}),i.jsx("rect",{x:u,y:r(n.q3),width:c,height:r(n.q1)-r(n.q3),fill:a,fillOpacity:.8,stroke:a,strokeWidth:1.5,rx:2}),i.jsx("line",{x1:u,x2:u+c,y1:r(n.median),y2:r(n.median),stroke:"currentColor",strokeWidth:2.5}),n.outliers.map((h,m)=>i.jsx("circle",{cx:e,cy:r(h),r:2.5,fill:a,stroke:"white",strokeWidth:1,opacity:.9,style:{filter:"drop-shadow(0 0 1px rgba(0,0,0,0.5))"}},m))]})},NJe=({data:e,width:t,height:n,margin:r,metricLabel:a})=>{const[s,o]=p.useState(null),[l,c]=p.useState(null),u=t-r.left-r.right,d=n-r.top-r.bottom,f=(x,y)=>{o(x),c({x:y.clientX,y:y.clientY})},h=()=>{o(null),c(null)},m=p.useMemo(()=>{const x=y5e(e,w=>w.team),y=[];return x.forEach((w,S)=>{const C=w.map(N=>N.value),k=CJe(C);k&&y.push({team:S,stats:k,sampleSize:C.length})}),y.sort((w,S)=>S.stats.median-w.stats.median)},[e]),g=p.useMemo(()=>$j().domain(m.map(x=>x.team)).range([0,u]).padding(.2),[m,u]),v=p.useMemo(()=>{const x=e.map(w=>w.value),y=m5e(x);return SI().domain(y).range([d,0]).nice()},[e,d]),b=p.useMemo(()=>{const x=["var(--color-chart-1)","var(--color-chart-2)","var(--color-chart-3)","var(--color-chart-4)","var(--color-chart-5)","var(--color-chart-1)","var(--color-chart-2)","var(--color-chart-3)","var(--color-chart-4)","var(--color-chart-5)"];return Lj().domain(m.map(y=>y.team)).range(x)},[m]);return i.jsxs("div",{className:"relative w-full h-full",onMouseLeave:h,children:[i.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${t} ${n}`,preserveAspectRatio:"xMidYMid meet",className:"text-foreground",children:i.jsxs("g",{transform:`translate(${r.left}, ${r.top})`,children:[i.jsxs("g",{children:[v.ticks(5).map(x=>i.jsxs("g",{children:[i.jsx("line",{x1:0,x2:u,y1:v(x),y2:v(x),stroke:"currentColor",strokeDasharray:"3,3",className:"text-border"}),i.jsx("text",{x:-10,y:v(x),textAnchor:"end",dominantBaseline:"middle",fontSize:"12",fill:"currentColor",className:"text-muted-foreground",children:x})]},x)),i.jsx("line",{x1:0,x2:0,y1:0,y2:d,stroke:"currentColor",strokeWidth:1,className:"text-border"}),i.jsx("text",{x:-45,y:d/2,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fill:"currentColor",className:"text-foreground font-medium",transform:`rotate(-90, -45, ${d/2})`,children:a})]}),i.jsxs("g",{transform:`translate(0, ${d})`,children:[m.map(({team:x})=>{const y=(g(x)||0)+g.bandwidth()/2;return i.jsx("text",{x:y,y:20,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fill:"currentColor",className:"text-foreground",children:x},x)}),i.jsx("line",{x1:0,x2:u,y1:0,y2:0,stroke:"currentColor",strokeWidth:1,className:"text-border"}),i.jsx("text",{x:u/2,y:45,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fill:"currentColor",className:"text-foreground font-medium",children:"Team Number"})]}),m.map(({team:x,stats:y})=>{const w=(g(x)||0)+g.bandwidth()/2;return i.jsx(jJe,{x:w,width:g.bandwidth(),stats:y,yScale:v,color:b(x),team:x,onHover:f,onLeave:h},x)})]})}),s&&l&&i.jsx("div",{className:"absolute z-50 bg-background/95 backdrop-blur-sm border border-border rounded-lg shadow-xl p-3 min-w-[200px] pointer-events-none transition-all duration-200",style:{left:Math.min(((l==null?void 0:l.x)||0)+10,t-210),top:Math.max(((l==null?void 0:l.y)||0)-10,10)},children:(()=>{const x=m.find(S=>S.team===s);if(!x)return null;const{stats:y,sampleSize:w}=x;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"font-bold text-foreground border-b border-border pb-2 mb-2 flex justify-between items-center",children:[i.jsxs("span",{children:["Team ",s]}),i.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:[w," matches"]})]}),i.jsx("div",{className:"text-xs text-muted-foreground mb-3 uppercase tracking-wider font-semibold",children:a}),i.jsxs("div",{className:"space-y-1.5 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Maximum:"}),i.jsx("span",{className:"font-mono font-medium",children:y.max.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"75th Perc:"}),i.jsx("span",{className:"font-mono font-medium",children:y.q3.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center bg-primary/10 px-1 rounded",children:[i.jsx("span",{className:"text-primary font-semibold",children:"Median:"}),i.jsx("span",{className:"font-mono font-bold text-primary",children:y.median.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"25th Perc:"}),i.jsx("span",{className:"font-mono font-medium",children:y.q1.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Minimum:"}),i.jsx("span",{className:"font-mono font-medium",children:y.min.toFixed(1)})]}),y.outliers.length>0&&i.jsxs("div",{className:"flex justify-between items-center border-t border-border pt-2 mt-1",children:[i.jsx("span",{className:"text-orange-500 font-medium italic",children:"Outliers:"}),i.jsx("span",{className:"font-mono font-medium bg-orange-500/10 text-orange-600 px-1.5 rounded-full text-xs",children:y.outliers.length})]})]})]})})()})]})};function kJe(){const e=p.useRef(null),[t,n]=p.useState({width:0,height:0}),r=p.useCallback(()=>{if(e.current){const{width:a,height:s}=e.current.getBoundingClientRect();n({width:a,height:s})}},[]);return p.useEffect(()=>{r();const a=new ResizeObserver(()=>{r()});return e.current&&a.observe(e.current),()=>{a.disconnect()}},[r]),{containerRef:e,...t}}const AJe=({chartData:e,chartType:t,onChartTypeChange:n,chartMetric:r,onChartMetricChange:a,scatterXMetric:s,onScatterXMetricChange:o,scatterYMetric:l,onScatterYMetricChange:c,columnConfig:u,chartConfig:d})=>{var x,y,w,S,C,k;const{containerRef:f,width:h,height:m}=kJe(),g=N=>{n(N)},v=()=>{switch(t){case"scatter":return"Compare two metrics across all teams";case"box":return"Performance distribution and consistency analysis (shows min, Q1, median, Q3, max, and outliers)";case"stacked":return"Points breakdown by game phase (Auto/Teleop/Endgame)";default:return"Top performing teams by selected metric"}},b=N=>{switch(N){case"bar":return"Bar Chart";case"scatter":return"Scatter Plot";case"box":return"Box Plot";case"stacked":return"Stacked Bar";default:return N}};return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex flex-col w-full justify-between md:flex-row items-start md:items-center gap-4",children:[i.jsxs("div",{className:"flex flex-col w-full",children:[i.jsxs(Ge,{className:"flex items-start gap-2 pb-2",children:[i.jsx(yG,{className:"h-5 w-5"}),"Team Performance Chart"]}),i.jsx(Fn,{className:"px-4",children:v()})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-end gap-2 w-full",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"whitespace-nowrap",children:"Chart:"}),i.jsx(br,{label:"Select Chart Type",value:t,availableOptions:["bar","scatter","box","stacked"],onValueChange:g,placeholder:"Chart type",displayFormat:b,className:"w-auto max-w-32"})]}),t==="scatter"?i.jsxs("div",{className:"flex gap-2 md:flex-none items-center",children:[i.jsx("p",{className:"whitespace-nowrap",children:"X-Axis:"}),i.jsx(br,{label:"Select X-Axis Metric",value:s,availableOptions:u.filter(N=>N.numeric&&N.key!=="eventKey").map(N=>N.key),onValueChange:o,placeholder:"X-Axis",displayFormat:N=>{var P;return((P=u.find(E=>E.key===N))==null?void 0:P.label)||N},className:"w-auto max-w-40"}),i.jsx("p",{className:"whitespace-nowrap",children:"Y-Axis:"}),i.jsx(br,{label:"Select Y-Axis Metric",value:l,availableOptions:u.filter(N=>N.numeric&&N.key!=="eventKey").map(N=>N.key),onValueChange:c,placeholder:"Y-Axis",displayFormat:N=>{var P;return((P=u.find(E=>E.key===N))==null?void 0:P.label)||N},className:"w-auto max-w-40"})]}):t==="stacked"?i.jsx("div",{className:"flex gap-2 md:flex-none items-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Points breakdown by game phase"})}):i.jsxs("div",{className:"flex gap-2 md:flex-none items-center",children:[i.jsx("p",{className:"whitespace-nowrap",children:"Metric:"}),i.jsx("div",{className:"w-full",children:i.jsx(br,{label:"Select Metric",value:r,availableOptions:u.filter(N=>N.numeric&&!["teamNumber","eventKey","matchCount"].includes(N.key)).map(N=>N.key),onValueChange:a,placeholder:"Select metric",displayFormat:N=>{var P;return((P=u.find(E=>E.key===N))==null?void 0:P.label)||N},className:"w-full md:w-48"})})]})]})]})}),i.jsx($e,{children:i.jsx("div",{className:"h-[350px] w-full",children:i.jsx(NS,{config:d,className:"h-full w-full aspect-auto!",children:i.jsx("div",{ref:f,className:"h-full w-full",children:h>0&&m>0?t==="scatter"?i.jsxs(uYe,{data:e,width:h,height:m,children:[i.jsx(yd,{strokeDasharray:"3 3"}),i.jsx(xd,{type:"number",dataKey:"x",name:((x=d.x)==null?void 0:x.label)||"X",tickLine:!1,axisLine:!1,className:"text-xs",label:{value:((y=d.x)==null?void 0:y.label)||"X",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(bd,{type:"number",dataKey:"y",name:((w=d.y)==null?void 0:w.label)||"Y",tickLine:!1,axisLine:!1,className:"text-xs",label:{value:((S=d.y)==null?void 0:S.label)||"Y",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(fv,{content:({active:N,payload:P})=>{var R,O;if(!N||!P||!P.length)return null;const E=P[0].payload;return i.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3 min-w-[200px]",children:[i.jsxs("div",{className:"font-medium text-foreground mb-2",children:["Team ",E.team]}),i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:E.eventKey}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[((R=d.x)==null?void 0:R.label)||"X",":"]}),i.jsx("span",{className:"font-medium",children:typeof E.x=="number"?E.x.toFixed(1):E.x})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[((O=d.y)==null?void 0:O.label)||"Y",":"]}),i.jsx("span",{className:"font-medium",children:typeof E.y=="number"?E.y.toFixed(1):E.y})]})]})]})},cursor:{strokeDasharray:"3 3"}}),i.jsx(mse,{dataKey:"y",fill:"var(--color-y)",children:e.map((N,P)=>i.jsx(Rm,{fill:`hsl(${P*137.5%360}, 70%, 50%)`},`cell-${P}`))})]}):t==="stacked"?i.jsxs(zT,{data:e,width:h,height:m,children:[i.jsx(yd,{strokeDasharray:"3 3"}),i.jsx(xd,{dataKey:"team",tickLine:!1,axisLine:!1,className:"text-xs",label:{value:"Team",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(bd,{tickLine:!1,axisLine:!1,className:"text-xs",label:{value:"Points",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(fv,{content:({active:N,payload:P,label:E})=>{var K,J,Q;if(!N||!P||!P.length)return null;const R=P[0].payload,O=(R.autoPoints||0)+(R.teleopPoints||0)+(R.endgamePoints||0);return i.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3 min-w-[200px]",children:[i.jsxs("div",{className:"font-medium text-foreground mb-2",children:["Team ",E]}),i.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:R.eventKey}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto Points:"}),i.jsx("span",{className:"font-medium",style:{color:"var(--color-chart-1)"},children:((K=R.autoPoints)==null?void 0:K.toFixed(1))||0})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Teleop Points:"}),i.jsx("span",{className:"font-medium",style:{color:"var(--color-chart-2)"},children:((J=R.teleopPoints)==null?void 0:J.toFixed(1))||0})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Endgame Points:"}),i.jsx("span",{className:"font-medium",style:{color:"var(--color-chart-3)"},children:((Q=R.endgamePoints)==null?void 0:Q.toFixed(1))||0})]}),i.jsx("div",{className:"border-t pt-1 mt-2",children:i.jsxs("div",{className:"flex justify-between items-center font-medium",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:O.toFixed(1)})]})})]})]})},cursor:{fill:"rgba(0, 0, 0, 0.1)"}}),i.jsx(Th,{dataKey:"autoPoints",stackId:"points",fill:"var(--color-chart-1)",radius:[0,0,0,0]}),i.jsx(Th,{dataKey:"teleopPoints",stackId:"points",fill:"var(--color-chart-2)",radius:[0,0,0,0]}),i.jsx(Th,{dataKey:"endgamePoints",stackId:"points",fill:"var(--color-chart-3)",radius:[4,4,0,0]})]}):t==="box"?i.jsx(NJe,{data:e,margin:{top:20,right:40,bottom:60,left:60},metricLabel:((C=d.value)==null?void 0:C.label)||"Value",width:h,height:m}):i.jsxs(zT,{data:e,width:h,height:m,children:[i.jsx(yd,{strokeDasharray:"3 3"}),i.jsx(xd,{dataKey:"team",tickLine:!1,axisLine:!1,className:"text-xs",label:{value:"Team",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(bd,{tickLine:!1,axisLine:!1,className:"text-xs",label:{value:((k=d.value)==null?void 0:k.label)||"Value",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"12px",fill:"currentColor"}}}),i.jsx(fv,{content:({active:N,payload:P})=>{var R;if(!N||!P||!P.length)return null;const E=P[0].payload;return i.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3 min-w-[180px]",children:[i.jsxs("div",{className:"font-medium text-foreground mb-2",children:["Team ",E.team]}),i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:E.eventName}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[((R=d.value)==null?void 0:R.label)||"Value",":"]}),i.jsx("span",{className:"font-medium",children:typeof E.value=="number"?E.value.toFixed(1):E.value})]})]})},cursor:{fill:"rgba(0, 0, 0, 0.1)"}}),i.jsx(Th,{dataKey:"value",fill:"var(--color-value)",radius:[4,4,0,0],children:e.map((N,P)=>i.jsx(Rm,{fill:`hsl(${210+P*15}, 70%, 50%)`},`cell-${P}`))})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart..."})})})})})]})};function Wse({className:e,...t}){return i.jsx("table",{"data-slot":"table",className:Re("w-full caption-bottom text-sm",e),...t})}function qse({className:e,...t}){return i.jsx("thead",{"data-slot":"table-header",className:Re("sticky top-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-10 [&_tr]:border-b",e),...t})}function Hse({className:e,...t}){return i.jsx("tbody",{"data-slot":"table-body",className:Re("[&_tr:last-child]:border-0",e),...t})}function _h({className:e,...t}){return i.jsx("tr",{"data-slot":"table-row",className:Re("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ho({className:e,...t}){return i.jsx("th",{"data-slot":"table-head",className:Re("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ri({className:e,...t}){return i.jsx("td",{"data-slot":"table-cell",className:Re("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ac(e,t){return typeof e=="function"?e(t):e}function Ks(e,t){return n=>{t.setState(r=>({...r,[e]:Ac(n,r[e])}))}}function vN(e){return e instanceof Function}function PJe(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function EJe(e,t){const n=[],r=a=>{a.forEach(s=>{n.push(s);const o=t(s);o!=null&&o.length&&r(o)})};return r(e),n}function Dt(e,t,n){let r=[],a;return s=>{let o;n.key&&n.debug&&(o=Date.now());const l=e(s);if(!(l.length!==r.length||l.some((d,f)=>r[f]!==d)))return a;r=l;let u;if(n.key&&n.debug&&(u=Date.now()),a=t(...l),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-u)*100)/100,h=f/16,m=(g,v)=>{for(g=String(g);g.length<v;)g=" "+g;return g};console.info(`%c ${m(f,5)} /${m(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return a}}function Rt(e,t,n,r){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[t]},key:!1,onChange:r}}function TJe(e,t,n,r){const a=()=>{var o;return(o=s.getValue())!=null?o:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:a,getContext:Dt(()=>[e,n,t,s],(o,l,c,u)=>({table:o,column:l,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),Rt(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(s,n,t,e)},{}),s}function _Je(e,t,n,r){var a,s;const l={...e._getDefaultColumnDef(),...t},c=l.accessorKey;let u=(a=(s=l.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?a:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:c&&(c.includes(".")?d=h=>{let m=h;for(const v of c.split(".")){var g;m=(g=m)==null?void 0:g[v]}return m}:d=h=>h[l.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Dt(()=>[!0],()=>{var h;return[f,...(h=f.columns)==null?void 0:h.flatMap(m=>m.getFlatColumns())]},Rt(e.options,"debugColumns")),getLeafColumns:Dt(()=>[e._getOrderColumnsFn()],h=>{var m;if((m=f.columns)!=null&&m.length){let g=f.columns.flatMap(v=>v.getLeafColumns());return h(g)}return[f]},Rt(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(f,e);return f}const Pa="debugHeaders";function rz(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(s),o},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(s,e)}),s}const DJe={createTable:e=>{e.getHeaderGroups=Dt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>{var s,o;const l=(s=r==null?void 0:r.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?s:[],c=(o=a==null?void 0:a.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?o:[],u=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(a!=null&&a.includes(f.id)));return xb(t,[...l,...u,...c],e)},Rt(e.options,Pa)),e.getCenterHeaderGroups=Dt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(a!=null&&a.includes(s.id))),xb(t,n,e,"center")),Rt(e.options,Pa)),e.getLeftHeaderGroups=Dt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var a;const s=(a=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?a:[];return xb(t,s,e,"left")},Rt(e.options,Pa)),e.getRightHeaderGroups=Dt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var a;const s=(a=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?a:[];return xb(t,s,e,"right")},Rt(e.options,Pa)),e.getFooterGroups=Dt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Pa)),e.getLeftFooterGroups=Dt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Pa)),e.getCenterFooterGroups=Dt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Pa)),e.getRightFooterGroups=Dt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Pa)),e.getFlatHeaders=Dt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Pa)),e.getLeftFlatHeaders=Dt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Pa)),e.getCenterFlatHeaders=Dt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Pa)),e.getRightFlatHeaders=Dt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Pa)),e.getCenterLeafHeaders=Dt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Pa)),e.getLeftLeafHeaders=Dt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Pa)),e.getRightLeafHeaders=Dt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Pa)),e.getLeafHeaders=Dt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var a,s,o,l,c,u;return[...(a=(s=t[0])==null?void 0:s.headers)!=null?a:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},Rt(e.options,Pa))}};function xb(e,t,n,r){var a,s;let o=0;const l=function(h,m){m===void 0&&(m=1),o=Math.max(o,m),h.filter(g=>g.getIsVisible()).forEach(g=>{var v;(v=g.columns)!=null&&v.length&&l(g.columns,m+1)},0)};l(e);let c=[];const u=(h,m)=>{const g={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},v=[];h.forEach(b=>{const x=[...v].reverse()[0],y=b.column.depth===g.depth;let w,S=!1;if(y&&b.column.parent?w=b.column.parent:(w=b.column,S=!0),x&&(x==null?void 0:x.column)===w)x.subHeaders.push(b);else{const C=rz(n,w,{id:[r,m,w.id,b==null?void 0:b.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${v.filter(k=>k.column===w).length}`:void 0,depth:m,index:v.length});C.subHeaders.push(b),v.push(C)}g.headers.push(b),b.headerGroup=g}),c.push(g),m>0&&u(v,m-1)},d=t.map((h,m)=>rz(n,h,{depth:o,index:m}));u(d,o-1),c.reverse();const f=h=>h.filter(g=>g.column.getIsVisible()).map(g=>{let v=0,b=0,x=[0];g.subHeaders&&g.subHeaders.length?(x=[],f(g.subHeaders).forEach(w=>{let{colSpan:S,rowSpan:C}=w;v+=S,x.push(C)})):v=1;const y=Math.min(...x);return b=b+y,g.colSpan=v,g.rowSpan=b,{colSpan:v,rowSpan:b}});return f((a=(s=c[0])==null?void 0:s.headers)!=null?a:[]),c}const zO=(e,t,n,r,a,s,o)=>{let l={id:t,index:r,original:n,depth:a,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return l._valuesCache[c]=u.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=u.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=l.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>EJe(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:Dt(()=>[e.getAllLeafColumns()],c=>c.map(u=>TJe(e,l,u,u.id)),Rt(e.options,"debugRows")),_getAllCellsByColumnId:Dt(()=>[l.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),Rt(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(l,e)}return l},RJe={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Yse=(e,t,n)=>{var r,a;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((a=e.getValue(t))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(s))};Yse.autoRemove=e=>Gi(e);const Qse=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Qse.autoRemove=e=>Gi(e);const Zse=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Zse.autoRemove=e=>Gi(e);const Jse=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Jse.autoRemove=e=>Gi(e);const Xse=(e,t,n)=>!n.some(r=>{var a;return!((a=e.getValue(t))!=null&&a.includes(r))});Xse.autoRemove=e=>Gi(e)||!(e!=null&&e.length);const eie=(e,t,n)=>n.some(r=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(r)});eie.autoRemove=e=>Gi(e)||!(e!=null&&e.length);const tie=(e,t,n)=>e.getValue(t)===n;tie.autoRemove=e=>Gi(e);const nie=(e,t,n)=>e.getValue(t)==n;nie.autoRemove=e=>Gi(e);const UO=(e,t,n)=>{let[r,a]=n;const s=e.getValue(t);return s>=r&&s<=a};UO.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,a=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(a)?1/0:a;if(s>o){const l=s;s=o,o=l}return[s,o]};UO.autoRemove=e=>Gi(e)||Gi(e[0])&&Gi(e[1]);const al={includesString:Yse,includesStringSensitive:Qse,equalsString:Zse,arrIncludes:Jse,arrIncludesAll:Xse,arrIncludesSome:eie,equals:tie,weakEquals:nie,inNumberRange:UO};function Gi(e){return e==null||e===""}const MJe={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ks("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?al.includesString:typeof r=="number"?al.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?al.equals:Array.isArray(r)?al.arrIncludes:al.weakEquals},e.getFilterFn=()=>{var n,r;return vN(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:al[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const a=e.getFilterFn(),s=r==null?void 0:r.find(d=>d.id===e.id),o=Ac(n,s?s.value:void 0);if(az(a,o,e)){var l;return(l=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?l:[]}const c={id:e.id,value:o};if(s){var u;return(u=r==null?void 0:r.map(d=>d.id===e.id?c:d))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=a=>{var s;return(s=Ac(t,a))==null?void 0:s.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(az(c,o.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function az(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const IJe=(e,t,n)=>n.reduce((r,a)=>{const s=a.getValue(e);return r+(typeof s=="number"?s:0)},0),OJe=(e,t,n)=>{let r;return n.forEach(a=>{const s=a.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},LJe=(e,t,n)=>{let r;return n.forEach(a=>{const s=a.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},$Je=(e,t,n)=>{let r,a;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r===void 0?o>=o&&(r=a=o):(r>o&&(r=o),a<o&&(a=o)))}),[r,a]},FJe=(e,t)=>{let n=0,r=0;if(t.forEach(a=>{let s=a.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},BJe=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!PJe(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),a=n.sort((s,o)=>s-o);return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},VJe=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),zJe=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,UJe=(e,t)=>t.length,GA={sum:IJe,min:OJe,max:LJe,extent:$Je,mean:FJe,median:BJe,unique:VJe,uniqueCount:zJe,count:UJe},KJe={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ks("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return GA.sum;if(Object.prototype.toString.call(r)==="[object Date]")return GA.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return vN(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:GA[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}}};function GJe(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(o=>o.id===s)).filter(Boolean),...r]}const WJe={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ks("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Dt(n=>[hv(t,n)],n=>n.findIndex(r=>r.id===e.id),Rt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=hv(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const a=hv(t,n);return((r=a[a.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Dt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>a=>{let s=[];if(!(t!=null&&t.length))s=a;else{const o=[...t],l=[...a];for(;l.length&&o.length;){const c=o.shift(),u=l.findIndex(d=>d.id===c);u>-1&&s.push(l.splice(u,1)[0])}s=[...s,...l]}return GJe(s,n,r)},Rt(e.options,"debugTable"))}},WA=()=>({left:[],right:[]}),qJe={getInitialState:e=>({columnPinning:WA(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ks("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var s,o;if(n==="right"){var l,c;return{left:((l=a==null?void 0:a.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((c=a==null?void 0:a.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var u,d;return{left:[...((u=a==null?void 0:a.left)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((d=a==null?void 0:a.right)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((s=a==null?void 0:a.left)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=a==null?void 0:a.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var a,s,o;return((a=r.columnDef.enablePinning)!=null?a:!0)&&((s=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:r,right:a}=t.getState().columnPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>a==null?void 0:a.includes(l));return s?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?(n=(r=t.getState().columnPinning)==null||(r=r[a])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Dt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,a)=>{const s=[...r??[],...a??[]];return n.filter(o=>!s.includes(o.column.id))},Rt(t.options,"debugRows")),e.getLeftVisibleCells=Dt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Rt(t.options,"debugRows")),e.getRightVisibleCells=Dt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Rt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?WA():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:WA())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var a,s;return!!((a=r.left)!=null&&a.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Dt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getRightLeafColumns=Dt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getCenterLeafColumns=Dt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const a=[...n??[],...r??[]];return t.filter(s=>!a.includes(s.id))},Rt(e.options,"debugColumns"))}};function HJe(e){return e||(typeof document<"u"?document:null)}const bb={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},qA=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),YJe={getDefaultColumnDef:()=>bb,getInitialState:e=>({columnSizing:{},columnSizingInfo:qA(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ks("columnSizing",e),onColumnSizingInfoChange:Ks("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:bb.minSize,(r=s??e.columnDef.size)!=null?r:bb.size),(a=e.columnDef.maxSize)!=null?a:bb.maxSize)},e.getStart=Dt(n=>[n,hv(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((a,s)=>a+s.getSize(),0),Rt(t.options,"debugColumns")),e.getAfter=Dt(n=>[n,hv(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((a,s)=>a+s.getSize(),0),Rt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...a}=n;return a})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=a=>{if(a.subHeaders.length)a.subHeaders.forEach(r);else{var s;n+=(s=a.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),a=r==null?void 0:r.getCanResize();return s=>{if(!r||!a||(s.persist==null||s.persist(),HA(s)&&s.touches&&s.touches.length>1))return;const o=e.getSize(),l=e?e.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[r.id,r.getSize()]],c=HA(s)?Math.round(s.touches[0].clientX):s.clientX,u={},d=(x,y)=>{typeof y=="number"&&(t.setColumnSizingInfo(w=>{var S,C;const k=t.options.columnResizeDirection==="rtl"?-1:1,N=(y-((S=w==null?void 0:w.startOffset)!=null?S:0))*k,P=Math.max(N/((C=w==null?void 0:w.startSize)!=null?C:0),-.999999);return w.columnSizingStart.forEach(E=>{let[R,O]=E;u[R]=Math.round(Math.max(O+O*P,0)*100)/100}),{...w,deltaOffset:N,deltaPercentage:P}}),(t.options.columnResizeMode==="onChange"||x==="end")&&t.setColumnSizing(w=>({...w,...u})))},f=x=>d("move",x),h=x=>{d("end",x),t.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=HJe(n),g={moveHandler:x=>f(x.clientX),upHandler:x=>{m==null||m.removeEventListener("mousemove",g.moveHandler),m==null||m.removeEventListener("mouseup",g.upHandler),h(x.clientX)}},v={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),f(x.touches[0].clientX),!1),upHandler:x=>{var y;m==null||m.removeEventListener("touchmove",v.moveHandler),m==null||m.removeEventListener("touchend",v.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),h((y=x.touches[0])==null?void 0:y.clientX)}},b=QJe()?{passive:!1}:!1;HA(s)?(m==null||m.addEventListener("touchmove",v.moveHandler,b),m==null||m.addEventListener("touchend",v.upHandler,b)):(m==null||m.addEventListener("mousemove",g.moveHandler,b),m==null||m.addEventListener("mouseup",g.upHandler,b)),t.setColumnSizingInfo(x=>({...x,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?qA():(n=e.initialState.columnSizingInfo)!=null?n:qA())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0}}};let wb=null;function QJe(){if(typeof wb=="boolean")return wb;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return wb=e,wb}function HA(e){return e.type==="touchstart"}const ZJe={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ks("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const a=e.columns;return(n=a.length?a.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Dt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Rt(t.options,"debugRows")),e.getVisibleCells=Dt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,a)=>[...n,...r,...a],Rt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Dt(()=>[r(),r().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Rt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,s)=>({...a,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function hv(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const JJe={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},XJe={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ks("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,a,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>al.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return vN(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:al[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},eXe={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ks("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var a,s;e.setExpanded(r?{}:(a=(s=e.initialState)==null?void 0:s.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var a;const s=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(a=n)!=null?a:!s,!s&&n)return{...o,[e.id]:!0};if(s&&!n){const{[e.id]:l,...c}=o;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,a;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},qT=0,HT=10,YA=()=>({pageIndex:qT,pageSize:HT}),tXe={getInitialState:e=>({...e,pagination:{...YA(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ks("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const a=s=>Ac(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=r=>{var a;e.setPagination(r?YA():(a=e.initialState.pagination)!=null?a:YA())},e.setPageIndex=r=>{e.setPagination(a=>{let s=Ac(r,a.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...a,pageIndex:s}})},e.resetPageIndex=r=>{var a,s;e.setPageIndex(r?qT:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?a:qT)},e.resetPageSize=r=>{var a,s;e.setPageSize(r?HT:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?a:HT)},e.setPageSize=r=>{e.setPagination(a=>{const s=Math.max(1,Ac(r,a.pageSize)),o=a.pageSize*a.pageIndex,l=Math.floor(o/s);return{...a,pageIndex:l,pageSize:s}})},e.setPageCount=r=>e.setPagination(a=>{var s;let o=Ac(r,(s=e.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...a,pageCount:o}}),e.getPageOptions=Dt(()=>[e.getPageCount()],r=>{let a=[];return r&&r>0&&(a=[...new Array(r)].fill(null).map((s,o)=>o)),a},Rt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:r<a-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},QA=()=>({top:[],bottom:[]}),nXe={getInitialState:e=>({rowPinning:QA(),...e}),getDefaultOptions:e=>({onRowPinningChange:Ks("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,a)=>{const s=r?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=a?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],l=new Set([...o,e.id,...s]);t.setRowPinning(c=>{var u,d;if(n==="bottom"){var f,h;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(v=>!(l!=null&&l.has(v))),bottom:[...((h=c==null?void 0:c.bottom)!=null?h:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)]}}if(n==="top"){var m,g;return{top:[...((m=c==null?void 0:c.top)!=null?m:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)],bottom:((g=c==null?void 0:c.bottom)!=null?g:[]).filter(v=>!(l!=null&&l.has(v)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(v=>!(l!=null&&l.has(v))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(v=>!(l!=null&&l.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return typeof r=="function"?r(e):(n=r??a)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>a==null?void 0:a.includes(l));return s?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const s=(n=a==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?QA():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:QA())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var a,s;return!!((a=r.top)!=null&&a.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(n??[]).map(o=>{const l=e.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>t.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=Dt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Rt(e.options,"debugRows")),e.getBottomRows=Dt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Rt(e.options,"debugRows")),e.getCenterRows=Dt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const a=new Set([...n??[],...r??[]]);return t.filter(s=>!a.has(s.id))},Rt(e.options,"debugRows"))}},rXe={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ks("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):a.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach(s=>{YT(a,s.id,r,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Dt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?ZA(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Dt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?ZA(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Dt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?ZA(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(a=>a.getCanSelect()&&!n[a.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(a=>!n[a.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!a,e.getCanSelect()&&a===n)return s;const l={...s};return YT(l,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return KO(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return QT(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return QT(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var a;n&&e.toggleSelected((a=r.target)==null?void 0:a.checked)}}}},YT=(e,t,n,r,a)=>{var s;const o=a.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>YT(e,l.id,n,r,a))};function ZA(e,t){const n=e.getState().rowSelection,r=[],a={},s=function(o,l){return o.map(c=>{var u;const d=KO(c,n);if(d&&(r.push(c),a[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:s(c.subRows)}),d)return c}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:a}}function KO(e,t){var n;return(n=t[e.id])!=null?n:!1}function QT(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let a=!0,s=!1;return e.subRows.forEach(o=>{if(!(s&&!a)&&(o.getCanSelect()&&(KO(o,t)?s=!0:a=!1),o.subRows&&o.subRows.length)){const l=QT(o,t);l==="all"?s=!0:(l==="some"&&(s=!0),a=!1)}}),a?"all":s?"some":!1}const ZT=/([0-9]+)/gm,aXe=(e,t,n)=>rie(ru(e.getValue(n)).toLowerCase(),ru(t.getValue(n)).toLowerCase()),sXe=(e,t,n)=>rie(ru(e.getValue(n)),ru(t.getValue(n))),iXe=(e,t,n)=>GO(ru(e.getValue(n)).toLowerCase(),ru(t.getValue(n)).toLowerCase()),oXe=(e,t,n)=>GO(ru(e.getValue(n)),ru(t.getValue(n))),lXe=(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},cXe=(e,t,n)=>GO(e.getValue(n),t.getValue(n));function GO(e,t){return e===t?0:e>t?1:-1}function ru(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function rie(e,t){const n=e.split(ZT).filter(Boolean),r=t.split(ZT).filter(Boolean);for(;n.length&&r.length;){const a=n.shift(),s=r.shift(),o=parseInt(a,10),l=parseInt(s,10),c=[o,l].sort();if(isNaN(c[0])){if(a>s)return 1;if(s>a)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const pg={alphanumeric:aXe,alphanumericCaseSensitive:sXe,text:iXe,textCaseSensitive:oXe,datetime:lXe,basic:cXe},uXe={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ks("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const a of n){const s=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return pg.datetime;if(typeof s=="string"&&(r=!0,s.split(ZT).length>1))return pg.alphanumeric}return r?pg.text:pg.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return vN(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:pg[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(o=>{const l=o==null?void 0:o.find(m=>m.id===e.id),c=o==null?void 0:o.findIndex(m=>m.id===e.id);let u=[],d,f=s?n:a==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?l?d="toggle":d="add":o!=null&&o.length&&c!==o.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(s||a||(d="remove")),d==="add"){var h;u=[...o,{id:e.id,desc:f}],u.splice(0,u.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=o.map(m=>m.id===e.id?{...m,desc:f}:m):d==="remove"?u=o.filter(m=>m.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const s=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(a=t.options.enableMultiRemove)!=null)||a)?!1:o==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(a=>a.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},dXe=[DJe,ZJe,WJe,qJe,RJe,MJe,JJe,XJe,uXe,KJe,eXe,tXe,nXe,rXe,YJe];function fXe(e){var t,n;const r=[...dXe,...(t=e._features)!=null?t:[]];let a={_features:r};const s=a._features.reduce((h,m)=>Object.assign(h,m.getDefaultOptions==null?void 0:m.getDefaultOptions(a)),{}),o=h=>a.options.mergeOptions?a.options.mergeOptions(s,h):{...s,...h};let c={...{},...(n=e.initialState)!=null?n:{}};a._features.forEach(h=>{var m;c=(m=h.getInitialState==null?void 0:h.getInitialState(c))!=null?m:c});const u=[];let d=!1;const f={_features:r,options:{...s,...e},initialState:c,_queue:h=>{u.push(h),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{a.setState(a.initialState)},setOptions:h=>{const m=Ac(h,a.options);a.options=o(m)},getState:()=>a.options.state,setState:h=>{a.options.onStateChange==null||a.options.onStateChange(h)},_getRowId:(h,m,g)=>{var v;return(v=a.options.getRowId==null?void 0:a.options.getRowId(h,m,g))!=null?v:`${g?[g.id,m].join("."):m}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(h,m)=>{let g=(m?a.getPrePaginationRowModel():a.getRowModel()).rowsById[h];if(!g&&(g=a.getCoreRowModel().rowsById[h],!g))throw new Error;return g},_getDefaultColumnDef:Dt(()=>[a.options.defaultColumn],h=>{var m;return h=(m=h)!=null?m:{},{header:g=>{const v=g.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:g=>{var v,b;return(v=(b=g.renderValue())==null||b.toString==null?void 0:b.toString())!=null?v:null},...a._features.reduce((g,v)=>Object.assign(g,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...h}},Rt(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:Dt(()=>[a._getColumnDefs()],h=>{const m=function(g,v,b){return b===void 0&&(b=0),g.map(x=>{const y=_Je(a,x,b,v),w=x;return y.columns=w.columns?m(w.columns,y,b+1):[],y})};return m(h)},Rt(e,"debugColumns")),getAllFlatColumns:Dt(()=>[a.getAllColumns()],h=>h.flatMap(m=>m.getFlatColumns()),Rt(e,"debugColumns")),_getAllFlatColumnsById:Dt(()=>[a.getAllFlatColumns()],h=>h.reduce((m,g)=>(m[g.id]=g,m),{}),Rt(e,"debugColumns")),getAllLeafColumns:Dt(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(h,m)=>{let g=h.flatMap(v=>v.getLeafColumns());return m(g)},Rt(e,"debugColumns")),getColumn:h=>a._getAllFlatColumnsById()[h]};Object.assign(a,f);for(let h=0;h<a._features.length;h++){const m=a._features[h];m==null||m.createTable==null||m.createTable(a)}return a}function hXe(){return e=>Dt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(a,s,o){s===void 0&&(s=0);const l=[];for(let u=0;u<a.length;u++){const d=zO(e,e._getRowId(a[u],u,o),a[u],u,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),e.options.getSubRows){var c;d.originalSubRows=e.options.getSubRows(a[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=r(d.originalSubRows,s+1,d))}}return l};return n.rows=r(t),n},Rt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function mXe(e,t,n){return n.options.filterFromLeafRows?pXe(e,t,n):gXe(e,t,n)}function pXe(e,t,n){var r;const a=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let h=0;h<c.length;h++){var f;let m=c[h];const g=zO(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(g.columnFilters=m.columnFilters,(f=m.subRows)!=null&&f.length&&u<o){if(g.subRows=l(m.subRows,u+1),m=g,t(m)&&!g.subRows.length){d.push(m),s[m.id]=m,a.push(m);continue}if(t(m)||g.subRows.length){d.push(m),s[m.id]=m,a.push(m);continue}}else m=g,t(m)&&(d.push(m),s[m.id]=m,a.push(m))}return d};return{rows:l(e),flatRows:a,rowsById:s}}function gXe(e,t,n){var r;const a=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let h=0;h<c.length;h++){let m=c[h];if(t(m)){var f;if((f=m.subRows)!=null&&f.length&&u<o){const v=zO(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);v.subRows=l(m.subRows,u+1),m=v}d.push(m),a.push(m),s[m.id]=m}}return d};return{rows:l(e),flatRows:a,rowsById:s}}function vXe(){return e=>Dt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const a=[],s=[];(n??[]).forEach(h=>{var m;const g=e.getColumn(h.id);if(!g)return;const v=g.getFilterFn();v&&a.push({id:h.id,filterFn:v,resolvedValue:(m=v.resolveFilterValue==null?void 0:v.resolveFilterValue(h.value))!=null?m:h.value})});const o=(n??[]).map(h=>h.id),l=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(h=>{var m;s.push({id:h.id,filterFn:l,resolvedValue:(m=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?m:r})}));let u,d;for(let h=0;h<t.flatRows.length;h++){const m=t.flatRows[h];if(m.columnFilters={},a.length)for(let g=0;g<a.length;g++){u=a[g];const v=u.id;m.columnFilters[v]=u.filterFn(m,v,u.resolvedValue,b=>{m.columnFiltersMeta[v]=b})}if(s.length){for(let g=0;g<s.length;g++){d=s[g];const v=d.id;if(d.filterFn(m,v,d.resolvedValue,b=>{m.columnFiltersMeta[v]=b})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const f=h=>{for(let m=0;m<o.length;m++)if(h.columnFilters[o[m]]===!1)return!1;return!0};return mXe(t.rows,f,e)},Rt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function yXe(){return e=>Dt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,a=[],s=r.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),o={};s.forEach(c=>{const u=e.getColumn(c.id);u&&(o[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=c=>{const u=c.map(d=>({...d}));return u.sort((d,f)=>{for(let m=0;m<s.length;m+=1){var h;const g=s[m],v=o[g.id],b=v.sortUndefined,x=(h=g==null?void 0:g.desc)!=null?h:!1;let y=0;if(b){const w=d.getValue(g.id),S=f.getValue(g.id),C=w===void 0,k=S===void 0;if(C||k){if(b==="first")return C?-1:1;if(b==="last")return C?1:-1;y=C&&k?0:C?b:-b}}if(y===0&&(y=v.sortingFn(d,f,g.id)),y!==0)return x&&(y*=-1),v.invertSorting&&(y*=-1),y}return d.index-f.index}),u.forEach(d=>{var f;a.push(d),(f=d.subRows)!=null&&f.length&&(d.subRows=l(d.subRows))}),u};return{rows:l(n.rows),flatRows:a,rowsById:n.rowsById}},Rt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function sz(e,t){return e?xXe(e)?p.createElement(e,t):e:null}function xXe(e){return bXe(e)||typeof e=="function"||wXe(e)}function bXe(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function wXe(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function SXe(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=p.useState(()=>({current:fXe(t)})),[r,a]=p.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:o=>{a(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const CXe=({column:e,currentFilter:t,onApplyFilter:n,onRemoveFilter:r})=>{const[a,s]=p.useState(">"),[o,l]=p.useState(""),[c,u]=p.useState(!1),d=()=>{const m=parseFloat(o);isNaN(m)||(n(a,m),u(!1))},f=()=>{r(),u(!1)},h=m=>{m&&t?(s(t.operator),l(t.value.toString())):m&&(s(">"),l("")),u(m)};return i.jsxs(l1,{open:c,onOpenChange:h,children:[i.jsx(c1,{asChild:!0,children:i.jsx(Z,{variant:"ghost",size:"sm",className:`h-6 w-6 p-0 ${t?"text-blue-600":"text-muted-foreground hover:text-foreground"}`,children:i.jsx(zw,{className:"h-3 w-3"})})}),i.jsx(u1,{className:"w-64 p-3",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Mt,{className:"text-sm font-medium",children:["Filter ",e.label]}),t&&i.jsxs(Z,{variant:"ghost",size:"sm",onClick:f,className:"h-auto p-1 text-xs text-red-600 hover:text-red-700",children:[i.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Remove"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Lr,{value:a,onValueChange:m=>s(m),children:[i.jsx($r,{className:"w-20",children:i.jsx(ia,{})}),i.jsxs(Fr,{children:[i.jsx(at,{value:">",children:"> (greater than)"}),i.jsx(at,{value:">=",children:">= (greater than or equal)"}),i.jsx(at,{value:"<",children:"< (less than)"}),i.jsx(at,{value:"<=",children:"<= (less than or equal)"}),i.jsx(at,{value:"=",children:"=  (equal to)"}),i.jsx(at,{value:"!=",children:"!= (not equal to)"})]})]}),i.jsx(Qt,{type:"number",inputMode:"numeric",step:"0.1",placeholder:"Value",value:o,onChange:m=>l(m.target.value),className:"flex-1",onKeyDown:m=>{m.key==="Enter"&&d()}})]}),i.jsx(Z,{onClick:d,size:"sm",className:"w-full",disabled:!o||isNaN(parseFloat(o)),children:"Apply Filter"}),t&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Current: ",e.label," ",t.operator," ",t.value]})]})})]})},jXe=(e,t,n,r)=>e.filter(a=>a.visible).map(a=>({id:a.key,accessorFn:s=>s[a.key],header:({column:s})=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Z,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-auto p-0 font-semibold hover:bg-transparent",children:[a.label,i.jsx(pG,{className:"ml-2 h-4 w-4"})]}),(a.numeric||a.percentage)&&i.jsx(CXe,{column:a,currentFilter:t[a.key],onApplyFilter:(o,l)=>n(a.key,o,l),onRemoveFilter:()=>r(a.key)})]}),cell:({getValue:s})=>{const o=s();return a.key==="teamNumber"?i.jsx("span",{className:"font-medium",children:typeof o=="number"?o:Number(o)||0}):a.key==="eventKey"?i.jsx(Le,{variant:"secondary",children:String(o)}):a.numeric?typeof o=="number"?o.toFixed(1):"0.0":a.percentage?`${typeof o=="number"?Math.round(o):0}%`:o},filterFn:a.key==="teamNumber"?(s,o,l)=>{const c=s.getValue(o),u=String(c),d=String(l).toLowerCase();return u.includes(d)}:void 0,enableSorting:!0,enableHiding:!0})),NXe=({isOpen:e,onOpenChange:t,columnConfig:n,onToggleColumn:r,onApplyPreset:a})=>{const[s,o]=p.useState([]),[l,c]=p.useState(""),[u,d]=p.useState(!1);p.useEffect(()=>{const v=localStorage.getItem("columnPresets");if(v)try{o(JSON.parse(v))}catch(b){console.error("Failed to load saved presets:",b)}},[]);const f=v=>{const b=n.filter(w=>w.visible).map(w=>w.key),x={name:v,columns:b,createdAt:new Date().toISOString()},y=[...s.filter(w=>w.name!==v),x];o(y),localStorage.setItem("columnPresets",JSON.stringify(y)),c(""),d(!1)},h=v=>{n.filter(b=>b.visible).forEach(b=>r(b.key)),v.columns.forEach(b=>{const x=n.find(y=>y.key===b);x&&!x.visible&&r(b)})},m=v=>{const b=s.filter(x=>x.name!==v);o(b),localStorage.setItem("columnPresets",JSON.stringify(b))},g=n.reduce((v,b)=>{var x;return v[b.category]||(v[b.category]=[]),(x=v[b.category])==null||x.push(b),v},{});return i.jsxs(ep,{open:e,onOpenChange:t,children:[i.jsx(VC,{asChild:!0,children:i.jsxs(Z,{variant:"outline",size:"sm",children:[i.jsx(bde,{className:"h-4 w-4 mr-2"}),"Customize Columns"]})}),i.jsxs(tp,{className:"w-96",children:[i.jsxs(np,{children:[i.jsx(rp,{children:"Customize Table Columns"}),i.jsx(J7,{children:"Select which columns to display in the team statistics table"})]}),i.jsxs("div",{className:"space-y-6 mt-6 px-4 overflow-y-scroll pb-4 h-[calc(100vh-120px)]",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>n.filter(v=>!v.visible).forEach(v=>r(v.key)),children:[i.jsx(am,{className:"h-4 w-4 mr-1"}),"Show All"]}),i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>a("basic"),children:[i.jsx(nD,{className:"h-4 w-4 mr-1"}),"Basic Only"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Common Presets"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>a("essential"),className:"text-xs",children:"Essential"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>a("aggregates"),className:"text-xs",children:"Aggregates"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>a("auto"),className:"text-xs",children:"Auto Focus"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>a("teleop"),className:"text-xs",children:"Teleop Focus"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>a("endgame"),className:"text-xs col-span-2",children:"Endgame Focus"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Custom Presets"}),i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>d(!u),className:"h-auto p-1 text-xs",children:[i.jsx(Gc,{className:"h-3 w-3 mr-1"}),"Save Current"]})]}),u&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Qt,{placeholder:"Preset name...",value:l,onChange:v=>c(v.target.value),className:"flex-1 h-8 text-xs",onKeyDown:v=>{v.key==="Enter"&&l.trim()&&f(l.trim()),v.key==="Escape"&&(d(!1),c(""))}}),i.jsx(Z,{size:"sm",onClick:()=>l.trim()&&f(l.trim()),disabled:!l.trim(),className:"h-8 px-2",children:i.jsx(sD,{className:"h-3 w-3"})})]}),s.length>0?i.jsx("div",{className:"space-y-2",children:s.map(v=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium",children:v.name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.columns.length," columns"]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>h(v),className:"h-7 px-2 text-xs",children:"Apply"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>m(v.name),className:"h-7 px-2 text-xs text-destructive hover:text-destructive",children:i.jsx(Bs,{className:"h-3 w-3"})})]})]},v.name))}):i.jsx("div",{className:"text-sm text-muted-foreground text-center py-4 border border-dashed rounded-lg",children:"No custom presets saved yet"})]}),i.jsx(Or,{}),Object.entries(g).map(([v,b])=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:v}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{b.every(y=>y.visible)?b.filter(y=>y.visible).forEach(y=>r(y.key)):b.filter(y=>!y.visible).forEach(y=>r(y.key))},className:"h-auto p-1 text-xs",children:b.every(x=>x.visible)?"Hide All":"Show All"})]}),i.jsx("div",{className:"space-y-2",children:b.map(x=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Kd,{id:x.key,checked:x.visible,onCheckedChange:()=>r(x.key)}),i.jsx("label",{htmlFor:x.key,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 flex-1",children:x.label}),x.numeric&&i.jsx(Le,{variant:"outline",className:"text-xs",children:"Numeric"})]},x.key))})]},v))]})]})]})},kXe=({teamStats:e,filteredTeamStats:t,columnConfig:n,columnFilters:r,onToggleColumn:a,onApplyPreset:s,onSetColumnFilter:o,onRemoveColumnFilter:l,onClearAllFilters:c,isColumnSettingsOpen:u,onColumnSettingsOpenChange:d})=>{var C,k;const[f,h]=p.useState([]),[m,g]=p.useState([]),[v,b]=p.useState({}),x=p.useMemo(()=>jXe(n,r,o,l),[n,r,o,l]);p.useEffect(()=>{const N={};n.forEach(P=>{N[P.key]=P.visible}),b(N)},[n]);const y=SXe({data:t,columns:x,onSortingChange:h,onColumnFiltersChange:g,getCoreRowModel:hXe(),getSortedRowModel:yXe(),getFilteredRowModel:vXe(),onColumnVisibilityChange:N=>{const P=typeof N=="function"?N(v):N;Object.entries(P).forEach(([E,R])=>{const O=n.find(K=>K.key===E);O&&O.visible!==R&&a(E)})},state:{sorting:f,columnFilters:m,columnVisibility:v}}),w=n.filter(N=>N.visible),S=Object.keys(r).length;return i.jsxs(De,{className:"",children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 md:gap-3",children:[i.jsx(Ge,{className:"text-lg md:text-xl",children:"Team Statistics"}),i.jsxs(Le,{variant:"secondary",className:"text-xs w-fit",children:[w.length," of ",n.length," columns"]})]}),i.jsx(NXe,{isOpen:u,onOpenChange:d,columnConfig:n,onToggleColumn:a,onApplyPreset:s})]})}),i.jsxs("div",{className:"px-2 pb-2 md:pb-4 space-y-2 md:space-y-4",children:[i.jsxs("div",{className:"flex px-4 md:px-6  items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Showing ",t.length," of ",e.length," teams"]}),S>0&&i.jsxs(i.Fragment,{children:[i.jsxs(Le,{variant:"outline",className:"text-xs",children:[S," filter",S!==1?"s":""," active"]}),i.jsxs(Z,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:c,children:[i.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Clear all filters"]})]})]}),i.jsx("div",{className:"flex items-center gap-2 px-4",children:i.jsx(Qt,{placeholder:"Filter teams...",value:((C=y.getColumn("teamNumber"))==null?void 0:C.getFilterValue())??"",onChange:N=>{var P;return(P=y.getColumn("teamNumber"))==null?void 0:P.setFilterValue(N.target.value)},className:"flex-1 text-sm h-8 sm:h-10"})})]}),i.jsx($e,{className:"px-4",children:i.jsx("div",{className:"px-2",children:i.jsx("div",{className:"max-h-[35vh] sm:max-h-[40vh] md:max-h-[45vh] lg:max-h-[50vh] overflow-auto border rounded-md",children:i.jsx("div",{className:"min-w-max",children:i.jsxs(Wse,{className:"relative w-full",children:[i.jsx(qse,{children:y.getHeaderGroups().map(N=>i.jsx(_h,{children:N.headers.map(P=>i.jsx(ho,{className:"whitespace-nowrap text-xs sm:text-sm px-2 sm:px-4",children:P.isPlaceholder?null:sz(P.column.columnDef.header,P.getContext())},P.id))},N.id))}),i.jsxs(Hse,{children:[(k=y.getRowModel().rows)!=null&&k.length?y.getRowModel().rows.map(N=>i.jsx(_h,{"data-state":N.getIsSelected()&&"selected",children:N.getVisibleCells().map(P=>i.jsx(ri,{className:"whitespace-nowrap text-xs sm:text-sm px-2 sm:px-4",children:sz(P.column.columnDef.cell,P.getContext())},P.id))},N.id)):i.jsx(_h,{children:i.jsx(ri,{colSpan:x.length,className:"h-24 text-center",children:"No results."})}),i.jsx(_h,{children:i.jsx(ri,{colSpan:x.length,className:"h-4 border-0"})})]})]})})})})})]})};function AXe(){var z,U;const[e,t]=p.useState([]),[n,r]=p.useState("all"),[a,s]=p.useState("average"),[o,l]=p.useState("bar"),[c,u]=p.useState(((z=Og.columns.find(M=>M.numeric&&M.key!=="matchCount"))==null?void 0:z.key)||"rawValues.totalPoints"),[d,f]=p.useState("teamNumber"),[h,m]=p.useState(((U=Og.columns.find(M=>M.numeric&&M.key!=="matchCount"))==null?void 0:U.key)||"rawValues.totalPoints"),[g,v]=p.useState(Og.columns),[b,x]=p.useState({}),[y,w]=p.useState(!1);p.useEffect(()=>{(async()=>{const he=await Yi();t(he)})();const $=localStorage.getItem("strategy_aggregation");$&&s($);const B=localStorage.getItem("strategy_chartType");B&&l(B);const te=localStorage.getItem("strategy_chartMetric");te&&u(te);const q=localStorage.getItem("strategy_columnFilters");if(q)try{x(JSON.parse(q))}catch(he){console.error("Failed to parse saved column filters",he)}const ae=localStorage.getItem("strategy_visibleColumns");if(ae)try{const he=JSON.parse(ae);v(je=>je.map(Ee=>({...Ee,visible:he.includes(Ee.key)})))}catch(he){console.error("Failed to parse saved visible columns",he)}},[]),p.useEffect(()=>{localStorage.setItem("strategy_aggregation",a)},[a]),p.useEffect(()=>{localStorage.setItem("strategy_chartType",o)},[o]),p.useEffect(()=>{localStorage.setItem("strategy_chartMetric",c)},[c]),p.useEffect(()=>{localStorage.setItem("strategy_columnFilters",JSON.stringify(b))},[b]),p.useEffect(()=>{const M=g.filter($=>$.visible).map($=>$.key);localStorage.setItem("strategy_visibleColumns",JSON.stringify(M))},[g]);const S=p.useMemo(()=>Array.from(new Set(e.map(M=>M.eventKey))).sort(),[e]),{teamStats:C,filteredTeamStats:k,isLoading:N,error:P}=jYe(n==="all"?void 0:n,{columns:g},b,a),{chartData:E,chartConfig:R}=kYe(k,o,c,d,h,{columns:g}),O=M=>{v($=>$.map(B=>B.key===M?{...B,visible:!B.visible}:B))},K=M=>{const $=Og.presets[M];$&&v(B=>B.map(te=>({...te,visible:$.includes(te.key)})))},J=(M,$,B)=>{x(te=>({...te,[M]:{operator:$,value:B}}))},Q=M=>{x($=>{const B={...$};return delete B[M],B})},G=()=>{x({})};return P?i.jsx("div",{className:"flex items-center justify-center min-h-screen text-destructive",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Error Loading Data"}),i.jsx("p",{className:"text-muted-foreground",children:P.message})]})}):N?i.jsxs("div",{className:"flex flex-col min-h-screen gap-6 p-4",children:[i.jsx("div",{className:"flex flex-col gap-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ta,{className:"h-10 w-64"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ta,{className:"h-10 w-32"}),i.jsx(ta,{className:"h-10 w-32"})]})]})}),i.jsx(ta,{className:"h-[400px] w-full rounded-xl"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ta,{className:"h-10 w-full"}),i.jsx(ta,{className:"h-20 w-full"}),i.jsx(ta,{className:"h-20 w-full"}),i.jsx(ta,{className:"h-20 w-full"})]})]}):i.jsxs("div",{className:"flex flex-col min-h-screen gap-6 px-4 pt-12 pb-24",children:[i.jsx(PYe,{filteredTeamCount:k.length,totalTeamCount:C.length,activeFilterCount:Object.keys(b).length,selectedEvent:n,onEventChange:r,availableEvents:S,aggregationType:a,onAggregationTypeChange:s,onClearAllFilters:G,isSettingsOpen:!1,onSettingsOpenChange:()=>{},chartType:o,onChartTypeChange:l}),i.jsx(AJe,{chartData:E,chartType:o,onChartTypeChange:l,chartMetric:c,onChartMetricChange:u,scatterXMetric:d,onScatterXMetricChange:f,scatterYMetric:h,onScatterYMetricChange:m,columnConfig:g,chartConfig:R}),i.jsx(kXe,{teamStats:C,filteredTeamStats:k,columnConfig:g,columnFilters:b,onToggleColumn:O,onApplyPreset:K,onSetColumnFilter:J,onRemoveColumnFilter:Q,onClearAllFilters:G,isColumnSettingsOpen:y,onColumnSettingsOpenChange:w})]})}const PXe=({matchNumber:e,isLookingUpMatch:t,onMatchNumberChange:n,onClearAll:r,onSaveAll:a})=>{const s=localStorage.getItem("matchData");return i.jsxs("div",{className:"flex md:justify-between w-full flex-wrap md:flex-nowrap gap-2 pt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto pb-2 md:pb-0",children:[i.jsx("label",{htmlFor:"match-number",className:"font-semibold whitespace-nowrap",children:"Match #:"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qt,{id:"match-number",type:"text",placeholder:"Optional",value:e,onChange:o=>n(o.target.value),className:"w-24"}),t&&i.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"})})]}),e&&!t&&i.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Auto-fills from match data"}),!s&&i.jsx("span",{className:"text-xs text-orange-500 whitespace-nowrap hidden md:inline",children:"Load match data first"})]}),i.jsxs("div",{className:"flex items-center md:justify-end w-full md:w-auto gap-2",children:[i.jsx(Z,{onClick:r,variant:"outline",className:"flex-1 md:flex-none px-3 py-2",children:"Clear All"}),i.jsx(Z,{onClick:a,variant:"outline",className:"flex-1 md:flex-none px-3 py-2",children:"Save All"})]})]})},aie=p.createContext(void 0);function EXe(){const e=p.useContext(aie);if(e===void 0)throw new Error("useFullscreen must be used within a FullscreenProvider");return e}const TXe=20,_Xe=({canvasRef:e,brushSize:t,brushColor:n,isErasing:r,onSave:a})=>{const[s,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(!1),f=p.useRef([]),h=p.useRef(0),m=p.useCallback(k=>{const N=e.current;if(!N)return{x:0,y:0};const P=N.getBoundingClientRect(),E=N.width/P.width,R=N.height/P.height;return{x:(k.clientX-P.left)*E,y:(k.clientY-P.top)*R}},[e]),g=p.useCallback(()=>{const k=e.current;if(!k||f.current.length>0)return;const N=k.toDataURL();f.current=[N],h.current=0,d(!1)},[e]),v=p.useCallback(()=>{const k=e.current;if(!k)return;if(f.current.length===0){const O=k.toDataURL();f.current=[O],h.current=0,console.log("[SaveToHistory] Auto-initialized with first state, canvas size:",k.width,"x",k.height)}const N=k.toDataURL(),P=k.getContext("2d"),E=P==null?void 0:P.getImageData(0,0,k.width,k.height),R=(E==null?void 0:E.data.some((O,K)=>K%4===3&&O>0))??!1;console.log("[SaveToHistory] Saving state - has visible content:",R,"canvas size:",k.width,"x",k.height),f.current=f.current.slice(0,h.current+1),f.current.push(N),h.current=f.current.length-1,console.log("[SaveToHistory] History now has",f.current.length,"states, currentIndex:",h.current),f.current.length>TXe&&(f.current.shift(),h.current--),d(h.current>0)},[e]),b=p.useCallback(()=>{if(h.current<=0||f.current.length<2){console.log("[Undo] Cannot undo - index:",h.current,"length:",f.current.length);return}const k=h.current;h.current--;const N=f.current[h.current];console.log("[Undo] Going from index",k,"to",h.current,"- history length:",f.current.length);const P=e.current,E=P==null?void 0:P.getContext("2d");if(!P||!E||!N){console.log("[Undo] Missing canvas, ctx, or previousState");return}const R=new Image;R.onload=()=>{console.log("[Undo] Image loaded, natural size:",R.naturalWidth,"x",R.naturalHeight,"canvas size:",P.width,"x",P.height),E.globalCompositeOperation="source-over",E.clearRect(0,0,P.width,P.height),E.drawImage(R,0,0,P.width,P.height),d(h.current>0),a()},R.onerror=()=>{console.log("[Undo] Image load failed"),h.current++,d(h.current>0),console.warn("Undo failed: could not load image from history.")},R.src=N},[e,a]),x=p.useCallback(k=>{if(k.preventDefault(),k.stopPropagation(),"setPointerCapture"in k.currentTarget&&k.currentTarget instanceof HTMLElement)try{k.currentTarget.setPointerCapture(k.pointerId)}catch{}o(!0);const N=m(k);c(N)},[m]),y=p.useCallback(k=>{if(k.preventDefault(),k.stopPropagation(),!s||!l)return;const N=e.current,P=N==null?void 0:N.getContext("2d");if(!N||!P)return;const E=m(k);P.lineWidth=t,P.lineCap="round",P.lineJoin="round",r?(P.globalCompositeOperation="destination-out",P.strokeStyle="rgba(0,0,0,1)"):(P.globalCompositeOperation="source-over",P.strokeStyle=n),P.beginPath(),P.moveTo(l.x,l.y),P.lineTo(E.x,E.y),P.stroke(),c(E)},[s,m,r,t,n,l,e]),w=p.useCallback(k=>{if(k&&(k.preventDefault(),k.stopPropagation(),"releasePointerCapture"in k.currentTarget&&k.currentTarget instanceof HTMLElement))try{k.currentTarget.releasePointerCapture(k.pointerId)}catch{}s&&(v(),a()),o(!1),c(null)},[s,a,v]);return{canvasStyle:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",display:"block",touchAction:"none",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent"},canvasEventHandlers:{onMouseDown:x,onMouseMove:y,onMouseUp:w,onMouseLeave:w,onPointerDown:x,onPointerMove:y,onPointerUp:w,onPointerLeave:w,onPointerCancel:w},isDrawing:s,undo:b,canUndo:u,initializeHistory:g,saveToHistory:v}},Bu={phases:[{id:"overall",label:"Overall",gridCols:3,stats:[{key:"avgTotalFuel",label:"Avg Fuel Scored",color:"text-orange-600",format:"number",decimals:1,aggregation:"average"},{key:"avgFuelPassed",label:"Avg Fuel Passed",color:"text-green-600",format:"number",decimals:1,aggregation:"average"},{key:"avgTotalPoints",label:"Avg Points",color:"text-blue-600",format:"number",decimals:1,aggregation:"average"}]},{id:"auto",label:"Auto",gridCols:4,stats:[{key:"avgAutoFuel",label:"Fuel Scored",color:"text-orange-600",format:"number",decimals:1,aggregation:"average"},{key:"avgAutoFuelPassed",label:"Fuel Passed",color:"text-green-600",format:"number",decimals:1,aggregation:"average"},{key:"autoClimbAttempts",label:"L1 Climbs",color:"text-purple-600",format:"number",decimals:0},{key:"autoClimbRate",label:"L1 Success",color:"text-blue-600",format:"percent",decimals:0}]},{id:"teleop",label:"Teleop",gridCols:4,stats:[{key:"avgTeleopFuel",label:"Fuel Scored",color:"text-orange-600",format:"number",decimals:1,aggregation:"average"},{key:"avgTeleopFuelPassed",label:"Fuel Passed",color:"text-green-600",format:"number",decimals:1,aggregation:"average"},{key:"primaryActiveRole",label:"Active Role",color:"text-blue-600"},{key:"primaryInactiveRole",label:"Inactive Role",color:"text-purple-600"}]},{id:"endgame",label:"Endgame",gridCols:4,stats:[{key:"endgame.climbRate",label:"Climb %",color:"text-purple-600",format:"percent",decimals:0},{key:"climbL1Rate",label:"L1 (10pts)",color:"text-green-600",format:"percent",decimals:0},{key:"climbL2Rate",label:"L2 (20pts)",color:"text-blue-600",format:"percent",decimals:0},{key:"climbL3Rate",label:"L3 (30pts)",color:"text-orange-600",format:"percent",decimals:0}]}],fieldLayout:{TEAM_LABEL_FONT_SIZE_RATIO:.02,BLUE_ALLIANCE_X_POSITION:.03,RED_ALLIANCE_X_POSITION:.97,TEAM_POSITION_TOP_Y:.275,TEAM_POSITION_MIDDLE_Y:.505,TEAM_POSITION_BOTTOM_Y:.735}};function DXe(e,t,n){const r=t.split(".");let a=e;for(const s of r){if(a==null)return;a=a[s]}return typeof a=="number"||typeof a=="string"?a:void 0}function RXe(e,t="number",n=1){if(e==null)return"-";if(typeof e=="string")return e;const r=Number(e.toFixed(n));return t==="percent"?`${r}%`:r.toString()}var _z,Dz,Rz,Mz,Iz,Oz;const sie={TEAM_LABEL_FONT_SIZE_RATIO:(_z=Bu.fieldLayout)==null?void 0:_z.TEAM_LABEL_FONT_SIZE_RATIO,BLUE_ALLIANCE_X_POSITION:(Dz=Bu.fieldLayout)==null?void 0:Dz.BLUE_ALLIANCE_X_POSITION,RED_ALLIANCE_X_POSITION:(Rz=Bu.fieldLayout)==null?void 0:Rz.RED_ALLIANCE_X_POSITION,TEAM_POSITION_TOP_Y:(Mz=Bu.fieldLayout)==null?void 0:Mz.TEAM_POSITION_TOP_Y,TEAM_POSITION_MIDDLE_Y:(Iz=Bu.fieldLayout)==null?void 0:Iz.TEAM_POSITION_MIDDLE_Y,TEAM_POSITION_BOTTOM_Y:(Oz=Bu.fieldLayout)==null?void 0:Oz.TEAM_POSITION_BOTTOM_Y,DESKTOP_RESERVED_HEIGHT_BASE:180},iz=(e,t,n,r)=>{if(!r||r.length!==6)return;const{TEAM_LABEL_FONT_SIZE_RATIO:a,BLUE_ALLIANCE_X_POSITION:s,RED_ALLIANCE_X_POSITION:o,TEAM_POSITION_TOP_Y:l,TEAM_POSITION_MIDDLE_Y:c,TEAM_POSITION_BOTTOM_Y:u}=sie,d=Math.floor(t*a);e.font=`bold ${d}px Arial`,e.textAlign="center",e.textBaseline="middle";const f=t*s;[{team:r[3],y:n*l},{team:r[4],y:n*c},{team:r[5],y:n*u}].forEach(({team:v,y:b})=>{if(v!=null&&v!==0){const x=v.toString();e.save(),e.translate(f,b),e.rotate(Math.PI/2),e.fillStyle="white",e.strokeStyle="black",e.lineWidth=3,e.strokeText(x,0,0),e.fillText(x,0,0),e.restore()}});const m=t*o;[{team:r[0],y:n*u},{team:r[1],y:n*c},{team:r[2],y:n*l}].forEach(({team:v,y:b})=>{if(v!=null&&v!==0){const x=v.toString();e.save(),e.translate(m,b),e.rotate(-Math.PI/2),e.fillStyle="white",e.strokeStyle="black",e.lineWidth=3,e.strokeText(x,0,0),e.fillText(x,0,0),e.restore()}})},MXe=({fieldImagePath:e,currentStageId:t,isFullscreen:n,hideControls:r,isMobile:a,backgroundCanvasRef:s,overlayCanvasRef:o,drawingCanvasRef:l,containerRef:c,fullscreenRef:u,selectedTeams:d=[],onCanvasReady:f,onDimensionsChange:h})=>{const m=p.useRef(null),g=p.useRef(null),v=p.useCallback(()=>{g.current&&clearTimeout(g.current);const x=50;g.current=setTimeout(()=>{const y=s.current,w=o.current,S=l.current,C=n?u.current:c.current;if(!y||!w||!S||!C)return;const k=y.getContext("2d"),N=w.getContext("2d"),P=S.getContext("2d");if(!k||!N||!P)return;const E=new Image;E.onload=()=>{let R,O;if(n){const U=window.innerHeight,M=window.innerWidth,$=!r;let B=a?100:sie.DESKTOP_RESERVED_HEIGHT_BASE;$&&(B+=a?80:100),R=M-(a?0:32),O=U-B}else{const U=C.getBoundingClientRect(),M=32;R=U.width-M,O=U.height-M}const K=E.width/E.height,J=R/O;let Q,G;K>J?(Q=R,G=R/K):(G=O,Q=O*K),h&&h({width:Q,height:G}),[y,w,S].forEach(U=>{U.width=Q,U.height=G}),m.current=E,k.drawImage(E,0,0,Q,G),N.clearRect(0,0,Q,G),iz(N,Q,G,d),P.clearRect(0,0,Q,G);const z=localStorage.getItem(`fieldStrategy_${t}`);if(z){const U=new Image;U.onload=()=>{P.drawImage(U,0,0,Q,G),f&&requestAnimationFrame(()=>f())},U.src=z}else f&&requestAnimationFrame(()=>f())},E.src=e},x)},[e,t,n,r,a,s,o,l,c,u,f,h,d]);p.useEffect(()=>{const x=o.current;if(!x)return;const y=x.getContext("2d");y&&(y.clearRect(0,0,x.width,x.height),iz(y,x.width,x.height,d))},[d,o]),p.useEffect(()=>{if(v(),!n){const y=setTimeout(()=>v(),200);return()=>clearTimeout(y)}const x=()=>{n&&v()};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),g.current&&clearTimeout(g.current)}},[v,n]);const b=p.useCallback(()=>{const x=l.current,y=x==null?void 0:x.getContext("2d");!x||!y||(y.clearRect(0,0,x.width,x.height),localStorage.removeItem(`fieldStrategy_${t}`))},[t,l]);return{backgroundImageRef:m,setupCanvas:v,clearCanvas:b}},IXe=({currentStage:e,hideControls:t,onStageSwitch:n,onToggleFullscreen:r})=>i.jsx("div",{className:"shrink-0 p-3 md:p-4 border-b bg-background",children:i.jsxs("div",{className:"flex justify-between items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsx("h2",{className:"text-lg md:text-xl font-bold whitespace-nowrap",children:"Field Strategy"}),t&&i.jsx("div",{className:"text-sm font-medium bg-primary/10 px-3 py-1 rounded-full whitespace-nowrap",children:e==null?void 0:e.label})]}),i.jsx("div",{className:"hidden md:flex items-center justify-center gap-2 flex-1",children:!t&&i.jsxs(i.Fragment,{children:[i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>n("prev"),className:"flex items-center gap-1",children:[i.jsx(eC,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden lg:inline",children:"Previous"})]}),i.jsx("div",{className:"text-sm font-medium bg-primary/10 px-3 py-1 rounded-full whitespace-nowrap",children:e==null?void 0:e.label}),i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>n("next"),className:"flex items-center gap-1",children:[i.jsx("span",{className:"hidden lg:inline",children:"Next"}),i.jsx(Oy,{className:"h-4 w-4"})]})]})}),i.jsx("div",{className:"flex items-center justify-end shrink-0",children:i.jsxs(Z,{onClick:r,variant:"outline",size:"sm",children:[i.jsx(XP,{className:"h-4 w-4 mr-1 md:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Exit Fullscreen"})]})})]})}),OXe=({currentStage:e,currentStageIndex:t,stages:n,onStageSwitch:r,isVisible:a})=>a?i.jsx("div",{className:"shrink-0 p-2 md:p-3 border-b bg-background md:hidden",children:i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>r("prev"),className:"flex items-center gap-1",children:[i.jsx(eC,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-sm font-medium bg-primary/10 px-3 py-1 rounded-full",children:e==null?void 0:e.label}),i.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-xs text-muted-foreground",children:[t+1," / ",n.length]})]}),i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>r("next"),className:"flex items-center gap-1",children:[i.jsx("span",{className:"hidden sm:inline",children:"Next"}),i.jsx(Oy,{className:"h-4 w-4"})]})]})}):null,oz=[{value:"#3b82f6",label:"Blue"},{value:"#60a5fa",label:"Light Blue"},{value:"#1e40af",label:"Dark Blue"},{value:"#8b5cf6",label:"Purple"},{value:"#06b6d4",label:"Cyan"},{value:"#ef4444",label:"Red"},{value:"#f87171",label:"Light Red"},{value:"#dc2626",label:"Dark Red"},{value:"#f59e0b",label:"Orange"},{value:"#eab308",label:"Yellow"},{value:"#10b981",label:"Green"},{value:"#ec4899",label:"Pink"},{value:"#000000",label:"Black"},{value:"#6b7280",label:"Grey"},{value:"#ffffff",label:"White"}],lz=e=>e<=2?"Small":e<=5?"Medium":e<=10?"Large":"X-Large",cz=({isErasing:e,brushSize:t,brushColor:n,currentStageId:r,isMobile:a,isFullscreen:s,canUndo:o,onToggleErasing:l,onBrushSizeChange:c,onBrushColorChange:u,onClearCanvas:d,onSaveCanvas:f,onUndo:h,onToggleFullscreen:m,onToggleHideControls:g})=>{const[v,b]=p.useState(!1),x=y=>{u(y),b(!1)};return s?i.jsx("div",{className:"shrink-0 p-2 md:p-4 border-b bg-background relative z-40",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:flex-wrap justify-center items-center gap-2",children:[i.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[i.jsx(Z,{variant:e?"outline":"default",size:"sm",onClick:()=>l(!1),children:"Draw"}),i.jsx(Z,{variant:e?"default":"outline",size:"sm",onClick:()=>l(!0),children:"Erase"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:h,disabled:!o,title:"Undo last action",children:"Undo"}),i.jsx(Z,{onClick:d,variant:"outline",size:"sm",children:"Clear"})]}),i.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[i.jsxs(Lr,{value:t.toString(),onValueChange:y=>c(Number(y)),children:[i.jsx($r,{className:"w-fit",size:"sm",children:i.jsx(ia,{children:lz(t)})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"2",children:"Small"}),i.jsx(at,{value:"5",children:"Medium"}),i.jsx(at,{value:"10",children:"Large"}),i.jsx(at,{value:"20",children:"X-Large"})]})]}),i.jsxs(l1,{open:v,onOpenChange:b,children:[i.jsx(c1,{asChild:!0,children:i.jsx(Z,{variant:"outline",size:"sm",className:"w-8 h-8 p-0",style:{backgroundColor:n},title:"Select color","aria-label":"Select drawing color",children:i.jsx("span",{className:"sr-only",children:"Select color"})})}),i.jsx(u1,{className:"w-auto p-2",children:i.jsx("div",{className:"grid grid-cols-5 gap-1",children:oz.map(y=>i.jsx("button",{onClick:()=>x(y.value),className:`w-8 h-8 rounded border-2 cursor-pointer transition-all hover:scale-110 relative ${n===y.value?"border-black ring-2 ring-offset-2 ring-white":"border-gray-600"}`,style:{backgroundColor:y.value},title:y.label,"aria-label":y.label,children:n===y.value&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-black drop-shadow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})},y.value))})})]}),i.jsx(Z,{onClick:f,variant:"outline",size:"sm",children:"Save"}),a&&i.jsx(Z,{onClick:g,variant:"outline",size:"sm",title:"Hide controls for more drawing space",children:i.jsx(nD,{className:"h-4 w-4"})})]})]})}):i.jsx("div",{className:"mb-4 shrink-0",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(Z,{variant:e?"outline":"default",size:"sm",onClick:()=>l(!1),children:"Draw"}),i.jsx(Z,{variant:e?"default":"outline",size:"sm",onClick:()=>l(!0),children:"Erase"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:h,disabled:!o,title:"Undo last action",children:"Undo"}),i.jsx(Z,{onClick:d,variant:"outline",size:"sm",children:"Clear"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs(Lr,{value:t.toString(),onValueChange:y=>c(Number(y)),children:[i.jsx($r,{className:"w-[100px]",size:"sm",children:i.jsx(ia,{children:lz(t)})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"2",children:"Small"}),i.jsx(at,{value:"5",children:"Medium"}),i.jsx(at,{value:"10",children:"Large"}),i.jsx(at,{value:"20",children:"X-Large"})]})]}),i.jsxs(l1,{open:v,onOpenChange:b,children:[i.jsx(c1,{asChild:!0,children:i.jsx(Z,{variant:"outline",size:"sm",className:"w-8 h-8 p-0",style:{backgroundColor:n},title:"Select color","aria-label":"Select drawing color",children:i.jsx("span",{className:"sr-only",children:"Select color"})})}),i.jsx(u1,{className:"w-auto p-2",children:i.jsx("div",{className:"grid grid-cols-5 gap-1",children:oz.map(y=>i.jsx("button",{onClick:()=>x(y.value),className:`w-8 h-8 rounded border-2 cursor-pointer transition-all hover:scale-110 relative ${n===y.value?"border-black ring-2 ring-offset-2 ring-white":"border-gray-600"}`,style:{backgroundColor:y.value},title:y.label,"aria-label":y.label,children:n===y.value&&i.jsx("span",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-black drop-shadow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})},y.value))})})]}),i.jsxs(Z,{onClick:f,variant:"outline",size:"sm",children:["Save ",r]}),i.jsxs(Z,{onClick:m,variant:"outline",size:"sm",children:[i.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Fullscreen"]})]})]})})},LXe=({isVisible:e,isErasing:t,onToggleControls:n,onStageSwitch:r,onToggleErasing:a,onClearCanvas:s})=>e?i.jsx("div",{className:"absolute top-2 right-2 z-10",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-2 lg:gap-4",children:[i.jsx(Z,{onClick:n,variant:"secondary",size:"sm",className:"shadow-lg",title:"Show all controls",children:i.jsx(am,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-1 lg:gap-2",children:[i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>r("prev"),className:"shadow-lg bg-background/90 hover:bg-background",title:"Previous phase",children:i.jsx(eC,{className:"h-4 w-4"})}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>r("next"),className:"shadow-lg bg-background/90 hover:bg-background",title:"Next phase",children:i.jsx(Oy,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-1 lg:gap-2",children:[i.jsx(Z,{variant:t?"outline":"default",size:"sm",onClick:()=>a(!1),className:"shadow-lg",title:"Draw mode",children:"Draw"}),i.jsx(Z,{variant:t?"default":"outline",size:"sm",onClick:()=>a(!0),className:"shadow-lg",title:"Erase mode",children:"Erase"}),i.jsx(Z,{onClick:s,variant:"destructive",size:"sm",className:"shadow-lg",title:"Clear canvas",children:"Clear"})]})]})}):null,JA=({fieldImagePath:e,stageId:t="default",onStageChange:n,selectedTeams:r=[]})=>{const a=p.useRef(null),s=p.useRef(null),o=p.useRef(null),l=p.useRef(null),c=p.useRef(null),[u,d]=p.useState(!1),[f,h]=p.useState(3),[m,g]=p.useState("#ff0000"),{isFullscreen:v,setIsFullscreen:b}=EXe(),[x,y]=p.useState(t),[w,S]=p.useState(!1),C=Gm(),[k,N]=p.useState({width:0,height:0}),P=p.useMemo(()=>[{id:"autonomous",label:"Autonomous"},{id:"teleop",label:"Teleop"},{id:"endgame",label:"Endgame"}],[]),E=Math.max(0,P.findIndex(ke=>ke.id===x)),R=P[E]||P[0];p.useEffect(()=>{v||y(t)},[t,v]),p.useEffect(()=>{N({width:0,height:0})},[v]);const[O,K]=p.useState(!1),J=p.useCallback(()=>{K(!0)},[]),{clearCanvas:Q}=MXe({fieldImagePath:e,currentStageId:x,isFullscreen:v,hideControls:w,isMobile:C,backgroundCanvasRef:a,overlayCanvasRef:s,drawingCanvasRef:o,containerRef:l,fullscreenRef:c,selectedTeams:r,onCanvasReady:J,onDimensionsChange:N}),G=p.useCallback((ke=!0)=>{const we=a.current,re=s.current,He=o.current;if(!we||!re||!He)return;const Oe=document.createElement("canvas");Oe.width=k.width,Oe.height=k.height;const Xe=Oe.getContext("2d");if(!Xe)return;Xe.drawImage(we,0,0),Xe.drawImage(re,0,0),Xe.drawImage(He,0,0);const Fe=Oe.toDataURL("image/png");if(ke){const Se=document.createElement("a");Se.download=`field-strategy-${x}-${new Date().toISOString().slice(0,10)}.png`,Se.href=Fe,Se.click()}localStorage.setItem(`fieldStrategy_${x}`,He.toDataURL("image/png"))},[x,k]),{canvasStyle:z,canvasEventHandlers:U,undo:M,canUndo:$,initializeHistory:B,saveToHistory:te}=_Xe({canvasRef:o,brushSize:f,brushColor:m,isErasing:u,onSave:()=>G(!1)}),q=p.useRef(!1);p.useEffect(()=>{O&&B&&!q.current&&(B(),q.current=!0),O&&K(!1)},[O,B]);const ae=p.useCallback(()=>{te&&te(),Q()},[te,Q]),he=p.useCallback(()=>{v?(b(!1),document.body.style.overflow="auto",n&&x!==t&&n(x)):(b(!0),document.body.style.overflow="hidden")},[v,b,n,x,t]),je=p.useCallback(ke=>{const we=P.findIndex(Xe=>Xe.id===x);let re;ke==="prev"?re=we>0?we-1:P.length-1:re=we<P.length-1?we+1:0;const He=P[re];if(!He)return;const Oe=He.id;G(!1),y(Oe),!v&&n&&n(Oe)},[x,v,n,P,G]);p.useEffect(()=>{const ke=we=>{v&&(we.key==="Escape"?he():we.key==="ArrowLeft"?(we.preventDefault(),je("prev")):we.key==="ArrowRight"?(we.preventDefault(),je("next")):we.key==="z"&&(we.ctrlKey||we.metaKey)&&(we.preventDefault(),$&&M()))};return v&&document.addEventListener("keydown",ke),()=>{document.removeEventListener("keydown",ke)}},[v,je,he,$,M]);const Ee=k.width>0&&k.height>0,me={position:"relative",width:Ee?`${k.width}px`:"auto",height:Ee?`${k.height}px`:"auto",maxWidth:"100%",maxHeight:"100%"},Ve={position:"absolute",top:0,left:0,width:"100%",height:"100%"},ne=()=>i.jsx("div",{className:"w-full h-full min-h-0 flex items-center justify-center",children:i.jsxs("div",{style:me,className:"border border-gray-300 rounded-lg shadow-lg overflow-hidden max-w-full max-h-full",children:[i.jsx("canvas",{ref:a,style:Ve}),i.jsx("canvas",{ref:s,style:Ve}),i.jsx("canvas",{ref:o,style:{...Ve,...z,cursor:"crosshair",touchAction:"none"},...U})]})});return v?i.jsxs("div",{ref:c,className:"fixed inset-0 z-50 bg-white dark:bg-gray-900 flex flex-col",style:{touchAction:"none",height:"100vh",width:"100vw"},children:[i.jsx(IXe,{currentStage:R,hideControls:w,onStageSwitch:je,onToggleFullscreen:he}),i.jsx(OXe,{currentStage:R,currentStageIndex:E,stages:P,onStageSwitch:je,isVisible:C&&!w}),(!w||!C)&&i.jsx(cz,{isErasing:u,brushSize:f,brushColor:m,currentStageId:x,isMobile:C,isFullscreen:v,canUndo:$,onToggleErasing:d,onBrushSizeChange:h,onBrushColorChange:g,onClearCanvas:ae,onSaveCanvas:()=>G(!0),onUndo:M,onToggleFullscreen:he,onToggleHideControls:()=>S(!w)}),i.jsxs("div",{className:"flex-1 flex items-center justify-center p-2 md:p-4 bg-green-50 dark:bg-green-950/20 overflow-hidden relative",style:{touchAction:"none"},children:[i.jsx(LXe,{isVisible:w&&C,isErasing:u,onToggleControls:()=>S(!1),onStageSwitch:je,onToggleErasing:d,onClearCanvas:ae}),i.jsx("div",{className:"w-full h-full flex items-center justify-center",onTouchStart:ke=>ke.stopPropagation(),onTouchMove:ke=>ke.stopPropagation(),onTouchEnd:ke=>ke.stopPropagation(),children:ne()})]}),i.jsx("div",{className:"shrink-0 p-2 md:p-4 border-t bg-background text-center text-xs md:text-sm text-muted-foreground",children:i.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[!C&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Press ESC to exit fullscreen"}),i.jsx("span",{children:"Use   arrows to switch stages"}),i.jsx("span",{children:"Ctrl+Z to undo"})]}),C&&i.jsx("span",{children:"Tap Exit Fullscreen to return  Use Previous/Next to switch stages"})]})})]}):i.jsxs("div",{className:"w-full h-full flex flex-col","data-stage":t,style:{touchAction:"pan-x pan-y"},children:[i.jsx(cz,{isErasing:u,brushSize:f,brushColor:m,currentStageId:x,isMobile:C,isFullscreen:v,canUndo:$,onToggleErasing:d,onBrushSizeChange:h,onBrushColorChange:g,onClearCanvas:ae,onSaveCanvas:()=>G(!0),onUndo:M,onToggleFullscreen:he,onToggleHideControls:()=>S(!w)}),i.jsx("div",{ref:l,className:"flex-1 flex items-center justify-center border rounded-lg bg-green-50 dark:bg-green-950/20 min-h-0 p-4",style:{touchAction:"none"},children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",onTouchStart:ke=>ke.stopPropagation(),onTouchMove:ke=>ke.stopPropagation(),onTouchEnd:ke=>ke.stopPropagation(),children:ne()})})]})},$Xe=({fieldImagePath:e,activeTab:t,selectedTeams:n=[],onTabChange:r})=>i.jsx(De,{className:"w-full",children:i.jsx($e,{className:"h-[500px] p-4",children:i.jsxs(pu,{value:t,onValueChange:r,className:"w-full h-full flex flex-col",enableSwipe:!0,children:[i.jsxs(gu,{className:"grid w-full grid-cols-3 mb-4 shrink-0",children:[i.jsx(hn,{value:"autonomous",children:"Autonomous"}),i.jsx(hn,{value:"teleop",children:"Teleop"}),i.jsx(hn,{value:"endgame",children:"Endgame"})]}),i.jsxs("div",{className:"flex-1 flex flex-col shrink-0","data-stage":t,children:[i.jsx(Dn,{value:"autonomous",className:"h-full mt-0","data-stage":"autonomous",children:i.jsx(JA,{fieldImagePath:e,stageId:"autonomous",selectedTeams:n,onStageChange:r},"autonomous")}),i.jsx(Dn,{value:"teleop",className:"h-full mt-0","data-stage":"teleop",children:i.jsx(JA,{fieldImagePath:e,stageId:"teleop",selectedTeams:n,onStageChange:r},"teleop")}),i.jsx(Dn,{value:"endgame",className:"h-full mt-0","data-stage":"endgame",children:i.jsx(JA,{fieldImagePath:e,stageId:"endgame",selectedTeams:n,onStageChange:r},"endgame")})]})]})})}),FXe=({label:e,value:t,availableTeams:n,onValueChange:r})=>{const a=["none",...n.map(String)],s=o=>o==="none"?"No team":o?`Team ${o}`:"Select team";return i.jsx(br,{label:e,value:t===null?"none":String(t),availableOptions:a,onValueChange:o=>{r(o==="none"?null:Number(o))},placeholder:"Select team",displayFormat:s})},BXe=({stats:e,activeStatsTab:t})=>{if(!e)return null;const n=Bu.phases.find(a=>a.id===t);if(!n)return null;const r=n.gridCols||3;return i.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-800",children:[i.jsxs("div",{className:"min-h-24 flex flex-col justify-start py-1",children:[i.jsx("div",{className:`grid grid-cols-${r} gap-x-2 gap-y-3 text-sm mb-1`,children:n.stats.map((a,s)=>{const o=DXe(e,a.key),l=RXe(o,a.format,a.decimals);return i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-medium text-[10px] uppercase tracking-wider text-muted-foreground mb-1",children:a.label}),i.jsx("p",{className:`text-lg font-bold ${a.color||"text-foreground"}`,children:l})]},s)})}),t==="auto"&&e.auto.startPositions&&e.auto.startPositions.length>0&&i.jsxs("div",{className:"flex flex-col items-center mt-3 pt-3 border-t border-gray-50 dark:border-gray-800/50",children:[i.jsx("p",{className:"font-medium text-[10px] uppercase tracking-wider text-muted-foreground mb-2",children:"Starting Positions:"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 justify-center",children:[e.auto.startPositions.slice(0,4).map((a,s)=>i.jsxs(Le,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-5",children:[a.position,": ",a.percentage,"%"]},s)),e.auto.startPositions.length>4&&i.jsxs(Le,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-5",children:["+",e.auto.startPositions.length-4]})]})]})]}),i.jsxs("div",{className:"text-center text-xs text-muted-foreground mt-2",children:[e.matchCount," matches played"]})]})},VXe=({alliance:e,activeStatsTab:t,selectedTeams:n,getTeamStats:r})=>{const s=e==="blue"?3:0,o=r(n[s]??null),l=r(n[s+1]??null),c=r(n[s+2]??null);let u=0,d="";t==="overall"?(u=((o==null?void 0:o.overall.avgTotalPoints)||0)+((l==null?void 0:l.overall.avgTotalPoints)||0)+((c==null?void 0:c.overall.avgTotalPoints)||0),d="Total Points"):t==="auto"?(u=((o==null?void 0:o.auto.avgPoints)||0)+((l==null?void 0:l.auto.avgPoints)||0)+((c==null?void 0:c.auto.avgPoints)||0),d="Auto Points"):t==="teleop"?(u=((o==null?void 0:o.teleop.avgPoints)||0)+((l==null?void 0:l.teleop.avgPoints)||0)+((c==null?void 0:c.teleop.avgPoints)||0),d="Teleop Points"):t==="endgame"&&(u=((o==null?void 0:o.endgame.avgPoints)||0)+((l==null?void 0:l.endgame.avgPoints)||0)+((c==null?void 0:c.endgame.avgPoints)||0),d="Endgame Points");const f=Math.round(u*10)/10;return i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("span",{className:"font-medium",children:[d,":"]})," ",f]})},uz=({alliance:e,selectedTeams:t,availableTeams:n,activeStatsTab:r,getTeamStats:a,onTeamChange:s,onTouchStart:o,onTouchEnd:l})=>{const c=e==="blue",u=c?3:0,d=c?"border-blue-200 dark:border-blue-800":"border-red-200 dark:border-red-800",f=c?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400";return i.jsx("div",{className:"flex-1",onTouchStart:o,onTouchEnd:l,children:i.jsxs("div",{className:`border rounded-lg ${d}`,children:[i.jsx("div",{className:`p-4 border-b ${d}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:`text-lg font-semibold ${f}`,children:[e==="blue"?"Blue":"Red"," Alliance"]}),i.jsx(VXe,{alliance:e,activeStatsTab:r,selectedTeams:t,getTeamStats:a})]})}),i.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3},(h,m)=>{const g=u+m,v=t[g]??null,b=a(v);return i.jsx(De,{className:"p-3",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:`text-sm font-medium ${f} min-w-0 shrink-0`,children:[e==="blue"?"Blue":"Red"," Team ",m+1,":"]}),i.jsx("div",{className:"w-full flex-1",children:i.jsx(FXe,{index:g,label:`${e==="blue"?"Blue":"Red"} Team ${m+1}`,labelColor:f,value:t[g]??null,availableTeams:n,onValueChange:x=>s(g,x)})})]}),v&&b?i.jsx(BXe,{stats:b,activeStatsTab:r}):i.jsx("div",{className:"text-center py-2 text-muted-foreground text-sm",children:v?"No data available":"No team selected"})]})},g)})})]})})},zXe=({confirmedAlliances:e,selectedBlueAlliance:t,selectedRedAlliance:n,onBlueAllianceChange:r,onRedAllianceChange:a})=>e.length===0?null:i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[i.jsx("span",{className:"text-sm font-medium",children:"Elimination Alliances:"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsx(br,{label:"Blue Alliance",value:t||"none",availableOptions:["none",...e.map(s=>s.id.toString())],onValueChange:r,placeholder:"Blue Alliance",displayFormat:s=>{if(s==="none")return"Blue Alliance";const o=e.find(l=>l.id.toString()===s);return o?`Alliance ${o.allianceNumber}`:`Alliance ${s}`},buttonDisplayFormat:s=>{if(s==="none")return"Blue Alliance";const o=e.find(l=>l.id.toString()===s);return o?`Blue Alliance: Alliance ${o.allianceNumber}`:`Blue Alliance: Alliance ${s}`},className:"w-full sm:w-40"}),i.jsx(br,{label:"Red Alliance",value:n||"none",availableOptions:["none",...e.map(s=>s.id.toString())],onValueChange:a,placeholder:"Red Alliance",displayFormat:s=>{if(s==="none")return"Red Alliance";const o=e.find(l=>l.id.toString()===s);return o?`Alliance ${o.allianceNumber}`:`Alliance ${s}`},buttonDisplayFormat:s=>{if(s==="none")return"Red Alliance";const o=e.find(l=>l.id.toString()===s);return o?`Red Alliance: Alliance ${o.allianceNumber}`:`Red Alliance: Alliance ${s}`},className:"w-full sm:w-40"})]})]})}),UXe=({selectedTeams:e,availableTeams:t,activeStatsTab:n,confirmedAlliances:r,selectedBlueAlliance:a,selectedRedAlliance:s,getTeamStats:o,onTeamChange:l,onStatsTabChange:c,onBlueAllianceChange:u,onRedAllianceChange:d})=>{const f=p.useRef(null),h=g=>{const v=g.touches[0];v&&(f.current={x:v.clientX,y:v.clientY})},m=g=>{if(!f.current)return;const v=g.changedTouches[0];if(!v)return;const b=v.clientX-f.current.x,x=v.clientY-f.current.y;if(Math.abs(b)>Math.abs(x)&&Math.abs(b)>50){_n(async()=>{const{haptics:S}=await Promise.resolve().then(()=>$je);return{haptics:S}},void 0).then(({haptics:S})=>{S.light()});const y=["overall","auto","teleop","endgame"],w=y.indexOf(n);if(w!==-1){let S;b>0?S=w>0?w-1:y.length-1:S=w<y.length-1?w+1:0;const C=y[S]??n;c(C)}}f.current=null};return i.jsxs(De,{className:"w-full",children:[i.jsxs(Ke,{children:[i.jsx(zXe,{confirmedAlliances:r,selectedBlueAlliance:a,selectedRedAlliance:s,onBlueAllianceChange:u,onRedAllianceChange:d}),i.jsx(pu,{value:n,onValueChange:c,className:"w-full",enableSwipe:!0,children:i.jsxs(gu,{className:"grid w-full grid-cols-4",children:[i.jsx(hn,{value:"overall",children:"Overall"}),i.jsx(hn,{value:"auto",children:"Auto"}),i.jsx(hn,{value:"teleop",children:"Teleop"}),i.jsx(hn,{value:"endgame",children:"Endgame"})]})})]}),i.jsx($e,{children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsx(uz,{alliance:"blue",selectedTeams:e,availableTeams:t,activeStatsTab:n,getTeamStats:o,onTeamChange:l,onTouchStart:h,onTouchEnd:m}),i.jsx("div",{className:"lg:w-px lg:bg-border lg:mx-0 lg:h-auto h-px bg-border w-full my-0 lg:my-4"}),i.jsx(uz,{alliance:"red",selectedTeams:e,availableTeams:t,activeStatsTab:n,getTeamStats:o,onTeamChange:l,onTouchStart:h,onTouchEnd:m})]})})]})},KXe=(e,t)=>{localStorage.removeItem("fieldStrategy_autonomous"),localStorage.removeItem("fieldStrategy_teleop"),localStorage.removeItem("fieldStrategy_endgame");const n=t;e(""),setTimeout(()=>{e(n)},50)},GXe=(e,t,n)=>{setTimeout(()=>{const r=localStorage.getItem("fieldStrategy_autonomous"),a=localStorage.getItem("fieldStrategy_teleop"),s=localStorage.getItem("fieldStrategy_endgame");if(!r||!a||!s){alert("Please draw on all three strategy tabs (Autonomous, Teleop, and Endgame) before saving");return}const o=document.createElement("canvas"),l=o.getContext("2d");if(!l)return;const c=new Image,u=new Image,d=new Image,f=new Image;let h=0;const m=n?4:3,g=(b,x,y,w)=>{const S=document.createElement("canvas");S.width=y,S.height=w;const C=S.getContext("2d");return C&&(C.drawImage(b,0,0,y,w),C.drawImage(x,0,0,y,w)),S},v=()=>{if(h++,h===m){let b=c.width,x=c.height;n&&f.complete&&f.naturalWidth>0&&(b=f.naturalWidth,x=f.naturalHeight);const y=b/1e3,w=Math.round(e?60*y:40*y);if(o.width=b,o.height=x*3+w,l.fillStyle="#ffffff",l.fillRect(0,0,o.width,o.height),e){l.fillStyle="#000000",l.textAlign="center";const K=Math.round(20*y);l.font=`bold ${K}px Arial`,l.fillText(`Match ${e}`,b/2,Math.round(30*y))}l.fillStyle="#000000";const S=Math.round(24*y);l.font=`bold ${S}px Arial`,l.textAlign="center";const C=(K,J,Q)=>{const G=Q+Math.round(30*y),z=Q+Math.round(40*y),U=x-Math.round(40*y);if(l.fillText(K,b/2,G),n&&f.complete&&f.naturalWidth>0){const M=g(f,J,b,U);l.drawImage(M,0,z)}else l.drawImage(J,0,z,b,U)};C("AUTONOMOUS",c,w),C("TELEOP",u,w+x),C("ENDGAME",d,w+x*2);const k=Math.round(16*y);l.font=`bold ${k}px Arial`;const N=t.slice(3,6).filter(Boolean).map(K=>K==null?void 0:K.toString()),P=t.slice(0,3).filter(Boolean).map(K=>K==null?void 0:K.toString());if(N.length>0||P.length>0){const K=Math.round(e?50*y:20*y);l.fillStyle="#0000ff",l.textAlign="left",l.fillText(`Blue: ${N.join(", ")}`,Math.round(10*y),K),l.fillStyle="#ff0000",l.textAlign="right",l.fillText(`Red: ${P.join(", ")}`,b-Math.round(10*y),K)}const E=o.toDataURL("image/png"),R=document.createElement("a");R.href=E;const O=e?`match-${e}-strategy-${new Date().toISOString().slice(0,10)}.png`:`match-strategy-complete-${new Date().toISOString().slice(0,10)}.png`;R.download=O,R.click()}};c.onload=v,u.onload=v,d.onload=v,n&&(f.onload=v,f.onerror=()=>{h++,v()},f.src=n),c.src=r,u.src=a,d.src=s},100)},WXe=()=>{const[e,t]=p.useState(Array(6).fill(null)),[n,r]=p.useState([]),[a,s]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState(""),[h,m]=p.useState(""),{teamStats:g}=OO(),v=p.useCallback(S=>S===null?null:g.find(k=>k.teamNumber===S)||null,[g]),b=p.useCallback(async S=>{if(S.trim()){l(!0);try{const C=parseInt(S.trim()),k=localStorage.getItem("matchData");if(k)try{const O=JSON.parse(k).find(K=>K.matchNum===C);if(O&&O.redAlliance&&O.blueAlliance){const K=O.redAlliance.slice(0,3),J=O.blueAlliance.slice(0,3),Q=Array(6).fill(null);for(let G=0;G<K.length&&G<3;G++)Q[G]=Number(K[G]);for(let G=0;G<J.length&&G<3;G++)Q[G+3]=Number(J[G]);t(Q),l(!1);return}}catch(R){console.error("Error parsing match data:",R)}const N=await E7(C),P=[],E=[];if(N.forEach(R=>{R.teamNumber&&(R.allianceColor==="red"?P.includes(R.teamNumber)||P.push(R.teamNumber):R.allianceColor==="blue"&&(E.includes(R.teamNumber)||E.push(R.teamNumber)))}),P.length>0||E.length>0){P.sort((O,K)=>O-K),E.sort((O,K)=>O-K);const R=Array(6).fill(null);for(let O=0;O<3;O++)R[O]=P[O]||null;for(let O=0;O<3;O++)R[O+3]=E[O]||null;t(R)}else console.log("No match entries found for match number:",S)}catch(C){console.error("Error looking up match teams:",C)}finally{l(!1)}}},[]);return p.useEffect(()=>{const S=async()=>{try{const k=await Yi(),N=[...new Set(k.map(P=>P.teamNumber).filter(Boolean))];N.sort((P,E)=>P-E),r(N)}catch(k){console.error("Error loading scouting data:",k)}},C=()=>{try{const k=localStorage.getItem("confirmedAlliances");k&&u(JSON.parse(k))}catch(k){console.error("Error loading confirmed alliances:",k)}};S(),C()},[]),p.useEffect(()=>{const S=setTimeout(()=>{a.trim()&&b(a)},500);return()=>clearTimeout(S)},[a,b]),{selectedTeams:e,availableTeams:n,matchNumber:a,isLookingUpMatch:o,confirmedAlliances:c,selectedBlueAlliance:d,selectedRedAlliance:h,getTeamStats:v,handleTeamChange:(S,C)=>{const k=[...e];k[S]=C,t(k)},applyAllianceToRed:S=>{if(m(S==="none"?"":S),S==="none")return;const C=c.find(N=>N.id.toString()===S);if(!C)return;const k=[...e];k[0]=C.captain||null,k[1]=C.pick1||null,k[2]=C.pick2||null,t(k)},applyAllianceToBlue:S=>{if(f(S==="none"?"":S),S==="none")return;const C=c.find(N=>N.id.toString()===S);if(!C)return;const k=[...e];k[3]=C.captain||null,k[4]=C.pick1||null,k[5]=C.pick2||null,t(k)},setMatchNumber:s}},qXe=e=>{const t=e.fieldImage??Xc,[n,r]=p.useState("autonomous"),[a,s]=p.useState("overall"),{selectedTeams:o,availableTeams:l,matchNumber:c,isLookingUpMatch:u,confirmedAlliances:d,selectedBlueAlliance:f,selectedRedAlliance:h,getTeamStats:m,handleTeamChange:g,applyAllianceToRed:v,applyAllianceToBlue:b,setMatchNumber:x}=WXe(),y=()=>KXe(r,n),w=()=>GXe(c,o,t);return i.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center px-4 pt-12 pb-24",children:[i.jsx("div",{className:"w-full max-w-7xl",children:i.jsx("h1",{className:"text-2xl font-bold",children:"Match Strategy"})}),i.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-7xl w-full",children:[i.jsx(PXe,{matchNumber:c,isLookingUpMatch:u,onMatchNumberChange:x,onClearAll:y,onSaveAll:w}),i.jsxs("div",{className:"flex flex-col gap-8 w-full pb-6",children:[i.jsx($Xe,{fieldImagePath:t,activeTab:n,selectedTeams:o,onTabChange:r}),i.jsx(UXe,{selectedTeams:o,availableTeams:l,activeStatsTab:a,confirmedAlliances:d,selectedBlueAlliance:f,selectedRedAlliance:h,getTeamStats:m,onTeamChange:g,onStatsTabChange:s,onBlueAllianceChange:b,onRedAllianceChange:v})]})]})]})},iie=({onExport:e,onImport:t,showAllianceSelection:n,onToggleAllianceSelection:r})=>{const a=()=>{const s=document.getElementById("import-input");s&&(s.value="",s.click())};return i.jsxs("div",{className:"flex flex-wrap gap-2 pb-4",children:[i.jsxs(Z,{onClick:r,variant:n?"default":"outline",size:"sm",children:[n?i.jsx(nD,{className:"w-4 h-4 mr-2"}):i.jsx(Xa,{className:"w-4 h-4 mr-2"}),n?"Hide Alliances":"Show Alliances"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Z,{onClick:e,variant:"outline",size:"sm",children:[i.jsx(No,{className:"w-4 h-4 mr-2"}),"Export Pick Lists"]}),i.jsx("input",{type:"file",accept:".json",onChange:t,style:{display:"none"},id:"import-input"}),i.jsxs(Z,{onClick:a,variant:"outline",size:"sm",children:[i.jsx(sm,{className:"w-4 h-4 mr-2"}),"Import Pick Lists"]})]})]})},dz=e=>{const t=e.match(/avg(\w+?)(\d+)?/i);if(t&&t[1]){const n=t[1].charAt(0).toUpperCase(),r=t[2]??"";return`${n}${r}`}return e.replace("avg","").substring(0,3)},HXe=({team:e})=>{const t=e.auto,n=e.teleop,r=e.endgame,a=t?Object.entries(t).filter(([o])=>o.startsWith("avg")&&typeof t[o]=="number").slice(0,2).map(([o,l])=>`${dz(o)}: ${l.toFixed(1)}`).join(", "):"",s=n?Object.entries(n).filter(([o])=>o.startsWith("avg")&&typeof n[o]=="number").slice(0,2).map(([o,l])=>`${dz(o)}: ${l.toFixed(1)}`).join(", "):"";return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-xs text-muted-foreground",children:[a&&i.jsxs(i.Fragment,{children:["Auto: ",a," | "]}),s&&i.jsxs(i.Fragment,{children:["Teleop: ",s]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[(r==null?void 0:r.climbRate)||0,"% climb  ",e.matchCount||0," matches"]})]})};function WO({teamNumber:e,teamStats:t,variant:n="outline",size:r="sm",className:a=""}){var m;const[s,o]=p.useState(!1),[l,c]=p.useState("overall");if(!t)return i.jsx(Z,{variant:n,size:r,className:a,disabled:!0,children:i.jsx(am,{className:"w-3 h-3"})});const u=t.auto,d=t.teleop,f=t.endgame,h=t.overall;return i.jsxs(to,{open:s,onOpenChange:o,children:[i.jsx(DC,{asChild:!0,children:i.jsx(Z,{variant:n,size:r,className:a,children:i.jsx(am,{className:"w-3 h-3"})})}),i.jsxs(no,{className:"max-w-4xl w-[calc(100vw-2rem)] h-[min(600px,90vh)] flex flex-col p-6",children:[i.jsx(Go,{className:"shrink-0 px-0",children:i.jsxs(ro,{children:["Team ",e," Detailed Stats"]})}),i.jsx("div",{className:"flex-1 min-h-0",onTouchStart:g=>g.stopPropagation(),onTouchMove:g=>g.stopPropagation(),onTouchEnd:g=>g.stopPropagation(),children:i.jsxs(pu,{value:l,onValueChange:c,enableSwipe:!0,className:"w-full h-full flex flex-col",children:[i.jsxs(gu,{className:"grid w-full grid-cols-4 shrink-0",children:[i.jsx(hn,{value:"overall",children:"Overall"}),i.jsx(hn,{value:"auto",children:"Auto"}),i.jsx(hn,{value:"teleop",children:"Teleop"}),i.jsx(hn,{value:"endgame",children:"Endgame"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-0 mt-4",children:[i.jsx(Dn,{value:"overall",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Scoring Summary"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg Total Points:"}),i.jsx("span",{className:"font-bold text-blue-600",children:(h==null?void 0:h.avgTotalPoints)||0})]}),h&&Object.entries(h).filter(([g])=>g.startsWith("avg")&&g!=="avgTotalPoints"&&g!=="avgGamePiece1"&&g!=="avgGamePiece2").map(([g,v])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[g.replace("avg","Avg ").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:typeof v=="number"?v:0})]},g)),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{className:"font-semibold",children:"Matches Played:"}),i.jsx("span",{className:"font-bold text-orange-600",children:t.matchCount})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Performance Rates"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Climb Rate:"}),i.jsxs("span",{className:"font-bold text-purple-600",children:[(f==null?void 0:f.climbRate)||0,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Mobility Rate:"}),i.jsxs("span",{className:"font-bold text-blue-600",children:[(u==null?void 0:u.mobilityRate)||0,"%"]})]})]})]})]})}),i.jsx(Dn,{value:"auto",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Auto Scoring"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg Points:"}),i.jsx("span",{className:"font-bold text-blue-600",children:(u==null?void 0:u.avgPoints)||0})]}),u&&Object.entries(u).filter(([g])=>g.startsWith("avg")&&g!=="avgPoints"&&g!=="avgGamePiece1"&&g!=="avgGamePiece2").map(([g,v])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[g.replace("avg","Avg ").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:typeof v=="number"?v:0})]},g)),i.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[i.jsx("span",{children:"Mobility Rate:"}),i.jsxs("span",{className:"font-bold text-green-600",children:[(u==null?void 0:u.mobilityRate)||0,"%"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Starting Positions"}),i.jsxs("div",{className:"space-y-2",children:[(m=u==null?void 0:u.startPositions)==null?void 0:m.map(g=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[g.position,":"]}),i.jsxs("span",{className:"font-bold",children:[g.percentage,"%"]})]},g.position)),(!(u!=null&&u.startPositions)||u.startPositions.length===0)&&i.jsx("div",{className:"text-muted-foreground",children:"No position data"})]})]})]})}),i.jsx(Dn,{value:"teleop",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Teleop Scoring"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg Points:"}),i.jsx("span",{className:"font-bold text-purple-600",children:(d==null?void 0:d.avgPoints)||0})]}),d&&Object.entries(d).filter(([g])=>g.startsWith("avg")&&g!=="avgPoints"&&g!=="avgGamePiece1"&&g!=="avgGamePiece2").map(([g,v])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:[g.replace("avg","Avg ").replace(/([A-Z])/g," $1").trim(),":"]}),i.jsx("span",{className:"font-bold",children:typeof v=="number"?v:0})]},g))]})]})}),i.jsx(Dn,{value:"endgame",className:"space-y-4 h-full mt-0",children:i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Endgame Performance"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Avg Points:"}),i.jsx("span",{className:"font-bold text-blue-600",children:(f==null?void 0:f.avgPoints)||0})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Climb Rate:"}),i.jsxs("span",{className:"font-bold text-purple-600",children:[(f==null?void 0:f.climbRate)||0,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Park Rate:"}),i.jsxs("span",{className:"font-bold text-gray-600",children:[(f==null?void 0:f.parkRate)||0,"%"]})]})]})]})})]})]})})]})]})}const fz=[{value:"teamNumber",label:"Team Number"},...Og.columns.filter(e=>e.numeric&&e.key!=="matchCount").map(e=>({value:e.key,label:e.label})),{value:"matchCount",label:"Matches Played"}];function hz(e,t){if(t==="teamNumber")return e.teamNumber;const n=t.split(".");let r=e;for(const a of n)if(r&&typeof r=="object"&&a in r)r=r[a];else{r=void 0;break}return typeof r=="number"?r:0}function YXe(e){return e==="teamNumber"}const QXe=({team:e,pickLists:t,alliances:n,onAddTeamToList:r,onAddTeamToAlliance:a})=>{const[s,o]=p.useState("none"),l=g=>{const v=t.find(b=>b.id===g);return(v==null?void 0:v.teams.some(b=>b.teamNumber===e.teamNumber))||!1},c=()=>t.filter(g=>g.teams.some(v=>v.teamNumber===e.teamNumber)),u=g=>{if(!n)return!1;const v=n.find(b=>b.id===g);return v?v.captain===e.teamNumber||v.pick1===e.teamNumber||v.pick2===e.teamNumber||v.pick3===e.teamNumber:!1},d=()=>n?n.filter(g=>!g.captain||!g.pick1||!g.pick2||!g.pick3):[],f=["none",...t.map(g=>`list-${g.id}`),...n?d().map(g=>`alliance-${g.id}`):[]],h=g=>{if(g==="none")return"Add to...";if(g.startsWith("list-")){const v=g.replace("list-",""),b=t.find(y=>y.id===Number(v));return b?l(Number(v))?` ${b.name}`:b.name:g}if(g.startsWith("alliance-")){const v=g.replace("alliance-",""),b=n==null?void 0:n.find(y=>y.id===Number(v));return b?u(Number(v))?` Alliance ${b.allianceNumber}`:`Alliance ${b.allianceNumber}`:g}return g},m=g=>{if(g!=="none"){if(g.startsWith("list-")){const v=g.replace("list-","");r(e,Number(v))}else if(g.startsWith("alliance-")&&a){const v=g.replace("alliance-","");a(e.teamNumber,Number(v))}o("none")}};return i.jsx(De,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-medium",children:["Team ",e.teamNumber]}),i.jsx(HXe,{team:e}),c().length>0&&i.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["In lists: ",c().map(g=>g.name).join(", ")]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(WO,{teamNumber:e.teamNumber,teamStats:e,className:"h-auto"}),i.jsx(br,{label:"Add Team",value:s,availableOptions:f,onValueChange:m,placeholder:"Add to...",displayFormat:h,className:"w-20"})]})]})})},ZXe=({sortBy:e,onSortChange:t})=>{const n=fz.map(s=>s.value),r=s=>{const o=fz.find(l=>l.value===s);return(o==null?void 0:o.label)||s},a=s=>{t(s)};return i.jsx(br,{label:"Sort Teams By",value:e,availableOptions:n,onValueChange:a,placeholder:"Sort by...",displayFormat:r,buttonDisplayFormat:s=>`Sort By: ${r(s)}`})},oie=({teams:e,pickLists:t,alliances:n,searchFilter:r,sortBy:a,onSearchChange:s,onSortChange:o,onAddTeamToList:l,onAddTeamToAlliance:c})=>i.jsxs(De,{className:"lg:col-span-1 max-h-screen",children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"flex items-center justify-between",children:["Available Teams",i.jsxs(Le,{variant:"secondary",children:[e.length," teams"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Qt,{placeholder:"Search teams...",value:r,onChange:u=>s(u.target.value)}),i.jsx(ZXe,{sortBy:a,onSortChange:o})]})]}),i.jsxs($e,{className:"space-y-2 max-h-10/12 overflow-y-auto",children:[e.map(u=>i.jsx(QXe,{team:u,pickLists:t,alliances:n,onAddTeamToList:l,onAddTeamToAlliance:c},u.teamNumber)),e.length===0&&i.jsx("div",{className:"flex flex-col text-center items-center justify-center py-8 text-muted-foreground",children:i.jsx("p",{children:"No teams found. Try adjusting your search or filters."})})]})]}),lie=({newListName:e,newListDescription:t,onNameChange:n,onDescriptionChange:r,onCreateList:a})=>i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Gc,{className:"w-5 h-5"}),"Create New Pick List"]})}),i.jsxs($e,{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsx(Qt,{placeholder:"List name...",value:e,onChange:s=>n(s.target.value)}),i.jsx(Qt,{placeholder:"Description (optional)...",value:t,onChange:s=>r(s.target.value)})]}),i.jsx(Z,{onClick:a,className:"w-full",children:"Create List"})]})]});function mz(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function JXe({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const a=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=p.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=p.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=p.useRef(!1);p.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,h,m]=p.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:y,top:w,width:S,height:C,bottom:k,right:N,x:P,y:E}=l.current.element.getBoundingClientRect(),R={left:y,top:w,width:S,height:C,bottom:k,right:N,x:P,y:E};l.current.element instanceof HTMLElement&&r&&(R.height=l.current.element.offsetHeight,R.width=l.current.element.offsetWidth),Object.freeze(R),d.current&&!net(l.current.lastBounds,R)&&o(l.current.lastBounds=R)};return[x,u?mz(x,u):x,c?mz(x,c):x]},[o,r,c,u]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",m,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function v(){l.current.element&&(l.current.resizeObserver=new a(m),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",m,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const b=x=>{!x||x===l.current.element||(g(),l.current.element=x,l.current.scrollContainers=cie(x),v())};return eet(m,!!t),XXe(h),p.useEffect(()=>{g(),v()},[t,m,h]),p.useEffect(()=>g,[]),[b,s,f]}function XXe(e){p.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function eet(e,t){p.useEffect(()=>{if(t){const n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[e,t])}function cie(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:a}=window.getComputedStyle(e);return[n,r,a].some(s=>s==="auto"||s==="scroll")&&t.push(e),[...t,...cie(e.parentElement)]}const tet=["x","y","top","bottom","left","right","width","height"],net=(e,t)=>tet.every(n=>e[n]===t[n]);function uie({item:e,order:t,onCompleteItem:n,onRemoveItem:r,renderExtra:a,handleDrag:s,isExpanded:o,className:l}){const[c,u]=JXe(),[d,f]=p.useState(!1),[h]=p.useState(!0),m=SOe(),g=b=>{f(!0),m.start(b,{snapToCursor:!0}),s()},v=()=>{f(!1)};return i.jsx($a.div,{className:Re("",l),children:i.jsxs("div",{className:"flex w-full items-center",children:[i.jsxs(EOe,{value:e,className:Re("relative z-auto grow","h-full rounded-xl bg-background/40 mb-1","shadow-[0px_1px_0px_0px_hsla(0,0%,100%,.03)_inset,0px_0px_0px_1px_hsla(0,0%,100%,.03)_inset,0px_0px_0px_1px_rgba(0,0,0,.1),0px_2px_2px_0px_rgba(0,0,0,.1),0px_4px_4px_0px_rgba(0,0,0,.1),0px_8px_8px_0px_rgba(0,0,0,.1)]",e.checked?"cursor-not-allowed":"cursor-grab",e.checked&&!d?"w-7/10":"w-full"),initial:{opacity:0},animate:{opacity:1,height:u.height>0?u.height:void 0,transition:{type:"spring",bounce:0,duration:.4}},exit:{opacity:0,transition:{duration:.05,type:"spring",bounce:.1}},layout:!0,layoutId:`item-${e.id}`,dragListener:!e.checked,dragControls:m,onDragEnd:v,style:o?{zIndex:9999,marginTop:10,marginBottom:10,position:"relative",overflow:"hidden"}:{position:"relative",overflow:"hidden"},whileDrag:{zIndex:9999},children:[i.jsx("div",{ref:c,className:Re("","z-20 "),children:i.jsxs($a.div,{layout:"position",className:"flex items-center justify-center ",children:[i.jsx(hd,{children:o?null:i.jsxs($a.div,{initial:{opacity:0,filter:"blur(4px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(4px)"},transition:{duration:.001},className:"flex  items-center space-x-2 ",children:[i.jsx(UX,{checked:e.checked,id:`checkbox-${e.id}`,"aria-label":"Mark to delete",onCheckedChange:()=>n(e.id),className:" ml-3 h-5 w-5 rounded-md border-white/20 data-[state=checked]:bg-black data-[state=checked]:text-red-200"}),i.jsx("p",{className:"font-mono text-xs pl-1 text-white/50",children:t+1}),i.jsx($a.div,{className:" px-1 min-w-[150px]",initial:{opacity:0,filter:"blur(4px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{bounce:.2,delay:e.checked?.2:0,type:"spring"},children:i.jsx("h4",{className:Re("tracking-tighter text-base md:text-lg ",e.checked?"text-red-400":""),children:e.text})},`${e.checked}`)]})}),a&&a(e)]})}),i.jsx("div",{onPointerDown:h?g:void 0,style:{touchAction:"none"}})]},e.id),i.jsx(hd,{mode:"popLayout",children:e.checked?i.jsx($a.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0,transition:{delay:.17,duration:.17,type:"spring",bounce:.6},zIndex:5},exit:{opacity:0,x:-5,transition:{delay:0,duration:0,type:"spring",bounce:0}},className:"-ml-[1px] h-[1.5rem] w-3 rounded-l-none  rounded-r-none border-y border-r border-border/20 dark:border-background/5 dark:border-r-background/10 bg-background/40"}):null}),i.jsx(hd,{mode:"popLayout",children:e.checked?i.jsx($a.div,{layout:!0,initial:{opacity:0,x:-5,filter:"blur(4px)"},animate:{opacity:1,x:0,filter:"blur(0px)",transition:{delay:.3,duration:.15,type:"spring",bounce:.9}},exit:{opacity:0,filter:"blur(4px)",x:-10,transition:{delay:0,duration:.12}},className:"inset-0 z-0 border-spacing-1  rounded-r-xl rounded-l-sm border-r-2   border-r-red-300/60 bg-background/40 shadow-[0_1px_0_0_rgba(255,255,255,0.03)_inset,0_0_0_1px_rgba(255,255,255,0.03)_inset,0_0_0_1px_rgba(0,0,0,0.1),0_2px_2px_0_rgba(0,0,0,0.1),0_4px_4px_0_rgba(0,0,0,0.1),0_8px_8px_0_rgba(0,0,0,0.1)]",children:i.jsx("button",{className:"inline-flex bg-background/40 h-10 items-center justify-center whitespace-nowrap rounded-md px-3 text-sm font-medium  transition-colors duration-150   focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",onClick:()=>r(e.id),children:i.jsx(Zfe,{className:"h-4 w-4 text-red-400 transition-colors duration-150 fill-red-400/60 "})})}):null})]})},e.id)}uie.displayName="SortableListItem";function die({items:e,setItems:t,onCompleteItem:n,renderItem:r}){return e?i.jsx(VRe,{children:i.jsx(NOe,{axis:"y",values:e,onReorder:t,className:"flex flex-col",children:i.jsx(hd,{children:e==null?void 0:e.map((a,s)=>r(a,s,n,o=>t(l=>l.filter(c=>c.id!==o))))})})}):null}die.displayName="SortableList";const fie=({pickList:e,availableTeams:t,alliances:n,canDelete:r,onDeleteList:a,onUpdateTeams:s,onAssignToAlliance:o})=>i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[e.name,i.jsxs(Le,{variant:"outline",children:[e.teams.length," teams"]})]}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),r&&i.jsx(Z,{onClick:()=>a(e.id),variant:"outline",size:"sm",className:"text-red-400 hover:text-red-500",children:i.jsx(Bs,{className:"w-4 h-4"})})]})}),i.jsx($e,{children:e.teams.length===0?i.jsxs("div",{className:"flex flex-col text-center items-center justify-center py-8 text-muted-foreground",children:[i.jsx("p",{children:"No teams in this list yet"}),i.jsx("p",{className:"text-sm",children:"Add teams from the available teams panel"})]}):i.jsx(die,{items:e.teams,setItems:l=>{typeof l=="function"?s(e.id,l(e.teams)):s(e.id,l)},onCompleteItem:l=>{const c=e.teams.map(u=>u.id===l?{...u,checked:!u.checked}:u);s(e.id,c)},renderItem:(l,c,u,d)=>{const f=l.teamNumber,h=t.find(m=>m.teamNumber===f);return i.jsx(uie,{item:l,order:c,onCompleteItem:u,onRemoveItem:d,handleDrag:()=>{},renderExtra:()=>i.jsxs("div",{className:"flex flex-1 justify-end px-2 py-2 gap-1",children:[i.jsx(br,{label:"Add to Alliance",value:"",availableOptions:n.map((m,g)=>`${g}`),onValueChange:m=>{m&&o(f,parseInt(m))},placeholder:"Add to Alliance",displayFormat:m=>`Alliance ${parseInt(m)+1}`,buttonDisplayFormat:m=>m?`Alliance ${parseInt(m)+1}`:"Add to Alliance",className:"h-8 w-fit"}),i.jsx(WO,{teamNumber:f,teamStats:h,variant:"ghost",size:"sm",className:"h-8"})]})},l.id)}})})]}),ret=({onInitialize:e})=>{const[t,n]=p.useState(8);return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Alliance Selection"})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{className:"font-medium",children:"Number of alliances:"}),i.jsxs(Lr,{value:t.toString(),onValueChange:r=>n(Number(r)),children:[i.jsx($r,{className:"w-20",children:i.jsx(ia,{})}),i.jsx(Fr,{children:[4,6,8,12,16].map(r=>i.jsx(at,{value:r.toString(),children:r},r))})]})]}),i.jsx(Z,{onClick:()=>e(t),children:"Initialize Alliance Selection"})]})]})},aet=({alliance:e,availableTeams:t,selectedTeams:n,onUpdateTeam:r,onRemoveTeam:a,onRemoveAlliance:s})=>i.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"font-medium text-lg",children:e.allianceNumber})}),["captain","pick1","pick2","pick3"].map(o=>{const l=e[o];return i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(br,{label:`Alliance ${e.allianceNumber} ${o}`,value:l?String(l):"none",availableOptions:["none",...t.filter(c=>!n.includes(c.teamNumber)||c.teamNumber===l).map(c=>String(c.teamNumber))],onValueChange:c=>r(e.id,o,c==="none"?null:Number(c)),placeholder:"Team",displayFormat:c=>c==="none"?"None":c,className:"w-28"}),l&&i.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>a(e.id,o),className:"h-6 w-6 p-0 shrink-0",children:i.jsx(Wa,{className:"h-3 w-3 text-red-400"})})]})},o)}),i.jsx("td",{className:"p-3",children:i.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>s(e.id),className:"text-red-400 hover:text-red-500",title:"Remove Alliance",children:i.jsx(Bs,{className:"h-4 w-4"})})})]}),set=({alliances:e,availableTeams:t,selectedTeams:n,onUpdateTeam:r,onRemoveTeam:a,onRemoveAlliance:s,onAddAlliance:o,onConfirmAlliances:l})=>i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx(Ge,{children:"Alliance Selection"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsxs(Z,{onClick:l,size:"sm",variant:"default",children:[i.jsx(Al,{className:"h-4 w-4 mr-2"}),"Confirm Alliances"]}),i.jsxs(Z,{onClick:o,size:"sm",variant:"outline",children:[i.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Add Alliance"]})]})]})}),i.jsx($e,{children:i.jsx("div",{className:"overflow-x-auto",onTouchStart:c=>c.stopPropagation(),onTouchMove:c=>c.stopPropagation(),onTouchEnd:c=>c.stopPropagation(),children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left p-3 font-semibold min-w-[100px]",children:"Alliance"}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[120px]",children:i.jsx("div",{className:"flex items-center gap-2",children:"Captain"})}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[120px]",children:i.jsx("div",{className:"flex items-center gap-2",children:"Pick 1"})}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[120px]",children:i.jsx("div",{className:"flex items-center gap-2",children:"Pick 2"})}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[120px]",children:i.jsx("div",{className:"flex items-center gap-2",children:"Pick 3"})}),i.jsx("th",{className:"text-left p-3 font-semibold min-w-[80px]",children:"Actions"})]})}),i.jsx("tbody",{children:e.map(c=>i.jsx(aet,{alliance:c,availableTeams:t,selectedTeams:n,onUpdateTeam:r,onRemoveTeam:a,onRemoveAlliance:s},c.id))})]})})})]}),iet=({backups:e,availableTeams:t,selectedTeams:n,onUpdateBackups:r})=>{const[a,s]=p.useState("placeholder"),o=()=>t.filter(m=>!n.includes(m.teamNumber)),l=m=>{if(m==="placeholder"||!m)return;const v={teamNumber:Number(m),rank:e.length+1};r([...e,v]),s("placeholder")},c=m=>{const v=e.filter(b=>b.teamNumber!==m).map((b,x)=>({...b,rank:x+1}));r(v)},u=m=>t.find(g=>g.teamNumber===m),d=()=>["placeholder",...o().map(g=>String(g.teamNumber))],f=m=>m==="placeholder"?"Select a team...":m,h=o();return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Backup Teams"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(br,{label:"Add Backup Team",value:a,availableOptions:d(),onValueChange:m=>{s(m),l(m)},placeholder:"Add backup team",displayFormat:f,className:"w-48"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.length," teams available"]})]}),e.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map(m=>{const g=u(m.teamNumber);return i.jsx(De,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"secondary",children:m.rank}),i.jsxs("span",{className:"font-medium",children:["Team ",m.teamNumber]})]})}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(WO,{teamNumber:m.teamNumber,teamStats:g,className:"h-auto"}),i.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>c(m.teamNumber),className:"text-red-400 hover:text-red-500",children:i.jsx(Bs,{className:"h-4 w-4"})})]})]})},m.teamNumber)})}),e.length===0&&i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No backup teams selected"})]})})]})},hie=({alliances:e,backups:t,availableTeams:n,onUpdateAlliances:r,onUpdateBackups:a})=>{const s=()=>{const m=[];return e.forEach(g=>{g.captain&&m.push(g.captain),g.pick1&&m.push(g.pick1),g.pick2&&m.push(g.pick2),g.pick3&&m.push(g.pick3)}),t.forEach(g=>{g.teamNumber&&m.push(g.teamNumber)}),m},o=(m,g,v)=>{const b=e.map(x=>x.id===m?{...x,[g]:v}:x);r(b)},l=(m,g)=>{o(m,g,null)},c=()=>{const m={id:Date.now(),allianceNumber:e.length+1,captain:null,pick1:null,pick2:null,pick3:null};r([...e,m])},u=m=>{if(e.length<=1){oe.error("Must have at least one alliance");return}const v=e.filter(b=>b.id!==m).map((b,x)=>({...b,allianceNumber:x+1}));r(v)},d=m=>{const g=[];for(let v=1;v<=m;v++)g.push({id:Date.now()+v,allianceNumber:v,captain:null,pick1:null,pick2:null,pick3:null});r(g)},f=()=>{const m=e.filter(g=>g.captain&&g.pick1);if(m.length===0){oe.error("No completed alliances to confirm (need at least Captain and Pick 1)");return}localStorage.setItem("confirmedAlliances",JSON.stringify(m)),oe.success(`${m.length} alliance${m.length===1?"":"s"} confirmed and saved`)},h=s();return e.length===0?i.jsx(ret,{onInitialize:d}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(set,{alliances:e,availableTeams:n,selectedTeams:h,onUpdateTeam:o,onRemoveTeam:l,onRemoveAlliance:u,onAddAlliance:c,onConfirmAlliances:f}),i.jsx(iet,{backups:t,availableTeams:n,selectedTeams:h,onUpdateBackups:a})]})},oet=({activeTab:e,showAllianceSelection:t,filteredAndSortedTeams:n,pickLists:r,alliances:a,backups:s,availableTeams:o,newListName:l,newListDescription:c,searchFilter:u,sortBy:d,canDeleteAll:f=!0,onTabChange:h,onSearchChange:m,onSortChange:g,onAddTeamToList:v,onAddTeamToAlliance:b,onUpdateAlliances:x,onUpdateBackups:y,onNameChange:w,onDescriptionChange:S,onCreateList:C,onDeleteList:k,onUpdateTeams:N,onAssignToAlliance:P,onExport:E,onImport:R,onToggleAllianceSelection:O})=>i.jsx("div",{className:"xl:hidden",children:i.jsxs(pu,{value:e,onValueChange:h,enableSwipe:!0,className:"w-full",children:[i.jsxs(gu,{className:`grid w-full ${t?"grid-cols-3":"grid-cols-2"}`,children:[i.jsx(hn,{value:"teams",children:"Available Teams"}),t&&i.jsx(hn,{value:"alliances",children:"Alliances"}),i.jsx(hn,{value:"lists",children:"Pick Lists"})]}),i.jsx("div",{className:"mt-4",children:i.jsx(iie,{onExport:E,onImport:R,showAllianceSelection:t,onToggleAllianceSelection:O})}),i.jsx(Dn,{value:"teams",children:i.jsx(oie,{teams:n,pickLists:r,alliances:a,searchFilter:u,sortBy:d,onSearchChange:m,onSortChange:g,onAddTeamToList:v,onAddTeamToAlliance:b})}),t&&i.jsx(Dn,{value:"alliances",children:i.jsx(hie,{alliances:a,backups:s,availableTeams:o,onUpdateAlliances:x,onUpdateBackups:y})}),i.jsxs(Dn,{value:"lists",className:"space-y-6",children:[i.jsx(lie,{newListName:l,newListDescription:c,onNameChange:w,onDescriptionChange:S,onCreateList:C}),r.length===0?i.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[i.jsx("div",{className:"text-muted-foreground mb-4",children:i.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),i.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No Pick Lists"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first pick list to start organizing teams for alliance selection."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"You can also import existing pick lists using the Import button above."})]}):r.map(K=>i.jsx(fie,{pickList:K,availableTeams:o,alliances:a,canDelete:f,onDeleteList:k,onUpdateTeams:N,onAssignToAlliance:P},K.id))]})]})}),cet=({showAllianceSelection:e,filteredAndSortedTeams:t,pickLists:n,alliances:r,backups:a,availableTeams:s,newListName:o,newListDescription:l,searchFilter:c,sortBy:u,canDeleteAll:d=!0,onSearchChange:f,onSortChange:h,onAddTeamToList:m,onAddTeamToAlliance:g,onUpdateAlliances:v,onUpdateBackups:b,onNameChange:x,onDescriptionChange:y,onCreateList:w,onDeleteList:S,onUpdateTeams:C,onAssignToAlliance:k})=>i.jsx("div",{className:"hidden xl:block",children:i.jsxs("div",{className:`grid gap-6 ${e?"grid-cols-3":"grid-cols-2"}`,children:[i.jsx(oie,{teams:t,pickLists:n,alliances:r,searchFilter:c,sortBy:u,onSearchChange:f,onSortChange:h,onAddTeamToList:m,onAddTeamToAlliance:g}),i.jsxs("div",{className:`space-y-6 ${e?"col-span-2":"col-span-1"}`,children:[e&&i.jsx(hie,{alliances:r,backups:a,availableTeams:s,onUpdateAlliances:v,onUpdateBackups:b}),i.jsx(lie,{newListName:o,newListDescription:l,onNameChange:x,onDescriptionChange:y,onCreateList:w}),n.length===0?i.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[i.jsx("div",{className:"text-muted-foreground mb-4",children:i.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),i.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No Pick Lists"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first pick list to start organizing teams for alliance selection."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"You can also import existing pick lists using the Import button above."})]}):n.map(N=>i.jsx(fie,{pickList:N,availableTeams:s,alliances:r,canDelete:d,onDeleteList:S,onUpdateTeams:C,onAssignToAlliance:k},N.id))]})]})}),uet=(e,t)=>t.trim()?e.filter(n=>String(n.teamNumber).toLowerCase().includes(t.toLowerCase())):e,det=(e,t)=>t.teams.some(n=>n.teamNumber===e),fet=e=>({id:Date.now()+Math.random(),text:`Team ${e}`,teamNumber:e,checked:!1}),pz=()=>Array.from({length:8},(e,t)=>({id:t+1,allianceNumber:t+1,captain:null,pick1:null,pick2:null,pick3:null})),gz=()=>({id:1,name:"Primary Pick List",description:"Main alliance selection priority",teams:[]}),het=e=>{const{teamStats:t,isLoading:n}=OO(e),[r,a]=p.useState([]),[s,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(""),[f,h]=p.useState(""),[m,g]=p.useState(""),[v,b]=p.useState("teamNumber"),[x,y]=p.useState("teams"),[w,S]=p.useState(!0),[C,k]=p.useState(!1);p.useEffect(()=>{const M=localStorage.getItem("pickLists");if(M)try{a(JSON.parse(M))}catch{a([gz()])}else a([gz()]);k(!0)},[]),p.useEffect(()=>{C&&localStorage.setItem("pickLists",JSON.stringify(r))},[r,C]),p.useEffect(()=>{const M=localStorage.getItem("alliances");if(M)try{o(JSON.parse(M))}catch{o(pz())}else o(pz())},[]),p.useEffect(()=>{s.length>0&&localStorage.setItem("alliances",JSON.stringify(s))},[s]),p.useEffect(()=>{const M=localStorage.getItem("backups");if(M)try{c(JSON.parse(M))}catch{c([])}},[]),p.useEffect(()=>{l.length>0&&localStorage.setItem("backups",JSON.stringify(l))},[l]);const N=p.useCallback((M,$)=>{const B=YXe($);return[...M].sort((te,q)=>{if(!B){if(te.matchCount===0&&q.matchCount>0)return 1;if(q.matchCount===0&&te.matchCount>0)return-1;if(te.matchCount===0&&q.matchCount===0)return te.teamNumber-q.teamNumber}const ae=hz(te,$),he=hz(q,$);return B?ae-he:he-ae})},[]),P=p.useMemo(()=>N(uet(t,m),v),[t,m,v,N]),E=p.useCallback((M,$)=>{const B=M.teamNumber,te=r.find(ae=>ae.id===$);if(te&&det(B,te)){oe.error(`Team ${B} is already in ${te.name}`);return}const q=fet(B);a(ae=>ae.map(he=>he.id===$?{...he,teams:[...he.teams,q]}:he)),oe.success(`Team ${B} added to ${(te==null?void 0:te.name)||"list"}`)},[r]),R=p.useCallback(()=>{if(!u.trim()){oe.error("Please enter a list name");return}const M={id:Date.now(),name:u.trim(),description:f.trim(),teams:[]};a($=>[...$,M]),d(""),h(""),oe.success("New pick list created")},[u,f]),O=p.useCallback(M=>{a($=>$.filter(B=>B.id!==M)),oe.success("Pick list deleted")},[]),K=p.useCallback((M,$)=>{a(B=>B.map(te=>te.id===M?{...te,teams:$}:te))},[]),J=p.useCallback(()=>{const M=JSON.stringify(r,null,2),$="data:application/json;charset=utf-8,"+encodeURIComponent(M),B=document.createElement("a");B.setAttribute("href",$),B.setAttribute("download","pick-lists.json"),B.click(),oe.success("Pick lists exported")},[r]),Q=p.useCallback(M=>{var te;const $=(te=M.target.files)==null?void 0:te[0];if(!$)return;const B=new FileReader;B.onload=q=>{var ae;try{const he=(ae=q.target)==null?void 0:ae.result;if(!he){oe.error("Error reading file");return}const je=JSON.parse(he);if(!Array.isArray(je)){oe.error("Invalid file format");return}const Ee=je.filter(ne=>typeof ne=="object"&&ne!==null&&"id"in ne&&"name"in ne&&"teams"in ne&&Array.isArray(ne.teams));if(Ee.length===0){oe.error("No valid pick lists found");return}const me=Math.max(0,...r.map(ne=>ne.id)),Ve=Ee.map((ne,ke)=>({...ne,id:me+ke+1}));a(Ve),oe.success(`${Ee.length} pick lists imported`),M.target.value=""}catch{oe.error("Error importing pick lists"),M.target.value=""}},B.readAsText($)},[r]),G=p.useCallback((M,$)=>{const B=s.find(ae=>ae.id===$);if(!B)return;let te=null;if(B.captain?B.pick1?B.pick2?B.pick3||(te="pick3"):te="pick2":te="pick1":te="captain",!te){oe.error(`Alliance ${B.allianceNumber} is full`);return}o(ae=>ae.map(he=>he.id===$?{...he,[te]:M}:he));const q={captain:"Captain",pick1:"Pick 1",pick2:"Pick 2",pick3:"Pick 3"};oe.success(`Team ${M} assigned as ${q[te]} of Alliance ${B.allianceNumber}`)},[s]),z=p.useCallback((M,$)=>{const B=s[$];if(!B)return;let te=null;if(B.captain?B.pick1?B.pick2?B.pick3||(te="pick3"):te="pick2":te="pick1":te="captain",!te){oe.error(`Alliance ${B.allianceNumber} is full`);return}o(ae=>ae.map((he,je)=>je===$?{...he,[te]:M}:he)),a(ae=>ae.map(he=>({...he,teams:he.teams.filter(je=>je.teamNumber!==M)})));const q={captain:"Captain",pick1:"Pick 1",pick2:"Pick 2",pick3:"Pick 3"};oe.success(`Team ${M} added to Alliance ${B.allianceNumber} as ${q[te]}`)},[s]),U=p.useCallback(()=>{const M=!w;S(M),!M&&x==="alliances"&&y("teams")},[w,x]);return{availableTeams:t,filteredAndSortedTeams:P,pickLists:r,alliances:s,backups:l,isLoading:n,newListName:u,newListDescription:f,searchFilter:m,sortBy:v,activeTab:x,showAllianceSelection:w,setNewListName:d,setNewListDescription:h,setSearchFilter:g,setSortBy:b,setActiveTab:y,setAlliances:o,setBackups:c,addTeamToList:E,createNewList:R,deleteList:O,updateListTeams:K,exportPickLists:J,importPickLists:Q,addTeamToAlliance:G,assignToAllianceAndRemove:z,handleToggleAllianceSelection:U}},met=()=>{const{pickLists:e,alliances:t,backups:n,availableTeams:r,newListName:a,newListDescription:s,searchFilter:o,sortBy:l,activeTab:c,showAllianceSelection:u,filteredAndSortedTeams:d,setNewListName:f,setNewListDescription:h,setSearchFilter:m,setSortBy:g,setActiveTab:v,setAlliances:b,setBackups:x,addTeamToList:y,createNewList:w,deleteList:S,updateListTeams:C,exportPickLists:k,importPickLists:N,addTeamToAlliance:P,assignToAllianceAndRemove:E,handleToggleAllianceSelection:R}=het();return i.jsx("div",{className:"min-h-screen w-full flex flex-col px-4 pt-12 pb-24",children:i.jsxs("div",{className:"flex flex-col max-w-7xl w-full mx-auto flex-1 pb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Pick Lists"}),i.jsx("p",{className:"text-muted-foreground pb-2",children:"Create and manage alliance selection pick lists"}),i.jsx("div",{className:"hidden xl:block",children:i.jsx(iie,{onExport:k,onImport:N,showAllianceSelection:u,onToggleAllianceSelection:R})}),i.jsx(oet,{activeTab:c,showAllianceSelection:u,filteredAndSortedTeams:d,pickLists:e,alliances:t,backups:n,availableTeams:r,newListName:a,newListDescription:s,searchFilter:o,sortBy:l,onTabChange:v,onSearchChange:m,onSortChange:g,onAddTeamToList:y,onAddTeamToAlliance:u?P:void 0,onUpdateAlliances:b,onUpdateBackups:x,onNameChange:f,onDescriptionChange:h,onCreateList:w,onDeleteList:S,onUpdateTeams:C,onAssignToAlliance:E,onExport:k,onImport:N,onToggleAllianceSelection:R}),i.jsx(cet,{showAllianceSelection:u,filteredAndSortedTeams:d,pickLists:e,alliances:t,backups:n,availableTeams:r,newListName:a,newListDescription:s,searchFilter:o,sortBy:l,onSearchChange:m,onSortChange:g,onAddTeamToList:y,onAddTeamToAlliance:u?P:void 0,onUpdateAlliances:b,onUpdateBackups:x,onNameChange:f,onDescriptionChange:h,onCreateList:w,onDeleteList:S,onUpdateTeams:C,onAssignToAlliance:E})]})})},pet=()=>{const{currentScout:e,isLoading:t,refreshScout:n}=oj(),[r,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState(0);p.useEffect(()=>{(async()=>{try{const f=await ex();a(f)}catch(f){console.error("Error loading scouts:",f)}finally{o(!1)}})()},[]),p.useEffect(()=>{(async()=>{if(e!=null&&e.name)try{const f=await Od(e.name);c(f.totalStakesFromAchievements)}catch(f){console.error("Error loading achievement stakes:",f),c(0)}else c(0)})()},[e==null?void 0:e.name]);const u=d=>{localStorage.setItem("currentScout",d),window.dispatchEvent(new Event("scoutChanged"))};return t||s?i.jsx(De,{className:"w-full max-w-md",children:i.jsx($e,{className:"flex items-center justify-center p-6",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):i.jsxs(De,{className:"w-full max-w-md",children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5 text-blue-500"}),"Scout Selection"]}),i.jsx(Fn,{children:"Select a scout to view their stats and achievements"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Select Scout:"}),i.jsx(br,{label:"Select Scout",value:(e==null?void 0:e.name)||"",availableOptions:r.map(d=>d.name),onValueChange:u,placeholder:r.length>0?"Choose a scout...":"No scouts available",displayFormat:d=>d,className:"w-full"})]}),e?i.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-semibold text-lg",children:e.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scouting Game Stats"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.jsxs("div",{className:"col-span-2 text-center p-4 bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg border-2 border-purple-200 dark:border-purple-700",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Mv,{className:"h-5 w-5 text-purple-500"}),i.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:"Total Stakes"})]}),i.jsx("span",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:e.stakes+l})]})}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"col-span-2 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(mr,{className:"h-4 w-4 text-yellow-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Prediction Stakes"})]}),i.jsx("span",{className:"text-xl font-bold",children:e.stakes})]}),i.jsxs("div",{className:"col-span-2 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Fh,{className:"h-4 w-4 text-emerald-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Achievement Stakes"})]}),i.jsx("span",{className:"text-xl font-bold",children:l})]})]}),i.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[i.jsxs("div",{className:"col-span-3 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Ed,{className:"h-4 w-4 text-blue-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Predictions"})]}),i.jsx("span",{className:"text-lg font-bold",children:e.totalPredictions})]}),i.jsxs("div",{className:"col-span-3 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Td,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Accuracy"})]}),i.jsxs("span",{className:"text-lg font-bold",children:[e?Qm(e):0,"%"]})]}),i.jsxs("div",{className:"col-span-3 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Ide,{className:"h-4 w-4 text-orange-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Current Streak"})]}),i.jsx("span",{className:"text-lg font-bold",children:e.currentStreak})]}),i.jsxs("div",{className:"col-span-3 text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Fh,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-xs font-medium",children:"Best Streak"})]}),i.jsx("span",{className:"text-lg font-bold",children:e.longestStreak})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs(Le,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(Fh,{className:"h-3 w-3"}),"Correct: ",e.correctPredictions]}),i.jsx(Z,{onClick:n,variant:"ghost",size:"sm",className:"h-8 px-2",children:"Refresh"})]})]}):i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(Uw,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Select a scout to view their stats"})]})]})]})},get=({scoutName:e,onViewAll:t,onDataRefresh:n})=>{const[r,a]=p.useState(null),[s,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(!1),f=async()=>{d(!0);try{await kR();const[h,m]=await Promise.all([Od(e),IF(e,2)]);a(h),o(m),n&&n()}catch(h){console.error(" Error during achievement backfill:",h)}finally{d(!1)}};return p.useEffect(()=>{(async()=>{if(e){c(!0);try{const[m,g]=await Promise.all([Od(e),IF(e,2)]);a(m),o(g)}catch(m){console.error("Error loading achievement overview:",m)}finally{c(!1)}}})()},[e]),l||!r?i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(mr,{className:"h-5 w-5"}),"Achievements"]})}),i.jsx($e,{children:i.jsx("div",{className:"flex items-center justify-center h-24",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})})})]}):i.jsxs(De,{className:"h-full",children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(mr,{className:"h-5 w-5"}),"Achievements"]}),t&&i.jsxs(Z,{variant:"ghost",size:"sm",onClick:t,children:["View All ",i.jsx(Oy,{className:"h-4 w-4 ml-1"})]})]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.unlockedCount}),i.jsx("div",{className:"text-xs text-gray-500",children:"Unlocked"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.completionPercentage,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Complete"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:["+",r.totalStakesFromAchievements]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Stakes"})]})]}),r.recentAchievements.length>0&&r.recentAchievements[0]&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1",children:[i.jsx(Mv,{className:"h-4 w-4"}),"Recent Achievement"]}),(()=>{const h=r.recentAchievements[0];return h?i.jsx("div",{className:"p-3 rounded-lg bg-linear-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 border border-yellow-200 dark:border-yellow-800",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:h.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-sm",children:h.name}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:h.description})]}),i.jsx(Le,{variant:"secondary",className:`text-xs ${NR[h.tier].textColor}`,children:h.tier})]})}):null})()]}),s.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1",children:[i.jsx(Ed,{className:"h-4 w-4"}),"Next Goals"]}),i.jsx("div",{className:"space-y-2",children:s.map(h=>i.jsx("div",{className:"p-2 rounded bg-gray-50 dark:bg-gray-800 border",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:h.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm truncate",children:h.name}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:h.description}),h.progress>0&&i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(op,{value:h.progress,className:"flex-1 h-1.5"}),i.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(h.progress),"%"]})]})]}),i.jsxs(Le,{variant:"outline",className:"text-xs",children:["+",h.stakesReward]})]})},h.id))})]}),i.jsx("div",{className:"pt-2",children:i.jsxs(Z,{variant:"outline",size:"sm",onClick:f,disabled:u,className:"w-full flex items-center justify-center gap-2",children:[i.jsx(Ul,{className:`h-4 w-4 ${u?"animate-spin":""}`}),u?"Checking Achievements...":"Check Achievements"]})}),r.unlockedCount===0&&s.length===0&&i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(mr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Start making predictions to unlock achievements!"})]})]})]})};function vet({chartType:e,chartData:t,lineChartData:n,scouts:r,chartMetric:a,selectedMetricLabel:s}){const o={value:{label:s,color:"hsl(210, 70%, 50%)"}};return e==="bar"?i.jsx(NS,{config:o,className:"h-[400px] w-full aspect-auto!",children:i.jsx("div",{className:"relative h-full w-full min-h-0 min-w-0",children:i.jsx("div",{className:"absolute inset-0",children:i.jsx(t6,{width:"100%",height:"100%",children:i.jsxs(zT,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(yd,{strokeDasharray:"3 3"}),i.jsx(xd,{dataKey:"name",tick:{fontSize:12},angle:-45,textAnchor:"end",height:80}),i.jsx(bd,{tick:{fontSize:12}}),i.jsx(fv,{content:({active:l,payload:c})=>{if(l&&c&&c.length){const u=c[0].payload,d=u.scout,f=Qm(d);return i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border rounded shadow-lg",children:[i.jsx("p",{className:"font-semibold",children:d.name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s,": ",u.value,a==="accuracy"?"%":""]}),i.jsxs("div",{className:"mt-2 text-xs space-y-1",children:[i.jsxs("p",{children:["Stakes: ",d.stakes]}),i.jsxs("p",{children:["Predictions: ",d.totalPredictions]}),i.jsxs("p",{children:["Accuracy: ",f,"%"]}),i.jsxs("p",{children:["Current Streak: ",d.currentStreak]}),i.jsxs("p",{children:["Best Streak: ",d.longestStreak]})]})]})}return null}}),i.jsx(Th,{dataKey:"value",fill:"var(--color-value)",radius:[4,4,0,0],children:t.map((l,c)=>i.jsx(Rm,{fill:`hsl(${210+c*15}, 70%, 50%)`},`cell-${c}`))})]})})})})}):i.jsx(NS,{config:o,className:"h-[400px] w-full aspect-auto!",children:i.jsx("div",{className:"relative h-full w-full min-h-0 min-w-0",children:i.jsx("div",{className:"absolute inset-0",children:i.jsx(t6,{width:"100%",height:"100%",children:i.jsxs(kse,{data:n,margin:{top:50,right:30,left:20,bottom:40},children:[i.jsx(yd,{strokeDasharray:"3 3"}),i.jsx(xd,{dataKey:"matchNumber",tick:{fontSize:12},label:{value:"Match Number",position:"insideBottom",offset:-5}}),i.jsx(bd,{tick:{fontSize:12}}),i.jsx(fv,{content:({active:l,payload:c,label:u})=>l&&c&&c.length?i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border rounded shadow-lg",children:[i.jsxs("p",{className:"font-semibold",children:["Match ",u]}),c.map((d,f)=>i.jsxs("p",{className:"text-sm",style:{color:d.color},children:[d.dataKey,": ",d.value,a==="accuracy"?"%":""]},f))]}):null}),i.jsx(qte,{verticalAlign:"top",height:36,wrapperStyle:{paddingBottom:"10px"}}),r.slice(0,6).map((l,c)=>i.jsx(bS,{type:"monotone",dataKey:l.name,stroke:`hsl(${210+c*50}, 70%, 50%)`,strokeWidth:2,dot:{r:3},connectNulls:!1},l.name))]})})})})})}function yet({chartData:e,chartMetric:t,selectedMetricLabel:n}){return i.jsx("div",{className:"w-full overflow-x-auto",children:i.jsxs(Wse,{children:[i.jsx(qse,{children:i.jsxs(_h,{children:[i.jsx(ho,{className:"w-8",children:"#"}),i.jsx(ho,{className:"min-w-24",children:"Scout Name"}),i.jsx(ho,{className:"text-right min-w-16 font-bold",children:n}),t!=="stakes"&&t!=="totalStakes"&&i.jsx(ho,{className:"text-right min-w-16",children:"Stakes"}),t!=="totalPredictions"&&i.jsx(ho,{className:"text-right min-w-20",children:"Predictions"}),t!=="correctPredictions"&&i.jsx(ho,{className:"text-right min-w-16",children:"Correct"}),t!=="accuracy"&&i.jsx(ho,{className:"text-right min-w-16",children:"Accuracy"}),t!=="currentStreak"&&i.jsx(ho,{className:"text-right min-w-20",children:"Current Streak"}),t!=="longestStreak"&&i.jsx(ho,{className:"text-right min-w-20",children:"Best Streak"})]})}),i.jsx(Hse,{children:e.map((r,a)=>{const s=r.scout,o=Qm(s);return i.jsxs(_h,{children:[i.jsx(ri,{className:"font-medium",children:i.jsx(Le,{variant:a>=3?"secondary":"default",className:a===0?"bg-yellow-500 text-white hover:bg-yellow-600":a===1?"bg-gray-400 text-black hover:bg-gray-500":a===2?"bg-amber-600 text-white hover:bg-amber-700":"",children:a+1})}),i.jsx(ri,{className:"font-medium",children:s.name}),i.jsx(ri,{className:"text-right font-bold text-primary",children:t==="accuracy"?`${r.value}%`:r.value}),t!=="stakes"&&t!=="totalStakes"&&i.jsx(ri,{className:"text-right",children:s.stakes}),t!=="totalPredictions"&&i.jsx(ri,{className:"text-right",children:s.totalPredictions}),t!=="correctPredictions"&&i.jsx(ri,{className:"text-right",children:s.correctPredictions}),t!=="accuracy"&&i.jsx(ri,{className:"text-right",children:i.jsxs("span",{className:o>=70?"text-green-600 dark:text-green-400":o>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",children:[o,"%"]})}),t!=="currentStreak"&&i.jsx(ri,{className:"text-right",children:s.currentStreak}),t!=="longestStreak"&&i.jsx(ri,{className:"text-right",children:s.longestStreak})]},s.name)})})]})})}const xet={Trophy:mr,Target:Ed,TrendingUp:Td,Award:Fh};function bet({loading:e,chartData:t,lineChartData:n,scouts:r,chartMetric:a,setChartMetric:s,chartType:o,setChartType:l,metricOptions:c}){const u=c.find(f=>f.key===a),d=u!=null&&u.icon?xet[u.icon]:mr;return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex flex-col w-full justify-between md:flex-row items-start md:items-center gap-4",children:[i.jsxs("div",{className:"flex flex-col w-full",children:[i.jsxs(Ge,{className:"flex items-start gap-2 pb-2",children:[i.jsx(d,{className:"h-5 w-5"}),"Scout ",o==="table"?"Statistics":"Leaderboard"]}),i.jsx(Fn,{className:"px-4",children:o==="table"?`Detailed scout statistics sorted by ${u==null?void 0:u.label.toLowerCase()}`:`Top performing scouts by ${u==null?void 0:u.label.toLowerCase()}`})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-end gap-2 w-full",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"whitespace-nowrap",children:"Metric:"}),i.jsx(br,{label:"Select Metric",value:a,availableOptions:c.map(f=>f.key),onValueChange:f=>s(f),placeholder:"Select metric",displayFormat:f=>{var h;return((h=c.find(m=>m.key===f))==null?void 0:h.label)||f},className:"w-auto max-w-40"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"whitespace-nowrap",children:"View:"}),i.jsx(br,{label:"Select View Type",value:o,availableOptions:["bar","line","table"],onValueChange:f=>l(f),placeholder:"Select view type",displayFormat:f=>{switch(f){case"bar":return"Bar Chart";case"line":return"Line Chart";case"table":return"Table";default:return f}},className:"w-auto max-w-32"})]})]})]})}),i.jsx($e,{children:e?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading scout data..."})]})}):t.length===0?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(mr,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No scout data available"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Create scouts and make predictions to see the leaderboard"})]})}):i.jsx(i.Fragment,{children:o==="table"?i.jsx(yet,{chartData:t,chartMetric:a,selectedMetricLabel:(u==null?void 0:u.label)||"Value"}):i.jsx(vet,{chartType:o,chartData:t,lineChartData:n,scouts:r,chartMetric:a,selectedMetricLabel:(u==null?void 0:u.label)||"Value"})})})]})}function wet({scouts:e}){const t=e.reduce((a,s)=>a+s.totalPredictions,0),n=e.reduce((a,s)=>a+s.stakes,0),r=e.length>0?Math.round(e.reduce((a,s)=>a+Qm(s),0)/e.length):0;return i.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(De,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ge,{className:"text-sm font-medium",children:"Total Scouts"}),i.jsx(Ofe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx($e,{children:i.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),i.jsxs(De,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ge,{className:"text-sm font-medium",children:"Total Predictions"}),i.jsx(Xfe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx($e,{children:i.jsx("div",{className:"text-2xl font-bold",children:t})})]}),i.jsxs(De,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ge,{className:"text-sm font-medium",children:"Total Stakes"}),i.jsx(Fh,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx($e,{children:i.jsx("div",{className:"text-2xl font-bold",children:n})})]}),i.jsxs(De,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ge,{className:"text-sm font-medium",children:"Avg Accuracy"}),i.jsx(Ed,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx($e,{children:i.jsxs("div",{className:"text-2xl font-bold",children:[r,"%"]})})]})]})}function Cet(){const[e,t]=p.useState([]),[n,r]=p.useState({}),[a,s]=p.useState(!0),[o,l]=p.useState("totalStakes"),[c,u]=p.useState("bar"),d=[{key:"totalStakes",label:"Total Stakes",icon:"Trophy"},{key:"stakes",label:"Prediction Stakes",icon:"Trophy"},{key:"totalPredictions",label:"Total Predictions",icon:"Target"},{key:"correctPredictions",label:"Correct Predictions",icon:"Award"},{key:"accuracy",label:"Accuracy %",icon:"TrendingUp"},{key:"currentStreak",label:"Current Streak",icon:"TrendingUp"},{key:"longestStreak",label:"Best Streak",icon:"Award"}],f=async()=>{s(!0);try{const g=await ex();t(g);const v={};for(const b of g)try{const x=await Od(b.name);v[b.name]=x.totalStakesFromAchievements}catch(x){console.error(`Error loading achievement stats for ${b.name}: `,x),v[b.name]=0}r(v),$h.trackEvent("scout_dashboard_loaded",{scoutCount:g.length})}catch(g){console.error(" Error loading scout data:",g)}finally{s(!1)}};p.useEffect(()=>{f()},[]);const h=p.useMemo(()=>e.map(g=>{let v;switch(o){case"accuracy":v=Qm(g);break;case"totalStakes":{const b=g.stakes,x=n[g.name]||0;v=b+x,g.name==="Riley Davis"&&console.log(" Riley Davis Stakes Debug: ",{predictionStakes:b,achievementStakesValue:x,totalValue:v,achievementStakesObject:n});break}default:v=g[o]}return{name:g.name,value:v,scout:g}}).sort((g,v)=>v.value-g.value).slice(0,12),[e,o,n]),m=p.useMemo(()=>{if(c!=="line"||e.length===0)return[];const g=Math.max(...e.map(b=>b.totalPredictions)),v=[];for(let b=1;b<=Math.min(g,20);b++){const x={matchNumber:b};e.slice(0,6).forEach(y=>{if(y.totalPredictions>=b){let w;switch(o){case"accuracy":w=Math.min(100,y.correctPredictions/b*100);break;case"stakes":w=Math.floor(y.stakes/y.totalPredictions*b);break;case"totalStakes":{const S=Math.floor(y.stakes/y.totalPredictions*b),C=n[y.name]||0;w=S+C;break}case"currentStreak":w=b===y.totalPredictions?y.currentStreak:0;break;case"longestStreak":w=Math.floor(y.longestStreak/y.totalPredictions*b);break;default:w=Math.floor(y[o]/y.totalPredictions*b)}x[y.name]=w}}),v.push(x)}return v},[e,o,c,n]);return{scouts:e,achievementStakes:n,loading:a,chartMetric:o,setChartMetric:l,chartType:c,setChartType:u,metricOptions:d,chartData:h,lineChartData:m,loadScoutData:f}}const jet=()=>{const{currentScout:e}=oj(),t=zo(),{scouts:n,loading:r,chartMetric:a,setChartMetric:s,chartType:o,setChartType:l,metricOptions:c,chartData:u,lineChartData:d,loadScoutData:f}=Cet();return i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6",children:[i.jsx("div",{className:"text-start space-y-2",children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Scout Management Dashboard"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitor scout performance and leaderboards"})]})})}),i.jsx(bet,{loading:r,chartData:u,lineChartData:d,scouts:n,chartMetric:a,setChartMetric:s,chartType:o,setChartType:l,metricOptions:c}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-6",children:[i.jsx("div",{className:"lg:col-span-2 flex justify-center lg:justify-start",children:i.jsx(pet,{})}),i.jsx("div",{className:"lg:col-span-2",children:e?i.jsx(get,{scoutName:e.name,onViewAll:()=>t("/achievements"),onDataRefresh:f}):i.jsxs(De,{className:"h-full",children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(mr,{className:"h-5 w-5"}),"Achievements"]})}),i.jsx($e,{children:i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(mr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Select a scout to view achievements"})]})})]})}),i.jsx(wet,{scouts:n})]})]})},_u=({achievement:e,isUnlocked:t,progress:n=0,unlockedAt:r,showProgress:a=!0})=>{const s=NR[e.tier];return i.jsxs(De,{className:`relative transition-all duration-200 hover:shadow-md ${t?`${s.bgColor} ${s.borderColor} border-2`:"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700"}`,children:[i.jsx(Ke,{className:"pb-2",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`text-2xl p-2 rounded-full ${t?s.bgColor:"bg-gray-200 dark:bg-gray-800"}`,children:t?e.icon:i.jsx(I4,{className:"h-5 w-5 text-gray-400"})}),i.jsxs("div",{children:[i.jsx(Ge,{className:`text-lg ${t?s.textColor:"text-gray-400 dark:text-gray-500"}`,children:e.name}),i.jsx(Le,{variant:"secondary",className:`text-xs mt-1 ${t?s.textColor:"text-gray-400"}`,style:{backgroundColor:t?s.color+"20":void 0,borderColor:t?s.color:void 0},children:e.tier.toUpperCase()})]})]}),t&&i.jsxs("div",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400",children:[i.jsx(mr,{className:"h-4 w-4"}),i.jsxs("span",{className:"text-sm font-medium",children:["+",e.stakesReward]})]})]})}),i.jsxs($e,{className:"pt-0",children:[i.jsx("p",{className:`text-sm mb-3 ${t?"text-gray-700 dark:text-gray-300":"text-gray-500 dark:text-gray-400"}`,children:e.description}),!t&&a&&n>0&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[Math.round(n),"%"]})]}),i.jsx(op,{value:n,className:"h-2"})]}),t&&r&&i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Unlocked ",new Date(r).toLocaleDateString()]}),!t&&n===0&&i.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs",children:[i.jsx(I4,{className:"h-3 w-3"}),i.jsx("span",{children:"Not started"})]})]})]})},Net=({scoutName:e})=>{const[t,n]=p.useState([]),[r,a]=p.useState([]),[s,o]=p.useState(null),[l,c]=p.useState(!0),[u,d]=p.useState(!1),[f,h]=p.useState("all"),m=async()=>{d(!0);try{await kR();const S=await qv(e),C=await Od(e);n(S.unlocked),a(S.available),o(C)}catch(S){console.error(" Error during achievement backfill:",S)}finally{d(!1)}};p.useEffect(()=>{(async()=>{if(e){c(!0);try{const C=await qv(e),k=await Od(e);n(C.unlocked),a(C.available),o(k)}catch(C){console.error("Error loading achievements:",C)}finally{c(!1)}}})()},[e]);const g=S=>{switch(S){case"accuracy":return Ed;case"volume":return mr;case"streaks":return whe;case"special":return Mv;case"social":return Xa;case"time":return jc;case"improvement":return Td;default:return mr}},v=S=>{switch(S){case"accuracy":return"Accuracy";case"volume":return"Volume";case"streaks":return"Streaks";case"special":return"Special";case"social":return"Social";case"time":return"Time";case"improvement":return"Improvement";default:return S}};if(l)return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(mr,{className:"h-5 w-5"}),"Achievements"]})}),i.jsx($e,{children:i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})]});const b=xCe(Uh),x={},y={},w=S=>{switch(S){case"bronze":return 1;case"silver":return 2;case"gold":return 3;case"platinum":return 4;case"legendary":return 5;default:return 6}};return r.forEach(S=>{const C=S.category;x[C]||(x[C]=[]);const k=x[C];k&&k.push(S)}),t.forEach(S=>{const C=S.category;y[C]||(y[C]=[]);const k=y[C];k&&k.push(S)}),Object.keys(x).forEach(S=>{const C=x[S];C&&C.sort((k,N)=>{const P=w(k.tier)-w(N.tier);return P!==0?P:k.requirements.value-N.requirements.value})}),Object.keys(y).forEach(S=>{const C=y[S];C&&C.sort((k,N)=>{const P=w(k.tier)-w(N.tier);return P!==0?P:k.requirements.value-N.requirements.value})}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(mr,{className:"h-5 w-5"}),"Achievements"]}),s&&i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs(Le,{variant:"secondary",className:"text-xs",children:[s.unlockedCount,"/",s.totalAchievements," Unlocked"]}),i.jsxs(Le,{variant:"secondary",className:"text-xs",children:[s.completionPercentage,"% Complete"]}),i.jsxs(Le,{variant:"secondary",className:"text-xs text-yellow-600",children:["+",s.totalStakesFromAchievements," Stakes"]})]}),i.jsx("div",{className:"lg:shrink-0",children:i.jsxs(Z,{variant:"outline",size:"sm",onClick:m,disabled:u,className:"w-full lg:w-auto flex items-center justify-center gap-2",children:[i.jsx(Ul,{className:`h-4 w-4 ${u?"animate-spin":""}`}),u?"Checking...":"Check Achievements"]})})]})]})}),i.jsx($e,{children:i.jsxs(pu,{value:f,onValueChange:h,className:"w-full",enableSwipe:!0,children:[i.jsxs(gu,{className:"grid w-full grid-cols-4 lg:grid-cols-8 mb-6",children:[i.jsx(hn,{value:"all",children:"All"}),i.jsx(hn,{value:"unlocked",children:"Unlocked"}),i.jsx(hn,{value:"progress",children:"In Progress"}),i.jsx(hn,{value:"recent",children:"Recent"}),Object.keys(b).slice(0,4).map(S=>i.jsx(hn,{value:S,className:"hidden lg:flex",children:v(S)},S))]}),i.jsx(Dn,{value:"all",className:"space-y-4",children:Object.entries(b).map(([S,C])=>{const k=g(S),N=y[S]||[],P=x[S]||[];return N.length===0&&P.length===0?null:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(k,{className:"h-5 w-5"}),v(S),i.jsxs(Le,{variant:"outline",className:"text-xs",children:[N.length,"/",C.length]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[N.map(E=>i.jsx(_u,{achievement:E,isUnlocked:!0,unlockedAt:E.unlockedAt,showProgress:!1},E.id)),P.map(E=>i.jsx(_u,{achievement:E,isUnlocked:!1,progress:E.progress},E.id))]})]},S)})}),i.jsx(Dn,{value:"unlocked",className:"space-y-4",children:t.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(mr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No achievements unlocked yet"}),i.jsx("p",{className:"text-sm",children:"Start making predictions to earn your first achievement!"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.sort((S,C)=>{const k=w(S.tier)-w(C.tier);return k!==0?k:S.requirements.value-C.requirements.value}).map(S=>i.jsx(_u,{achievement:S,isUnlocked:!0,unlockedAt:S.unlockedAt,showProgress:!1},S.id))})}),i.jsx(Dn,{value:"progress",className:"space-y-4",children:r.filter(S=>S.progress>0).length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Ed,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No achievements in progress"}),i.jsx("p",{className:"text-sm",children:"Continue scouting to make progress on achievements!"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.filter(S=>S.progress>0).sort((S,C)=>C.progress-S.progress).map(S=>i.jsx(_u,{achievement:S,isUnlocked:!1,progress:S.progress},S.id))})}),i.jsx(Dn,{value:"recent",className:"space-y-4",children:(s==null?void 0:s.recentAchievements.length)===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Mv,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No recent achievements"}),i.jsx("p",{className:"text-sm",children:"Keep scouting to unlock new achievements!"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s==null?void 0:s.recentAchievements.map(S=>i.jsx(_u,{achievement:S,isUnlocked:!0,unlockedAt:S.unlockedAt,showProgress:!1},S.id))})}),Object.keys(b).map(S=>i.jsx(Dn,{value:S,className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(y[S]||[]).map(C=>i.jsx(_u,{achievement:C,isUnlocked:!0,unlockedAt:C.unlockedAt,showProgress:!1},C.id)),(x[S]||[]).map(C=>i.jsx(_u,{achievement:C,isUnlocked:!1,progress:C.progress},C.id))]})},S))]})})]})},ket=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),{currentScout:a}=oj();return p.useEffect(()=>{(async()=>{r(!0);try{const o=await wCe();t(o)}catch(o){console.error("Error loading achievement leaderboard:",o)}finally{r(!1)}})()},[]),a?i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Achievements"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your progress and unlock rewards"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-3",children:i.jsx(Net,{scoutName:a.name})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Achievement Leaderboard"]})}),i.jsx($e,{children:n?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})}):e.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(mr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No achievements yet"})]}):i.jsx("div",{className:"space-y-3",children:e.slice(0,10).map((s,o)=>i.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg ${s.scoutName===a.name?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[i.jsx("div",{className:"flex items-center justify-center w-6 h-6",children:o<3?i.jsx(Le,{variant:"default",className:o===0?"bg-yellow-500 hover:bg-yellow-600":o===1?"bg-gray-400 hover:bg-gray-500":"bg-amber-600 hover:bg-amber-700",children:o+1}):i.jsxs("span",{className:"text-sm text-gray-500",children:["#",o+1]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm truncate",children:s.scoutName}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(mr,{className:"h-3 w-3"}),s.achievementCount]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Fh,{className:"h-3 w-3"}),"+",s.totalStakesFromAchievements]})]}),s.recentUnlock&&i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx("span",{className:"text-xs",children:s.recentUnlock.icon}),i.jsx("span",{className:"text-xs text-gray-400 truncate",children:s.recentUnlock.name})]})]})]},s.scoutName))})})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Mv,{className:"h-5 w-5"}),"Statistics"]})}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),i.jsx("div",{className:"text-xs text-gray-500",children:"Active Scouts"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.reduce((s,o)=>s+o.achievementCount,0)}),i.jsx("div",{className:"text-xs text-gray-500",children:"Total Achievements"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.reduce((s,o)=>s+o.totalStakesFromAchievements,0)}),i.jsx("div",{className:"text-xs text-gray-500",children:"Stakes from Achievements"})]}),i.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Achievement Tiers"}),i.jsx("div",{className:"space-y-1",children:Object.entries(NR).map(([s,o])=>i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-3 h-3 rounded border-2",style:{backgroundColor:o.color+"20",borderColor:o.color}}),i.jsx("span",{className:"capitalize",children:s})]},s))})]})]})]})]})]})]}):i.jsx("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Achievements"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select a scout to view their achievements"})]})})};function vz(e){const t={},n=["fuelScored","fuelPassed"],r=["depotCollect","outpostCollect","foulCommitted"],a=["steal"];return(e==="auto"?[...n,...r]:[...n,...a]).forEach(o=>{t[`${o}Count`]=0}),t}function XA(e){const t={},n=cd[e];return Object.keys(n).forEach(r=>{t[r]=!1}),t}const qO={transformActionsToCounters(e){let t=null;if(e.startPosition&&Array.isArray(e.startPosition)){const o=e.startPosition.findIndex(l=>l===!0);o>=0&&(t=o)}if(t===null&&e.autoActions&&e.autoActions.length>0){const o=e.autoActions.find(l=>l.type==="start");if(o&&o.action){const c={trench1:0,bump1:1,hub:2,bump2:3,trench2:4}[o.action];c!==void 0&&(t=c)}}const n={auto:{startPosition:t,autoPath:[],...vz("auto"),...XA("auto")},teleop:{...vz("teleop"),...XA("teleop")},endgame:{...XA("endgame")}},r=localStorage.getItem("autoBrokenDownTime"),a=localStorage.getItem("teleopBrokenDownTime");if(r){const o=parseInt(r,10);o>0&&(n.auto.brokenDownCount=1,n.auto.brokenDownDuration=o),localStorage.removeItem("autoBrokenDownTime"),localStorage.removeItem("autoBrokenDownStart")}if(a){const o=parseInt(a,10);o>0&&(n.teleop.brokenDownCount=1,n.teleop.brokenDownDuration=o),localStorage.removeItem("teleopBrokenDownTime"),localStorage.removeItem("teleopBrokenDownStart")}e.autoActions&&Array.isArray(e.autoActions)&&(n.auto.autoPath=e.autoActions,e.autoActions.forEach(o=>{switch(o.type){case"score":n.auto.fuelScoredCount=(n.auto.fuelScoredCount||0)+Math.abs(o.fuelDelta||0);break;case"collect":o.action==="depot"?n.auto.depotCollectCount=(n.auto.depotCollectCount||0)+1:o.action==="outpost"&&(n.auto.outpostCollectCount=(n.auto.outpostCollectCount||0)+1);break;case"pass":n.auto.fuelPassedCount=(n.auto.fuelPassedCount||0)+Math.abs(o.fuelDelta||0);break;case"traversal":o.action==="trench"?n.auto.autoTrench=!0:o.action==="bump"?n.auto.autoBump=!0:o.action==="trench-stuck"?n.auto.trenchStuckCount=(n.auto.trenchStuckCount||0)+1:o.action==="bump-stuck"&&(n.auto.bumpStuckCount=(n.auto.bumpStuckCount||0)+1);break;case"foul":n.auto.foulCommittedCount=(n.auto.foulCommittedCount||0)+1;break;case"climb":o.action==="climb-success"&&(n.auto.autoClimbL1=!0);break;case"unstuck":o.obstacleType==="trench"?(n.auto.trenchStuckCount=(n.auto.trenchStuckCount||0)+1,n.auto.trenchStuckDuration=(n.auto.trenchStuckDuration||0)+(o.duration||0)):o.obstacleType==="bump"&&(n.auto.bumpStuckCount=(n.auto.bumpStuckCount||0)+1,n.auto.bumpStuckDuration=(n.auto.bumpStuckDuration||0)+(o.duration||0));break;case"broken-down":n.auto.brokenDownCount=(n.auto.brokenDownCount||0)+1,n.auto.brokenDownDuration=(n.auto.brokenDownDuration||0)+(o.duration||0);break}})),e.teleopActions&&Array.isArray(e.teleopActions)&&(n.teleop.teleopPath=e.teleopActions,e.teleopActions.forEach(o=>{switch(o.type){case"score":n.teleop.fuelScoredCount=(n.teleop.fuelScoredCount||0)+Math.abs(o.fuelDelta||0);break;case"pass":n.teleop.fuelPassedCount=(n.teleop.fuelPassedCount||0)+Math.abs(o.fuelDelta||0);break;case"climb":const l=o.climbLevel||1;o.climbResult==="success"?n.endgame[`climbL${l}`]=!0:o.climbResult==="fail"&&(n.endgame.climbFailed=!0);break;case"defense":o.zone==="allianceZone"?n.teleop.defenseAllianceCount=(n.teleop.defenseAllianceCount||0)+1:o.zone==="neutralZone"?n.teleop.defenseNeutralCount=(n.teleop.defenseNeutralCount||0)+1:o.zone==="opponentZone"&&(n.teleop.defenseOpponentCount=(n.teleop.defenseOpponentCount||0)+1);break;case"steal":n.teleop.stealCount=(n.teleop.stealCount||0)+1;break;case"unstuck":o.obstacleType==="trench"?(n.teleop.trenchStuckCount=(n.teleop.trenchStuckCount||0)+1,n.teleop.trenchStuckDuration=(n.teleop.trenchStuckDuration||0)+(o.duration||0)):o.obstacleType==="bump"&&(n.teleop.bumpStuckCount=(n.teleop.bumpStuckCount||0)+1,n.teleop.bumpStuckDuration=(n.teleop.bumpStuckDuration||0)+(o.duration||0));break;case"broken-down":n.teleop.brokenDownCount=(n.teleop.brokenDownCount||0)+1,n.teleop.brokenDownDuration=(n.teleop.brokenDownDuration||0)+(o.duration||0);break}})),e.autoData&&d1().forEach(l=>{const c=`${l}Count`;e.autoData[c]!==void 0&&(n.auto[c]=(n.auto[c]||0)+e.autoData[c])}),e.teleopData&&d1().forEach(l=>{const c=`${l}Count`;e.teleopData[c]!==void 0&&(n.teleop[c]=(n.teleop[c]||0)+e.teleopData[c])}),e.autoRobotStatus&&Object.assign(n.auto,e.autoRobotStatus),e.teleopRobotStatus&&Object.assign(n.teleop,e.teleopRobotStatus),e.endgameRobotStatus&&Object.assign(n.endgame,e.endgameRobotStatus);const s={...e};return delete s.autoActions,delete s.teleopActions,delete s.autoData,delete s.teleopData,delete s.autoRobotStatus,delete s.teleopRobotStatus,delete s.endgameRobotStatus,delete s.startPosition,delete s.alliance,Object.assign(n,s),n}},ad=["Riley Davis","Alex Kim","Sarah Chen","Marcus Rodriguez","Taylor Wilson","Emma Thompson","Jordan Smith","Casey Park"],JT="2025test",ba=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,XT=()=>{const e=[],t=[];Object.entries(Jc).forEach(([u,d])=>{if("points"in d&&d.points.auto>0){const f=ba(0,5);for(let h=0;h<f;h++)e.push({actionType:u,timestamp:Date.now()})}if("points"in d&&d.points.teleop>0){const f=ba(0,15);for(let h=0;h<f;h++)t.push({actionType:u,timestamp:Date.now()})}});const n={},r={},a={};Object.keys(cd.auto).forEach(u=>{n[u]=Math.random()>.5}),Object.keys(cd.teleop).forEach(u=>{r[u]=Math.random()>.5});const s=cd.endgame,o={};Object.entries(s).forEach(([u,d])=>{d.group==="selection"?(o.selection||(o.selection=[]),o.selection.push(u)):a[u]=Math.random()>.3}),Object.values(o).forEach(u=>{const d=u[ba(0,u.length-1)];u.forEach(f=>{a[f]=f===d})});const l=[!1,!1,!1,!1];l[ba(0,3)]=!0;const c={autoActions:e,teleopActions:t,autoRobotStatus:n,teleopRobotStatus:r,endgameRobotStatus:a,startPosition:l};return qO.transformActionsToCounters(c)},Aet=async(e=20)=>{console.log(` Generating ${e} random scouting entries...`);const t=[254,1323,1678,3314,118,148,111,2056];for(let n=0;n<e;n++){const r=ad[ba(0,ad.length-1)]||"Unknown Scout",a=t[ba(0,t.length-1)]||0,s=ba(1,100),o=Math.random()>.5?"red":"blue",l={id:crypto.randomUUID(),teamNumber:a,matchNumber:s,allianceColor:o,scoutName:r,eventKey:JT,matchKey:`${JT}_qm${s}`,timestamp:Date.now()-ba(0,1e3*60*60*24*7),comments:Math.random()>.3?"Randomly generated note for this match.":void 0,gameData:XT()};await mm(l)}},Pet=async()=>{console.log(" Generating random scout profiles...");for(const e of ad){const t=ba(5,50),n=Math.floor(t*(.4+Math.random()*.5)),r=n*10,a={name:e,stakes:r+ba(0,100),stakesFromPredictions:r,totalPredictions:t,correctPredictions:n,currentStreak:ba(0,5),longestStreak:ba(5,12),createdAt:Date.now()-1e3*60*60*24*30,lastUpdated:Date.now()};await nt.scouts.put(a),await Eet(e,t)}},Eet=async(e,t)=>{for(let n=0;n<t;n++){const r=Math.random()>.4,a={id:crypto.randomUUID(),scoutName:e,eventKey:JT,matchNumber:n+1,predictedWinner:Math.random()>.5?"red":"blue",timestamp:Date.now()-ba(0,1e3*60*60*24*14),verified:!0,isCorrect:r,pointsAwarded:r?10:0};await nt.predictions.put(a)}},Tet=async(e=10)=>{console.log(" Generating TBA-aligned scouting data for validation testing...");const t=localStorage.getItem("eventKey");if(!t)return{success:!1,message:"No event selected. Please select an event first.",matchesGenerated:0};const n="PjUONcElcRUEkZ184a7GGhWdmJ1E1KBHzPxC4Q3MDrup2sPLIskQJUlW3N73ZFXN";try{const r=await fetch(`https://www.thebluealliance.com/api/v3/event/${t}/matches`,{headers:{"X-TBA-Auth-Key":n}});if(!r.ok)return{success:!1,message:`TBA API error: ${r.status}`,matchesGenerated:0};const s=(await r.json()).filter(l=>l.comp_level==="qm"&&l.score_breakdown).slice(0,e);if(s.length===0)return{success:!1,message:"No qualification matches with scores found.",matchesGenerated:0};let o=0;for(const l of s){const c=l.alliances.red.team_keys.map(f=>parseInt(f.replace("frc",""))),u=l.alliances.blue.team_keys.map(f=>parseInt(f.replace("frc",""))),d=l.key.includes("_")?l.key.split("_")[1]:l.key;for(const f of c){const h={id:`${t}::${d}::${f}::red`,teamNumber:f,matchNumber:l.match_number,allianceColor:"red",scoutName:ad[ba(0,ad.length-1)]||"Test Scout",eventKey:t,matchKey:d,timestamp:Date.now()-ba(0,36e5),comments:"Auto-generated for validation testing",gameData:XT()};await mm(h),o++}for(const f of u){const h={id:`${t}::${d}::${f}::blue`,teamNumber:f,matchNumber:l.match_number,allianceColor:"blue",scoutName:ad[ba(0,ad.length-1)]||"Test Scout",eventKey:t,matchKey:d,timestamp:Date.now()-ba(0,36e5),comments:"Auto-generated for validation testing",gameData:XT()};await mm(h),o++}}return console.log(` Generated ${o} scouting entries for ${s.length} matches`),{success:!0,message:`Generated ${o} entries for ${s.length} matches`,matchesGenerated:s.length}}catch(r){return console.error("Error generating TBA-aligned data:",r),{success:!1,message:`Error: ${r}`,matchesGenerated:0}}},_et=async()=>{console.log(" Resetting all databases..."),await Promise.all([zr.scoutingData.clear(),qs.pitScoutingData.clear(),nt.scouts.clear(),nt.predictions.clear(),nt.scoutAchievements.clear()]),console.log(" Databases cleared successfully")},mie="demo2026",Sb=30,pie=60,os=["Riley Davis","Alex Kim","Sarah Chen","Marcus Rodriguez","Taylor Wilson","Emma Thompson","Jordan Smith","Casey Park"],Det=["Left Trench","Left Bump","Hub","Right Bump","Right Trench"];function Ret(){const e=[],t=Math.ceil(Sb*.1);for(let s=0;s<t;s++)e.push({teamNumber:1e3+s,skillLevel:"elite",tier:"elite",autoAccuracy:.85+Math.random()*.15,teleopAccuracy:.8+Math.random()*.2,endgameSuccess:.9+Math.random()*.1,consistency:.85+Math.random()*.15});const n=Math.ceil(Sb*.25);for(let s=0;s<n;s++)e.push({teamNumber:2e3+s,skillLevel:"strong",tier:"strong",autoAccuracy:.65+Math.random()*.2,teleopAccuracy:.65+Math.random()*.2,endgameSuccess:.7+Math.random()*.2,consistency:.7+Math.random()*.2});const r=Math.ceil(Sb*.4);for(let s=0;s<r;s++)e.push({teamNumber:3e3+s,skillLevel:"average",tier:"average",autoAccuracy:.4+Math.random()*.3,teleopAccuracy:.45+Math.random()*.3,endgameSuccess:.5+Math.random()*.3,consistency:.5+Math.random()*.3});const a=Sb-e.length;for(let s=0;s<a;s++)e.push({teamNumber:4e3+s,skillLevel:"developing",tier:"developing",autoAccuracy:.2+Math.random()*.3,teleopAccuracy:.25+Math.random()*.35,endgameSuccess:.3+Math.random()*.3,consistency:.3+Math.random()*.4});return e}function Met(e){const t=[],n=e.map(r=>r.teamNumber);for(let r=1;r<=pie;r++){const a=(r-1)*6%n.length,s=[];for(let c=0;c<6;c++){const u=(a+c)%n.length;s.push(n[u])}const o=s.slice(0,3),l=s.slice(3,6);t.push({matchKey:`${mie}_qm${r}`,matchNumber:r,compLevel:"qm",redTeams:o,blueTeams:l})}return t}function Iet(e,t,n){const r=o=>{let l=0;for(const c of o){const u=n.get(c);if(u){const d=(1-u.consistency)*.3,f=1+(Math.random()-.5)*d,h=(u.autoAccuracy+u.teleopAccuracy+u.endgameSuccess)/3*f;l+=h}}return l/o.length},a=r(e),s=r(t);return Math.abs(a-s)<.05&&Math.random()<.05?"tie":a>s?"red":"blue"}function Oet(e,t){return e==="tie"?Math.random()<.5?"red":"blue":Math.random()<t?e:e==="red"?"blue":"red"}const Let=()=>({autoActions:[],teleopActions:[],endgameStatus:{}});async function gie(e={}){const{eventKey:t=mie,clearExisting:n=!0,gameDataGenerator:r=Let,includePlayoffs:a=!0}=e;console.log(" Generating demo event data...");try{n&&(await zr.scoutingData.where("eventKey").equals(t).delete(),console.log("   Cleared existing demo data"));const s=Ret();console.log(`   Generated ${s.length} team profiles`);const o=Met(s),l=o;console.log(`   Generated ${o.length} qual matches`);let c=0;const u=new Set;for(const k of l){for(let N=0;N<k.redTeams.length;N++){const P=k.redTeams[N];if(!P)continue;const E=`${t}::${k.matchKey.split("_")[1]}::${P}::red`;if(u.has(E)){console.warn(`Duplicate entry detected: ${E}`);continue}u.add(E);const R=s.find(J=>J.teamNumber===P);if(!R)continue;const O=os[Math.floor(Math.random()*os.length)]||"Demo Scout",K={id:`${t}::${k.matchKey.split("_")[1]}::${P}::red`,teamNumber:P,matchNumber:k.matchNumber,allianceColor:"red",scoutName:O,eventKey:t,matchKey:k.matchKey,timestamp:Date.now()-(l.length-l.indexOf(k))*6e4,comments:Math.random()>.7?yz(R):void 0,gameData:r(R,k.matchKey)};await mm(K),c++}for(let N=0;N<k.blueTeams.length;N++){const P=k.blueTeams[N];if(!P)continue;const E=`${t}::${k.matchKey.split("_")[1]}::${P}::blue`;if(u.has(E)){console.warn(`Duplicate entry detected: ${E}`);continue}u.add(E);const R=s.find(J=>J.teamNumber===P);if(!R)continue;const O=os[Math.floor(Math.random()*os.length)]||"Demo Scout",K={id:`${t}::${k.matchKey.split("_")[1]}::${P}::blue`,teamNumber:P,matchNumber:k.matchNumber,allianceColor:"blue",scoutName:O,eventKey:t,matchKey:k.matchKey,timestamp:Date.now()-(l.length-l.indexOf(k))*6e4,comments:Math.random()>.7?yz(R):void 0,gameData:r(R,k.matchKey)};await mm(K),c++}}console.log(`   Generated ${c} scouting entries`);const d=new Map(s.map(k=>[k.teamNumber,k]));console.log(`
 Generating pit scouting data...`);let f=0;const h=["swerve","tank","mecanum","other"],m=["Java","C++","Python","LabVIEW"];for(const k of s){const N=d.get(k.teamNumber);if(!N)continue;const P=os[k.teamNumber%os.length],E=N.tier==="developing"?h[Math.floor(Math.random()*h.length)]:"swerve",R=90+Math.random()*25,O=Math.random()<.9?"Java":m[Math.floor(Math.random()*m.length)],K=N.tier==="developing"?24+Math.random()*6:18+Math.random()*4,J=K<22.25,Q=K>=24?80+Math.floor(Math.random()*41):K>=22?50+Math.floor(Math.random()*31):20+Math.floor(Math.random()*31),z=Det.slice(0,1+Math.floor(Math.random()*3)),U=N.tier==="elite"?["Cycler","Thief"]:N.tier==="strong"?["Cycler","Clean Up"]:N.tier==="average"?["Clean Up","Passer"]:["Defense","Passer"],M=N.tier==="elite"?["Passer","Defense"]:N.tier==="strong"?["Passer","Thief"]:N.tier==="average"?["Passer","Defense"]:["Clean Up"],$=N.tier==="elite"&&Math.random()>.5,B=N.tier==="elite"?"level3":N.tier==="strong"?Math.random()>.5?"level3":"level2":N.tier==="average"?Math.random()>.3?"level2":"level1":Math.random()>.5?"level1":"none",te={id:`pit-${k.teamNumber}-${t}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,teamNumber:k.teamNumber,eventKey:t,scoutName:P,timestamp:Date.now()-Math.random()*864e5,robotPhoto:void 0,weight:Math.round(R*10)/10,drivetrain:E,programmingLanguage:O,notes:$et(N,{canAutoClimbL1:$,targetClimbLevel:B,fuelCapacity:Q,canGoUnderTrench:J}),gameData:{maxLength:Math.round(28+Math.random()*4),maxWidth:Math.round(26+Math.random()*4),maxHeight:Math.round(K),canGoUnderTrench:J,fuelCapacity:Q,canOutpostPickup:Math.random()>.2,canPassToCorral:Math.random()>.3,preferredStartPositions:z,preferredActiveRoles:U,preferredInactiveRoles:M,canAutoClimbL1:$,targetClimbLevel:B}};await pm(te),f++}console.log(`   Generated ${f} pit scouting entries`);const g={"Riley Davis":.85,"Alex Kim":.75,"Sarah Chen":.7,"Marcus Rodriguez":.65,"Taylor Wilson":.6,"Emma Thompson":.55,"Jordan Smith":.5,"Casey Park":.45};let v=0,b=0;for(const k of l){const N=Iet(k.redTeams,k.blueTeams,d),P=os[k.matchNumber%os.length],E=g[P]||.5,R=Oet(N,E),O=N!=="tie"&&R===N,K=await Gv(P,t,k.matchNumber,R);K.actualWinner=N==="tie"?void 0:N,K.isCorrect=O,K.pointsAwarded=O?10:0,K.timestamp=Date.now()-(pie-k.matchNumber)*6e5,K.verified=!0,await nt.predictions.put(K),v++,O&&b++}console.log(`   Generated ${v} predictions (${b} correct, ${Math.round(b/v*100)}% accuracy)`);for(const k of os){const N=await nt.predictions.where("scoutName").equals(k).filter(P=>P.eventKey===t).toArray();if(N.length>0){const P=N.filter(Q=>Q.isCorrect).length,E=N.length,R=N.reduce((Q,G)=>Q+(G.pointsAwarded||0),0),O=await nt.scouts.get(k),J=((O==null?void 0:O.stakes)||0)+R;await MC(k,J,P,E,void 0,void 0,R)}}console.log(`   Updated scout prediction stats for ${os.length} scouts`);const x=localStorage.getItem("scoutsList"),y=x?JSON.parse(x):[];for(const k of os)await bl(k),y.includes(k)||y.push(k);localStorage.setItem("scoutsList",JSON.stringify(y.sort())),console.log(`   Created ${os.length} test scouts in database`);const w=os[0];try{localStorage.setItem("currentScout",w),localStorage.setItem("playerStation","red-1"),window.dispatchEvent(new Event("scoutChanged")),window.dispatchEvent(new Event("playerStationChanged")),console.log(`   Set ${w} as current scout (Red 1)`)}catch(k){console.error("Failed to create demo scout:",k)}localStorage.setItem("eventKey",t),ud(t),console.log(`   Set ${t} as current event`);try{const k=localStorage.getItem("customEventsList"),N=k?JSON.parse(k):[];N.includes(t)||(N.push(t),localStorage.setItem("customEventsList",JSON.stringify(N)),console.log(`   Added ${t} to custom events list`))}catch(k){console.error("Failed to update custom events list:",k)}const S=l.map((k,N)=>({key:k.matchKey,comp_level:k.compLevel,set_number:1,match_number:k.matchNumber,alliances:{red:{score:-1,team_keys:k.redTeams.map(P=>`frc${P}`),surrogate_team_keys:[],dq_team_keys:[]},blue:{score:-1,team_keys:k.blueTeams.map(P=>`frc${P}`),surrogate_team_keys:[],dq_team_keys:[]}},winning_alliance:"",event_key:t,time:Math.floor(Date.now()/1e3)+N*600,predicted_time:Math.floor(Date.now()/1e3)+N*600,actual_time:0,post_result_time:0,score_breakdown:null,videos:[]}));await bZ(S),console.log(`   Cached ${S.length} matches as TBA data`);const C=l.map(k=>({matchNumber:k.matchNumber,redAlliance:k.redTeams,blueAlliance:k.blueTeams}));return localStorage.setItem("matchData",JSON.stringify(C)),console.log("   Stored match schedule in localStorage for team selection"),{success:!0,message:`Demo event created: ${s.length} teams, ${o.length} matches, ${c} entries, ${f} pit entries, ${v} predictions by ${os.length} scouts`,stats:{teamsGenerated:s.length,qualMatches:o.length,playoffMatches:0,entriesGenerated:c}}}catch(s){return console.error(" Error generating demo data:",s),{success:!1,message:s instanceof Error?s.message:"Unknown error",stats:{teamsGenerated:0,qualMatches:0,playoffMatches:0,entriesGenerated:0}}}}function yz(e){const n={elite:["Incredibly consistent robot","Strong autonomous routine","Very fast cycle times","Excellent driver control","Top tier defense capabilities"],strong:["Solid performance overall","Good scoring consistency","Reliable endgame","Decent auto routine","Few mistakes"],average:["Average performance","Some scoring but inconsistent","Struggled with accuracy","Okay endgame","Room for improvement"],developing:["Still learning the game","Had some technical difficulties","Improving throughout match","Needs practice with scoring","Good effort"]}[e.skillLevel];return n[Math.floor(Math.random()*n.length)]||"Good effort"}function $et(e,t){const n=[];return e.tier==="elite"?n.push("Very experienced team with well-built robot."):e.tier==="strong"?n.push("Solid robot design with good build quality."):e.tier==="average"?n.push("Functional robot, still working out some issues."):n.push("Rookie or developing team, learning as they go."),t.canGoUnderTrench&&n.push("Can navigate under trench for faster field traversal."),t.fuelCapacity>=80?n.push(`High fuel capacity (${t.fuelCapacity} pieces).`):t.fuelCapacity>=50&&n.push(`Good fuel capacity (${t.fuelCapacity} pieces).`),t.canAutoClimbL1&&n.push("Has autonomous climb capability (15pts)."),t.targetClimbLevel==="level3"?n.push("Targets Level 3 climb (30pts)."):t.targetClimbLevel==="level2"&&n.push("Targets Level 2 climb (20pts)."),n.join(" ")}const vie=(e,t)=>{const n=t.includes("qf")||t.includes("sf")||t.includes("f"),r=[],a=Math.floor(Math.random()*5),s=["trench1","bump1","hub","bump2","trench2"];r.push({type:"start",action:s[a],timestamp:Date.now(),x:100,y:100+a*90});let o=0;e.skillLevel==="elite"?o=100+Math.floor(Math.random()*51):e.skillLevel==="strong"?o=60+Math.floor(Math.random()*41):e.skillLevel==="average"?o=30+Math.floor(Math.random()*31):o=10+Math.floor(Math.random()*21);const l=1-e.consistency;o=Math.max(0,Math.floor(o*(1+(Math.random()-.5)*l))),o=Math.floor(o*e.autoAccuracy);for(let R=0;R<o;R++)r.push({type:"score",action:"fuelScored",timestamp:Date.now()+R*1e3,x:100+Math.random()*50,y:200+Math.random()*80,fuelDelta:-1});if(Math.random()<.4){const R=Math.floor(Math.random()*3);for(let O=0;O<R;O++)r.push({type:"collect",action:Math.random()<.5?"depot":"outpost",timestamp:Date.now()+O*1500,x:150,y:240})}const c=[],u=Math.random()<.25;let d=0;e.skillLevel==="elite"?d=250+Math.floor(Math.random()*151):e.skillLevel==="strong"?d=180+Math.floor(Math.random()*101):e.skillLevel==="average"?d=100+Math.floor(Math.random()*101):d=50+Math.floor(Math.random()*71),d=Math.max(0,Math.floor(d*(1+(Math.random()-.5)*l))),d=Math.floor(d*e.teleopAccuracy),n&&(d=Math.floor(d*1.15));let f=0,h=0;u?(f=Math.floor(d*.3),h=Math.floor(d*.7)):(f=Math.floor(d*.85),h=Math.floor(d*.15));for(let R=0;R<f;R++)c.push({type:"score",action:"fuelScored",timestamp:Date.now()+R*500,x:100+Math.random()*50,y:200+Math.random()*80,fuelDelta:-1});for(let R=0;R<h;R++)c.push({type:"pass",action:"fuelPassed",timestamp:Date.now()+R*800,x:200,y:240,fuelDelta:-1});const m={autoClimbL1:e.skillLevel==="elite"&&Math.random()<.2},g={playedDefense:Math.random()<.2},v={climbL1:!1,climbL2:!1,climbL3:!1,climbFailed:!1};Math.random()<e.endgameSuccess?e.skillLevel==="elite"&&Math.random()<.7?v.climbL3=!0:e.skillLevel==="strong"||e.skillLevel==="elite"&&Math.random()<.9?v.climbL2=!0:v.climbL1=!0:v.climbFailed=!0;const x=["roleActiveCycler","roleActiveCleanUp","roleActivePasser","roleActiveDefense","roleActiveThief"];let y;u&&Math.random()<.7?y="roleActivePasser":y=x[Math.floor(Math.random()*x.length)],y&&(v[y]=!0);const w=["roleInactiveCycler","roleInactiveCleanUp","roleInactivePasser"];let S;u&&Math.random()<.7?S="roleInactivePasser":S=w[Math.floor(Math.random()*w.length)],S&&(v[S]=!0),(u||Math.random()<.3)&&(v.passedToAlliance=!0),u&&Math.random()<.6&&(v.passedToNeutral=!0);const C=["accuracyAll","accuracyMost","accuracySome","accuracyFew","accuracyLittle"];let k=2;e.teleopAccuracy>.9?k=0:e.teleopAccuracy>.75?k=1:e.teleopAccuracy>.5?k=2:e.teleopAccuracy>.25?k=3:k=4;const N=C[k];N&&(v[N]=!0),v.usedCorral=Math.random()<.3;const P=[!1,!1,!1,!1,!1];P[a]=!0;const E={autoActions:r,teleopActions:c,autoRobotStatus:m,teleopRobotStatus:g,endgameRobotStatus:v,startPosition:P};return qO.transformActionsToCounters(E)},Fet=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(""),[a,s]=p.useState("info"),o=(g,v="info")=>{r(g),s(v),setTimeout(()=>r(""),5e3)},l=async()=>{t(!0);try{await Pet(),o(" Created random scout profiles successfully!","success"),oe.success("Random scout profiles created")}catch(g){console.error("Error creating test profiles:",g),o(" Failed to create test profiles","error")}finally{t(!1)}},c=async()=>{t(!0);try{await Aet(30),o(" Generated 30 schema-based match entries!","success"),oe.success("Schema-based match data generated")}catch(g){console.error("Error generating match data:",g),o(" Failed to generate match data","error")}finally{t(!1)}},u=async()=>{t(!0);try{const g=await Tet(15);g.success?(o(` ${g.message}`,"success"),oe.success(g.message)):(o(` ${g.message}`,"error"),oe.error(g.message))}catch(g){console.error("Error generating TBA-aligned data:",g),o(" Failed to generate TBA-aligned data","error")}finally{t(!1)}},d=async()=>{t(!0);try{const g=await gie({eventKey:"demo2026",clearExisting:!0,gameDataGenerator:vie,includePlayoffs:!0});g.success?(o(` ${g.message}`,"success"),oe.success(g.message,{duration:5e3})):(o(` ${g.message}`,"error"),oe.error(g.message))}catch(g){console.error("Error generating demo event:",g),o(" Failed to generate demo event","error"),oe.error("Failed to generate demo event")}finally{t(!1)}},f=async()=>{if(confirm("Are you absolutely sure? This will wipe ALL databases including scouting data, pits, and profiles.")){t(!0);try{await _et(),o(" All databases cleared successfully!","success"),oe.success("Database reset complete")}catch(g){console.error("Error clearing data:",g),o(" Failed to clear data","error")}finally{t(!1)}}},h=async()=>{t(!0);try{await kR(),o(" Achievement backfill completed!","success"),oe.success("Achievements backfilled for all scouts")}catch(g){console.error("Error during achievement backfill:",g),o(" Achievement backfill failed","error")}finally{t(!1)}},m=async()=>{t(!0);try{const g=await ex();o(` Current database has ${g.length} scouts`,"info")}catch(g){console.error("Error checking data:",g),o(" Failed to check current data","error")}finally{t(!1)}};return i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Agnostic Dev Utilities"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Framework-level tools for testing and managing scouting data"}),i.jsx(Le,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Development Only"})]}),n&&i.jsx(De,{className:`border-2 ${a==="success"?"border-green-500 bg-green-50 dark:bg-green-950":a==="error"?"border-red-500 bg-red-50 dark:bg-red-950":"border-blue-500 bg-blue-50 dark:bg-blue-950"}`,children:i.jsx($e,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&i.jsx(Br,{className:"h-5 w-5 text-green-600"}),a==="error"&&i.jsx(Mn,{className:"h-5 w-5 text-red-600"}),a==="info"&&i.jsx(bo,{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{className:a==="success"?"text-green-800 dark:text-green-200":a==="error"?"text-red-800 dark:text-red-200":"text-blue-800 dark:text-blue-200",children:n})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs(De,{children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(im,{className:"h-5 w-5"}),"Gamification Tools"]}),i.jsx(Fn,{children:"Test scout profiles, predictions, and achievements"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs(Z,{onClick:l,disabled:e,className:"w-full",size:"lg",children:[i.jsx(im,{className:"h-4 w-4 mr-2"}),e?"Generating...":"Generate Random Scouts"]}),i.jsxs(Z,{onClick:h,disabled:e,className:"w-full",variant:"outline",size:"lg",children:[i.jsx(mr,{className:"h-4 w-4 mr-2"}),e?"Processing...":"Backfill Achievements"]})]})]}),i.jsxs(De,{children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(pfe,{className:"h-5 w-5"}),"Scouting Data Tools"]}),i.jsx(Fn,{children:"Test match scouting entries using current game schema"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs(Z,{onClick:d,disabled:e,className:"w-full",size:"lg",children:[i.jsx(bo,{className:"h-4 w-4 mr-2"}),e?"Generating...":"Generate Full Demo Event"]}),i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"30 teams  60 qual matches  ~360 entries"}),i.jsx(Or,{}),i.jsxs(Z,{onClick:c,disabled:e,className:"w-full",size:"lg",variant:"secondary",children:[i.jsx(Ul,{className:"h-4 w-4 mr-2"}),e?"Generating...":"Generate Random Data (30)"]}),i.jsxs(Z,{onClick:u,disabled:e,className:"w-full",size:"lg",variant:"default",children:[i.jsx(bo,{className:"h-4 w-4 mr-2"}),e?"Generating...":"Generate TBA Match Data"]}),i.jsx("p",{className:"text-xs text-gray-500 italic",children:"* TBA Match Data uses current event to create scouting entries for real matches (for validation testing)."})]})]}),i.jsxs(De,{children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Bs,{className:"h-5 w-5"}),"Database Management"]}),i.jsx(Fn,{children:"Clean up and inspect local storage"})]}),i.jsxs($e,{className:"space-y-4",children:[i.jsxs(Z,{onClick:f,disabled:e,variant:"destructive",className:"w-full",size:"lg",children:[i.jsx(Bs,{className:"h-4 w-4 mr-2"}),e?"Clearing...":"Reset All Databases"]}),i.jsx(Or,{}),i.jsxs(Z,{onClick:m,disabled:e,variant:"outline",className:"w-full",children:[i.jsx(bo,{className:"h-4 w-4 mr-2"}),e?"Checking...":"Check DB Stats"]})]})]})]}),i.jsxs(De,{children:[i.jsxs(Ke,{children:[i.jsx(Ge,{children:"Global Test Hooks"}),i.jsx(Fn,{children:"Exposed on window for console testing"})]}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-2 text-sm font-mono bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("div",{className:"text-blue-600 dark:text-blue-400",children:"# Reset everything"}),i.jsx("div",{children:"await window.dev.resetDB()"}),i.jsx("div",{className:"text-blue-600 dark:text-blue-400 mt-3",children:"# Generate data"}),i.jsx("div",{children:"await window.dev.seedData()"})]})})]})]})},TS={thresholds:{critical:25,warning:15,minor:5,criticalAbsolute:5,warningAbsolute:3,minorAbsolute:1},categoryThresholds:{},checkAutoScoring:!0,checkTeleopScoring:!0,checkEndgame:!0,checkMobility:!0,checkTotalScore:!0,minMatchesForHighConfidence:10,maxDiscrepanciesForHighConfidence:2,autoFlagThreshold:2,requireReScoutThreshold:3};function Om(e){const t=e.split("_");if(t.length!==2)throw new Error(`Invalid match key format: ${e}`);const n=t[0]||"",r=t[1];if(!r)throw new Error(`Invalid match key format: ${e}`);if(r.startsWith("qm")){const o=parseInt(r.substring(2),10)||0;return{eventKey:n,compLevel:"qm",matchNumber:o,setNumber:1,displayNumber:o.toString()}}const a=r.match(/^sf(\d+)m(\d+)$/);if(a&&a[1]&&a[2])return{eventKey:n,compLevel:"sf",setNumber:parseInt(a[1],10),matchNumber:parseInt(a[2],10),displayNumber:`${a[1]}-${a[2]}`};const s=r.match(/^f(\d+)m(\d+)$/);return s&&s[1]&&s[2]?{eventKey:n,compLevel:"f",setNumber:parseInt(s[1],10),matchNumber:parseInt(s[2],10),displayNumber:s[2]}:{eventKey:n,compLevel:r.replace(/\d/g,""),matchNumber:parseInt(r.replace(/\D/g,""),10)||0,setNumber:1,displayNumber:r.replace(/\D/g,"")||"0"}}function yie(e){const t=typeof e=="string"?e:e.matchKey;try{const n=Om(t);switch(n.compLevel){case"qm":return`Qual ${n.matchNumber}`;case"sf":return`SF ${n.setNumber}-${n.matchNumber}`;case"f":return`Final ${n.matchNumber}`;default:return`Match ${n.displayNumber}`}}catch{return t}}function Bet(e){return[...e].sort((t,n)=>xie(t.matchKey,n.matchKey))}function xie(e,t){const n=Om(e),r=Om(t),a={qm:1,sf:2,f:3},s=a[n.compLevel]??4,o=a[r.compLevel]??4;return s!==o?s-o:n.setNumber!==r.setNumber?n.setNumber-r.setNumber:n.matchNumber-r.matchNumber}function Vet(e,t){let n=[...e];if(t.status!=="all"&&(n=n.filter(r=>r.validationResult?r.validationResult.status===t.status:t.status==="no-scouting"?!r.hasScouting:t.status==="pending"?r.hasScouting:!1)),t.matchType!=="all"&&(n=n.filter(r=>r.compLevel===t.matchType)),t.scoutingStatus!=="all"&&(n=n.filter(r=>t.scoutingStatus==="complete"?r.scoutingComplete:t.scoutingStatus==="partial"?r.hasScouting&&!r.scoutingComplete:t.scoutingStatus==="none"?!r.hasScouting:!0)),t.searchQuery.trim()){const r=t.searchQuery.toLowerCase().trim();n=n.filter(a=>a.displayName.toLowerCase().includes(r)?!0:[...a.redTeams,...a.blueTeams].some(o=>o.includes(r)))}return n.sort((r,a)=>{var o,l,c,u,d,f;let s=0;switch(t.sortBy){case"match":s=xie(r.matchKey,a.matchKey);break;case"status":{const h={failed:0,flagged:1,passed:2,pending:3,"no-tba-data":4,"no-scouting":5},m=((o=r.validationResult)==null?void 0:o.status)??(r.hasScouting?"pending":"no-scouting"),g=((l=a.validationResult)==null?void 0:l.status)??(a.hasScouting?"pending":"no-scouting");s=(h[m]??99)-(h[g]??99);break}case"discrepancies":s=(((c=r.validationResult)==null?void 0:c.totalDiscrepancies)??0)-(((u=a.validationResult)==null?void 0:u.totalDiscrepancies)??0);break;case"confidence":{const h={high:2,medium:1,low:0},m=((d=r.validationResult)==null?void 0:d.confidence)??"low",g=((f=a.validationResult)==null?void 0:f.confidence)??"low";s=(h[m]??0)-(h[g]??0);break}}return t.sortOrder==="desc"?-s:s}),n}function _S(e){return e.map(t=>t.replace("frc",""))}function zet(e){var c,u,d,f;const t=e.score_breakdown!==null,n=(u=(c=e.alliances)==null?void 0:c.red)==null?void 0:u.score,r=(f=(d=e.alliances)==null?void 0:d.blue)==null?void 0:f.score;let a,s,o,l;if(t&&e.score_breakdown){const h=e.score_breakdown.red,m=e.score_breakdown.blue;a=(h==null?void 0:h.autoPoints)??(h==null?void 0:h.auto_points),s=(m==null?void 0:m.autoPoints)??(m==null?void 0:m.auto_points),o=(h==null?void 0:h.teleopPoints)??(h==null?void 0:h.teleop_points),l=(m==null?void 0:m.teleopPoints)??(m==null?void 0:m.teleop_points)}return{matchKey:e.key,matchNumber:e.match_number,compLevel:e.comp_level,setNumber:e.set_number??1,displayName:yie(e.key),redTeams:_S(e.alliances.red.team_keys),blueTeams:_S(e.alliances.blue.team_keys),hasScouting:!1,scoutingComplete:!1,redTeamsScouted:0,blueTeamsScouted:0,hasTBAResults:t,redScore:n,blueScore:r,redAutoScore:a,blueAutoScore:s,redTeleopScore:o,blueTeleopScore:l,scheduledTime:e.time,actualTime:e.actual_time}}function xz(e,t,n,r){const a={alliance:e,teams:t,totalPoints:r.score??0,autoPoints:0,teleopPoints:0,foulPoints:0,breakdown:{},foulCount:0,techFoulCount:0};if(!n)return a;a.autoPoints=n.autoPoints??0,a.teleopPoints=n.teleopPoints??0,a.foulPoints=n.foulPoints??0,a.foulCount=n.foulCount??0,a.techFoulCount=n.techFoulCount??0;const s=RR();for(const l of s){const c=C7(l),u=bz(n,c.tbaPath,c.type);a.breakdown[l]=u}const o=MR();for(const l of o){const c=j7(l),u=bz(n,c.tbaPath,c.type,"matchValue"in c?c.matchValue:void 0);a.breakdown[l]=u}return a}function bz(e,t,n,r){if(Array.isArray(t))return n==="countMatching"&&r?t.filter(s=>eP(e,s)===r).length:t.reduce((s,o)=>{const l=eP(e,o);return s+(typeof l=="number"?l:0)},0);const a=eP(e,t);return n==="count"?typeof a=="number"?a:0:n==="boolean"&&(a===!0||a==="Yes")?1:0}function eP(e,t){return t.split(".").reduce((n,r)=>n&&typeof n=="object"?n[r]:void 0,e)}function wz(e,t,n){var o,l;const r=[],a=RR();for(const c of a){const u=C7(c),d=e.actions[c]??0,f=t.breakdown[c]??0;if(d!==f){const h=u.category,g=((o=n.categoryThresholds)==null?void 0:o[h])??n.thresholds,v=Sz(h,c,Ket(c),d,f,g);v&&r.push(v)}}const s=MR();for(const c of s){const u=j7(c),d=e.toggles[c]??0,f=t.breakdown[c]??0;if(d!==f){const h=u.category,g=((l=n.categoryThresholds)==null?void 0:l[h])??n.thresholds,v=Sz(h,c,Get(c),d,f,g);v&&r.push(v)}}return r}function Sz(e,t,n,r,a,s){const o=Math.abs(r-a),l=a>0?o/a*100:o>0?100:0,c=Uet(o,l,s);if(c==="none")return null;const u=r>a?"over-counted":"under-counted";return{category:e,field:t,fieldLabel:n,scoutedValue:r,tbaValue:a,difference:o,percentDiff:l,severity:c,message:`${n}: Scouted ${r}, TBA ${a} (${u} by ${o})`}}function Uet(e,t,n){return e>=n.criticalAbsolute?"critical":e>=n.warningAbsolute?"warning":e>=n.minorAbsolute?"minor":t>=n.critical?"critical":t>=n.warning?"warning":t>=n.minor?"minor":"none"}function Ket(e){return e in Jc?Jc[e].label:e}function Get(e){for(const t of["auto","teleop","endgame"]){const n=cd[t];if(n&&e in n){const r=n[e];if(r!=null&&r.label)return r.label}}return e}function Wet(e,t){const n=e.map(a=>a.validationResult).filter(Boolean);return{eventKey:t,totalMatches:e.length,scoutedMatches:e.filter(a=>a.hasScouting).length,validatedMatches:n.length,pendingMatches:e.filter(a=>a.hasScouting&&!a.validationResult).length,passedMatches:n.filter(a=>a.status==="passed").length,flaggedMatches:n.filter(a=>a.status==="flagged").length,failedMatches:n.filter(a=>a.status==="failed").length,noTBADataMatches:n.filter(a=>a.status==="no-tba-data").length,noScoutingMatches:e.filter(a=>!a.hasScouting).length,totalDiscrepancies:n.reduce((a,s)=>a+s.totalDiscrepancies,0),criticalDiscrepancies:n.reduce((a,s)=>a+s.criticalDiscrepancies,0),warningDiscrepancies:n.reduce((a,s)=>a+s.warningDiscrepancies,0),minorDiscrepancies:n.reduce((a,s)=>a+(s.totalDiscrepancies-s.criticalDiscrepancies-s.warningDiscrepancies),0),averageConfidence:qet(n),matchesRequiringReScout:n.filter(a=>a.requiresReScout).length,generatedAt:Date.now()}}function qet(e){if(e.length===0)return"low";const t=e.map(r=>{switch(r.confidence){case"high":return 3;case"medium":return 2;case"low":return 1;default:return 1}}),n=t.reduce((r,a)=>r+a,0)/t.length;return n>=2.5?"high":n>=1.5?"medium":"low"}const Het={status:"all",matchType:"all",scoutingStatus:"all",searchQuery:"",sortBy:"match",sortOrder:"asc"};function Yet({eventKey:e,config:t=TS,autoLoad:n=!0}){const[r,a]=p.useState(!1),[s,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState([]),[m,g]=p.useState(Het),[v,b]=p.useState(new Map),{fetchEventMatches:x,matches:y,loading:w}=QR(),S=p.useCallback(async()=>{if(e){a(!0),c(null);try{const G="PjUONcElcRUEkZ184a7GGhWdmJ1E1KBHzPxC4Q3MDrup2sPLIskQJUlW3N73ZFXN";d({current:0,total:1,currentMatch:"",phase:"fetching-tba"}),await x(e,G)}catch(G){const z=G instanceof Error?G.message:"Failed to load matches";c(z),oe.error(z)}finally{a(!1),d(null)}}},[e,x]);p.useEffect(()=>{if(!y||y.length===0)return;(async()=>{const z=y.map(zet);await C(z),await k(z);const U=Bet(z);h(U)})()},[y]);const C=async G=>{try{const z=await bie(e);for(const U of G){const M=z.filter(te=>te.matchKey===U.matchKey||te.matchNumber===U.matchNumber),$=new Set(M.filter(te=>te.allianceColor==="red").map(te=>te.teamNumber.toString())),B=new Set(M.filter(te=>te.allianceColor==="blue").map(te=>te.teamNumber.toString()));U.redTeamsScouted=Math.min($.size,3),U.blueTeamsScouted=Math.min(B.size,3),U.hasScouting=M.length>0,U.scoutingComplete=U.redTeamsScouted===3&&U.blueTeamsScouted===3}}catch(z){console.error("Failed to update scouting status:",z)}},k=async G=>{try{const z=await d_e(e),U=new Map;for(const M of z){const $=M.result;U.set($.matchKey,$);const B=G.find(te=>te.matchKey===$.matchKey);B&&(B.validationResult=$)}b(U)}catch(z){console.error("Failed to load validation results:",z)}},N=p.useCallback(async()=>{if(!e)return;if(f.length===0){await S(),oe.info('Matches loaded. Click "Validate Event" again to run validation.');return}o(!0),c(null);const G=f.filter(z=>z.hasScouting&&z.hasTBAResults);try{let z=0;const U=new Map(v);for(const M of G){d({current:z,total:G.length,currentMatch:M.displayName,phase:"validating"});const $=await P(M);$&&(U.set(M.matchKey,$),M.validationResult=$),z++}b(U),h([...f]),oe.success(`Validated ${z} matches`)}catch(z){const U=z instanceof Error?z.message:"Validation failed";c(U),oe.error(U)}finally{o(!1),d(null)}},[e,f,v,S]),P=async G=>{try{console.log("[Validation] Starting validation for:",G.matchKey,"matchNumber:",G.matchNumber);const z=y.find(Fe=>Fe.key===G.matchKey);if(!z||!z.score_breakdown)return console.log("[Validation] No TBA data for:",G.matchKey),Xet(G);const U=await Qet(e,G.matchKey,G.matchNumber);if(console.log("[Validation] Found",U.length,"scouting entries for:",G.matchKey),U.length===0)return console.log("[Validation] No scouting entries - returning no-scouting result"),ett(G);const M=U.filter(Fe=>Fe.allianceColor==="red"),$=U.filter(Fe=>Fe.allianceColor==="blue"),B=Cz("red",G,M),te=Cz("blue",G,$),q=xz("red",_S(z.alliances.red.team_keys),z.score_breakdown.red,z.alliances.red),ae=xz("blue",_S(z.alliances.blue.team_keys),z.score_breakdown.blue,z.alliances.blue),he=wz(B,q,t),je=wz(te,ae,t),Ee=jz("red",B,q,he,t),me=jz("blue",te,ae,je,t),Ve=Zet(M,$,he,je),ne=he.length+je.length,ke=[...he,...je].filter(Fe=>Fe.severity==="critical").length,we=[...he,...je].filter(Fe=>Fe.severity==="warning").length,re=wie(ke,we,t),He=Jet(B,te,ne,t),Oe=Om(G.matchKey),Xe={id:`${e}_${G.matchKey}`,eventKey:e,matchKey:G.matchKey,matchNumber:G.matchNumber.toString(),compLevel:Oe.compLevel,setNumber:Oe.setNumber,status:re,confidence:He,redAlliance:Ee,blueAlliance:me,teams:Ve,totalDiscrepancies:ne,criticalDiscrepancies:ke,warningDiscrepancies:we,flaggedForReview:ke>=t.autoFlagThreshold,requiresReScout:ke>=t.requireReScoutThreshold,validatedAt:Date.now()};return console.log("[Validation] Created result with status:",Xe.status,"for:",G.matchKey),await u_e({id:Xe.id,eventKey:Xe.eventKey,matchKey:Xe.matchKey,matchNumber:Xe.matchNumber,result:Xe,timestamp:Date.now()}),console.log("[Validation] Stored result successfully for:",G.matchKey),Xe}catch(z){return console.error(`[Validation] CAUGHT ERROR for ${G.matchKey}:`,z),null}},E=p.useCallback(async G=>{const z=f.find(U=>U.matchKey===G);if(!z)return null;o(!0);try{const U=await P(z);if(U){const M=new Map(v);M.set(G,U),b(M),z.validationResult=U,h([...f])}return U}finally{o(!1)}},[f,v]),R=p.useCallback(async()=>{f.length>0&&(await k([...f]),h([...f]))},[f]),O=p.useCallback(async()=>{if(e)try{await f_e(e),b(new Map);for(const G of f)G.validationResult=void 0;h([...f]),oe.success("Validation results cleared")}catch{oe.error("Failed to clear results")}},[e,f]),K=p.useCallback(G=>v.get(G)??null,[v]),J=p.useMemo(()=>Vet(f,m),[f,m]),Q=p.useMemo(()=>f.length===0?null:Wet(f,e),[f,e]);return p.useEffect(()=>{n&&e&&S()},[e,n]),{isLoading:r||w,isValidating:s,error:l,progress:u,matchList:f,filteredMatchList:J,summary:Q,filters:m,setFilters:g,loadMatches:S,validateEvent:N,validateMatch:E,refreshResults:R,clearResults:O,getMatchResult:K}}async function bie(e){try{const{getEntriesByEvent:t}=await _n(async()=>{const{getEntriesByEvent:r}=await Promise.resolve().then(()=>stt);return{getEntriesByEvent:r}},void 0);return(await t(e)).map(r=>({matchKey:r.matchKey,matchNumber:r.matchNumber,teamNumber:r.teamNumber,allianceColor:r.allianceColor,scoutName:r.scoutName,gameData:r.gameData}))}catch{return[]}}async function Qet(e,t,n){return(await bie(e)).filter(a=>a.matchKey===t||a.matchNumber===n)}function Cz(e,t,n){const r={alliance:e,matchKey:t.matchKey,matchNumber:t.matchNumber.toString(),eventKey:t.matchKey.split("_")[0]||"",teams:n.map(c=>c.teamNumber.toString()),scoutNames:n.map(c=>c.scoutName),actions:{},toggles:{},missingTeams:[],scoutedTeamsCount:n.length},a=RR();for(const c of a)r.actions[c]=0;const s=MR();for(const c of s)r.toggles[c]=0;for(const c of n){const u=c.gameData;console.log("[Aggregate] Processing entry for team",c.teamNumber,"gameData:",u);const d={},f=["auto","teleop","endgame"];for(const h of f){const m=u[h];if(m&&typeof m=="object")for(const[g,v]of Object.entries(m))d[g]=v}for(const[h,m]of Object.entries(u))f.includes(h)||(d[h]=m);console.log("[Aggregate] Flattened gameData:",d);for(const h of a){let m=d[h];m===void 0&&(m=d[`${h}Count`]),typeof m=="number"&&(r.actions[h]=(r.actions[h]??0)+m)}for(const h of s){const m=d[h];console.log("[Aggregate] Toggle",h,"=",m,"type:",typeof m),(m===!0||m===1)&&(r.toggles[h]=(r.toggles[h]??0)+1)}}const o=e==="red"?t.redTeams:t.blueTeams,l=new Set(n.map(c=>c.teamNumber.toString()));return r.missingTeams=o.filter(c=>!l.has(c)),r}function jz(e,t,n,r,a){const s=r.filter(u=>u.severity==="critical").length,o=r.filter(u=>u.severity==="warning").length,l=wie(s,o,a),c=Object.values(t.actions).reduce((u,d)=>u+d,0);return{alliance:e,status:l,confidence:t.scoutedTeamsCount===3?"high":t.scoutedTeamsCount>=1?"medium":"low",discrepancies:r,totalScoutedPoints:c,totalTBAPoints:n.totalPoints,scoreDifference:n.totalPoints-c,scorePercentDiff:n.totalPoints>0?Math.abs(n.totalPoints-c)/n.totalPoints*100:0,scoutedData:t,tbaData:n}}function Zet(e,t,n,r){const a=[];for(const s of e)a.push({teamNumber:s.teamNumber.toString(),alliance:"red",scoutName:s.scoutName,hasScoutedData:!0,discrepancies:[],confidence:"medium",flagForReview:n.some(o=>o.severity==="critical"),notes:[]});for(const s of t)a.push({teamNumber:s.teamNumber.toString(),alliance:"blue",scoutName:s.scoutName,hasScoutedData:!0,discrepancies:[],confidence:"medium",flagForReview:r.some(o=>o.severity==="critical"),notes:[]});return a}function wie(e,t,n){return e>=n.requireReScoutThreshold?"failed":e>=n.autoFlagThreshold||t>0?"flagged":"passed"}function Jet(e,t,n,r){const a=e.scoutedTeamsCount+t.scoutedTeamsCount;return a<4?"low":n>r.maxDiscrepanciesForHighConfidence?"medium":a===6?"high":"medium"}function Xet(e){const t=Om(e.matchKey);return{id:`${e.matchKey.split("_")[0]}_${e.matchKey}`,eventKey:e.matchKey.split("_")[0]||"",matchKey:e.matchKey,matchNumber:e.matchNumber.toString(),compLevel:t.compLevel??"qm",setNumber:t.setNumber,status:"no-tba-data",confidence:"low",redAlliance:DS("red"),blueAlliance:DS("blue"),teams:[],totalDiscrepancies:0,criticalDiscrepancies:0,warningDiscrepancies:0,flaggedForReview:!1,requiresReScout:!1,validatedAt:Date.now()}}function ett(e){const t=Om(e.matchKey);return{id:`${e.matchKey.split("_")[0]}_${e.matchKey}`,eventKey:e.matchKey.split("_")[0]||"",matchKey:e.matchKey,matchNumber:e.matchNumber.toString(),compLevel:t.compLevel??"qm",setNumber:t.setNumber,status:"no-scouting",confidence:"low",redAlliance:DS("red"),blueAlliance:DS("blue"),teams:[],totalDiscrepancies:0,criticalDiscrepancies:0,warningDiscrepancies:0,flaggedForReview:!1,requiresReScout:!1,validatedAt:Date.now()}}function DS(e){return{alliance:e,status:"pending",confidence:"low",discrepancies:[],totalScoutedPoints:0,totalTBAPoints:0,scoreDifference:0,scorePercentDiff:0}}function ttt(e){const t=e.hubScore;return t?{autoFuel:t.autoCount??0,teleopFuel:t.teleopCount??0}:(console.warn("[2026 TBA] No hubScore found in breakdown"),{autoFuel:0,teleopFuel:0})}function ntt(e){if(typeof e!="string")return 0;const t=e.match(/Level(\d)/);return t!=null&&t[1]?parseInt(t[1],10):0}function rtt(e,t,n,r){return{autoFuel:e>0?t/e:1,teleopFuel:n>0?r/n:1}}function att(e,t,n,r,a,s){return{teamNumber:e,rawAutoFuel:t,rawTeleopFuel:n,rawTowerLevel:r,scaledAutoFuel:Math.round(t*a.autoFuel),scaledTeleopFuel:Math.round(n*a.teleopFuel),officialTowerLevel:s??r,scalingApplied:!0,scalingFactors:a}}function Cb(e,t,n){const{autoFuel:r,teleopFuel:a}=ttt(n);let s=0,o=0;const l=[];for(const d of t){const f=d.gameData;let h=0,m=0,g=0;f.auto&&typeof f.auto=="object"&&(h=f.auto.fuelScored??0),f.teleop&&typeof f.teleop=="object"&&(m=f.teleop.fuelScored??0),f.endgame&&typeof f.endgame=="object"&&(g=f.endgame.towerLevel??0),h===0&&f.autoFuelScored&&(h=f.autoFuelScored),m===0&&f.teleopFuelScored&&(m=f.teleopFuelScored),g===0&&f.towerLevel&&(g=f.towerLevel),s+=h,o+=m,l.push({teamNumber:d.teamNumber.toString(),autoFuel:h,teleopFuel:m,towerLevel:g})}const c=rtt(s,r,o,a),u=l.map((d,f)=>{const h=`endGameTowerRobot${f+1}`,m=n[h],g=ntt(m);return att(d.teamNumber,d.autoFuel,d.teleopFuel,d.towerLevel,c,g)});return{alliance:e,scoutedAutoTotal:s,officialAutoTotal:r,scoutedTeleopTotal:o,officialTeleopTotal:a,scalingFactors:c,teams:u}}async function Nz(e,t,n){let r=0,a=0;const s=[...n.red.teams,...n.blue.teams];for(const o of s)try{const c=(await zr.scoutingData.where("[teamNumber+eventKey]").equals([parseInt(o.teamNumber),e]).toArray()).find(u=>u.matchKey===t);if(c){const u={...c.gameData,scaledMetrics:{scalingApplied:!0,scaledAutoFuel:o.scaledAutoFuel,scaledTeleopFuel:o.scaledTeleopFuel,scalingFactorAuto:o.scalingFactors.autoFuel,scalingFactorTeleop:o.scalingFactors.teleopFuel,officialTowerLevel:o.officialTowerLevel,lastScaledAt:Date.now()}};await zr.scoutingData.update(c.id,{gameData:u}),r++,console.log(`[2026 Scaling] Updated entry for team ${o.teamNumber}:`,{scaledAuto:o.scaledAutoFuel,scaledTeleop:o.scaledTeleopFuel,officialTower:o.officialTowerLevel})}else console.warn(`[2026 Scaling] Entry not found for team ${o.teamNumber} in match ${t}`),a++}catch(l){console.error(`[2026 Scaling] Error updating team ${o.teamNumber}:`,l),a++}return{updated:r,errors:a}}async function e_(e){try{const n=(await zr.scoutingData.toArray()).filter(r=>r.eventKey===e);return console.log(`[ScoutingDB] Found ${n.length} entries for event ${e}`),n.map(r=>({...r,matchKey:r.matchKey||`${e}_qm${r.matchNumber}`,matchNumber:r.matchNumber,allianceColor:r.allianceColor,scoutName:r.scoutName,gameData:r.gameData||{}}))}catch(t){return console.error("[ScoutingDB] Error loading entries:",t),[]}}const stt=Object.freeze(Object.defineProperty({__proto__:null,getEntriesByEvent:e_},Symbol.toStringTag,{value:"Module"}));function itt(e){const{eventKey:t,config:n,autoLoad:r,enableScaling:a=!0}=e,s=Yet({eventKey:t,config:n,autoLoad:r}),{matches:o}=QR(),l=p.useCallback(async u=>{const d=await s.validateMatch(u);if(!d||!a)return d;try{const f=o.find(S=>S.key===u);if(!f||!f.score_breakdown)return console.log("[2026 Scaling] No TBA data for scaling:",u),d;const m=(await e_(t)).filter(S=>S.matchKey===u);if(m.length===0)return d;const g=m.filter(S=>S.allianceColor==="red"),v=m.filter(S=>S.allianceColor==="blue"),b=f.score_breakdown.red,x=f.score_breakdown.blue,y=Cb("red",g,b),w=Cb("blue",v,x);await Nz(t,u,{red:y,blue:w}),console.log("[2026 Scaling] Applied scaling to match:",u),oe.success(`Scaling applied to ${u}`,{duration:2e3})}catch(f){console.error("[2026 Scaling] Error applying scaling:",f)}return d},[s,a,t,o]),c=p.useCallback(async()=>{if(await s.validateEvent(),!!a)try{const u=s.matchList.filter(f=>f.hasScouting&&f.hasTBAResults&&f.validationResult);let d=0;for(const f of u)try{const h=o.find(C=>C.key===f.matchKey);if(!h||!h.score_breakdown)continue;const g=(await e_(t)).filter(C=>C.matchKey===f.matchKey);if(g.length===0)continue;const v=g.filter(C=>C.allianceColor==="red"),b=g.filter(C=>C.allianceColor==="blue"),x=h.score_breakdown.red,y=h.score_breakdown.blue,w=Cb("red",v,x),S=Cb("blue",b,y);await Nz(t,f.matchKey,{red:w,blue:S}),d++}catch(h){console.error(`[2026 Scaling] Error scaling match ${f.matchKey}:`,h)}d>0&&oe.success(`Applied scaling to ${d} matches`)}catch(u){console.error("[2026 Scaling] Error in batch scaling:",u),oe.error("Some matches could not be scaled")}},[s,a,t,o]);return{...s,validateMatch:l,validateEvent:c,scalingEnabled:a}}const HO=({status:e,size:t="md",showIcon:n=!0})=>{const a=(c=>{switch(c){case"passed":return{label:"Passed",className:"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-400 border-green-200 dark:border-green-800",icon:Br};case"flagged":return{label:"Flagged",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800",icon:Mn};case"failed":return{label:"Failed",className:"bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-400 border-red-200 dark:border-red-800",icon:Vw};case"pending":return{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400 border-gray-200 dark:border-gray-700",icon:jc};case"no-tba-data":return{label:"No TBA Data",className:"bg-blue-100 text-blue-800 dark:bg-blue-950 dark:text-blue-400 border-blue-200 dark:border-blue-800",icon:bo};default:return{label:"Unknown",className:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400 border-gray-200 dark:border-gray-700",icon:jc}}})(e),s=a.icon,o={sm:"text-xs",md:"text-sm",lg:"text-base"},l={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return i.jsxs(Le,{className:`${a.className} ${o[t]} font-medium`,children:[n&&i.jsx(s,{className:`${l[t]} mr-1`}),a.label]})},ott=({results:e})=>{const t=e.map(f=>f.validationResult).filter(f=>f!=null),n=t.length,r=t.filter(f=>f.status==="passed").length,a=t.filter(f=>f.status==="flagged").length,s=t.filter(f=>f.status==="failed").length,o=t.reduce((f,h)=>f+h.criticalDiscrepancies,0),l=t.reduce((f,h)=>f+h.warningDiscrepancies,0),c=t.length>0?t.filter(f=>f.confidence==="high").length/t.length:0,u=c>=.8?"High":c>=.5?"Medium":"Low",d=[{label:"Total Validated",value:n,icon:Td,className:"text-gray-600 dark:text-gray-400"},{label:"Passed",value:r,icon:rm,className:"text-green-600 dark:text-green-400",percentage:n>0?Math.round(r/n*100):0},{label:"Flagged",value:a,icon:Mn,className:"text-yellow-600 dark:text-yellow-400",percentage:n>0?Math.round(a/n*100):0},{label:"Failed",value:s,icon:Vw,className:"text-red-600 dark:text-red-400",percentage:n>0?Math.round(s/n*100):0}];return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Td,{className:"h-5 w-5"}),"Validation Summary"]})}),i.jsxs($e,{children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:d.map(f=>{const h=f.icon;return i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx(h,{className:"h-4 w-4"}),i.jsx("span",{children:f.label})]}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("div",{className:`text-3xl font-bold ${f.className}`,children:f.value}),f.percentage!==void 0&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:["(",f.percentage,"%)"]})]})]},f.label)})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4 border-t",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Discrepancies"}),i.jsx("div",{className:"text-2xl font-semibold",children:o+l})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Critical"}),i.jsx("div",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:o})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Confidence"}),i.jsx("div",{className:`text-2xl font-semibold ${u==="High"?"text-green-600 dark:text-green-400":u==="Medium"?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:u})]})]})]})]})},kz=({allianceValidation:e,onRescoutAlliance:t})=>{const n=e.alliance==="red",r=n?"bg-red-100 dark:bg-red-950":"bg-blue-100 dark:bg-blue-950",a=n?"border-red-300 dark:border-red-800":"border-blue-300 dark:border-blue-800",s=n?"text-red-900 dark:text-red-100":"text-blue-900 dark:text-blue-100",o=l=>{switch(l){case"critical":return"destructive";case"warning":return"default";case"minor":return"secondary";default:return"outline"}};return i.jsxs(De,{className:`${a} border-2`,children:[i.jsx(Ke,{className:r,children:i.jsxs(Ge,{className:`flex items-center justify-between ${s} pt-1`,children:[i.jsxs("span",{className:"capitalize",children:[e.alliance," Alliance"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(HO,{status:e.status,size:"sm"}),i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>t(e.alliance),className:"bg-white/50 dark:bg-gray-900/50 hover:bg-white dark:hover:bg-gray-900",children:[i.jsx(Ul,{className:"h-3 w-3 mr-1"}),"Re-Scout Alliance"]})]})]})}),i.jsxs($e,{className:"pt-4",children:[i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Scouted Score:"}),i.jsx("span",{className:"font-bold text-lg",children:e.totalScoutedPoints})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"TBA Score:"}),i.jsx("span",{className:"font-bold text-lg",children:e.totalTBAPoints})]}),i.jsx(Or,{}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Difference:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`font-bold ${Math.abs(e.scoreDifference)>10?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[e.scoreDifference>0?"+":"",e.scoreDifference]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",e.scorePercentDiff.toFixed(1),"%)"]})]})]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Confidence:"}),i.jsx(Le,{variant:e.confidence==="high"?"default":e.confidence==="medium"?"secondary":"destructive",children:e.confidence.toUpperCase()})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-sm font-medium",children:"Discrepancies:"}),e.discrepancies.length===0?i.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[i.jsx(rm,{className:"h-4 w-4"}),i.jsx("span",{children:"No discrepancies found"})]}):i.jsx("div",{className:"space-y-1",children:["critical","warning","minor"].map(l=>{const c=e.discrepancies.filter(u=>u.severity===l).length;return c===0?null:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"capitalize",children:[l,":"]}),i.jsx(Le,{variant:o(l),className:"text-xs",children:c})]},l)})})]})]})]})},ltt=({match:e})=>i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-base",children:"Match Summary"})}),i.jsxs($e,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Discrepancies"}),i.jsx("div",{className:"text-2xl font-bold",children:e.totalDiscrepancies})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Critical Issues"}),i.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.criticalDiscrepancies})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Warnings"}),i.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:e.warningDiscrepancies})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"}),i.jsx(Le,{variant:e.confidence==="high"?"default":e.confidence==="medium"?"secondary":"destructive",className:"text-lg",children:e.confidence.toUpperCase()})]})]}),e.flaggedForReview&&i.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-900 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-300",children:[i.jsx(Mn,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Flagged for Review"})]})}),e.requiresReScout&&i.jsx("div",{className:"mt-2 p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-800 dark:text-red-300",children:[i.jsx(Mn,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Requires Re-Scouting"})]})})]})]}),ctt=({discrepancies:e,getSeverityVariant:t})=>e.length===0?null:i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"text-base flex items-center gap-2",children:[i.jsx(Mn,{className:"h-4 w-4"}),"Detailed Discrepancies (",e.length,")"]})}),i.jsx($e,{children:i.jsx("div",{className:"space-y-3",children:e.map((n,r)=>i.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Le,{variant:"outline",className:n.alliance==="red"?"bg-red-100 dark:bg-red-950 border-red-300 dark:border-red-800":"bg-blue-100 dark:bg-blue-950 border-blue-300 dark:border-blue-800",children:n.alliance.toUpperCase()}),i.jsx(Le,{variant:t(n.severity),children:n.severity.toUpperCase()}),i.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:n.category.replace("-"," ")})]}),i.jsx("div",{className:"font-medium text-sm mb-1",children:n.message}),i.jsx("div",{className:"text-xs text-muted-foreground",children:n.field})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"text-muted-foreground",children:"Scouted:"}),i.jsx("div",{className:"font-bold",children:n.scoutedValue})]}),i.jsxs("div",{className:"text-sm mt-1",children:[i.jsx("div",{className:"text-muted-foreground",children:"TBA:"}),i.jsx("div",{className:"font-bold",children:n.tbaValue})]}),i.jsxs("div",{className:"text-xs mt-1 text-muted-foreground",children:[" ",n.difference," (",n.percentDiff.toFixed(1),"%)"]})]})]})},`${n.alliance}-${n.field}-${r}`))})})]}),utt=({teams:e,onRescoutTeam:t})=>!e||e.length===0?null:i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-base",children:"Team Breakdown"})}),i.jsx($e,{children:i.jsx("div",{className:"space-y-4",children:e.map(n=>i.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx(Le,{variant:"outline",className:`shrink-0 ${n.alliance==="red"?"bg-red-100 dark:bg-red-950":"bg-blue-100 dark:bg-blue-950"}`,children:n.teamNumber}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("div",{className:"text-sm font-medium flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"truncate",children:n.hasScoutedData?n.scoutName:"No Data"}),n.isCorrected&&i.jsx(Le,{variant:"secondary",className:"text-xs bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 shrink-0",children:"Corrected"})]}),n.notes.length>0&&i.jsx("div",{className:"text-xs text-muted-foreground",children:n.notes.join(", ")}),n.isCorrected&&n.correctionCount&&n.correctionCount>0&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.correctionCount," ",n.correctionCount===1?"correction":"corrections",n.lastCorrectedBy&&` by ${n.lastCorrectedBy}`,n.lastCorrectedAt&&`  ${new Date(n.lastCorrectedAt).toLocaleString()}`]}),n.correctionNotes&&i.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-400 italic mt-1",children:["Note: ",n.correctionNotes]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap shrink-0",children:[n.flagForReview&&i.jsx(Le,{variant:"destructive",className:"text-xs",children:"Review"}),i.jsx(Le,{variant:n.confidence==="high"?"default":n.confidence==="medium"?"secondary":"destructive",className:"text-xs",children:n.confidence}),i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>t(n.teamNumber,n.alliance),children:[i.jsx(Ul,{className:"h-3 w-3 mr-1"}),"Re-Scout"]})]})]})},n.teamNumber))})})]}),dtt=({match:e,isOpen:t,onClose:n,onReValidate:r,formatMatchLabel:a})=>{const s=zo(),o=e.validationResult,l=a?a({...e,matchNumber:e.matchNumber.toString()}):e.displayName,c=()=>e.matchKey?`https://www.thebluealliance.com/match/${e.matchKey}`:null,u=(g,v)=>{s("/game-start",{state:{rescout:{isRescout:!0,matchNumber:e.matchNumber.toString(),teamNumber:g,alliance:v,eventKey:e.matchKey.split("_")[0]}}})},d=g=>{var x;const v=((x=o==null?void 0:o.teams)==null?void 0:x.filter(y=>y.alliance===g).map(y=>y.teamNumber))||[];if(v.length===0){console.warn("No teams found for alliance:",g);return}const b={isRescout:!0,matchNumber:e.matchNumber.toString(),alliance:g,eventKey:e.matchKey.split("_")[0],teams:v,currentTeamIndex:0};s("/game-start",{state:{rescout:b}})},f=g=>{switch(g){case"critical":return"destructive";case"warning":return"default";case"minor":return"secondary";default:return"outline"}},h=o?[...o.redAlliance.discrepancies.map(g=>({...g,alliance:"red"})),...o.blueAlliance.discrepancies.map(g=>({...g,alliance:"blue"}))].sort((g,v)=>{const b={critical:0,warning:1,minor:2,none:3};return b[g.severity]-b[v.severity]}):[],m=(o==null?void 0:o.status)??(e.hasScouting?"pending":"no-scouting");return i.jsx(ep,{open:t,onOpenChange:n,children:i.jsxs(tp,{side:"right",className:"w-full sm:max-w-3xl overflow-y-auto p-4",children:[i.jsx(np,{className:"pt-4 px-0 pb-0",children:i.jsxs(rp,{className:"flex flex-col gap-3 py-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{children:l}),i.jsx(HO,{status:m})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c()&&i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>window.open(c(),"_blank"),className:"p-4",children:[i.jsx(wg,{className:"h-4 w-4 mr-2"}),"View in TBA"]}),r&&o&&i.jsxs(Z,{variant:"outline",size:"sm",onClick:r,className:"p-4",children:[i.jsx(Ul,{className:"h-4 w-4"}),"Re-validate"]})]})]})}),i.jsx("div",{className:"space-y-6",children:o?i.jsxs(i.Fragment,{children:[i.jsx(ltt,{match:o}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Alliance Comparison"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(kz,{allianceValidation:o.redAlliance,onRescoutAlliance:d}),i.jsx(kz,{allianceValidation:o.blueAlliance,onRescoutAlliance:d})]})]}),i.jsx(ctt,{discrepancies:h,getSeverityVariant:f}),i.jsx(utt,{teams:o.teams||[],onRescoutTeam:u}),i.jsxs("div",{className:"text-xs text-muted-foreground text-center pb-4",children:["Validated: ",new Date(o.validatedAt).toLocaleString(),o.validatedBy&&`  By: ${o.validatedBy}`]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(ar,{children:[i.jsx(Ly,{className:"h-4 w-4"}),i.jsx(pr,{children:e.hasScouting?'This match has scouting data but has not been validated yet. Click "Validate Event" on the main page to run validation.':"This match has not been scouted yet. TBA data is shown below."})]}),e.hasTBAResults&&e.redScore!==void 0&&e.blueScore!==void 0?i.jsxs(i.Fragment,{children:[i.jsx(De,{children:i.jsxs($e,{className:"pt-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"TBA Match Results"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"border-2 border-red-300 dark:border-red-800 rounded-lg p-4 bg-red-50 dark:bg-red-950/30",children:[i.jsx("div",{className:"text-sm text-red-700 dark:text-red-300 font-medium mb-2",children:"Red Alliance"}),i.jsx("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100 mb-2",children:e.redScore}),i.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:e.redTeams.map(g=>i.jsx("div",{children:g},g))}),e.redAutoScore!==void 0&&e.redTeleopScore!==void 0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200 dark:border-red-800 text-xs space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Auto:"}),i.jsx("span",{className:"font-medium",children:e.redAutoScore})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Teleop:"}),i.jsx("span",{className:"font-medium",children:e.redTeleopScore})]})]})]}),i.jsxs("div",{className:"border-2 border-blue-300 dark:border-blue-800 rounded-lg p-4 bg-blue-50 dark:bg-blue-950/30",children:[i.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-2",children:"Blue Alliance"}),i.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mb-2",children:e.blueScore}),i.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:e.blueTeams.map(g=>i.jsx("div",{children:g},g))}),e.blueAutoScore!==void 0&&e.blueTeleopScore!==void 0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-800 text-xs space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Auto:"}),i.jsx("span",{className:"font-medium",children:e.blueAutoScore})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Teleop:"}),i.jsx("span",{className:"font-medium",children:e.blueTeleopScore})]})]})]})]}),i.jsx("div",{className:"space-y-2 text-sm",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Scouting Status:"}),i.jsx("span",{className:"font-medium",children:e.scoutingComplete?"Complete":e.hasScouting?`Partial (${e.redTeamsScouted+e.blueTeamsScouted}/6 teams)`:"Not Scouted"})]})})]})}),!e.hasScouting&&i.jsxs(ar,{children:[i.jsx(Mn,{className:"h-4 w-4"}),i.jsx(pr,{children:"To validate this match, scout all 6 teams using the Game Start page."})]})]}):i.jsx(De,{children:i.jsx($e,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Match:"}),i.jsx("span",{className:"font-medium",children:l})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"TBA Results:"}),i.jsx("span",{className:"font-medium",children:"Not Available"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Red Alliance:"}),i.jsx("span",{className:"font-medium",children:e.redTeams.join(", ")})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Blue Alliance:"}),i.jsx("span",{className:"font-medium",children:e.blueTeams.join(", ")})]})]})})})]})})]})})},ftt=({filters:e,onFiltersChange:t,matchCount:n,filteredCount:r})=>{const a=(s,o)=>{t({...e,[s]:o})};return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{children:"Filters & Sorting"})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{htmlFor:"search",className:"flex items-center gap-2",children:[i.jsx(iD,{className:"h-4 w-4"}),"Search"]}),i.jsx(Qt,{id:"search",placeholder:"Match number or team...",value:e.searchQuery,onChange:s=>a("searchQuery",s.target.value),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-0 lg:max-w-5xl",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{htmlFor:"matchType",className:"flex items-center gap-2",children:[i.jsx(zw,{className:"h-4 w-4"}),"Match Type"]}),i.jsxs(Lr,{value:e.matchType,onValueChange:s=>a("matchType",s),children:[i.jsx($r,{id:"matchType",children:i.jsx(ia,{})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"all",children:"All Matches"}),i.jsx(at,{value:"qm",children:"Qualifications"}),i.jsx(at,{value:"sf",children:"Eliminations"}),i.jsx(at,{value:"f",children:"Finals"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"status",children:"Status"}),i.jsxs(Lr,{value:e.status,onValueChange:s=>a("status",s),children:[i.jsx($r,{id:"status",children:i.jsx(ia,{})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"all",children:"All Status"}),i.jsx(at,{value:"passed",children:" Passed"}),i.jsx(at,{value:"flagged",children:" Flagged"}),i.jsx(at,{value:"failed",children:" Failed"}),i.jsx(at,{value:"pending",children:" Pending"}),i.jsx(at,{value:"no-tba-data",children:" No TBA Data"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{htmlFor:"sortBy",className:"flex items-center gap-2",children:[i.jsx(pG,{className:"h-4 w-4"}),"Sort By"]}),i.jsxs(Lr,{value:e.sortBy,onValueChange:s=>a("sortBy",s),children:[i.jsx($r,{id:"sortBy",children:i.jsx(ia,{})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"match",children:"Match Number"}),i.jsx(at,{value:"status",children:"Status"}),i.jsx(at,{value:"discrepancies",children:"Discrepancies"}),i.jsx(at,{value:"confidence",children:"Confidence"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Mt,{htmlFor:"sortOrder",children:"Order"}),i.jsxs(Lr,{value:e.sortOrder,onValueChange:s=>a("sortOrder",s),children:[i.jsx($r,{id:"sortOrder",children:i.jsx(ia,{})}),i.jsxs(Fr,{children:[i.jsx(at,{value:"desc",children:"Descending"}),i.jsx(at,{value:"asc",children:"Ascending"})]})]})]})]}),i.jsx("div",{className:"text-sm text-muted-foreground pt-2 border-t",children:r===n?i.jsxs("span",{children:["Showing all ",n," matches"]}):i.jsxs("span",{children:["Showing ",r," of ",n," matches"]})})]})})]})};function htt({className:e,...t}){return i.jsx(nJ,{"data-slot":"tabs",className:Re("flex flex-col gap-2",e),...t})}function mtt({className:e,...t}){return i.jsx(rJ,{"data-slot":"tabs-list",className:Re("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Az({className:e,...t}){return i.jsx(aJ,{"data-slot":"tabs-trigger",className:Re("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Pz({className:e,...t}){return i.jsx(sJ,{"data-slot":"tabs-content",className:Re("flex-1 outline-none",e),...t})}const Sie=({thresholds:e,onChange:t,compact:n})=>{const r=(a,s)=>{const o=s===""||s==="-"?0:Number(s);t({...e,[a]:o})};return n?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Mt,{className:"text-xs flex items-center gap-1",children:[i.jsx(Le,{variant:"destructive",className:"text-xs px-1",children:"Critical"}),i.jsx("span",{children:"%"})]}),i.jsx(Qt,{type:"number",min:"0",max:"100",value:e.critical||"",onChange:a=>r("critical",a.target.value),className:"h-8 text-xs",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Mt,{className:"text-xs flex items-center gap-1",children:[i.jsx(Le,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0 text-xs px-1",children:"Warning"}),i.jsx("span",{children:"%"})]}),i.jsx(Qt,{type:"number",min:"0",max:"100",value:e.warning||"",onChange:a=>r("warning",a.target.value),className:"h-8 text-xs",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Mt,{className:"text-xs flex items-center gap-1",children:[i.jsx(Le,{variant:"secondary",className:"text-xs px-1",children:"Minor"}),i.jsx("span",{children:"%"})]}),i.jsx(Qt,{type:"number",min:"0",max:"100",value:e.minor||"",onChange:a=>r("minor",a.target.value),className:"h-8 text-xs",placeholder:"0"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Mt,{className:"text-xs flex items-center gap-1",children:[i.jsx(Le,{variant:"destructive",className:"text-xs px-1",children:"Critical"}),i.jsx("span",{children:"pcs"})]}),i.jsx(Qt,{type:"number",min:"0",value:e.criticalAbsolute||"",onChange:a=>r("criticalAbsolute",a.target.value),className:"h-8 text-xs",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Mt,{className:"text-xs flex items-center gap-1",children:[i.jsx(Le,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0 text-xs px-1",children:"Warning"}),i.jsx("span",{children:"pcs"})]}),i.jsx(Qt,{type:"number",min:"0",value:e.warningAbsolute||"",onChange:a=>r("warningAbsolute",a.target.value),className:"h-8 text-xs",placeholder:"0"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Mt,{className:"text-xs flex items-center gap-1",children:[i.jsx(Le,{variant:"secondary",className:"text-xs px-1",children:"Minor"}),i.jsx("span",{children:"pcs"})]}),i.jsx(Qt,{type:"number",min:"0",value:e.minorAbsolute||"",onChange:a=>r("minorAbsolute",a.target.value),className:"h-8 text-xs",placeholder:"0"})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"destructive",className:"text-xs",children:"Critical"}),i.jsx("span",{className:"text-xs",children:"%"})]}),i.jsx(Qt,{type:"number",min:"0",max:"100",value:e.critical||"",onChange:a=>r("critical",a.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{className:"flex items-center gap-2",children:[i.jsx(Le,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0 text-xs",children:"Warning"}),i.jsx("span",{className:"text-xs",children:"%"})]}),i.jsx(Qt,{type:"number",min:"0",max:"100",value:e.warning||"",onChange:a=>r("warning",a.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"secondary",className:"text-xs",children:"Minor"}),i.jsx("span",{className:"text-xs",children:"%"})]}),i.jsx(Qt,{type:"number",min:"0",max:"100",value:e.minor||"",onChange:a=>r("minor",a.target.value),placeholder:"0"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"destructive",className:"text-xs",children:"Critical"}),i.jsx("span",{className:"text-xs",children:"pcs"})]}),i.jsx(Qt,{type:"number",min:"0",value:e.criticalAbsolute||"",onChange:a=>r("criticalAbsolute",a.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{className:"flex items-center gap-2",children:[i.jsx(Le,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0 text-xs",children:"Warning"}),i.jsx("span",{className:"text-xs",children:"pcs"})]}),i.jsx(Qt,{type:"number",min:"0",value:e.warningAbsolute||"",onChange:a=>r("warningAbsolute",a.target.value),placeholder:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Mt,{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"secondary",className:"text-xs",children:"Minor"}),i.jsx("span",{className:"text-xs",children:"pcs"})]}),i.jsx(Qt,{type:"number",min:"0",value:e.minorAbsolute||"",onChange:a=>r("minorAbsolute",a.target.value),placeholder:"0"})]})]})]})},ptt=({categories:e,expandedCategories:t,onToggleCategory:n,getCategoryThresholds:r,hasCategoryOverride:a,onUpdateCategoryThresholds:s})=>i.jsxs("div",{className:"space-y-3 mt-4",children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Click a category to customize its thresholds. Leave empty to use defaults."}),e.map(o=>{const l=t.has(o.key),c=a(o.key),u=r(o.key);return i.jsxs(De,{children:[i.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50 transition-colors p-4",onClick:()=>n(o.key),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ge,{className:"text-sm",children:o.label}),c&&i.jsx(Le,{variant:"outline",className:"text-xs",children:"Custom"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description})]}),l?i.jsx(tD,{className:"h-4 w-4"}):i.jsx(Iy,{className:"h-4 w-4"})]})}),l&&i.jsx($e,{className:"pt-0 pb-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(Sie,{thresholds:u,onChange:d=>{s(o.key,d)},compact:!0}),i.jsx("div",{className:"flex gap-2 pt-2",children:c?i.jsx(Z,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>s(o.key,void 0),children:"Use Defaults"}):i.jsx("div",{className:"text-xs text-muted-foreground",children:"Currently using default thresholds"})})]})})]},o.key)})]});function gtt(){return UNe()}const vtt=({isOpen:e,onClose:t,currentConfig:n,onSave:r})=>{const[a,s]=p.useState(n),[o,l]=p.useState(!1),[c,u]=p.useState(new Set),d=gtt();p.useEffect(()=>{s(n),l(!1)},[n,e]);const f=w=>{s(S=>({...S,thresholds:w})),l(!0)},h=(w,S)=>{s(C=>({...C,categoryThresholds:{...C.categoryThresholds,[w]:S}})),l(!0)},m=w=>{const S=new Set(c);S.has(w)?S.delete(w):S.add(w),u(S)},g=w=>{var S;return((S=a.categoryThresholds)==null?void 0:S[w])||a.thresholds},v=w=>{var S;return!!((S=a.categoryThresholds)!=null&&S[w])},b=()=>{r(a),l(!1),t()},x=()=>{s(TS),l(!0)},y=()=>{s(n),l(!1),t()};return i.jsx(ep,{open:e,onOpenChange:w=>{w||y()},children:i.jsxs(tp,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto p-4 flex flex-col",children:[i.jsxs(np,{className:"pt-4 px-0 pb-0",children:[i.jsxs(rp,{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-5 w-5"}),"Validation Settings"]}),i.jsx(J7,{children:"Customize thresholds globally or per-category. Category overrides take precedence over defaults."})]}),i.jsxs(htt,{defaultValue:"default",className:"mt-6 flex-1 flex flex-col",children:[i.jsxs(mtt,{className:"grid w-full grid-cols-2",children:[i.jsx(Az,{value:"default",children:"Default Thresholds"}),i.jsx(Az,{value:"categories",children:"Per-Category"})]}),i.jsxs(Pz,{value:"default",className:"space-y-4 mt-4",children:[i.jsxs(De,{children:[i.jsxs(Ke,{children:[i.jsx(Ge,{className:"text-base",children:"Global Defaults"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"These thresholds apply to all categories unless overridden"})]}),i.jsx($e,{children:i.jsx(Sie,{thresholds:a.thresholds,onChange:f})})]}),i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsx(Ge,{className:"text-sm",children:"How It Works"})}),i.jsxs($e,{className:"text-xs text-muted-foreground space-y-2",children:[i.jsx("p",{children:i.jsx("strong",{children:"Absolute thresholds checked first:"})}),i.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[i.jsx("li",{children:"If difference  critical absolute  Critical"}),i.jsx("li",{children:"If difference  warning absolute  Warning"}),i.jsx("li",{children:"If difference < warning absolute  Check percentage"})]}),i.jsx("p",{className:"mt-2",children:i.jsx("strong",{children:"Prevents false positives:"})}),i.jsx("p",{className:"ml-2",children:`Small counts like "0 vs 1" won't be critical despite 100% difference`})]})]})]}),i.jsx(Pz,{value:"categories",className:"space-y-3 mt-4",children:i.jsx(ptt,{categories:d,expandedCategories:c,onToggleCategory:m,getCategoryThresholds:g,hasCategoryOverride:v,onUpdateCategoryThresholds:h})})]}),i.jsxs(jke,{className:"gap-2 pb-4 pt-6 px-0",children:[i.jsxs(Z,{variant:"outline",onClick:x,className:"gap-2",children:[i.jsx(Nfe,{className:"h-4 w-4"}),"Reset All"]}),i.jsx(Z,{variant:"outline",onClick:y,children:"Cancel"}),i.jsxs(Z,{onClick:b,disabled:!o,className:"gap-2",children:[i.jsx(sD,{className:"h-4 w-4"}),"Save Settings"]})]})]})})},ytt=({results:e,filteredResults:t,onMatchClick:n})=>i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-5 w-5"}),"Matches (",t.length,")"]})}),i.jsx($e,{children:e.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("p",{children:"No matches loaded yet."}),i.jsx("p",{className:"text-sm mt-2",children:"Select an event to load matches."})]}):t.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("p",{children:"No matches found with the current filters."}),i.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search criteria."})]}):i.jsx("div",{className:"space-y-2",children:t.map(r=>{const a=r.validationResult,s=(a==null?void 0:a.status)??(r.hasScouting?"pending":"no-scouting");return i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors",onClick:()=>n(r),children:[i.jsxs("div",{className:"flex items-center gap-3 justify-between lg:justify-normal",children:[i.jsx("span",{className:"font-medium text-lg min-w-[100px]",children:r.displayName}),i.jsx(HO,{status:s})]}),i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 lg:gap-6",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.criticalDiscrepancies>0&&i.jsxs(Le,{variant:"destructive",children:[a.criticalDiscrepancies," critical"]}),a.warningDiscrepancies>0&&i.jsxs(Le,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-400 border-0",children:[a.warningDiscrepancies," warnings"]}),a.criticalDiscrepancies===0&&a.warningDiscrepancies===0&&i.jsx("span",{className:"text-sm text-muted-foreground",children:"No issues"})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:text-right",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Confidence:"}),i.jsx("span",{className:`font-medium ${a.confidence==="high"?"text-green-600 dark:text-green-400":a.confidence==="medium"?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:a.confidence.charAt(0).toUpperCase()+a.confidence.slice(1)})]})]}):i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm text-muted-foreground",children:r.hasScouting?`Scouted: ${r.redTeamsScouted+r.blueTeamsScouted}/6 teams`:"Not scouted"})})})]},r.matchKey)})})})]}),Ez="validationConfig",xtt=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(null),[a,s]=p.useState(!1),[o,l]=p.useState(TS);p.useEffect(()=>{const y=localStorage.getItem("eventKey")||"";t(y);const w=localStorage.getItem(Ez);if(w)try{l(JSON.parse(w))}catch{l(TS)}},[]);const{isValidating:c,matchList:u,filteredMatchList:d,filters:f,setFilters:h,validateEvent:m,refreshResults:g,scalingEnabled:v}=itt({eventKey:e,autoLoad:!0,config:o,enableScaling:!0});p.useEffect(()=>{if(n&&u.length>0){const y=u.find(w=>w.matchKey===n.matchKey);y&&y.validationResult!==n.validationResult&&r(y)}},[u,n]);const b=y=>{t(y),localStorage.setItem("eventKey",y)},x=y=>{l(y),localStorage.setItem(Ez,JSON.stringify(y))};return i.jsxs("div",{className:"container min-h-screen mx-auto px-4 pt-12 pb-24 space-y-6 mt-safe",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"shrink-0",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Match Validation"}),i.jsxs("p",{className:"text-muted-foreground",children:["Verify scouting data against official TBA results",v&&i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"  Fuel scaling enabled"})]})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap z-50 relative",children:[i.jsx(Z,{type:"button",onClick:()=>{s(!0)},variant:"outline",size:"icon",title:"Validation Settings","aria-label":"Open validation settings",children:i.jsx(oD,{className:"h-4 w-4"})}),i.jsxs(Z,{onClick:()=>g(),disabled:c,variant:"outline",children:[i.jsx(Ul,{className:`h - 4 w - 4 mr - 2 ${c?"animate-spin":""} `}),"Refresh"]}),i.jsx(Z,{onClick:()=>m(),disabled:c||!e,className:"p-4",children:c?"Validating...":"Validate Event"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"font-medium shrink-0",children:"Event:"}),i.jsx($C,{currentEventKey:e,onEventKeyChange:b})]}),!e&&i.jsx("p",{className:"text-sm text-muted-foreground wrap-break-word",children:"Please select an event to view validation results"})]})]}),!e&&i.jsx(De,{children:i.jsx($e,{className:"py-12",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx("p",{className:"text-lg font-medium",children:"No Event Selected"}),i.jsx("p",{className:"text-sm mt-2",children:"Please select an event from the dropdown above to view validation results."})]})})}),u.length>0&&i.jsx(ott,{results:u}),u.length>0&&i.jsx(ftt,{filters:f,onFiltersChange:h,matchCount:u.length,filteredCount:d.length}),i.jsx(ytt,{results:u,filteredResults:d,onMatchClick:r}),n&&i.jsx(dtt,{match:n,isOpen:!!n,onClose:()=>r(null),onReValidate:()=>{r(null),m()},formatMatchLabel:yie}),i.jsx(vtt,{isOpen:a,onClose:()=>s(!1),currentConfig:o,onSave:x})]})};function Cie(){const[e,t]=p.useState(""),[n,r]=p.useState(0),[a,s]=p.useState([]),o=p.useCallback(async()=>{const f=localStorage.getItem("scoutsList"),h=localStorage.getItem("currentScout");let m=[];if(f)try{m=JSON.parse(f)}catch{m=[]}s(m);try{for(const g of m)await bl(g)}catch(g){console.error("Error ensuring scouts exist in database:",g)}if(h){t(h);try{const g=await bl(h);r(g.stakes)}catch(g){console.error("Error creating current scout in database:",g)}}},[]),l=async f=>{if(!f){r(0);return}try{const h=await yR(f);r((h==null?void 0:h.stakes)||0)}catch(h){console.error("Error fetching scout stakes:",h),r(0)}},c=async f=>{if(!f.trim())return;const h=f.trim(),m=a.includes(h)?a:[...a,h].sort();s(m),t(h),localStorage.setItem("scoutsList",JSON.stringify(m)),localStorage.setItem("currentScout",h);try{const g=await bl(h);r(g.stakes)}catch(g){console.error("Error creating scout in database:",g),oe.error(`Failed to save scout to database: ${g}`)}oe.success(`Switched to scout: ${h}`)},u=async f=>{const h=a.filter(m=>m!==f);s(h),localStorage.setItem("scoutsList",JSON.stringify(h));try{await bR(f)}catch(m){console.error("Error removing scout from database:",m)}e===f&&(t(""),r(0),localStorage.removeItem("currentScout"),localStorage.removeItem("scoutName")),oe.success(`Removed scout: ${f}`)},d=()=>{t(""),r(0),s([])};return p.useEffect(()=>{const f=()=>{d()},h=async()=>{await o();const g=localStorage.getItem("currentScout");g&&await l(g)},m=async()=>{await o()};return o(),window.addEventListener("scoutDataCleared",f),window.addEventListener("scoutDataUpdated",h),window.addEventListener("scoutChanged",m),()=>{window.removeEventListener("scoutDataCleared",f),window.removeEventListener("scoutDataUpdated",h),window.removeEventListener("scoutChanged",m)}},[o]),p.useEffect(()=>{if(!e)return;const f=async()=>{await l(e)};f();const h=setInterval(f,3e4);return()=>clearInterval(h)},[e]),{currentScout:e,currentScoutStakes:n,scoutsList:a,saveScout:c,removeScout:u,loadScouts:o}}const Tz="tba_event_teams_",btt=()=>{const e={};for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith(Tz))try{const r=localStorage.getItem(n);if(r){const a=JSON.parse(r),s=n.replace(Tz,"");a.teamNumbers?e[s]=a.teamNumbers:a.teams&&(e[s]=a.teams.map(o=>o.team_number).sort((o,l)=>o-l))}}catch(r){console.error(`Failed to parse stored teams for key ${n}:`,r)}}return e},wtt=()=>{const{scoutsList:e,saveScout:t,removeScout:n}=Cie(),[r,a]=p.useState(""),[s,o]=p.useState(!1),l=async()=>{if(!r.trim()){oe.error("Please enter a scout name");return}if(e.includes(r.trim())){oe.error("Scout already exists");return}o(!0);try{await t(r.trim()),a(""),oe.success(`Added scout: ${r.trim()}`)}catch(d){console.error("Error adding scout:",d),oe.error("Failed to add scout")}finally{o(!1)}},c=async d=>{try{await n(d),oe.success(`Removed scout: ${d}`)}catch(f){console.error("Error removing scout:",f),oe.error("Failed to remove scout")}},u=d=>{d.key==="Enter"&&l()};return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Scout Management"]})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Qt,{placeholder:"Enter scout name or initials...",value:r,onChange:d=>a(d.target.value),onKeyPress:u,className:"flex-1"}),i.jsxs(Z,{onClick:l,disabled:s||!r.trim(),className:"flex items-center gap-2",children:[i.jsx(im,{className:"h-4 w-4"}),"Add"]})]}),e.length===0?i.jsxs(ar,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsxs(pr,{children:["No scouts added yet. Add scouts above to create pit assignments.",i.jsx("br",{}),i.jsx("span",{className:"text-xs text-muted-foreground mt-1 block",children:"Since pit scouting happens before competition, you can add temporary names/initials here."})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm font-medium",children:["Available Scouts (",e.length,"):"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(d=>i.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-800 rounded-lg px-3 py-2 border",children:[i.jsx("span",{className:"text-sm font-medium",children:d}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>c(d),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/20",children:i.jsx(Bs,{className:"h-3 w-3"})})]},d))})]}),e.length>0&&i.jsx("div",{className:"text-xs text-muted-foreground",children:" Tip: Teams will be divided into blocks among scouts. More scouts = smaller blocks per person."})]})})]})},RS=[{name:"blue",bg:"#3b82f6",border:"#1d4ed8",css:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800"},{name:"green",bg:"#10b981",border:"#047857",css:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800"},{name:"purple",bg:"#8b5cf6",border:"#7c3aed",css:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-300 dark:border-purple-800"},{name:"orange",bg:"#f97316",border:"#ea580c",css:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800"},{name:"pink",bg:"#ec4899",border:"#db2777",css:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/20 dark:text-pink-300 dark:border-pink-800"},{name:"indigo",bg:"#6366f1",border:"#4f46e5",css:"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-300 dark:border-indigo-800"},{name:"cyan",bg:"#06b6d4",border:"#0891b2",css:"bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/20 dark:text-cyan-300 dark:border-cyan-800"},{name:"emerald",bg:"#059669",border:"#047857",css:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-300 dark:border-emerald-800"}],ky=e=>{const t=RS[e%RS.length];return(t==null?void 0:t.css)||""},Stt=e=>{const t=RS[e%RS.length];return t?{bg:t.bg,border:t.border}:{bg:"#e5e7eb",border:"#9ca3af"}},Ctt=e=>{const t={};return e.forEach((n,r)=>{t[n]=Stt(r)}),t},jtt=({scoutsList:e,assignments:t,assignmentMode:n,assignmentsConfirmed:r,selectedScoutForAssignment:a,onScoutSelectionChange:s,hasAssignments:o})=>{const l=u=>{a===u?s==null||s(null):s==null||s(u)},c=n==="manual"&&!r;return i.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((u,d)=>{const f=t.filter(v=>v.scoutName===u),h=f.filter(v=>v.completed).length,m=f.length,g=c&&a===u;return i.jsx(Z,{variant:g?"default":"outline",size:"default",className:`${ky(d)} px-2 ${c?`transition-all hover:scale-105 active:scale-95 ${g?"ring-2 ring-blue-500 shadow-md":"hover:shadow-sm"}`:"cursor-default"}`,title:c?`${u} - ${m} teams assigned - Click to select for assignment`:`${h}/${m} teams completed`,onClick:c?()=>l(u):void 0,disabled:!1,children:i.jsxs("div",{className:"flex items-center gap-1",children:[c&&i.jsx(Gc,{className:"h-3 w-3"}),i.jsxs("span",{children:[u," (",o?m:0,")"]})]})},u)})})},jie=({assignments:e,className:t=""})=>{const n=e.filter(s=>s.completed).length,r=e.length,a=r>0?Math.round(n/r*100):0;return i.jsxs("div",{className:t,children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[i.jsx("span",{className:"font-medium",children:"Progress:"}),i.jsxs("span",{children:[n," of ",r," completed (",a,"%)"]})]}),i.jsx(op,{value:r>0?n/r*100:0,className:"w-full"})]})},YO=({assignmentMode:e,assignmentsConfirmed:t,assignmentsLength:n,onClearAllAssignments:r,onConfirmAssignments:a,isMobile:s=!1})=>{const o=s?"flex flex-col items-center justify-center gap-4":"flex items-center justify-center gap-2",l=s?"text-sm w-full p-4 max-w-sm":"text-sm w-full p-4";return i.jsxs("div",{className:o,children:[i.jsx("div",{className:"flex w-full items-center justify-center",children:i.jsx(Z,{variant:"outline",onClick:()=>{r&&r()},disabled:n===0&&!t,className:l,children:n>0?"Clear All Assignments":t?"Reset Assignments":"Clear Selection"})}),e==="manual"&&a&&!t&&i.jsx("div",{className:"flex justify-center w-full",children:i.jsxs(Z,{onClick:a,className:"flex items-center gap-2 w-full max-w-sm",variant:"default",children:[s?i.jsx(Xa,{className:"h-4 w-4"}):i.jsx(Br,{className:"h-4 w-4"}),"Confirm Assignments (",n," teams)"]})})]})},MS=({scoutsList:e,assignments:t,assignmentMode:n,assignmentsConfirmed:r,selectedScoutForAssignment:a,onScoutSelectionChange:s,onClearAllAssignments:o,onConfirmAssignments:l,hasAssignments:c,showMobileActions:u=!1,helpText:d})=>i.jsxs("div",{className:"mb-4 p-4 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"text-sm font-medium",children:n==="manual"&&!r?"Scouts (Click to Select):":"Assignment Legend:"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.length," scouts"]})]}),i.jsx("div",{className:"mb-3",children:i.jsx(jtt,{scoutsList:e,assignments:t,assignmentMode:n,assignmentsConfirmed:r,selectedScoutForAssignment:a,onScoutSelectionChange:s,hasAssignments:c})}),c&&i.jsxs("div",{className:"mt-3 p-3",children:[i.jsx(jie,{assignments:t}),u&&i.jsx("div",{className:"md:hidden mt-3",children:i.jsx(YO,{assignmentMode:n,assignmentsConfirmed:r,assignmentsLength:t.length,onClearAllAssignments:o,onConfirmAssignments:l,isMobile:!0})})]}),d&&i.jsx("div",{className:"text-xs text-muted-foreground pt-4",children:d})]}),Ntt=({selectedEvent:e,pitMapData:t,pitAddresses:n,assignments:r,scoutsList:a,assignmentMode:s,assignmentsConfirmed:o,selectedScoutForAssignment:l,onScoutSelectionChange:c,onClearAllAssignments:u,onConfirmAssignments:d,onManualAssignment:f,onToggleCompleted:h})=>{const m=qe.useMemo(()=>Ctt(a),[a]),g=()=>{let x=0,y=0,w=800,S=600;const C=50,k=[];if(t.pits&&Object.values(t.pits).forEach(N=>{var P,E,R,O;((P=N.position)==null?void 0:P.x)!==void 0&&((E=N.position)==null?void 0:E.y)!==void 0&&(k.push({x:N.position.x,y:N.position.y}),((R=N.size)==null?void 0:R.x)!==void 0&&((O=N.size)==null?void 0:O.y)!==void 0&&k.push({x:N.position.x+N.size.x,y:N.position.y+N.size.y}))}),t.areas&&Object.values(t.areas).forEach(N=>{var P,E,R,O;((P=N.position)==null?void 0:P.x)!==void 0&&((E=N.position)==null?void 0:E.y)!==void 0&&(k.push({x:N.position.x,y:N.position.y}),((R=N.size)==null?void 0:R.x)!==void 0&&((O=N.size)==null?void 0:O.y)!==void 0&&k.push({x:N.position.x+N.size.x,y:N.position.y+N.size.y}))}),k.length>0){const N=k.map(E=>E.x),P=k.map(E=>E.y);x=Math.min(...N)-C,y=Math.min(...P)-C,w=Math.max(...N)+C,S=Math.max(...P)+C}return`${x} ${y} ${w-x} ${S-y}`},v=()=>r.some((x,y)=>{var M,$,B,te;if(y===0)return!1;const w=r[y],S=r[y-1];if(!w||!S)return!1;const C=w.teamNumber,k=S.teamNumber,N=n==null?void 0:n[C.toString()],P=n==null?void 0:n[k.toString()];if(!N||!P||!(t!=null&&t.pits))return!1;const E=t.pits[N],R=t.pits[P];if(!E||!R)return!1;const O=E,K=R,J=((M=O.position)==null?void 0:M.x)||O.x||0,Q=(($=O.position)==null?void 0:$.y)||O.y||0,G=((B=K.position)==null?void 0:B.x)||K.x||0,z=((te=K.position)==null?void 0:te.y)||K.y||0;return Math.sqrt(Math.pow(J-G,2)+Math.pow(Q-z,2))<100}),b=g();return i.jsxs(De,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(aD,{className:"h-5 w-5"}),"Pit Map - ",e]}),i.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[r.length>0&&i.jsx(Z,{onClick:u,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Clear All Assignments"}),s==="manual"&&!o&&r.length>0&&i.jsxs(Z,{onClick:d,size:"sm",className:"flex items-center gap-2",children:[i.jsx(Br,{className:"h-4 w-4"}),"Confirm Assignments (",r.length," teams)"]})]})]})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Interactive pit map showing team locations from Nexus data"}),i.jsxs("div",{className:"flex items-center gap-4",children:[t.pits&&i.jsxs("span",{className:"text-sm",children:[Object.keys(t.pits).length," pit locations"]}),n&&i.jsxs("span",{className:"text-sm text-blue-600",children:[Object.keys(n).length," teams assigned"]})]})]}),i.jsxs("div",{className:"md:hidden flex flex-wrap gap-2 items-center",children:[r.length>0&&i.jsx(Z,{onClick:u,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Clear All Assignments"}),s==="manual"&&!o&&r.length>0&&i.jsxs(Z,{onClick:d,size:"sm",className:"flex items-center gap-2",children:[i.jsx(Br,{className:"h-4 w-4"}),"Confirm Assignments (",r.length," teams)"]})]}),s==="manual"&&!o&&i.jsx(MS,{scoutsList:a,assignments:r,assignmentMode:s,assignmentsConfirmed:o,selectedScoutForAssignment:l,onScoutSelectionChange:c,onClearAllAssignments:u,onConfirmAssignments:d,hasAssignments:r.length>0,showMobileActions:!0,helpText:"Click on pit locations to assign teams to the selected scout"}),r.length>0&&o&&i.jsx(MS,{scoutsList:a,assignments:r,assignmentMode:s,assignmentsConfirmed:o,hasAssignments:!0,onClearAllAssignments:u,showMobileActions:!0,helpText:"Assignments confirmed. Click on pit locations to mark them as completed/incomplete."}),i.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:i.jsxs("svg",{viewBox:b,className:"w-full border rounded",style:{height:"auto",minHeight:"600px",maxHeight:"800px"},preserveAspectRatio:"xMidYMid meet",children:[i.jsx("rect",{x:b.split(" ")[0],y:b.split(" ")[1],width:b.split(" ")[2],height:b.split(" ")[3],fill:"white",stroke:"#e5e7eb",strokeWidth:"1"}),t.areas&&Object.entries(t.areas).map(([x,y])=>{var N,P,E,R;const w=((N=y.position)==null?void 0:N.x)||y.x||0,S=((P=y.position)==null?void 0:P.y)||y.y||0,C=((E=y.size)==null?void 0:E.x)||y.width||50,k=((R=y.size)==null?void 0:R.y)||y.height||50;return i.jsxs("g",{children:[i.jsx("rect",{x:w,y:S,width:C,height:k,fill:"#f3f4f6",stroke:"#9ca3af",strokeWidth:"2",rx:"3"}),i.jsx("text",{x:w+C/2,y:S+k/2,textAnchor:"middle",fontSize:"12",fill:"#374151",fontWeight:"500",children:y.label||""})]},x)}),t.pits&&Object.entries(t.pits).map(([x,y])=>{var z,U,M,$;const w=y.team?typeof y.team=="string"?parseInt(y.team):y.team:null,S=((z=y.position)==null?void 0:z.x)||0,C=((U=y.position)==null?void 0:U.y)||0,k=((M=y.size)==null?void 0:M.x)||100,N=(($=y.size)==null?void 0:$.y)||100,P=w?r.find(B=>B.teamNumber===w):null,E=!!P,R=(P==null?void 0:P.completed)||!1,O=s==="manual"&&!o&&l&&w,K=o&&E&&w,J=O||K;let Q="rgba(229, 231, 235, 0.3)",G="#9ca3af";if(w)if(E&&P.scoutName){const B=m[P.scoutName];B&&(Q=B.bg,G=B.border,R||(Q=B.bg+"dd"))}else Q="#374151",G="#1f2937";return J&&(O?G="#10b981":K&&(G="#f59e0b")),i.jsxs("g",{children:[i.jsx("rect",{x:S,y:C,width:k,height:N,fill:Q,stroke:G,strokeWidth:J?"3":"2",strokeDasharray:O?"5,5":"0",rx:"4",className:J?"cursor-pointer":"",onClick:()=>{O&&l?f(w,l):K&&P&&h(P.id)}}),w&&i.jsxs(i.Fragment,{children:[i.jsx("text",{x:S+k/2,y:C+N/2-5,textAnchor:"middle",fontSize:"18",fill:"white",fontWeight:"bold",className:J?"cursor-pointer":"",onClick:()=>{O&&l?f(w,l):K&&P&&h(P.id)},children:w}),E&&i.jsx("text",{x:S+k/2,y:C+N/2+12,textAnchor:"middle",fontSize:"10",fill:"white",fontWeight:"500",children:P.scoutName}),R&&i.jsxs(i.Fragment,{children:[i.jsx("circle",{cx:S+k-15,cy:C+15,r:"10",fill:"#10b981",stroke:"white",strokeWidth:"2"}),i.jsx("text",{x:S+k-15,y:C+20,textAnchor:"middle",fontSize:"12",fill:"white",fontWeight:"bold",children:""})]})]}),!w&&i.jsx("text",{x:S+k/2,y:C+N/2,textAnchor:"middle",fontSize:"12",fill:"#6b7280",children:x})]},x)}),t.labels&&Object.entries(t.labels).map(([x,y])=>{var k,N;const w=((k=y.position)==null?void 0:k.x)??y.x??0,S=((N=y.position)==null?void 0:N.y)??y.y??0,C=y.label??y.text??"";return i.jsx("text",{x:w,y:S,fontSize:"16",fill:"#374151",fontWeight:"bold",textAnchor:"middle",children:C},x)}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#f59e0b"})})})]})}),i.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-gray-200 border border-gray-400 rounded"}),i.jsx("span",{children:"Empty pits"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-gray-700 border border-gray-900 rounded"}),i.jsx("span",{children:"Unassigned teams"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-600 border border-green-800 rounded"}),i.jsx("span",{children:"Completed"})]}),o&&r.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-amber-500 border-2 border-amber-600 rounded"}),i.jsx("span",{children:"Click to toggle completion"})]})]}),o&&r.length>0&&i.jsx("div",{className:"text-center text-xs text-muted-foreground mt-2",children:v()?" Teams assigned using spatial proximity for optimal scouting routes":" Teams assigned in numerical sequence"})]})})]})},ktt=({eventKey:e,teams:t,assignments:n=[],scoutsList:r=[],onToggleCompleted:a,assignmentMode:s="sequential",onManualAssignment:o,onRemoveAssignment:l,selectedScoutForAssignment:c,onScoutSelectionChange:u,onConfirmAssignments:d,onClearAllAssignments:f,assignmentsConfirmed:h=!1,pitAddresses:m=null,pitMapData:g=null,teamDataSource:v})=>{if(t.length===0)return null;if(v==="nexus"&&g&&m)return i.jsx(Ntt,{selectedEvent:e,pitMapData:g,pitAddresses:m,assignments:n,scoutsList:r,assignmentMode:s,assignmentsConfirmed:h,selectedScoutForAssignment:c||null,onScoutSelectionChange:u||(()=>{}),onClearAllAssignments:f||(()=>{}),onConfirmAssignments:d||(()=>{}),onManualAssignment:o||(()=>{}),onToggleCompleted:a||(()=>{})});const x=new Map,y=new Map;n.forEach(k=>{x.set(k.teamNumber,k.scoutName),y.set(k.teamNumber,k)});const w=n.length>0,S=k=>{if(s==="manual")if(h){const N=y.get(k);N&&a&&a(N.id)}else c&&o&&o(k,c);else if(w&&a){const N=y.get(k);N&&a(N.id)}},C=k=>{l&&l(k)};return i.jsxs(De,{className:"h-full",children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex w-full items-center gap-2 justify-between ",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-5 w-5"}),"Teams for ",e," (",t.length,")"]}),i.jsx("div",{className:"hidden md:flex items-center justify-center gap-2",children:i.jsx(YO,{assignmentMode:s,assignmentsConfirmed:h,assignmentsLength:n.length,onClearAllAssignments:f,onConfirmAssignments:d,isMobile:!1})})]})}),i.jsxs($e,{className:"flex flex-col h-full",children:[r.length>0?i.jsx(MS,{scoutsList:r,assignments:n,assignmentMode:s,assignmentsConfirmed:h,selectedScoutForAssignment:c,onScoutSelectionChange:u,onClearAllAssignments:f,onConfirmAssignments:d,hasAssignments:w,showMobileActions:!0,helpText:s==="manual"?c?` Selected: ${c} - Click team cards to assign  Right-click to remove assignment`:w?" Click a scout above, then click team cards to assign them  Right-click to remove assignment":"Click a scout above, then click team cards to assign them to that scout":" Click team cards to mark as completed  Gray with  = completed  Auto-marked when pit data exists"}):i.jsxs("div",{className:"mb-4 p-3 rounded-lg border flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:s==="manual"?"Ready for Manual Assignment":"Ready for Assignment"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.length," teams waiting"]})]}),i.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:s==="manual"?'Click "Start Manual Assignment" above, then select a scout and click team cards to assign them.':'These teams are available for pit scouting assignments. Add scouts above and click "Generate Assignments" to distribute teams.'})]}),"        ",i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-2 sm:gap-3",children:t.sort((k,N)=>k-N).map(k=>{const N=x.get(k),P=y.get(k),E=N?r.indexOf(N):-1,R=(P==null?void 0:P.completed)||!1,O=!!N;let K=!1;s==="manual"?h&&O?K=!!a:K=!!c||O:K=w&&!!a;let J="";return s==="manual"?O&&E>=0?J=ky(E):c?J="bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-800/50 dark:text-gray-200 dark:border-gray-600":J="bg-yellow-50 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800":w&&E>=0?(J=ky(E),R&&(J="bg-slate-200 text-slate-700 border-slate-400 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-500 opacity-75")):J="bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700",i.jsxs("div",{className:`relative flex items-center justify-center p-2 sm:p-3 rounded-lg border transition-all duration-300 ${J} ${K?"cursor-pointer hover:ring-2 hover:ring-blue-500/20 hover:scale-105 active:scale-95":""} ${R?"transform rotate-1":""}`,onClick:()=>S(k),onContextMenu:Q=>{s==="manual"&&O&&!h&&(Q.preventDefault(),C(k))},title:s==="manual"?O?h?`Team ${k} - Assigned to ${N} - Confirmed`:`Team ${k} - Assigned to ${N} - Right-click to remove`:c?`Team ${k} - Click to assign to ${c}`:`Team ${k} - Select a scout above first`:w?`${N||"Unassigned"} - ${R?"Completed ":"Pending"} - Click to toggle`:`Team ${k}`,children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("span",{className:`font-semibold text-sm text-center transition-all duration-300 ${R?"line-through text-lg":""}`,children:[R?" ":"",k]}),m&&m[k.toString()]&&i.jsxs("span",{className:"text-xs text-muted-foreground bg-blue-100 px-1 rounded mt-1",children:["Pit ",m[k.toString()]]})]}),s==="manual"&&!O&&c&&i.jsx(im,{className:"absolute top-0 right-0 h-3 w-3 text-green-600"}),s==="manual"&&O&&!h&&i.jsx(Z,{variant:"ghost",size:"sm",className:"absolute top-0 right-0 h-4 w-4 p-0 bg-red-100 hover:bg-red-200 text-red-600 rounded-full",onClick:Q=>{Q.stopPropagation(),C(k)},children:i.jsx(Wa,{className:"h-3 w-3"})})]},k)})}),i.jsx("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:w?(()=>{const k=n.filter(P=>P.completed).length,N=n.length;return`${k}/${N} teams completed (${t.length} total)`})():`${t.length} teams total`})]})]})]})},Att=({assignments:e,onToggleCompleted:t,onClearAllAssignments:n,assignmentMode:r="sequential",scoutsList:a=[],onManualAssignment:s,onRemoveAssignment:o,selectedScoutForAssignment:l,onScoutSelectionChange:c,assignmentsConfirmed:u=!1,allTeams:d=[],onConfirmAssignments:f,pitAddresses:h=null})=>{const[m,g]=p.useState(""),[v,b]=p.useState("all"),[x,y]=p.useState("team"),[w,S]=p.useState("asc"),k=(()=>{const G=new Map(e.map(U=>[U.teamNumber,U])),z=new Set([...d,...e.map(U=>U.teamNumber)]);return Array.from(z).map(U=>{const M=G.get(U);return{teamNumber:U,assignment:M,scoutName:(M==null?void 0:M.scoutName)||null,completed:(M==null?void 0:M.completed)||!1,assigned:!!M}})})(),N=k.filter(G=>{const z=m===""||G.teamNumber.toString().includes(m)||G.scoutName&&G.scoutName.toLowerCase().includes(m.toLowerCase()),U=v==="all"||v==="completed"&&G.completed||v==="pending"&&!G.completed;return z&&U}).sort((G,z)=>{let U=0;switch(x){case"team":U=G.teamNumber-z.teamNumber;break;case"scout":{const M=G.scoutName||"",$=z.scoutName||"";U=M.localeCompare($);break}case"status":U=Number(G.completed)-Number(z.completed);break;case"assigned":U=Number(G.assigned)-Number(z.assigned);break}return w==="asc"?U:-U}),P=e.filter(G=>G.completed).length,E=e.length-P,R=G=>{x===G?S(w==="asc"?"desc":"asc"):(y(G),S("asc"))},O=G=>{r==="manual"&&l&&s&&s(G,l)},K=G=>{o&&o(G)},J=()=>{const z=[["Team Number","Scout","Status","Assigned At"],...e.map(B=>[B.teamNumber.toString(),B.scoutName,B.completed?"Completed":"Pending",new Date(B.assignedAt).toLocaleDateString()])].map(B=>B.join(",")).join(`
`),U=new Blob([z],{type:"text/csv"}),M=window.URL.createObjectURL(U),$=document.createElement("a");$.href=M,$.download="pit-assignments.csv",document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(M)},Q=G=>x!==G?null:w==="asc"?i.jsx(gG,{className:"h-3 w-3"}):i.jsx(Fue,{className:"h-3 w-3"});return i.jsxs(De,{children:[i.jsxs(Ke,{children:[i.jsxs(Ge,{className:"flex w-full items-center gap-2 justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Br,{className:"h-5 w-5"}),"Assignment Results (",k.length," teams)"]}),i.jsxs("div",{className:"hidden md:flex items-center justify-center gap-2",children:[i.jsx(YO,{assignmentMode:r,assignmentsConfirmed:u,assignmentsLength:e.length,onClearAllAssignments:n,onConfirmAssignments:f,isMobile:!1}),i.jsxs(Z,{onClick:J,variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:e.length===0,children:[i.jsx(No,{className:"h-4 w-4"}),"Export CSV"]})]})]}),i.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Le,{variant:"secondary",children:P}),i.jsx("span",{className:"text-muted-foreground",children:"Completed"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Le,{variant:"outline",children:E}),i.jsx("span",{className:"text-muted-foreground",children:"Pending"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Le,{variant:"outline",children:k.length-e.length}),i.jsx("span",{className:"text-muted-foreground",children:"Unassigned"})]})]})]}),i.jsxs($e,{children:[r==="manual"&&a.length>0&&i.jsx(MS,{scoutsList:a,assignments:e,assignmentMode:r,assignmentsConfirmed:u,selectedScoutForAssignment:l,onScoutSelectionChange:c,onClearAllAssignments:n,onConfirmAssignments:f,hasAssignments:e.length>0,showMobileActions:!0,helpText:u?" Click team rows to mark as completed  Auto-marked when pit data exists":l?` Selected: ${l} - Click team rows below to assign`:"Select a scout above, then click team rows to assign them to that scout"}),(r!=="manual"||a.length===0)&&e.length>0&&i.jsx("div",{className:"mb-4 p-4 rounded-lg",children:i.jsx(jie,{assignments:e})}),i.jsxs("div",{className:"flex flex-col gap-4 mb-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(iD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Qt,{placeholder:"Search teams or scouts...",value:m,onChange:G=>g(G.target.value),className:"pl-10 w-full"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{variant:v==="all"?"default":"outline",size:"sm",onClick:()=>b("all"),children:"All"}),i.jsx(Z,{variant:v==="pending"?"default":"outline",size:"sm",onClick:()=>b("pending"),children:"Pending"}),i.jsx(Z,{variant:v==="completed"?"default":"outline",size:"sm",onClick:()=>b("completed"),children:"Completed"})]})]}),i.jsxs("div",{className:"rounded-md border",children:[i.jsx("div",{className:"hidden md:block bg-muted/50 px-4 py-3 font-medium text-sm border-b",children:i.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>R("team"),className:"justify-start h-auto p-0 font-medium",children:["Team ",Q("team")]}),i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>R("scout"),className:"justify-start h-auto p-0 font-medium",children:["Scout ",Q("scout")]}),i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>R("status"),className:"justify-start h-auto p-0 font-medium",children:["Status ",Q("status")]}),i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>R("assigned"),className:"justify-start h-auto p-0 font-medium",children:["Assigned ",Q("assigned")]}),i.jsx("span",{children:"Action"})]})}),i.jsx("div",{className:"md:hidden bg-muted/50 px-3 py-2 font-medium text-sm border-b",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>R("team"),className:"justify-start h-auto p-0 font-medium",children:["Team ",Q("team")]}),i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>R("status"),className:"justify-start h-auto p-0 font-medium",children:["Status ",Q("status")]})]})}),i.jsx("div",{className:"divide-y",children:N.map(G=>{const z=G.scoutName?a.indexOf(G.scoutName):-1,U=r==="manual"&&l&&!G.assigned&&!u,M=r==="manual"&&G.assigned&&!u,$=G.assigned&&(u||r==="sequential");return i.jsxs("div",{className:`px-3 md:px-4 py-4 md:py-3 ${U?"hover:bg-muted/50 cursor-pointer":""}`,onClick:()=>U&&O(G.teamNumber),children:[i.jsxs("div",{className:"hidden md:grid grid-cols-5 gap-4 items-center",children:[i.jsxs("div",{className:"font-medium flex items-center gap-2",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{children:["Team ",G.teamNumber]}),h&&h[G.teamNumber.toString()]&&i.jsxs("span",{className:"text-xs text-blue-600 bg-blue-50 px-1 rounded",children:["Pit ",h[G.teamNumber.toString()]]})]}),U&&i.jsx(im,{className:"h-3 w-3 text-green-600"})]}),i.jsxs("div",{className:"text-sm flex items-center gap-2",children:[G.scoutName?i.jsx(Le,{variant:"outline",className:z>=0?ky(z):"",children:G.scoutName}):i.jsx("span",{className:"text-muted-foreground italic",children:"Not assigned"}),M&&i.jsx(Z,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 bg-red-100 hover:bg-red-200 text-red-600 rounded-full",onClick:B=>{B.stopPropagation(),K(G.teamNumber)},children:i.jsx(Wa,{className:"h-3 w-3"})})]}),i.jsx("div",{children:G.assigned?G.completed?i.jsxs(Le,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[i.jsx(Br,{className:"h-3 w-3 mr-1"}),"Completed"]}):i.jsxs(Le,{variant:"outline",children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Pending"]}):i.jsxs(Le,{variant:"outline",className:"text-muted-foreground",children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Unassigned"]})}),i.jsx("div",{className:"text-xs text-muted-foreground",children:G.assigned?u?"Confirmed":"Draft":U?"Click to assign":"-"}),i.jsx("div",{children:$&&i.jsx(Kd,{checked:G.completed,onCheckedChange:()=>G.assignment&&t(G.assignment.id)})})]}),i.jsxs("div",{className:"md:hidden space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:"font-medium text-base",children:["Team ",G.teamNumber]}),h&&h[G.teamNumber.toString()]&&i.jsxs("span",{className:"text-xs text-blue-600 bg-blue-50 px-1 rounded",children:["Pit ",h[G.teamNumber.toString()]]})]}),U&&i.jsx(im,{className:"h-4 w-4 text-green-600"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[G.assigned?G.completed?i.jsxs(Le,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:[i.jsx(Br,{className:"h-3 w-3 mr-1"}),"Completed"]}):i.jsxs(Le,{variant:"outline",children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Pending"]}):i.jsxs(Le,{variant:"outline",className:"text-muted-foreground",children:[i.jsx(jc,{className:"h-3 w-3 mr-1"}),"Unassigned"]}),$&&i.jsx(Kd,{checked:G.completed,onCheckedChange:()=>G.assignment&&t(G.assignment.id)})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Scout:"}),G.scoutName?i.jsx(Le,{variant:"outline",className:`text-xs ${z>=0?ky(z):""}`,children:G.scoutName}):i.jsx("span",{className:"text-muted-foreground italic text-sm",children:"Not assigned"}),M&&i.jsx(Z,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 bg-red-100 hover:bg-red-200 text-red-600 rounded-full",onClick:B=>{B.stopPropagation(),K(G.teamNumber)},children:i.jsx(Wa,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:G.assigned?u?"Confirmed":"Draft":U?"Click to assign":"-"})]})]})]},G.teamNumber)})})]}),N.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No teams match your current filters."})]})]})},Ptt=({selectedEvent:e,teamDataSource:t,currentTeams:n,pitAddresses:r,hasTeamData:a})=>i.jsxs(De,{className:"flex-1",children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(gde,{className:"h-5 w-5"}),"Event Information"]})}),i.jsx($e,{children:a?i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Current Event:"}),i.jsx("span",{className:"text-lg font-semibold text-primary",children:e})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Teams to Scout:"}),i.jsx("span",{className:"text-lg font-semibold",children:n.length})]}),r&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"With Pit Locations:"}),i.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Object.keys(r).length," teams"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Data Source:"}),i.jsx("span",{className:"text-sm font-medium capitalize",children:t==="nexus"?i.jsxs("span",{className:"text-blue-600 flex items-center gap-1",children:[i.jsx("span",{children:"Nexus"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"(with pit locations)"})]}):i.jsx("span",{className:"text-orange-600",children:"TBA"})})]}),i.jsx("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:t==="nexus"?"Teams extracted from Nexus pit addresses. Pit locations available for enhanced assignments.":"Teams imported from The Blue Alliance. Import new data on the TBA Data page to change events."})]})}):i.jsxs(ar,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsx(pr,{children:"No team data found. Please import team lists from the TBA Data page or load demo data from the home page."})]})})]});function Bg(e){if(e.length<=1)return 0;let t=0;for(let n=0;n<e.length;n++){const r=e[n];if(r)for(let a=n+1;a<e.length;a++){const s=e[a];if(!s)continue;const o=Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2));t=Math.max(t,o)}}return t}function Ett(e,t){if(e.length===0||t===0)return[];if(t===1)return[e];const n=[],r=[...e].sort((b,x)=>b.x-x.x),a=[...e].sort((b,x)=>b.y-x.y);if(r.length===0||a.length===0)return[];const s=r[0],o=r[r.length-1],l=a[0],c=a[a.length-1];if(!s||!o||!l||!c)return[];const u=s.x,d=o.x,f=l.y,h=c.y,m=Math.ceil(Math.sqrt(t)),g=Math.ceil(t/m),v=[];for(let b=0;b<t;b++){const x=Math.floor(b/m),y=b%m,w=u+y/(m-1||1)*(d-u),S=f+x/(g-1||1)*(h-f);v.push({x:w,y:S})}for(let b=0;b<10;b++){for(let x=0;x<t;x++)n[x]=[];e.forEach(x=>{let y=1/0,w=0;v.forEach((C,k)=>{const N=Math.sqrt(Math.pow(x.x-C.x,2)+Math.pow(x.y-C.y,2));N<y&&(y=N,w=k)});const S=n[w];S&&S.push(x)}),v.forEach((x,y)=>{const w=n[y];w&&w.length>0&&(x.x=w.reduce((S,C)=>S+C.x,0)/w.length,x.y=w.reduce((S,C)=>S+C.y,0)/w.length)})}return n.forEach(b=>{if(b.length<=1)return;const x=[],y=[...b];let w=y.reduce((S,C)=>C.x<S.x?C:S);for(x.push(w),y.splice(y.indexOf(w),1);y.length>0;){let S=0,C=1/0;y.forEach((N,P)=>{const E=Math.sqrt(Math.pow(w.x-N.x,2)+Math.pow(w.y-N.y,2));E<C&&(C=E,S=P)});const k=y[S];if(k)x.push(k),y.splice(S,1),w=k;else break}b.splice(0,b.length,...x)}),Ttt(n,e),_tt(n),n.filter(b=>b.length>0)}function Ttt(e,t){const n=e.length,r=Math.floor(t.length/n),a=t.length%n;let s=!0,o=0;for(console.log("=== Starting Proximity-Based Reassignment ==="),console.log("Initial cluster sizes:",e.map(l=>l.length)),console.log("Target sizes:",e.map((l,c)=>c<a?r+1:r));s&&o<5;){s=!1,o++,console.log(`
--- Proximity Check Iteration ${o} ---`);for(let l=0;l<n;l++){const c=e[l];if(c)for(let u=c.length-1;u>=0;u--){const d=c[u];if(!d)continue;let f=1/0,h=l;for(let b=0;b<n;b++){const x=e[b];if(b===l||!x||x.length===0)continue;let y=1/0;x.forEach(w=>{const S=Math.sqrt(Math.pow(d.x-w.x,2)+Math.pow(d.y-w.y,2));y=Math.min(y,S)}),y<f&&(f=y,h=b)}let m=1/0;c.forEach((b,x)=>{if(x!==u){const y=Math.sqrt(Math.pow(d.x-b.x,2)+Math.pow(d.y-b.y,2));m=Math.min(m,y)}}),(d.teamNumber===9977||d.teamNumber===9990)&&console.log(`Team ${d.teamNumber}:`,{currentCluster:l,closestOtherCluster:h,distanceToClosestOther:f,distanceToCurrentCluster:m,ratio:f/m});const g=f<=150;if(h!==l&&f<m*(g?1.5:1.1)){const b=l<a?r+1:r,x=h<a?r+1:r,y=e[h];if(!y)continue;const w=[...y,d],S=Bg(w),C=g?800:600;if(y.length<x+2&&c.length>Math.max(1,b-2)&&S<=C)c.splice(u,1),y.push(d),s=!0,console.log(` Moved team ${d.teamNumber} from cluster ${l} to cluster ${h} for better proximity`),console.log(`  Distance improvement: ${m.toFixed(1)}  ${f.toFixed(1)}`),console.log(`  Cluster spread after move: ${S.toFixed(1)}`);else{const k=[];y.length>=x+2&&k.push("target cluster too large"),c.length<=Math.max(1,b-2)&&k.push("source cluster too small"),S>C&&k.push(`spread too large (${S.toFixed(1)} > ${C})`),console.log(` Cannot move team ${d.teamNumber} due to constraints: ${k.join(", ")}`)}}}}console.log(`Iteration ${o} complete. Changed: ${s}`),console.log("Updated cluster sizes:",e.map(l=>l.length))}}function _tt(e){const t=e.length;let n=!0,r=0;for(console.log(`
=== Geographic Coherence Optimization ===`);n&&r<3;){n=!1,r++;let a=null;for(let s=0;s<t;s++)for(let o=s+1;o<t;o++){const l=e[s],c=e[o];if(!(!l||!c))for(let u=0;u<l.length;u++)for(let d=0;d<c.length;d++){const f=l[u],h=c[d];if(!f||!h)continue;const m=Bg(l),g=Bg(c),v=m+g,b=[...l],x=[...c];b[u]=h,x[d]=f;const y=Bg(b),w=Bg(x),S=y+w,C=v-S;C>0&&(!a||C>a.improvement)&&(a={clusterI:s,clusterJ:o,teamI:u,teamJ:d,improvement:C,teamFromI:f,teamFromJ:h},(f.teamNumber===8876||h.teamNumber===8876||f.teamNumber===9991||h.teamNumber===9991)&&console.log(`  Considering swap: ${f.teamNumber}  ${h.teamNumber}, improvement: ${C.toFixed(1)}`))}}if(a&&a.improvement>10){console.log(` Swapping team ${a.teamFromI.teamNumber} (cluster ${a.clusterI}) with team ${a.teamFromJ.teamNumber} (cluster ${a.clusterJ}) for better geography`),console.log(`  Spread improvement: ${a.improvement.toFixed(1)} units`);const s=e[a.clusterI],o=e[a.clusterJ];s&&o&&(s[a.teamI]=a.teamFromJ,o[a.teamJ]=a.teamFromI,n=!0)}n&&(console.log(`Geographic optimization iteration ${r} complete`),console.log("Updated cluster sizes:",e.map(s=>s.length)))}}const Dtt=({assignmentMode:e,pitMapData:t,pitAddresses:n,currentTeams:r,scoutsList:a,selectedEvent:s,hasAssignments:o,onAssignmentModeChange:l,onAssignmentsGenerated:c})=>{const u=f=>{l(f)},d=()=>{if(a.length===0)return;const f=[];if(e==="sequential"){const h=[...r].sort((y,w)=>y-w),m=h.length,g=a.length,v=Math.floor(m/g),b=m%g;let x=0;a.forEach((y,w)=>{const S=w<b?v+1:v;for(let C=0;C<S&&x<m;C++){const k=h[x];if(k===void 0){x++;continue}f.push({id:`${s}-${k}`,eventKey:s,teamNumber:k,scoutName:y,assignedAt:Date.now(),completed:!1}),x++}}),c(f,!0)}else if(e==="spatial"){if(!(t!=null&&t.pits))return;const h=[];if(n?r.forEach(g=>{var b,x;const v=n[g.toString()];if(v&&t.pits[v]){const y=t.pits[v],w=((b=y.position)==null?void 0:b.x)||y.x||0,S=((x=y.position)==null?void 0:x.y)||y.y||0;(w!==0||S!==0)&&h.push({teamNumber:g,x:w,y:S})}}):Object.entries(t.pits).forEach(([,g])=>{var x,y;const v=g,b=v.team?typeof v.team=="string"?parseInt(v.team):v.team:null;if(b&&r.includes(b)){const w=((x=v.position)==null?void 0:x.x)||v.x||0,S=((y=v.position)==null?void 0:y.y)||v.y||0;(w!==0||S!==0)&&h.push({teamNumber:b,x:w,y:S})}}),h.length===0)return;h.sort((g,v)=>Math.abs(g.y-v.y)>50?g.y-v.y:g.x-v.x),Ett(h,a.length).forEach((g,v)=>{const b=a[v%a.length];b&&g.forEach(x=>{f.push({id:`${s}-${x.teamNumber}`,eventKey:s,teamNumber:x.teamNumber,scoutName:b,assignedAt:Date.now(),completed:!1})})}),c(f,!0)}else e==="manual"&&c([],!1)};return i.jsxs(De,{className:"flex-1",children:[i.jsx(Ke,{children:i.jsxs(Ge,{className:"flex items-center gap-2",children:[i.jsx(L4,{className:"h-5 w-5"}),"Assignment Controls"]})}),i.jsx($e,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Assignment Mode:"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx(Z,{variant:e==="sequential"?"default":"outline",size:"sm",onClick:()=>u("sequential"),children:"Block Assignment"}),t&&i.jsx(Z,{variant:e==="spatial"?"default":"outline",size:"sm",onClick:()=>u("spatial"),children:"Spatial Assignment"}),i.jsx(Z,{variant:e==="manual"?"default":"outline",size:"sm",onClick:()=>u("manual"),children:"Manual Assignment"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e==="sequential"?`Block Assignment: Teams are divided into consecutive blocks, with each scout getting ~${Math.ceil(r.length/a.length)} teams in sequence`:e==="spatial"?"Spatial Assignment: Teams are assigned based on their physical proximity in the pit map, creating geographic zones for each scout":"Manual Assignment: Click on team cards to assign them to specific scouts one by one"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(Z,{disabled:o||e!=="sequential"&&e!=="spatial",onClick:d,className:"flex items-center gap-2",children:[i.jsx(L4,{className:"h-4 w-4"}),"Generate Assignments"]})})]})})]})},Rtt=()=>{const{scoutsList:e}=Cie(),[t,n]=p.useState(""),[r,a]=p.useState([]),[s,o]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState([]),[m,g]=p.useState("sequential"),[v,b]=p.useState("teams"),[x,y]=p.useState(null),[w,S]=p.useState(!1);p.useEffect(()=>{if(t&&f.length>0){const z=`pit_assignments_${t}`;localStorage.setItem(z,JSON.stringify(f))}},[f,t]),p.useEffect(()=>{if(t){const z=`pit_assignments_${t}`,U=localStorage.getItem(z);if(U)try{const M=JSON.parse(U);h(M)}catch(M){console.warn("Error loading saved assignments:",M)}}},[t]),p.useEffect(()=>{const z=()=>{const U=btt();let M="",$=[],B="tba";for(let te=0;te<localStorage.length;te++){const q=localStorage.key(te);if(q&&q.startsWith("nexus_event_teams_")){const ae=q.replace("nexus_event_teams_",""),he=WX(ae);if(he&&he.length>0){const je=he.map(Ee=>Ee.startsWith("frc")?parseInt(Ee.substring(3)):parseInt(Ee)).filter(Ee=>!isNaN(Ee)).sort((Ee,me)=>Ee-me);if(je.length>0){M=ae,$=je,B="nexus";break}}}}if(!M){const te=Object.keys(U);if(te.length>0){const q=te[0];if(q){const ae=U[q];ae&&ae.length>0&&(M=q,$=ae,B="tba")}}}n(M),a($),o(B)};return z(),window.addEventListener("focus",z),()=>{window.removeEventListener("focus",z)}},[]),p.useEffect(()=>{if(t&&s==="nexus"){const z=GX(t),U=LOe(t);c(z),d(U.map)}else c(null),d(null)},[t,s]),p.useEffect(()=>{if(!t||r.length===0)return;(async()=>{const U=t,M=[];for(const $ of r)try{await th($,U)&&M.push($)}catch(B){console.warn(`Error checking pit data for team ${$}:`,B)}M.length>0&&h($=>$.map(B=>M.includes(B.teamNumber)?{...B,completed:!0}:B))})()},[t,r]),p.useEffect(()=>{if(!t||f.length===0)return;const z=async()=>{const M=t;let $=!1;const B=await Promise.all(f.map(async te=>{try{const ae=!!await th(te.teamNumber,M);if(te.completed!==ae)return $=!0,{...te,completed:ae}}catch(q){console.warn(`Error checking pit data for team ${te.teamNumber}:`,q)}return te}));$&&h(B)},U=()=>{z()};return window.addEventListener("focus",U),()=>{window.removeEventListener("focus",U)}},[t,f]);const[C,k]=p.useState("");p.useEffect(()=>{if(!t||f.length===0)return;const z=`${t}_${f.length}_${f.map($=>$.id).sort().join("_")}`;if(C===z)return;const M=setTimeout(async()=>{const $=t;let B=!1;const te=await Promise.all(f.map(async q=>{try{const he=!!await th(q.teamNumber,$);if(q.completed!==he)return B=!0,{...q,completed:he}}catch(ae){console.warn(`Error checking pit data for team ${q.teamNumber}:`,ae)}return q}));B&&h(te),k(z)},100);return()=>clearTimeout(M)},[t,f,C]);const N=r.length>0&&e.length>0,P=f.length>0,E=z=>{g(z),y(null),S(!1)},R=async(z,U)=>{if(t&&z.length>0){const M=t,$=await Promise.all(z.map(async B=>{try{if(await th(B.teamNumber,M))return{...B,completed:!0}}catch(te){console.warn(`Error checking pit data for team ${B.teamNumber}:`,te)}return B}));h($)}else h(z);S(U)},O=async(z,U)=>{const M=`${t}-${z}`;let $=!1;if(t)try{$=!!await th(z,t)}catch(B){console.warn(`Error checking pit data for team ${z}:`,B)}h(B=>[...B.filter(q=>q.teamNumber!==z),{id:M,eventKey:t,teamNumber:z,scoutName:U,assignedAt:Date.now(),completed:$}])},K=z=>{h(U=>U.filter(M=>M.teamNumber!==z))},J=()=>{if(h([]),S(!1),y(null),t){const z=`pit_assignments_${t}`;localStorage.removeItem(z)}},Q=()=>{S(!0),y(null)},G=z=>{h(U=>U.map(M=>M.id===z?{...M,completed:!M.completed}:M))};return i.jsxs("div",{className:"min-h-screen container mx-auto px-4 pt-12 pb-24 space-y-6 max-w-7xl",children:[i.jsxs("div",{className:"text-start",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Pit Assignments"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage scouts and assign teams for pit scouting"})]}),i.jsx("div",{className:"hidden md:block",children:i.jsx(Zc,{sources:s?[s]:["tba","nexus"],variant:"full"})})]}),i.jsx("div",{className:"md:hidden mt-2",children:i.jsx(Zc,{sources:s?[s]:["tba","nexus"],variant:"compact"})})]}),i.jsx(wtt,{}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsx(Ptt,{selectedEvent:t,teamDataSource:s,currentTeams:r,pitAddresses:l,hasTeamData:r.length>0}),N&&i.jsx(Dtt,{assignmentMode:m,pitMapData:u,pitAddresses:l,currentTeams:r,scoutsList:e,selectedEvent:t,hasAssignments:P,onAssignmentModeChange:E,onAssignmentsGenerated:R})]}),t&&r.length>0&&i.jsxs(pu,{value:v,onValueChange:b,enableSwipe:!0,className:"w-full",children:[i.jsxs(gu,{className:"grid w-full grid-cols-2",children:[i.jsxs(hn,{value:"teams",className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-4 w-4"}),"Team Cards"]}),i.jsxs(hn,{value:"assignments",className:"flex items-center gap-2",children:[i.jsx(yG,{className:"h-4 w-4"}),"Table View"]})]}),i.jsx(Dn,{value:"teams",children:i.jsx("div",{className:"min-h-[600px]",children:i.jsx(ktt,{eventKey:t,teams:r,assignments:f,scoutsList:e,onToggleCompleted:G,assignmentMode:m,onManualAssignment:O,onRemoveAssignment:K,selectedScoutForAssignment:x,onScoutSelectionChange:y,onConfirmAssignments:m==="manual"&&!w?Q:void 0,onClearAllAssignments:J,assignmentsConfirmed:w,pitAddresses:l,pitMapData:u,teamDataSource:s||void 0})})}),i.jsx(Dn,{value:"assignments",children:i.jsx("div",{className:"min-h-[600px] max-h-[600px] overflow-y-auto",children:i.jsx(Att,{assignments:f,onToggleCompleted:G,onClearAllAssignments:J,assignmentMode:m,scoutsList:e,onManualAssignment:O,onRemoveAssignment:K,selectedScoutForAssignment:x,onScoutSelectionChange:y,assignmentsConfirmed:w,allTeams:r,onConfirmAssignments:m==="manual"&&!w?Q:void 0,pitAddresses:l})})})]}),!N&&i.jsxs(ar,{children:[i.jsx(Uo,{className:"h-4 w-4"}),i.jsxs(pr,{children:[r.length===0&&"No team data found. Please load demo data from the home page or import teams from the TBA Data page.",e.length===0&&" Please add scouts to create assignments."]})]})]})};function Mtt(){return i.jsx("div",{className:"w-full bg-background",style:{height:"env(safe-area-inset-top)",paddingTop:"env(safe-area-inset-top)"}})}const Nie="/Maneuver-2026/assets/Maneuver%20Wordmark%20Vertical-OhGzj9lT.png";function Itt({onComplete:e}){const[t,n]=p.useState(!0);return p.useEffect(()=>{const r=setTimeout(()=>{n(!1),setTimeout(e,300)},1e3);return()=>clearTimeout(r)},[e]),i.jsx("div",{className:Re("fixed inset-0 z-50 bg-background flex items-center justify-center transition-opacity duration-300",t?"opacity-100":"opacity-0 pointer-events-none"),children:i.jsxs("div",{className:"flex flex-col items-center gap-4 animate-pulse",children:[i.jsx("img",{src:Nie,width:"200",height:"80",alt:"Maneuver Logo",className:"dark:invert"}),i.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})]})})}function Ott({children:e}){const[t,n]=p.useState(!1);return i.jsx(aie.Provider,{value:{isFullscreen:t,setIsFullscreen:n},children:e})}function Ltt(){const e=hf(),{dataRequested:t,setDataRequested:n,sendData:r,requestFilters:a,requestDataType:s}=e,[o,l]=p.useState(""),c=h=>{switch(h){case"scouting":return"Scouting Data";case"pit-scouting":return"Pit Scouting Data";case"match":return"Match Schedule";case"scout":return"Scout Profiles";case"combined":return"Combined Data";default:return"Data"}},u=async()=>{var h;l(`Loading ${c(s)}...`);try{let m,g=0;switch(s){case"scouting":{let b=await Yi();g=b.length,a&&(console.log(" Applying filters to scouting data:",a),l(`Filtering ${g} entries...`),b=x5({entries:b,exportedAt:Date.now(),version:"1.0"},a).entries,console.log(` Filtered: ${g} entries  ${b.length} entries`)),m={entries:b};break}case"pit-scouting":{const b=await Xm();g=((h=b.entries)==null?void 0:h.length)||0,m=b,console.log(" Loaded pit scouting data:",g,"entries");break}case"match":{const b=localStorage.getItem("matchData"),x=b?JSON.parse(b):[];g=Array.isArray(x)?x.length:0,m={matches:x},console.log(" Loaded match data:",g,"matches");break}case"scout":{const b=await nt.scouts.toArray(),x=await nt.predictions.toArray(),y=await nt.scoutAchievements.toArray();g=b.length,m={scouts:b,predictions:x,achievements:y},console.log(" Loaded scout profiles:",b.length,"scouts,",x.length,"predictions");break}case"combined":{let b=await Yi();const x=await nt.scouts.toArray(),y=await nt.predictions.toArray();if(a){const w=b.length;console.log(" Applying filters to combined scouting data:",a),b=x5({entries:b,exportedAt:Date.now(),version:"1.0"},a).entries,console.log(` Filtered scouting: ${w}  ${b.length} entries`)}m={entries:b,metadata:{exportedAt:new Date().toISOString(),version:"1.0",scoutingEntriesCount:b.length,scoutsCount:x.length,predictionsCount:y.length},scoutProfiles:{scouts:x,predictions:y}},g=b.length+x.length+y.length,console.log(" Loaded combined data");break}default:throw new Error(`Unknown data type: ${s}`)}const v=JSON.stringify(m).length;console.log("Scout sending data:",m),console.log("Data size:",v,"characters"),l(`Sending ${c(s)}...`),r(m,s),l(` Sent ${c(s)}`),setTimeout(()=>{l(""),n(!1)},3e3)}catch(m){const g=m instanceof Error?m.message:String(m);console.error("Failed to load/send data:",m),l(` Error: ${g}`),setTimeout(()=>{l(""),n(!1)},5e3)}},d=()=>{e.sendControlMessage({type:"request-declined"}),n(!1),l("")},f=()=>{if(!a)return"All data";const h=[];if(a.matchRange.type==="preset"&&a.matchRange.preset!=="all"){const m={last10:"Last 10 matches",last15:"Last 15 matches",last30:"Last 30 matches",fromLastExport:"From last export"};h.push(m[a.matchRange.preset]||"Custom range")}else if(a.matchRange.type==="custom"){const m=a.matchRange.customStart||"?",g=a.matchRange.customEnd||"?";h.push(`Matches ${m}-${g}`)}return!a.teams.includeAll&&a.teams.selectedTeams.length>0&&h.push(`${a.teams.selectedTeams.length} teams`),h.length>0?h.join("  "):"All data"};return i.jsxs(i.Fragment,{children:[i.jsx(cy,{open:t&&!o,children:i.jsxs(wm,{className:"max-w-[calc(100vw-2rem)] mx-4",children:[i.jsxs(Sm,{children:[i.jsxs(Cm,{className:"flex items-center gap-2",children:[i.jsx(No,{className:"h-5 w-5"}),"Data Request from Lead Scout"]}),i.jsxs(jm,{className:"space-y-3",children:[i.jsx("p",{children:"The lead scout is requesting data from you."}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ly,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100 text-sm",children:c(s)}),s==="combined"&&i.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300 mt-0.5",children:"Includes scouting data and scout profiles"})]})]})}),a&&i.jsxs("div",{className:"flex items-center gap-2 text-sm bg-amber-50 dark:bg-amber-950 p-3 rounded border border-amber-200 dark:border-amber-800",children:[i.jsx(zw,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-amber-900 dark:text-amber-100",children:"Filter Request"}),i.jsx("span",{className:"text-xs text-amber-700 dark:text-amber-300",children:f()})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send your data to the lead scout?"})]})]}),i.jsxs(lj,{children:[i.jsx(RM,{onClick:d,className:"p-2",children:"Decline"}),i.jsx(cj,{onClick:u,className:"p-2",children:"Send Data"})]})]})}),i.jsx(cy,{open:!!o,children:i.jsx(wm,{className:"max-w-[calc(100vw-2rem)]",children:i.jsxs(Sm,{children:[i.jsxs(Cm,{className:"flex items-center gap-2",children:[i.jsx(No,{className:"h-5 w-5"}),"Sending Data"]}),i.jsxs(jm,{className:"space-y-2",children:[i.jsx("div",{className:"text-center py-2 text-lg",children:o}),a&&o.includes("Loading")&&i.jsxs("div",{className:"text-xs bg-muted p-2 rounded",children:[i.jsx(zw,{className:"h-3 w-3 inline mr-1"}),"Filtering: ",f()]})]})]})})})]})}function $tt(){const e=hf(),{dataPushed:t,setDataPushed:n,pushedData:r,pushedDataType:a,sendControlMessage:s}=e,[o,l]=p.useState(""),c=h=>{switch(h){case"scouting":return"Scouting Data";case"pit-scouting":return"Pit Scouting Data";case"match":return"Match Schedule";case"scout":return"Scout Profiles";case"combined":return"Combined Data";default:return"Data"}},u=()=>{var h,m;if(!r)return"No data";try{const g=r,v=[];return a==="combined"?(g.entries&&v.push(`${g.entries.length} scouting entries`),(h=g.scoutProfiles)!=null&&h.scouts&&v.push(`${g.scoutProfiles.scouts.length} scouts`),(m=g.scoutProfiles)!=null&&m.predictions&&v.push(`${g.scoutProfiles.predictions.length} predictions`)):a==="scouting"||a==="pit-scouting"?g.entries&&Array.isArray(g.entries)&&v.push(`${g.entries.length} entries`):a==="match"?g.matches&&v.push(`${Array.isArray(g.matches)?g.matches.length:0} matches`):a==="scout"&&(g.scouts&&v.push(`${Array.isArray(g.scouts)?g.scouts.length:0} scouts`),g.predictions&&v.push(`${Array.isArray(g.predictions)?g.predictions.length:0} predictions`)),v.length>0?v.join(", "):"Unknown data structure"}catch(g){return console.error("Error parsing pushed data:",g),"Error reading data"}},d=async()=>{var h;l("Importing data...");try{let m=0;if(console.log(" Pushed data type:",a),console.log(" Pushed data:",r),a==="combined"){const g=r;if(console.log(" Combined data structure:",{hasEntries:!!g.entries,entriesIsArray:Array.isArray(g.entries),entriesLength:(h=g.entries)==null?void 0:h.length,hasScoutProfiles:!!g.scoutProfiles}),g.entries&&Array.isArray(g.entries)?(await zE(g.entries),m+=g.entries.length,console.log(" Imported",g.entries.length,"scouting entries")):console.warn(" No scouting entries to import or entries is not an array"),g.scoutProfiles){if(g.scoutProfiles.scouts&&Array.isArray(g.scoutProfiles.scouts)){for(const v of g.scoutProfiles.scouts)await nt.scouts.put(v);m+=g.scoutProfiles.scouts.length,console.log(" Imported",g.scoutProfiles.scouts.length,"scout profiles")}if(g.scoutProfiles.predictions&&Array.isArray(g.scoutProfiles.predictions)){for(const v of g.scoutProfiles.predictions)await nt.predictions.put(v);console.log(" Imported",g.scoutProfiles.predictions.length,"predictions")}}}else if(a==="scouting"){const g=r,v=g.entries;if(!v||!Array.isArray(v))throw console.error(" No entries array in scouting data:",g),new Error("Scouting data must contain entries array");if(v.length===0)console.warn(" No scouting entries to import (empty array)"),oe.info("No scouting data to import");else{console.log(" Saving",v.length,"scouting entries...");for(let b=0;b<v.length;b++){const x=v[b];if(!x)throw new Error(`Entry at index ${b} is null or undefined`);if(!x.id)throw new Error(`Entry at index ${b} missing id: ${JSON.stringify(x).substring(0,100)}`);if(!x.gameData)throw new Error(`Entry at index ${b} missing gameData property: ${JSON.stringify(x).substring(0,100)}`)}await zE(v),m=v.length,console.log(" Imported",m,"scouting entries")}}else if(a==="pit-scouting"){const v=r.entries;if(v&&Array.isArray(v)){for(const b of v)await qs.pitScoutingData.put(b);m=v.length,console.log(" Imported",m,"pit scouting entries")}}else if(a==="match"){const g=r;g.matches&&Array.isArray(g.matches)&&(localStorage.setItem("matchData",JSON.stringify(g.matches)),m=g.matches.length,console.log(" Imported",m,"matches"))}else if(a==="scout"){const g=r;if(g.scouts&&Array.isArray(g.scouts)){for(const v of g.scouts)await nt.scouts.put(v);m=g.scouts.length,console.log(" Imported",m,"scout profiles")}if(g.predictions&&Array.isArray(g.predictions)){for(const v of g.predictions)await nt.predictions.put(v);console.log(" Imported",g.predictions.length,"predictions")}if(g.achievements&&Array.isArray(g.achievements)){for(const v of g.achievements)await nt.scoutAchievements.put(v);console.log(" Imported",g.achievements.length,"achievements")}}l(` Successfully imported ${c(a)}`),oe.success(`Imported ${c(a)}`),setTimeout(()=>{l(""),n(!1)},2e3)}catch(m){const g=m instanceof Error?m.message:String(m);console.error("Failed to import pushed data:",m),l(` Error: ${g}`),oe.error(`Failed to import: ${g}`),setTimeout(()=>{l(""),n(!1)},5e3)}},f=()=>{console.log("Scout declined pushed data"),s({type:"push-declined",dataType:a}),oe.info("Declined data from lead"),n(!1),l("")};return i.jsxs(i.Fragment,{children:[i.jsx(cy,{open:t&&!o,children:i.jsxs(wm,{className:"max-w-[calc(100vw-2rem)]",children:[i.jsxs(Sm,{children:[i.jsxs(Cm,{className:"flex items-center gap-2",children:[i.jsx(sm,{className:"h-5 w-5"}),"Lead Scout is Pushing Data"]}),i.jsxs(jm,{className:"space-y-3",children:[i.jsx("p",{children:"The lead scout wants to send you data."}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ly,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:c(a)}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:u()})]})]})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Accepting will merge this data with your existing data. Any conflicts will use the newest data."})]})]}),i.jsxs(lj,{children:[i.jsx(RM,{onClick:f,className:"p-2",children:"Decline"}),i.jsx(cj,{onClick:d,className:"p-2",children:"Accept & Import"})]})]})}),i.jsx(cy,{open:!!o,children:i.jsx(wm,{className:"max-w-[calc(100vw-2rem)]",children:i.jsxs(Sm,{children:[i.jsxs(Cm,{className:"flex items-center gap-2",children:[i.jsx(sm,{className:"h-5 w-5"}),"Importing Data"]}),i.jsx(jm,{className:"space-y-2",children:i.jsx("div",{className:"text-center py-2 text-lg",children:o})})]})})})]})}function Ftt(){const{mode:e,connectionStatus:t}=hf(),n=p.useRef(t);return p.useEffect(()=>{const r=n.current.includes("Connected"),a=t.includes("Connected");e==="scout"&&(r&&!a?(console.log(" Notification: Connection lost"),oe.error("Connection to lead lost")):!r&&a&&(console.log(" Notification: Connection established"),oe.success("Connected to lead scout"))),n.current=t},[t,e]),null}const Btt={year:2026,gameName:"REBUILT",scoring:{auto:{},teleop:{},endgame:{}}},Vtt={getDataCategories:()=>[],calculateAllianceStats:()=>({}),calculateAllianceScore:()=>({auto:0,teleop:0,endgame:0,total:0}),validateMatch:async()=>({}),getDefaultConfig:()=>({})},ztt={GameStartScreen:()=>null,AutoScoringScreen:()=>null,TeleopScoringScreen:()=>null},xo="demo2026",Utt=async()=>{console.log(" Loading demo data..."),await gie({eventKey:xo,clearExisting:!0,gameDataGenerator:vie,includePlayoffs:!0}),localStorage.setItem("eventName",xo);const e=JSON.parse(localStorage.getItem("eventsList")||"[]");e.includes(xo)||(e.push(xo),localStorage.setItem("eventsList",JSON.stringify(e)));const n=(await nt.scouts.toArray()).map(r=>r.name).sort();localStorage.setItem("scoutsList",JSON.stringify(n)),console.log(" Demo data loaded successfully!")},Ktt=async()=>{console.log(" Clearing demo data..."),await zr.scoutingData.where("eventKey").equals(xo).delete(),await qs.pitScoutingData.where("eventKey").equals(xo).delete(),await nt.scouts.clear(),await nt.predictions.where("eventKey").equals(xo).delete(),await nt.scoutAchievements.clear();const t=JSON.parse(localStorage.getItem("eventsList")||"[]").filter(n=>n!==xo);localStorage.setItem("eventsList",JSON.stringify(t)),localStorage.getItem("eventName")===xo&&localStorage.removeItem("eventName"),console.log(" Demo data cleared successfully!")},Gtt=async()=>{const e=await zr.scoutingData.where("eventKey").equals(xo).count(),t=await nt.scouts.count();return e>0||t>0};function Wtt(){const e=vue(QP(i.jsxs(Kn,{element:i.jsx(rke,{config:Btt,scoring:Ii,validation:Vtt,analysis:V7,transformation:qO,ui:{...ztt,StatusToggles:dZ,PitScoutingQuestions:PTe},children:i.jsx(ENe,{})}),children:[i.jsx(Kn,{index:!0,element:i.jsx(DNe,{logo:Nie,appName:"Maneuver 2026",version:"2026.0.1",onLoadDemoData:Utt,onClearData:Ktt,checkExistingData:Gtt,demoDataDescription:"Load sample data for 30 teams, 60 matches, 8 scouts with predictions, and pit scouting to explore all features",demoDataStats:"Demo data loaded! 30 teams, 60 matches, 8 scouts"})}),i.jsx(Kn,{path:"/game-start",element:i.jsx(GNe,{})}),i.jsx(Kn,{path:"/auto-start",element:i.jsx(ETe,{})}),i.jsx(Kn,{path:"/auto-scoring",element:i.jsx(TTe,{})}),i.jsx(Kn,{path:"/teleop-scoring",element:i.jsx(_Te,{})}),i.jsx(Kn,{path:"/endgame",element:i.jsx(DTe,{})}),i.jsx(Kn,{path:"/clear-data",element:i.jsx(ZNe,{})}),i.jsx(Kn,{path:"/pit-scouting",element:i.jsx(FTe,{})}),i.jsx(Kn,{path:"/api-data",element:i.jsx(GOe,{})}),i.jsx(Kn,{path:"/json-transfer",element:i.jsx(ZOe,{})}),i.jsx(Kn,{path:"/peer-transfer",element:i.jsx(xLe,{})}),i.jsx(Kn,{path:"/qr-transfer",element:i.jsx(bLe,{})}),i.jsx(Kn,{path:"/team-stats",element:i.jsx(xYe,{})}),i.jsx(Kn,{path:"/strategy-overview",element:i.jsx(AXe,{})}),i.jsx(Kn,{path:"/match-strategy",element:i.jsx(qXe,{})}),i.jsx(Kn,{path:"/pick-list",element:i.jsx(met,{})}),i.jsx(Kn,{path:"/scout-management",element:i.jsx(jet,{})}),i.jsx(Kn,{path:"/pit-assignments",element:i.jsx(Rtt,{})}),i.jsx(Kn,{path:"/achievements",element:i.jsx(ket,{})}),i.jsx(Kn,{path:"/match-validation",element:i.jsx(xtt,{})}),i.jsx(Kn,{path:"/dev-utilities",element:i.jsx(Fet,{})}),i.jsx(Kn,{path:"*",element:i.jsx(_Ne,{})})]})),{basename:"/Maneuver-2026"}),[t,n]=p.useState(!0);return p.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js"),window.addEventListener("beforeinstallprompt",()=>{$h.trackEvent("pwa_install_prompt_shown")}),window.matchMedia("(display-mode: standalone)").matches&&$h.trackPWALaunched()},[]),t?i.jsx(Itt,{onComplete:()=>n(!1)}):i.jsx(Tue,{defaultTheme:"system",storageKey:"vite-ui-theme",children:i.jsx(SCe,{children:i.jsx(Ott,{children:i.jsx(XOe,{children:i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(kue,{router:e}),i.jsx(Wke,{}),i.jsx(qke,{}),i.jsx(Mtt,{}),i.jsx(Ltt,{}),i.jsx($tt,{}),i.jsx(Ftt,{})]})})})})})}YK(document.getElementById("root")).render(i.jsx(p.StrictMode,{children:i.jsx(Wtt,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&window.dispatchEvent(new CustomEvent("sw-update-available",{detail:{waiting:t}}))})})}).catch(e=>{console.log("SW registration failed: ",e)})});
